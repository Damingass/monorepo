var __defProp = Object.defineProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
(function() {
  "use strict";
  class GraphDefinitionClass {
    constructor(definition) {
      __publicField(this, "definition");
      this.definition = definition;
      const validation = this.validate();
      if (!validation.valid) {
        throw new Error(`Invalid graph definition: ${validation.errors.join(", ")}`);
      }
    }
    /**
     * Validate the graph definition
     */
    validate() {
      const errors = [];
      if (!this.definition.nodes || Object.keys(this.definition.nodes).length === 0) {
        errors.push("Graph must have at least one node");
      }
      for (const [from, to] of this.definition.edges) {
        if (!this.definition.nodes[from]) {
          errors.push(`Edge references unknown source node: ${from}`);
        }
        if (!this.definition.nodes[to]) {
          errors.push(`Edge references unknown target node: ${to}`);
        }
      }
      const cycleCheck = this.detectCycles();
      if (!cycleCheck.valid) {
        errors.push(...cycleCheck.errors);
      }
      return {
        valid: errors.length === 0,
        errors
      };
    }
    /**
     * Build directed adjacency list from edges (for cycle detection)
     */
    buildDirectedAdjacencyList() {
      const adjacencyList = /* @__PURE__ */ new Map();
      for (const nodeId of Object.keys(this.definition.nodes)) {
        adjacencyList.set(nodeId, []);
      }
      for (const [from, to] of this.definition.edges) {
        const neighbors = adjacencyList.get(from) || [];
        neighbors.push(to);
        adjacencyList.set(from, neighbors);
      }
      return adjacencyList;
    }
    /**
     * Detect cycles in the graph using DFS
     */
    detectCycles() {
      const errors = [];
      const visited = /* @__PURE__ */ new Set();
      const recursionStack = /* @__PURE__ */ new Set();
      const adjacencyList = this.buildDirectedAdjacencyList();
      const dfs = (node, path) => {
        if (recursionStack.has(node)) {
          const cycleStart = path.indexOf(node);
          const cycle = path.slice(cycleStart).concat(node);
          errors.push(`Cycle detected: ${cycle.join(" -> ")}`);
          return true;
        }
        if (visited.has(node)) {
          return false;
        }
        visited.add(node);
        recursionStack.add(node);
        const neighbors = adjacencyList.get(node) || [];
        for (const neighbor of neighbors) {
          if (dfs(neighbor, [...path, node])) {
            return true;
          }
        }
        recursionStack.delete(node);
        return false;
      };
      for (const nodeId of Object.keys(this.definition.nodes)) {
        if (!visited.has(nodeId)) {
          dfs(nodeId, []);
        }
      }
      return {
        valid: errors.length === 0,
        errors
      };
    }
    /**
     * Build adjacency list from edges (bidirectional)
     */
    buildAdjacencyList() {
      const adjacencyList = /* @__PURE__ */ new Map();
      for (const nodeId of Object.keys(this.definition.nodes)) {
        adjacencyList.set(nodeId, []);
      }
      for (const [from, to] of this.definition.edges) {
        const fromNeighbors = adjacencyList.get(from) || [];
        fromNeighbors.push(to);
        adjacencyList.set(from, fromNeighbors);
        const toNeighbors = adjacencyList.get(to) || [];
        toNeighbors.push(from);
        adjacencyList.set(to, toNeighbors);
      }
      return adjacencyList;
    }
    /**
     * Get all neighbors of a node
     */
    getNeighbors(nodeId) {
      const adjacencyList = this.buildAdjacencyList();
      return adjacencyList.get(nodeId) || [];
    }
    /**
     * Get node definition
     */
    getNode(nodeId) {
      return this.definition.nodes[nodeId];
    }
    /**
     * Get all node IDs
     */
    getNodeIds() {
      return Object.keys(this.definition.nodes);
    }
    /**
     * Check if edge exists between two nodes (bidirectional)
     */
    hasEdge(from, to) {
      return this.definition.edges.some(
        ([f, t]) => f === from && t === to || f === to && t === from
      );
    }
    /**
     * Find path between two nodes using BFS
     * Returns shortest path as array of node IDs, or null if no path exists
     */
    findPath(from, to) {
      if (from === to) {
        return [from];
      }
      const adjacencyList = this.buildAdjacencyList();
      const queue = [{ nodeId: from, path: [from] }];
      const visited = /* @__PURE__ */ new Set();
      while (queue.length > 0) {
        const { nodeId, path } = queue.shift();
        if (visited.has(nodeId)) {
          continue;
        }
        visited.add(nodeId);
        if (nodeId === to) {
          return path;
        }
        const neighbors = adjacencyList.get(nodeId) || [];
        for (const neighbor of neighbors) {
          if (!visited.has(neighbor)) {
            queue.push({ nodeId: neighbor, path: [...path, neighbor] });
          }
        }
      }
      return null;
    }
    /**
     * Check if there's a path between two nodes (direct or indirect)
     */
    hasPath(from, to) {
      return this.findPath(from, to) !== null;
    }
    /**
     * Get the raw definition
     */
    getDefinition() {
      return { ...this.definition };
    }
  }
  const createStoreImpl = (createState) => {
    let state;
    const listeners = /* @__PURE__ */ new Set();
    const setState = (partial, replace) => {
      const nextState = typeof partial === "function" ? partial(state) : partial;
      if (!Object.is(nextState, state)) {
        const previousState = state;
        state = (replace != null ? replace : typeof nextState !== "object" || nextState === null) ? nextState : Object.assign({}, state, nextState);
        listeners.forEach((listener) => listener(state, previousState));
      }
    };
    const getState = () => state;
    const getInitialState = () => initialState;
    const subscribe = (listener) => {
      listeners.add(listener);
      return () => listeners.delete(listener);
    };
    const api = { setState, getState, getInitialState, subscribe };
    const initialState = state = createState(setState, getState, api);
    return api;
  };
  const createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;
  var util$1;
  (function(util2) {
    util2.assertEqual = (_) => {
    };
    function assertIs(_arg) {
    }
    util2.assertIs = assertIs;
    function assertNever(_x) {
      throw new Error();
    }
    util2.assertNever = assertNever;
    util2.arrayToEnum = (items2) => {
      const obj = {};
      for (const item of items2) {
        obj[item] = item;
      }
      return obj;
    };
    util2.getValidEnumValues = (obj) => {
      const validKeys = util2.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== "number");
      const filtered = {};
      for (const k of validKeys) {
        filtered[k] = obj[k];
      }
      return util2.objectValues(filtered);
    };
    util2.objectValues = (obj) => {
      return util2.objectKeys(obj).map(function(e) {
        return obj[e];
      });
    };
    util2.objectKeys = typeof Object.keys === "function" ? (obj) => Object.keys(obj) : (object) => {
      const keys = [];
      for (const key in object) {
        if (Object.prototype.hasOwnProperty.call(object, key)) {
          keys.push(key);
        }
      }
      return keys;
    };
    util2.find = (arr, checker) => {
      for (const item of arr) {
        if (checker(item))
          return item;
      }
      return void 0;
    };
    util2.isInteger = typeof Number.isInteger === "function" ? (val) => Number.isInteger(val) : (val) => typeof val === "number" && Number.isFinite(val) && Math.floor(val) === val;
    function joinValues(array, separator = " | ") {
      return array.map((val) => typeof val === "string" ? `'${val}'` : val).join(separator);
    }
    util2.joinValues = joinValues;
    util2.jsonStringifyReplacer = (_, value) => {
      if (typeof value === "bigint") {
        return value.toString();
      }
      return value;
    };
  })(util$1 || (util$1 = {}));
  var objectUtil;
  (function(objectUtil2) {
    objectUtil2.mergeShapes = (first, second) => {
      return {
        ...first,
        ...second
        // second overwrites first
      };
    };
  })(objectUtil || (objectUtil = {}));
  const ZodParsedType = util$1.arrayToEnum([
    "string",
    "nan",
    "number",
    "integer",
    "float",
    "boolean",
    "date",
    "bigint",
    "symbol",
    "function",
    "undefined",
    "null",
    "array",
    "object",
    "unknown",
    "promise",
    "void",
    "never",
    "map",
    "set"
  ]);
  const getParsedType = (data2) => {
    const t = typeof data2;
    switch (t) {
      case "undefined":
        return ZodParsedType.undefined;
      case "string":
        return ZodParsedType.string;
      case "number":
        return Number.isNaN(data2) ? ZodParsedType.nan : ZodParsedType.number;
      case "boolean":
        return ZodParsedType.boolean;
      case "function":
        return ZodParsedType.function;
      case "bigint":
        return ZodParsedType.bigint;
      case "symbol":
        return ZodParsedType.symbol;
      case "object":
        if (Array.isArray(data2)) {
          return ZodParsedType.array;
        }
        if (data2 === null) {
          return ZodParsedType.null;
        }
        if (data2.then && typeof data2.then === "function" && data2.catch && typeof data2.catch === "function") {
          return ZodParsedType.promise;
        }
        if (typeof Map !== "undefined" && data2 instanceof Map) {
          return ZodParsedType.map;
        }
        if (typeof Set !== "undefined" && data2 instanceof Set) {
          return ZodParsedType.set;
        }
        if (typeof Date !== "undefined" && data2 instanceof Date) {
          return ZodParsedType.date;
        }
        return ZodParsedType.object;
      default:
        return ZodParsedType.unknown;
    }
  };
  const ZodIssueCode = util$1.arrayToEnum([
    "invalid_type",
    "invalid_literal",
    "custom",
    "invalid_union",
    "invalid_union_discriminator",
    "invalid_enum_value",
    "unrecognized_keys",
    "invalid_arguments",
    "invalid_return_type",
    "invalid_date",
    "invalid_string",
    "too_small",
    "too_big",
    "invalid_intersection_types",
    "not_multiple_of",
    "not_finite"
  ]);
  class ZodError extends Error {
    get errors() {
      return this.issues;
    }
    constructor(issues) {
      super();
      this.issues = [];
      this.addIssue = (sub) => {
        this.issues = [...this.issues, sub];
      };
      this.addIssues = (subs = []) => {
        this.issues = [...this.issues, ...subs];
      };
      const actualProto = new.target.prototype;
      if (Object.setPrototypeOf) {
        Object.setPrototypeOf(this, actualProto);
      } else {
        this.__proto__ = actualProto;
      }
      this.name = "ZodError";
      this.issues = issues;
    }
    format(_mapper) {
      const mapper = _mapper || function(issue) {
        return issue.message;
      };
      const fieldErrors = { _errors: [] };
      const processError = (error) => {
        for (const issue of error.issues) {
          if (issue.code === "invalid_union") {
            issue.unionErrors.map(processError);
          } else if (issue.code === "invalid_return_type") {
            processError(issue.returnTypeError);
          } else if (issue.code === "invalid_arguments") {
            processError(issue.argumentsError);
          } else if (issue.path.length === 0) {
            fieldErrors._errors.push(mapper(issue));
          } else {
            let curr = fieldErrors;
            let i = 0;
            while (i < issue.path.length) {
              const el = issue.path[i];
              const terminal = i === issue.path.length - 1;
              if (!terminal) {
                curr[el] = curr[el] || { _errors: [] };
              } else {
                curr[el] = curr[el] || { _errors: [] };
                curr[el]._errors.push(mapper(issue));
              }
              curr = curr[el];
              i++;
            }
          }
        }
      };
      processError(this);
      return fieldErrors;
    }
    static assert(value) {
      if (!(value instanceof ZodError)) {
        throw new Error(`Not a ZodError: ${value}`);
      }
    }
    toString() {
      return this.message;
    }
    get message() {
      return JSON.stringify(this.issues, util$1.jsonStringifyReplacer, 2);
    }
    get isEmpty() {
      return this.issues.length === 0;
    }
    flatten(mapper = (issue) => issue.message) {
      const fieldErrors = {};
      const formErrors = [];
      for (const sub of this.issues) {
        if (sub.path.length > 0) {
          const firstEl = sub.path[0];
          fieldErrors[firstEl] = fieldErrors[firstEl] || [];
          fieldErrors[firstEl].push(mapper(sub));
        } else {
          formErrors.push(mapper(sub));
        }
      }
      return { formErrors, fieldErrors };
    }
    get formErrors() {
      return this.flatten();
    }
  }
  ZodError.create = (issues) => {
    const error = new ZodError(issues);
    return error;
  };
  const errorMap = (issue, _ctx) => {
    let message;
    switch (issue.code) {
      case ZodIssueCode.invalid_type:
        if (issue.received === ZodParsedType.undefined) {
          message = "Required";
        } else {
          message = `Expected ${issue.expected}, received ${issue.received}`;
        }
        break;
      case ZodIssueCode.invalid_literal:
        message = `Invalid literal value, expected ${JSON.stringify(issue.expected, util$1.jsonStringifyReplacer)}`;
        break;
      case ZodIssueCode.unrecognized_keys:
        message = `Unrecognized key(s) in object: ${util$1.joinValues(issue.keys, ", ")}`;
        break;
      case ZodIssueCode.invalid_union:
        message = `Invalid input`;
        break;
      case ZodIssueCode.invalid_union_discriminator:
        message = `Invalid discriminator value. Expected ${util$1.joinValues(issue.options)}`;
        break;
      case ZodIssueCode.invalid_enum_value:
        message = `Invalid enum value. Expected ${util$1.joinValues(issue.options)}, received '${issue.received}'`;
        break;
      case ZodIssueCode.invalid_arguments:
        message = `Invalid function arguments`;
        break;
      case ZodIssueCode.invalid_return_type:
        message = `Invalid function return type`;
        break;
      case ZodIssueCode.invalid_date:
        message = `Invalid date`;
        break;
      case ZodIssueCode.invalid_string:
        if (typeof issue.validation === "object") {
          if ("includes" in issue.validation) {
            message = `Invalid input: must include "${issue.validation.includes}"`;
            if (typeof issue.validation.position === "number") {
              message = `${message} at one or more positions greater than or equal to ${issue.validation.position}`;
            }
          } else if ("startsWith" in issue.validation) {
            message = `Invalid input: must start with "${issue.validation.startsWith}"`;
          } else if ("endsWith" in issue.validation) {
            message = `Invalid input: must end with "${issue.validation.endsWith}"`;
          } else {
            util$1.assertNever(issue.validation);
          }
        } else if (issue.validation !== "regex") {
          message = `Invalid ${issue.validation}`;
        } else {
          message = "Invalid";
        }
        break;
      case ZodIssueCode.too_small:
        if (issue.type === "array")
          message = `Array must contain ${issue.exact ? "exactly" : issue.inclusive ? `at least` : `more than`} ${issue.minimum} element(s)`;
        else if (issue.type === "string")
          message = `String must contain ${issue.exact ? "exactly" : issue.inclusive ? `at least` : `over`} ${issue.minimum} character(s)`;
        else if (issue.type === "number")
          message = `Number must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${issue.minimum}`;
        else if (issue.type === "bigint")
          message = `Number must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${issue.minimum}`;
        else if (issue.type === "date")
          message = `Date must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${new Date(Number(issue.minimum))}`;
        else
          message = "Invalid input";
        break;
      case ZodIssueCode.too_big:
        if (issue.type === "array")
          message = `Array must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `less than`} ${issue.maximum} element(s)`;
        else if (issue.type === "string")
          message = `String must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `under`} ${issue.maximum} character(s)`;
        else if (issue.type === "number")
          message = `Number must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;
        else if (issue.type === "bigint")
          message = `BigInt must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;
        else if (issue.type === "date")
          message = `Date must be ${issue.exact ? `exactly` : issue.inclusive ? `smaller than or equal to` : `smaller than`} ${new Date(Number(issue.maximum))}`;
        else
          message = "Invalid input";
        break;
      case ZodIssueCode.custom:
        message = `Invalid input`;
        break;
      case ZodIssueCode.invalid_intersection_types:
        message = `Intersection results could not be merged`;
        break;
      case ZodIssueCode.not_multiple_of:
        message = `Number must be a multiple of ${issue.multipleOf}`;
        break;
      case ZodIssueCode.not_finite:
        message = "Number must be finite";
        break;
      default:
        message = _ctx.defaultError;
        util$1.assertNever(issue);
    }
    return { message };
  };
  let overrideErrorMap = errorMap;
  function getErrorMap() {
    return overrideErrorMap;
  }
  const makeIssue = (params) => {
    const { data: data2, path, errorMaps, issueData } = params;
    const fullPath = [...path, ...issueData.path || []];
    const fullIssue = {
      ...issueData,
      path: fullPath
    };
    if (issueData.message !== void 0) {
      return {
        ...issueData,
        path: fullPath,
        message: issueData.message
      };
    }
    let errorMessage = "";
    const maps = errorMaps.filter((m) => !!m).slice().reverse();
    for (const map of maps) {
      errorMessage = map(fullIssue, { data: data2, defaultError: errorMessage }).message;
    }
    return {
      ...issueData,
      path: fullPath,
      message: errorMessage
    };
  };
  function addIssueToContext(ctx, issueData) {
    const overrideMap = getErrorMap();
    const issue = makeIssue({
      issueData,
      data: ctx.data,
      path: ctx.path,
      errorMaps: [
        ctx.common.contextualErrorMap,
        // contextual error map is first priority
        ctx.schemaErrorMap,
        // then schema-bound map if available
        overrideMap,
        // then global override map
        overrideMap === errorMap ? void 0 : errorMap
        // then global default map
      ].filter((x) => !!x)
    });
    ctx.common.issues.push(issue);
  }
  class ParseStatus {
    constructor() {
      this.value = "valid";
    }
    dirty() {
      if (this.value === "valid")
        this.value = "dirty";
    }
    abort() {
      if (this.value !== "aborted")
        this.value = "aborted";
    }
    static mergeArray(status, results) {
      const arrayValue = [];
      for (const s of results) {
        if (s.status === "aborted")
          return INVALID;
        if (s.status === "dirty")
          status.dirty();
        arrayValue.push(s.value);
      }
      return { status: status.value, value: arrayValue };
    }
    static async mergeObjectAsync(status, pairs) {
      const syncPairs = [];
      for (const pair of pairs) {
        const key = await pair.key;
        const value = await pair.value;
        syncPairs.push({
          key,
          value
        });
      }
      return ParseStatus.mergeObjectSync(status, syncPairs);
    }
    static mergeObjectSync(status, pairs) {
      const finalObject = {};
      for (const pair of pairs) {
        const { key, value } = pair;
        if (key.status === "aborted")
          return INVALID;
        if (value.status === "aborted")
          return INVALID;
        if (key.status === "dirty")
          status.dirty();
        if (value.status === "dirty")
          status.dirty();
        if (key.value !== "__proto__" && (typeof value.value !== "undefined" || pair.alwaysSet)) {
          finalObject[key.value] = value.value;
        }
      }
      return { status: status.value, value: finalObject };
    }
  }
  const INVALID = Object.freeze({
    status: "aborted"
  });
  const DIRTY = (value) => ({ status: "dirty", value });
  const OK = (value) => ({ status: "valid", value });
  const isAborted = (x) => x.status === "aborted";
  const isDirty = (x) => x.status === "dirty";
  const isValid = (x) => x.status === "valid";
  const isAsync = (x) => typeof Promise !== "undefined" && x instanceof Promise;
  var errorUtil;
  (function(errorUtil2) {
    errorUtil2.errToObj = (message) => typeof message === "string" ? { message } : message || {};
    errorUtil2.toString = (message) => typeof message === "string" ? message : message == null ? void 0 : message.message;
  })(errorUtil || (errorUtil = {}));
  class ParseInputLazyPath {
    constructor(parent, value, path, key) {
      this._cachedPath = [];
      this.parent = parent;
      this.data = value;
      this._path = path;
      this._key = key;
    }
    get path() {
      if (!this._cachedPath.length) {
        if (Array.isArray(this._key)) {
          this._cachedPath.push(...this._path, ...this._key);
        } else {
          this._cachedPath.push(...this._path, this._key);
        }
      }
      return this._cachedPath;
    }
  }
  const handleResult = (ctx, result) => {
    if (isValid(result)) {
      return { success: true, data: result.value };
    } else {
      if (!ctx.common.issues.length) {
        throw new Error("Validation failed but no issues detected.");
      }
      return {
        success: false,
        get error() {
          if (this._error)
            return this._error;
          const error = new ZodError(ctx.common.issues);
          this._error = error;
          return this._error;
        }
      };
    }
  };
  function processCreateParams(params) {
    if (!params)
      return {};
    const { errorMap: errorMap2, invalid_type_error, required_error, description: description2 } = params;
    if (errorMap2 && (invalid_type_error || required_error)) {
      throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);
    }
    if (errorMap2)
      return { errorMap: errorMap2, description: description2 };
    const customMap = (iss, ctx) => {
      const { message } = params;
      if (iss.code === "invalid_enum_value") {
        return { message: message ?? ctx.defaultError };
      }
      if (typeof ctx.data === "undefined") {
        return { message: message ?? required_error ?? ctx.defaultError };
      }
      if (iss.code !== "invalid_type")
        return { message: ctx.defaultError };
      return { message: message ?? invalid_type_error ?? ctx.defaultError };
    };
    return { errorMap: customMap, description: description2 };
  }
  class ZodType {
    get description() {
      return this._def.description;
    }
    _getType(input) {
      return getParsedType(input.data);
    }
    _getOrReturnCtx(input, ctx) {
      return ctx || {
        common: input.parent.common,
        data: input.data,
        parsedType: getParsedType(input.data),
        schemaErrorMap: this._def.errorMap,
        path: input.path,
        parent: input.parent
      };
    }
    _processInputParams(input) {
      return {
        status: new ParseStatus(),
        ctx: {
          common: input.parent.common,
          data: input.data,
          parsedType: getParsedType(input.data),
          schemaErrorMap: this._def.errorMap,
          path: input.path,
          parent: input.parent
        }
      };
    }
    _parseSync(input) {
      const result = this._parse(input);
      if (isAsync(result)) {
        throw new Error("Synchronous parse encountered promise.");
      }
      return result;
    }
    _parseAsync(input) {
      const result = this._parse(input);
      return Promise.resolve(result);
    }
    parse(data2, params) {
      const result = this.safeParse(data2, params);
      if (result.success)
        return result.data;
      throw result.error;
    }
    safeParse(data2, params) {
      const ctx = {
        common: {
          issues: [],
          async: (params == null ? void 0 : params.async) ?? false,
          contextualErrorMap: params == null ? void 0 : params.errorMap
        },
        path: (params == null ? void 0 : params.path) || [],
        schemaErrorMap: this._def.errorMap,
        parent: null,
        data: data2,
        parsedType: getParsedType(data2)
      };
      const result = this._parseSync({ data: data2, path: ctx.path, parent: ctx });
      return handleResult(ctx, result);
    }
    "~validate"(data2) {
      var _a, _b;
      const ctx = {
        common: {
          issues: [],
          async: !!this["~standard"].async
        },
        path: [],
        schemaErrorMap: this._def.errorMap,
        parent: null,
        data: data2,
        parsedType: getParsedType(data2)
      };
      if (!this["~standard"].async) {
        try {
          const result = this._parseSync({ data: data2, path: [], parent: ctx });
          return isValid(result) ? {
            value: result.value
          } : {
            issues: ctx.common.issues
          };
        } catch (err) {
          if ((_b = (_a = err == null ? void 0 : err.message) == null ? void 0 : _a.toLowerCase()) == null ? void 0 : _b.includes("encountered")) {
            this["~standard"].async = true;
          }
          ctx.common = {
            issues: [],
            async: true
          };
        }
      }
      return this._parseAsync({ data: data2, path: [], parent: ctx }).then((result) => isValid(result) ? {
        value: result.value
      } : {
        issues: ctx.common.issues
      });
    }
    async parseAsync(data2, params) {
      const result = await this.safeParseAsync(data2, params);
      if (result.success)
        return result.data;
      throw result.error;
    }
    async safeParseAsync(data2, params) {
      const ctx = {
        common: {
          issues: [],
          contextualErrorMap: params == null ? void 0 : params.errorMap,
          async: true
        },
        path: (params == null ? void 0 : params.path) || [],
        schemaErrorMap: this._def.errorMap,
        parent: null,
        data: data2,
        parsedType: getParsedType(data2)
      };
      const maybeAsyncResult = this._parse({ data: data2, path: ctx.path, parent: ctx });
      const result = await (isAsync(maybeAsyncResult) ? maybeAsyncResult : Promise.resolve(maybeAsyncResult));
      return handleResult(ctx, result);
    }
    refine(check, message) {
      const getIssueProperties = (val) => {
        if (typeof message === "string" || typeof message === "undefined") {
          return { message };
        } else if (typeof message === "function") {
          return message(val);
        } else {
          return message;
        }
      };
      return this._refinement((val, ctx) => {
        const result = check(val);
        const setError = () => ctx.addIssue({
          code: ZodIssueCode.custom,
          ...getIssueProperties(val)
        });
        if (typeof Promise !== "undefined" && result instanceof Promise) {
          return result.then((data2) => {
            if (!data2) {
              setError();
              return false;
            } else {
              return true;
            }
          });
        }
        if (!result) {
          setError();
          return false;
        } else {
          return true;
        }
      });
    }
    refinement(check, refinementData) {
      return this._refinement((val, ctx) => {
        if (!check(val)) {
          ctx.addIssue(typeof refinementData === "function" ? refinementData(val, ctx) : refinementData);
          return false;
        } else {
          return true;
        }
      });
    }
    _refinement(refinement) {
      return new ZodEffects({
        schema: this,
        typeName: ZodFirstPartyTypeKind.ZodEffects,
        effect: { type: "refinement", refinement }
      });
    }
    superRefine(refinement) {
      return this._refinement(refinement);
    }
    constructor(def) {
      this.spa = this.safeParseAsync;
      this._def = def;
      this.parse = this.parse.bind(this);
      this.safeParse = this.safeParse.bind(this);
      this.parseAsync = this.parseAsync.bind(this);
      this.safeParseAsync = this.safeParseAsync.bind(this);
      this.spa = this.spa.bind(this);
      this.refine = this.refine.bind(this);
      this.refinement = this.refinement.bind(this);
      this.superRefine = this.superRefine.bind(this);
      this.optional = this.optional.bind(this);
      this.nullable = this.nullable.bind(this);
      this.nullish = this.nullish.bind(this);
      this.array = this.array.bind(this);
      this.promise = this.promise.bind(this);
      this.or = this.or.bind(this);
      this.and = this.and.bind(this);
      this.transform = this.transform.bind(this);
      this.brand = this.brand.bind(this);
      this.default = this.default.bind(this);
      this.catch = this.catch.bind(this);
      this.describe = this.describe.bind(this);
      this.pipe = this.pipe.bind(this);
      this.readonly = this.readonly.bind(this);
      this.isNullable = this.isNullable.bind(this);
      this.isOptional = this.isOptional.bind(this);
      this["~standard"] = {
        version: 1,
        vendor: "zod",
        validate: (data2) => this["~validate"](data2)
      };
    }
    optional() {
      return ZodOptional.create(this, this._def);
    }
    nullable() {
      return ZodNullable.create(this, this._def);
    }
    nullish() {
      return this.nullable().optional();
    }
    array() {
      return ZodArray.create(this);
    }
    promise() {
      return ZodPromise.create(this, this._def);
    }
    or(option) {
      return ZodUnion.create([this, option], this._def);
    }
    and(incoming) {
      return ZodIntersection.create(this, incoming, this._def);
    }
    transform(transform) {
      return new ZodEffects({
        ...processCreateParams(this._def),
        schema: this,
        typeName: ZodFirstPartyTypeKind.ZodEffects,
        effect: { type: "transform", transform }
      });
    }
    default(def) {
      const defaultValueFunc = typeof def === "function" ? def : () => def;
      return new ZodDefault({
        ...processCreateParams(this._def),
        innerType: this,
        defaultValue: defaultValueFunc,
        typeName: ZodFirstPartyTypeKind.ZodDefault
      });
    }
    brand() {
      return new ZodBranded({
        typeName: ZodFirstPartyTypeKind.ZodBranded,
        type: this,
        ...processCreateParams(this._def)
      });
    }
    catch(def) {
      const catchValueFunc = typeof def === "function" ? def : () => def;
      return new ZodCatch({
        ...processCreateParams(this._def),
        innerType: this,
        catchValue: catchValueFunc,
        typeName: ZodFirstPartyTypeKind.ZodCatch
      });
    }
    describe(description2) {
      const This = this.constructor;
      return new This({
        ...this._def,
        description: description2
      });
    }
    pipe(target) {
      return ZodPipeline.create(this, target);
    }
    readonly() {
      return ZodReadonly.create(this);
    }
    isOptional() {
      return this.safeParse(void 0).success;
    }
    isNullable() {
      return this.safeParse(null).success;
    }
  }
  const cuidRegex = /^c[^\s-]{8,}$/i;
  const cuid2Regex = /^[0-9a-z]+$/;
  const ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/i;
  const uuidRegex = /^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i;
  const nanoidRegex = /^[a-z0-9_-]{21}$/i;
  const jwtRegex = /^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;
  const durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/;
  const emailRegex = /^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;
  const _emojiRegex = `^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$`;
  let emojiRegex;
  const ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;
  const ipv4CidrRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/;
  const ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;
  const ipv6CidrRegex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;
  const base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;
  const base64urlRegex = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/;
  const dateRegexSource = `((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))`;
  const dateRegex = new RegExp(`^${dateRegexSource}$`);
  function timeRegexSource(args) {
    let secondsRegexSource = `[0-5]\\d`;
    if (args.precision) {
      secondsRegexSource = `${secondsRegexSource}\\.\\d{${args.precision}}`;
    } else if (args.precision == null) {
      secondsRegexSource = `${secondsRegexSource}(\\.\\d+)?`;
    }
    const secondsQuantifier = args.precision ? "+" : "?";
    return `([01]\\d|2[0-3]):[0-5]\\d(:${secondsRegexSource})${secondsQuantifier}`;
  }
  function timeRegex(args) {
    return new RegExp(`^${timeRegexSource(args)}$`);
  }
  function datetimeRegex(args) {
    let regex = `${dateRegexSource}T${timeRegexSource(args)}`;
    const opts = [];
    opts.push(args.local ? `Z?` : `Z`);
    if (args.offset)
      opts.push(`([+-]\\d{2}:?\\d{2})`);
    regex = `${regex}(${opts.join("|")})`;
    return new RegExp(`^${regex}$`);
  }
  function isValidIP(ip, version) {
    if ((version === "v4" || !version) && ipv4Regex.test(ip)) {
      return true;
    }
    if ((version === "v6" || !version) && ipv6Regex.test(ip)) {
      return true;
    }
    return false;
  }
  function isValidJWT(jwt, alg) {
    if (!jwtRegex.test(jwt))
      return false;
    try {
      const [header] = jwt.split(".");
      if (!header)
        return false;
      const base64 = header.replace(/-/g, "+").replace(/_/g, "/").padEnd(header.length + (4 - header.length % 4) % 4, "=");
      const decoded = JSON.parse(atob(base64));
      if (typeof decoded !== "object" || decoded === null)
        return false;
      if ("typ" in decoded && (decoded == null ? void 0 : decoded.typ) !== "JWT")
        return false;
      if (!decoded.alg)
        return false;
      if (alg && decoded.alg !== alg)
        return false;
      return true;
    } catch {
      return false;
    }
  }
  function isValidCidr(ip, version) {
    if ((version === "v4" || !version) && ipv4CidrRegex.test(ip)) {
      return true;
    }
    if ((version === "v6" || !version) && ipv6CidrRegex.test(ip)) {
      return true;
    }
    return false;
  }
  class ZodString extends ZodType {
    _parse(input) {
      if (this._def.coerce) {
        input.data = String(input.data);
      }
      const parsedType = this._getType(input);
      if (parsedType !== ZodParsedType.string) {
        const ctx2 = this._getOrReturnCtx(input);
        addIssueToContext(ctx2, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.string,
          received: ctx2.parsedType
        });
        return INVALID;
      }
      const status = new ParseStatus();
      let ctx = void 0;
      for (const check of this._def.checks) {
        if (check.kind === "min") {
          if (input.data.length < check.value) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.too_small,
              minimum: check.value,
              type: "string",
              inclusive: true,
              exact: false,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "max") {
          if (input.data.length > check.value) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.too_big,
              maximum: check.value,
              type: "string",
              inclusive: true,
              exact: false,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "length") {
          const tooBig = input.data.length > check.value;
          const tooSmall = input.data.length < check.value;
          if (tooBig || tooSmall) {
            ctx = this._getOrReturnCtx(input, ctx);
            if (tooBig) {
              addIssueToContext(ctx, {
                code: ZodIssueCode.too_big,
                maximum: check.value,
                type: "string",
                inclusive: true,
                exact: true,
                message: check.message
              });
            } else if (tooSmall) {
              addIssueToContext(ctx, {
                code: ZodIssueCode.too_small,
                minimum: check.value,
                type: "string",
                inclusive: true,
                exact: true,
                message: check.message
              });
            }
            status.dirty();
          }
        } else if (check.kind === "email") {
          if (!emailRegex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "email",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "emoji") {
          if (!emojiRegex) {
            emojiRegex = new RegExp(_emojiRegex, "u");
          }
          if (!emojiRegex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "emoji",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "uuid") {
          if (!uuidRegex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "uuid",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "nanoid") {
          if (!nanoidRegex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "nanoid",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "cuid") {
          if (!cuidRegex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "cuid",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "cuid2") {
          if (!cuid2Regex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "cuid2",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "ulid") {
          if (!ulidRegex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "ulid",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "url") {
          try {
            new URL(input.data);
          } catch {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "url",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "regex") {
          check.regex.lastIndex = 0;
          const testResult = check.regex.test(input.data);
          if (!testResult) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "regex",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "trim") {
          input.data = input.data.trim();
        } else if (check.kind === "includes") {
          if (!input.data.includes(check.value, check.position)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.invalid_string,
              validation: { includes: check.value, position: check.position },
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "toLowerCase") {
          input.data = input.data.toLowerCase();
        } else if (check.kind === "toUpperCase") {
          input.data = input.data.toUpperCase();
        } else if (check.kind === "startsWith") {
          if (!input.data.startsWith(check.value)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.invalid_string,
              validation: { startsWith: check.value },
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "endsWith") {
          if (!input.data.endsWith(check.value)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.invalid_string,
              validation: { endsWith: check.value },
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "datetime") {
          const regex = datetimeRegex(check);
          if (!regex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.invalid_string,
              validation: "datetime",
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "date") {
          const regex = dateRegex;
          if (!regex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.invalid_string,
              validation: "date",
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "time") {
          const regex = timeRegex(check);
          if (!regex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.invalid_string,
              validation: "time",
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "duration") {
          if (!durationRegex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "duration",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "ip") {
          if (!isValidIP(input.data, check.version)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "ip",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "jwt") {
          if (!isValidJWT(input.data, check.alg)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "jwt",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "cidr") {
          if (!isValidCidr(input.data, check.version)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "cidr",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "base64") {
          if (!base64Regex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "base64",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "base64url") {
          if (!base64urlRegex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "base64url",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else {
          util$1.assertNever(check);
        }
      }
      return { status: status.value, value: input.data };
    }
    _regex(regex, validation, message) {
      return this.refinement((data2) => regex.test(data2), {
        validation,
        code: ZodIssueCode.invalid_string,
        ...errorUtil.errToObj(message)
      });
    }
    _addCheck(check) {
      return new ZodString({
        ...this._def,
        checks: [...this._def.checks, check]
      });
    }
    email(message) {
      return this._addCheck({ kind: "email", ...errorUtil.errToObj(message) });
    }
    url(message) {
      return this._addCheck({ kind: "url", ...errorUtil.errToObj(message) });
    }
    emoji(message) {
      return this._addCheck({ kind: "emoji", ...errorUtil.errToObj(message) });
    }
    uuid(message) {
      return this._addCheck({ kind: "uuid", ...errorUtil.errToObj(message) });
    }
    nanoid(message) {
      return this._addCheck({ kind: "nanoid", ...errorUtil.errToObj(message) });
    }
    cuid(message) {
      return this._addCheck({ kind: "cuid", ...errorUtil.errToObj(message) });
    }
    cuid2(message) {
      return this._addCheck({ kind: "cuid2", ...errorUtil.errToObj(message) });
    }
    ulid(message) {
      return this._addCheck({ kind: "ulid", ...errorUtil.errToObj(message) });
    }
    base64(message) {
      return this._addCheck({ kind: "base64", ...errorUtil.errToObj(message) });
    }
    base64url(message) {
      return this._addCheck({
        kind: "base64url",
        ...errorUtil.errToObj(message)
      });
    }
    jwt(options) {
      return this._addCheck({ kind: "jwt", ...errorUtil.errToObj(options) });
    }
    ip(options) {
      return this._addCheck({ kind: "ip", ...errorUtil.errToObj(options) });
    }
    cidr(options) {
      return this._addCheck({ kind: "cidr", ...errorUtil.errToObj(options) });
    }
    datetime(options) {
      if (typeof options === "string") {
        return this._addCheck({
          kind: "datetime",
          precision: null,
          offset: false,
          local: false,
          message: options
        });
      }
      return this._addCheck({
        kind: "datetime",
        precision: typeof (options == null ? void 0 : options.precision) === "undefined" ? null : options == null ? void 0 : options.precision,
        offset: (options == null ? void 0 : options.offset) ?? false,
        local: (options == null ? void 0 : options.local) ?? false,
        ...errorUtil.errToObj(options == null ? void 0 : options.message)
      });
    }
    date(message) {
      return this._addCheck({ kind: "date", message });
    }
    time(options) {
      if (typeof options === "string") {
        return this._addCheck({
          kind: "time",
          precision: null,
          message: options
        });
      }
      return this._addCheck({
        kind: "time",
        precision: typeof (options == null ? void 0 : options.precision) === "undefined" ? null : options == null ? void 0 : options.precision,
        ...errorUtil.errToObj(options == null ? void 0 : options.message)
      });
    }
    duration(message) {
      return this._addCheck({ kind: "duration", ...errorUtil.errToObj(message) });
    }
    regex(regex, message) {
      return this._addCheck({
        kind: "regex",
        regex,
        ...errorUtil.errToObj(message)
      });
    }
    includes(value, options) {
      return this._addCheck({
        kind: "includes",
        value,
        position: options == null ? void 0 : options.position,
        ...errorUtil.errToObj(options == null ? void 0 : options.message)
      });
    }
    startsWith(value, message) {
      return this._addCheck({
        kind: "startsWith",
        value,
        ...errorUtil.errToObj(message)
      });
    }
    endsWith(value, message) {
      return this._addCheck({
        kind: "endsWith",
        value,
        ...errorUtil.errToObj(message)
      });
    }
    min(minLength, message) {
      return this._addCheck({
        kind: "min",
        value: minLength,
        ...errorUtil.errToObj(message)
      });
    }
    max(maxLength, message) {
      return this._addCheck({
        kind: "max",
        value: maxLength,
        ...errorUtil.errToObj(message)
      });
    }
    length(len, message) {
      return this._addCheck({
        kind: "length",
        value: len,
        ...errorUtil.errToObj(message)
      });
    }
    /**
     * Equivalent to `.min(1)`
     */
    nonempty(message) {
      return this.min(1, errorUtil.errToObj(message));
    }
    trim() {
      return new ZodString({
        ...this._def,
        checks: [...this._def.checks, { kind: "trim" }]
      });
    }
    toLowerCase() {
      return new ZodString({
        ...this._def,
        checks: [...this._def.checks, { kind: "toLowerCase" }]
      });
    }
    toUpperCase() {
      return new ZodString({
        ...this._def,
        checks: [...this._def.checks, { kind: "toUpperCase" }]
      });
    }
    get isDatetime() {
      return !!this._def.checks.find((ch) => ch.kind === "datetime");
    }
    get isDate() {
      return !!this._def.checks.find((ch) => ch.kind === "date");
    }
    get isTime() {
      return !!this._def.checks.find((ch) => ch.kind === "time");
    }
    get isDuration() {
      return !!this._def.checks.find((ch) => ch.kind === "duration");
    }
    get isEmail() {
      return !!this._def.checks.find((ch) => ch.kind === "email");
    }
    get isURL() {
      return !!this._def.checks.find((ch) => ch.kind === "url");
    }
    get isEmoji() {
      return !!this._def.checks.find((ch) => ch.kind === "emoji");
    }
    get isUUID() {
      return !!this._def.checks.find((ch) => ch.kind === "uuid");
    }
    get isNANOID() {
      return !!this._def.checks.find((ch) => ch.kind === "nanoid");
    }
    get isCUID() {
      return !!this._def.checks.find((ch) => ch.kind === "cuid");
    }
    get isCUID2() {
      return !!this._def.checks.find((ch) => ch.kind === "cuid2");
    }
    get isULID() {
      return !!this._def.checks.find((ch) => ch.kind === "ulid");
    }
    get isIP() {
      return !!this._def.checks.find((ch) => ch.kind === "ip");
    }
    get isCIDR() {
      return !!this._def.checks.find((ch) => ch.kind === "cidr");
    }
    get isBase64() {
      return !!this._def.checks.find((ch) => ch.kind === "base64");
    }
    get isBase64url() {
      return !!this._def.checks.find((ch) => ch.kind === "base64url");
    }
    get minLength() {
      let min = null;
      for (const ch of this._def.checks) {
        if (ch.kind === "min") {
          if (min === null || ch.value > min)
            min = ch.value;
        }
      }
      return min;
    }
    get maxLength() {
      let max = null;
      for (const ch of this._def.checks) {
        if (ch.kind === "max") {
          if (max === null || ch.value < max)
            max = ch.value;
        }
      }
      return max;
    }
  }
  ZodString.create = (params) => {
    return new ZodString({
      checks: [],
      typeName: ZodFirstPartyTypeKind.ZodString,
      coerce: (params == null ? void 0 : params.coerce) ?? false,
      ...processCreateParams(params)
    });
  };
  function floatSafeRemainder(val, step) {
    const valDecCount = (val.toString().split(".")[1] || "").length;
    const stepDecCount = (step.toString().split(".")[1] || "").length;
    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;
    const valInt = Number.parseInt(val.toFixed(decCount).replace(".", ""));
    const stepInt = Number.parseInt(step.toFixed(decCount).replace(".", ""));
    return valInt % stepInt / 10 ** decCount;
  }
  class ZodNumber extends ZodType {
    constructor() {
      super(...arguments);
      this.min = this.gte;
      this.max = this.lte;
      this.step = this.multipleOf;
    }
    _parse(input) {
      if (this._def.coerce) {
        input.data = Number(input.data);
      }
      const parsedType = this._getType(input);
      if (parsedType !== ZodParsedType.number) {
        const ctx2 = this._getOrReturnCtx(input);
        addIssueToContext(ctx2, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.number,
          received: ctx2.parsedType
        });
        return INVALID;
      }
      let ctx = void 0;
      const status = new ParseStatus();
      for (const check of this._def.checks) {
        if (check.kind === "int") {
          if (!util$1.isInteger(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.invalid_type,
              expected: "integer",
              received: "float",
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "min") {
          const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;
          if (tooSmall) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.too_small,
              minimum: check.value,
              type: "number",
              inclusive: check.inclusive,
              exact: false,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "max") {
          const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;
          if (tooBig) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.too_big,
              maximum: check.value,
              type: "number",
              inclusive: check.inclusive,
              exact: false,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "multipleOf") {
          if (floatSafeRemainder(input.data, check.value) !== 0) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.not_multiple_of,
              multipleOf: check.value,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "finite") {
          if (!Number.isFinite(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.not_finite,
              message: check.message
            });
            status.dirty();
          }
        } else {
          util$1.assertNever(check);
        }
      }
      return { status: status.value, value: input.data };
    }
    gte(value, message) {
      return this.setLimit("min", value, true, errorUtil.toString(message));
    }
    gt(value, message) {
      return this.setLimit("min", value, false, errorUtil.toString(message));
    }
    lte(value, message) {
      return this.setLimit("max", value, true, errorUtil.toString(message));
    }
    lt(value, message) {
      return this.setLimit("max", value, false, errorUtil.toString(message));
    }
    setLimit(kind, value, inclusive, message) {
      return new ZodNumber({
        ...this._def,
        checks: [
          ...this._def.checks,
          {
            kind,
            value,
            inclusive,
            message: errorUtil.toString(message)
          }
        ]
      });
    }
    _addCheck(check) {
      return new ZodNumber({
        ...this._def,
        checks: [...this._def.checks, check]
      });
    }
    int(message) {
      return this._addCheck({
        kind: "int",
        message: errorUtil.toString(message)
      });
    }
    positive(message) {
      return this._addCheck({
        kind: "min",
        value: 0,
        inclusive: false,
        message: errorUtil.toString(message)
      });
    }
    negative(message) {
      return this._addCheck({
        kind: "max",
        value: 0,
        inclusive: false,
        message: errorUtil.toString(message)
      });
    }
    nonpositive(message) {
      return this._addCheck({
        kind: "max",
        value: 0,
        inclusive: true,
        message: errorUtil.toString(message)
      });
    }
    nonnegative(message) {
      return this._addCheck({
        kind: "min",
        value: 0,
        inclusive: true,
        message: errorUtil.toString(message)
      });
    }
    multipleOf(value, message) {
      return this._addCheck({
        kind: "multipleOf",
        value,
        message: errorUtil.toString(message)
      });
    }
    finite(message) {
      return this._addCheck({
        kind: "finite",
        message: errorUtil.toString(message)
      });
    }
    safe(message) {
      return this._addCheck({
        kind: "min",
        inclusive: true,
        value: Number.MIN_SAFE_INTEGER,
        message: errorUtil.toString(message)
      })._addCheck({
        kind: "max",
        inclusive: true,
        value: Number.MAX_SAFE_INTEGER,
        message: errorUtil.toString(message)
      });
    }
    get minValue() {
      let min = null;
      for (const ch of this._def.checks) {
        if (ch.kind === "min") {
          if (min === null || ch.value > min)
            min = ch.value;
        }
      }
      return min;
    }
    get maxValue() {
      let max = null;
      for (const ch of this._def.checks) {
        if (ch.kind === "max") {
          if (max === null || ch.value < max)
            max = ch.value;
        }
      }
      return max;
    }
    get isInt() {
      return !!this._def.checks.find((ch) => ch.kind === "int" || ch.kind === "multipleOf" && util$1.isInteger(ch.value));
    }
    get isFinite() {
      let max = null;
      let min = null;
      for (const ch of this._def.checks) {
        if (ch.kind === "finite" || ch.kind === "int" || ch.kind === "multipleOf") {
          return true;
        } else if (ch.kind === "min") {
          if (min === null || ch.value > min)
            min = ch.value;
        } else if (ch.kind === "max") {
          if (max === null || ch.value < max)
            max = ch.value;
        }
      }
      return Number.isFinite(min) && Number.isFinite(max);
    }
  }
  ZodNumber.create = (params) => {
    return new ZodNumber({
      checks: [],
      typeName: ZodFirstPartyTypeKind.ZodNumber,
      coerce: (params == null ? void 0 : params.coerce) || false,
      ...processCreateParams(params)
    });
  };
  class ZodBigInt extends ZodType {
    constructor() {
      super(...arguments);
      this.min = this.gte;
      this.max = this.lte;
    }
    _parse(input) {
      if (this._def.coerce) {
        try {
          input.data = BigInt(input.data);
        } catch {
          return this._getInvalidInput(input);
        }
      }
      const parsedType = this._getType(input);
      if (parsedType !== ZodParsedType.bigint) {
        return this._getInvalidInput(input);
      }
      let ctx = void 0;
      const status = new ParseStatus();
      for (const check of this._def.checks) {
        if (check.kind === "min") {
          const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;
          if (tooSmall) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.too_small,
              type: "bigint",
              minimum: check.value,
              inclusive: check.inclusive,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "max") {
          const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;
          if (tooBig) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.too_big,
              type: "bigint",
              maximum: check.value,
              inclusive: check.inclusive,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "multipleOf") {
          if (input.data % check.value !== BigInt(0)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.not_multiple_of,
              multipleOf: check.value,
              message: check.message
            });
            status.dirty();
          }
        } else {
          util$1.assertNever(check);
        }
      }
      return { status: status.value, value: input.data };
    }
    _getInvalidInput(input) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode.invalid_type,
        expected: ZodParsedType.bigint,
        received: ctx.parsedType
      });
      return INVALID;
    }
    gte(value, message) {
      return this.setLimit("min", value, true, errorUtil.toString(message));
    }
    gt(value, message) {
      return this.setLimit("min", value, false, errorUtil.toString(message));
    }
    lte(value, message) {
      return this.setLimit("max", value, true, errorUtil.toString(message));
    }
    lt(value, message) {
      return this.setLimit("max", value, false, errorUtil.toString(message));
    }
    setLimit(kind, value, inclusive, message) {
      return new ZodBigInt({
        ...this._def,
        checks: [
          ...this._def.checks,
          {
            kind,
            value,
            inclusive,
            message: errorUtil.toString(message)
          }
        ]
      });
    }
    _addCheck(check) {
      return new ZodBigInt({
        ...this._def,
        checks: [...this._def.checks, check]
      });
    }
    positive(message) {
      return this._addCheck({
        kind: "min",
        value: BigInt(0),
        inclusive: false,
        message: errorUtil.toString(message)
      });
    }
    negative(message) {
      return this._addCheck({
        kind: "max",
        value: BigInt(0),
        inclusive: false,
        message: errorUtil.toString(message)
      });
    }
    nonpositive(message) {
      return this._addCheck({
        kind: "max",
        value: BigInt(0),
        inclusive: true,
        message: errorUtil.toString(message)
      });
    }
    nonnegative(message) {
      return this._addCheck({
        kind: "min",
        value: BigInt(0),
        inclusive: true,
        message: errorUtil.toString(message)
      });
    }
    multipleOf(value, message) {
      return this._addCheck({
        kind: "multipleOf",
        value,
        message: errorUtil.toString(message)
      });
    }
    get minValue() {
      let min = null;
      for (const ch of this._def.checks) {
        if (ch.kind === "min") {
          if (min === null || ch.value > min)
            min = ch.value;
        }
      }
      return min;
    }
    get maxValue() {
      let max = null;
      for (const ch of this._def.checks) {
        if (ch.kind === "max") {
          if (max === null || ch.value < max)
            max = ch.value;
        }
      }
      return max;
    }
  }
  ZodBigInt.create = (params) => {
    return new ZodBigInt({
      checks: [],
      typeName: ZodFirstPartyTypeKind.ZodBigInt,
      coerce: (params == null ? void 0 : params.coerce) ?? false,
      ...processCreateParams(params)
    });
  };
  class ZodBoolean extends ZodType {
    _parse(input) {
      if (this._def.coerce) {
        input.data = Boolean(input.data);
      }
      const parsedType = this._getType(input);
      if (parsedType !== ZodParsedType.boolean) {
        const ctx = this._getOrReturnCtx(input);
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.boolean,
          received: ctx.parsedType
        });
        return INVALID;
      }
      return OK(input.data);
    }
  }
  ZodBoolean.create = (params) => {
    return new ZodBoolean({
      typeName: ZodFirstPartyTypeKind.ZodBoolean,
      coerce: (params == null ? void 0 : params.coerce) || false,
      ...processCreateParams(params)
    });
  };
  class ZodDate extends ZodType {
    _parse(input) {
      if (this._def.coerce) {
        input.data = new Date(input.data);
      }
      const parsedType = this._getType(input);
      if (parsedType !== ZodParsedType.date) {
        const ctx2 = this._getOrReturnCtx(input);
        addIssueToContext(ctx2, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.date,
          received: ctx2.parsedType
        });
        return INVALID;
      }
      if (Number.isNaN(input.data.getTime())) {
        const ctx2 = this._getOrReturnCtx(input);
        addIssueToContext(ctx2, {
          code: ZodIssueCode.invalid_date
        });
        return INVALID;
      }
      const status = new ParseStatus();
      let ctx = void 0;
      for (const check of this._def.checks) {
        if (check.kind === "min") {
          if (input.data.getTime() < check.value) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.too_small,
              message: check.message,
              inclusive: true,
              exact: false,
              minimum: check.value,
              type: "date"
            });
            status.dirty();
          }
        } else if (check.kind === "max") {
          if (input.data.getTime() > check.value) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.too_big,
              message: check.message,
              inclusive: true,
              exact: false,
              maximum: check.value,
              type: "date"
            });
            status.dirty();
          }
        } else {
          util$1.assertNever(check);
        }
      }
      return {
        status: status.value,
        value: new Date(input.data.getTime())
      };
    }
    _addCheck(check) {
      return new ZodDate({
        ...this._def,
        checks: [...this._def.checks, check]
      });
    }
    min(minDate, message) {
      return this._addCheck({
        kind: "min",
        value: minDate.getTime(),
        message: errorUtil.toString(message)
      });
    }
    max(maxDate, message) {
      return this._addCheck({
        kind: "max",
        value: maxDate.getTime(),
        message: errorUtil.toString(message)
      });
    }
    get minDate() {
      let min = null;
      for (const ch of this._def.checks) {
        if (ch.kind === "min") {
          if (min === null || ch.value > min)
            min = ch.value;
        }
      }
      return min != null ? new Date(min) : null;
    }
    get maxDate() {
      let max = null;
      for (const ch of this._def.checks) {
        if (ch.kind === "max") {
          if (max === null || ch.value < max)
            max = ch.value;
        }
      }
      return max != null ? new Date(max) : null;
    }
  }
  ZodDate.create = (params) => {
    return new ZodDate({
      checks: [],
      coerce: (params == null ? void 0 : params.coerce) || false,
      typeName: ZodFirstPartyTypeKind.ZodDate,
      ...processCreateParams(params)
    });
  };
  class ZodSymbol extends ZodType {
    _parse(input) {
      const parsedType = this._getType(input);
      if (parsedType !== ZodParsedType.symbol) {
        const ctx = this._getOrReturnCtx(input);
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.symbol,
          received: ctx.parsedType
        });
        return INVALID;
      }
      return OK(input.data);
    }
  }
  ZodSymbol.create = (params) => {
    return new ZodSymbol({
      typeName: ZodFirstPartyTypeKind.ZodSymbol,
      ...processCreateParams(params)
    });
  };
  class ZodUndefined extends ZodType {
    _parse(input) {
      const parsedType = this._getType(input);
      if (parsedType !== ZodParsedType.undefined) {
        const ctx = this._getOrReturnCtx(input);
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.undefined,
          received: ctx.parsedType
        });
        return INVALID;
      }
      return OK(input.data);
    }
  }
  ZodUndefined.create = (params) => {
    return new ZodUndefined({
      typeName: ZodFirstPartyTypeKind.ZodUndefined,
      ...processCreateParams(params)
    });
  };
  class ZodNull extends ZodType {
    _parse(input) {
      const parsedType = this._getType(input);
      if (parsedType !== ZodParsedType.null) {
        const ctx = this._getOrReturnCtx(input);
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.null,
          received: ctx.parsedType
        });
        return INVALID;
      }
      return OK(input.data);
    }
  }
  ZodNull.create = (params) => {
    return new ZodNull({
      typeName: ZodFirstPartyTypeKind.ZodNull,
      ...processCreateParams(params)
    });
  };
  class ZodAny extends ZodType {
    constructor() {
      super(...arguments);
      this._any = true;
    }
    _parse(input) {
      return OK(input.data);
    }
  }
  ZodAny.create = (params) => {
    return new ZodAny({
      typeName: ZodFirstPartyTypeKind.ZodAny,
      ...processCreateParams(params)
    });
  };
  class ZodUnknown extends ZodType {
    constructor() {
      super(...arguments);
      this._unknown = true;
    }
    _parse(input) {
      return OK(input.data);
    }
  }
  ZodUnknown.create = (params) => {
    return new ZodUnknown({
      typeName: ZodFirstPartyTypeKind.ZodUnknown,
      ...processCreateParams(params)
    });
  };
  class ZodNever extends ZodType {
    _parse(input) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode.invalid_type,
        expected: ZodParsedType.never,
        received: ctx.parsedType
      });
      return INVALID;
    }
  }
  ZodNever.create = (params) => {
    return new ZodNever({
      typeName: ZodFirstPartyTypeKind.ZodNever,
      ...processCreateParams(params)
    });
  };
  class ZodVoid extends ZodType {
    _parse(input) {
      const parsedType = this._getType(input);
      if (parsedType !== ZodParsedType.undefined) {
        const ctx = this._getOrReturnCtx(input);
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.void,
          received: ctx.parsedType
        });
        return INVALID;
      }
      return OK(input.data);
    }
  }
  ZodVoid.create = (params) => {
    return new ZodVoid({
      typeName: ZodFirstPartyTypeKind.ZodVoid,
      ...processCreateParams(params)
    });
  };
  class ZodArray extends ZodType {
    _parse(input) {
      const { ctx, status } = this._processInputParams(input);
      const def = this._def;
      if (ctx.parsedType !== ZodParsedType.array) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.array,
          received: ctx.parsedType
        });
        return INVALID;
      }
      if (def.exactLength !== null) {
        const tooBig = ctx.data.length > def.exactLength.value;
        const tooSmall = ctx.data.length < def.exactLength.value;
        if (tooBig || tooSmall) {
          addIssueToContext(ctx, {
            code: tooBig ? ZodIssueCode.too_big : ZodIssueCode.too_small,
            minimum: tooSmall ? def.exactLength.value : void 0,
            maximum: tooBig ? def.exactLength.value : void 0,
            type: "array",
            inclusive: true,
            exact: true,
            message: def.exactLength.message
          });
          status.dirty();
        }
      }
      if (def.minLength !== null) {
        if (ctx.data.length < def.minLength.value) {
          addIssueToContext(ctx, {
            code: ZodIssueCode.too_small,
            minimum: def.minLength.value,
            type: "array",
            inclusive: true,
            exact: false,
            message: def.minLength.message
          });
          status.dirty();
        }
      }
      if (def.maxLength !== null) {
        if (ctx.data.length > def.maxLength.value) {
          addIssueToContext(ctx, {
            code: ZodIssueCode.too_big,
            maximum: def.maxLength.value,
            type: "array",
            inclusive: true,
            exact: false,
            message: def.maxLength.message
          });
          status.dirty();
        }
      }
      if (ctx.common.async) {
        return Promise.all([...ctx.data].map((item, i) => {
          return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i));
        })).then((result2) => {
          return ParseStatus.mergeArray(status, result2);
        });
      }
      const result = [...ctx.data].map((item, i) => {
        return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i));
      });
      return ParseStatus.mergeArray(status, result);
    }
    get element() {
      return this._def.type;
    }
    min(minLength, message) {
      return new ZodArray({
        ...this._def,
        minLength: { value: minLength, message: errorUtil.toString(message) }
      });
    }
    max(maxLength, message) {
      return new ZodArray({
        ...this._def,
        maxLength: { value: maxLength, message: errorUtil.toString(message) }
      });
    }
    length(len, message) {
      return new ZodArray({
        ...this._def,
        exactLength: { value: len, message: errorUtil.toString(message) }
      });
    }
    nonempty(message) {
      return this.min(1, message);
    }
  }
  ZodArray.create = (schema, params) => {
    return new ZodArray({
      type: schema,
      minLength: null,
      maxLength: null,
      exactLength: null,
      typeName: ZodFirstPartyTypeKind.ZodArray,
      ...processCreateParams(params)
    });
  };
  function deepPartialify(schema) {
    if (schema instanceof ZodObject) {
      const newShape = {};
      for (const key in schema.shape) {
        const fieldSchema = schema.shape[key];
        newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));
      }
      return new ZodObject({
        ...schema._def,
        shape: () => newShape
      });
    } else if (schema instanceof ZodArray) {
      return new ZodArray({
        ...schema._def,
        type: deepPartialify(schema.element)
      });
    } else if (schema instanceof ZodOptional) {
      return ZodOptional.create(deepPartialify(schema.unwrap()));
    } else if (schema instanceof ZodNullable) {
      return ZodNullable.create(deepPartialify(schema.unwrap()));
    } else if (schema instanceof ZodTuple) {
      return ZodTuple.create(schema.items.map((item) => deepPartialify(item)));
    } else {
      return schema;
    }
  }
  class ZodObject extends ZodType {
    constructor() {
      super(...arguments);
      this._cached = null;
      this.nonstrict = this.passthrough;
      this.augment = this.extend;
    }
    _getCached() {
      if (this._cached !== null)
        return this._cached;
      const shape = this._def.shape();
      const keys = util$1.objectKeys(shape);
      this._cached = { shape, keys };
      return this._cached;
    }
    _parse(input) {
      const parsedType = this._getType(input);
      if (parsedType !== ZodParsedType.object) {
        const ctx2 = this._getOrReturnCtx(input);
        addIssueToContext(ctx2, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.object,
          received: ctx2.parsedType
        });
        return INVALID;
      }
      const { status, ctx } = this._processInputParams(input);
      const { shape, keys: shapeKeys } = this._getCached();
      const extraKeys = [];
      if (!(this._def.catchall instanceof ZodNever && this._def.unknownKeys === "strip")) {
        for (const key in ctx.data) {
          if (!shapeKeys.includes(key)) {
            extraKeys.push(key);
          }
        }
      }
      const pairs = [];
      for (const key of shapeKeys) {
        const keyValidator = shape[key];
        const value = ctx.data[key];
        pairs.push({
          key: { status: "valid", value: key },
          value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),
          alwaysSet: key in ctx.data
        });
      }
      if (this._def.catchall instanceof ZodNever) {
        const unknownKeys = this._def.unknownKeys;
        if (unknownKeys === "passthrough") {
          for (const key of extraKeys) {
            pairs.push({
              key: { status: "valid", value: key },
              value: { status: "valid", value: ctx.data[key] }
            });
          }
        } else if (unknownKeys === "strict") {
          if (extraKeys.length > 0) {
            addIssueToContext(ctx, {
              code: ZodIssueCode.unrecognized_keys,
              keys: extraKeys
            });
            status.dirty();
          }
        } else if (unknownKeys === "strip") ;
        else {
          throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);
        }
      } else {
        const catchall = this._def.catchall;
        for (const key of extraKeys) {
          const value = ctx.data[key];
          pairs.push({
            key: { status: "valid", value: key },
            value: catchall._parse(
              new ParseInputLazyPath(ctx, value, ctx.path, key)
              //, ctx.child(key), value, getParsedType(value)
            ),
            alwaysSet: key in ctx.data
          });
        }
      }
      if (ctx.common.async) {
        return Promise.resolve().then(async () => {
          const syncPairs = [];
          for (const pair of pairs) {
            const key = await pair.key;
            const value = await pair.value;
            syncPairs.push({
              key,
              value,
              alwaysSet: pair.alwaysSet
            });
          }
          return syncPairs;
        }).then((syncPairs) => {
          return ParseStatus.mergeObjectSync(status, syncPairs);
        });
      } else {
        return ParseStatus.mergeObjectSync(status, pairs);
      }
    }
    get shape() {
      return this._def.shape();
    }
    strict(message) {
      errorUtil.errToObj;
      return new ZodObject({
        ...this._def,
        unknownKeys: "strict",
        ...message !== void 0 ? {
          errorMap: (issue, ctx) => {
            var _a, _b;
            const defaultError = ((_b = (_a = this._def).errorMap) == null ? void 0 : _b.call(_a, issue, ctx).message) ?? ctx.defaultError;
            if (issue.code === "unrecognized_keys")
              return {
                message: errorUtil.errToObj(message).message ?? defaultError
              };
            return {
              message: defaultError
            };
          }
        } : {}
      });
    }
    strip() {
      return new ZodObject({
        ...this._def,
        unknownKeys: "strip"
      });
    }
    passthrough() {
      return new ZodObject({
        ...this._def,
        unknownKeys: "passthrough"
      });
    }
    // const AugmentFactory =
    //   <Def extends ZodObjectDef>(def: Def) =>
    //   <Augmentation extends ZodRawShape>(
    //     augmentation: Augmentation
    //   ): ZodObject<
    //     extendShape<ReturnType<Def["shape"]>, Augmentation>,
    //     Def["unknownKeys"],
    //     Def["catchall"]
    //   > => {
    //     return new ZodObject({
    //       ...def,
    //       shape: () => ({
    //         ...def.shape(),
    //         ...augmentation,
    //       }),
    //     }) as any;
    //   };
    extend(augmentation) {
      return new ZodObject({
        ...this._def,
        shape: () => ({
          ...this._def.shape(),
          ...augmentation
        })
      });
    }
    /**
     * Prior to zod@1.0.12 there was a bug in the
     * inferred type of merged objects. Please
     * upgrade if you are experiencing issues.
     */
    merge(merging) {
      const merged = new ZodObject({
        unknownKeys: merging._def.unknownKeys,
        catchall: merging._def.catchall,
        shape: () => ({
          ...this._def.shape(),
          ...merging._def.shape()
        }),
        typeName: ZodFirstPartyTypeKind.ZodObject
      });
      return merged;
    }
    // merge<
    //   Incoming extends AnyZodObject,
    //   Augmentation extends Incoming["shape"],
    //   NewOutput extends {
    //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation
    //       ? Augmentation[k]["_output"]
    //       : k extends keyof Output
    //       ? Output[k]
    //       : never;
    //   },
    //   NewInput extends {
    //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation
    //       ? Augmentation[k]["_input"]
    //       : k extends keyof Input
    //       ? Input[k]
    //       : never;
    //   }
    // >(
    //   merging: Incoming
    // ): ZodObject<
    //   extendShape<T, ReturnType<Incoming["_def"]["shape"]>>,
    //   Incoming["_def"]["unknownKeys"],
    //   Incoming["_def"]["catchall"],
    //   NewOutput,
    //   NewInput
    // > {
    //   const merged: any = new ZodObject({
    //     unknownKeys: merging._def.unknownKeys,
    //     catchall: merging._def.catchall,
    //     shape: () =>
    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),
    //     typeName: ZodFirstPartyTypeKind.ZodObject,
    //   }) as any;
    //   return merged;
    // }
    setKey(key, schema) {
      return this.augment({ [key]: schema });
    }
    // merge<Incoming extends AnyZodObject>(
    //   merging: Incoming
    // ): //ZodObject<T & Incoming["_shape"], UnknownKeys, Catchall> = (merging) => {
    // ZodObject<
    //   extendShape<T, ReturnType<Incoming["_def"]["shape"]>>,
    //   Incoming["_def"]["unknownKeys"],
    //   Incoming["_def"]["catchall"]
    // > {
    //   // const mergedShape = objectUtil.mergeShapes(
    //   //   this._def.shape(),
    //   //   merging._def.shape()
    //   // );
    //   const merged: any = new ZodObject({
    //     unknownKeys: merging._def.unknownKeys,
    //     catchall: merging._def.catchall,
    //     shape: () =>
    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),
    //     typeName: ZodFirstPartyTypeKind.ZodObject,
    //   }) as any;
    //   return merged;
    // }
    catchall(index2) {
      return new ZodObject({
        ...this._def,
        catchall: index2
      });
    }
    pick(mask) {
      const shape = {};
      for (const key of util$1.objectKeys(mask)) {
        if (mask[key] && this.shape[key]) {
          shape[key] = this.shape[key];
        }
      }
      return new ZodObject({
        ...this._def,
        shape: () => shape
      });
    }
    omit(mask) {
      const shape = {};
      for (const key of util$1.objectKeys(this.shape)) {
        if (!mask[key]) {
          shape[key] = this.shape[key];
        }
      }
      return new ZodObject({
        ...this._def,
        shape: () => shape
      });
    }
    /**
     * @deprecated
     */
    deepPartial() {
      return deepPartialify(this);
    }
    partial(mask) {
      const newShape = {};
      for (const key of util$1.objectKeys(this.shape)) {
        const fieldSchema = this.shape[key];
        if (mask && !mask[key]) {
          newShape[key] = fieldSchema;
        } else {
          newShape[key] = fieldSchema.optional();
        }
      }
      return new ZodObject({
        ...this._def,
        shape: () => newShape
      });
    }
    required(mask) {
      const newShape = {};
      for (const key of util$1.objectKeys(this.shape)) {
        if (mask && !mask[key]) {
          newShape[key] = this.shape[key];
        } else {
          const fieldSchema = this.shape[key];
          let newField = fieldSchema;
          while (newField instanceof ZodOptional) {
            newField = newField._def.innerType;
          }
          newShape[key] = newField;
        }
      }
      return new ZodObject({
        ...this._def,
        shape: () => newShape
      });
    }
    keyof() {
      return createZodEnum(util$1.objectKeys(this.shape));
    }
  }
  ZodObject.create = (shape, params) => {
    return new ZodObject({
      shape: () => shape,
      unknownKeys: "strip",
      catchall: ZodNever.create(),
      typeName: ZodFirstPartyTypeKind.ZodObject,
      ...processCreateParams(params)
    });
  };
  ZodObject.strictCreate = (shape, params) => {
    return new ZodObject({
      shape: () => shape,
      unknownKeys: "strict",
      catchall: ZodNever.create(),
      typeName: ZodFirstPartyTypeKind.ZodObject,
      ...processCreateParams(params)
    });
  };
  ZodObject.lazycreate = (shape, params) => {
    return new ZodObject({
      shape,
      unknownKeys: "strip",
      catchall: ZodNever.create(),
      typeName: ZodFirstPartyTypeKind.ZodObject,
      ...processCreateParams(params)
    });
  };
  class ZodUnion extends ZodType {
    _parse(input) {
      const { ctx } = this._processInputParams(input);
      const options = this._def.options;
      function handleResults(results) {
        for (const result of results) {
          if (result.result.status === "valid") {
            return result.result;
          }
        }
        for (const result of results) {
          if (result.result.status === "dirty") {
            ctx.common.issues.push(...result.ctx.common.issues);
            return result.result;
          }
        }
        const unionErrors = results.map((result) => new ZodError(result.ctx.common.issues));
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_union,
          unionErrors
        });
        return INVALID;
      }
      if (ctx.common.async) {
        return Promise.all(options.map(async (option) => {
          const childCtx = {
            ...ctx,
            common: {
              ...ctx.common,
              issues: []
            },
            parent: null
          };
          return {
            result: await option._parseAsync({
              data: ctx.data,
              path: ctx.path,
              parent: childCtx
            }),
            ctx: childCtx
          };
        })).then(handleResults);
      } else {
        let dirty = void 0;
        const issues = [];
        for (const option of options) {
          const childCtx = {
            ...ctx,
            common: {
              ...ctx.common,
              issues: []
            },
            parent: null
          };
          const result = option._parseSync({
            data: ctx.data,
            path: ctx.path,
            parent: childCtx
          });
          if (result.status === "valid") {
            return result;
          } else if (result.status === "dirty" && !dirty) {
            dirty = { result, ctx: childCtx };
          }
          if (childCtx.common.issues.length) {
            issues.push(childCtx.common.issues);
          }
        }
        if (dirty) {
          ctx.common.issues.push(...dirty.ctx.common.issues);
          return dirty.result;
        }
        const unionErrors = issues.map((issues2) => new ZodError(issues2));
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_union,
          unionErrors
        });
        return INVALID;
      }
    }
    get options() {
      return this._def.options;
    }
  }
  ZodUnion.create = (types, params) => {
    return new ZodUnion({
      options: types,
      typeName: ZodFirstPartyTypeKind.ZodUnion,
      ...processCreateParams(params)
    });
  };
  const getDiscriminator = (type2) => {
    if (type2 instanceof ZodLazy) {
      return getDiscriminator(type2.schema);
    } else if (type2 instanceof ZodEffects) {
      return getDiscriminator(type2.innerType());
    } else if (type2 instanceof ZodLiteral) {
      return [type2.value];
    } else if (type2 instanceof ZodEnum) {
      return type2.options;
    } else if (type2 instanceof ZodNativeEnum) {
      return util$1.objectValues(type2.enum);
    } else if (type2 instanceof ZodDefault) {
      return getDiscriminator(type2._def.innerType);
    } else if (type2 instanceof ZodUndefined) {
      return [void 0];
    } else if (type2 instanceof ZodNull) {
      return [null];
    } else if (type2 instanceof ZodOptional) {
      return [void 0, ...getDiscriminator(type2.unwrap())];
    } else if (type2 instanceof ZodNullable) {
      return [null, ...getDiscriminator(type2.unwrap())];
    } else if (type2 instanceof ZodBranded) {
      return getDiscriminator(type2.unwrap());
    } else if (type2 instanceof ZodReadonly) {
      return getDiscriminator(type2.unwrap());
    } else if (type2 instanceof ZodCatch) {
      return getDiscriminator(type2._def.innerType);
    } else {
      return [];
    }
  };
  class ZodDiscriminatedUnion extends ZodType {
    _parse(input) {
      const { ctx } = this._processInputParams(input);
      if (ctx.parsedType !== ZodParsedType.object) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.object,
          received: ctx.parsedType
        });
        return INVALID;
      }
      const discriminator = this.discriminator;
      const discriminatorValue = ctx.data[discriminator];
      const option = this.optionsMap.get(discriminatorValue);
      if (!option) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_union_discriminator,
          options: Array.from(this.optionsMap.keys()),
          path: [discriminator]
        });
        return INVALID;
      }
      if (ctx.common.async) {
        return option._parseAsync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        });
      } else {
        return option._parseSync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        });
      }
    }
    get discriminator() {
      return this._def.discriminator;
    }
    get options() {
      return this._def.options;
    }
    get optionsMap() {
      return this._def.optionsMap;
    }
    /**
     * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.
     * However, it only allows a union of objects, all of which need to share a discriminator property. This property must
     * have a different value for each object in the union.
     * @param discriminator the name of the discriminator property
     * @param types an array of object schemas
     * @param params
     */
    static create(discriminator, options, params) {
      const optionsMap = /* @__PURE__ */ new Map();
      for (const type2 of options) {
        const discriminatorValues = getDiscriminator(type2.shape[discriminator]);
        if (!discriminatorValues.length) {
          throw new Error(`A discriminator value for key \`${discriminator}\` could not be extracted from all schema options`);
        }
        for (const value of discriminatorValues) {
          if (optionsMap.has(value)) {
            throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);
          }
          optionsMap.set(value, type2);
        }
      }
      return new ZodDiscriminatedUnion({
        typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,
        discriminator,
        options,
        optionsMap,
        ...processCreateParams(params)
      });
    }
  }
  function mergeValues(a, b) {
    const aType = getParsedType(a);
    const bType = getParsedType(b);
    if (a === b) {
      return { valid: true, data: a };
    } else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {
      const bKeys = util$1.objectKeys(b);
      const sharedKeys = util$1.objectKeys(a).filter((key) => bKeys.indexOf(key) !== -1);
      const newObj = { ...a, ...b };
      for (const key of sharedKeys) {
        const sharedValue = mergeValues(a[key], b[key]);
        if (!sharedValue.valid) {
          return { valid: false };
        }
        newObj[key] = sharedValue.data;
      }
      return { valid: true, data: newObj };
    } else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {
      if (a.length !== b.length) {
        return { valid: false };
      }
      const newArray = [];
      for (let index2 = 0; index2 < a.length; index2++) {
        const itemA = a[index2];
        const itemB = b[index2];
        const sharedValue = mergeValues(itemA, itemB);
        if (!sharedValue.valid) {
          return { valid: false };
        }
        newArray.push(sharedValue.data);
      }
      return { valid: true, data: newArray };
    } else if (aType === ZodParsedType.date && bType === ZodParsedType.date && +a === +b) {
      return { valid: true, data: a };
    } else {
      return { valid: false };
    }
  }
  class ZodIntersection extends ZodType {
    _parse(input) {
      const { status, ctx } = this._processInputParams(input);
      const handleParsed = (parsedLeft, parsedRight) => {
        if (isAborted(parsedLeft) || isAborted(parsedRight)) {
          return INVALID;
        }
        const merged = mergeValues(parsedLeft.value, parsedRight.value);
        if (!merged.valid) {
          addIssueToContext(ctx, {
            code: ZodIssueCode.invalid_intersection_types
          });
          return INVALID;
        }
        if (isDirty(parsedLeft) || isDirty(parsedRight)) {
          status.dirty();
        }
        return { status: status.value, value: merged.data };
      };
      if (ctx.common.async) {
        return Promise.all([
          this._def.left._parseAsync({
            data: ctx.data,
            path: ctx.path,
            parent: ctx
          }),
          this._def.right._parseAsync({
            data: ctx.data,
            path: ctx.path,
            parent: ctx
          })
        ]).then(([left, right]) => handleParsed(left, right));
      } else {
        return handleParsed(this._def.left._parseSync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        }), this._def.right._parseSync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        }));
      }
    }
  }
  ZodIntersection.create = (left, right, params) => {
    return new ZodIntersection({
      left,
      right,
      typeName: ZodFirstPartyTypeKind.ZodIntersection,
      ...processCreateParams(params)
    });
  };
  class ZodTuple extends ZodType {
    _parse(input) {
      const { status, ctx } = this._processInputParams(input);
      if (ctx.parsedType !== ZodParsedType.array) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.array,
          received: ctx.parsedType
        });
        return INVALID;
      }
      if (ctx.data.length < this._def.items.length) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.too_small,
          minimum: this._def.items.length,
          inclusive: true,
          exact: false,
          type: "array"
        });
        return INVALID;
      }
      const rest = this._def.rest;
      if (!rest && ctx.data.length > this._def.items.length) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.too_big,
          maximum: this._def.items.length,
          inclusive: true,
          exact: false,
          type: "array"
        });
        status.dirty();
      }
      const items2 = [...ctx.data].map((item, itemIndex) => {
        const schema = this._def.items[itemIndex] || this._def.rest;
        if (!schema)
          return null;
        return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));
      }).filter((x) => !!x);
      if (ctx.common.async) {
        return Promise.all(items2).then((results) => {
          return ParseStatus.mergeArray(status, results);
        });
      } else {
        return ParseStatus.mergeArray(status, items2);
      }
    }
    get items() {
      return this._def.items;
    }
    rest(rest) {
      return new ZodTuple({
        ...this._def,
        rest
      });
    }
  }
  ZodTuple.create = (schemas, params) => {
    if (!Array.isArray(schemas)) {
      throw new Error("You must pass an array of schemas to z.tuple([ ... ])");
    }
    return new ZodTuple({
      items: schemas,
      typeName: ZodFirstPartyTypeKind.ZodTuple,
      rest: null,
      ...processCreateParams(params)
    });
  };
  class ZodRecord extends ZodType {
    get keySchema() {
      return this._def.keyType;
    }
    get valueSchema() {
      return this._def.valueType;
    }
    _parse(input) {
      const { status, ctx } = this._processInputParams(input);
      if (ctx.parsedType !== ZodParsedType.object) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.object,
          received: ctx.parsedType
        });
        return INVALID;
      }
      const pairs = [];
      const keyType = this._def.keyType;
      const valueType = this._def.valueType;
      for (const key in ctx.data) {
        pairs.push({
          key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),
          value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),
          alwaysSet: key in ctx.data
        });
      }
      if (ctx.common.async) {
        return ParseStatus.mergeObjectAsync(status, pairs);
      } else {
        return ParseStatus.mergeObjectSync(status, pairs);
      }
    }
    get element() {
      return this._def.valueType;
    }
    static create(first, second, third) {
      if (second instanceof ZodType) {
        return new ZodRecord({
          keyType: first,
          valueType: second,
          typeName: ZodFirstPartyTypeKind.ZodRecord,
          ...processCreateParams(third)
        });
      }
      return new ZodRecord({
        keyType: ZodString.create(),
        valueType: first,
        typeName: ZodFirstPartyTypeKind.ZodRecord,
        ...processCreateParams(second)
      });
    }
  }
  class ZodMap extends ZodType {
    get keySchema() {
      return this._def.keyType;
    }
    get valueSchema() {
      return this._def.valueType;
    }
    _parse(input) {
      const { status, ctx } = this._processInputParams(input);
      if (ctx.parsedType !== ZodParsedType.map) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.map,
          received: ctx.parsedType
        });
        return INVALID;
      }
      const keyType = this._def.keyType;
      const valueType = this._def.valueType;
      const pairs = [...ctx.data.entries()].map(([key, value], index2) => {
        return {
          key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index2, "key"])),
          value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index2, "value"]))
        };
      });
      if (ctx.common.async) {
        const finalMap = /* @__PURE__ */ new Map();
        return Promise.resolve().then(async () => {
          for (const pair of pairs) {
            const key = await pair.key;
            const value = await pair.value;
            if (key.status === "aborted" || value.status === "aborted") {
              return INVALID;
            }
            if (key.status === "dirty" || value.status === "dirty") {
              status.dirty();
            }
            finalMap.set(key.value, value.value);
          }
          return { status: status.value, value: finalMap };
        });
      } else {
        const finalMap = /* @__PURE__ */ new Map();
        for (const pair of pairs) {
          const key = pair.key;
          const value = pair.value;
          if (key.status === "aborted" || value.status === "aborted") {
            return INVALID;
          }
          if (key.status === "dirty" || value.status === "dirty") {
            status.dirty();
          }
          finalMap.set(key.value, value.value);
        }
        return { status: status.value, value: finalMap };
      }
    }
  }
  ZodMap.create = (keyType, valueType, params) => {
    return new ZodMap({
      valueType,
      keyType,
      typeName: ZodFirstPartyTypeKind.ZodMap,
      ...processCreateParams(params)
    });
  };
  class ZodSet extends ZodType {
    _parse(input) {
      const { status, ctx } = this._processInputParams(input);
      if (ctx.parsedType !== ZodParsedType.set) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.set,
          received: ctx.parsedType
        });
        return INVALID;
      }
      const def = this._def;
      if (def.minSize !== null) {
        if (ctx.data.size < def.minSize.value) {
          addIssueToContext(ctx, {
            code: ZodIssueCode.too_small,
            minimum: def.minSize.value,
            type: "set",
            inclusive: true,
            exact: false,
            message: def.minSize.message
          });
          status.dirty();
        }
      }
      if (def.maxSize !== null) {
        if (ctx.data.size > def.maxSize.value) {
          addIssueToContext(ctx, {
            code: ZodIssueCode.too_big,
            maximum: def.maxSize.value,
            type: "set",
            inclusive: true,
            exact: false,
            message: def.maxSize.message
          });
          status.dirty();
        }
      }
      const valueType = this._def.valueType;
      function finalizeSet(elements2) {
        const parsedSet = /* @__PURE__ */ new Set();
        for (const element of elements2) {
          if (element.status === "aborted")
            return INVALID;
          if (element.status === "dirty")
            status.dirty();
          parsedSet.add(element.value);
        }
        return { status: status.value, value: parsedSet };
      }
      const elements = [...ctx.data.values()].map((item, i) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i)));
      if (ctx.common.async) {
        return Promise.all(elements).then((elements2) => finalizeSet(elements2));
      } else {
        return finalizeSet(elements);
      }
    }
    min(minSize, message) {
      return new ZodSet({
        ...this._def,
        minSize: { value: minSize, message: errorUtil.toString(message) }
      });
    }
    max(maxSize, message) {
      return new ZodSet({
        ...this._def,
        maxSize: { value: maxSize, message: errorUtil.toString(message) }
      });
    }
    size(size, message) {
      return this.min(size, message).max(size, message);
    }
    nonempty(message) {
      return this.min(1, message);
    }
  }
  ZodSet.create = (valueType, params) => {
    return new ZodSet({
      valueType,
      minSize: null,
      maxSize: null,
      typeName: ZodFirstPartyTypeKind.ZodSet,
      ...processCreateParams(params)
    });
  };
  class ZodFunction extends ZodType {
    constructor() {
      super(...arguments);
      this.validate = this.implement;
    }
    _parse(input) {
      const { ctx } = this._processInputParams(input);
      if (ctx.parsedType !== ZodParsedType.function) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.function,
          received: ctx.parsedType
        });
        return INVALID;
      }
      function makeArgsIssue(args, error) {
        return makeIssue({
          data: args,
          path: ctx.path,
          errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap(), errorMap].filter((x) => !!x),
          issueData: {
            code: ZodIssueCode.invalid_arguments,
            argumentsError: error
          }
        });
      }
      function makeReturnsIssue(returns, error) {
        return makeIssue({
          data: returns,
          path: ctx.path,
          errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap(), errorMap].filter((x) => !!x),
          issueData: {
            code: ZodIssueCode.invalid_return_type,
            returnTypeError: error
          }
        });
      }
      const params = { errorMap: ctx.common.contextualErrorMap };
      const fn = ctx.data;
      if (this._def.returns instanceof ZodPromise) {
        const me = this;
        return OK(async function(...args) {
          const error = new ZodError([]);
          const parsedArgs = await me._def.args.parseAsync(args, params).catch((e) => {
            error.addIssue(makeArgsIssue(args, e));
            throw error;
          });
          const result = await Reflect.apply(fn, this, parsedArgs);
          const parsedReturns = await me._def.returns._def.type.parseAsync(result, params).catch((e) => {
            error.addIssue(makeReturnsIssue(result, e));
            throw error;
          });
          return parsedReturns;
        });
      } else {
        const me = this;
        return OK(function(...args) {
          const parsedArgs = me._def.args.safeParse(args, params);
          if (!parsedArgs.success) {
            throw new ZodError([makeArgsIssue(args, parsedArgs.error)]);
          }
          const result = Reflect.apply(fn, this, parsedArgs.data);
          const parsedReturns = me._def.returns.safeParse(result, params);
          if (!parsedReturns.success) {
            throw new ZodError([makeReturnsIssue(result, parsedReturns.error)]);
          }
          return parsedReturns.data;
        });
      }
    }
    parameters() {
      return this._def.args;
    }
    returnType() {
      return this._def.returns;
    }
    args(...items2) {
      return new ZodFunction({
        ...this._def,
        args: ZodTuple.create(items2).rest(ZodUnknown.create())
      });
    }
    returns(returnType) {
      return new ZodFunction({
        ...this._def,
        returns: returnType
      });
    }
    implement(func) {
      const validatedFunc = this.parse(func);
      return validatedFunc;
    }
    strictImplement(func) {
      const validatedFunc = this.parse(func);
      return validatedFunc;
    }
    static create(args, returns, params) {
      return new ZodFunction({
        args: args ? args : ZodTuple.create([]).rest(ZodUnknown.create()),
        returns: returns || ZodUnknown.create(),
        typeName: ZodFirstPartyTypeKind.ZodFunction,
        ...processCreateParams(params)
      });
    }
  }
  class ZodLazy extends ZodType {
    get schema() {
      return this._def.getter();
    }
    _parse(input) {
      const { ctx } = this._processInputParams(input);
      const lazySchema = this._def.getter();
      return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });
    }
  }
  ZodLazy.create = (getter, params) => {
    return new ZodLazy({
      getter,
      typeName: ZodFirstPartyTypeKind.ZodLazy,
      ...processCreateParams(params)
    });
  };
  class ZodLiteral extends ZodType {
    _parse(input) {
      if (input.data !== this._def.value) {
        const ctx = this._getOrReturnCtx(input);
        addIssueToContext(ctx, {
          received: ctx.data,
          code: ZodIssueCode.invalid_literal,
          expected: this._def.value
        });
        return INVALID;
      }
      return { status: "valid", value: input.data };
    }
    get value() {
      return this._def.value;
    }
  }
  ZodLiteral.create = (value, params) => {
    return new ZodLiteral({
      value,
      typeName: ZodFirstPartyTypeKind.ZodLiteral,
      ...processCreateParams(params)
    });
  };
  function createZodEnum(values, params) {
    return new ZodEnum({
      values,
      typeName: ZodFirstPartyTypeKind.ZodEnum,
      ...processCreateParams(params)
    });
  }
  class ZodEnum extends ZodType {
    _parse(input) {
      if (typeof input.data !== "string") {
        const ctx = this._getOrReturnCtx(input);
        const expectedValues = this._def.values;
        addIssueToContext(ctx, {
          expected: util$1.joinValues(expectedValues),
          received: ctx.parsedType,
          code: ZodIssueCode.invalid_type
        });
        return INVALID;
      }
      if (!this._cache) {
        this._cache = new Set(this._def.values);
      }
      if (!this._cache.has(input.data)) {
        const ctx = this._getOrReturnCtx(input);
        const expectedValues = this._def.values;
        addIssueToContext(ctx, {
          received: ctx.data,
          code: ZodIssueCode.invalid_enum_value,
          options: expectedValues
        });
        return INVALID;
      }
      return OK(input.data);
    }
    get options() {
      return this._def.values;
    }
    get enum() {
      const enumValues = {};
      for (const val of this._def.values) {
        enumValues[val] = val;
      }
      return enumValues;
    }
    get Values() {
      const enumValues = {};
      for (const val of this._def.values) {
        enumValues[val] = val;
      }
      return enumValues;
    }
    get Enum() {
      const enumValues = {};
      for (const val of this._def.values) {
        enumValues[val] = val;
      }
      return enumValues;
    }
    extract(values, newDef = this._def) {
      return ZodEnum.create(values, {
        ...this._def,
        ...newDef
      });
    }
    exclude(values, newDef = this._def) {
      return ZodEnum.create(this.options.filter((opt) => !values.includes(opt)), {
        ...this._def,
        ...newDef
      });
    }
  }
  ZodEnum.create = createZodEnum;
  class ZodNativeEnum extends ZodType {
    _parse(input) {
      const nativeEnumValues = util$1.getValidEnumValues(this._def.values);
      const ctx = this._getOrReturnCtx(input);
      if (ctx.parsedType !== ZodParsedType.string && ctx.parsedType !== ZodParsedType.number) {
        const expectedValues = util$1.objectValues(nativeEnumValues);
        addIssueToContext(ctx, {
          expected: util$1.joinValues(expectedValues),
          received: ctx.parsedType,
          code: ZodIssueCode.invalid_type
        });
        return INVALID;
      }
      if (!this._cache) {
        this._cache = new Set(util$1.getValidEnumValues(this._def.values));
      }
      if (!this._cache.has(input.data)) {
        const expectedValues = util$1.objectValues(nativeEnumValues);
        addIssueToContext(ctx, {
          received: ctx.data,
          code: ZodIssueCode.invalid_enum_value,
          options: expectedValues
        });
        return INVALID;
      }
      return OK(input.data);
    }
    get enum() {
      return this._def.values;
    }
  }
  ZodNativeEnum.create = (values, params) => {
    return new ZodNativeEnum({
      values,
      typeName: ZodFirstPartyTypeKind.ZodNativeEnum,
      ...processCreateParams(params)
    });
  };
  class ZodPromise extends ZodType {
    unwrap() {
      return this._def.type;
    }
    _parse(input) {
      const { ctx } = this._processInputParams(input);
      if (ctx.parsedType !== ZodParsedType.promise && ctx.common.async === false) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.promise,
          received: ctx.parsedType
        });
        return INVALID;
      }
      const promisified = ctx.parsedType === ZodParsedType.promise ? ctx.data : Promise.resolve(ctx.data);
      return OK(promisified.then((data2) => {
        return this._def.type.parseAsync(data2, {
          path: ctx.path,
          errorMap: ctx.common.contextualErrorMap
        });
      }));
    }
  }
  ZodPromise.create = (schema, params) => {
    return new ZodPromise({
      type: schema,
      typeName: ZodFirstPartyTypeKind.ZodPromise,
      ...processCreateParams(params)
    });
  };
  class ZodEffects extends ZodType {
    innerType() {
      return this._def.schema;
    }
    sourceType() {
      return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects ? this._def.schema.sourceType() : this._def.schema;
    }
    _parse(input) {
      const { status, ctx } = this._processInputParams(input);
      const effect = this._def.effect || null;
      const checkCtx = {
        addIssue: (arg) => {
          addIssueToContext(ctx, arg);
          if (arg.fatal) {
            status.abort();
          } else {
            status.dirty();
          }
        },
        get path() {
          return ctx.path;
        }
      };
      checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);
      if (effect.type === "preprocess") {
        const processed = effect.transform(ctx.data, checkCtx);
        if (ctx.common.async) {
          return Promise.resolve(processed).then(async (processed2) => {
            if (status.value === "aborted")
              return INVALID;
            const result = await this._def.schema._parseAsync({
              data: processed2,
              path: ctx.path,
              parent: ctx
            });
            if (result.status === "aborted")
              return INVALID;
            if (result.status === "dirty")
              return DIRTY(result.value);
            if (status.value === "dirty")
              return DIRTY(result.value);
            return result;
          });
        } else {
          if (status.value === "aborted")
            return INVALID;
          const result = this._def.schema._parseSync({
            data: processed,
            path: ctx.path,
            parent: ctx
          });
          if (result.status === "aborted")
            return INVALID;
          if (result.status === "dirty")
            return DIRTY(result.value);
          if (status.value === "dirty")
            return DIRTY(result.value);
          return result;
        }
      }
      if (effect.type === "refinement") {
        const executeRefinement = (acc) => {
          const result = effect.refinement(acc, checkCtx);
          if (ctx.common.async) {
            return Promise.resolve(result);
          }
          if (result instanceof Promise) {
            throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");
          }
          return acc;
        };
        if (ctx.common.async === false) {
          const inner = this._def.schema._parseSync({
            data: ctx.data,
            path: ctx.path,
            parent: ctx
          });
          if (inner.status === "aborted")
            return INVALID;
          if (inner.status === "dirty")
            status.dirty();
          executeRefinement(inner.value);
          return { status: status.value, value: inner.value };
        } else {
          return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((inner) => {
            if (inner.status === "aborted")
              return INVALID;
            if (inner.status === "dirty")
              status.dirty();
            return executeRefinement(inner.value).then(() => {
              return { status: status.value, value: inner.value };
            });
          });
        }
      }
      if (effect.type === "transform") {
        if (ctx.common.async === false) {
          const base = this._def.schema._parseSync({
            data: ctx.data,
            path: ctx.path,
            parent: ctx
          });
          if (!isValid(base))
            return INVALID;
          const result = effect.transform(base.value, checkCtx);
          if (result instanceof Promise) {
            throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);
          }
          return { status: status.value, value: result };
        } else {
          return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((base) => {
            if (!isValid(base))
              return INVALID;
            return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({
              status: status.value,
              value: result
            }));
          });
        }
      }
      util$1.assertNever(effect);
    }
  }
  ZodEffects.create = (schema, effect, params) => {
    return new ZodEffects({
      schema,
      typeName: ZodFirstPartyTypeKind.ZodEffects,
      effect,
      ...processCreateParams(params)
    });
  };
  ZodEffects.createWithPreprocess = (preprocess, schema, params) => {
    return new ZodEffects({
      schema,
      effect: { type: "preprocess", transform: preprocess },
      typeName: ZodFirstPartyTypeKind.ZodEffects,
      ...processCreateParams(params)
    });
  };
  class ZodOptional extends ZodType {
    _parse(input) {
      const parsedType = this._getType(input);
      if (parsedType === ZodParsedType.undefined) {
        return OK(void 0);
      }
      return this._def.innerType._parse(input);
    }
    unwrap() {
      return this._def.innerType;
    }
  }
  ZodOptional.create = (type2, params) => {
    return new ZodOptional({
      innerType: type2,
      typeName: ZodFirstPartyTypeKind.ZodOptional,
      ...processCreateParams(params)
    });
  };
  class ZodNullable extends ZodType {
    _parse(input) {
      const parsedType = this._getType(input);
      if (parsedType === ZodParsedType.null) {
        return OK(null);
      }
      return this._def.innerType._parse(input);
    }
    unwrap() {
      return this._def.innerType;
    }
  }
  ZodNullable.create = (type2, params) => {
    return new ZodNullable({
      innerType: type2,
      typeName: ZodFirstPartyTypeKind.ZodNullable,
      ...processCreateParams(params)
    });
  };
  class ZodDefault extends ZodType {
    _parse(input) {
      const { ctx } = this._processInputParams(input);
      let data2 = ctx.data;
      if (ctx.parsedType === ZodParsedType.undefined) {
        data2 = this._def.defaultValue();
      }
      return this._def.innerType._parse({
        data: data2,
        path: ctx.path,
        parent: ctx
      });
    }
    removeDefault() {
      return this._def.innerType;
    }
  }
  ZodDefault.create = (type2, params) => {
    return new ZodDefault({
      innerType: type2,
      typeName: ZodFirstPartyTypeKind.ZodDefault,
      defaultValue: typeof params.default === "function" ? params.default : () => params.default,
      ...processCreateParams(params)
    });
  };
  class ZodCatch extends ZodType {
    _parse(input) {
      const { ctx } = this._processInputParams(input);
      const newCtx = {
        ...ctx,
        common: {
          ...ctx.common,
          issues: []
        }
      };
      const result = this._def.innerType._parse({
        data: newCtx.data,
        path: newCtx.path,
        parent: {
          ...newCtx
        }
      });
      if (isAsync(result)) {
        return result.then((result2) => {
          return {
            status: "valid",
            value: result2.status === "valid" ? result2.value : this._def.catchValue({
              get error() {
                return new ZodError(newCtx.common.issues);
              },
              input: newCtx.data
            })
          };
        });
      } else {
        return {
          status: "valid",
          value: result.status === "valid" ? result.value : this._def.catchValue({
            get error() {
              return new ZodError(newCtx.common.issues);
            },
            input: newCtx.data
          })
        };
      }
    }
    removeCatch() {
      return this._def.innerType;
    }
  }
  ZodCatch.create = (type2, params) => {
    return new ZodCatch({
      innerType: type2,
      typeName: ZodFirstPartyTypeKind.ZodCatch,
      catchValue: typeof params.catch === "function" ? params.catch : () => params.catch,
      ...processCreateParams(params)
    });
  };
  class ZodNaN extends ZodType {
    _parse(input) {
      const parsedType = this._getType(input);
      if (parsedType !== ZodParsedType.nan) {
        const ctx = this._getOrReturnCtx(input);
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.nan,
          received: ctx.parsedType
        });
        return INVALID;
      }
      return { status: "valid", value: input.data };
    }
  }
  ZodNaN.create = (params) => {
    return new ZodNaN({
      typeName: ZodFirstPartyTypeKind.ZodNaN,
      ...processCreateParams(params)
    });
  };
  class ZodBranded extends ZodType {
    _parse(input) {
      const { ctx } = this._processInputParams(input);
      const data2 = ctx.data;
      return this._def.type._parse({
        data: data2,
        path: ctx.path,
        parent: ctx
      });
    }
    unwrap() {
      return this._def.type;
    }
  }
  class ZodPipeline extends ZodType {
    _parse(input) {
      const { status, ctx } = this._processInputParams(input);
      if (ctx.common.async) {
        const handleAsync = async () => {
          const inResult = await this._def.in._parseAsync({
            data: ctx.data,
            path: ctx.path,
            parent: ctx
          });
          if (inResult.status === "aborted")
            return INVALID;
          if (inResult.status === "dirty") {
            status.dirty();
            return DIRTY(inResult.value);
          } else {
            return this._def.out._parseAsync({
              data: inResult.value,
              path: ctx.path,
              parent: ctx
            });
          }
        };
        return handleAsync();
      } else {
        const inResult = this._def.in._parseSync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        });
        if (inResult.status === "aborted")
          return INVALID;
        if (inResult.status === "dirty") {
          status.dirty();
          return {
            status: "dirty",
            value: inResult.value
          };
        } else {
          return this._def.out._parseSync({
            data: inResult.value,
            path: ctx.path,
            parent: ctx
          });
        }
      }
    }
    static create(a, b) {
      return new ZodPipeline({
        in: a,
        out: b,
        typeName: ZodFirstPartyTypeKind.ZodPipeline
      });
    }
  }
  class ZodReadonly extends ZodType {
    _parse(input) {
      const result = this._def.innerType._parse(input);
      const freeze = (data2) => {
        if (isValid(data2)) {
          data2.value = Object.freeze(data2.value);
        }
        return data2;
      };
      return isAsync(result) ? result.then((data2) => freeze(data2)) : freeze(result);
    }
    unwrap() {
      return this._def.innerType;
    }
  }
  ZodReadonly.create = (type2, params) => {
    return new ZodReadonly({
      innerType: type2,
      typeName: ZodFirstPartyTypeKind.ZodReadonly,
      ...processCreateParams(params)
    });
  };
  var ZodFirstPartyTypeKind;
  (function(ZodFirstPartyTypeKind2) {
    ZodFirstPartyTypeKind2["ZodString"] = "ZodString";
    ZodFirstPartyTypeKind2["ZodNumber"] = "ZodNumber";
    ZodFirstPartyTypeKind2["ZodNaN"] = "ZodNaN";
    ZodFirstPartyTypeKind2["ZodBigInt"] = "ZodBigInt";
    ZodFirstPartyTypeKind2["ZodBoolean"] = "ZodBoolean";
    ZodFirstPartyTypeKind2["ZodDate"] = "ZodDate";
    ZodFirstPartyTypeKind2["ZodSymbol"] = "ZodSymbol";
    ZodFirstPartyTypeKind2["ZodUndefined"] = "ZodUndefined";
    ZodFirstPartyTypeKind2["ZodNull"] = "ZodNull";
    ZodFirstPartyTypeKind2["ZodAny"] = "ZodAny";
    ZodFirstPartyTypeKind2["ZodUnknown"] = "ZodUnknown";
    ZodFirstPartyTypeKind2["ZodNever"] = "ZodNever";
    ZodFirstPartyTypeKind2["ZodVoid"] = "ZodVoid";
    ZodFirstPartyTypeKind2["ZodArray"] = "ZodArray";
    ZodFirstPartyTypeKind2["ZodObject"] = "ZodObject";
    ZodFirstPartyTypeKind2["ZodUnion"] = "ZodUnion";
    ZodFirstPartyTypeKind2["ZodDiscriminatedUnion"] = "ZodDiscriminatedUnion";
    ZodFirstPartyTypeKind2["ZodIntersection"] = "ZodIntersection";
    ZodFirstPartyTypeKind2["ZodTuple"] = "ZodTuple";
    ZodFirstPartyTypeKind2["ZodRecord"] = "ZodRecord";
    ZodFirstPartyTypeKind2["ZodMap"] = "ZodMap";
    ZodFirstPartyTypeKind2["ZodSet"] = "ZodSet";
    ZodFirstPartyTypeKind2["ZodFunction"] = "ZodFunction";
    ZodFirstPartyTypeKind2["ZodLazy"] = "ZodLazy";
    ZodFirstPartyTypeKind2["ZodLiteral"] = "ZodLiteral";
    ZodFirstPartyTypeKind2["ZodEnum"] = "ZodEnum";
    ZodFirstPartyTypeKind2["ZodEffects"] = "ZodEffects";
    ZodFirstPartyTypeKind2["ZodNativeEnum"] = "ZodNativeEnum";
    ZodFirstPartyTypeKind2["ZodOptional"] = "ZodOptional";
    ZodFirstPartyTypeKind2["ZodNullable"] = "ZodNullable";
    ZodFirstPartyTypeKind2["ZodDefault"] = "ZodDefault";
    ZodFirstPartyTypeKind2["ZodCatch"] = "ZodCatch";
    ZodFirstPartyTypeKind2["ZodPromise"] = "ZodPromise";
    ZodFirstPartyTypeKind2["ZodBranded"] = "ZodBranded";
    ZodFirstPartyTypeKind2["ZodPipeline"] = "ZodPipeline";
    ZodFirstPartyTypeKind2["ZodReadonly"] = "ZodReadonly";
  })(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));
  const stringType = ZodString.create;
  const numberType = ZodNumber.create;
  const booleanType = ZodBoolean.create;
  const anyType = ZodAny.create;
  const unknownType = ZodUnknown.create;
  ZodNever.create;
  const voidType = ZodVoid.create;
  const arrayType = ZodArray.create;
  const objectType = ZodObject.create;
  const unionType = ZodUnion.create;
  const discriminatedUnionType = ZodDiscriminatedUnion.create;
  ZodIntersection.create;
  ZodTuple.create;
  const recordType = ZodRecord.create;
  const functionType = ZodFunction.create;
  const literalType = ZodLiteral.create;
  const enumType = ZodEnum.create;
  ZodPromise.create;
  const optionalType = ZodOptional.create;
  ZodNullable.create;
  class NodeProxyImpl {
    constructor(graphInstance, nodeId) {
      __publicField(this, "graphInstance");
      __publicField(this, "nodeId");
      this.graphInstance = graphInstance;
      this.nodeId = nodeId;
    }
    /**
     * Get the store for this node
     */
    get store() {
      const nodeStore = this.graphInstance.getNodeStore(this.nodeId);
      if (!nodeStore) {
        throw new Error(`No store found for node ${this.nodeId}`);
      }
      return nodeStore;
    }
    /**
     * Get typed actions for this node
     */
    get actions() {
      const nodeDef = this.graphInstance.getDefinition().getNode(this.nodeId);
      if (!nodeDef) {
        throw new Error(`Node definition not found for ${this.nodeId}`);
      }
      const actionProxy = new Proxy({}, {
        get: (target, actionName) => {
          if (typeof actionName !== "string") {
            return void 0;
          }
          const actionDef = nodeDef.actions[actionName];
          const isInternalAction = actionName.startsWith("__internal_");
          if (!actionDef && !isInternalAction) {
            throw new Error(`Action ${actionName} not found for node ${this.nodeId}`);
          }
          return async (data2, signal) => {
            const connectionInfo = this.getConnectionInfo();
            if (!connectionInfo) {
              throw new Error(`No connection available for node ${this.nodeId}`);
            }
            const { transport, path } = connectionInfo;
            const sourceNodeId = this.graphInstance.getCurrentNodeId();
            if (!(actionDef == null ? void 0 : actionDef.stream)) {
              const responseSchema = anyType();
              let result;
              if (path.length === 2) {
                result = await transport.request({
                  method: "sdppp/directRequest",
                  params: {
                    action: actionName,
                    data: data2,
                    sourceNodeId
                  }
                }, responseSchema);
              } else {
                try {
                  result = await transport.request({
                    method: "sdppp/directRequest",
                    params: {
                      action: "__proxy_forward",
                      data: {
                        targetNodeId: this.nodeId,
                        targetAction: actionName,
                        targetData: data2,
                        forwardPath: path.slice(1)
                        // Remove current node from path
                      },
                      sourceNodeId
                    }
                  }, responseSchema);
                } catch (error) {
                  console.error(`Error in direct request ${actionName}:`, error);
                  console.error({
                    targetNodeId: this.nodeId,
                    targetAction: actionName,
                    targetData: data2,
                    forwardPath: path.slice(1)
                    // Remove current node from path
                  });
                  throw error;
                }
              }
              return result;
            }
            let streamIteratorPromise;
            if (path.length === 2) {
              streamIteratorPromise = transport.streamRequest({
                action: actionName,
                data: data2,
                sourceNodeId
              }, actionDef.responseSchema, signal);
            } else {
              streamIteratorPromise = transport.streamRequest({
                action: "__proxy_forward",
                data: {
                  targetNodeId: this.nodeId,
                  targetAction: actionName,
                  targetData: data2,
                  forwardPath: path.slice(1)
                  // Remove current node from path
                },
                sourceNodeId
              }, actionDef.responseSchema, signal);
            }
            return streamIteratorPromise;
          };
        }
      });
      return actionProxy;
    }
    /**
     * Get the transport connection for this node proxy
     */
    getConnectionInfo() {
      return this.graphInstance.getTransportToNode(this.nodeId);
    }
  }
  class GraphStoreSynchronizer {
    // BroadcastManager type
    constructor(graphInstance) {
      __publicField(this, "graphInstance");
      // GraphInstance type
      __publicField(this, "actionManager");
      // ActionManager type
      __publicField(this, "broadcastManager");
      this.graphInstance = graphInstance;
      this.actionManager = graphInstance.actionManager;
      this.broadcastManager = graphInstance.broadcastManager;
    }
    initializeConsumer({
      store,
      storeName,
      onStateUpdate,
      requestInitialState
    }) {
      this.broadcastManager.registerHandler(`store:update:${storeName}`, (payload) => {
        try {
          if (payload.sourceNodeId !== this.graphInstance.getCurrentNodeId()) {
            onStateUpdate(payload.stateUpdate);
          } else {
          }
        } catch (error) {
          console.error(`[GraphStoreSynchronizer] Error processing store update for ${storeName}:`, error);
        }
      });
    }
    initializeProducer({
      store,
      storeName,
      sendStateUpdate,
      onInitialStateRequested
    }) {
      const currentNodeId = this.graphInstance.getCurrentNodeId();
      const broadcastStateUpdate = async (state, isInitialState = false) => {
        const transportReady = this.isTransportReady();
        if (transportReady) {
          try {
            await this.broadcastManager.broadcast(`store:update:${storeName}`, {
              storeName,
              sourceNodeId: currentNodeId,
              stateUpdate: state,
              isInitialState
            });
          } catch (error) {
            console.error(`[GraphStoreSynchronizer] Error broadcasting state update for ${storeName}:`, error);
          }
        }
      };
      const unsubscribe = store.subscribe((state) => {
        broadcastStateUpdate(state, false);
      });
      onInitialStateRequested(() => {
        broadcastStateUpdate(store.getState(), true);
      });
      const actionName = `__internal_requestInitialState_${storeName}`;
      this.actionManager.implementInternalAction(actionName, async () => {
        const currentState = store.getState();
        await broadcastStateUpdate(currentState, true);
        return { success: true };
      });
      this.broadcastManager.registerHandler(`__connection_established`, async (payload) => {
        try {
          if (payload.toNode === currentNodeId || payload.fromNode === currentNodeId) {
            await broadcastStateUpdate(store.getState(), true);
          }
        } catch (error) {
        }
      });
      return () => {
        var _a;
        unsubscribe();
        (_a = this.actionManager.actionHandlers) == null ? void 0 : _a.delete(actionName);
      };
    }
    isTransportReady() {
      var _a;
      try {
        const connectionManager = this.graphInstance.connectionManager;
        const hasConnectedNodes = connectionManager && connectionManager.getConnectionCount() > 0;
        const hasMountedEndpoint = ((_a = this.broadcastManager.mountedEndpoints) == null ? void 0 : _a.size) > 0;
        return hasConnectedNodes || hasMountedEndpoint;
      } catch {
        return !!this.broadcastManager;
      }
    }
    /**
     * Manually broadcast the current state of a store
     */
    async broadcastCurrentState(store, storeName) {
      const currentNodeId = this.graphInstance.getCurrentNodeId();
      const transportReady = this.isTransportReady();
      if (transportReady) {
        try {
          await this.broadcastManager.broadcast(`store:update:${storeName}`, {
            storeName,
            sourceNodeId: currentNodeId,
            stateUpdate: store.getState(),
            isInitialState: true
          });
        } catch (error) {
        }
      }
    }
  }
  function bindStoreConsumerSideGraph({
    graphInstance,
    store,
    name
  }) {
    const synchronizer = new GraphStoreSynchronizer(graphInstance);
    const onStateUpdate = (newState) => {
      const currentState = store.getState();
      const updatedState = { ...currentState, ...newState };
      store.setState(updatedState);
    };
    const requestInitialState = async () => {
      const actionName = `__internal_requestInitialState_${name}`;
      try {
        const nodeProxy = graphInstance.getNode(name);
        if (nodeProxy && nodeProxy.actions && nodeProxy.actions[actionName]) {
          await nodeProxy.actions[actionName]();
        }
      } catch (error) {
        console.warn(`Failed to request initial state for ${name}:`, error);
      }
    };
    synchronizer.initializeConsumer({
      store,
      storeName: name,
      onStateUpdate,
      requestInitialState
    });
  }
  function bindStoreProducerSideGraph({
    graphInstance,
    store,
    name
  }) {
    const synchronizer = new GraphStoreSynchronizer(graphInstance);
    const sendStateUpdate = async (state) => {
    };
    const onInitialStateRequested = (callback) => {
    };
    return synchronizer.initializeProducer({
      store,
      storeName: name,
      sendStateUpdate,
      onInitialStateRequested
    });
  }
  class BroadcastManager {
    constructor() {
      __publicField(this, "broadcastHandlers", /* @__PURE__ */ new Map());
      __publicField(this, "transports", /* @__PURE__ */ new Map());
      __publicField(this, "mountedTransports", /* @__PURE__ */ new Set());
    }
    /**
     * Create a global dispatcher that handles all message types
     */
    createGlobalDispatcherForType(broadcastType) {
      return (payload) => {
        const handlers = this.broadcastHandlers.get(broadcastType);
        if (handlers) {
          for (const handler of handlers) {
            try {
              handler(payload);
            } catch (error) {
              console.error(`Error in broadcast handler for ${broadcastType}:`, error);
            }
          }
        }
        if (!payload.forwarded) {
          this.forwardBroadcast(broadcastType, payload);
        }
      };
    }
    /**
     * Forward a broadcast message to all other transports
     * This enables indirect synchronization through intermediate nodes
     */
    async forwardBroadcast(broadcastType, payload) {
      try {
        const forwardedPayload = { ...payload, forwarded: true };
        const allTransports = [
          ...Array.from(this.transports.values()),
          ...Array.from(this.mountedTransports)
        ];
        const forwardPromises = allTransports.map((transport) => {
          return transport.notification({
            method: "sdppp/broadcast",
            params: { messageType: broadcastType, message: forwardedPayload }
          }).catch((error) => {
            console.error(`[BroadcastManager] Error forwarding ${broadcastType}:`, error);
          });
        });
        await Promise.all(forwardPromises);
      } catch (error) {
        console.error("[BroadcastManager] Error forwarding broadcast:", error);
      }
    }
    /**
     * Register a broadcast message handler
     */
    registerHandler(broadcastType, handler) {
      if (!this.broadcastHandlers.has(broadcastType)) {
        this.broadcastHandlers.set(broadcastType, /* @__PURE__ */ new Set());
      }
      this.broadcastHandlers.get(broadcastType).add(handler);
    }
    /**
     * Setup broadcast handlers for a new transport
     */
    setupTransportHandlers(transport) {
      this.setupGeneralBroadcastHandler(transport);
    }
    /**
     * Setup a general broadcast handler that handles all broadcast types
     */
    setupGeneralBroadcastHandler(transport) {
      const broadcastSchema = objectType({
        method: literalType("sdppp/broadcast"),
        params: objectType({
          messageType: stringType(),
          message: anyType()
        })
      });
      transport.setNotificationHandler(broadcastSchema, async (notification) => {
        const broadcastType = notification.params.messageType;
        const dispatcher = this.createGlobalDispatcherForType(broadcastType);
        dispatcher(notification.params.message);
      });
    }
    /**
     * Add a transport to the broadcast manager
     */
    addMiddleware(nodeId, transport) {
      this.transports.set(nodeId, transport);
      this.setupTransportHandlers(transport);
    }
    /**
     * Remove a transport from the broadcast manager
     */
    removeMiddleware(nodeId) {
      this.transports.delete(nodeId);
    }
    /**
     * Broadcast a named message to all connected nodes (excluding self)
     */
    async broadcast(broadcastName, payload) {
      const allTransports = [
        ...Array.from(this.transports.values()),
        ...Array.from(this.mountedTransports)
      ];
      const broadcastPromises = allTransports.map((transport) => {
        return transport.notification({
          method: "sdppp/broadcast",
          params: { messageType: broadcastName, message: payload }
        });
      });
      await Promise.all(broadcastPromises);
    }
    /**
     * Mount broadcast handlers to a transport
     */
    mountTo(transport) {
      this.mountedTransports.add(transport);
      this.setupTransportHandlers(transport);
    }
    /**
     * Get all registered handler types
     */
    getHandlerTypes() {
      return Array.from(this.broadcastHandlers.keys());
    }
    /**
     * Clear all handlers and transports
     */
    clear() {
      this.broadcastHandlers.clear();
      this.transports.clear();
      this.mountedTransports.clear();
    }
  }
  class ActionManager {
    constructor(definition, currentNodeId, getTransport) {
      __publicField(this, "actionHandlers", /* @__PURE__ */ new Map());
      __publicField(this, "definition");
      __publicField(this, "currentNodeId");
      __publicField(this, "getTransport");
      this.definition = definition;
      this.currentNodeId = currentNodeId;
      this.getTransport = getTransport;
    }
    /**
     * Implement an action handler
     */
    implementAction(actionName, handler) {
      const nodeDef = this.definition.getNode(this.currentNodeId);
      if (!nodeDef) {
        throw new Error(`Node definition not found for ${this.currentNodeId}`);
      }
      const actionDef = nodeDef.actions[actionName];
      if (!actionDef) {
        throw new Error(`Action ${String(actionName)} not found for node ${this.currentNodeId}`);
      }
      this.validateHandlerType(actionName, handler, actionDef);
      this.actionHandlers.set(actionName, handler);
    }
    /**
     * Validate that the handler matches the expected type based on stream property
     */
    validateHandlerType(actionName, handler, actionDef) {
      actionDef.stream === true;
    }
    /**
     * Implement an internal action handler without validation against graph definition
     * This is used for system-level actions like store synchronization
     */
    implementInternalAction(actionName, handler) {
      this.actionHandlers.set(actionName, handler);
    }
    /**
     * Mount action handlers to middleware and streamRequestor
     */
    mountTo(transport) {
      for (const [actionName, handler] of this.actionHandlers) {
        const nodeDef = this.definition.getNode(this.currentNodeId);
        const actionDef = nodeDef == null ? void 0 : nodeDef.actions[actionName];
        const isInternalAction = actionName.startsWith("__internal_");
        const isStreaming = isInternalAction ? false : (actionDef == null ? void 0 : actionDef.stream) === true;
        if (isStreaming) {
          const actionSchema = objectType({
            action: literalType(actionName)
          });
          transport.registerStreamRequestorHandler(actionSchema, async function* (params, extra, signal) {
            const actualParams = params.data || params;
            const result = handler(actualParams, extra, signal);
            if (result && typeof result === "object" && Symbol.asyncIterator in result) {
              for await (const item of result) {
                yield item === void 0 ? {} : item;
              }
            } else {
              const awaitedResult = await result;
              yield awaitedResult === void 0 ? {} : awaitedResult;
            }
          });
        }
      }
      this.registerProxyForwardHandler(transport);
      this.registerDirectRequestHandlerGeneric(transport);
    }
    /**
     * Register the proxy forward handler for indirect action calls
     */
    registerProxyForwardHandler(transport) {
      const proxyForwardSchema = objectType({
        action: literalType("__proxy_forward")
      });
      const self = this;
      transport.registerStreamRequestorHandler(proxyForwardSchema, async function* (params, extra, signal) {
        const requestData = params.data || params;
        const { targetNodeId, targetAction, targetData, forwardPath } = requestData;
        if (!forwardPath || forwardPath.length === 0) {
          throw new Error("Invalid forward path for proxy action");
        }
        const nextNodeId = forwardPath[0];
        const remainingPath = forwardPath.slice(1);
        if (remainingPath.length === 0 && nextNodeId === self.currentNodeId) {
          const handler = self.actionHandlers.get(targetAction);
          if (!handler) {
            throw new Error(`Action ${targetAction} not found on node ${self.currentNodeId}`);
          }
          const result = handler(targetData, extra, signal);
          if (result && typeof result === "object" && Symbol.asyncIterator in result) {
            for await (const item of result) {
              yield item === void 0 ? {} : item;
            }
          } else {
            const awaitedResult = await result;
            yield awaitedResult === void 0 ? {} : awaitedResult;
          }
          return;
        }
        if (nextNodeId === self.currentNodeId && remainingPath.length > 0) {
          const nextHopNodeId = remainingPath[0];
          const nextHopTransport = self.getTransport(nextHopNodeId);
          if (nextHopTransport) {
            const forwardedAction = await nextHopTransport.streamRequest({
              action: "__proxy_forward",
              data: {
                targetNodeId,
                targetAction,
                targetData,
                forwardPath: remainingPath
              }
            }, objectType({}), signal);
            for await (const item of forwardedAction) {
              yield item === void 0 ? {} : item;
            }
            return;
          }
          throw new Error(`Cannot forward to node ${nextHopNodeId} - no connection available`);
        }
        throw new Error(`Invalid proxy forwarding: current node ${self.currentNodeId} not in path ${forwardPath}`);
      });
    }
    /**
     * Get all registered action names
     */
    getRegisteredActions() {
      return Array.from(this.actionHandlers.keys());
    }
    /**
     * Check if an action is registered
     */
    hasAction(actionName) {
      return this.actionHandlers.has(actionName);
    }
    /**
     * Get action handler by name (for internal use by GraphInstance)
     */
    getHandler(actionName) {
      return this.actionHandlers.get(actionName);
    }
    /**
     * Clear all action handlers
     */
    clear() {
      this.actionHandlers.clear();
    }
    /**
     * Register direct request handler for a specific action (non-streaming)
     */
    registerDirectRequestHandler(endpoint, actionName, handler) {
    }
    /**
     * Register generic direct request handler for all non-streaming actions
     */
    registerDirectRequestHandlerGeneric(transport) {
      const directRequestSchema = objectType({
        method: literalType("sdppp/directRequest"),
        params: objectType({
          action: stringType(),
          data: anyType().optional()
        })
      });
      const self = this;
      transport.setRequestHandler(directRequestSchema, async (request, extra) => {
        const { action, data: data2 } = request.params;
        if (action === "__proxy_forward") {
          return await self.handleDirectProxyForward(data2, extra);
        }
        const actionHandler = self.actionHandlers.get(action);
        if (!actionHandler) {
          throw new Error(`Action ${action} not found on node ${self.currentNodeId}`);
        }
        const result = actionHandler(data2, extra);
        const awaitedResult = await result;
        return awaitedResult === void 0 ? {} : awaitedResult;
      });
    }
    /**
     * Handle direct proxy forward for non-streaming actions
     */
    async handleDirectProxyForward(requestData, extra) {
      const { targetNodeId, targetAction, targetData, forwardPath } = requestData;
      if (!forwardPath || forwardPath.length === 0) {
        throw new Error("Invalid forward path for proxy action");
      }
      const nextNodeId = forwardPath[0];
      const remainingPath = forwardPath.slice(1);
      if (remainingPath.length === 0 && nextNodeId === this.currentNodeId) {
        const handler = this.actionHandlers.get(targetAction);
        if (!handler) {
          throw new Error(`Action ${targetAction} not found on node ${this.currentNodeId}`);
        }
        const result = handler(targetData, extra);
        const awaitedResult = await result;
        return awaitedResult === void 0 ? {} : awaitedResult;
      }
      if (nextNodeId === this.currentNodeId && remainingPath.length > 0) {
        const nextHopNodeId = remainingPath[0];
        const nextHopTransport = this.getTransport(nextHopNodeId);
        if (nextHopTransport) {
          return await nextHopTransport.request({
            method: "sdppp/directRequest",
            params: {
              action: "__proxy_forward",
              data: {
                targetNodeId,
                targetAction,
                targetData,
                forwardPath: remainingPath
              }
            }
          }, anyType());
        }
        throw new Error(`Cannot forward to node ${nextHopNodeId} - no connection available`);
      }
      throw new Error(`Invalid proxy forwarding: current node ${this.currentNodeId} not in path ${forwardPath}`);
    }
  }
  class ConnectionManager {
    constructor(definition, currentNodeId) {
      __publicField(this, "definition");
      __publicField(this, "currentNodeId");
      __publicField(this, "connectedNodes", /* @__PURE__ */ new Set());
      this.definition = definition;
      this.currentNodeId = currentNodeId;
    }
    /**
     * Mark a node as connected
     */
    markConnected(nodeId) {
      this.connectedNodes.add(nodeId);
    }
    /**
     * Mark a node as disconnected
     */
    markDisconnected(nodeId) {
      this.connectedNodes.delete(nodeId);
    }
    /**
     * Check if a node is connected
     */
    isConnected(nodeId) {
      return this.connectedNodes.has(nodeId);
    }
    /**
     * Find path between two nodes using BFS
     */
    findPath(fromNodeId, toNodeId) {
      if (fromNodeId === toNodeId) {
        return [fromNodeId];
      }
      const visited = /* @__PURE__ */ new Set();
      const queue = [{ nodeId: fromNodeId, path: [fromNodeId] }];
      while (queue.length > 0) {
        const { nodeId, path } = queue.shift();
        if (visited.has(nodeId)) {
          continue;
        }
        visited.add(nodeId);
        const neighbors = this.definition.getNeighbors(nodeId);
        for (const neighbor of neighbors) {
          if (neighbor === toNodeId) {
            return [...path, neighbor];
          }
          if (!visited.has(neighbor)) {
            queue.push({ nodeId: neighbor, path: [...path, neighbor] });
          }
        }
      }
      return void 0;
    }
    /**
     * Get all connected node IDs
     */
    getConnectedNodeIds() {
      return Array.from(this.connectedNodes);
    }
    /**
     * Get the number of connections
     */
    getConnectionCount() {
      return this.connectedNodes.size;
    }
    /**
     * Get all nodes reachable from the current node
     * Uses BFS to find all nodes that can be reached through direct or indirect connections
     */
    getAllReachableNodes() {
      const reachable = /* @__PURE__ */ new Set();
      const visited = /* @__PURE__ */ new Set();
      const queue = [this.currentNodeId];
      visited.add(this.currentNodeId);
      while (queue.length > 0) {
        const currentNode = queue.shift();
        const neighbors = this.definition.getNeighbors(currentNode);
        for (const neighbor of neighbors) {
          if (!visited.has(neighbor)) {
            visited.add(neighbor);
            if (this.connectedNodes.has(neighbor) || this.canReachThroughConnectedNodes(neighbor, visited)) {
              reachable.add(neighbor);
              queue.push(neighbor);
            }
          }
        }
      }
      return Array.from(reachable);
    }
    /**
     * Check if a node can be reached through connected nodes
     */
    canReachThroughConnectedNodes(targetNode, visited) {
      const path = this.findPath(this.currentNodeId, targetNode);
      if (!path || path.length <= 1) {
        return false;
      }
      for (let i = 1; i < path.length - 1; i++) {
        if (!this.connectedNodes.has(path[i])) {
          return false;
        }
      }
      return true;
    }
    /**
     * Clear all connections
     */
    clear() {
      this.connectedNodes.clear();
    }
  }
  class GraphInstanceImpl {
    constructor(definition, nodeId) {
      __publicField(this, "definition");
      __publicField(this, "currentNodeId");
      __publicField(this, "nodeStores", /* @__PURE__ */ new Map());
      __publicField(this, "nodeProxies", /* @__PURE__ */ new Map());
      __publicField(this, "broadcastManager");
      __publicField(this, "actionManager");
      __publicField(this, "connectionManager");
      // 统一使用MCPSDPPPSessionAdaptor，同时具备middleware和streaming能力
      __publicField(this, "nodeTransports", /* @__PURE__ */ new Map());
      this.definition = definition;
      this.currentNodeId = nodeId;
      this.initializeNodeStores();
      this.broadcastManager = new BroadcastManager();
      this.actionManager = new ActionManager(
        definition,
        nodeId,
        (nodeId2) => this.getTransportInternal(nodeId2)
      );
      this.connectionManager = new ConnectionManager(
        definition,
        nodeId
      );
      this.setupGraphStoreSync();
    }
    /**
     * Initialize Zustand stores for all nodes based on their schemas
     */
    initializeNodeStores() {
      for (const nodeId of this.definition.getNodeIds()) {
        const nodeDef = this.definition.getNode(nodeId);
        if (nodeDef && nodeDef.store) {
          const defaultValues = this.getDefaultValuesFromSchema(nodeDef.store);
          const store = createStore(() => defaultValues);
          this.nodeStores.set(nodeId, store);
        }
      }
    }
    /**
     * Extract default values from Zod schema
     */
    getDefaultValuesFromSchema(schema) {
      if (!schema) {
        return {};
      }
      try {
        return schema.parse({});
      } catch (error) {
        return this.manuallyExtractDefaults(schema);
      }
    }
    /**
     * Manually extract defaults as fallback
     */
    manuallyExtractDefaults(schema) {
      if (!schema || !schema.def) {
        return {};
      }
      if (schema.def.type === "default") {
        const defaultValue = schema.def.defaultValue;
        return typeof defaultValue === "function" ? defaultValue() : defaultValue;
      }
      if (schema.def.type === "object") {
        const result = {};
        let shape;
        try {
          shape = schema.def.shape;
        } catch (error) {
          return {};
        }
        if (shape) {
          for (const [key, fieldSchema] of Object.entries(shape)) {
            const defaultValue = this.getDefaultValueFromField(fieldSchema);
            if (defaultValue !== void 0) {
              result[key] = defaultValue;
            }
          }
        }
        return result;
      }
      return {};
    }
    /**
     * Get default value from individual field schema
     */
    getDefaultValueFromField(schema) {
      if (!schema) {
        return void 0;
      }
      try {
        return schema.parse(void 0);
      } catch {
        return this.manuallyExtractDefaults(schema);
      }
    }
    /**
     * Connect to a node using MCPMiddleware
     */
    async connect(nodeId, transport) {
      if (!this.definition.hasEdge(this.currentNodeId, nodeId)) {
        throw new Error(`No edge defined from ${this.currentNodeId} to ${nodeId}`);
      }
      if (this.nodeTransports.has(nodeId)) {
        throw new Error(`Already connected to node ${nodeId}`);
      }
      try {
        this.nodeTransports.set(nodeId, transport);
        this.connectionManager.markConnected(nodeId);
        this.setupNodeBindings(nodeId, transport);
        await this.syncStoresToNewConnection(nodeId);
        await this.requestInitialStateForNode(nodeId);
      } catch (error) {
        this.cleanupConnection(nodeId);
        throw error;
      }
    }
    /**
     * Disconnect from a node
     */
    disconnect(nodeId) {
      this.cleanupConnection(nodeId);
    }
    /**
     * Sync stores to a newly connected node
     */
    async syncStoresToNewConnection(nodeId) {
      await new Promise((resolve) => setTimeout(resolve, 100));
      for (const [storeNodeId, store] of this.nodeStores) {
        if (storeNodeId === this.currentNodeId) {
          try {
            await this.broadcastManager.broadcast(`store:update:${storeNodeId}`, {
              storeName: storeNodeId,
              sourceNodeId: this.currentNodeId,
              stateUpdate: store.getState(),
              isInitialState: true
            });
          } catch (error) {
          }
        }
      }
      try {
        await this.broadcastManager.broadcast(`__connection_established`, {
          fromNode: this.currentNodeId,
          toNode: nodeId
        });
      } catch (error) {
      }
    }
    /**
     * Request initial state for all nodes reachable after establishing a new connection
     */
    async requestInitialStateForNode(nodeId) {
      try {
        const reachableNodes = this.connectionManager.getAllReachableNodes();
        for (const reachableNodeId of reachableNodes) {
          try {
            const actionName = `__internal_requestInitialState_${reachableNodeId}`;
            const nodeProxy = this.getNode(reachableNodeId);
            if (nodeProxy && nodeProxy.actions && nodeProxy.actions[actionName]) {
              await nodeProxy.actions[actionName]({});
            }
          } catch (error) {
            console.log(`Failed to request initial state for ${reachableNodeId}:`, error);
          }
        }
      } catch (error) {
        console.log(`Failed to request initial states after connecting to ${nodeId}:`, error);
      }
    }
    /**
     * Cleanup connection resources
     */
    cleanupConnection(nodeId) {
      const transport = this.nodeTransports.get(nodeId);
      this.nodeTransports.delete(nodeId);
      this.connectionManager.markDisconnected(nodeId);
      this.broadcastManager.removeMiddleware(nodeId);
      if (transport) {
        transport.cleanup();
      }
    }
    /**
     * Setup current node connection bindings (merged from mountTo functionality)
     */
    setupNodeBindings(nodeId, transport) {
      const currentStore = this.nodeStores.get(this.currentNodeId);
      if (!currentStore) {
        throw new Error(`Store not found for ${this.currentNodeId}`);
      }
      this.actionManager.mountTo(transport);
      this.broadcastManager.addMiddleware(nodeId, transport);
    }
    /**
     * Setup graph-based store synchronization for all stores
     * This enables indirect synchronization through broadcast mechanism
     */
    setupGraphStoreSync() {
      for (const [nodeId, store] of this.nodeStores) {
        if (nodeId === this.currentNodeId) {
          bindStoreProducerSideGraph({
            graphInstance: this,
            store,
            name: nodeId
          });
        } else {
          bindStoreConsumerSideGraph({
            graphInstance: this,
            store,
            name: nodeId
          });
        }
      }
    }
    /**
     * Get the node proxy
     */
    getNode(nodeId) {
      if (!this.nodeProxies.has(nodeId)) {
        const proxy = new NodeProxyImpl(this, nodeId);
        this.nodeProxies.set(nodeId, proxy);
      }
      return this.nodeProxies.get(nodeId);
    }
    /**
     * Get the middleware for a specific node (internal use only)
     */
    getTransportInternal(nodeId) {
      return this.nodeTransports.get(nodeId);
    }
    /**
     * Get middleware and streamRequestor for a node (direct or indirect)
     */
    getTransportToNode(nodeId) {
      const directTransport = this.nodeTransports.get(nodeId);
      if (directTransport) {
        return {
          transport: directTransport,
          path: [this.currentNodeId, nodeId]
        };
      }
      const path = this.findPathInternal(this.currentNodeId, nodeId);
      if (path && path.length > 1) {
        const firstHop = path[1];
        const transport = this.nodeTransports.get(firstHop);
        if (transport) {
          return { transport, path };
        }
      }
      return void 0;
    }
    /**
     * Get node store
     */
    getNodeStore(nodeId) {
      return this.nodeStores.get(nodeId);
    }
    /**
     * Get the store for the current node
     */
    get store() {
      const currentStore = this.nodeStores.get(this.currentNodeId);
      if (!currentStore) {
        throw new Error(`Store not found for current node ${this.currentNodeId}`);
      }
      return currentStore;
    }
    /**
     * Get typed actions for the current node
     */
    get actions() {
      const currentNodeDef = this.definition.getNode(this.currentNodeId);
      if (!currentNodeDef) {
        throw new Error(`Node definition not found for current node ${this.currentNodeId}`);
      }
      const actionProxy = new Proxy({}, {
        get: (_target, actionName) => {
          if (typeof actionName !== "string") {
            return void 0;
          }
          const actionDef = currentNodeDef.actions[actionName];
          if (!actionDef) {
            throw new Error(`Action ${actionName} not found for current node ${this.currentNodeId}`);
          }
          return (data2, signal) => {
            const handler = this.actionManager.getHandler(actionName);
            if (!handler) {
              throw new Error(`Action handler ${actionName} not implemented for node ${this.currentNodeId}`);
            }
            const extra = {
              nodeId: this.currentNodeId
              // Can add other context information
            };
            if (actionDef.stream === true) {
              const result = handler(data2, extra, signal);
              if (result && typeof result === "object" && Symbol.asyncIterator in result) {
                return async function* () {
                  for await (const item of result) {
                    yield item === void 0 ? {} : item;
                  }
                }();
              } else {
                return async function* () {
                  const awaitedResult = await result;
                  yield awaitedResult === void 0 ? {} : awaitedResult;
                }();
              }
            } else {
              return (async () => {
                const result = handler(data2, extra, signal);
                if (result && typeof result === "object" && Symbol.asyncIterator in result) {
                  const iterator = result[Symbol.asyncIterator]();
                  const firstResult = await iterator.next();
                  return firstResult.value === void 0 ? {} : firstResult.value;
                } else {
                  const awaitedResult = await result;
                  return awaitedResult === void 0 ? {} : awaitedResult;
                }
              })();
            }
          };
        }
      });
      return actionProxy;
    }
    /**
     * Get the graph definition
     */
    getDefinition() {
      return this.definition;
    }
    /**
     * Get the current node ID
     */
    getCurrentNodeId() {
      return this.currentNodeId;
    }
    /**
     * Get connection to a node (direct or indirect) - internal use
     */
    getConnectionToNodeInternal(nodeId) {
      return this.getTransportToNode(nodeId);
    }
    /**
     * Mount store listeners and action handlers to MCP instance
     */
    /**
     * Implement action for current node with type safety
     */
    implementAction(actionName, handler) {
      this.actionManager.implementAction(actionName, handler);
    }
    /**
     * Cleanup resources
     */
    destroy() {
      const nodeIds = Array.from(this.nodeTransports.keys());
      for (const nodeId of nodeIds) {
        this.cleanupConnection(nodeId);
      }
      this.broadcastManager.clear();
      this.actionManager.clear();
      this.connectionManager.clear();
    }
    /**
     * Find path between two nodes using BFS - internal use
     */
    findPathInternal(fromNodeId, toNodeId) {
      return this.connectionManager.findPath(fromNodeId, toNodeId);
    }
    /**
     * Find path between two nodes using BFS - public interface
     */
    findPath(fromNodeId, toNodeId) {
      return this.findPathInternal(fromNodeId, toNodeId);
    }
    /**
     * Broadcast a named message to all connected nodes (excluding self)
     */
    async broadcast(broadcastName, payload) {
      return this.broadcastManager.broadcast(broadcastName, payload);
    }
    /**
     * Register a handler for received broadcast messages
     */
    broadcastReceived(broadcastName, handler) {
      this.broadcastManager.registerHandler(broadcastName, handler);
    }
  }
  const MiddlewareErrors = {
    INTERCEPTOR_ERROR: "interceptor_error"
  };
  class MiddlewareError extends Error {
    constructor(type2, method, message, originalError) {
      super(message);
      __publicField(this, "type");
      __publicField(this, "method");
      __publicField(this, "originalError");
      this.name = "MiddlewareError";
      this.type = type2;
      this.method = method;
      this.originalError = originalError;
    }
  }
  class MCPMiddleware {
    constructor(protocol, options = {}) {
      __publicField(this, "protocol");
      __publicField(this, "realTransport", null);
      __publicField(this, "options");
      // 传入消息处理器
      __publicField(this, "requestHandlers", /* @__PURE__ */ new Map());
      __publicField(this, "notificationHandlers", /* @__PURE__ */ new Map());
      // 传出消息拦截器
      __publicField(this, "outgoingRequestInterceptors", /* @__PURE__ */ new Map());
      __publicField(this, "outgoingNotificationInterceptors", /* @__PURE__ */ new Map());
      // Transport接口需要的事件处理器
      __publicField(this, "messageHandlers", []);
      __publicField(this, "closeHandlers", []);
      __publicField(this, "errorHandlers", []);
      // 统计信息
      __publicField(this, "stats", {
        requestsHandled: 0,
        notificationsHandled: 0,
        requestsIntercepted: 0,
        notificationsIntercepted: 0,
        errors: 0
      });
      this.protocol = protocol;
      this.options = {
        debug: false,
        interceptorTimeout: 5e3,
        continueOnInterceptorError: true,
        ...options
      };
    }
    /**
     * 连接到真实transport，并将自己作为transport传给protocol
     */
    async connect(transport) {
      this.realTransport = transport;
      transport.onmessage = (message) => {
        this.handleIncomingMessage(message);
      };
      transport.onclose = () => {
        this.closeHandlers.forEach((handler) => handler());
      };
      transport.onerror = (error) => {
        this.errorHandlers.forEach((handler) => handler(error));
      };
      await this.protocol.connect(this);
    }
    /**
     * 处理从真实transport来的消息
     */
    async handleIncomingMessage(message) {
      this.log("debug", "Incoming message:", message);
      try {
        if (this.isRequest(message)) {
          const handled = await this.handleIncomingRequest(message);
          if (handled) {
            return;
          }
        }
        if (this.isNotification(message)) {
          const handled = await this.handleIncomingNotification(message);
          if (handled) {
            return;
          }
        }
        this.messageHandlers.forEach((handler) => handler(message));
      } catch (error) {
        this.stats.errors++;
        this.log("error", "Error handling incoming message:", error);
        this.messageHandlers.forEach((handler) => handler(message));
      }
    }
    /**
     * 处理传入的请求
     */
    async handleIncomingRequest(request) {
      const handler = this.requestHandlers.get(request.method);
      if (!handler) {
        return false;
      }
      try {
        this.stats.requestsHandled++;
        const response = await handler(request, {});
        if (this.realTransport && "id" in request) {
          await this.realTransport.send({
            jsonrpc: "2.0",
            id: request.id,
            result: response
          });
        }
        return true;
      } catch (error) {
        this.stats.errors++;
        if (this.realTransport && "id" in request) {
          await this.realTransport.send({
            jsonrpc: "2.0",
            id: request.id,
            error: {
              code: -32603,
              message: `Request handler failed: ${JSON.stringify(request.params)} ${error.message}`
            }
          });
        }
        return true;
      }
    }
    /**
     * 处理传入的通知
     */
    async handleIncomingNotification(notification) {
      const handler = this.notificationHandlers.get(notification.method);
      if (!handler) {
        return false;
      }
      try {
        this.stats.notificationsHandled++;
        await handler(notification);
        return true;
      } catch (error) {
        this.stats.errors++;
        this.log("error", `Notification handler failed for ${notification.method}:`, error);
        return true;
      }
    }
    /**
     * Transport接口实现：发送消息
     */
    async send(message) {
      this.log("debug", "Outgoing message:", message);
      try {
        if (this.isRequest(message)) {
          const interceptResult = await this.executeOutgoingRequestInterceptor(message);
          if (!interceptResult.success) {
            if (this.options.continueOnInterceptorError) {
              this.log("warn", `Request interceptor failed for ${message.method}:`, interceptResult.error);
            } else {
              throw interceptResult.error;
            }
          } else if (interceptResult.result === null) {
            return;
          } else if (interceptResult.result) {
            message = { ...interceptResult.result, jsonrpc: "2.0" };
            this.stats.requestsIntercepted++;
          }
        }
        if (this.isNotification(message)) {
          const interceptResult = await this.executeOutgoingNotificationInterceptor(message);
          if (!interceptResult.success) {
            if (this.options.continueOnInterceptorError) {
              this.log("warn", `Notification interceptor failed for ${message.method}:`, interceptResult.error);
            } else {
              throw interceptResult.error;
            }
          } else if (interceptResult.result === null) {
            return;
          } else if (interceptResult.result) {
            message = { ...interceptResult.result, jsonrpc: "2.0" };
            this.stats.notificationsIntercepted++;
          }
        }
        if (this.realTransport) {
          await this.realTransport.send(message);
        }
      } catch (error) {
        this.stats.errors++;
        throw error;
      }
    }
    /**
     * Transport接口实现：开始传输
     */
    async start() {
    }
    /**
     * Transport接口实现：关闭连接
     */
    async close() {
      if (this.realTransport) {
        await this.realTransport.close();
      }
    }
    /**
     * Transport接口实现：消息监听器
     */
    set onmessage(handler) {
      this.messageHandlers = [handler];
    }
    /**
     * Transport接口实现：关闭监听器
     */
    set onclose(handler) {
      this.closeHandlers = [handler];
    }
    /**
     * Transport接口实现：错误监听器
     */
    set onerror(handler) {
      this.errorHandlers = [handler];
    }
    /**
     * 执行传出请求拦截器
     */
    async executeOutgoingRequestInterceptor(request) {
      const interceptor = this.outgoingRequestInterceptors.get(request.method);
      if (!interceptor) {
        return { success: true, result: request };
      }
      try {
        const result = await this.withTimeout(
          interceptor(request),
          this.options.interceptorTimeout
        );
        return { success: true, result };
      } catch (error) {
        this.stats.errors++;
        return {
          success: false,
          error: new MiddlewareError(
            MiddlewareErrors.INTERCEPTOR_ERROR,
            request.method,
            `Outgoing request interceptor failed: ${error.message}`,
            error
          )
        };
      }
    }
    /**
     * 执行传出通知拦截器
     */
    async executeOutgoingNotificationInterceptor(notification) {
      const interceptor = this.outgoingNotificationInterceptors.get(notification.method);
      if (!interceptor) {
        return { success: true, result: notification };
      }
      try {
        const result = await this.withTimeout(
          interceptor(notification),
          this.options.interceptorTimeout
        );
        return { success: true, result };
      } catch (error) {
        this.stats.errors++;
        return {
          success: false,
          error: new MiddlewareError(
            MiddlewareErrors.INTERCEPTOR_ERROR,
            notification.method,
            `Outgoing notification interceptor failed: ${error.message}`,
            error
          )
        };
      }
    }
    /**
     * 发送请求 (通过Protocol)
     */
    async request(request, responseSchema) {
      return await this.protocol.request(request, responseSchema);
    }
    /**
     * 发送通知 (通过Protocol)
     */
    async notification(notification) {
      return await this.protocol.notification(notification);
    }
    /**
     * 注册请求处理器
     */
    setRequestHandler(requestSchema, handler) {
      const method = requestSchema.shape.method.value;
      this.requestHandlers.set(method, handler);
    }
    /**
     * 注册通知处理器
     */
    setNotificationHandler(notificationSchema, handler) {
      const method = notificationSchema.shape.method.value;
      this.notificationHandlers.set(method, handler);
    }
    /**
     * 注册传出请求拦截器
     */
    setOutgoingRequestInterceptor(requestSchema, interceptor) {
      const method = requestSchema.shape.method.value;
      this.outgoingRequestInterceptors.set(method, interceptor);
    }
    /**
     * 注册传出通知拦截器
     */
    setOutgoingNotificationInterceptor(notificationSchema, interceptor) {
      const method = notificationSchema.shape.method.value;
      this.outgoingNotificationInterceptors.set(method, interceptor);
    }
    /**
     * 移除请求处理器
     */
    unsetRequestHandler(method) {
      this.requestHandlers.delete(method);
    }
    /**
     * 移除通知处理器
     */
    unsetNotificationHandler(method) {
      this.notificationHandlers.delete(method);
    }
    /**
     * 移除传出请求拦截器
     */
    unsetOutgoingRequestInterceptor(method) {
      this.outgoingRequestInterceptors.delete(method);
    }
    /**
     * 移除传出通知拦截器
     */
    unsetOutgoingNotificationInterceptor(method) {
      this.outgoingNotificationInterceptors.delete(method);
    }
    /**
     * 检查是否有请求处理器
     */
    hasRequestHandler(method) {
      return this.requestHandlers.has(method);
    }
    /**
     * 检查是否有通知处理器
     */
    hasNotificationHandler(method) {
      return this.notificationHandlers.has(method);
    }
    /**
     * 检查是否有传出请求拦截器
     */
    hasOutgoingRequestInterceptor(method) {
      return this.outgoingRequestInterceptors.has(method);
    }
    /**
     * 检查是否有传出通知拦截器
     */
    hasOutgoingNotificationInterceptor(method) {
      return this.outgoingNotificationInterceptors.has(method);
    }
    /**
     * 获取统计信息
     */
    getStats() {
      return { ...this.stats };
    }
    /**
     * 重置统计信息
     */
    resetStats() {
      this.stats = {
        requestsHandled: 0,
        notificationsHandled: 0,
        requestsIntercepted: 0,
        notificationsIntercepted: 0,
        errors: 0
      };
    }
    /**
     * 获取底层Protocol实例
     */
    getProtocol() {
      return this.protocol;
    }
    /**
     * 清理所有处理器和拦截器
     */
    cleanup() {
      this.requestHandlers.clear();
      this.notificationHandlers.clear();
      this.outgoingRequestInterceptors.clear();
      this.outgoingNotificationInterceptors.clear();
    }
    /**
     * 检查消息是否为请求
     */
    isRequest(message) {
      return message.jsonrpc === "2.0" && "method" in message && "id" in message;
    }
    /**
     * 检查消息是否为通知
     */
    isNotification(message) {
      return message.jsonrpc === "2.0" && "method" in message && !("id" in message);
    }
    /**
     * 带超时的Promise执行
     */
    async withTimeout(promise, timeoutMs) {
      const timeoutPromise = new Promise((_, reject) => {
        setTimeout(() => reject(new Error("Timeout")), timeoutMs);
      });
      return await Promise.race([promise, timeoutPromise]);
    }
    /**
     * 日志记录
     */
    log(level, message, ...args) {
      if (!this.options.debug && level === "debug") {
        return;
      }
      const prefix = `[MCPMiddleware]`;
      switch (level) {
        case "debug":
          console.debug(prefix, message, ...args);
          break;
        case "info":
          console.info(prefix, message, ...args);
          break;
        case "warn":
          console.warn(prefix, message, ...args);
          break;
        case "error":
          console.error(prefix, message, ...args);
          break;
      }
    }
  }
  objectType({
    method: literalType("sdppp/streamResponse"),
    params: objectType({
      requestId: stringType(),
      data: anyType(),
      error: stringType().nullable(),
      finished: booleanType()
    })
  });
  objectType({
    method: literalType("sdppp/streamRequest"),
    params: objectType({
      action: stringType(),
      data: anyType()
    })
  });
  objectType({
    method: literalType("sdppp/abort"),
    params: objectType({
      requestId: stringType()
    })
  });
  const streamResponseSchema = objectType({
    method: literalType("sdppp/streamResponse"),
    params: objectType({
      requestId: stringType(),
      data: anyType(),
      error: stringType().nullable(),
      finished: booleanType()
    })
  });
  const streamRequestSchema = objectType({
    method: literalType("sdppp/streamRequest"),
    params: objectType({
      action: stringType(),
      data: anyType()
    })
  });
  const abortRequestSchema = objectType({
    method: literalType("sdppp/abort"),
    params: objectType({
      requestId: stringType()
    })
  });
  class NotificationQueue {
    constructor() {
      __publicField(this, "queues", /* @__PURE__ */ new Map());
      __publicField(this, "waiters", /* @__PURE__ */ new Map());
    }
    push(notification) {
      const { requestId } = notification.params;
      const queue = this.queues.get(requestId) || [];
      const waiters = this.waiters.get(requestId) || [];
      if (waiters.length > 0) {
        const waiter = waiters.shift();
        waiter(notification.params);
      } else {
        queue.push(notification.params);
        this.queues.set(requestId, queue);
      }
    }
    async pop(requestId) {
      const queue = this.queues.get(requestId) || [];
      if (queue.length > 0) {
        return queue.shift();
      }
      return new Promise((resolve) => {
        const waiters = this.waiters.get(requestId) || [];
        waiters.push(resolve);
        this.waiters.set(requestId, waiters);
      });
    }
    cleanup(requestId) {
      this.queues.delete(requestId);
      this.waiters.delete(requestId);
    }
  }
  class MCPSDPPPSessionAdaptor extends MCPMiddleware {
    constructor(protocol, options = {}) {
      super(protocol, options);
      // streamRequestor handler 注册表
      __publicField(this, "streamRequestorHandlers", /* @__PURE__ */ new Map());
      // requestId 生成器
      __publicField(this, "requestIdSeq", 1);
      // 正在执行的请求的 AbortController
      __publicField(this, "runningRequests", /* @__PURE__ */ new Map());
      // 通知队列
      __publicField(this, "notificationQueue", new NotificationQueue());
      this.setupStreamProtocolHandlers();
    }
    /**
     * 设置流协议处理器
     */
    setupStreamProtocolHandlers() {
      this.setupStreamResponseHandler();
      this.setupAbortHandler();
      this.setupStreamRequestHandler();
    }
    /**
     * 设置流响应通知处理器
     */
    setupStreamResponseHandler() {
      this.setNotificationHandler(
        streamResponseSchema,
        async (notification) => {
          this.notificationQueue.push(notification);
        }
      );
    }
    /**
     * 设置中止请求处理器
     */
    setupAbortHandler() {
      this.setRequestHandler(abortRequestSchema, async (request, extra) => {
        const { requestId } = request.params;
        const abortController = this.runningRequests.get(requestId);
        if (abortController) {
          abortController.abort();
          this.runningRequests.delete(requestId);
        }
        return { success: true };
      });
    }
    /**
     * 设置流请求处理器
     */
    setupStreamRequestHandler() {
      this.setRequestHandler(streamRequestSchema, async (request, extra) => {
        const requestId = `req_${this.requestIdSeq++}`;
        const handler = this.streamRequestorHandlers.get(request.params.action);
        if (!handler) {
          throw new Error("No handler for streamRequestor: " + request.params.action);
        }
        const abortController = new AbortController();
        this.runningRequests.set(requestId, abortController);
        this.executeHandlerAsync(requestId, handler, request.params, extra, abortController);
        return { requestId };
      });
    }
    /**
     * 异步执行streamRequestor处理器
     */
    async executeHandlerAsync(requestId, handler, params, extra, abortController) {
      try {
        const iterable = handler(params, extra, abortController.signal);
        for await (const data2 of iterable) {
          if (abortController.signal.aborted) {
            break;
          }
          await this.notification({
            method: "sdppp/streamResponse",
            params: {
              requestId,
              data: data2,
              error: null,
              finished: false
            }
          });
        }
        if (!abortController.signal.aborted) {
          await this.notification({
            method: "sdppp/streamResponse",
            params: {
              requestId,
              data: null,
              error: null,
              finished: true
            }
          });
        }
      } catch (error) {
        if (!abortController.signal.aborted) {
          await this.notification({
            method: "sdppp/streamResponse",
            params: {
              requestId,
              data: null,
              error: error.message,
              finished: true
            }
          });
        }
      } finally {
        this.runningRequests.delete(requestId);
      }
    }
    /**
     * 注册 streamRequestor handler
     */
    registerStreamRequestorHandler(paramsSchema, handler) {
      this.streamRequestorHandlers.set(paramsSchema.shape.action.value, handler);
    }
    /**
     * 发起 streamRequestor 请求，返回异步迭代器
     */
    async streamRequest(params, responseSchema, signal) {
      this.validateStreamRequestorRequest(signal);
      const requestId = await this.sendStreamRequestorRequest(params);
      const responseQueue = this.initializeResponseQueue(requestId);
      const streamState = this.createStreamState();
      return this.createAsyncIterator(responseQueue, streamState, requestId, signal);
    }
    /**
     * 验证streamRequestor请求
     */
    validateStreamRequestorRequest(signal) {
      if (signal && signal.aborted) {
        throw new Error("AbortSignal is already aborted");
      }
    }
    /**
     * 发送streamRequestor请求
     */
    async sendStreamRequestorRequest(params) {
      const response = await this.request({
        method: "sdppp/streamRequest",
        params: {
          action: params.action,
          data: params.data
        }
      }, objectType({ requestId: stringType() }));
      return response.requestId;
    }
    /**
     * 初始化响应队列
     */
    initializeResponseQueue(requestId) {
      return this.notificationQueue;
    }
    /**
     * 创建流状态
     */
    createStreamState() {
      return { finished: false, error: null };
    }
    /**
     * 创建异步迭代器
     */
    createAsyncIterator(queue, streamState, requestId, signal) {
      const self = this;
      return {
        async *[Symbol.asyncIterator]() {
          try {
            while (!streamState.finished && !streamState.error) {
              if (signal && signal.aborted) {
                await self.request({
                  method: "sdppp/abort",
                  params: { requestId }
                }, objectType({ success: booleanType() }));
                throw new Error("Aborted");
              }
              const response = await queue.pop(requestId);
              if (response.error) {
                streamState.error = response.error;
                throw new Error(response.error);
              }
              if (response.finished) {
                streamState.finished = true;
                break;
              }
              if (response.data !== null) {
                yield response.data;
              }
            }
          } finally {
            queue.cleanup(requestId);
          }
        }
      };
    }
    /**
     * 获取正在运行的请求数量
     */
    getRunningRequestsCount() {
      return this.runningRequests.size;
    }
    /**
     * 中止指定请求
     */
    async abortRequest(requestId) {
      const abortController = this.runningRequests.get(requestId);
      if (abortController) {
        abortController.abort();
        this.runningRequests.delete(requestId);
        return true;
      }
      return false;
    }
    /**
     * 中止所有正在运行的请求
     */
    abortAllRequests() {
      for (const [requestId, abortController] of this.runningRequests) {
        abortController.abort();
      }
      this.runningRequests.clear();
    }
    /**
     * 清理资源 - 重写父类方法以包含流处理清理
     */
    cleanup() {
      super.cleanup();
      this.abortAllRequests();
      this.streamRequestorHandlers.clear();
    }
  }
  function defineGraph(definition) {
    const graphDef = new GraphDefinitionClass(definition);
    return {
      /**
       * Join as a specific node in the graph
       * @param nodeId The node ID to join as
       * @param monitorOptions Optional connection monitoring options
       * @returns GraphInstance for this node
       */
      joinAs(nodeId) {
        if (!graphDef.getNode(nodeId)) {
          throw new Error(`Node ${String(nodeId)} not found in graph definition`);
        }
        return new GraphInstanceImpl(graphDef, nodeId);
      },
      /**
       * Get the graph definition
       */
      getDefinition() {
        return definition;
      },
      /**
       * Get all node IDs
       */
      getNodeIds() {
        return graphDef.getNodeIds();
      },
      /**
       * Get neighbors of a node
       */
      getNeighbors(nodeId) {
        return graphDef.getNeighbors(nodeId);
      },
      /**
       * Check if an edge exists
       */
      hasEdge(from, to) {
        return graphDef.hasEdge(from, to);
      },
      /**
       * Check if there's a path between two nodes (direct or indirect)
       */
      hasPath(from, to) {
        return graphDef.hasPath(from, to);
      },
      /**
       * Find path between two nodes using BFS
       */
      findPath(from, to) {
        return graphDef.findPath(from, to);
      }
    };
  }
  const BoundaryRectSchema = objectType({
    leftDistance: numberType(),
    topDistance: numberType(),
    rightDistance: numberType(),
    bottomDistance: numberType(),
    width: numberType(),
    height: numberType()
  });
  const uxpPhotoshopActions = {
    manageGuides: {
      requestSchema: objectType({
        action: enumType(["create", "clear"]),
        rect: BoundaryRectSchema.optional()
      }),
      responseSchema: objectType({
        success: booleanType()
      })
    },
    openImagesFromFile: {
      requestSchema: objectType({
        nativePath: stringType(),
        boundary: BoundaryRectSchema.optional()
      }),
      responseSchema: objectType({
        success: booleanType(),
        documentId: numberType(),
        documentName: stringType(),
        width: numberType(),
        height: numberType()
      })
    },
    getBoundary: {
      requestSchema: objectType({
        type: enumType(["curlayer", "selection"])
      }),
      responseSchema: BoundaryRectSchema
    },
    requestBoundary: {
      requestSchema: objectType({}),
      responseSchema: objectType({
        boundary: enumType(["canvas", "curlayer", "selection"])
      })
    },
    getImage: {
      requestSchema: objectType({
        boundary: unionType([
          enumType(["canvas", "curlayer", "selection"]),
          BoundaryRectSchema
        ]),
        content: unionType([enumType(["canvas", "curlayer"]), stringType()]),
        imageSize: numberType(),
        imageQuality: numberType(),
        cropBySelection: enumType(["no", "positive", "negative"])
      }),
      responseSchema: objectType({
        thumbnail_url: stringType().optional(),
        file_token: stringType().optional(),
        source: stringType().optional(),
        error: stringType().optional()
      })
    },
    importImage: {
      requestSchema: objectType({
        nativePath: stringType(),
        boundary: unionType([
          enumType(["canvas", "curlayer", "selection"]),
          BoundaryRectSchema
        ]).optional(),
        type: enumType(["canvas", "curlayer", "newdoc", "smartobject"])
      }),
      responseSchema: objectType({
        success: booleanType(),
        layers: arrayType(objectType({
          identify: stringType()
        })).optional(),
        message: stringType().optional(),
        error: stringType().optional()
      })
    },
    showImageSelectionDialog: {
      requestSchema: objectType({
        dialogType: enumType(["send", "get", "boundary", "mask", "custom"]),
        additionalData: recordType(anyType()).optional(),
        customConfig: objectType({
          dialogType: stringType().optional(),
          title: stringType().optional(),
          className: stringType().optional(),
          optionRows: arrayType(arrayType(objectType({
            id: stringType(),
            text: stringType(),
            subtext: stringType().optional(),
            keyboardShortcut: stringType().optional(),
            visibility: objectType({
              requiresActiveLayers: booleanType().optional(),
              requiresSelection: booleanType().optional()
            }).optional(),
            thumbnailConfig: objectType({
              content: enumType(["canvas", "curlayer", "selection"]),
              boundary: enumType(["canvas", "curlayer", "selection"]),
              reverse: booleanType().optional()
            }).optional()
          }))).optional(),
          controls: arrayType(objectType({
            type: enumType(["imageSize", "cropBySelection"]),
            title: stringType(),
            keyboardShortcut: stringType().optional(),
            config: anyType().optional()
          })).optional(),
          keyboardMapping: recordType(stringType(), unionType([stringType(), functionType()])).optional(),
          storeConfig: objectType({
            activeSelector: functionType().optional(),
            resolveSelector: functionType().optional(),
            rejectSelector: functionType().optional(),
            additionalSelectors: recordType(stringType(), functionType()).optional()
          }).optional(),
          onSelect: functionType().optional()
        }).optional()
      }),
      responseSchema: unionType([
        // Send dialog response
        objectType({
          sendImageParams: objectType({
            selection: stringType(),
            url: stringType(),
            source: stringType(),
            cropBySelection: enumType(["no", "positive", "negative"])
          })
        }),
        // Get dialog response
        objectType({
          getImageParams: objectType({
            content: enumType(["canvas", "curlayer", "selection"]),
            boundary: enumType(["canvas", "curlayer", "selection"]),
            imageSize: numberType(),
            imageQuality: numberType(),
            cropBySelection: enumType(["no", "positive", "negative"])
          }),
          source: stringType()
        }),
        // Boundary dialog response
        objectType({
          boundary: enumType(["canvas", "curlayer", "selection"])
        }),
        // Mask dialog response
        objectType({
          getMaskParams: objectType({
            content: enumType(["canvas", "curlayer", "selection"]),
            reverse: booleanType(),
            imageSize: numberType()
          }),
          source: stringType()
        }),
        // Custom dialog response (any structure)
        objectType({
          result: anyType()
        }),
        // Cancelled response
        objectType({
          cancelled: booleanType()
        })
      ])
    }
  };
  const SDKStoreSchema = objectType({
    bannerData: anyType().optional(),
    refreshable: booleanType().default(false),
    backwardable: booleanType().default(false),
    loginable: booleanType().default(false),
    runnable: booleanType().default(false),
    workBoundaries: recordType(numberType(), BoundaryRectSchema).default({})
  });
  const UXPStoreSchema = objectType({
    // Photoshop state
    uname: stringType().default(""),
    activeDocumentID: numberType().default(0),
    layers: arrayType(objectType({
      id: numberType(),
      name: stringType(),
      identify: stringType()
    })).default([]),
    actions: arrayType(stringType()).default([]),
    theme: stringType().default("kPanelBrightnessMediumGray"),
    sdpppX: recordType(stringType(), anyType()).default({}),
    locale: enumType(["zh-CN", "en-US"]).default("en-US"),
    // ComfyUI webview connection state
    comfyWebviewConnectStatus: enumType(["connecting", "connected", "disconnected"]).default("disconnected"),
    comfyWebviewLoadError: stringType().default(""),
    comfyWebviewLoading: booleanType().default(false),
    comfyWebviewVersion: stringType().default(""),
    comfyHTTPCode: numberType().default(200),
    comfyURL: stringType().default(""),
    // SDK webview state
    sdkWebviewFocusing: booleanType().default(false),
    sdkWebviewConnectStatus: enumType(["connecting", "connected", "disconnected"]).default("disconnected"),
    // SDPPP authentication state
    isLogin: booleanType().default(false),
    isGuest: booleanType().default(false),
    requestingLogin: booleanType().default(false),
    loginMessage: stringType().default(""),
    token: stringType().default(""),
    userInfo: recordType(stringType(), anyType()).default({}),
    // Task execution tracking
    taskLastRun: numberType().default(0),
    // Photoshop canvas state tracking
    canvasStateID: numberType().optional()
  });
  const WidgetableBaseWidgetSchemaPart = {
    name: stringType(),
    uiWeight: numberType()
  };
  const WidgetableImagesWidgetSchema = objectType({
    ...WidgetableBaseWidgetSchemaPart,
    outputType: literalType("images"),
    options: objectType({
      required: booleanType(),
      maxCount: numberType().optional(),
      maskMode: booleanType().optional()
    })
  });
  const WidgetableMasksWidgetSchema = objectType({
    ...WidgetableBaseWidgetSchemaPart,
    outputType: literalType("masks"),
    options: objectType({
      required: booleanType()
    })
  });
  const WidgetableStringWidgetSchema = objectType({
    ...WidgetableBaseWidgetSchemaPart,
    outputType: literalType("string"),
    options: objectType({
      required: booleanType()
    })
  });
  const WidgetableToggleWidgetSchema = objectType({
    ...WidgetableBaseWidgetSchemaPart,
    outputType: literalType("boolean"),
    options: objectType({
      required: booleanType()
    })
  });
  const WidgetableNumberWidgetSchema = objectType({
    ...WidgetableBaseWidgetSchemaPart,
    outputType: literalType("number"),
    options: objectType({
      required: booleanType(),
      min: numberType().optional(),
      max: numberType().optional(),
      step: numberType().optional(),
      random: booleanType().optional(),
      slider: booleanType().optional()
    })
  });
  const WidgetableComboWidgetSchema = objectType({
    ...WidgetableBaseWidgetSchemaPart,
    outputType: literalType("combo"),
    options: objectType({
      required: booleanType(),
      values: arrayType(stringType()),
      labels: arrayType(stringType()).optional()
    })
  });
  const WidgetableSegmentWidgetSchema = objectType({
    ...WidgetableBaseWidgetSchemaPart,
    outputType: literalType("segment"),
    options: objectType({
      required: booleanType(),
      values: arrayType(stringType())
    })
  });
  const WidgetableWidgetSchema = discriminatedUnionType("outputType", [
    WidgetableImagesWidgetSchema,
    WidgetableMasksWidgetSchema,
    WidgetableStringWidgetSchema,
    WidgetableToggleWidgetSchema,
    WidgetableNumberWidgetSchema,
    WidgetableComboWidgetSchema,
    WidgetableSegmentWidgetSchema
  ]);
  const WidgetableNodeSchema = objectType({
    id: stringType(),
    title: stringType(),
    widgets: arrayType(WidgetableWidgetSchema),
    uiWeightSum: numberType()
  });
  const WidgetableStructureSchema = objectType({
    widgetableID: stringType(),
    widgetablePath: stringType(),
    nodes: recordType(stringType(), WidgetableNodeSchema),
    nodeIndexes: arrayType(stringType()),
    note: stringType().optional(),
    options: recordType(stringType(), anyType())
  });
  const ComfyStoreSchema = objectType({
    widgetableStructure: WidgetableStructureSchema.default({
      widgetableID: "",
      widgetablePath: "",
      nodes: {},
      note: "",
      options: {},
      nodeIndexes: []
    }),
    widgetableValues: recordType(stringType(), arrayType(anyType())).default({}),
    widgetableErrors: recordType(stringType(), stringType()).default({}),
    queueSize: numberType().default(0),
    lastError: stringType().default(""),
    progress: numberType().default(0),
    executingNodeTitle: stringType().default(""),
    executingNodeID: stringType().default(""),
    graphProgress: numberType().default(0),
    comfyUserToken: stringType().default(""),
    comfyOrgLoggedIn: booleanType().default(false),
    comfyOrgAPIKey: stringType().default(""),
    comfyWSState: enumType(["connected", "reconnecting"]).default("connected"),
    lastRunTime: numberType().default(0)
  });
  const sdkActions = {
    backward: {
      requestSchema: voidType(),
      responseSchema: objectType({
        success: booleanType()
      })
    },
    refresh: {
      requestSchema: voidType(),
      responseSchema: objectType({
        success: booleanType()
      })
    },
    run: {
      requestSchema: voidType(),
      responseSchema: objectType({
        success: booleanType()
      })
    }
  };
  const uxpUtilActions = {
    // UXP-related actions
    log: {
      requestSchema: objectType({
        level: enumType(["log", "info", "warn", "error"]),
        messages: arrayType(stringType())
      }),
      responseSchema: objectType({})
    },
    // UXP-related actions
    openExternalLink: {
      requestSchema: objectType({
        url: stringType()
      }),
      responseSchema: objectType({
        error: stringType().optional()
      })
    },
    getStorage: {
      requestSchema: objectType({
        key: stringType()
      }),
      responseSchema: objectType({
        value: stringType(),
        error: stringType().optional()
      })
    },
    setStorage: {
      requestSchema: objectType({
        key: stringType(),
        value: stringType()
      }),
      responseSchema: objectType({
        error: stringType().optional()
      })
    },
    removeStorage: {
      requestSchema: objectType({
        key: stringType()
      }),
      responseSchema: objectType({
        error: stringType().optional()
      })
    },
    // Keyboard action forwarding
    keyboardAction: {
      requestSchema: objectType({
        keycode: stringType()
      }),
      responseSchema: objectType({})
    },
    // Photoshop utility actions
    setComfyWebviewURL: {
      requestSchema: objectType({
        url: stringType()
      }),
      responseSchema: objectType({})
    },
    uploadComfyImage: {
      requestSchema: objectType({
        uploadInput: objectType({
          type: literalType("buffer").or(literalType("token")),
          tokenOrBuffer: anyType(),
          fileName: stringType()
        }),
        overwrite: booleanType().optional().default(true)
      }),
      responseSchema: objectType({
        name: stringType()
      })
    },
    // Proxied fetch action
    proxiedFetch: {
      requestSchema: objectType({
        url: stringType(),
        method: stringType().optional(),
        headers: recordType(stringType()).optional(),
        body: anyType().optional(),
        bodyType: enumType(["json", "formData", "text"]).optional()
      }),
      responseSchema: objectType({
        success: booleanType(),
        status: numberType().optional(),
        statusText: stringType().optional(),
        headers: recordType(stringType()).optional(),
        data: anyType().optional(),
        error: stringType().optional()
      })
    }
  };
  const ImageResultSchema = objectType({
    thumbnail_url: stringType().optional(),
    file_token: stringType().optional(),
    source: stringType().optional(),
    error: stringType().optional()
  });
  const doGetImageParamsSchema = objectType({
    boundary: enumType(["canvas", "curlayer", "selection"]),
    content: enumType(["canvas", "curlayer", "selection"]).or(stringType()),
    imageSize: numberType(),
    imageQuality: numberType(),
    cropBySelection: enumType(["no", "positive", "negative"])
  });
  const doGetMaskParamsSchema = objectType({
    content: enumType(["canvas", "curlayer", "selection"]),
    reverse: booleanType(),
    imageSize: numberType()
  });
  const doSendImageParamsSchema = objectType({
    selection: enumType(["newdoc_canvas", "newlayer_canvas", "newlayer_curlayer", "newlayer_selection", "curlayer_canvas", "curlayer_curlayer", "curlayer_selection", "newdoc_canvas"]),
    url: stringType(),
    source: stringType(),
    cropBySelection: enumType(["no", "positive", "negative"])
  });
  const uxpImagingActions = {
    // Content webview image operations
    doGetImage: {
      requestSchema: doGetImageParamsSchema,
      responseSchema: ImageResultSchema
    },
    doGetMask: {
      requestSchema: doGetMaskParamsSchema,
      responseSchema: ImageResultSchema
    },
    doSendImage: {
      requestSchema: doSendImageParamsSchema,
      responseSchema: objectType({
        error: stringType().optional()
      })
    },
    requestImageGet: {
      requestSchema: objectType({}),
      responseSchema: objectType({
        getImageParams: doGetImageParamsSchema,
        thumbnail_url: stringType().optional(),
        source: stringType().optional(),
        error: stringType().optional()
      })
    },
    requestMaskGet: {
      requestSchema: objectType({
        isMask: booleanType().default(false)
      }),
      responseSchema: objectType({
        getMaskParams: doGetMaskParamsSchema,
        thumbnail_url: stringType().optional(),
        source: stringType().optional(),
        error: stringType().optional()
      })
    },
    requestImageSend: {
      requestSchema: objectType({
        url: stringType(),
        source: stringType()
      }),
      responseSchema: objectType({
        sendImageParams: doSendImageParamsSchema.optional(),
        error: stringType().optional()
      })
    },
    downloadImage: {
      requestSchema: objectType({
        url: stringType()
      }),
      responseSchema: objectType({
        thumbnail_url: stringType().optional(),
        nativePath: stringType().optional(),
        error: stringType().optional()
      })
    },
    deleteDownloadedImage: {
      requestSchema: objectType({
        nativePaths: arrayType(stringType())
      }),
      responseSchema: objectType({
        error: stringType().optional()
      })
    },
    requestAndDoSaveImage: {
      requestSchema: objectType({
        nativePaths: arrayType(stringType())
      }),
      responseSchema: objectType({
        error: stringType().optional()
      })
    }
  };
  const UXPAuthRegisterRequestSchema = objectType({
    passwordPayload: objectType({
      username: stringType(),
      password: stringType()
    }).or(objectType({
      email: stringType(),
      password: stringType()
    })).or(objectType({
      phone: stringType(),
      password: stringType()
    })).or(objectType({
      identifier: stringType(),
      password: stringType()
    }))
  }).or(objectType({
    passcodePayload: objectType({
      phone: stringType(),
      code: stringType()
    }).or(objectType({
      email: stringType(),
      code: stringType()
    }))
  }));
  const UXPAuthLoginRequestSchema = objectType({
    passwordPayload: objectType({
      username: stringType(),
      password: stringType()
    }).or(objectType({
      email: stringType(),
      password: stringType()
    })).or(objectType({
      phone: stringType(),
      password: stringType()
    })).or(objectType({
      identifier: stringType(),
      password: stringType()
    }))
  }).or(objectType({
    passcodePayload: objectType({
      phone: stringType(),
      code: stringType()
    }).or(objectType({
      email: stringType(),
      code: stringType()
    }))
  }));
  const uxpAuthActions = {
    // SDPPP authentication actions
    register: {
      requestSchema: UXPAuthRegisterRequestSchema,
      responseSchema: objectType({})
    },
    login: {
      requestSchema: UXPAuthLoginRequestSchema,
      responseSchema: objectType({})
    },
    sendPassCode: {
      requestSchema: objectType({
        phone: stringType().optional(),
        email: stringType().optional()
      }),
      responseSchema: objectType({})
    },
    logout: {
      requestSchema: objectType({}),
      responseSchema: objectType({})
    },
    guestLogin: {
      requestSchema: objectType({}),
      responseSchema: objectType({})
    }
  };
  const BaseTaskSchema = objectType({
    taskId: stringType(),
    taskName: stringType(),
    status: enumType(["running", "completed", "failed", "cancelled"]),
    currentStep: numberType().optional(),
    totalSteps: numberType().optional(),
    stepDescription: stringType().optional(),
    progressPercentage: numberType().min(0).max(100).optional(),
    startTime: stringType(),
    endTime: stringType().optional(),
    error: stringType().optional(),
    errorCode: stringType().optional(),
    result: anyType().optional(),
    metadata: recordType(anyType()).optional()
  });
  const TaskResponseSchema = objectType({
    success: booleanType(),
    error: stringType().optional()
  });
  const uxpTaskManagementActions = {
    // Add a new task
    taskAdd: {
      requestSchema: BaseTaskSchema,
      responseSchema: TaskResponseSchema
    },
    // Update a task (id required, other fields optional)
    taskUpdate: {
      requestSchema: BaseTaskSchema.partial().required({ taskId: true }),
      responseSchema: TaskResponseSchema
    },
    // Remove a task
    taskRemove: {
      requestSchema: BaseTaskSchema.pick({ taskId: true }),
      responseSchema: TaskResponseSchema
    }
  };
  const WorkflowListSchema = objectType({
    workflows: arrayType(stringType()),
    error: stringType().optional()
  });
  const RunResultSchema = objectType({
    success: booleanType(),
    nodeErrors: recordType(stringType()).optional(),
    prompt_ids: arrayType(stringType()).optional(),
    images: arrayType(objectType({
      url: stringType(),
      thumbnail: stringType()
    })).optional()
  });
  const comfyWorkflowActions = {
    // Node manipulation
    setWidgetValue: {
      requestSchema: objectType({
        values: arrayType(objectType({
          nodeID: stringType(),
          widgetIndex: numberType(),
          value: recordType(stringType(), anyType()).or(stringType()).or(numberType()).or(booleanType()).or(arrayType(anyType()))
        }))
      }),
      responseSchema: objectType({
        success: booleanType()
      })
    },
    // Workflow management
    openWorkflow: {
      requestSchema: objectType({
        workflow_path: stringType(),
        reset: booleanType().default(false)
      }),
      responseSchema: objectType({
        success: booleanType()
      })
    },
    openWorkflowJSON: {
      requestSchema: objectType({
        workflow_content: recordType(anyType()),
        workflow_path: stringType()
      }),
      responseSchema: objectType({
        success: booleanType()
      })
    },
    listWorkflows: {
      requestSchema: objectType({
        listMode: stringType().optional(),
        sdpppID: stringType().optional(),
        sdpppToken: stringType().optional()
      }),
      responseSchema: WorkflowListSchema
    },
    saveWorkflow: {
      requestSchema: objectType({
        workflow_path: stringType(),
        from_sid: stringType().optional()
      }),
      responseSchema: objectType({
        success: booleanType()
      })
    },
    // Workflow execution
    run: {
      requestSchema: objectType({
        size: numberType()
      }),
      responseSchema: RunResultSchema,
      stream: true
    },
    stopAll: {
      requestSchema: objectType({}),
      responseSchema: objectType({
        success: booleanType()
      })
    }
    // interrupt: {
    //     requestSchema: z.object({}),
    //     responseSchema: z.object({
    //         success: z.boolean(),
    //     })
    // },
    // clearQueue: {
    //     requestSchema: z.object({}),
    //     responseSchema: z.object({
    //         success: z.boolean(),
    //     })
    // }
  };
  const comfyUtilActions = {
    setNodeTitle: {
      requestSchema: objectType({
        node_id: stringType(),
        title: stringType()
      }),
      responseSchema: objectType({
        success: booleanType()
      })
    },
    // System management
    reboot: {
      requestSchema: objectType({}),
      responseSchema: objectType({
        success: booleanType(),
        error: stringType().optional()
      })
    },
    setComfyOrgAPIKey: {
      requestSchema: objectType({
        api_key: stringType()
      }),
      responseSchema: objectType({
        success: booleanType()
      })
    },
    logout: {
      requestSchema: objectType({}),
      responseSchema: objectType({
        success: booleanType()
      })
    }
  };
  const meshDef = defineGraph({
    nodes: {
      // SDK node - represents the content webview/SDK layer
      sdk: {
        store: SDKStoreSchema,
        actions: {
          ...sdkActions
        }
      },
      // UXP node - represents the Photoshop UXP plugin
      uxp: {
        store: UXPStoreSchema,
        actions: {
          ...uxpImagingActions,
          ...uxpUtilActions,
          ...uxpAuthActions,
          ...uxpTaskManagementActions,
          ...uxpPhotoshopActions
        }
      },
      // Comfy node - represents ComfyUI instances
      comfy: {
        store: ComfyStoreSchema,
        actions: {
          ...comfyWorkflowActions,
          ...comfyUtilActions
        }
      }
    },
    edges: [
      ["sdk", "uxp"],
      // SDK connects to UXP
      ["comfy", "uxp"]
      // Comfy connects to UXP
    ]
  });
  const mcpMesh = meshDef.joinAs("sdk");
  globalThis.mcpMesh = mcpMesh;
  document.body.addEventListener("keydown", (e) => {
    if (e.target instanceof HTMLInputElement || e.target instanceof HTMLTextAreaElement || e.target instanceof HTMLSelectElement) {
      return;
    }
    mcpMesh.getNode("uxp").actions.keyboardAction({
      keycode: e.code
    });
  });
  const scriptRel = "modulepreload";
  const assetsURL = function(dep) {
    return "/" + dep;
  };
  const seen = {};
  const __vitePreload = function preload(baseModule, deps, importerUrl) {
    let promise = Promise.resolve();
    if (false) {
      let allSettled2 = function(promises) {
        return Promise.all(
          promises.map(
            (p) => Promise.resolve(p).then(
              (value) => ({ status: "fulfilled", value }),
              (reason) => ({ status: "rejected", reason })
            )
          )
        );
      };
      document.getElementsByTagName("link");
      const cspNonceMeta = document.querySelector(
        "meta[property=csp-nonce]"
      );
      const cspNonce = (cspNonceMeta == null ? void 0 : cspNonceMeta.nonce) || (cspNonceMeta == null ? void 0 : cspNonceMeta.getAttribute("nonce"));
      promise = allSettled2(
        deps.map((dep) => {
          dep = assetsURL(dep);
          if (dep in seen) return;
          seen[dep] = true;
          const isCss = dep.endsWith(".css");
          const cssSelector = isCss ? '[rel="stylesheet"]' : "";
          if (document.querySelector(`link[href="${dep}"]${cssSelector}`)) {
            return;
          }
          const link = document.createElement("link");
          link.rel = isCss ? "stylesheet" : scriptRel;
          if (!isCss) {
            link.as = "script";
          }
          link.crossOrigin = "";
          link.href = dep;
          if (cspNonce) {
            link.setAttribute("nonce", cspNonce);
          }
          document.head.appendChild(link);
          if (isCss) {
            return new Promise((res, rej) => {
              link.addEventListener("load", res);
              link.addEventListener(
                "error",
                () => rej(new Error(`Unable to preload CSS for ${dep}`))
              );
            });
          }
        })
      );
    }
    function handlePreloadError(err) {
      const e = new Event("vite:preloadError", {
        cancelable: true
      });
      e.payload = err;
      window.dispatchEvent(e);
      if (!e.defaultPrevented) {
        throw err;
      }
    }
    return promise.then((res) => {
      for (const item of res || []) {
        if (item.status !== "rejected") continue;
        handlePreloadError(item.reason);
      }
      return baseModule().catch(handlePreloadError);
    });
  };
  function getDefaultExportFromCjs(x) {
    return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, "default") ? x["default"] : x;
  }
  var browser = { exports: {} };
  var ms;
  var hasRequiredMs;
  function requireMs() {
    if (hasRequiredMs) return ms;
    hasRequiredMs = 1;
    var s = 1e3;
    var m = s * 60;
    var h = m * 60;
    var d = h * 24;
    var w = d * 7;
    var y = d * 365.25;
    ms = function(val, options) {
      options = options || {};
      var type2 = typeof val;
      if (type2 === "string" && val.length > 0) {
        return parse(val);
      } else if (type2 === "number" && isFinite(val)) {
        return options.long ? fmtLong(val) : fmtShort(val);
      }
      throw new Error(
        "val is not a non-empty string or a valid number. val=" + JSON.stringify(val)
      );
    };
    function parse(str) {
      str = String(str);
      if (str.length > 100) {
        return;
      }
      var match = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(
        str
      );
      if (!match) {
        return;
      }
      var n = parseFloat(match[1]);
      var type2 = (match[2] || "ms").toLowerCase();
      switch (type2) {
        case "years":
        case "year":
        case "yrs":
        case "yr":
        case "y":
          return n * y;
        case "weeks":
        case "week":
        case "w":
          return n * w;
        case "days":
        case "day":
        case "d":
          return n * d;
        case "hours":
        case "hour":
        case "hrs":
        case "hr":
        case "h":
          return n * h;
        case "minutes":
        case "minute":
        case "mins":
        case "min":
        case "m":
          return n * m;
        case "seconds":
        case "second":
        case "secs":
        case "sec":
        case "s":
          return n * s;
        case "milliseconds":
        case "millisecond":
        case "msecs":
        case "msec":
        case "ms":
          return n;
        default:
          return void 0;
      }
    }
    function fmtShort(ms2) {
      var msAbs = Math.abs(ms2);
      if (msAbs >= d) {
        return Math.round(ms2 / d) + "d";
      }
      if (msAbs >= h) {
        return Math.round(ms2 / h) + "h";
      }
      if (msAbs >= m) {
        return Math.round(ms2 / m) + "m";
      }
      if (msAbs >= s) {
        return Math.round(ms2 / s) + "s";
      }
      return ms2 + "ms";
    }
    function fmtLong(ms2) {
      var msAbs = Math.abs(ms2);
      if (msAbs >= d) {
        return plural(ms2, msAbs, d, "day");
      }
      if (msAbs >= h) {
        return plural(ms2, msAbs, h, "hour");
      }
      if (msAbs >= m) {
        return plural(ms2, msAbs, m, "minute");
      }
      if (msAbs >= s) {
        return plural(ms2, msAbs, s, "second");
      }
      return ms2 + " ms";
    }
    function plural(ms2, msAbs, n, name) {
      var isPlural = msAbs >= n * 1.5;
      return Math.round(ms2 / n) + " " + name + (isPlural ? "s" : "");
    }
    return ms;
  }
  var common;
  var hasRequiredCommon;
  function requireCommon() {
    if (hasRequiredCommon) return common;
    hasRequiredCommon = 1;
    function setup(env) {
      createDebug.debug = createDebug;
      createDebug.default = createDebug;
      createDebug.coerce = coerce;
      createDebug.disable = disable;
      createDebug.enable = enable;
      createDebug.enabled = enabled;
      createDebug.humanize = requireMs();
      createDebug.destroy = destroy;
      Object.keys(env).forEach((key) => {
        createDebug[key] = env[key];
      });
      createDebug.names = [];
      createDebug.skips = [];
      createDebug.formatters = {};
      function selectColor(namespace) {
        let hash = 0;
        for (let i = 0; i < namespace.length; i++) {
          hash = (hash << 5) - hash + namespace.charCodeAt(i);
          hash |= 0;
        }
        return createDebug.colors[Math.abs(hash) % createDebug.colors.length];
      }
      createDebug.selectColor = selectColor;
      function createDebug(namespace) {
        let prevTime;
        let enableOverride = null;
        let namespacesCache;
        let enabledCache;
        function debug2(...args) {
          if (!debug2.enabled) {
            return;
          }
          const self = debug2;
          const curr = Number(/* @__PURE__ */ new Date());
          const ms2 = curr - (prevTime || curr);
          self.diff = ms2;
          self.prev = prevTime;
          self.curr = curr;
          prevTime = curr;
          args[0] = createDebug.coerce(args[0]);
          if (typeof args[0] !== "string") {
            args.unshift("%O");
          }
          let index2 = 0;
          args[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format2) => {
            if (match === "%%") {
              return "%";
            }
            index2++;
            const formatter = createDebug.formatters[format2];
            if (typeof formatter === "function") {
              const val = args[index2];
              match = formatter.call(self, val);
              args.splice(index2, 1);
              index2--;
            }
            return match;
          });
          createDebug.formatArgs.call(self, args);
          const logFn = self.log || createDebug.log;
          logFn.apply(self, args);
        }
        debug2.namespace = namespace;
        debug2.useColors = createDebug.useColors();
        debug2.color = createDebug.selectColor(namespace);
        debug2.extend = extend;
        debug2.destroy = createDebug.destroy;
        Object.defineProperty(debug2, "enabled", {
          enumerable: true,
          configurable: false,
          get: () => {
            if (enableOverride !== null) {
              return enableOverride;
            }
            if (namespacesCache !== createDebug.namespaces) {
              namespacesCache = createDebug.namespaces;
              enabledCache = createDebug.enabled(namespace);
            }
            return enabledCache;
          },
          set: (v) => {
            enableOverride = v;
          }
        });
        if (typeof createDebug.init === "function") {
          createDebug.init(debug2);
        }
        return debug2;
      }
      function extend(namespace, delimiter) {
        const newDebug = createDebug(this.namespace + (typeof delimiter === "undefined" ? ":" : delimiter) + namespace);
        newDebug.log = this.log;
        return newDebug;
      }
      function enable(namespaces) {
        createDebug.save(namespaces);
        createDebug.namespaces = namespaces;
        createDebug.names = [];
        createDebug.skips = [];
        const split = (typeof namespaces === "string" ? namespaces : "").trim().replace(/\s+/g, ",").split(",").filter(Boolean);
        for (const ns of split) {
          if (ns[0] === "-") {
            createDebug.skips.push(ns.slice(1));
          } else {
            createDebug.names.push(ns);
          }
        }
      }
      function matchesTemplate(search, template) {
        let searchIndex = 0;
        let templateIndex = 0;
        let starIndex = -1;
        let matchIndex = 0;
        while (searchIndex < search.length) {
          if (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === "*")) {
            if (template[templateIndex] === "*") {
              starIndex = templateIndex;
              matchIndex = searchIndex;
              templateIndex++;
            } else {
              searchIndex++;
              templateIndex++;
            }
          } else if (starIndex !== -1) {
            templateIndex = starIndex + 1;
            matchIndex++;
            searchIndex = matchIndex;
          } else {
            return false;
          }
        }
        while (templateIndex < template.length && template[templateIndex] === "*") {
          templateIndex++;
        }
        return templateIndex === template.length;
      }
      function disable() {
        const namespaces = [
          ...createDebug.names,
          ...createDebug.skips.map((namespace) => "-" + namespace)
        ].join(",");
        createDebug.enable("");
        return namespaces;
      }
      function enabled(name) {
        for (const skip of createDebug.skips) {
          if (matchesTemplate(name, skip)) {
            return false;
          }
        }
        for (const ns of createDebug.names) {
          if (matchesTemplate(name, ns)) {
            return true;
          }
        }
        return false;
      }
      function coerce(val) {
        if (val instanceof Error) {
          return val.stack || val.message;
        }
        return val;
      }
      function destroy() {
        console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");
      }
      createDebug.enable(createDebug.load());
      return createDebug;
    }
    common = setup;
    return common;
  }
  var hasRequiredBrowser;
  function requireBrowser() {
    if (hasRequiredBrowser) return browser.exports;
    hasRequiredBrowser = 1;
    (function(module, exports) {
      var define_process_env_default = {};
      exports.formatArgs = formatArgs;
      exports.save = save;
      exports.load = load;
      exports.useColors = useColors;
      exports.storage = localstorage();
      exports.destroy = /* @__PURE__ */ (() => {
        let warned = false;
        return () => {
          if (!warned) {
            warned = true;
            console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");
          }
        };
      })();
      exports.colors = [
        "#0000CC",
        "#0000FF",
        "#0033CC",
        "#0033FF",
        "#0066CC",
        "#0066FF",
        "#0099CC",
        "#0099FF",
        "#00CC00",
        "#00CC33",
        "#00CC66",
        "#00CC99",
        "#00CCCC",
        "#00CCFF",
        "#3300CC",
        "#3300FF",
        "#3333CC",
        "#3333FF",
        "#3366CC",
        "#3366FF",
        "#3399CC",
        "#3399FF",
        "#33CC00",
        "#33CC33",
        "#33CC66",
        "#33CC99",
        "#33CCCC",
        "#33CCFF",
        "#6600CC",
        "#6600FF",
        "#6633CC",
        "#6633FF",
        "#66CC00",
        "#66CC33",
        "#9900CC",
        "#9900FF",
        "#9933CC",
        "#9933FF",
        "#99CC00",
        "#99CC33",
        "#CC0000",
        "#CC0033",
        "#CC0066",
        "#CC0099",
        "#CC00CC",
        "#CC00FF",
        "#CC3300",
        "#CC3333",
        "#CC3366",
        "#CC3399",
        "#CC33CC",
        "#CC33FF",
        "#CC6600",
        "#CC6633",
        "#CC9900",
        "#CC9933",
        "#CCCC00",
        "#CCCC33",
        "#FF0000",
        "#FF0033",
        "#FF0066",
        "#FF0099",
        "#FF00CC",
        "#FF00FF",
        "#FF3300",
        "#FF3333",
        "#FF3366",
        "#FF3399",
        "#FF33CC",
        "#FF33FF",
        "#FF6600",
        "#FF6633",
        "#FF9900",
        "#FF9933",
        "#FFCC00",
        "#FFCC33"
      ];
      function useColors() {
        if (typeof window !== "undefined" && window.process && (window.process.type === "renderer" || window.process.__nwjs)) {
          return true;
        }
        if (typeof navigator !== "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) {
          return false;
        }
        let m;
        return typeof document !== "undefined" && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773
        typeof window !== "undefined" && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?
        // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
        typeof navigator !== "undefined" && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)) && parseInt(m[1], 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker
        typeof navigator !== "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/);
      }
      function formatArgs(args) {
        args[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + args[0] + (this.useColors ? "%c " : " ") + "+" + module.exports.humanize(this.diff);
        if (!this.useColors) {
          return;
        }
        const c = "color: " + this.color;
        args.splice(1, 0, c, "color: inherit");
        let index2 = 0;
        let lastC = 0;
        args[0].replace(/%[a-zA-Z%]/g, (match) => {
          if (match === "%%") {
            return;
          }
          index2++;
          if (match === "%c") {
            lastC = index2;
          }
        });
        args.splice(lastC, 0, c);
      }
      exports.log = console.debug || console.log || (() => {
      });
      function save(namespaces) {
        try {
          if (namespaces) {
            exports.storage.setItem("debug", namespaces);
          } else {
            exports.storage.removeItem("debug");
          }
        } catch (error) {
        }
      }
      function load() {
        let r;
        try {
          r = exports.storage.getItem("debug") || exports.storage.getItem("DEBUG");
        } catch (error) {
        }
        if (!r && typeof process !== "undefined" && "env" in process) {
          r = define_process_env_default.DEBUG;
        }
        return r;
      }
      function localstorage() {
        try {
          return localStorage;
        } catch (error) {
        }
      }
      module.exports = requireCommon()(exports);
      const { formatters } = module.exports;
      formatters.j = function(v) {
        try {
          return JSON.stringify(v);
        } catch (error) {
          return "[UnexpectedJSONParseError]: " + error.message;
        }
      };
    })(browser, browser.exports);
    return browser.exports;
  }
  var browserExports = requireBrowser();
  const debug = /* @__PURE__ */ getDefaultExportFromCjs(browserExports);
  debug.enable("*");
  function makeLogger(name, meshLog) {
    const logger2 = debug(name);
    const createLogMethod = (level, originFn) => {
      return async function(...args) {
        try {
          await meshLog({
            level,
            messages: args
          });
        } catch (error) {
        }
      };
    };
    logger2.log = createLogMethod("log");
    return logger2;
  }
  const logger = makeLogger("mesh:sdk", async ({
    level,
    messages
  }) => {
    const { mcpMesh: mcpMesh2 } = await __vitePreload(async () => {
      const { mcpMesh: mcpMesh3 } = await Promise.resolve().then(() => index);
      return { mcpMesh: mcpMesh3 };
    }, false ? __VITE_PRELOAD__ : void 0);
    await mcpMesh2.getNode("uxp").actions.log({
      level,
      messages
    });
  });
  logger.extend("sdk-fetch-proxy");
  async function serializeFormData(formData) {
    const entries = [];
    const formDataAny = formData;
    if (formDataAny.entries) {
      for (const [key, value] of formDataAny.entries()) {
        if (value instanceof File) {
          const arrayBuffer = await value.arrayBuffer();
          const base64Data = Buffer.from(arrayBuffer).toString("base64");
          entries.push([key, {
            type: "file",
            name: value.name,
            data: base64Data,
            mimeType: value.type || "application/octet-stream"
          }]);
        } else {
          entries.push([key, String(value)]);
        }
      }
    } else {
      throw new Error("FormData serialization not supported in this environment");
    }
    return entries;
  }
  async function proxiedFetch(data2) {
    let bodyType = "json";
    if (data2.bodyType) {
      bodyType = data2.bodyType;
    } else if (typeof data2.body === "string") {
      bodyType = "text";
    }
    let serializedBody = data2.body;
    if (data2.body instanceof FormData) {
      serializedBody = await serializeFormData(data2.body);
      bodyType = "formData";
    }
    const response = await mcpMesh.getNode("uxp").actions.proxiedFetch({
      url: data2.url,
      method: data2.method || "GET",
      headers: data2.headers || {},
      body: serializedBody,
      bodyType
    });
    if (!response.success) {
      throw new Error(response.error || "Fetch request failed");
    }
    return {
      ok: response.status >= 200 && response.status < 300,
      status: response.status,
      statusText: response.statusText,
      headers: response.headers,
      data: response.data,
      json: async () => {
        if (typeof response.data === "string") {
          return JSON.parse(response.data);
        }
        return response.data;
      },
      text: async () => {
        if (typeof response.data === "string") {
          return response.data;
        }
        return JSON.stringify(response.data);
      }
    };
  }
  const proxiedDomains = [];
  function normalizeHeaders(headers) {
    if (!headers) return {};
    if (typeof headers === "object" && !Array.isArray(headers)) {
      const result = {};
      if (headers instanceof Headers) {
        headers.forEach((value, key) => {
          result[key] = value;
        });
      } else {
        Object.entries(headers).forEach(([key, value]) => {
          result[key] = value;
        });
      }
      return result;
    }
    if (Array.isArray(headers)) {
      const result = {};
      headers.forEach(([key, value]) => {
        result[key] = value;
      });
      return result;
    }
    return {};
  }
  function shouldProxy(url) {
    let urlString;
    if (typeof url === "string") {
      urlString = url;
    } else if (url instanceof URL) {
      urlString = url.toString();
    } else if (url instanceof Request) {
      urlString = url.url;
    } else {
      return false;
    }
    try {
      const urlObj = new URL(urlString);
      return proxiedDomains.some((domain) => {
        return urlObj.hostname.includes(domain);
      });
    } catch {
      return proxiedDomains.some((domain) => urlString.includes(domain));
    }
  }
  function createCompatibleResponse(response) {
    const responseObj = {
      ok: response.status >= 200 && response.status < 300,
      status: response.status,
      statusText: response.statusText,
      headers: new Headers(response.headers || {}),
      data: response.data,
      // 实现所有Response方法
      json: async () => {
        if (typeof response.data === "string") {
          return JSON.parse(response.data);
        }
        return response.data;
      },
      text: async () => {
        if (typeof response.data === "string") {
          return response.data;
        }
        return JSON.stringify(response.data);
      },
      blob: async () => {
        if (response.data instanceof Blob) {
          return response.data;
        }
        return new Blob([typeof response.data === "string" ? response.data : JSON.stringify(response.data)]);
      },
      arrayBuffer: async () => {
        if (response.data instanceof ArrayBuffer) {
          return response.data;
        }
        const text = typeof response.data === "string" ? response.data : JSON.stringify(response.data);
        return new TextEncoder().encode(text).buffer;
      },
      formData: async () => {
        throw new Error("FormData parsing not implemented in proxy response");
      },
      clone: function() {
        return createCompatibleResponse(response);
      },
      // 添加其他Response属性
      type: "default",
      url: "",
      // 这里可以设置实际的URL
      redirected: false,
      body: null,
      bodyUsed: false
    };
    return responseObj;
  }
  const originalFetch = globalThis.fetch;
  globalThis.fetch = function(input, init) {
    let url;
    let options = {};
    if (typeof input === "string") {
      url = input;
      options = init || {};
    } else if (input instanceof URL) {
      url = input.toString();
      options = init || {};
    } else if (input instanceof Request) {
      url = input.url;
      options = {
        method: input.method,
        headers: input.headers,
        body: input.body,
        mode: input.mode,
        credentials: input.credentials,
        cache: input.cache,
        redirect: input.redirect,
        referrer: input.referrer,
        referrerPolicy: input.referrerPolicy,
        integrity: input.integrity,
        keepalive: input.keepalive,
        ...init
      };
      if (input.signal) {
        options.signal = input.signal;
      } else {
        delete options.signal;
      }
    } else {
      return originalFetch(input, init);
    }
    if (shouldProxy(url)) {
      let bodyType = "json";
      if (options.body instanceof FormData) {
        bodyType = "formData";
      } else if (typeof options.body === "string") {
        bodyType = "text";
      } else if (options.body instanceof Blob || options.body instanceof ArrayBuffer) {
        bodyType = "text";
      }
      return proxiedFetch({
        url,
        method: options.method || "GET",
        headers: normalizeHeaders(options.headers),
        body: options.body,
        bodyType
      }).then(createCompatibleResponse);
    }
    return originalFetch(input, init);
  };
  function registerProxyDomains(domains) {
    proxiedDomains.push(domains);
  }
  class EventEmitter {
    constructor() {
      __publicField(this, "listeners", /* @__PURE__ */ new Map());
    }
    on(event, listener) {
      if (!this.listeners.has(event)) {
        this.listeners.set(event, /* @__PURE__ */ new Set());
      }
      this.listeners.get(event).add(listener);
    }
    off(event, listener) {
      const eventListeners = this.listeners.get(event);
      if (eventListeners) {
        eventListeners.delete(listener);
        if (eventListeners.size === 0) {
          this.listeners.delete(event);
        }
      }
    }
    emit(event, data2) {
      const eventListeners = this.listeners.get(event);
      if (eventListeners) {
        eventListeners.forEach((listener) => {
          try {
            listener(data2);
          } catch (error) {
            console.error(`Error in event listener for "${event}":`, error);
          }
        });
      }
    }
    once(event, listener) {
      const onceListener = (data2) => {
        this.off(event, onceListener);
        listener(data2);
      };
      this.on(event, onceListener);
    }
    removeAllListeners(event) {
      if (event) {
        this.listeners.delete(event);
      } else {
        this.listeners.clear();
      }
    }
  }
  const sdkEventEmitter = new EventEmitter();
  mcpMesh.implementAction("backward", async () => {
    sdkEventEmitter.emit("webview-backward", { timestamp: Date.now() });
    return { success: true };
  });
  mcpMesh.implementAction("refresh", async () => {
    sdkEventEmitter.emit("webview-refresh", { timestamp: Date.now() });
    return { success: true };
  });
  const uxpNode = mcpMesh.getNode("uxp");
  let lastActiveDocumentID = 0;
  function checkActiveDocument() {
    try {
      const uxpState = uxpNode.store.getState();
      const currentActiveDocumentID = (uxpState == null ? void 0 : uxpState.activeDocumentID) || 0;
      if (currentActiveDocumentID !== lastActiveDocumentID) {
        lastActiveDocumentID = currentActiveDocumentID;
        const currentState = mcpMesh.store.getState();
        const workBoundaries = currentState.workBoundaries || {};
        if (currentActiveDocumentID > 0 && !workBoundaries[currentActiveDocumentID]) {
          const updatedWorkBoundaries = {
            ...workBoundaries,
            [currentActiveDocumentID]: {
              x: 0,
              y: 0,
              width: 999999,
              height: 999999
            }
          };
          mcpMesh.store.setState({
            workBoundaries: updatedWorkBoundaries
          });
        }
      }
    } catch (e) {
      console.error("checkActiveDocument error:", e);
    }
    requestAnimationFrame(checkActiveDocument);
  }
  requestAnimationFrame(checkActiveDocument);
  const LATEST_PROTOCOL_VERSION = "2025-06-18";
  const SUPPORTED_PROTOCOL_VERSIONS = [
    LATEST_PROTOCOL_VERSION,
    "2025-03-26",
    "2024-11-05",
    "2024-10-07"
  ];
  const JSONRPC_VERSION = "2.0";
  const ProgressTokenSchema = unionType([stringType(), numberType().int()]);
  const CursorSchema = stringType();
  const RequestMetaSchema = objectType({
    /**
     * If specified, the caller is requesting out-of-band progress notifications for this request (as represented by notifications/progress). The value of this parameter is an opaque token that will be attached to any subsequent notifications. The receiver is not obligated to provide these notifications.
     */
    progressToken: optionalType(ProgressTokenSchema)
  }).passthrough();
  const BaseRequestParamsSchema = objectType({
    _meta: optionalType(RequestMetaSchema)
  }).passthrough();
  const RequestSchema = objectType({
    method: stringType(),
    params: optionalType(BaseRequestParamsSchema)
  });
  const BaseNotificationParamsSchema = objectType({
    /**
     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)
     * for notes on _meta usage.
     */
    _meta: optionalType(objectType({}).passthrough())
  }).passthrough();
  const NotificationSchema = objectType({
    method: stringType(),
    params: optionalType(BaseNotificationParamsSchema)
  });
  const ResultSchema = objectType({
    /**
     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)
     * for notes on _meta usage.
     */
    _meta: optionalType(objectType({}).passthrough())
  }).passthrough();
  const RequestIdSchema = unionType([stringType(), numberType().int()]);
  const JSONRPCRequestSchema = objectType({
    jsonrpc: literalType(JSONRPC_VERSION),
    id: RequestIdSchema
  }).merge(RequestSchema).strict();
  const isJSONRPCRequest = (value) => JSONRPCRequestSchema.safeParse(value).success;
  const JSONRPCNotificationSchema = objectType({
    jsonrpc: literalType(JSONRPC_VERSION)
  }).merge(NotificationSchema).strict();
  const isJSONRPCNotification = (value) => JSONRPCNotificationSchema.safeParse(value).success;
  const JSONRPCResponseSchema = objectType({
    jsonrpc: literalType(JSONRPC_VERSION),
    id: RequestIdSchema,
    result: ResultSchema
  }).strict();
  const isJSONRPCResponse = (value) => JSONRPCResponseSchema.safeParse(value).success;
  var ErrorCode;
  (function(ErrorCode2) {
    ErrorCode2[ErrorCode2["ConnectionClosed"] = -32e3] = "ConnectionClosed";
    ErrorCode2[ErrorCode2["RequestTimeout"] = -32001] = "RequestTimeout";
    ErrorCode2[ErrorCode2["ParseError"] = -32700] = "ParseError";
    ErrorCode2[ErrorCode2["InvalidRequest"] = -32600] = "InvalidRequest";
    ErrorCode2[ErrorCode2["MethodNotFound"] = -32601] = "MethodNotFound";
    ErrorCode2[ErrorCode2["InvalidParams"] = -32602] = "InvalidParams";
    ErrorCode2[ErrorCode2["InternalError"] = -32603] = "InternalError";
  })(ErrorCode || (ErrorCode = {}));
  const JSONRPCErrorSchema = objectType({
    jsonrpc: literalType(JSONRPC_VERSION),
    id: RequestIdSchema,
    error: objectType({
      /**
       * The error type that occurred.
       */
      code: numberType().int(),
      /**
       * A short description of the error. The message SHOULD be limited to a concise single sentence.
       */
      message: stringType(),
      /**
       * Additional information about the error. The value of this member is defined by the sender (e.g. detailed error information, nested errors etc.).
       */
      data: optionalType(unknownType())
    })
  }).strict();
  const isJSONRPCError = (value) => JSONRPCErrorSchema.safeParse(value).success;
  unionType([
    JSONRPCRequestSchema,
    JSONRPCNotificationSchema,
    JSONRPCResponseSchema,
    JSONRPCErrorSchema
  ]);
  const EmptyResultSchema = ResultSchema.strict();
  const CancelledNotificationSchema = NotificationSchema.extend({
    method: literalType("notifications/cancelled"),
    params: BaseNotificationParamsSchema.extend({
      /**
       * The ID of the request to cancel.
       *
       * This MUST correspond to the ID of a request previously issued in the same direction.
       */
      requestId: RequestIdSchema,
      /**
       * An optional string describing the reason for the cancellation. This MAY be logged or presented to the user.
       */
      reason: stringType().optional()
    })
  });
  const BaseMetadataSchema = objectType({
    /** Intended for programmatic or logical use, but used as a display name in past specs or fallback */
    name: stringType(),
    /**
    * Intended for UI and end-user contexts — optimized to be human-readable and easily understood,
    * even by those unfamiliar with domain-specific terminology.
    *
    * If not provided, the name should be used for display (except for Tool,
    * where `annotations.title` should be given precedence over using `name`,
    * if present).
    */
    title: optionalType(stringType())
  }).passthrough();
  const ImplementationSchema = BaseMetadataSchema.extend({
    version: stringType()
  });
  const ClientCapabilitiesSchema = objectType({
    /**
     * Experimental, non-standard capabilities that the client supports.
     */
    experimental: optionalType(objectType({}).passthrough()),
    /**
     * Present if the client supports sampling from an LLM.
     */
    sampling: optionalType(objectType({}).passthrough()),
    /**
     * Present if the client supports eliciting user input.
     */
    elicitation: optionalType(objectType({}).passthrough()),
    /**
     * Present if the client supports listing roots.
     */
    roots: optionalType(objectType({
      /**
       * Whether the client supports issuing notifications for changes to the roots list.
       */
      listChanged: optionalType(booleanType())
    }).passthrough())
  }).passthrough();
  const InitializeRequestSchema = RequestSchema.extend({
    method: literalType("initialize"),
    params: BaseRequestParamsSchema.extend({
      /**
       * The latest version of the Model Context Protocol that the client supports. The client MAY decide to support older versions as well.
       */
      protocolVersion: stringType(),
      capabilities: ClientCapabilitiesSchema,
      clientInfo: ImplementationSchema
    })
  });
  const ServerCapabilitiesSchema = objectType({
    /**
     * Experimental, non-standard capabilities that the server supports.
     */
    experimental: optionalType(objectType({}).passthrough()),
    /**
     * Present if the server supports sending log messages to the client.
     */
    logging: optionalType(objectType({}).passthrough()),
    /**
     * Present if the server supports sending completions to the client.
     */
    completions: optionalType(objectType({}).passthrough()),
    /**
     * Present if the server offers any prompt templates.
     */
    prompts: optionalType(objectType({
      /**
       * Whether this server supports issuing notifications for changes to the prompt list.
       */
      listChanged: optionalType(booleanType())
    }).passthrough()),
    /**
     * Present if the server offers any resources to read.
     */
    resources: optionalType(objectType({
      /**
       * Whether this server supports clients subscribing to resource updates.
       */
      subscribe: optionalType(booleanType()),
      /**
       * Whether this server supports issuing notifications for changes to the resource list.
       */
      listChanged: optionalType(booleanType())
    }).passthrough()),
    /**
     * Present if the server offers any tools to call.
     */
    tools: optionalType(objectType({
      /**
       * Whether this server supports issuing notifications for changes to the tool list.
       */
      listChanged: optionalType(booleanType())
    }).passthrough())
  }).passthrough();
  const InitializeResultSchema = ResultSchema.extend({
    /**
     * The version of the Model Context Protocol that the server wants to use. This may not match the version that the client requested. If the client cannot support this version, it MUST disconnect.
     */
    protocolVersion: stringType(),
    capabilities: ServerCapabilitiesSchema,
    serverInfo: ImplementationSchema,
    /**
     * Instructions describing how to use the server and its features.
     *
     * This can be used by clients to improve the LLM's understanding of available tools, resources, etc. It can be thought of like a "hint" to the model. For example, this information MAY be added to the system prompt.
     */
    instructions: optionalType(stringType())
  });
  const InitializedNotificationSchema = NotificationSchema.extend({
    method: literalType("notifications/initialized")
  });
  const PingRequestSchema = RequestSchema.extend({
    method: literalType("ping")
  });
  const ProgressSchema = objectType({
    /**
     * The progress thus far. This should increase every time progress is made, even if the total is unknown.
     */
    progress: numberType(),
    /**
     * Total number of items to process (or total progress required), if known.
     */
    total: optionalType(numberType()),
    /**
     * An optional message describing the current progress.
     */
    message: optionalType(stringType())
  }).passthrough();
  const ProgressNotificationSchema = NotificationSchema.extend({
    method: literalType("notifications/progress"),
    params: BaseNotificationParamsSchema.merge(ProgressSchema).extend({
      /**
       * The progress token which was given in the initial request, used to associate this notification with the request that is proceeding.
       */
      progressToken: ProgressTokenSchema
    })
  });
  const PaginatedRequestSchema = RequestSchema.extend({
    params: BaseRequestParamsSchema.extend({
      /**
       * An opaque token representing the current pagination position.
       * If provided, the server should return results starting after this cursor.
       */
      cursor: optionalType(CursorSchema)
    }).optional()
  });
  const PaginatedResultSchema = ResultSchema.extend({
    /**
     * An opaque token representing the pagination position after the last returned result.
     * If present, there may be more results available.
     */
    nextCursor: optionalType(CursorSchema)
  });
  const ResourceContentsSchema = objectType({
    /**
     * The URI of this resource.
     */
    uri: stringType(),
    /**
     * The MIME type of this resource, if known.
     */
    mimeType: optionalType(stringType()),
    /**
     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)
     * for notes on _meta usage.
     */
    _meta: optionalType(objectType({}).passthrough())
  }).passthrough();
  const TextResourceContentsSchema = ResourceContentsSchema.extend({
    /**
     * The text of the item. This must only be set if the item can actually be represented as text (not binary data).
     */
    text: stringType()
  });
  const BlobResourceContentsSchema = ResourceContentsSchema.extend({
    /**
     * A base64-encoded string representing the binary data of the item.
     */
    blob: stringType().base64()
  });
  const ResourceSchema = BaseMetadataSchema.extend({
    /**
     * The URI of this resource.
     */
    uri: stringType(),
    /**
     * A description of what this resource represents.
     *
     * This can be used by clients to improve the LLM's understanding of available resources. It can be thought of like a "hint" to the model.
     */
    description: optionalType(stringType()),
    /**
     * The MIME type of this resource, if known.
     */
    mimeType: optionalType(stringType()),
    /**
     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)
     * for notes on _meta usage.
     */
    _meta: optionalType(objectType({}).passthrough())
  });
  const ResourceTemplateSchema = BaseMetadataSchema.extend({
    /**
     * A URI template (according to RFC 6570) that can be used to construct resource URIs.
     */
    uriTemplate: stringType(),
    /**
     * A description of what this template is for.
     *
     * This can be used by clients to improve the LLM's understanding of available resources. It can be thought of like a "hint" to the model.
     */
    description: optionalType(stringType()),
    /**
     * The MIME type for all resources that match this template. This should only be included if all resources matching this template have the same type.
     */
    mimeType: optionalType(stringType()),
    /**
     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)
     * for notes on _meta usage.
     */
    _meta: optionalType(objectType({}).passthrough())
  });
  const ListResourcesRequestSchema = PaginatedRequestSchema.extend({
    method: literalType("resources/list")
  });
  const ListResourcesResultSchema = PaginatedResultSchema.extend({
    resources: arrayType(ResourceSchema)
  });
  const ListResourceTemplatesRequestSchema = PaginatedRequestSchema.extend({
    method: literalType("resources/templates/list")
  });
  const ListResourceTemplatesResultSchema = PaginatedResultSchema.extend({
    resourceTemplates: arrayType(ResourceTemplateSchema)
  });
  const ReadResourceRequestSchema = RequestSchema.extend({
    method: literalType("resources/read"),
    params: BaseRequestParamsSchema.extend({
      /**
       * The URI of the resource to read. The URI can use any protocol; it is up to the server how to interpret it.
       */
      uri: stringType()
    })
  });
  const ReadResourceResultSchema = ResultSchema.extend({
    contents: arrayType(unionType([TextResourceContentsSchema, BlobResourceContentsSchema]))
  });
  const ResourceListChangedNotificationSchema = NotificationSchema.extend({
    method: literalType("notifications/resources/list_changed")
  });
  const SubscribeRequestSchema = RequestSchema.extend({
    method: literalType("resources/subscribe"),
    params: BaseRequestParamsSchema.extend({
      /**
       * The URI of the resource to subscribe to. The URI can use any protocol; it is up to the server how to interpret it.
       */
      uri: stringType()
    })
  });
  const UnsubscribeRequestSchema = RequestSchema.extend({
    method: literalType("resources/unsubscribe"),
    params: BaseRequestParamsSchema.extend({
      /**
       * The URI of the resource to unsubscribe from.
       */
      uri: stringType()
    })
  });
  const ResourceUpdatedNotificationSchema = NotificationSchema.extend({
    method: literalType("notifications/resources/updated"),
    params: BaseNotificationParamsSchema.extend({
      /**
       * The URI of the resource that has been updated. This might be a sub-resource of the one that the client actually subscribed to.
       */
      uri: stringType()
    })
  });
  const PromptArgumentSchema = objectType({
    /**
     * The name of the argument.
     */
    name: stringType(),
    /**
     * A human-readable description of the argument.
     */
    description: optionalType(stringType()),
    /**
     * Whether this argument must be provided.
     */
    required: optionalType(booleanType())
  }).passthrough();
  const PromptSchema = BaseMetadataSchema.extend({
    /**
     * An optional description of what this prompt provides
     */
    description: optionalType(stringType()),
    /**
     * A list of arguments to use for templating the prompt.
     */
    arguments: optionalType(arrayType(PromptArgumentSchema)),
    /**
     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)
     * for notes on _meta usage.
     */
    _meta: optionalType(objectType({}).passthrough())
  });
  const ListPromptsRequestSchema = PaginatedRequestSchema.extend({
    method: literalType("prompts/list")
  });
  const ListPromptsResultSchema = PaginatedResultSchema.extend({
    prompts: arrayType(PromptSchema)
  });
  const GetPromptRequestSchema = RequestSchema.extend({
    method: literalType("prompts/get"),
    params: BaseRequestParamsSchema.extend({
      /**
       * The name of the prompt or prompt template.
       */
      name: stringType(),
      /**
       * Arguments to use for templating the prompt.
       */
      arguments: optionalType(recordType(stringType()))
    })
  });
  const TextContentSchema = objectType({
    type: literalType("text"),
    /**
     * The text content of the message.
     */
    text: stringType(),
    /**
     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)
     * for notes on _meta usage.
     */
    _meta: optionalType(objectType({}).passthrough())
  }).passthrough();
  const ImageContentSchema = objectType({
    type: literalType("image"),
    /**
     * The base64-encoded image data.
     */
    data: stringType().base64(),
    /**
     * The MIME type of the image. Different providers may support different image types.
     */
    mimeType: stringType(),
    /**
     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)
     * for notes on _meta usage.
     */
    _meta: optionalType(objectType({}).passthrough())
  }).passthrough();
  const AudioContentSchema = objectType({
    type: literalType("audio"),
    /**
     * The base64-encoded audio data.
     */
    data: stringType().base64(),
    /**
     * The MIME type of the audio. Different providers may support different audio types.
     */
    mimeType: stringType(),
    /**
     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)
     * for notes on _meta usage.
     */
    _meta: optionalType(objectType({}).passthrough())
  }).passthrough();
  const EmbeddedResourceSchema = objectType({
    type: literalType("resource"),
    resource: unionType([TextResourceContentsSchema, BlobResourceContentsSchema]),
    /**
     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)
     * for notes on _meta usage.
     */
    _meta: optionalType(objectType({}).passthrough())
  }).passthrough();
  const ResourceLinkSchema = ResourceSchema.extend({
    type: literalType("resource_link")
  });
  const ContentBlockSchema = unionType([
    TextContentSchema,
    ImageContentSchema,
    AudioContentSchema,
    ResourceLinkSchema,
    EmbeddedResourceSchema
  ]);
  const PromptMessageSchema = objectType({
    role: enumType(["user", "assistant"]),
    content: ContentBlockSchema
  }).passthrough();
  const GetPromptResultSchema = ResultSchema.extend({
    /**
     * An optional description for the prompt.
     */
    description: optionalType(stringType()),
    messages: arrayType(PromptMessageSchema)
  });
  const PromptListChangedNotificationSchema = NotificationSchema.extend({
    method: literalType("notifications/prompts/list_changed")
  });
  const ToolAnnotationsSchema = objectType({
    /**
     * A human-readable title for the tool.
     */
    title: optionalType(stringType()),
    /**
     * If true, the tool does not modify its environment.
     *
     * Default: false
     */
    readOnlyHint: optionalType(booleanType()),
    /**
     * If true, the tool may perform destructive updates to its environment.
     * If false, the tool performs only additive updates.
     *
     * (This property is meaningful only when `readOnlyHint == false`)
     *
     * Default: true
     */
    destructiveHint: optionalType(booleanType()),
    /**
     * If true, calling the tool repeatedly with the same arguments
     * will have no additional effect on the its environment.
     *
     * (This property is meaningful only when `readOnlyHint == false`)
     *
     * Default: false
     */
    idempotentHint: optionalType(booleanType()),
    /**
     * If true, this tool may interact with an "open world" of external
     * entities. If false, the tool's domain of interaction is closed.
     * For example, the world of a web search tool is open, whereas that
     * of a memory tool is not.
     *
     * Default: true
     */
    openWorldHint: optionalType(booleanType())
  }).passthrough();
  const ToolSchema = BaseMetadataSchema.extend({
    /**
     * A human-readable description of the tool.
     */
    description: optionalType(stringType()),
    /**
     * A JSON Schema object defining the expected parameters for the tool.
     */
    inputSchema: objectType({
      type: literalType("object"),
      properties: optionalType(objectType({}).passthrough()),
      required: optionalType(arrayType(stringType()))
    }).passthrough(),
    /**
     * An optional JSON Schema object defining the structure of the tool's output returned in
     * the structuredContent field of a CallToolResult.
     */
    outputSchema: optionalType(objectType({
      type: literalType("object"),
      properties: optionalType(objectType({}).passthrough()),
      required: optionalType(arrayType(stringType()))
    }).passthrough()),
    /**
     * Optional additional tool information.
     */
    annotations: optionalType(ToolAnnotationsSchema),
    /**
     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)
     * for notes on _meta usage.
     */
    _meta: optionalType(objectType({}).passthrough())
  });
  const ListToolsRequestSchema = PaginatedRequestSchema.extend({
    method: literalType("tools/list")
  });
  const ListToolsResultSchema = PaginatedResultSchema.extend({
    tools: arrayType(ToolSchema)
  });
  const CallToolResultSchema = ResultSchema.extend({
    /**
     * A list of content objects that represent the result of the tool call.
     *
     * If the Tool does not define an outputSchema, this field MUST be present in the result.
     * For backwards compatibility, this field is always present, but it may be empty.
     */
    content: arrayType(ContentBlockSchema).default([]),
    /**
     * An object containing structured tool output.
     *
     * If the Tool defines an outputSchema, this field MUST be present in the result, and contain a JSON object that matches the schema.
     */
    structuredContent: objectType({}).passthrough().optional(),
    /**
     * Whether the tool call ended in an error.
     *
     * If not set, this is assumed to be false (the call was successful).
     *
     * Any errors that originate from the tool SHOULD be reported inside the result
     * object, with `isError` set to true, _not_ as an MCP protocol-level error
     * response. Otherwise, the LLM would not be able to see that an error occurred
     * and self-correct.
     *
     * However, any errors in _finding_ the tool, an error indicating that the
     * server does not support tool calls, or any other exceptional conditions,
     * should be reported as an MCP error response.
     */
    isError: optionalType(booleanType())
  });
  CallToolResultSchema.or(ResultSchema.extend({
    toolResult: unknownType()
  }));
  const CallToolRequestSchema = RequestSchema.extend({
    method: literalType("tools/call"),
    params: BaseRequestParamsSchema.extend({
      name: stringType(),
      arguments: optionalType(recordType(unknownType()))
    })
  });
  const ToolListChangedNotificationSchema = NotificationSchema.extend({
    method: literalType("notifications/tools/list_changed")
  });
  const LoggingLevelSchema = enumType([
    "debug",
    "info",
    "notice",
    "warning",
    "error",
    "critical",
    "alert",
    "emergency"
  ]);
  const SetLevelRequestSchema = RequestSchema.extend({
    method: literalType("logging/setLevel"),
    params: BaseRequestParamsSchema.extend({
      /**
       * The level of logging that the client wants to receive from the server. The server should send all logs at this level and higher (i.e., more severe) to the client as notifications/logging/message.
       */
      level: LoggingLevelSchema
    })
  });
  const LoggingMessageNotificationSchema = NotificationSchema.extend({
    method: literalType("notifications/message"),
    params: BaseNotificationParamsSchema.extend({
      /**
       * The severity of this log message.
       */
      level: LoggingLevelSchema,
      /**
       * An optional name of the logger issuing this message.
       */
      logger: optionalType(stringType()),
      /**
       * The data to be logged, such as a string message or an object. Any JSON serializable type is allowed here.
       */
      data: unknownType()
    })
  });
  const ModelHintSchema = objectType({
    /**
     * A hint for a model name.
     */
    name: stringType().optional()
  }).passthrough();
  const ModelPreferencesSchema = objectType({
    /**
     * Optional hints to use for model selection.
     */
    hints: optionalType(arrayType(ModelHintSchema)),
    /**
     * How much to prioritize cost when selecting a model.
     */
    costPriority: optionalType(numberType().min(0).max(1)),
    /**
     * How much to prioritize sampling speed (latency) when selecting a model.
     */
    speedPriority: optionalType(numberType().min(0).max(1)),
    /**
     * How much to prioritize intelligence and capabilities when selecting a model.
     */
    intelligencePriority: optionalType(numberType().min(0).max(1))
  }).passthrough();
  const SamplingMessageSchema = objectType({
    role: enumType(["user", "assistant"]),
    content: unionType([TextContentSchema, ImageContentSchema, AudioContentSchema])
  }).passthrough();
  const CreateMessageRequestSchema = RequestSchema.extend({
    method: literalType("sampling/createMessage"),
    params: BaseRequestParamsSchema.extend({
      messages: arrayType(SamplingMessageSchema),
      /**
       * An optional system prompt the server wants to use for sampling. The client MAY modify or omit this prompt.
       */
      systemPrompt: optionalType(stringType()),
      /**
       * A request to include context from one or more MCP servers (including the caller), to be attached to the prompt. The client MAY ignore this request.
       */
      includeContext: optionalType(enumType(["none", "thisServer", "allServers"])),
      temperature: optionalType(numberType()),
      /**
       * The maximum number of tokens to sample, as requested by the server. The client MAY choose to sample fewer tokens than requested.
       */
      maxTokens: numberType().int(),
      stopSequences: optionalType(arrayType(stringType())),
      /**
       * Optional metadata to pass through to the LLM provider. The format of this metadata is provider-specific.
       */
      metadata: optionalType(objectType({}).passthrough()),
      /**
       * The server's preferences for which model to select.
       */
      modelPreferences: optionalType(ModelPreferencesSchema)
    })
  });
  const CreateMessageResultSchema = ResultSchema.extend({
    /**
     * The name of the model that generated the message.
     */
    model: stringType(),
    /**
     * The reason why sampling stopped.
     */
    stopReason: optionalType(enumType(["endTurn", "stopSequence", "maxTokens"]).or(stringType())),
    role: enumType(["user", "assistant"]),
    content: discriminatedUnionType("type", [
      TextContentSchema,
      ImageContentSchema,
      AudioContentSchema
    ])
  });
  const BooleanSchemaSchema = objectType({
    type: literalType("boolean"),
    title: optionalType(stringType()),
    description: optionalType(stringType()),
    default: optionalType(booleanType())
  }).passthrough();
  const StringSchemaSchema = objectType({
    type: literalType("string"),
    title: optionalType(stringType()),
    description: optionalType(stringType()),
    minLength: optionalType(numberType()),
    maxLength: optionalType(numberType()),
    format: optionalType(enumType(["email", "uri", "date", "date-time"]))
  }).passthrough();
  const NumberSchemaSchema = objectType({
    type: enumType(["number", "integer"]),
    title: optionalType(stringType()),
    description: optionalType(stringType()),
    minimum: optionalType(numberType()),
    maximum: optionalType(numberType())
  }).passthrough();
  const EnumSchemaSchema = objectType({
    type: literalType("string"),
    title: optionalType(stringType()),
    description: optionalType(stringType()),
    enum: arrayType(stringType()),
    enumNames: optionalType(arrayType(stringType()))
  }).passthrough();
  const PrimitiveSchemaDefinitionSchema = unionType([
    BooleanSchemaSchema,
    StringSchemaSchema,
    NumberSchemaSchema,
    EnumSchemaSchema
  ]);
  const ElicitRequestSchema = RequestSchema.extend({
    method: literalType("elicitation/create"),
    params: BaseRequestParamsSchema.extend({
      /**
       * The message to present to the user.
       */
      message: stringType(),
      /**
       * The schema for the requested user input.
       */
      requestedSchema: objectType({
        type: literalType("object"),
        properties: recordType(stringType(), PrimitiveSchemaDefinitionSchema),
        required: optionalType(arrayType(stringType()))
      }).passthrough()
    })
  });
  const ElicitResultSchema = ResultSchema.extend({
    /**
     * The user's response action.
     */
    action: enumType(["accept", "decline", "cancel"]),
    /**
     * The collected user input content (only present if action is "accept").
     */
    content: optionalType(recordType(stringType(), unknownType()))
  });
  const ResourceTemplateReferenceSchema = objectType({
    type: literalType("ref/resource"),
    /**
     * The URI or URI template of the resource.
     */
    uri: stringType()
  }).passthrough();
  const PromptReferenceSchema = objectType({
    type: literalType("ref/prompt"),
    /**
     * The name of the prompt or prompt template
     */
    name: stringType()
  }).passthrough();
  const CompleteRequestSchema = RequestSchema.extend({
    method: literalType("completion/complete"),
    params: BaseRequestParamsSchema.extend({
      ref: unionType([PromptReferenceSchema, ResourceTemplateReferenceSchema]),
      /**
       * The argument's information
       */
      argument: objectType({
        /**
         * The name of the argument
         */
        name: stringType(),
        /**
         * The value of the argument to use for completion matching.
         */
        value: stringType()
      }).passthrough(),
      context: optionalType(objectType({
        /**
         * Previously-resolved variables in a URI template or prompt.
         */
        arguments: optionalType(recordType(stringType(), stringType()))
      }))
    })
  });
  const CompleteResultSchema = ResultSchema.extend({
    completion: objectType({
      /**
       * An array of completion values. Must not exceed 100 items.
       */
      values: arrayType(stringType()).max(100),
      /**
       * The total number of completion options available. This can exceed the number of values actually sent in the response.
       */
      total: optionalType(numberType().int()),
      /**
       * Indicates whether there are additional completion options beyond those provided in the current response, even if the exact total is unknown.
       */
      hasMore: optionalType(booleanType())
    }).passthrough()
  });
  const RootSchema = objectType({
    /**
     * The URI identifying the root. This *must* start with file:// for now.
     */
    uri: stringType().startsWith("file://"),
    /**
     * An optional name for the root.
     */
    name: optionalType(stringType()),
    /**
     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)
     * for notes on _meta usage.
     */
    _meta: optionalType(objectType({}).passthrough())
  }).passthrough();
  const ListRootsRequestSchema = RequestSchema.extend({
    method: literalType("roots/list")
  });
  const ListRootsResultSchema = ResultSchema.extend({
    roots: arrayType(RootSchema)
  });
  const RootsListChangedNotificationSchema = NotificationSchema.extend({
    method: literalType("notifications/roots/list_changed")
  });
  unionType([
    PingRequestSchema,
    InitializeRequestSchema,
    CompleteRequestSchema,
    SetLevelRequestSchema,
    GetPromptRequestSchema,
    ListPromptsRequestSchema,
    ListResourcesRequestSchema,
    ListResourceTemplatesRequestSchema,
    ReadResourceRequestSchema,
    SubscribeRequestSchema,
    UnsubscribeRequestSchema,
    CallToolRequestSchema,
    ListToolsRequestSchema
  ]);
  unionType([
    CancelledNotificationSchema,
    ProgressNotificationSchema,
    InitializedNotificationSchema,
    RootsListChangedNotificationSchema
  ]);
  unionType([
    EmptyResultSchema,
    CreateMessageResultSchema,
    ElicitResultSchema,
    ListRootsResultSchema
  ]);
  unionType([
    PingRequestSchema,
    CreateMessageRequestSchema,
    ElicitRequestSchema,
    ListRootsRequestSchema
  ]);
  unionType([
    CancelledNotificationSchema,
    ProgressNotificationSchema,
    LoggingMessageNotificationSchema,
    ResourceUpdatedNotificationSchema,
    ResourceListChangedNotificationSchema,
    ToolListChangedNotificationSchema,
    PromptListChangedNotificationSchema
  ]);
  unionType([
    EmptyResultSchema,
    InitializeResultSchema,
    CompleteResultSchema,
    GetPromptResultSchema,
    ListPromptsResultSchema,
    ListResourcesResultSchema,
    ListResourceTemplatesResultSchema,
    ReadResourceResultSchema,
    CallToolResultSchema,
    ListToolsResultSchema
  ]);
  class McpError extends Error {
    constructor(code, message, data2) {
      super(`MCP error ${code}: ${message}`);
      this.code = code;
      this.data = data2;
      this.name = "McpError";
    }
  }
  const DEFAULT_REQUEST_TIMEOUT_MSEC = 6e4;
  class Protocol {
    constructor(_options) {
      this._options = _options;
      this._requestMessageId = 0;
      this._requestHandlers = /* @__PURE__ */ new Map();
      this._requestHandlerAbortControllers = /* @__PURE__ */ new Map();
      this._notificationHandlers = /* @__PURE__ */ new Map();
      this._responseHandlers = /* @__PURE__ */ new Map();
      this._progressHandlers = /* @__PURE__ */ new Map();
      this._timeoutInfo = /* @__PURE__ */ new Map();
      this._pendingDebouncedNotifications = /* @__PURE__ */ new Set();
      this.setNotificationHandler(CancelledNotificationSchema, (notification) => {
        const controller = this._requestHandlerAbortControllers.get(notification.params.requestId);
        controller === null || controller === void 0 ? void 0 : controller.abort(notification.params.reason);
      });
      this.setNotificationHandler(ProgressNotificationSchema, (notification) => {
        this._onprogress(notification);
      });
      this.setRequestHandler(
        PingRequestSchema,
        // Automatic pong by default.
        (_request) => ({})
      );
    }
    _setupTimeout(messageId, timeout, maxTotalTimeout, onTimeout, resetTimeoutOnProgress = false) {
      this._timeoutInfo.set(messageId, {
        timeoutId: setTimeout(onTimeout, timeout),
        startTime: Date.now(),
        timeout,
        maxTotalTimeout,
        resetTimeoutOnProgress,
        onTimeout
      });
    }
    _resetTimeout(messageId) {
      const info = this._timeoutInfo.get(messageId);
      if (!info)
        return false;
      const totalElapsed = Date.now() - info.startTime;
      if (info.maxTotalTimeout && totalElapsed >= info.maxTotalTimeout) {
        this._timeoutInfo.delete(messageId);
        throw new McpError(ErrorCode.RequestTimeout, "Maximum total timeout exceeded", { maxTotalTimeout: info.maxTotalTimeout, totalElapsed });
      }
      clearTimeout(info.timeoutId);
      info.timeoutId = setTimeout(info.onTimeout, info.timeout);
      return true;
    }
    _cleanupTimeout(messageId) {
      const info = this._timeoutInfo.get(messageId);
      if (info) {
        clearTimeout(info.timeoutId);
        this._timeoutInfo.delete(messageId);
      }
    }
    /**
     * Attaches to the given transport, starts it, and starts listening for messages.
     *
     * The Protocol object assumes ownership of the Transport, replacing any callbacks that have already been set, and expects that it is the only user of the Transport instance going forward.
     */
    async connect(transport) {
      var _a, _b, _c;
      this._transport = transport;
      const _onclose = (_a = this.transport) === null || _a === void 0 ? void 0 : _a.onclose;
      this._transport.onclose = () => {
        _onclose === null || _onclose === void 0 ? void 0 : _onclose();
        this._onclose();
      };
      const _onerror = (_b = this.transport) === null || _b === void 0 ? void 0 : _b.onerror;
      this._transport.onerror = (error) => {
        _onerror === null || _onerror === void 0 ? void 0 : _onerror(error);
        this._onerror(error);
      };
      const _onmessage = (_c = this._transport) === null || _c === void 0 ? void 0 : _c.onmessage;
      this._transport.onmessage = (message, extra) => {
        _onmessage === null || _onmessage === void 0 ? void 0 : _onmessage(message, extra);
        if (isJSONRPCResponse(message) || isJSONRPCError(message)) {
          this._onresponse(message);
        } else if (isJSONRPCRequest(message)) {
          this._onrequest(message, extra);
        } else if (isJSONRPCNotification(message)) {
          this._onnotification(message);
        } else {
          this._onerror(new Error(`Unknown message type: ${JSON.stringify(message)}`));
        }
      };
      await this._transport.start();
    }
    _onclose() {
      var _a;
      const responseHandlers = this._responseHandlers;
      this._responseHandlers = /* @__PURE__ */ new Map();
      this._progressHandlers.clear();
      this._pendingDebouncedNotifications.clear();
      this._transport = void 0;
      (_a = this.onclose) === null || _a === void 0 ? void 0 : _a.call(this);
      const error = new McpError(ErrorCode.ConnectionClosed, "Connection closed");
      for (const handler of responseHandlers.values()) {
        handler(error);
      }
    }
    _onerror(error) {
      var _a;
      (_a = this.onerror) === null || _a === void 0 ? void 0 : _a.call(this, error);
    }
    _onnotification(notification) {
      var _a;
      const handler = (_a = this._notificationHandlers.get(notification.method)) !== null && _a !== void 0 ? _a : this.fallbackNotificationHandler;
      if (handler === void 0) {
        return;
      }
      Promise.resolve().then(() => handler(notification)).catch((error) => this._onerror(new Error(`Uncaught error in notification handler: ${error}`)));
    }
    _onrequest(request, extra) {
      var _a, _b, _c, _d;
      const handler = (_a = this._requestHandlers.get(request.method)) !== null && _a !== void 0 ? _a : this.fallbackRequestHandler;
      if (handler === void 0) {
        (_b = this._transport) === null || _b === void 0 ? void 0 : _b.send({
          jsonrpc: "2.0",
          id: request.id,
          error: {
            code: ErrorCode.MethodNotFound,
            message: "Method not found"
          }
        }).catch((error) => this._onerror(new Error(`Failed to send an error response: ${error}`)));
        return;
      }
      const abortController = new AbortController();
      this._requestHandlerAbortControllers.set(request.id, abortController);
      const fullExtra = {
        signal: abortController.signal,
        sessionId: (_c = this._transport) === null || _c === void 0 ? void 0 : _c.sessionId,
        _meta: (_d = request.params) === null || _d === void 0 ? void 0 : _d._meta,
        sendNotification: (notification) => this.notification(notification, { relatedRequestId: request.id }),
        sendRequest: (r, resultSchema, options) => this.request(r, resultSchema, { ...options, relatedRequestId: request.id }),
        authInfo: extra === null || extra === void 0 ? void 0 : extra.authInfo,
        requestId: request.id,
        requestInfo: extra === null || extra === void 0 ? void 0 : extra.requestInfo
      };
      Promise.resolve().then(() => handler(request, fullExtra)).then((result) => {
        var _a2;
        if (abortController.signal.aborted) {
          return;
        }
        return (_a2 = this._transport) === null || _a2 === void 0 ? void 0 : _a2.send({
          result,
          jsonrpc: "2.0",
          id: request.id
        });
      }, (error) => {
        var _a2, _b2;
        if (abortController.signal.aborted) {
          return;
        }
        return (_a2 = this._transport) === null || _a2 === void 0 ? void 0 : _a2.send({
          jsonrpc: "2.0",
          id: request.id,
          error: {
            code: Number.isSafeInteger(error["code"]) ? error["code"] : ErrorCode.InternalError,
            message: (_b2 = error.message) !== null && _b2 !== void 0 ? _b2 : "Internal error"
          }
        });
      }).catch((error) => this._onerror(new Error(`Failed to send response: ${error}`))).finally(() => {
        this._requestHandlerAbortControllers.delete(request.id);
      });
    }
    _onprogress(notification) {
      const { progressToken, ...params } = notification.params;
      const messageId = Number(progressToken);
      const handler = this._progressHandlers.get(messageId);
      if (!handler) {
        this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(notification)}`));
        return;
      }
      const responseHandler = this._responseHandlers.get(messageId);
      const timeoutInfo = this._timeoutInfo.get(messageId);
      if (timeoutInfo && responseHandler && timeoutInfo.resetTimeoutOnProgress) {
        try {
          this._resetTimeout(messageId);
        } catch (error) {
          responseHandler(error);
          return;
        }
      }
      handler(params);
    }
    _onresponse(response) {
      const messageId = Number(response.id);
      const handler = this._responseHandlers.get(messageId);
      if (handler === void 0) {
        this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(response)}`));
        return;
      }
      this._responseHandlers.delete(messageId);
      this._progressHandlers.delete(messageId);
      this._cleanupTimeout(messageId);
      if (isJSONRPCResponse(response)) {
        handler(response);
      } else {
        const error = new McpError(response.error.code, response.error.message, response.error.data);
        handler(error);
      }
    }
    get transport() {
      return this._transport;
    }
    /**
     * Closes the connection.
     */
    async close() {
      var _a;
      await ((_a = this._transport) === null || _a === void 0 ? void 0 : _a.close());
    }
    /**
     * Sends a request and wait for a response.
     *
     * Do not use this method to emit notifications! Use notification() instead.
     */
    request(request, resultSchema, options) {
      const { relatedRequestId, resumptionToken, onresumptiontoken } = options !== null && options !== void 0 ? options : {};
      return new Promise((resolve, reject) => {
        var _a, _b, _c, _d, _e, _f;
        if (!this._transport) {
          reject(new Error("Not connected"));
          return;
        }
        if (((_a = this._options) === null || _a === void 0 ? void 0 : _a.enforceStrictCapabilities) === true) {
          this.assertCapabilityForMethod(request.method);
        }
        (_b = options === null || options === void 0 ? void 0 : options.signal) === null || _b === void 0 ? void 0 : _b.throwIfAborted();
        const messageId = this._requestMessageId++;
        const jsonrpcRequest = {
          ...request,
          jsonrpc: "2.0",
          id: messageId
        };
        if (options === null || options === void 0 ? void 0 : options.onprogress) {
          this._progressHandlers.set(messageId, options.onprogress);
          jsonrpcRequest.params = {
            ...request.params,
            _meta: {
              ...((_c = request.params) === null || _c === void 0 ? void 0 : _c._meta) || {},
              progressToken: messageId
            }
          };
        }
        const cancel = (reason) => {
          var _a2;
          this._responseHandlers.delete(messageId);
          this._progressHandlers.delete(messageId);
          this._cleanupTimeout(messageId);
          (_a2 = this._transport) === null || _a2 === void 0 ? void 0 : _a2.send({
            jsonrpc: "2.0",
            method: "notifications/cancelled",
            params: {
              requestId: messageId,
              reason: String(reason)
            }
          }, { relatedRequestId, resumptionToken, onresumptiontoken }).catch((error) => this._onerror(new Error(`Failed to send cancellation: ${error}`)));
          reject(reason);
        };
        this._responseHandlers.set(messageId, (response) => {
          var _a2;
          if ((_a2 = options === null || options === void 0 ? void 0 : options.signal) === null || _a2 === void 0 ? void 0 : _a2.aborted) {
            return;
          }
          if (response instanceof Error) {
            return reject(response);
          }
          try {
            const result = resultSchema.parse(response.result);
            resolve(result);
          } catch (error) {
            reject(error);
          }
        });
        (_d = options === null || options === void 0 ? void 0 : options.signal) === null || _d === void 0 ? void 0 : _d.addEventListener("abort", () => {
          var _a2;
          cancel((_a2 = options === null || options === void 0 ? void 0 : options.signal) === null || _a2 === void 0 ? void 0 : _a2.reason);
        });
        const timeout = (_e = options === null || options === void 0 ? void 0 : options.timeout) !== null && _e !== void 0 ? _e : DEFAULT_REQUEST_TIMEOUT_MSEC;
        const timeoutHandler = () => cancel(new McpError(ErrorCode.RequestTimeout, "Request timed out", { timeout }));
        this._setupTimeout(messageId, timeout, options === null || options === void 0 ? void 0 : options.maxTotalTimeout, timeoutHandler, (_f = options === null || options === void 0 ? void 0 : options.resetTimeoutOnProgress) !== null && _f !== void 0 ? _f : false);
        this._transport.send(jsonrpcRequest, { relatedRequestId, resumptionToken, onresumptiontoken }).catch((error) => {
          this._cleanupTimeout(messageId);
          reject(error);
        });
      });
    }
    /**
     * Emits a notification, which is a one-way message that does not expect a response.
     */
    async notification(notification, options) {
      var _a, _b;
      if (!this._transport) {
        throw new Error("Not connected");
      }
      this.assertNotificationCapability(notification.method);
      const debouncedMethods = (_b = (_a = this._options) === null || _a === void 0 ? void 0 : _a.debouncedNotificationMethods) !== null && _b !== void 0 ? _b : [];
      const canDebounce = debouncedMethods.includes(notification.method) && !notification.params && !(options === null || options === void 0 ? void 0 : options.relatedRequestId);
      if (canDebounce) {
        if (this._pendingDebouncedNotifications.has(notification.method)) {
          return;
        }
        this._pendingDebouncedNotifications.add(notification.method);
        Promise.resolve().then(() => {
          var _a2;
          this._pendingDebouncedNotifications.delete(notification.method);
          if (!this._transport) {
            return;
          }
          const jsonrpcNotification2 = {
            ...notification,
            jsonrpc: "2.0"
          };
          (_a2 = this._transport) === null || _a2 === void 0 ? void 0 : _a2.send(jsonrpcNotification2, options).catch((error) => this._onerror(error));
        });
        return;
      }
      const jsonrpcNotification = {
        ...notification,
        jsonrpc: "2.0"
      };
      await this._transport.send(jsonrpcNotification, options);
    }
    /**
     * Registers a handler to invoke when this protocol object receives a request with the given method.
     *
     * Note that this will replace any previous request handler for the same method.
     */
    setRequestHandler(requestSchema, handler) {
      const method = requestSchema.shape.method.value;
      this.assertRequestHandlerCapability(method);
      this._requestHandlers.set(method, (request, extra) => {
        return Promise.resolve(handler(requestSchema.parse(request), extra));
      });
    }
    /**
     * Removes the request handler for the given method.
     */
    removeRequestHandler(method) {
      this._requestHandlers.delete(method);
    }
    /**
     * Asserts that a request handler has not already been set for the given method, in preparation for a new one being automatically installed.
     */
    assertCanSetRequestHandler(method) {
      if (this._requestHandlers.has(method)) {
        throw new Error(`A request handler for ${method} already exists, which would be overridden`);
      }
    }
    /**
     * Registers a handler to invoke when this protocol object receives a notification with the given method.
     *
     * Note that this will replace any previous notification handler for the same method.
     */
    setNotificationHandler(notificationSchema, handler) {
      this._notificationHandlers.set(notificationSchema.shape.method.value, (notification) => Promise.resolve(handler(notificationSchema.parse(notification))));
    }
    /**
     * Removes the notification handler for the given method.
     */
    removeNotificationHandler(method) {
      this._notificationHandlers.delete(method);
    }
  }
  function mergeCapabilities(base, additional) {
    return Object.entries(additional).reduce((acc, [key, value]) => {
      if (value && typeof value === "object") {
        acc[key] = acc[key] ? { ...acc[key], ...value } : value;
      } else {
        acc[key] = value;
      }
      return acc;
    }, { ...base });
  }
  var uri_all$1 = { exports: {} };
  /** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
  var uri_all = uri_all$1.exports;
  var hasRequiredUri_all;
  function requireUri_all() {
    if (hasRequiredUri_all) return uri_all$1.exports;
    hasRequiredUri_all = 1;
    (function(module, exports) {
      (function(global, factory) {
        factory(exports);
      })(uri_all, function(exports2) {
        function merge() {
          for (var _len = arguments.length, sets = Array(_len), _key = 0; _key < _len; _key++) {
            sets[_key] = arguments[_key];
          }
          if (sets.length > 1) {
            sets[0] = sets[0].slice(0, -1);
            var xl = sets.length - 1;
            for (var x = 1; x < xl; ++x) {
              sets[x] = sets[x].slice(1, -1);
            }
            sets[xl] = sets[xl].slice(1);
            return sets.join("");
          } else {
            return sets[0];
          }
        }
        function subexp(str) {
          return "(?:" + str + ")";
        }
        function typeOf(o) {
          return o === void 0 ? "undefined" : o === null ? "null" : Object.prototype.toString.call(o).split(" ").pop().split("]").shift().toLowerCase();
        }
        function toUpperCase(str) {
          return str.toUpperCase();
        }
        function toArray(obj) {
          return obj !== void 0 && obj !== null ? obj instanceof Array ? obj : typeof obj.length !== "number" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj) : [];
        }
        function assign(target, source) {
          var obj = target;
          if (source) {
            for (var key in source) {
              obj[key] = source[key];
            }
          }
          return obj;
        }
        function buildExps(isIRI) {
          var ALPHA$$ = "[A-Za-z]", DIGIT$$ = "[0-9]", HEXDIG$$2 = merge(DIGIT$$, "[A-Fa-f]"), PCT_ENCODED$2 = subexp(subexp("%[EFef]" + HEXDIG$$2 + "%" + HEXDIG$$2 + HEXDIG$$2 + "%" + HEXDIG$$2 + HEXDIG$$2) + "|" + subexp("%[89A-Fa-f]" + HEXDIG$$2 + "%" + HEXDIG$$2 + HEXDIG$$2) + "|" + subexp("%" + HEXDIG$$2 + HEXDIG$$2)), GEN_DELIMS$$ = "[\\:\\/\\?\\#\\[\\]\\@]", SUB_DELIMS$$ = "[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]", RESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$), UCSCHAR$$ = isIRI ? "[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]" : "[]", IPRIVATE$$ = isIRI ? "[\\uE000-\\uF8FF]" : "[]", UNRESERVED$$2 = merge(ALPHA$$, DIGIT$$, "[\\-\\.\\_\\~]", UCSCHAR$$);
          subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, "[\\+\\-\\.]") + "*");
          subexp(subexp(PCT_ENCODED$2 + "|" + merge(UNRESERVED$$2, SUB_DELIMS$$, "[\\:]")) + "*");
          var DEC_OCTET_RELAXED$ = subexp(subexp("25[0-5]") + "|" + subexp("2[0-4]" + DIGIT$$) + "|" + subexp("1" + DIGIT$$ + DIGIT$$) + "|" + subexp("0?[1-9]" + DIGIT$$) + "|0?0?" + DIGIT$$), IPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + "\\." + DEC_OCTET_RELAXED$ + "\\." + DEC_OCTET_RELAXED$ + "\\." + DEC_OCTET_RELAXED$), H16$ = subexp(HEXDIG$$2 + "{1,4}"), LS32$ = subexp(subexp(H16$ + "\\:" + H16$) + "|" + IPV4ADDRESS$), IPV6ADDRESS1$ = subexp(subexp(H16$ + "\\:") + "{6}" + LS32$), IPV6ADDRESS2$ = subexp("\\:\\:" + subexp(H16$ + "\\:") + "{5}" + LS32$), IPV6ADDRESS3$ = subexp(subexp(H16$) + "?\\:\\:" + subexp(H16$ + "\\:") + "{4}" + LS32$), IPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + "\\:") + "{0,1}" + H16$) + "?\\:\\:" + subexp(H16$ + "\\:") + "{3}" + LS32$), IPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + "\\:") + "{0,2}" + H16$) + "?\\:\\:" + subexp(H16$ + "\\:") + "{2}" + LS32$), IPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + "\\:") + "{0,3}" + H16$) + "?\\:\\:" + H16$ + "\\:" + LS32$), IPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + "\\:") + "{0,4}" + H16$) + "?\\:\\:" + LS32$), IPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + "\\:") + "{0,5}" + H16$) + "?\\:\\:" + H16$), IPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + "\\:") + "{0,6}" + H16$) + "?\\:\\:"), IPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join("|")), ZONEID$ = subexp(subexp(UNRESERVED$$2 + "|" + PCT_ENCODED$2) + "+");
          subexp("[vV]" + HEXDIG$$2 + "+\\." + merge(UNRESERVED$$2, SUB_DELIMS$$, "[\\:]") + "+");
          subexp(subexp(PCT_ENCODED$2 + "|" + merge(UNRESERVED$$2, SUB_DELIMS$$)) + "*");
          var PCHAR$ = subexp(PCT_ENCODED$2 + "|" + merge(UNRESERVED$$2, SUB_DELIMS$$, "[\\:\\@]"));
          subexp(subexp(PCT_ENCODED$2 + "|" + merge(UNRESERVED$$2, SUB_DELIMS$$, "[\\@]")) + "+");
          subexp(subexp(PCHAR$ + "|" + merge("[\\/\\?]", IPRIVATE$$)) + "*");
          return {
            NOT_SCHEME: new RegExp(merge("[^]", ALPHA$$, DIGIT$$, "[\\+\\-\\.]"), "g"),
            NOT_USERINFO: new RegExp(merge("[^\\%\\:]", UNRESERVED$$2, SUB_DELIMS$$), "g"),
            NOT_HOST: new RegExp(merge("[^\\%\\[\\]\\:]", UNRESERVED$$2, SUB_DELIMS$$), "g"),
            NOT_PATH: new RegExp(merge("[^\\%\\/\\:\\@]", UNRESERVED$$2, SUB_DELIMS$$), "g"),
            NOT_PATH_NOSCHEME: new RegExp(merge("[^\\%\\/\\@]", UNRESERVED$$2, SUB_DELIMS$$), "g"),
            NOT_QUERY: new RegExp(merge("[^\\%]", UNRESERVED$$2, SUB_DELIMS$$, "[\\:\\@\\/\\?]", IPRIVATE$$), "g"),
            NOT_FRAGMENT: new RegExp(merge("[^\\%]", UNRESERVED$$2, SUB_DELIMS$$, "[\\:\\@\\/\\?]"), "g"),
            ESCAPE: new RegExp(merge("[^]", UNRESERVED$$2, SUB_DELIMS$$), "g"),
            UNRESERVED: new RegExp(UNRESERVED$$2, "g"),
            OTHER_CHARS: new RegExp(merge("[^\\%]", UNRESERVED$$2, RESERVED$$), "g"),
            PCT_ENCODED: new RegExp(PCT_ENCODED$2, "g"),
            IPV4ADDRESS: new RegExp("^(" + IPV4ADDRESS$ + ")$"),
            IPV6ADDRESS: new RegExp("^\\[?(" + IPV6ADDRESS$ + ")" + subexp(subexp("\\%25|\\%(?!" + HEXDIG$$2 + "{2})") + "(" + ZONEID$ + ")") + "?\\]?$")
            //RFC 6874, with relaxed parsing rules
          };
        }
        var URI_PROTOCOL = buildExps(false);
        var IRI_PROTOCOL = buildExps(true);
        var slicedToArray = /* @__PURE__ */ function() {
          function sliceIterator(arr, i) {
            var _arr = [];
            var _n = true;
            var _d = false;
            var _e = void 0;
            try {
              for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                _arr.push(_s.value);
                if (i && _arr.length === i) break;
              }
            } catch (err) {
              _d = true;
              _e = err;
            } finally {
              try {
                if (!_n && _i["return"]) _i["return"]();
              } finally {
                if (_d) throw _e;
              }
            }
            return _arr;
          }
          return function(arr, i) {
            if (Array.isArray(arr)) {
              return arr;
            } else if (Symbol.iterator in Object(arr)) {
              return sliceIterator(arr, i);
            } else {
              throw new TypeError("Invalid attempt to destructure non-iterable instance");
            }
          };
        }();
        var toConsumableArray = function(arr) {
          if (Array.isArray(arr)) {
            for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];
            return arr2;
          } else {
            return Array.from(arr);
          }
        };
        var maxInt = 2147483647;
        var base = 36;
        var tMin = 1;
        var tMax = 26;
        var skew = 38;
        var damp = 700;
        var initialBias = 72;
        var initialN = 128;
        var delimiter = "-";
        var regexPunycode = /^xn--/;
        var regexNonASCII = /[^\0-\x7E]/;
        var regexSeparators = /[\x2E\u3002\uFF0E\uFF61]/g;
        var errors = {
          "overflow": "Overflow: input needs wider integers to process",
          "not-basic": "Illegal input >= 0x80 (not a basic code point)",
          "invalid-input": "Invalid input"
        };
        var baseMinusTMin = base - tMin;
        var floor = Math.floor;
        var stringFromCharCode = String.fromCharCode;
        function error$1(type2) {
          throw new RangeError(errors[type2]);
        }
        function map(array, fn) {
          var result = [];
          var length = array.length;
          while (length--) {
            result[length] = fn(array[length]);
          }
          return result;
        }
        function mapDomain(string, fn) {
          var parts = string.split("@");
          var result = "";
          if (parts.length > 1) {
            result = parts[0] + "@";
            string = parts[1];
          }
          string = string.replace(regexSeparators, ".");
          var labels = string.split(".");
          var encoded = map(labels, fn).join(".");
          return result + encoded;
        }
        function ucs2decode(string) {
          var output = [];
          var counter = 0;
          var length = string.length;
          while (counter < length) {
            var value = string.charCodeAt(counter++);
            if (value >= 55296 && value <= 56319 && counter < length) {
              var extra = string.charCodeAt(counter++);
              if ((extra & 64512) == 56320) {
                output.push(((value & 1023) << 10) + (extra & 1023) + 65536);
              } else {
                output.push(value);
                counter--;
              }
            } else {
              output.push(value);
            }
          }
          return output;
        }
        var ucs2encode = function ucs2encode2(array) {
          return String.fromCodePoint.apply(String, toConsumableArray(array));
        };
        var basicToDigit = function basicToDigit2(codePoint) {
          if (codePoint - 48 < 10) {
            return codePoint - 22;
          }
          if (codePoint - 65 < 26) {
            return codePoint - 65;
          }
          if (codePoint - 97 < 26) {
            return codePoint - 97;
          }
          return base;
        };
        var digitToBasic = function digitToBasic2(digit, flag) {
          return digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);
        };
        var adapt = function adapt2(delta, numPoints, firstTime) {
          var k = 0;
          delta = firstTime ? floor(delta / damp) : delta >> 1;
          delta += floor(delta / numPoints);
          for (
            ;
            /* no initialization */
            delta > baseMinusTMin * tMax >> 1;
            k += base
          ) {
            delta = floor(delta / baseMinusTMin);
          }
          return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));
        };
        var decode = function decode2(input) {
          var output = [];
          var inputLength = input.length;
          var i = 0;
          var n = initialN;
          var bias = initialBias;
          var basic = input.lastIndexOf(delimiter);
          if (basic < 0) {
            basic = 0;
          }
          for (var j = 0; j < basic; ++j) {
            if (input.charCodeAt(j) >= 128) {
              error$1("not-basic");
            }
            output.push(input.charCodeAt(j));
          }
          for (var index2 = basic > 0 ? basic + 1 : 0; index2 < inputLength; ) {
            var oldi = i;
            for (
              var w = 1, k = base;
              ;
              /* no condition */
              k += base
            ) {
              if (index2 >= inputLength) {
                error$1("invalid-input");
              }
              var digit = basicToDigit(input.charCodeAt(index2++));
              if (digit >= base || digit > floor((maxInt - i) / w)) {
                error$1("overflow");
              }
              i += digit * w;
              var t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;
              if (digit < t) {
                break;
              }
              var baseMinusT = base - t;
              if (w > floor(maxInt / baseMinusT)) {
                error$1("overflow");
              }
              w *= baseMinusT;
            }
            var out = output.length + 1;
            bias = adapt(i - oldi, out, oldi == 0);
            if (floor(i / out) > maxInt - n) {
              error$1("overflow");
            }
            n += floor(i / out);
            i %= out;
            output.splice(i++, 0, n);
          }
          return String.fromCodePoint.apply(String, output);
        };
        var encode = function encode2(input) {
          var output = [];
          input = ucs2decode(input);
          var inputLength = input.length;
          var n = initialN;
          var delta = 0;
          var bias = initialBias;
          var _iteratorNormalCompletion = true;
          var _didIteratorError = false;
          var _iteratorError = void 0;
          try {
            for (var _iterator = input[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var _currentValue2 = _step.value;
              if (_currentValue2 < 128) {
                output.push(stringFromCharCode(_currentValue2));
              }
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          var basicLength = output.length;
          var handledCPCount = basicLength;
          if (basicLength) {
            output.push(delimiter);
          }
          while (handledCPCount < inputLength) {
            var m = maxInt;
            var _iteratorNormalCompletion2 = true;
            var _didIteratorError2 = false;
            var _iteratorError2 = void 0;
            try {
              for (var _iterator2 = input[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                var currentValue = _step2.value;
                if (currentValue >= n && currentValue < m) {
                  m = currentValue;
                }
              }
            } catch (err) {
              _didIteratorError2 = true;
              _iteratorError2 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion2 && _iterator2.return) {
                  _iterator2.return();
                }
              } finally {
                if (_didIteratorError2) {
                  throw _iteratorError2;
                }
              }
            }
            var handledCPCountPlusOne = handledCPCount + 1;
            if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {
              error$1("overflow");
            }
            delta += (m - n) * handledCPCountPlusOne;
            n = m;
            var _iteratorNormalCompletion3 = true;
            var _didIteratorError3 = false;
            var _iteratorError3 = void 0;
            try {
              for (var _iterator3 = input[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
                var _currentValue = _step3.value;
                if (_currentValue < n && ++delta > maxInt) {
                  error$1("overflow");
                }
                if (_currentValue == n) {
                  var q = delta;
                  for (
                    var k = base;
                    ;
                    /* no condition */
                    k += base
                  ) {
                    var t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;
                    if (q < t) {
                      break;
                    }
                    var qMinusT = q - t;
                    var baseMinusT = base - t;
                    output.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));
                    q = floor(qMinusT / baseMinusT);
                  }
                  output.push(stringFromCharCode(digitToBasic(q, 0)));
                  bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);
                  delta = 0;
                  ++handledCPCount;
                }
              }
            } catch (err) {
              _didIteratorError3 = true;
              _iteratorError3 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion3 && _iterator3.return) {
                  _iterator3.return();
                }
              } finally {
                if (_didIteratorError3) {
                  throw _iteratorError3;
                }
              }
            }
            ++delta;
            ++n;
          }
          return output.join("");
        };
        var toUnicode = function toUnicode2(input) {
          return mapDomain(input, function(string) {
            return regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;
          });
        };
        var toASCII = function toASCII2(input) {
          return mapDomain(input, function(string) {
            return regexNonASCII.test(string) ? "xn--" + encode(string) : string;
          });
        };
        var punycode = {
          /**
           * A string representing the current Punycode.js version number.
           * @memberOf punycode
           * @type String
           */
          "version": "2.1.0",
          /**
           * An object of methods to convert from JavaScript's internal character
           * representation (UCS-2) to Unicode code points, and back.
           * @see <https://mathiasbynens.be/notes/javascript-encoding>
           * @memberOf punycode
           * @type Object
           */
          "ucs2": {
            "decode": ucs2decode,
            "encode": ucs2encode
          },
          "decode": decode,
          "encode": encode,
          "toASCII": toASCII,
          "toUnicode": toUnicode
        };
        var SCHEMES = {};
        function pctEncChar(chr) {
          var c = chr.charCodeAt(0);
          var e = void 0;
          if (c < 16) e = "%0" + c.toString(16).toUpperCase();
          else if (c < 128) e = "%" + c.toString(16).toUpperCase();
          else if (c < 2048) e = "%" + (c >> 6 | 192).toString(16).toUpperCase() + "%" + (c & 63 | 128).toString(16).toUpperCase();
          else e = "%" + (c >> 12 | 224).toString(16).toUpperCase() + "%" + (c >> 6 & 63 | 128).toString(16).toUpperCase() + "%" + (c & 63 | 128).toString(16).toUpperCase();
          return e;
        }
        function pctDecChars(str) {
          var newStr = "";
          var i = 0;
          var il = str.length;
          while (i < il) {
            var c = parseInt(str.substr(i + 1, 2), 16);
            if (c < 128) {
              newStr += String.fromCharCode(c);
              i += 3;
            } else if (c >= 194 && c < 224) {
              if (il - i >= 6) {
                var c2 = parseInt(str.substr(i + 4, 2), 16);
                newStr += String.fromCharCode((c & 31) << 6 | c2 & 63);
              } else {
                newStr += str.substr(i, 6);
              }
              i += 6;
            } else if (c >= 224) {
              if (il - i >= 9) {
                var _c = parseInt(str.substr(i + 4, 2), 16);
                var c3 = parseInt(str.substr(i + 7, 2), 16);
                newStr += String.fromCharCode((c & 15) << 12 | (_c & 63) << 6 | c3 & 63);
              } else {
                newStr += str.substr(i, 9);
              }
              i += 9;
            } else {
              newStr += str.substr(i, 3);
              i += 3;
            }
          }
          return newStr;
        }
        function _normalizeComponentEncoding(components, protocol) {
          function decodeUnreserved2(str) {
            var decStr = pctDecChars(str);
            return !decStr.match(protocol.UNRESERVED) ? str : decStr;
          }
          if (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved2).toLowerCase().replace(protocol.NOT_SCHEME, "");
          if (components.userinfo !== void 0) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved2).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);
          if (components.host !== void 0) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved2).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);
          if (components.path !== void 0) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved2).replace(components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);
          if (components.query !== void 0) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved2).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);
          if (components.fragment !== void 0) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved2).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);
          return components;
        }
        function _stripLeadingZeros(str) {
          return str.replace(/^0*(.*)/, "$1") || "0";
        }
        function _normalizeIPv4(host, protocol) {
          var matches = host.match(protocol.IPV4ADDRESS) || [];
          var _matches = slicedToArray(matches, 2), address = _matches[1];
          if (address) {
            return address.split(".").map(_stripLeadingZeros).join(".");
          } else {
            return host;
          }
        }
        function _normalizeIPv6(host, protocol) {
          var matches = host.match(protocol.IPV6ADDRESS) || [];
          var _matches2 = slicedToArray(matches, 3), address = _matches2[1], zone = _matches2[2];
          if (address) {
            var _address$toLowerCase$ = address.toLowerCase().split("::").reverse(), _address$toLowerCase$2 = slicedToArray(_address$toLowerCase$, 2), last = _address$toLowerCase$2[0], first = _address$toLowerCase$2[1];
            var firstFields = first ? first.split(":").map(_stripLeadingZeros) : [];
            var lastFields = last.split(":").map(_stripLeadingZeros);
            var isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);
            var fieldCount = isLastFieldIPv4Address ? 7 : 8;
            var lastFieldsStart = lastFields.length - fieldCount;
            var fields = Array(fieldCount);
            for (var x = 0; x < fieldCount; ++x) {
              fields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || "";
            }
            if (isLastFieldIPv4Address) {
              fields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);
            }
            var allZeroFields = fields.reduce(function(acc, field, index2) {
              if (!field || field === "0") {
                var lastLongest = acc[acc.length - 1];
                if (lastLongest && lastLongest.index + lastLongest.length === index2) {
                  lastLongest.length++;
                } else {
                  acc.push({ index: index2, length: 1 });
                }
              }
              return acc;
            }, []);
            var longestZeroFields = allZeroFields.sort(function(a, b) {
              return b.length - a.length;
            })[0];
            var newHost = void 0;
            if (longestZeroFields && longestZeroFields.length > 1) {
              var newFirst = fields.slice(0, longestZeroFields.index);
              var newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);
              newHost = newFirst.join(":") + "::" + newLast.join(":");
            } else {
              newHost = fields.join(":");
            }
            if (zone) {
              newHost += "%" + zone;
            }
            return newHost;
          } else {
            return host;
          }
        }
        var URI_PARSE = /^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i;
        var NO_MATCH_IS_UNDEFINED = "".match(/(){0}/)[1] === void 0;
        function parse(uriString) {
          var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
          var components = {};
          var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;
          if (options.reference === "suffix") uriString = (options.scheme ? options.scheme + ":" : "") + "//" + uriString;
          var matches = uriString.match(URI_PARSE);
          if (matches) {
            if (NO_MATCH_IS_UNDEFINED) {
              components.scheme = matches[1];
              components.userinfo = matches[3];
              components.host = matches[4];
              components.port = parseInt(matches[5], 10);
              components.path = matches[6] || "";
              components.query = matches[7];
              components.fragment = matches[8];
              if (isNaN(components.port)) {
                components.port = matches[5];
              }
            } else {
              components.scheme = matches[1] || void 0;
              components.userinfo = uriString.indexOf("@") !== -1 ? matches[3] : void 0;
              components.host = uriString.indexOf("//") !== -1 ? matches[4] : void 0;
              components.port = parseInt(matches[5], 10);
              components.path = matches[6] || "";
              components.query = uriString.indexOf("?") !== -1 ? matches[7] : void 0;
              components.fragment = uriString.indexOf("#") !== -1 ? matches[8] : void 0;
              if (isNaN(components.port)) {
                components.port = uriString.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/) ? matches[4] : void 0;
              }
            }
            if (components.host) {
              components.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);
            }
            if (components.scheme === void 0 && components.userinfo === void 0 && components.host === void 0 && components.port === void 0 && !components.path && components.query === void 0) {
              components.reference = "same-document";
            } else if (components.scheme === void 0) {
              components.reference = "relative";
            } else if (components.fragment === void 0) {
              components.reference = "absolute";
            } else {
              components.reference = "uri";
            }
            if (options.reference && options.reference !== "suffix" && options.reference !== components.reference) {
              components.error = components.error || "URI is not a " + options.reference + " reference.";
            }
            var schemeHandler = SCHEMES[(options.scheme || components.scheme || "").toLowerCase()];
            if (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {
              if (components.host && (options.domainHost || schemeHandler && schemeHandler.domainHost)) {
                try {
                  components.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());
                } catch (e) {
                  components.error = components.error || "Host's domain name can not be converted to ASCII via punycode: " + e;
                }
              }
              _normalizeComponentEncoding(components, URI_PROTOCOL);
            } else {
              _normalizeComponentEncoding(components, protocol);
            }
            if (schemeHandler && schemeHandler.parse) {
              schemeHandler.parse(components, options);
            }
          } else {
            components.error = components.error || "URI can not be parsed.";
          }
          return components;
        }
        function _recomposeAuthority(components, options) {
          var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;
          var uriTokens = [];
          if (components.userinfo !== void 0) {
            uriTokens.push(components.userinfo);
            uriTokens.push("@");
          }
          if (components.host !== void 0) {
            uriTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, function(_, $1, $2) {
              return "[" + $1 + ($2 ? "%25" + $2 : "") + "]";
            }));
          }
          if (typeof components.port === "number" || typeof components.port === "string") {
            uriTokens.push(":");
            uriTokens.push(String(components.port));
          }
          return uriTokens.length ? uriTokens.join("") : void 0;
        }
        var RDS1 = /^\.\.?\//;
        var RDS2 = /^\/\.(\/|$)/;
        var RDS3 = /^\/\.\.(\/|$)/;
        var RDS5 = /^\/?(?:.|\n)*?(?=\/|$)/;
        function removeDotSegments(input) {
          var output = [];
          while (input.length) {
            if (input.match(RDS1)) {
              input = input.replace(RDS1, "");
            } else if (input.match(RDS2)) {
              input = input.replace(RDS2, "/");
            } else if (input.match(RDS3)) {
              input = input.replace(RDS3, "/");
              output.pop();
            } else if (input === "." || input === "..") {
              input = "";
            } else {
              var im = input.match(RDS5);
              if (im) {
                var s = im[0];
                input = input.slice(s.length);
                output.push(s);
              } else {
                throw new Error("Unexpected dot segment condition");
              }
            }
          }
          return output.join("");
        }
        function serialize(components) {
          var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
          var protocol = options.iri ? IRI_PROTOCOL : URI_PROTOCOL;
          var uriTokens = [];
          var schemeHandler = SCHEMES[(options.scheme || components.scheme || "").toLowerCase()];
          if (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);
          if (components.host) {
            if (protocol.IPV6ADDRESS.test(components.host)) ;
            else if (options.domainHost || schemeHandler && schemeHandler.domainHost) {
              try {
                components.host = !options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host);
              } catch (e) {
                components.error = components.error || "Host's domain name can not be converted to " + (!options.iri ? "ASCII" : "Unicode") + " via punycode: " + e;
              }
            }
          }
          _normalizeComponentEncoding(components, protocol);
          if (options.reference !== "suffix" && components.scheme) {
            uriTokens.push(components.scheme);
            uriTokens.push(":");
          }
          var authority = _recomposeAuthority(components, options);
          if (authority !== void 0) {
            if (options.reference !== "suffix") {
              uriTokens.push("//");
            }
            uriTokens.push(authority);
            if (components.path && components.path.charAt(0) !== "/") {
              uriTokens.push("/");
            }
          }
          if (components.path !== void 0) {
            var s = components.path;
            if (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {
              s = removeDotSegments(s);
            }
            if (authority === void 0) {
              s = s.replace(/^\/\//, "/%2F");
            }
            uriTokens.push(s);
          }
          if (components.query !== void 0) {
            uriTokens.push("?");
            uriTokens.push(components.query);
          }
          if (components.fragment !== void 0) {
            uriTokens.push("#");
            uriTokens.push(components.fragment);
          }
          return uriTokens.join("");
        }
        function resolveComponents(base2, relative) {
          var options = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
          var skipNormalization = arguments[3];
          var target = {};
          if (!skipNormalization) {
            base2 = parse(serialize(base2, options), options);
            relative = parse(serialize(relative, options), options);
          }
          options = options || {};
          if (!options.tolerant && relative.scheme) {
            target.scheme = relative.scheme;
            target.userinfo = relative.userinfo;
            target.host = relative.host;
            target.port = relative.port;
            target.path = removeDotSegments(relative.path || "");
            target.query = relative.query;
          } else {
            if (relative.userinfo !== void 0 || relative.host !== void 0 || relative.port !== void 0) {
              target.userinfo = relative.userinfo;
              target.host = relative.host;
              target.port = relative.port;
              target.path = removeDotSegments(relative.path || "");
              target.query = relative.query;
            } else {
              if (!relative.path) {
                target.path = base2.path;
                if (relative.query !== void 0) {
                  target.query = relative.query;
                } else {
                  target.query = base2.query;
                }
              } else {
                if (relative.path.charAt(0) === "/") {
                  target.path = removeDotSegments(relative.path);
                } else {
                  if ((base2.userinfo !== void 0 || base2.host !== void 0 || base2.port !== void 0) && !base2.path) {
                    target.path = "/" + relative.path;
                  } else if (!base2.path) {
                    target.path = relative.path;
                  } else {
                    target.path = base2.path.slice(0, base2.path.lastIndexOf("/") + 1) + relative.path;
                  }
                  target.path = removeDotSegments(target.path);
                }
                target.query = relative.query;
              }
              target.userinfo = base2.userinfo;
              target.host = base2.host;
              target.port = base2.port;
            }
            target.scheme = base2.scheme;
          }
          target.fragment = relative.fragment;
          return target;
        }
        function resolve(baseURI, relativeURI, options) {
          var schemelessOptions = assign({ scheme: "null" }, options);
          return serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);
        }
        function normalize(uri, options) {
          if (typeof uri === "string") {
            uri = serialize(parse(uri, options), options);
          } else if (typeOf(uri) === "object") {
            uri = parse(serialize(uri, options), options);
          }
          return uri;
        }
        function equal(uriA, uriB, options) {
          if (typeof uriA === "string") {
            uriA = serialize(parse(uriA, options), options);
          } else if (typeOf(uriA) === "object") {
            uriA = serialize(uriA, options);
          }
          if (typeof uriB === "string") {
            uriB = serialize(parse(uriB, options), options);
          } else if (typeOf(uriB) === "object") {
            uriB = serialize(uriB, options);
          }
          return uriA === uriB;
        }
        function escapeComponent(str, options) {
          return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE, pctEncChar);
        }
        function unescapeComponent(str, options) {
          return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED, pctDecChars);
        }
        var handler = {
          scheme: "http",
          domainHost: true,
          parse: function parse2(components, options) {
            if (!components.host) {
              components.error = components.error || "HTTP URIs must have a host.";
            }
            return components;
          },
          serialize: function serialize2(components, options) {
            var secure = String(components.scheme).toLowerCase() === "https";
            if (components.port === (secure ? 443 : 80) || components.port === "") {
              components.port = void 0;
            }
            if (!components.path) {
              components.path = "/";
            }
            return components;
          }
        };
        var handler$1 = {
          scheme: "https",
          domainHost: handler.domainHost,
          parse: handler.parse,
          serialize: handler.serialize
        };
        function isSecure(wsComponents) {
          return typeof wsComponents.secure === "boolean" ? wsComponents.secure : String(wsComponents.scheme).toLowerCase() === "wss";
        }
        var handler$2 = {
          scheme: "ws",
          domainHost: true,
          parse: function parse2(components, options) {
            var wsComponents = components;
            wsComponents.secure = isSecure(wsComponents);
            wsComponents.resourceName = (wsComponents.path || "/") + (wsComponents.query ? "?" + wsComponents.query : "");
            wsComponents.path = void 0;
            wsComponents.query = void 0;
            return wsComponents;
          },
          serialize: function serialize2(wsComponents, options) {
            if (wsComponents.port === (isSecure(wsComponents) ? 443 : 80) || wsComponents.port === "") {
              wsComponents.port = void 0;
            }
            if (typeof wsComponents.secure === "boolean") {
              wsComponents.scheme = wsComponents.secure ? "wss" : "ws";
              wsComponents.secure = void 0;
            }
            if (wsComponents.resourceName) {
              var _wsComponents$resourc = wsComponents.resourceName.split("?"), _wsComponents$resourc2 = slicedToArray(_wsComponents$resourc, 2), path = _wsComponents$resourc2[0], query = _wsComponents$resourc2[1];
              wsComponents.path = path && path !== "/" ? path : void 0;
              wsComponents.query = query;
              wsComponents.resourceName = void 0;
            }
            wsComponents.fragment = void 0;
            return wsComponents;
          }
        };
        var handler$3 = {
          scheme: "wss",
          domainHost: handler$2.domainHost,
          parse: handler$2.parse,
          serialize: handler$2.serialize
        };
        var O = {};
        var UNRESERVED$$ = "[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]";
        var HEXDIG$$ = "[0-9A-Fa-f]";
        var PCT_ENCODED$ = subexp(subexp("%[EFef]" + HEXDIG$$ + "%" + HEXDIG$$ + HEXDIG$$ + "%" + HEXDIG$$ + HEXDIG$$) + "|" + subexp("%[89A-Fa-f]" + HEXDIG$$ + "%" + HEXDIG$$ + HEXDIG$$) + "|" + subexp("%" + HEXDIG$$ + HEXDIG$$));
        var ATEXT$$ = "[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]";
        var QTEXT$$ = "[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]";
        var VCHAR$$ = merge(QTEXT$$, '[\\"\\\\]');
        var SOME_DELIMS$$ = "[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]";
        var UNRESERVED = new RegExp(UNRESERVED$$, "g");
        var PCT_ENCODED = new RegExp(PCT_ENCODED$, "g");
        var NOT_LOCAL_PART = new RegExp(merge("[^]", ATEXT$$, "[\\.]", '[\\"]', VCHAR$$), "g");
        var NOT_HFNAME = new RegExp(merge("[^]", UNRESERVED$$, SOME_DELIMS$$), "g");
        var NOT_HFVALUE = NOT_HFNAME;
        function decodeUnreserved(str) {
          var decStr = pctDecChars(str);
          return !decStr.match(UNRESERVED) ? str : decStr;
        }
        var handler$4 = {
          scheme: "mailto",
          parse: function parse$$1(components, options) {
            var mailtoComponents = components;
            var to = mailtoComponents.to = mailtoComponents.path ? mailtoComponents.path.split(",") : [];
            mailtoComponents.path = void 0;
            if (mailtoComponents.query) {
              var unknownHeaders = false;
              var headers = {};
              var hfields = mailtoComponents.query.split("&");
              for (var x = 0, xl = hfields.length; x < xl; ++x) {
                var hfield = hfields[x].split("=");
                switch (hfield[0]) {
                  case "to":
                    var toAddrs = hfield[1].split(",");
                    for (var _x = 0, _xl = toAddrs.length; _x < _xl; ++_x) {
                      to.push(toAddrs[_x]);
                    }
                    break;
                  case "subject":
                    mailtoComponents.subject = unescapeComponent(hfield[1], options);
                    break;
                  case "body":
                    mailtoComponents.body = unescapeComponent(hfield[1], options);
                    break;
                  default:
                    unknownHeaders = true;
                    headers[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);
                    break;
                }
              }
              if (unknownHeaders) mailtoComponents.headers = headers;
            }
            mailtoComponents.query = void 0;
            for (var _x2 = 0, _xl2 = to.length; _x2 < _xl2; ++_x2) {
              var addr = to[_x2].split("@");
              addr[0] = unescapeComponent(addr[0]);
              if (!options.unicodeSupport) {
                try {
                  addr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());
                } catch (e) {
                  mailtoComponents.error = mailtoComponents.error || "Email address's domain name can not be converted to ASCII via punycode: " + e;
                }
              } else {
                addr[1] = unescapeComponent(addr[1], options).toLowerCase();
              }
              to[_x2] = addr.join("@");
            }
            return mailtoComponents;
          },
          serialize: function serialize$$1(mailtoComponents, options) {
            var components = mailtoComponents;
            var to = toArray(mailtoComponents.to);
            if (to) {
              for (var x = 0, xl = to.length; x < xl; ++x) {
                var toAddr = String(to[x]);
                var atIdx = toAddr.lastIndexOf("@");
                var localPart = toAddr.slice(0, atIdx).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);
                var domain = toAddr.slice(atIdx + 1);
                try {
                  domain = !options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain);
                } catch (e) {
                  components.error = components.error || "Email address's domain name can not be converted to " + (!options.iri ? "ASCII" : "Unicode") + " via punycode: " + e;
                }
                to[x] = localPart + "@" + domain;
              }
              components.path = to.join(",");
            }
            var headers = mailtoComponents.headers = mailtoComponents.headers || {};
            if (mailtoComponents.subject) headers["subject"] = mailtoComponents.subject;
            if (mailtoComponents.body) headers["body"] = mailtoComponents.body;
            var fields = [];
            for (var name in headers) {
              if (headers[name] !== O[name]) {
                fields.push(name.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) + "=" + headers[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar));
              }
            }
            if (fields.length) {
              components.query = fields.join("&");
            }
            return components;
          }
        };
        var URN_PARSE = /^([^\:]+)\:(.*)/;
        var handler$5 = {
          scheme: "urn",
          parse: function parse$$1(components, options) {
            var matches = components.path && components.path.match(URN_PARSE);
            var urnComponents = components;
            if (matches) {
              var scheme = options.scheme || urnComponents.scheme || "urn";
              var nid = matches[1].toLowerCase();
              var nss = matches[2];
              var urnScheme = scheme + ":" + (options.nid || nid);
              var schemeHandler = SCHEMES[urnScheme];
              urnComponents.nid = nid;
              urnComponents.nss = nss;
              urnComponents.path = void 0;
              if (schemeHandler) {
                urnComponents = schemeHandler.parse(urnComponents, options);
              }
            } else {
              urnComponents.error = urnComponents.error || "URN can not be parsed.";
            }
            return urnComponents;
          },
          serialize: function serialize$$1(urnComponents, options) {
            var scheme = options.scheme || urnComponents.scheme || "urn";
            var nid = urnComponents.nid;
            var urnScheme = scheme + ":" + (options.nid || nid);
            var schemeHandler = SCHEMES[urnScheme];
            if (schemeHandler) {
              urnComponents = schemeHandler.serialize(urnComponents, options);
            }
            var uriComponents = urnComponents;
            var nss = urnComponents.nss;
            uriComponents.path = (nid || options.nid) + ":" + nss;
            return uriComponents;
          }
        };
        var UUID = /^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/;
        var handler$6 = {
          scheme: "urn:uuid",
          parse: function parse2(urnComponents, options) {
            var uuidComponents = urnComponents;
            uuidComponents.uuid = uuidComponents.nss;
            uuidComponents.nss = void 0;
            if (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {
              uuidComponents.error = uuidComponents.error || "UUID is not valid.";
            }
            return uuidComponents;
          },
          serialize: function serialize2(uuidComponents, options) {
            var urnComponents = uuidComponents;
            urnComponents.nss = (uuidComponents.uuid || "").toLowerCase();
            return urnComponents;
          }
        };
        SCHEMES[handler.scheme] = handler;
        SCHEMES[handler$1.scheme] = handler$1;
        SCHEMES[handler$2.scheme] = handler$2;
        SCHEMES[handler$3.scheme] = handler$3;
        SCHEMES[handler$4.scheme] = handler$4;
        SCHEMES[handler$5.scheme] = handler$5;
        SCHEMES[handler$6.scheme] = handler$6;
        exports2.SCHEMES = SCHEMES;
        exports2.pctEncChar = pctEncChar;
        exports2.pctDecChars = pctDecChars;
        exports2.parse = parse;
        exports2.removeDotSegments = removeDotSegments;
        exports2.serialize = serialize;
        exports2.resolveComponents = resolveComponents;
        exports2.resolve = resolve;
        exports2.normalize = normalize;
        exports2.equal = equal;
        exports2.escapeComponent = escapeComponent;
        exports2.unescapeComponent = unescapeComponent;
        Object.defineProperty(exports2, "__esModule", { value: true });
      });
    })(uri_all$1, uri_all$1.exports);
    return uri_all$1.exports;
  }
  var fastDeepEqual;
  var hasRequiredFastDeepEqual;
  function requireFastDeepEqual() {
    if (hasRequiredFastDeepEqual) return fastDeepEqual;
    hasRequiredFastDeepEqual = 1;
    fastDeepEqual = function equal(a, b) {
      if (a === b) return true;
      if (a && b && typeof a == "object" && typeof b == "object") {
        if (a.constructor !== b.constructor) return false;
        var length, i, keys;
        if (Array.isArray(a)) {
          length = a.length;
          if (length != b.length) return false;
          for (i = length; i-- !== 0; )
            if (!equal(a[i], b[i])) return false;
          return true;
        }
        if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;
        if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();
        if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();
        keys = Object.keys(a);
        length = keys.length;
        if (length !== Object.keys(b).length) return false;
        for (i = length; i-- !== 0; )
          if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;
        for (i = length; i-- !== 0; ) {
          var key = keys[i];
          if (!equal(a[key], b[key])) return false;
        }
        return true;
      }
      return a !== a && b !== b;
    };
    return fastDeepEqual;
  }
  var ucs2length;
  var hasRequiredUcs2length;
  function requireUcs2length() {
    if (hasRequiredUcs2length) return ucs2length;
    hasRequiredUcs2length = 1;
    ucs2length = function ucs2length2(str) {
      var length = 0, len = str.length, pos = 0, value;
      while (pos < len) {
        length++;
        value = str.charCodeAt(pos++);
        if (value >= 55296 && value <= 56319 && pos < len) {
          value = str.charCodeAt(pos);
          if ((value & 64512) == 56320) pos++;
        }
      }
      return length;
    };
    return ucs2length;
  }
  var util;
  var hasRequiredUtil;
  function requireUtil() {
    if (hasRequiredUtil) return util;
    hasRequiredUtil = 1;
    util = {
      copy,
      checkDataType,
      checkDataTypes,
      coerceToTypes,
      toHash,
      getProperty,
      escapeQuotes,
      equal: requireFastDeepEqual(),
      ucs2length: requireUcs2length(),
      varOccurences,
      varReplace,
      schemaHasRules,
      schemaHasRulesExcept,
      schemaUnknownRules,
      toQuotedString,
      getPathExpr,
      getPath,
      getData,
      unescapeFragment,
      unescapeJsonPointer,
      escapeFragment,
      escapeJsonPointer
    };
    function copy(o, to) {
      to = to || {};
      for (var key in o) to[key] = o[key];
      return to;
    }
    function checkDataType(dataType, data2, strictNumbers, negate) {
      var EQUAL = negate ? " !== " : " === ", AND = negate ? " || " : " && ", OK2 = negate ? "!" : "", NOT = negate ? "" : "!";
      switch (dataType) {
        case "null":
          return data2 + EQUAL + "null";
        case "array":
          return OK2 + "Array.isArray(" + data2 + ")";
        case "object":
          return "(" + OK2 + data2 + AND + "typeof " + data2 + EQUAL + '"object"' + AND + NOT + "Array.isArray(" + data2 + "))";
        case "integer":
          return "(typeof " + data2 + EQUAL + '"number"' + AND + NOT + "(" + data2 + " % 1)" + AND + data2 + EQUAL + data2 + (strictNumbers ? AND + OK2 + "isFinite(" + data2 + ")" : "") + ")";
        case "number":
          return "(typeof " + data2 + EQUAL + '"' + dataType + '"' + (strictNumbers ? AND + OK2 + "isFinite(" + data2 + ")" : "") + ")";
        default:
          return "typeof " + data2 + EQUAL + '"' + dataType + '"';
      }
    }
    function checkDataTypes(dataTypes, data2, strictNumbers) {
      switch (dataTypes.length) {
        case 1:
          return checkDataType(dataTypes[0], data2, strictNumbers, true);
        default:
          var code = "";
          var types = toHash(dataTypes);
          if (types.array && types.object) {
            code = types.null ? "(" : "(!" + data2 + " || ";
            code += "typeof " + data2 + ' !== "object")';
            delete types.null;
            delete types.array;
            delete types.object;
          }
          if (types.number) delete types.integer;
          for (var t in types)
            code += (code ? " && " : "") + checkDataType(t, data2, strictNumbers, true);
          return code;
      }
    }
    var COERCE_TO_TYPES = toHash(["string", "number", "integer", "boolean", "null"]);
    function coerceToTypes(optionCoerceTypes, dataTypes) {
      if (Array.isArray(dataTypes)) {
        var types = [];
        for (var i = 0; i < dataTypes.length; i++) {
          var t = dataTypes[i];
          if (COERCE_TO_TYPES[t]) types[types.length] = t;
          else if (optionCoerceTypes === "array" && t === "array") types[types.length] = t;
        }
        if (types.length) return types;
      } else if (COERCE_TO_TYPES[dataTypes]) {
        return [dataTypes];
      } else if (optionCoerceTypes === "array" && dataTypes === "array") {
        return ["array"];
      }
    }
    function toHash(arr) {
      var hash = {};
      for (var i = 0; i < arr.length; i++) hash[arr[i]] = true;
      return hash;
    }
    var IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;
    var SINGLE_QUOTE = /'|\\/g;
    function getProperty(key) {
      return typeof key == "number" ? "[" + key + "]" : IDENTIFIER.test(key) ? "." + key : "['" + escapeQuotes(key) + "']";
    }
    function escapeQuotes(str) {
      return str.replace(SINGLE_QUOTE, "\\$&").replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/\f/g, "\\f").replace(/\t/g, "\\t");
    }
    function varOccurences(str, dataVar) {
      dataVar += "[^0-9]";
      var matches = str.match(new RegExp(dataVar, "g"));
      return matches ? matches.length : 0;
    }
    function varReplace(str, dataVar, expr) {
      dataVar += "([^0-9])";
      expr = expr.replace(/\$/g, "$$$$");
      return str.replace(new RegExp(dataVar, "g"), expr + "$1");
    }
    function schemaHasRules(schema, rules2) {
      if (typeof schema == "boolean") return !schema;
      for (var key in schema) if (rules2[key]) return true;
    }
    function schemaHasRulesExcept(schema, rules2, exceptKeyword) {
      if (typeof schema == "boolean") return !schema && exceptKeyword != "not";
      for (var key in schema) if (key != exceptKeyword && rules2[key]) return true;
    }
    function schemaUnknownRules(schema, rules2) {
      if (typeof schema == "boolean") return;
      for (var key in schema) if (!rules2[key]) return key;
    }
    function toQuotedString(str) {
      return "'" + escapeQuotes(str) + "'";
    }
    function getPathExpr(currentPath, expr, jsonPointers, isNumber) {
      var path = jsonPointers ? "'/' + " + expr + (isNumber ? "" : ".replace(/~/g, '~0').replace(/\\//g, '~1')") : isNumber ? "'[' + " + expr + " + ']'" : "'[\\'' + " + expr + " + '\\']'";
      return joinPaths(currentPath, path);
    }
    function getPath(currentPath, prop, jsonPointers) {
      var path = jsonPointers ? toQuotedString("/" + escapeJsonPointer(prop)) : toQuotedString(getProperty(prop));
      return joinPaths(currentPath, path);
    }
    var JSON_POINTER = /^\/(?:[^~]|~0|~1)*$/;
    var RELATIVE_JSON_POINTER = /^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;
    function getData($data, lvl, paths) {
      var up, jsonPointer, data2, matches;
      if ($data === "") return "rootData";
      if ($data[0] == "/") {
        if (!JSON_POINTER.test($data)) throw new Error("Invalid JSON-pointer: " + $data);
        jsonPointer = $data;
        data2 = "rootData";
      } else {
        matches = $data.match(RELATIVE_JSON_POINTER);
        if (!matches) throw new Error("Invalid JSON-pointer: " + $data);
        up = +matches[1];
        jsonPointer = matches[2];
        if (jsonPointer == "#") {
          if (up >= lvl) throw new Error("Cannot access property/index " + up + " levels up, current level is " + lvl);
          return paths[lvl - up];
        }
        if (up > lvl) throw new Error("Cannot access data " + up + " levels up, current level is " + lvl);
        data2 = "data" + (lvl - up || "");
        if (!jsonPointer) return data2;
      }
      var expr = data2;
      var segments = jsonPointer.split("/");
      for (var i = 0; i < segments.length; i++) {
        var segment = segments[i];
        if (segment) {
          data2 += getProperty(unescapeJsonPointer(segment));
          expr += " && " + data2;
        }
      }
      return expr;
    }
    function joinPaths(a, b) {
      if (a == '""') return b;
      return (a + " + " + b).replace(/([^\\])' \+ '/g, "$1");
    }
    function unescapeFragment(str) {
      return unescapeJsonPointer(decodeURIComponent(str));
    }
    function escapeFragment(str) {
      return encodeURIComponent(escapeJsonPointer(str));
    }
    function escapeJsonPointer(str) {
      return str.replace(/~/g, "~0").replace(/\//g, "~1");
    }
    function unescapeJsonPointer(str) {
      return str.replace(/~1/g, "/").replace(/~0/g, "~");
    }
    return util;
  }
  var schema_obj;
  var hasRequiredSchema_obj;
  function requireSchema_obj() {
    if (hasRequiredSchema_obj) return schema_obj;
    hasRequiredSchema_obj = 1;
    var util2 = requireUtil();
    schema_obj = SchemaObject;
    function SchemaObject(obj) {
      util2.copy(obj, this);
    }
    return schema_obj;
  }
  var jsonSchemaTraverse = { exports: {} };
  var hasRequiredJsonSchemaTraverse;
  function requireJsonSchemaTraverse() {
    if (hasRequiredJsonSchemaTraverse) return jsonSchemaTraverse.exports;
    hasRequiredJsonSchemaTraverse = 1;
    var traverse = jsonSchemaTraverse.exports = function(schema, opts, cb) {
      if (typeof opts == "function") {
        cb = opts;
        opts = {};
      }
      cb = opts.cb || cb;
      var pre = typeof cb == "function" ? cb : cb.pre || function() {
      };
      var post = cb.post || function() {
      };
      _traverse(opts, pre, post, schema, "", schema);
    };
    traverse.keywords = {
      additionalItems: true,
      items: true,
      contains: true,
      additionalProperties: true,
      propertyNames: true,
      not: true
    };
    traverse.arrayKeywords = {
      items: true,
      allOf: true,
      anyOf: true,
      oneOf: true
    };
    traverse.propsKeywords = {
      definitions: true,
      properties: true,
      patternProperties: true,
      dependencies: true
    };
    traverse.skipKeywords = {
      default: true,
      enum: true,
      const: true,
      required: true,
      maximum: true,
      minimum: true,
      exclusiveMaximum: true,
      exclusiveMinimum: true,
      multipleOf: true,
      maxLength: true,
      minLength: true,
      pattern: true,
      format: true,
      maxItems: true,
      minItems: true,
      uniqueItems: true,
      maxProperties: true,
      minProperties: true
    };
    function _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {
      if (schema && typeof schema == "object" && !Array.isArray(schema)) {
        pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);
        for (var key in schema) {
          var sch = schema[key];
          if (Array.isArray(sch)) {
            if (key in traverse.arrayKeywords) {
              for (var i = 0; i < sch.length; i++)
                _traverse(opts, pre, post, sch[i], jsonPtr + "/" + key + "/" + i, rootSchema, jsonPtr, key, schema, i);
            }
          } else if (key in traverse.propsKeywords) {
            if (sch && typeof sch == "object") {
              for (var prop in sch)
                _traverse(opts, pre, post, sch[prop], jsonPtr + "/" + key + "/" + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);
            }
          } else if (key in traverse.keywords || opts.allKeys && !(key in traverse.skipKeywords)) {
            _traverse(opts, pre, post, sch, jsonPtr + "/" + key, rootSchema, jsonPtr, key, schema);
          }
        }
        post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);
      }
    }
    function escapeJsonPtr(str) {
      return str.replace(/~/g, "~0").replace(/\//g, "~1");
    }
    return jsonSchemaTraverse.exports;
  }
  var resolve_1;
  var hasRequiredResolve;
  function requireResolve() {
    if (hasRequiredResolve) return resolve_1;
    hasRequiredResolve = 1;
    var URI = requireUri_all(), equal = requireFastDeepEqual(), util2 = requireUtil(), SchemaObject = requireSchema_obj(), traverse = requireJsonSchemaTraverse();
    resolve_1 = resolve;
    resolve.normalizeId = normalizeId;
    resolve.fullPath = getFullPath;
    resolve.url = resolveUrl;
    resolve.ids = resolveIds;
    resolve.inlineRef = inlineRef;
    resolve.schema = resolveSchema;
    function resolve(compile, root, ref2) {
      var refVal = this._refs[ref2];
      if (typeof refVal == "string") {
        if (this._refs[refVal]) refVal = this._refs[refVal];
        else return resolve.call(this, compile, root, refVal);
      }
      refVal = refVal || this._schemas[ref2];
      if (refVal instanceof SchemaObject) {
        return inlineRef(refVal.schema, this._opts.inlineRefs) ? refVal.schema : refVal.validate || this._compile(refVal);
      }
      var res = resolveSchema.call(this, root, ref2);
      var schema, v, baseId;
      if (res) {
        schema = res.schema;
        root = res.root;
        baseId = res.baseId;
      }
      if (schema instanceof SchemaObject) {
        v = schema.validate || compile.call(this, schema.schema, root, void 0, baseId);
      } else if (schema !== void 0) {
        v = inlineRef(schema, this._opts.inlineRefs) ? schema : compile.call(this, schema, root, void 0, baseId);
      }
      return v;
    }
    function resolveSchema(root, ref2) {
      var p = URI.parse(ref2), refPath = _getFullPath(p), baseId = getFullPath(this._getId(root.schema));
      if (Object.keys(root.schema).length === 0 || refPath !== baseId) {
        var id = normalizeId(refPath);
        var refVal = this._refs[id];
        if (typeof refVal == "string") {
          return resolveRecursive.call(this, root, refVal, p);
        } else if (refVal instanceof SchemaObject) {
          if (!refVal.validate) this._compile(refVal);
          root = refVal;
        } else {
          refVal = this._schemas[id];
          if (refVal instanceof SchemaObject) {
            if (!refVal.validate) this._compile(refVal);
            if (id == normalizeId(ref2))
              return { schema: refVal, root, baseId };
            root = refVal;
          } else {
            return;
          }
        }
        if (!root.schema) return;
        baseId = getFullPath(this._getId(root.schema));
      }
      return getJsonPointer.call(this, p, baseId, root.schema, root);
    }
    function resolveRecursive(root, ref2, parsedRef) {
      var res = resolveSchema.call(this, root, ref2);
      if (res) {
        var schema = res.schema;
        var baseId = res.baseId;
        root = res.root;
        var id = this._getId(schema);
        if (id) baseId = resolveUrl(baseId, id);
        return getJsonPointer.call(this, parsedRef, baseId, schema, root);
      }
    }
    var PREVENT_SCOPE_CHANGE = util2.toHash(["properties", "patternProperties", "enum", "dependencies", "definitions"]);
    function getJsonPointer(parsedRef, baseId, schema, root) {
      parsedRef.fragment = parsedRef.fragment || "";
      if (parsedRef.fragment.slice(0, 1) != "/") return;
      var parts = parsedRef.fragment.split("/");
      for (var i = 1; i < parts.length; i++) {
        var part = parts[i];
        if (part) {
          part = util2.unescapeFragment(part);
          schema = schema[part];
          if (schema === void 0) break;
          var id;
          if (!PREVENT_SCOPE_CHANGE[part]) {
            id = this._getId(schema);
            if (id) baseId = resolveUrl(baseId, id);
            if (schema.$ref) {
              var $ref = resolveUrl(baseId, schema.$ref);
              var res = resolveSchema.call(this, root, $ref);
              if (res) {
                schema = res.schema;
                root = res.root;
                baseId = res.baseId;
              }
            }
          }
        }
      }
      if (schema !== void 0 && schema !== root.schema)
        return { schema, root, baseId };
    }
    var SIMPLE_INLINED = util2.toHash([
      "type",
      "format",
      "pattern",
      "maxLength",
      "minLength",
      "maxProperties",
      "minProperties",
      "maxItems",
      "minItems",
      "maximum",
      "minimum",
      "uniqueItems",
      "multipleOf",
      "required",
      "enum"
    ]);
    function inlineRef(schema, limit) {
      if (limit === false) return false;
      if (limit === void 0 || limit === true) return checkNoRef(schema);
      else if (limit) return countKeys(schema) <= limit;
    }
    function checkNoRef(schema) {
      var item;
      if (Array.isArray(schema)) {
        for (var i = 0; i < schema.length; i++) {
          item = schema[i];
          if (typeof item == "object" && !checkNoRef(item)) return false;
        }
      } else {
        for (var key in schema) {
          if (key == "$ref") return false;
          item = schema[key];
          if (typeof item == "object" && !checkNoRef(item)) return false;
        }
      }
      return true;
    }
    function countKeys(schema) {
      var count = 0, item;
      if (Array.isArray(schema)) {
        for (var i = 0; i < schema.length; i++) {
          item = schema[i];
          if (typeof item == "object") count += countKeys(item);
          if (count == Infinity) return Infinity;
        }
      } else {
        for (var key in schema) {
          if (key == "$ref") return Infinity;
          if (SIMPLE_INLINED[key]) {
            count++;
          } else {
            item = schema[key];
            if (typeof item == "object") count += countKeys(item) + 1;
            if (count == Infinity) return Infinity;
          }
        }
      }
      return count;
    }
    function getFullPath(id, normalize) {
      if (normalize !== false) id = normalizeId(id);
      var p = URI.parse(id);
      return _getFullPath(p);
    }
    function _getFullPath(p) {
      return URI.serialize(p).split("#")[0] + "#";
    }
    var TRAILING_SLASH_HASH = /#\/?$/;
    function normalizeId(id) {
      return id ? id.replace(TRAILING_SLASH_HASH, "") : "";
    }
    function resolveUrl(baseId, id) {
      id = normalizeId(id);
      return URI.resolve(baseId, id);
    }
    function resolveIds(schema) {
      var schemaId = normalizeId(this._getId(schema));
      var baseIds = { "": schemaId };
      var fullPaths = { "": getFullPath(schemaId, false) };
      var localRefs = {};
      var self = this;
      traverse(schema, { allKeys: true }, function(sch, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {
        if (jsonPtr === "") return;
        var id = self._getId(sch);
        var baseId = baseIds[parentJsonPtr];
        var fullPath = fullPaths[parentJsonPtr] + "/" + parentKeyword;
        if (keyIndex !== void 0)
          fullPath += "/" + (typeof keyIndex == "number" ? keyIndex : util2.escapeFragment(keyIndex));
        if (typeof id == "string") {
          id = baseId = normalizeId(baseId ? URI.resolve(baseId, id) : id);
          var refVal = self._refs[id];
          if (typeof refVal == "string") refVal = self._refs[refVal];
          if (refVal && refVal.schema) {
            if (!equal(sch, refVal.schema))
              throw new Error('id "' + id + '" resolves to more than one schema');
          } else if (id != normalizeId(fullPath)) {
            if (id[0] == "#") {
              if (localRefs[id] && !equal(sch, localRefs[id]))
                throw new Error('id "' + id + '" resolves to more than one schema');
              localRefs[id] = sch;
            } else {
              self._refs[id] = fullPath;
            }
          }
        }
        baseIds[jsonPtr] = baseId;
        fullPaths[jsonPtr] = fullPath;
      });
      return localRefs;
    }
    return resolve_1;
  }
  var error_classes;
  var hasRequiredError_classes;
  function requireError_classes() {
    if (hasRequiredError_classes) return error_classes;
    hasRequiredError_classes = 1;
    var resolve = requireResolve();
    error_classes = {
      Validation: errorSubclass(ValidationError),
      MissingRef: errorSubclass(MissingRefError)
    };
    function ValidationError(errors) {
      this.message = "validation failed";
      this.errors = errors;
      this.ajv = this.validation = true;
    }
    MissingRefError.message = function(baseId, ref2) {
      return "can't resolve reference " + ref2 + " from id " + baseId;
    };
    function MissingRefError(baseId, ref2, message) {
      this.message = message || MissingRefError.message(baseId, ref2);
      this.missingRef = resolve.url(baseId, ref2);
      this.missingSchema = resolve.normalizeId(resolve.fullPath(this.missingRef));
    }
    function errorSubclass(Subclass) {
      Subclass.prototype = Object.create(Error.prototype);
      Subclass.prototype.constructor = Subclass;
      return Subclass;
    }
    return error_classes;
  }
  var fastJsonStableStringify;
  var hasRequiredFastJsonStableStringify;
  function requireFastJsonStableStringify() {
    if (hasRequiredFastJsonStableStringify) return fastJsonStableStringify;
    hasRequiredFastJsonStableStringify = 1;
    fastJsonStableStringify = function(data2, opts) {
      if (!opts) opts = {};
      if (typeof opts === "function") opts = { cmp: opts };
      var cycles = typeof opts.cycles === "boolean" ? opts.cycles : false;
      var cmp = opts.cmp && /* @__PURE__ */ function(f) {
        return function(node) {
          return function(a, b) {
            var aobj = { key: a, value: node[a] };
            var bobj = { key: b, value: node[b] };
            return f(aobj, bobj);
          };
        };
      }(opts.cmp);
      var seen2 = [];
      return function stringify(node) {
        if (node && node.toJSON && typeof node.toJSON === "function") {
          node = node.toJSON();
        }
        if (node === void 0) return;
        if (typeof node == "number") return isFinite(node) ? "" + node : "null";
        if (typeof node !== "object") return JSON.stringify(node);
        var i, out;
        if (Array.isArray(node)) {
          out = "[";
          for (i = 0; i < node.length; i++) {
            if (i) out += ",";
            out += stringify(node[i]) || "null";
          }
          return out + "]";
        }
        if (node === null) return "null";
        if (seen2.indexOf(node) !== -1) {
          if (cycles) return JSON.stringify("__cycle__");
          throw new TypeError("Converting circular structure to JSON");
        }
        var seenIndex = seen2.push(node) - 1;
        var keys = Object.keys(node).sort(cmp && cmp(node));
        out = "";
        for (i = 0; i < keys.length; i++) {
          var key = keys[i];
          var value = stringify(node[key]);
          if (!value) continue;
          if (out) out += ",";
          out += JSON.stringify(key) + ":" + value;
        }
        seen2.splice(seenIndex, 1);
        return "{" + out + "}";
      }(data2);
    };
    return fastJsonStableStringify;
  }
  var validate;
  var hasRequiredValidate;
  function requireValidate() {
    if (hasRequiredValidate) return validate;
    hasRequiredValidate = 1;
    validate = function generate_validate(it, $keyword, $ruleType) {
      var out = "";
      var $async = it.schema.$async === true, $refKeywords = it.util.schemaHasRulesExcept(it.schema, it.RULES.all, "$ref"), $id2 = it.self._getId(it.schema);
      if (it.opts.strictKeywords) {
        var $unknownKwd = it.util.schemaUnknownRules(it.schema, it.RULES.keywords);
        if ($unknownKwd) {
          var $keywordsMsg = "unknown keyword: " + $unknownKwd;
          if (it.opts.strictKeywords === "log") it.logger.warn($keywordsMsg);
          else throw new Error($keywordsMsg);
        }
      }
      if (it.isTop) {
        out += " var validate = ";
        if ($async) {
          it.async = true;
          out += "async ";
        }
        out += "function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ";
        if ($id2 && (it.opts.sourceCode || it.opts.processCode)) {
          out += " " + ("/*# sourceURL=" + $id2 + " */") + " ";
        }
      }
      if (typeof it.schema == "boolean" || !($refKeywords || it.schema.$ref)) {
        var $keyword = "false schema";
        var $lvl = it.level;
        var $dataLvl = it.dataLevel;
        var $schema2 = it.schema[$keyword];
        var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
        var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
        var $breakOnError = !it.opts.allErrors;
        var $errorKeyword;
        var $data = "data" + ($dataLvl || "");
        var $valid = "valid" + $lvl;
        if (it.schema === false) {
          if (it.isTop) {
            $breakOnError = true;
          } else {
            out += " var " + $valid + " = false; ";
          }
          var $$outStack = $$outStack || [];
          $$outStack.push(out);
          out = "";
          if (it.createErrors !== false) {
            out += " { keyword: '" + ($errorKeyword || "false schema") + "' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: {} ";
            if (it.opts.messages !== false) {
              out += " , message: 'boolean schema is false' ";
            }
            if (it.opts.verbose) {
              out += " , schema: false , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
            }
            out += " } ";
          } else {
            out += " {} ";
          }
          var __err = out;
          out = $$outStack.pop();
          if (!it.compositeRule && $breakOnError) {
            if (it.async) {
              out += " throw new ValidationError([" + __err + "]); ";
            } else {
              out += " validate.errors = [" + __err + "]; return false; ";
            }
          } else {
            out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
          }
        } else {
          if (it.isTop) {
            if ($async) {
              out += " return data; ";
            } else {
              out += " validate.errors = null; return true; ";
            }
          } else {
            out += " var " + $valid + " = true; ";
          }
        }
        if (it.isTop) {
          out += " }; return validate; ";
        }
        return out;
      }
      if (it.isTop) {
        var $top = it.isTop, $lvl = it.level = 0, $dataLvl = it.dataLevel = 0, $data = "data";
        it.rootId = it.resolve.fullPath(it.self._getId(it.root.schema));
        it.baseId = it.baseId || it.rootId;
        delete it.isTop;
        it.dataPathArr = [""];
        if (it.schema.default !== void 0 && it.opts.useDefaults && it.opts.strictDefaults) {
          var $defaultMsg = "default is ignored in the schema root";
          if (it.opts.strictDefaults === "log") it.logger.warn($defaultMsg);
          else throw new Error($defaultMsg);
        }
        out += " var vErrors = null; ";
        out += " var errors = 0;     ";
        out += " if (rootData === undefined) rootData = data; ";
      } else {
        var $lvl = it.level, $dataLvl = it.dataLevel, $data = "data" + ($dataLvl || "");
        if ($id2) it.baseId = it.resolve.url(it.baseId, $id2);
        if ($async && !it.async) throw new Error("async schema in sync schema");
        out += " var errs_" + $lvl + " = errors;";
      }
      var $valid = "valid" + $lvl, $breakOnError = !it.opts.allErrors, $closingBraces1 = "", $closingBraces2 = "";
      var $errorKeyword;
      var $typeSchema = it.schema.type, $typeIsArray = Array.isArray($typeSchema);
      if ($typeSchema && it.opts.nullable && it.schema.nullable === true) {
        if ($typeIsArray) {
          if ($typeSchema.indexOf("null") == -1) $typeSchema = $typeSchema.concat("null");
        } else if ($typeSchema != "null") {
          $typeSchema = [$typeSchema, "null"];
          $typeIsArray = true;
        }
      }
      if ($typeIsArray && $typeSchema.length == 1) {
        $typeSchema = $typeSchema[0];
        $typeIsArray = false;
      }
      if (it.schema.$ref && $refKeywords) {
        if (it.opts.extendRefs == "fail") {
          throw new Error('$ref: validation keywords used in schema at path "' + it.errSchemaPath + '" (see option extendRefs)');
        } else if (it.opts.extendRefs !== true) {
          $refKeywords = false;
          it.logger.warn('$ref: keywords ignored in schema at path "' + it.errSchemaPath + '"');
        }
      }
      if (it.schema.$comment && it.opts.$comment) {
        out += " " + it.RULES.all.$comment.code(it, "$comment");
      }
      if ($typeSchema) {
        if (it.opts.coerceTypes) {
          var $coerceToTypes = it.util.coerceToTypes(it.opts.coerceTypes, $typeSchema);
        }
        var $rulesGroup = it.RULES.types[$typeSchema];
        if ($coerceToTypes || $typeIsArray || $rulesGroup === true || $rulesGroup && !$shouldUseGroup($rulesGroup)) {
          var $schemaPath = it.schemaPath + ".type", $errSchemaPath = it.errSchemaPath + "/type";
          var $schemaPath = it.schemaPath + ".type", $errSchemaPath = it.errSchemaPath + "/type", $method = $typeIsArray ? "checkDataTypes" : "checkDataType";
          out += " if (" + it.util[$method]($typeSchema, $data, it.opts.strictNumbers, true) + ") { ";
          if ($coerceToTypes) {
            var $dataType = "dataType" + $lvl, $coerced = "coerced" + $lvl;
            out += " var " + $dataType + " = typeof " + $data + "; var " + $coerced + " = undefined; ";
            if (it.opts.coerceTypes == "array") {
              out += " if (" + $dataType + " == 'object' && Array.isArray(" + $data + ") && " + $data + ".length == 1) { " + $data + " = " + $data + "[0]; " + $dataType + " = typeof " + $data + "; if (" + it.util.checkDataType(it.schema.type, $data, it.opts.strictNumbers) + ") " + $coerced + " = " + $data + "; } ";
            }
            out += " if (" + $coerced + " !== undefined) ; ";
            var arr1 = $coerceToTypes;
            if (arr1) {
              var $type, $i = -1, l1 = arr1.length - 1;
              while ($i < l1) {
                $type = arr1[$i += 1];
                if ($type == "string") {
                  out += " else if (" + $dataType + " == 'number' || " + $dataType + " == 'boolean') " + $coerced + " = '' + " + $data + "; else if (" + $data + " === null) " + $coerced + " = ''; ";
                } else if ($type == "number" || $type == "integer") {
                  out += " else if (" + $dataType + " == 'boolean' || " + $data + " === null || (" + $dataType + " == 'string' && " + $data + " && " + $data + " == +" + $data + " ";
                  if ($type == "integer") {
                    out += " && !(" + $data + " % 1)";
                  }
                  out += ")) " + $coerced + " = +" + $data + "; ";
                } else if ($type == "boolean") {
                  out += " else if (" + $data + " === 'false' || " + $data + " === 0 || " + $data + " === null) " + $coerced + " = false; else if (" + $data + " === 'true' || " + $data + " === 1) " + $coerced + " = true; ";
                } else if ($type == "null") {
                  out += " else if (" + $data + " === '' || " + $data + " === 0 || " + $data + " === false) " + $coerced + " = null; ";
                } else if (it.opts.coerceTypes == "array" && $type == "array") {
                  out += " else if (" + $dataType + " == 'string' || " + $dataType + " == 'number' || " + $dataType + " == 'boolean' || " + $data + " == null) " + $coerced + " = [" + $data + "]; ";
                }
              }
            }
            out += " else {   ";
            var $$outStack = $$outStack || [];
            $$outStack.push(out);
            out = "";
            if (it.createErrors !== false) {
              out += " { keyword: '" + ($errorKeyword || "type") + "' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { type: '";
              if ($typeIsArray) {
                out += "" + $typeSchema.join(",");
              } else {
                out += "" + $typeSchema;
              }
              out += "' } ";
              if (it.opts.messages !== false) {
                out += " , message: 'should be ";
                if ($typeIsArray) {
                  out += "" + $typeSchema.join(",");
                } else {
                  out += "" + $typeSchema;
                }
                out += "' ";
              }
              if (it.opts.verbose) {
                out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
              }
              out += " } ";
            } else {
              out += " {} ";
            }
            var __err = out;
            out = $$outStack.pop();
            if (!it.compositeRule && $breakOnError) {
              if (it.async) {
                out += " throw new ValidationError([" + __err + "]); ";
              } else {
                out += " validate.errors = [" + __err + "]; return false; ";
              }
            } else {
              out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
            }
            out += " } if (" + $coerced + " !== undefined) {  ";
            var $parentData = $dataLvl ? "data" + ($dataLvl - 1 || "") : "parentData", $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : "parentDataProperty";
            out += " " + $data + " = " + $coerced + "; ";
            if (!$dataLvl) {
              out += "if (" + $parentData + " !== undefined)";
            }
            out += " " + $parentData + "[" + $parentDataProperty + "] = " + $coerced + "; } ";
          } else {
            var $$outStack = $$outStack || [];
            $$outStack.push(out);
            out = "";
            if (it.createErrors !== false) {
              out += " { keyword: '" + ($errorKeyword || "type") + "' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { type: '";
              if ($typeIsArray) {
                out += "" + $typeSchema.join(",");
              } else {
                out += "" + $typeSchema;
              }
              out += "' } ";
              if (it.opts.messages !== false) {
                out += " , message: 'should be ";
                if ($typeIsArray) {
                  out += "" + $typeSchema.join(",");
                } else {
                  out += "" + $typeSchema;
                }
                out += "' ";
              }
              if (it.opts.verbose) {
                out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
              }
              out += " } ";
            } else {
              out += " {} ";
            }
            var __err = out;
            out = $$outStack.pop();
            if (!it.compositeRule && $breakOnError) {
              if (it.async) {
                out += " throw new ValidationError([" + __err + "]); ";
              } else {
                out += " validate.errors = [" + __err + "]; return false; ";
              }
            } else {
              out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
            }
          }
          out += " } ";
        }
      }
      if (it.schema.$ref && !$refKeywords) {
        out += " " + it.RULES.all.$ref.code(it, "$ref") + " ";
        if ($breakOnError) {
          out += " } if (errors === ";
          if ($top) {
            out += "0";
          } else {
            out += "errs_" + $lvl;
          }
          out += ") { ";
          $closingBraces2 += "}";
        }
      } else {
        var arr2 = it.RULES;
        if (arr2) {
          var $rulesGroup, i2 = -1, l2 = arr2.length - 1;
          while (i2 < l2) {
            $rulesGroup = arr2[i2 += 1];
            if ($shouldUseGroup($rulesGroup)) {
              if ($rulesGroup.type) {
                out += " if (" + it.util.checkDataType($rulesGroup.type, $data, it.opts.strictNumbers) + ") { ";
              }
              if (it.opts.useDefaults) {
                if ($rulesGroup.type == "object" && it.schema.properties) {
                  var $schema2 = it.schema.properties, $schemaKeys = Object.keys($schema2);
                  var arr3 = $schemaKeys;
                  if (arr3) {
                    var $propertyKey, i3 = -1, l3 = arr3.length - 1;
                    while (i3 < l3) {
                      $propertyKey = arr3[i3 += 1];
                      var $sch = $schema2[$propertyKey];
                      if ($sch.default !== void 0) {
                        var $passData = $data + it.util.getProperty($propertyKey);
                        if (it.compositeRule) {
                          if (it.opts.strictDefaults) {
                            var $defaultMsg = "default is ignored for: " + $passData;
                            if (it.opts.strictDefaults === "log") it.logger.warn($defaultMsg);
                            else throw new Error($defaultMsg);
                          }
                        } else {
                          out += " if (" + $passData + " === undefined ";
                          if (it.opts.useDefaults == "empty") {
                            out += " || " + $passData + " === null || " + $passData + " === '' ";
                          }
                          out += " ) " + $passData + " = ";
                          if (it.opts.useDefaults == "shared") {
                            out += " " + it.useDefault($sch.default) + " ";
                          } else {
                            out += " " + JSON.stringify($sch.default) + " ";
                          }
                          out += "; ";
                        }
                      }
                    }
                  }
                } else if ($rulesGroup.type == "array" && Array.isArray(it.schema.items)) {
                  var arr4 = it.schema.items;
                  if (arr4) {
                    var $sch, $i = -1, l4 = arr4.length - 1;
                    while ($i < l4) {
                      $sch = arr4[$i += 1];
                      if ($sch.default !== void 0) {
                        var $passData = $data + "[" + $i + "]";
                        if (it.compositeRule) {
                          if (it.opts.strictDefaults) {
                            var $defaultMsg = "default is ignored for: " + $passData;
                            if (it.opts.strictDefaults === "log") it.logger.warn($defaultMsg);
                            else throw new Error($defaultMsg);
                          }
                        } else {
                          out += " if (" + $passData + " === undefined ";
                          if (it.opts.useDefaults == "empty") {
                            out += " || " + $passData + " === null || " + $passData + " === '' ";
                          }
                          out += " ) " + $passData + " = ";
                          if (it.opts.useDefaults == "shared") {
                            out += " " + it.useDefault($sch.default) + " ";
                          } else {
                            out += " " + JSON.stringify($sch.default) + " ";
                          }
                          out += "; ";
                        }
                      }
                    }
                  }
                }
              }
              var arr5 = $rulesGroup.rules;
              if (arr5) {
                var $rule, i5 = -1, l5 = arr5.length - 1;
                while (i5 < l5) {
                  $rule = arr5[i5 += 1];
                  if ($shouldUseRule($rule)) {
                    var $code = $rule.code(it, $rule.keyword, $rulesGroup.type);
                    if ($code) {
                      out += " " + $code + " ";
                      if ($breakOnError) {
                        $closingBraces1 += "}";
                      }
                    }
                  }
                }
              }
              if ($breakOnError) {
                out += " " + $closingBraces1 + " ";
                $closingBraces1 = "";
              }
              if ($rulesGroup.type) {
                out += " } ";
                if ($typeSchema && $typeSchema === $rulesGroup.type && !$coerceToTypes) {
                  out += " else { ";
                  var $schemaPath = it.schemaPath + ".type", $errSchemaPath = it.errSchemaPath + "/type";
                  var $$outStack = $$outStack || [];
                  $$outStack.push(out);
                  out = "";
                  if (it.createErrors !== false) {
                    out += " { keyword: '" + ($errorKeyword || "type") + "' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { type: '";
                    if ($typeIsArray) {
                      out += "" + $typeSchema.join(",");
                    } else {
                      out += "" + $typeSchema;
                    }
                    out += "' } ";
                    if (it.opts.messages !== false) {
                      out += " , message: 'should be ";
                      if ($typeIsArray) {
                        out += "" + $typeSchema.join(",");
                      } else {
                        out += "" + $typeSchema;
                      }
                      out += "' ";
                    }
                    if (it.opts.verbose) {
                      out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
                    }
                    out += " } ";
                  } else {
                    out += " {} ";
                  }
                  var __err = out;
                  out = $$outStack.pop();
                  if (!it.compositeRule && $breakOnError) {
                    if (it.async) {
                      out += " throw new ValidationError([" + __err + "]); ";
                    } else {
                      out += " validate.errors = [" + __err + "]; return false; ";
                    }
                  } else {
                    out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
                  }
                  out += " } ";
                }
              }
              if ($breakOnError) {
                out += " if (errors === ";
                if ($top) {
                  out += "0";
                } else {
                  out += "errs_" + $lvl;
                }
                out += ") { ";
                $closingBraces2 += "}";
              }
            }
          }
        }
      }
      if ($breakOnError) {
        out += " " + $closingBraces2 + " ";
      }
      if ($top) {
        if ($async) {
          out += " if (errors === 0) return data;           ";
          out += " else throw new ValidationError(vErrors); ";
        } else {
          out += " validate.errors = vErrors; ";
          out += " return errors === 0;       ";
        }
        out += " }; return validate;";
      } else {
        out += " var " + $valid + " = errors === errs_" + $lvl + ";";
      }
      function $shouldUseGroup($rulesGroup2) {
        var rules2 = $rulesGroup2.rules;
        for (var i = 0; i < rules2.length; i++)
          if ($shouldUseRule(rules2[i])) return true;
      }
      function $shouldUseRule($rule2) {
        return it.schema[$rule2.keyword] !== void 0 || $rule2.implements && $ruleImplementsSomeKeyword($rule2);
      }
      function $ruleImplementsSomeKeyword($rule2) {
        var impl = $rule2.implements;
        for (var i = 0; i < impl.length; i++)
          if (it.schema[impl[i]] !== void 0) return true;
      }
      return out;
    };
    return validate;
  }
  var compile_1;
  var hasRequiredCompile;
  function requireCompile() {
    if (hasRequiredCompile) return compile_1;
    hasRequiredCompile = 1;
    var resolve = requireResolve(), util2 = requireUtil(), errorClasses = requireError_classes(), stableStringify = requireFastJsonStableStringify();
    var validateGenerator = requireValidate();
    var ucs2length2 = util2.ucs2length;
    var equal = requireFastDeepEqual();
    var ValidationError = errorClasses.Validation;
    compile_1 = compile;
    function compile(schema, root, localRefs, baseId) {
      var self = this, opts = this._opts, refVal = [void 0], refs = {}, patterns = [], patternsHash = {}, defaults = [], defaultsHash = {}, customRules = [];
      root = root || { schema, refVal, refs };
      var c = checkCompiling.call(this, schema, root, baseId);
      var compilation = this._compilations[c.index];
      if (c.compiling) return compilation.callValidate = callValidate;
      var formats = this._formats;
      var RULES = this.RULES;
      try {
        var v = localCompile(schema, root, localRefs, baseId);
        compilation.validate = v;
        var cv = compilation.callValidate;
        if (cv) {
          cv.schema = v.schema;
          cv.errors = null;
          cv.refs = v.refs;
          cv.refVal = v.refVal;
          cv.root = v.root;
          cv.$async = v.$async;
          if (opts.sourceCode) cv.source = v.source;
        }
        return v;
      } finally {
        endCompiling.call(this, schema, root, baseId);
      }
      function callValidate() {
        var validate2 = compilation.validate;
        var result = validate2.apply(this, arguments);
        callValidate.errors = validate2.errors;
        return result;
      }
      function localCompile(_schema, _root, localRefs2, baseId2) {
        var isRoot = !_root || _root && _root.schema == _schema;
        if (_root.schema != root.schema)
          return compile.call(self, _schema, _root, localRefs2, baseId2);
        var $async = _schema.$async === true;
        var sourceCode = validateGenerator({
          isTop: true,
          schema: _schema,
          isRoot,
          baseId: baseId2,
          root: _root,
          schemaPath: "",
          errSchemaPath: "#",
          errorPath: '""',
          MissingRefError: errorClasses.MissingRef,
          RULES,
          validate: validateGenerator,
          util: util2,
          resolve,
          resolveRef,
          usePattern,
          useDefault,
          useCustomRule,
          opts,
          formats,
          logger: self.logger,
          self
        });
        sourceCode = vars(refVal, refValCode) + vars(patterns, patternCode) + vars(defaults, defaultCode) + vars(customRules, customRuleCode) + sourceCode;
        if (opts.processCode) sourceCode = opts.processCode(sourceCode, _schema);
        var validate2;
        try {
          var makeValidate = new Function(
            "self",
            "RULES",
            "formats",
            "root",
            "refVal",
            "defaults",
            "customRules",
            "equal",
            "ucs2length",
            "ValidationError",
            sourceCode
          );
          validate2 = makeValidate(
            self,
            RULES,
            formats,
            root,
            refVal,
            defaults,
            customRules,
            equal,
            ucs2length2,
            ValidationError
          );
          refVal[0] = validate2;
        } catch (e) {
          self.logger.error("Error compiling schema, function code:", sourceCode);
          throw e;
        }
        validate2.schema = _schema;
        validate2.errors = null;
        validate2.refs = refs;
        validate2.refVal = refVal;
        validate2.root = isRoot ? validate2 : _root;
        if ($async) validate2.$async = true;
        if (opts.sourceCode === true) {
          validate2.source = {
            code: sourceCode,
            patterns,
            defaults
          };
        }
        return validate2;
      }
      function resolveRef(baseId2, ref2, isRoot) {
        ref2 = resolve.url(baseId2, ref2);
        var refIndex = refs[ref2];
        var _refVal, refCode;
        if (refIndex !== void 0) {
          _refVal = refVal[refIndex];
          refCode = "refVal[" + refIndex + "]";
          return resolvedRef(_refVal, refCode);
        }
        if (!isRoot && root.refs) {
          var rootRefId = root.refs[ref2];
          if (rootRefId !== void 0) {
            _refVal = root.refVal[rootRefId];
            refCode = addLocalRef(ref2, _refVal);
            return resolvedRef(_refVal, refCode);
          }
        }
        refCode = addLocalRef(ref2);
        var v2 = resolve.call(self, localCompile, root, ref2);
        if (v2 === void 0) {
          var localSchema = localRefs && localRefs[ref2];
          if (localSchema) {
            v2 = resolve.inlineRef(localSchema, opts.inlineRefs) ? localSchema : compile.call(self, localSchema, root, localRefs, baseId2);
          }
        }
        if (v2 === void 0) {
          removeLocalRef(ref2);
        } else {
          replaceLocalRef(ref2, v2);
          return resolvedRef(v2, refCode);
        }
      }
      function addLocalRef(ref2, v2) {
        var refId = refVal.length;
        refVal[refId] = v2;
        refs[ref2] = refId;
        return "refVal" + refId;
      }
      function removeLocalRef(ref2) {
        delete refs[ref2];
      }
      function replaceLocalRef(ref2, v2) {
        var refId = refs[ref2];
        refVal[refId] = v2;
      }
      function resolvedRef(refVal2, code) {
        return typeof refVal2 == "object" || typeof refVal2 == "boolean" ? { code, schema: refVal2, inline: true } : { code, $async: refVal2 && !!refVal2.$async };
      }
      function usePattern(regexStr) {
        var index2 = patternsHash[regexStr];
        if (index2 === void 0) {
          index2 = patternsHash[regexStr] = patterns.length;
          patterns[index2] = regexStr;
        }
        return "pattern" + index2;
      }
      function useDefault(value) {
        switch (typeof value) {
          case "boolean":
          case "number":
            return "" + value;
          case "string":
            return util2.toQuotedString(value);
          case "object":
            if (value === null) return "null";
            var valueStr = stableStringify(value);
            var index2 = defaultsHash[valueStr];
            if (index2 === void 0) {
              index2 = defaultsHash[valueStr] = defaults.length;
              defaults[index2] = value;
            }
            return "default" + index2;
        }
      }
      function useCustomRule(rule, schema2, parentSchema, it) {
        if (self._opts.validateSchema !== false) {
          var deps = rule.definition.dependencies;
          if (deps && !deps.every(function(keyword2) {
            return Object.prototype.hasOwnProperty.call(parentSchema, keyword2);
          }))
            throw new Error("parent schema must have all required keywords: " + deps.join(","));
          var validateSchema = rule.definition.validateSchema;
          if (validateSchema) {
            var valid = validateSchema(schema2);
            if (!valid) {
              var message = "keyword schema is invalid: " + self.errorsText(validateSchema.errors);
              if (self._opts.validateSchema == "log") self.logger.error(message);
              else throw new Error(message);
            }
          }
        }
        var compile2 = rule.definition.compile, inline = rule.definition.inline, macro = rule.definition.macro;
        var validate2;
        if (compile2) {
          validate2 = compile2.call(self, schema2, parentSchema, it);
        } else if (macro) {
          validate2 = macro.call(self, schema2, parentSchema, it);
          if (opts.validateSchema !== false) self.validateSchema(validate2, true);
        } else if (inline) {
          validate2 = inline.call(self, it, rule.keyword, schema2, parentSchema);
        } else {
          validate2 = rule.definition.validate;
          if (!validate2) return;
        }
        if (validate2 === void 0)
          throw new Error('custom keyword "' + rule.keyword + '"failed to compile');
        var index2 = customRules.length;
        customRules[index2] = validate2;
        return {
          code: "customRule" + index2,
          validate: validate2
        };
      }
    }
    function checkCompiling(schema, root, baseId) {
      var index2 = compIndex.call(this, schema, root, baseId);
      if (index2 >= 0) return { index: index2, compiling: true };
      index2 = this._compilations.length;
      this._compilations[index2] = {
        schema,
        root,
        baseId
      };
      return { index: index2, compiling: false };
    }
    function endCompiling(schema, root, baseId) {
      var i = compIndex.call(this, schema, root, baseId);
      if (i >= 0) this._compilations.splice(i, 1);
    }
    function compIndex(schema, root, baseId) {
      for (var i = 0; i < this._compilations.length; i++) {
        var c = this._compilations[i];
        if (c.schema == schema && c.root == root && c.baseId == baseId) return i;
      }
      return -1;
    }
    function patternCode(i, patterns) {
      return "var pattern" + i + " = new RegExp(" + util2.toQuotedString(patterns[i]) + ");";
    }
    function defaultCode(i) {
      return "var default" + i + " = defaults[" + i + "];";
    }
    function refValCode(i, refVal) {
      return refVal[i] === void 0 ? "" : "var refVal" + i + " = refVal[" + i + "];";
    }
    function customRuleCode(i) {
      return "var customRule" + i + " = customRules[" + i + "];";
    }
    function vars(arr, statement) {
      if (!arr.length) return "";
      var code = "";
      for (var i = 0; i < arr.length; i++)
        code += statement(i, arr);
      return code;
    }
    return compile_1;
  }
  var cache = { exports: {} };
  var hasRequiredCache;
  function requireCache() {
    if (hasRequiredCache) return cache.exports;
    hasRequiredCache = 1;
    var Cache = cache.exports = function Cache2() {
      this._cache = {};
    };
    Cache.prototype.put = function Cache_put(key, value) {
      this._cache[key] = value;
    };
    Cache.prototype.get = function Cache_get(key) {
      return this._cache[key];
    };
    Cache.prototype.del = function Cache_del(key) {
      delete this._cache[key];
    };
    Cache.prototype.clear = function Cache_clear() {
      this._cache = {};
    };
    return cache.exports;
  }
  var formats_1;
  var hasRequiredFormats;
  function requireFormats() {
    if (hasRequiredFormats) return formats_1;
    hasRequiredFormats = 1;
    var util2 = requireUtil();
    var DATE = /^(\d\d\d\d)-(\d\d)-(\d\d)$/;
    var DAYS = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
    var TIME = /^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;
    var HOSTNAME = /^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i;
    var URI = /^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;
    var URIREF = /^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;
    var URITEMPLATE = /^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i;
    var URL2 = /^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i;
    var UUID = /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i;
    var JSON_POINTER = /^(?:\/(?:[^~/]|~0|~1)*)*$/;
    var JSON_POINTER_URI_FRAGMENT = /^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;
    var RELATIVE_JSON_POINTER = /^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;
    formats_1 = formats;
    function formats(mode) {
      mode = mode == "full" ? "full" : "fast";
      return util2.copy(formats[mode]);
    }
    formats.fast = {
      // date: http://tools.ietf.org/html/rfc3339#section-5.6
      date: /^\d\d\d\d-[0-1]\d-[0-3]\d$/,
      // date-time: http://tools.ietf.org/html/rfc3339#section-5.6
      time: /^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,
      "date-time": /^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,
      // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js
      uri: /^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,
      "uri-reference": /^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,
      "uri-template": URITEMPLATE,
      url: URL2,
      // email (sources from jsen validator):
      // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363
      // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'willful violation')
      email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,
      hostname: HOSTNAME,
      // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html
      ipv4: /^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,
      // optimized http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses
      ipv6: /^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,
      regex,
      // uuid: http://tools.ietf.org/html/rfc4122
      uuid: UUID,
      // JSON-pointer: https://tools.ietf.org/html/rfc6901
      // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A
      "json-pointer": JSON_POINTER,
      "json-pointer-uri-fragment": JSON_POINTER_URI_FRAGMENT,
      // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00
      "relative-json-pointer": RELATIVE_JSON_POINTER
    };
    formats.full = {
      date,
      time,
      "date-time": date_time,
      uri,
      "uri-reference": URIREF,
      "uri-template": URITEMPLATE,
      url: URL2,
      email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,
      hostname: HOSTNAME,
      ipv4: /^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,
      ipv6: /^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,
      regex,
      uuid: UUID,
      "json-pointer": JSON_POINTER,
      "json-pointer-uri-fragment": JSON_POINTER_URI_FRAGMENT,
      "relative-json-pointer": RELATIVE_JSON_POINTER
    };
    function isLeapYear(year) {
      return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);
    }
    function date(str) {
      var matches = str.match(DATE);
      if (!matches) return false;
      var year = +matches[1];
      var month = +matches[2];
      var day = +matches[3];
      return month >= 1 && month <= 12 && day >= 1 && day <= (month == 2 && isLeapYear(year) ? 29 : DAYS[month]);
    }
    function time(str, full) {
      var matches = str.match(TIME);
      if (!matches) return false;
      var hour = matches[1];
      var minute = matches[2];
      var second = matches[3];
      var timeZone = matches[5];
      return (hour <= 23 && minute <= 59 && second <= 59 || hour == 23 && minute == 59 && second == 60) && (!full || timeZone);
    }
    var DATE_TIME_SEPARATOR = /t|\s/i;
    function date_time(str) {
      var dateTime = str.split(DATE_TIME_SEPARATOR);
      return dateTime.length == 2 && date(dateTime[0]) && time(dateTime[1], true);
    }
    var NOT_URI_FRAGMENT = /\/|:/;
    function uri(str) {
      return NOT_URI_FRAGMENT.test(str) && URI.test(str);
    }
    var Z_ANCHOR = /[^\\]\\Z/;
    function regex(str) {
      if (Z_ANCHOR.test(str)) return false;
      try {
        new RegExp(str);
        return true;
      } catch (e) {
        return false;
      }
    }
    return formats_1;
  }
  var ref;
  var hasRequiredRef;
  function requireRef() {
    if (hasRequiredRef) return ref;
    hasRequiredRef = 1;
    ref = function generate_ref(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $valid = "valid" + $lvl;
      var $async, $refCode;
      if ($schema2 == "#" || $schema2 == "#/") {
        if (it.isRoot) {
          $async = it.async;
          $refCode = "validate";
        } else {
          $async = it.root.schema.$async === true;
          $refCode = "root.refVal[0]";
        }
      } else {
        var $refVal = it.resolveRef(it.baseId, $schema2, it.isRoot);
        if ($refVal === void 0) {
          var $message = it.MissingRefError.message(it.baseId, $schema2);
          if (it.opts.missingRefs == "fail") {
            it.logger.error($message);
            var $$outStack = $$outStack || [];
            $$outStack.push(out);
            out = "";
            if (it.createErrors !== false) {
              out += " { keyword: '$ref' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { ref: '" + it.util.escapeQuotes($schema2) + "' } ";
              if (it.opts.messages !== false) {
                out += " , message: 'can\\'t resolve reference " + it.util.escapeQuotes($schema2) + "' ";
              }
              if (it.opts.verbose) {
                out += " , schema: " + it.util.toQuotedString($schema2) + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
              }
              out += " } ";
            } else {
              out += " {} ";
            }
            var __err = out;
            out = $$outStack.pop();
            if (!it.compositeRule && $breakOnError) {
              if (it.async) {
                out += " throw new ValidationError([" + __err + "]); ";
              } else {
                out += " validate.errors = [" + __err + "]; return false; ";
              }
            } else {
              out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
            }
            if ($breakOnError) {
              out += " if (false) { ";
            }
          } else if (it.opts.missingRefs == "ignore") {
            it.logger.warn($message);
            if ($breakOnError) {
              out += " if (true) { ";
            }
          } else {
            throw new it.MissingRefError(it.baseId, $schema2, $message);
          }
        } else if ($refVal.inline) {
          var $it = it.util.copy(it);
          $it.level++;
          var $nextValid = "valid" + $it.level;
          $it.schema = $refVal.schema;
          $it.schemaPath = "";
          $it.errSchemaPath = $schema2;
          var $code = it.validate($it).replace(/validate\.schema/g, $refVal.code);
          out += " " + $code + " ";
          if ($breakOnError) {
            out += " if (" + $nextValid + ") { ";
          }
        } else {
          $async = $refVal.$async === true || it.async && $refVal.$async !== false;
          $refCode = $refVal.code;
        }
      }
      if ($refCode) {
        var $$outStack = $$outStack || [];
        $$outStack.push(out);
        out = "";
        if (it.opts.passContext) {
          out += " " + $refCode + ".call(this, ";
        } else {
          out += " " + $refCode + "( ";
        }
        out += " " + $data + ", (dataPath || '')";
        if (it.errorPath != '""') {
          out += " + " + it.errorPath;
        }
        var $parentData = $dataLvl ? "data" + ($dataLvl - 1 || "") : "parentData", $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : "parentDataProperty";
        out += " , " + $parentData + " , " + $parentDataProperty + ", rootData)  ";
        var __callValidate = out;
        out = $$outStack.pop();
        if ($async) {
          if (!it.async) throw new Error("async schema referenced by sync schema");
          if ($breakOnError) {
            out += " var " + $valid + "; ";
          }
          out += " try { await " + __callValidate + "; ";
          if ($breakOnError) {
            out += " " + $valid + " = true; ";
          }
          out += " } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ";
          if ($breakOnError) {
            out += " " + $valid + " = false; ";
          }
          out += " } ";
          if ($breakOnError) {
            out += " if (" + $valid + ") { ";
          }
        } else {
          out += " if (!" + __callValidate + ") { if (vErrors === null) vErrors = " + $refCode + ".errors; else vErrors = vErrors.concat(" + $refCode + ".errors); errors = vErrors.length; } ";
          if ($breakOnError) {
            out += " else { ";
          }
        }
      }
      return out;
    };
    return ref;
  }
  var allOf;
  var hasRequiredAllOf;
  function requireAllOf() {
    if (hasRequiredAllOf) return allOf;
    hasRequiredAllOf = 1;
    allOf = function generate_allOf(it, $keyword, $ruleType) {
      var out = " ";
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $it = it.util.copy(it);
      var $closingBraces = "";
      $it.level++;
      var $nextValid = "valid" + $it.level;
      var $currentBaseId = $it.baseId, $allSchemasEmpty = true;
      var arr1 = $schema2;
      if (arr1) {
        var $sch, $i = -1, l1 = arr1.length - 1;
        while ($i < l1) {
          $sch = arr1[$i += 1];
          if (it.opts.strictKeywords ? typeof $sch == "object" && Object.keys($sch).length > 0 || $sch === false : it.util.schemaHasRules($sch, it.RULES.all)) {
            $allSchemasEmpty = false;
            $it.schema = $sch;
            $it.schemaPath = $schemaPath + "[" + $i + "]";
            $it.errSchemaPath = $errSchemaPath + "/" + $i;
            out += "  " + it.validate($it) + " ";
            $it.baseId = $currentBaseId;
            if ($breakOnError) {
              out += " if (" + $nextValid + ") { ";
              $closingBraces += "}";
            }
          }
        }
      }
      if ($breakOnError) {
        if ($allSchemasEmpty) {
          out += " if (true) { ";
        } else {
          out += " " + $closingBraces.slice(0, -1) + " ";
        }
      }
      return out;
    };
    return allOf;
  }
  var anyOf;
  var hasRequiredAnyOf;
  function requireAnyOf() {
    if (hasRequiredAnyOf) return anyOf;
    hasRequiredAnyOf = 1;
    anyOf = function generate_anyOf(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $valid = "valid" + $lvl;
      var $errs = "errs__" + $lvl;
      var $it = it.util.copy(it);
      var $closingBraces = "";
      $it.level++;
      var $nextValid = "valid" + $it.level;
      var $noEmptySchema = $schema2.every(function($sch2) {
        return it.opts.strictKeywords ? typeof $sch2 == "object" && Object.keys($sch2).length > 0 || $sch2 === false : it.util.schemaHasRules($sch2, it.RULES.all);
      });
      if ($noEmptySchema) {
        var $currentBaseId = $it.baseId;
        out += " var " + $errs + " = errors; var " + $valid + " = false;  ";
        var $wasComposite = it.compositeRule;
        it.compositeRule = $it.compositeRule = true;
        var arr1 = $schema2;
        if (arr1) {
          var $sch, $i = -1, l1 = arr1.length - 1;
          while ($i < l1) {
            $sch = arr1[$i += 1];
            $it.schema = $sch;
            $it.schemaPath = $schemaPath + "[" + $i + "]";
            $it.errSchemaPath = $errSchemaPath + "/" + $i;
            out += "  " + it.validate($it) + " ";
            $it.baseId = $currentBaseId;
            out += " " + $valid + " = " + $valid + " || " + $nextValid + "; if (!" + $valid + ") { ";
            $closingBraces += "}";
          }
        }
        it.compositeRule = $it.compositeRule = $wasComposite;
        out += " " + $closingBraces + " if (!" + $valid + ") {   var err =   ";
        if (it.createErrors !== false) {
          out += " { keyword: 'anyOf' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: {} ";
          if (it.opts.messages !== false) {
            out += " , message: 'should match some schema in anyOf' ";
          }
          if (it.opts.verbose) {
            out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
          }
          out += " } ";
        } else {
          out += " {} ";
        }
        out += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
        if (!it.compositeRule && $breakOnError) {
          if (it.async) {
            out += " throw new ValidationError(vErrors); ";
          } else {
            out += " validate.errors = vErrors; return false; ";
          }
        }
        out += " } else {  errors = " + $errs + "; if (vErrors !== null) { if (" + $errs + ") vErrors.length = " + $errs + "; else vErrors = null; } ";
        if (it.opts.allErrors) {
          out += " } ";
        }
      } else {
        if ($breakOnError) {
          out += " if (true) { ";
        }
      }
      return out;
    };
    return anyOf;
  }
  var comment;
  var hasRequiredComment;
  function requireComment() {
    if (hasRequiredComment) return comment;
    hasRequiredComment = 1;
    comment = function generate_comment(it, $keyword, $ruleType) {
      var out = " ";
      var $schema2 = it.schema[$keyword];
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      !it.opts.allErrors;
      var $comment = it.util.toQuotedString($schema2);
      if (it.opts.$comment === true) {
        out += " console.log(" + $comment + ");";
      } else if (typeof it.opts.$comment == "function") {
        out += " self._opts.$comment(" + $comment + ", " + it.util.toQuotedString($errSchemaPath) + ", validate.root.schema);";
      }
      return out;
    };
    return comment;
  }
  var _const;
  var hasRequired_const;
  function require_const() {
    if (hasRequired_const) return _const;
    hasRequired_const = 1;
    _const = function generate_const(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $valid = "valid" + $lvl;
      var $isData = it.opts.$data && $schema2 && $schema2.$data;
      if ($isData) {
        out += " var schema" + $lvl + " = " + it.util.getData($schema2.$data, $dataLvl, it.dataPathArr) + "; ";
      }
      if (!$isData) {
        out += " var schema" + $lvl + " = validate.schema" + $schemaPath + ";";
      }
      out += "var " + $valid + " = equal(" + $data + ", schema" + $lvl + "); if (!" + $valid + ") {   ";
      var $$outStack = $$outStack || [];
      $$outStack.push(out);
      out = "";
      if (it.createErrors !== false) {
        out += " { keyword: 'const' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { allowedValue: schema" + $lvl + " } ";
        if (it.opts.messages !== false) {
          out += " , message: 'should be equal to constant' ";
        }
        if (it.opts.verbose) {
          out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
        }
        out += " } ";
      } else {
        out += " {} ";
      }
      var __err = out;
      out = $$outStack.pop();
      if (!it.compositeRule && $breakOnError) {
        if (it.async) {
          out += " throw new ValidationError([" + __err + "]); ";
        } else {
          out += " validate.errors = [" + __err + "]; return false; ";
        }
      } else {
        out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
      }
      out += " }";
      if ($breakOnError) {
        out += " else { ";
      }
      return out;
    };
    return _const;
  }
  var contains;
  var hasRequiredContains;
  function requireContains() {
    if (hasRequiredContains) return contains;
    hasRequiredContains = 1;
    contains = function generate_contains(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $valid = "valid" + $lvl;
      var $errs = "errs__" + $lvl;
      var $it = it.util.copy(it);
      var $closingBraces = "";
      $it.level++;
      var $nextValid = "valid" + $it.level;
      var $idx = "i" + $lvl, $dataNxt = $it.dataLevel = it.dataLevel + 1, $nextData = "data" + $dataNxt, $currentBaseId = it.baseId, $nonEmptySchema = it.opts.strictKeywords ? typeof $schema2 == "object" && Object.keys($schema2).length > 0 || $schema2 === false : it.util.schemaHasRules($schema2, it.RULES.all);
      out += "var " + $errs + " = errors;var " + $valid + ";";
      if ($nonEmptySchema) {
        var $wasComposite = it.compositeRule;
        it.compositeRule = $it.compositeRule = true;
        $it.schema = $schema2;
        $it.schemaPath = $schemaPath;
        $it.errSchemaPath = $errSchemaPath;
        out += " var " + $nextValid + " = false; for (var " + $idx + " = 0; " + $idx + " < " + $data + ".length; " + $idx + "++) { ";
        $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);
        var $passData = $data + "[" + $idx + "]";
        $it.dataPathArr[$dataNxt] = $idx;
        var $code = it.validate($it);
        $it.baseId = $currentBaseId;
        if (it.util.varOccurences($code, $nextData) < 2) {
          out += " " + it.util.varReplace($code, $nextData, $passData) + " ";
        } else {
          out += " var " + $nextData + " = " + $passData + "; " + $code + " ";
        }
        out += " if (" + $nextValid + ") break; }  ";
        it.compositeRule = $it.compositeRule = $wasComposite;
        out += " " + $closingBraces + " if (!" + $nextValid + ") {";
      } else {
        out += " if (" + $data + ".length == 0) {";
      }
      var $$outStack = $$outStack || [];
      $$outStack.push(out);
      out = "";
      if (it.createErrors !== false) {
        out += " { keyword: 'contains' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: {} ";
        if (it.opts.messages !== false) {
          out += " , message: 'should contain a valid item' ";
        }
        if (it.opts.verbose) {
          out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
        }
        out += " } ";
      } else {
        out += " {} ";
      }
      var __err = out;
      out = $$outStack.pop();
      if (!it.compositeRule && $breakOnError) {
        if (it.async) {
          out += " throw new ValidationError([" + __err + "]); ";
        } else {
          out += " validate.errors = [" + __err + "]; return false; ";
        }
      } else {
        out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
      }
      out += " } else { ";
      if ($nonEmptySchema) {
        out += "  errors = " + $errs + "; if (vErrors !== null) { if (" + $errs + ") vErrors.length = " + $errs + "; else vErrors = null; } ";
      }
      if (it.opts.allErrors) {
        out += " } ";
      }
      return out;
    };
    return contains;
  }
  var dependencies;
  var hasRequiredDependencies;
  function requireDependencies() {
    if (hasRequiredDependencies) return dependencies;
    hasRequiredDependencies = 1;
    dependencies = function generate_dependencies(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $errs = "errs__" + $lvl;
      var $it = it.util.copy(it);
      var $closingBraces = "";
      $it.level++;
      var $nextValid = "valid" + $it.level;
      var $schemaDeps = {}, $propertyDeps = {}, $ownProperties = it.opts.ownProperties;
      for ($property in $schema2) {
        if ($property == "__proto__") continue;
        var $sch = $schema2[$property];
        var $deps = Array.isArray($sch) ? $propertyDeps : $schemaDeps;
        $deps[$property] = $sch;
      }
      out += "var " + $errs + " = errors;";
      var $currentErrorPath = it.errorPath;
      out += "var missing" + $lvl + ";";
      for (var $property in $propertyDeps) {
        $deps = $propertyDeps[$property];
        if ($deps.length) {
          out += " if ( " + $data + it.util.getProperty($property) + " !== undefined ";
          if ($ownProperties) {
            out += " && Object.prototype.hasOwnProperty.call(" + $data + ", '" + it.util.escapeQuotes($property) + "') ";
          }
          if ($breakOnError) {
            out += " && ( ";
            var arr1 = $deps;
            if (arr1) {
              var $propertyKey, $i = -1, l1 = arr1.length - 1;
              while ($i < l1) {
                $propertyKey = arr1[$i += 1];
                if ($i) {
                  out += " || ";
                }
                var $prop = it.util.getProperty($propertyKey), $useData = $data + $prop;
                out += " ( ( " + $useData + " === undefined ";
                if ($ownProperties) {
                  out += " || ! Object.prototype.hasOwnProperty.call(" + $data + ", '" + it.util.escapeQuotes($propertyKey) + "') ";
                }
                out += ") && (missing" + $lvl + " = " + it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop) + ") ) ";
              }
            }
            out += ")) {  ";
            var $propertyPath = "missing" + $lvl, $missingProperty = "' + " + $propertyPath + " + '";
            if (it.opts._errorDataPathProperty) {
              it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + " + " + $propertyPath;
            }
            var $$outStack = $$outStack || [];
            $$outStack.push(out);
            out = "";
            if (it.createErrors !== false) {
              out += " { keyword: 'dependencies' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { property: '" + it.util.escapeQuotes($property) + "', missingProperty: '" + $missingProperty + "', depsCount: " + $deps.length + ", deps: '" + it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(", ")) + "' } ";
              if (it.opts.messages !== false) {
                out += " , message: 'should have ";
                if ($deps.length == 1) {
                  out += "property " + it.util.escapeQuotes($deps[0]);
                } else {
                  out += "properties " + it.util.escapeQuotes($deps.join(", "));
                }
                out += " when property " + it.util.escapeQuotes($property) + " is present' ";
              }
              if (it.opts.verbose) {
                out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
              }
              out += " } ";
            } else {
              out += " {} ";
            }
            var __err = out;
            out = $$outStack.pop();
            if (!it.compositeRule && $breakOnError) {
              if (it.async) {
                out += " throw new ValidationError([" + __err + "]); ";
              } else {
                out += " validate.errors = [" + __err + "]; return false; ";
              }
            } else {
              out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
            }
          } else {
            out += " ) { ";
            var arr2 = $deps;
            if (arr2) {
              var $propertyKey, i2 = -1, l2 = arr2.length - 1;
              while (i2 < l2) {
                $propertyKey = arr2[i2 += 1];
                var $prop = it.util.getProperty($propertyKey), $missingProperty = it.util.escapeQuotes($propertyKey), $useData = $data + $prop;
                if (it.opts._errorDataPathProperty) {
                  it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);
                }
                out += " if ( " + $useData + " === undefined ";
                if ($ownProperties) {
                  out += " || ! Object.prototype.hasOwnProperty.call(" + $data + ", '" + it.util.escapeQuotes($propertyKey) + "') ";
                }
                out += ") {  var err =   ";
                if (it.createErrors !== false) {
                  out += " { keyword: 'dependencies' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { property: '" + it.util.escapeQuotes($property) + "', missingProperty: '" + $missingProperty + "', depsCount: " + $deps.length + ", deps: '" + it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(", ")) + "' } ";
                  if (it.opts.messages !== false) {
                    out += " , message: 'should have ";
                    if ($deps.length == 1) {
                      out += "property " + it.util.escapeQuotes($deps[0]);
                    } else {
                      out += "properties " + it.util.escapeQuotes($deps.join(", "));
                    }
                    out += " when property " + it.util.escapeQuotes($property) + " is present' ";
                  }
                  if (it.opts.verbose) {
                    out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
                  }
                  out += " } ";
                } else {
                  out += " {} ";
                }
                out += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ";
              }
            }
          }
          out += " }   ";
          if ($breakOnError) {
            $closingBraces += "}";
            out += " else { ";
          }
        }
      }
      it.errorPath = $currentErrorPath;
      var $currentBaseId = $it.baseId;
      for (var $property in $schemaDeps) {
        var $sch = $schemaDeps[$property];
        if (it.opts.strictKeywords ? typeof $sch == "object" && Object.keys($sch).length > 0 || $sch === false : it.util.schemaHasRules($sch, it.RULES.all)) {
          out += " " + $nextValid + " = true; if ( " + $data + it.util.getProperty($property) + " !== undefined ";
          if ($ownProperties) {
            out += " && Object.prototype.hasOwnProperty.call(" + $data + ", '" + it.util.escapeQuotes($property) + "') ";
          }
          out += ") { ";
          $it.schema = $sch;
          $it.schemaPath = $schemaPath + it.util.getProperty($property);
          $it.errSchemaPath = $errSchemaPath + "/" + it.util.escapeFragment($property);
          out += "  " + it.validate($it) + " ";
          $it.baseId = $currentBaseId;
          out += " }  ";
          if ($breakOnError) {
            out += " if (" + $nextValid + ") { ";
            $closingBraces += "}";
          }
        }
      }
      if ($breakOnError) {
        out += "   " + $closingBraces + " if (" + $errs + " == errors) {";
      }
      return out;
    };
    return dependencies;
  }
  var _enum;
  var hasRequired_enum;
  function require_enum() {
    if (hasRequired_enum) return _enum;
    hasRequired_enum = 1;
    _enum = function generate_enum(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $valid = "valid" + $lvl;
      var $isData = it.opts.$data && $schema2 && $schema2.$data;
      if ($isData) {
        out += " var schema" + $lvl + " = " + it.util.getData($schema2.$data, $dataLvl, it.dataPathArr) + "; ";
      }
      var $i = "i" + $lvl, $vSchema = "schema" + $lvl;
      if (!$isData) {
        out += " var " + $vSchema + " = validate.schema" + $schemaPath + ";";
      }
      out += "var " + $valid + ";";
      if ($isData) {
        out += " if (schema" + $lvl + " === undefined) " + $valid + " = true; else if (!Array.isArray(schema" + $lvl + ")) " + $valid + " = false; else {";
      }
      out += "" + $valid + " = false;for (var " + $i + "=0; " + $i + "<" + $vSchema + ".length; " + $i + "++) if (equal(" + $data + ", " + $vSchema + "[" + $i + "])) { " + $valid + " = true; break; }";
      if ($isData) {
        out += "  }  ";
      }
      out += " if (!" + $valid + ") {   ";
      var $$outStack = $$outStack || [];
      $$outStack.push(out);
      out = "";
      if (it.createErrors !== false) {
        out += " { keyword: 'enum' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { allowedValues: schema" + $lvl + " } ";
        if (it.opts.messages !== false) {
          out += " , message: 'should be equal to one of the allowed values' ";
        }
        if (it.opts.verbose) {
          out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
        }
        out += " } ";
      } else {
        out += " {} ";
      }
      var __err = out;
      out = $$outStack.pop();
      if (!it.compositeRule && $breakOnError) {
        if (it.async) {
          out += " throw new ValidationError([" + __err + "]); ";
        } else {
          out += " validate.errors = [" + __err + "]; return false; ";
        }
      } else {
        out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
      }
      out += " }";
      if ($breakOnError) {
        out += " else { ";
      }
      return out;
    };
    return _enum;
  }
  var format;
  var hasRequiredFormat;
  function requireFormat() {
    if (hasRequiredFormat) return format;
    hasRequiredFormat = 1;
    format = function generate_format(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      if (it.opts.format === false) {
        if ($breakOnError) {
          out += " if (true) { ";
        }
        return out;
      }
      var $isData = it.opts.$data && $schema2 && $schema2.$data, $schemaValue;
      if ($isData) {
        out += " var schema" + $lvl + " = " + it.util.getData($schema2.$data, $dataLvl, it.dataPathArr) + "; ";
        $schemaValue = "schema" + $lvl;
      } else {
        $schemaValue = $schema2;
      }
      var $unknownFormats = it.opts.unknownFormats, $allowUnknown = Array.isArray($unknownFormats);
      if ($isData) {
        var $format = "format" + $lvl, $isObject = "isObject" + $lvl, $formatType = "formatType" + $lvl;
        out += " var " + $format + " = formats[" + $schemaValue + "]; var " + $isObject + " = typeof " + $format + " == 'object' && !(" + $format + " instanceof RegExp) && " + $format + ".validate; var " + $formatType + " = " + $isObject + " && " + $format + ".type || 'string'; if (" + $isObject + ") { ";
        if (it.async) {
          out += " var async" + $lvl + " = " + $format + ".async; ";
        }
        out += " " + $format + " = " + $format + ".validate; } if (  ";
        if ($isData) {
          out += " (" + $schemaValue + " !== undefined && typeof " + $schemaValue + " != 'string') || ";
        }
        out += " (";
        if ($unknownFormats != "ignore") {
          out += " (" + $schemaValue + " && !" + $format + " ";
          if ($allowUnknown) {
            out += " && self._opts.unknownFormats.indexOf(" + $schemaValue + ") == -1 ";
          }
          out += ") || ";
        }
        out += " (" + $format + " && " + $formatType + " == '" + $ruleType + "' && !(typeof " + $format + " == 'function' ? ";
        if (it.async) {
          out += " (async" + $lvl + " ? await " + $format + "(" + $data + ") : " + $format + "(" + $data + ")) ";
        } else {
          out += " " + $format + "(" + $data + ") ";
        }
        out += " : " + $format + ".test(" + $data + "))))) {";
      } else {
        var $format = it.formats[$schema2];
        if (!$format) {
          if ($unknownFormats == "ignore") {
            it.logger.warn('unknown format "' + $schema2 + '" ignored in schema at path "' + it.errSchemaPath + '"');
            if ($breakOnError) {
              out += " if (true) { ";
            }
            return out;
          } else if ($allowUnknown && $unknownFormats.indexOf($schema2) >= 0) {
            if ($breakOnError) {
              out += " if (true) { ";
            }
            return out;
          } else {
            throw new Error('unknown format "' + $schema2 + '" is used in schema at path "' + it.errSchemaPath + '"');
          }
        }
        var $isObject = typeof $format == "object" && !($format instanceof RegExp) && $format.validate;
        var $formatType = $isObject && $format.type || "string";
        if ($isObject) {
          var $async = $format.async === true;
          $format = $format.validate;
        }
        if ($formatType != $ruleType) {
          if ($breakOnError) {
            out += " if (true) { ";
          }
          return out;
        }
        if ($async) {
          if (!it.async) throw new Error("async format in sync schema");
          var $formatRef = "formats" + it.util.getProperty($schema2) + ".validate";
          out += " if (!(await " + $formatRef + "(" + $data + "))) { ";
        } else {
          out += " if (! ";
          var $formatRef = "formats" + it.util.getProperty($schema2);
          if ($isObject) $formatRef += ".validate";
          if (typeof $format == "function") {
            out += " " + $formatRef + "(" + $data + ") ";
          } else {
            out += " " + $formatRef + ".test(" + $data + ") ";
          }
          out += ") { ";
        }
      }
      var $$outStack = $$outStack || [];
      $$outStack.push(out);
      out = "";
      if (it.createErrors !== false) {
        out += " { keyword: 'format' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { format:  ";
        if ($isData) {
          out += "" + $schemaValue;
        } else {
          out += "" + it.util.toQuotedString($schema2);
        }
        out += "  } ";
        if (it.opts.messages !== false) {
          out += ` , message: 'should match format "`;
          if ($isData) {
            out += "' + " + $schemaValue + " + '";
          } else {
            out += "" + it.util.escapeQuotes($schema2);
          }
          out += `"' `;
        }
        if (it.opts.verbose) {
          out += " , schema:  ";
          if ($isData) {
            out += "validate.schema" + $schemaPath;
          } else {
            out += "" + it.util.toQuotedString($schema2);
          }
          out += "         , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
        }
        out += " } ";
      } else {
        out += " {} ";
      }
      var __err = out;
      out = $$outStack.pop();
      if (!it.compositeRule && $breakOnError) {
        if (it.async) {
          out += " throw new ValidationError([" + __err + "]); ";
        } else {
          out += " validate.errors = [" + __err + "]; return false; ";
        }
      } else {
        out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
      }
      out += " } ";
      if ($breakOnError) {
        out += " else { ";
      }
      return out;
    };
    return format;
  }
  var _if;
  var hasRequired_if;
  function require_if() {
    if (hasRequired_if) return _if;
    hasRequired_if = 1;
    _if = function generate_if(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $valid = "valid" + $lvl;
      var $errs = "errs__" + $lvl;
      var $it = it.util.copy(it);
      $it.level++;
      var $nextValid = "valid" + $it.level;
      var $thenSch = it.schema["then"], $elseSch = it.schema["else"], $thenPresent = $thenSch !== void 0 && (it.opts.strictKeywords ? typeof $thenSch == "object" && Object.keys($thenSch).length > 0 || $thenSch === false : it.util.schemaHasRules($thenSch, it.RULES.all)), $elsePresent = $elseSch !== void 0 && (it.opts.strictKeywords ? typeof $elseSch == "object" && Object.keys($elseSch).length > 0 || $elseSch === false : it.util.schemaHasRules($elseSch, it.RULES.all)), $currentBaseId = $it.baseId;
      if ($thenPresent || $elsePresent) {
        var $ifClause;
        $it.createErrors = false;
        $it.schema = $schema2;
        $it.schemaPath = $schemaPath;
        $it.errSchemaPath = $errSchemaPath;
        out += " var " + $errs + " = errors; var " + $valid + " = true;  ";
        var $wasComposite = it.compositeRule;
        it.compositeRule = $it.compositeRule = true;
        out += "  " + it.validate($it) + " ";
        $it.baseId = $currentBaseId;
        $it.createErrors = true;
        out += "  errors = " + $errs + "; if (vErrors !== null) { if (" + $errs + ") vErrors.length = " + $errs + "; else vErrors = null; }  ";
        it.compositeRule = $it.compositeRule = $wasComposite;
        if ($thenPresent) {
          out += " if (" + $nextValid + ") {  ";
          $it.schema = it.schema["then"];
          $it.schemaPath = it.schemaPath + ".then";
          $it.errSchemaPath = it.errSchemaPath + "/then";
          out += "  " + it.validate($it) + " ";
          $it.baseId = $currentBaseId;
          out += " " + $valid + " = " + $nextValid + "; ";
          if ($thenPresent && $elsePresent) {
            $ifClause = "ifClause" + $lvl;
            out += " var " + $ifClause + " = 'then'; ";
          } else {
            $ifClause = "'then'";
          }
          out += " } ";
          if ($elsePresent) {
            out += " else { ";
          }
        } else {
          out += " if (!" + $nextValid + ") { ";
        }
        if ($elsePresent) {
          $it.schema = it.schema["else"];
          $it.schemaPath = it.schemaPath + ".else";
          $it.errSchemaPath = it.errSchemaPath + "/else";
          out += "  " + it.validate($it) + " ";
          $it.baseId = $currentBaseId;
          out += " " + $valid + " = " + $nextValid + "; ";
          if ($thenPresent && $elsePresent) {
            $ifClause = "ifClause" + $lvl;
            out += " var " + $ifClause + " = 'else'; ";
          } else {
            $ifClause = "'else'";
          }
          out += " } ";
        }
        out += " if (!" + $valid + ") {   var err =   ";
        if (it.createErrors !== false) {
          out += " { keyword: 'if' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { failingKeyword: " + $ifClause + " } ";
          if (it.opts.messages !== false) {
            out += ` , message: 'should match "' + ` + $ifClause + ` + '" schema' `;
          }
          if (it.opts.verbose) {
            out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
          }
          out += " } ";
        } else {
          out += " {} ";
        }
        out += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
        if (!it.compositeRule && $breakOnError) {
          if (it.async) {
            out += " throw new ValidationError(vErrors); ";
          } else {
            out += " validate.errors = vErrors; return false; ";
          }
        }
        out += " }   ";
        if ($breakOnError) {
          out += " else { ";
        }
      } else {
        if ($breakOnError) {
          out += " if (true) { ";
        }
      }
      return out;
    };
    return _if;
  }
  var items;
  var hasRequiredItems;
  function requireItems() {
    if (hasRequiredItems) return items;
    hasRequiredItems = 1;
    items = function generate_items(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $valid = "valid" + $lvl;
      var $errs = "errs__" + $lvl;
      var $it = it.util.copy(it);
      var $closingBraces = "";
      $it.level++;
      var $nextValid = "valid" + $it.level;
      var $idx = "i" + $lvl, $dataNxt = $it.dataLevel = it.dataLevel + 1, $nextData = "data" + $dataNxt, $currentBaseId = it.baseId;
      out += "var " + $errs + " = errors;var " + $valid + ";";
      if (Array.isArray($schema2)) {
        var $additionalItems = it.schema.additionalItems;
        if ($additionalItems === false) {
          out += " " + $valid + " = " + $data + ".length <= " + $schema2.length + "; ";
          var $currErrSchemaPath = $errSchemaPath;
          $errSchemaPath = it.errSchemaPath + "/additionalItems";
          out += "  if (!" + $valid + ") {   ";
          var $$outStack = $$outStack || [];
          $$outStack.push(out);
          out = "";
          if (it.createErrors !== false) {
            out += " { keyword: 'additionalItems' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { limit: " + $schema2.length + " } ";
            if (it.opts.messages !== false) {
              out += " , message: 'should NOT have more than " + $schema2.length + " items' ";
            }
            if (it.opts.verbose) {
              out += " , schema: false , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
            }
            out += " } ";
          } else {
            out += " {} ";
          }
          var __err = out;
          out = $$outStack.pop();
          if (!it.compositeRule && $breakOnError) {
            if (it.async) {
              out += " throw new ValidationError([" + __err + "]); ";
            } else {
              out += " validate.errors = [" + __err + "]; return false; ";
            }
          } else {
            out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
          }
          out += " } ";
          $errSchemaPath = $currErrSchemaPath;
          if ($breakOnError) {
            $closingBraces += "}";
            out += " else { ";
          }
        }
        var arr1 = $schema2;
        if (arr1) {
          var $sch, $i = -1, l1 = arr1.length - 1;
          while ($i < l1) {
            $sch = arr1[$i += 1];
            if (it.opts.strictKeywords ? typeof $sch == "object" && Object.keys($sch).length > 0 || $sch === false : it.util.schemaHasRules($sch, it.RULES.all)) {
              out += " " + $nextValid + " = true; if (" + $data + ".length > " + $i + ") { ";
              var $passData = $data + "[" + $i + "]";
              $it.schema = $sch;
              $it.schemaPath = $schemaPath + "[" + $i + "]";
              $it.errSchemaPath = $errSchemaPath + "/" + $i;
              $it.errorPath = it.util.getPathExpr(it.errorPath, $i, it.opts.jsonPointers, true);
              $it.dataPathArr[$dataNxt] = $i;
              var $code = it.validate($it);
              $it.baseId = $currentBaseId;
              if (it.util.varOccurences($code, $nextData) < 2) {
                out += " " + it.util.varReplace($code, $nextData, $passData) + " ";
              } else {
                out += " var " + $nextData + " = " + $passData + "; " + $code + " ";
              }
              out += " }  ";
              if ($breakOnError) {
                out += " if (" + $nextValid + ") { ";
                $closingBraces += "}";
              }
            }
          }
        }
        if (typeof $additionalItems == "object" && (it.opts.strictKeywords ? typeof $additionalItems == "object" && Object.keys($additionalItems).length > 0 || $additionalItems === false : it.util.schemaHasRules($additionalItems, it.RULES.all))) {
          $it.schema = $additionalItems;
          $it.schemaPath = it.schemaPath + ".additionalItems";
          $it.errSchemaPath = it.errSchemaPath + "/additionalItems";
          out += " " + $nextValid + " = true; if (" + $data + ".length > " + $schema2.length + ") {  for (var " + $idx + " = " + $schema2.length + "; " + $idx + " < " + $data + ".length; " + $idx + "++) { ";
          $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);
          var $passData = $data + "[" + $idx + "]";
          $it.dataPathArr[$dataNxt] = $idx;
          var $code = it.validate($it);
          $it.baseId = $currentBaseId;
          if (it.util.varOccurences($code, $nextData) < 2) {
            out += " " + it.util.varReplace($code, $nextData, $passData) + " ";
          } else {
            out += " var " + $nextData + " = " + $passData + "; " + $code + " ";
          }
          if ($breakOnError) {
            out += " if (!" + $nextValid + ") break; ";
          }
          out += " } }  ";
          if ($breakOnError) {
            out += " if (" + $nextValid + ") { ";
            $closingBraces += "}";
          }
        }
      } else if (it.opts.strictKeywords ? typeof $schema2 == "object" && Object.keys($schema2).length > 0 || $schema2 === false : it.util.schemaHasRules($schema2, it.RULES.all)) {
        $it.schema = $schema2;
        $it.schemaPath = $schemaPath;
        $it.errSchemaPath = $errSchemaPath;
        out += "  for (var " + $idx + " = 0; " + $idx + " < " + $data + ".length; " + $idx + "++) { ";
        $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);
        var $passData = $data + "[" + $idx + "]";
        $it.dataPathArr[$dataNxt] = $idx;
        var $code = it.validate($it);
        $it.baseId = $currentBaseId;
        if (it.util.varOccurences($code, $nextData) < 2) {
          out += " " + it.util.varReplace($code, $nextData, $passData) + " ";
        } else {
          out += " var " + $nextData + " = " + $passData + "; " + $code + " ";
        }
        if ($breakOnError) {
          out += " if (!" + $nextValid + ") break; ";
        }
        out += " }";
      }
      if ($breakOnError) {
        out += " " + $closingBraces + " if (" + $errs + " == errors) {";
      }
      return out;
    };
    return items;
  }
  var _limit;
  var hasRequired_limit;
  function require_limit() {
    if (hasRequired_limit) return _limit;
    hasRequired_limit = 1;
    _limit = function generate__limit(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $errorKeyword;
      var $data = "data" + ($dataLvl || "");
      var $isData = it.opts.$data && $schema2 && $schema2.$data, $schemaValue;
      if ($isData) {
        out += " var schema" + $lvl + " = " + it.util.getData($schema2.$data, $dataLvl, it.dataPathArr) + "; ";
        $schemaValue = "schema" + $lvl;
      } else {
        $schemaValue = $schema2;
      }
      var $isMax = $keyword == "maximum", $exclusiveKeyword = $isMax ? "exclusiveMaximum" : "exclusiveMinimum", $schemaExcl = it.schema[$exclusiveKeyword], $isDataExcl = it.opts.$data && $schemaExcl && $schemaExcl.$data, $op = $isMax ? "<" : ">", $notOp = $isMax ? ">" : "<", $errorKeyword = void 0;
      if (!($isData || typeof $schema2 == "number" || $schema2 === void 0)) {
        throw new Error($keyword + " must be number");
      }
      if (!($isDataExcl || $schemaExcl === void 0 || typeof $schemaExcl == "number" || typeof $schemaExcl == "boolean")) {
        throw new Error($exclusiveKeyword + " must be number or boolean");
      }
      if ($isDataExcl) {
        var $schemaValueExcl = it.util.getData($schemaExcl.$data, $dataLvl, it.dataPathArr), $exclusive = "exclusive" + $lvl, $exclType = "exclType" + $lvl, $exclIsNumber = "exclIsNumber" + $lvl, $opExpr = "op" + $lvl, $opStr = "' + " + $opExpr + " + '";
        out += " var schemaExcl" + $lvl + " = " + $schemaValueExcl + "; ";
        $schemaValueExcl = "schemaExcl" + $lvl;
        out += " var " + $exclusive + "; var " + $exclType + " = typeof " + $schemaValueExcl + "; if (" + $exclType + " != 'boolean' && " + $exclType + " != 'undefined' && " + $exclType + " != 'number') { ";
        var $errorKeyword = $exclusiveKeyword;
        var $$outStack = $$outStack || [];
        $$outStack.push(out);
        out = "";
        if (it.createErrors !== false) {
          out += " { keyword: '" + ($errorKeyword || "_exclusiveLimit") + "' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: {} ";
          if (it.opts.messages !== false) {
            out += " , message: '" + $exclusiveKeyword + " should be boolean' ";
          }
          if (it.opts.verbose) {
            out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
          }
          out += " } ";
        } else {
          out += " {} ";
        }
        var __err = out;
        out = $$outStack.pop();
        if (!it.compositeRule && $breakOnError) {
          if (it.async) {
            out += " throw new ValidationError([" + __err + "]); ";
          } else {
            out += " validate.errors = [" + __err + "]; return false; ";
          }
        } else {
          out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
        }
        out += " } else if ( ";
        if ($isData) {
          out += " (" + $schemaValue + " !== undefined && typeof " + $schemaValue + " != 'number') || ";
        }
        out += " " + $exclType + " == 'number' ? ( (" + $exclusive + " = " + $schemaValue + " === undefined || " + $schemaValueExcl + " " + $op + "= " + $schemaValue + ") ? " + $data + " " + $notOp + "= " + $schemaValueExcl + " : " + $data + " " + $notOp + " " + $schemaValue + " ) : ( (" + $exclusive + " = " + $schemaValueExcl + " === true) ? " + $data + " " + $notOp + "= " + $schemaValue + " : " + $data + " " + $notOp + " " + $schemaValue + " ) || " + $data + " !== " + $data + ") { var op" + $lvl + " = " + $exclusive + " ? '" + $op + "' : '" + $op + "='; ";
        if ($schema2 === void 0) {
          $errorKeyword = $exclusiveKeyword;
          $errSchemaPath = it.errSchemaPath + "/" + $exclusiveKeyword;
          $schemaValue = $schemaValueExcl;
          $isData = $isDataExcl;
        }
      } else {
        var $exclIsNumber = typeof $schemaExcl == "number", $opStr = $op;
        if ($exclIsNumber && $isData) {
          var $opExpr = "'" + $opStr + "'";
          out += " if ( ";
          if ($isData) {
            out += " (" + $schemaValue + " !== undefined && typeof " + $schemaValue + " != 'number') || ";
          }
          out += " ( " + $schemaValue + " === undefined || " + $schemaExcl + " " + $op + "= " + $schemaValue + " ? " + $data + " " + $notOp + "= " + $schemaExcl + " : " + $data + " " + $notOp + " " + $schemaValue + " ) || " + $data + " !== " + $data + ") { ";
        } else {
          if ($exclIsNumber && $schema2 === void 0) {
            $exclusive = true;
            $errorKeyword = $exclusiveKeyword;
            $errSchemaPath = it.errSchemaPath + "/" + $exclusiveKeyword;
            $schemaValue = $schemaExcl;
            $notOp += "=";
          } else {
            if ($exclIsNumber) $schemaValue = Math[$isMax ? "min" : "max"]($schemaExcl, $schema2);
            if ($schemaExcl === ($exclIsNumber ? $schemaValue : true)) {
              $exclusive = true;
              $errorKeyword = $exclusiveKeyword;
              $errSchemaPath = it.errSchemaPath + "/" + $exclusiveKeyword;
              $notOp += "=";
            } else {
              $exclusive = false;
              $opStr += "=";
            }
          }
          var $opExpr = "'" + $opStr + "'";
          out += " if ( ";
          if ($isData) {
            out += " (" + $schemaValue + " !== undefined && typeof " + $schemaValue + " != 'number') || ";
          }
          out += " " + $data + " " + $notOp + " " + $schemaValue + " || " + $data + " !== " + $data + ") { ";
        }
      }
      $errorKeyword = $errorKeyword || $keyword;
      var $$outStack = $$outStack || [];
      $$outStack.push(out);
      out = "";
      if (it.createErrors !== false) {
        out += " { keyword: '" + ($errorKeyword || "_limit") + "' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { comparison: " + $opExpr + ", limit: " + $schemaValue + ", exclusive: " + $exclusive + " } ";
        if (it.opts.messages !== false) {
          out += " , message: 'should be " + $opStr + " ";
          if ($isData) {
            out += "' + " + $schemaValue;
          } else {
            out += "" + $schemaValue + "'";
          }
        }
        if (it.opts.verbose) {
          out += " , schema:  ";
          if ($isData) {
            out += "validate.schema" + $schemaPath;
          } else {
            out += "" + $schema2;
          }
          out += "         , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
        }
        out += " } ";
      } else {
        out += " {} ";
      }
      var __err = out;
      out = $$outStack.pop();
      if (!it.compositeRule && $breakOnError) {
        if (it.async) {
          out += " throw new ValidationError([" + __err + "]); ";
        } else {
          out += " validate.errors = [" + __err + "]; return false; ";
        }
      } else {
        out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
      }
      out += " } ";
      if ($breakOnError) {
        out += " else { ";
      }
      return out;
    };
    return _limit;
  }
  var _limitItems;
  var hasRequired_limitItems;
  function require_limitItems() {
    if (hasRequired_limitItems) return _limitItems;
    hasRequired_limitItems = 1;
    _limitItems = function generate__limitItems(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $errorKeyword;
      var $data = "data" + ($dataLvl || "");
      var $isData = it.opts.$data && $schema2 && $schema2.$data, $schemaValue;
      if ($isData) {
        out += " var schema" + $lvl + " = " + it.util.getData($schema2.$data, $dataLvl, it.dataPathArr) + "; ";
        $schemaValue = "schema" + $lvl;
      } else {
        $schemaValue = $schema2;
      }
      if (!($isData || typeof $schema2 == "number")) {
        throw new Error($keyword + " must be number");
      }
      var $op = $keyword == "maxItems" ? ">" : "<";
      out += "if ( ";
      if ($isData) {
        out += " (" + $schemaValue + " !== undefined && typeof " + $schemaValue + " != 'number') || ";
      }
      out += " " + $data + ".length " + $op + " " + $schemaValue + ") { ";
      var $errorKeyword = $keyword;
      var $$outStack = $$outStack || [];
      $$outStack.push(out);
      out = "";
      if (it.createErrors !== false) {
        out += " { keyword: '" + ($errorKeyword || "_limitItems") + "' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { limit: " + $schemaValue + " } ";
        if (it.opts.messages !== false) {
          out += " , message: 'should NOT have ";
          if ($keyword == "maxItems") {
            out += "more";
          } else {
            out += "fewer";
          }
          out += " than ";
          if ($isData) {
            out += "' + " + $schemaValue + " + '";
          } else {
            out += "" + $schema2;
          }
          out += " items' ";
        }
        if (it.opts.verbose) {
          out += " , schema:  ";
          if ($isData) {
            out += "validate.schema" + $schemaPath;
          } else {
            out += "" + $schema2;
          }
          out += "         , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
        }
        out += " } ";
      } else {
        out += " {} ";
      }
      var __err = out;
      out = $$outStack.pop();
      if (!it.compositeRule && $breakOnError) {
        if (it.async) {
          out += " throw new ValidationError([" + __err + "]); ";
        } else {
          out += " validate.errors = [" + __err + "]; return false; ";
        }
      } else {
        out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
      }
      out += "} ";
      if ($breakOnError) {
        out += " else { ";
      }
      return out;
    };
    return _limitItems;
  }
  var _limitLength;
  var hasRequired_limitLength;
  function require_limitLength() {
    if (hasRequired_limitLength) return _limitLength;
    hasRequired_limitLength = 1;
    _limitLength = function generate__limitLength(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $errorKeyword;
      var $data = "data" + ($dataLvl || "");
      var $isData = it.opts.$data && $schema2 && $schema2.$data, $schemaValue;
      if ($isData) {
        out += " var schema" + $lvl + " = " + it.util.getData($schema2.$data, $dataLvl, it.dataPathArr) + "; ";
        $schemaValue = "schema" + $lvl;
      } else {
        $schemaValue = $schema2;
      }
      if (!($isData || typeof $schema2 == "number")) {
        throw new Error($keyword + " must be number");
      }
      var $op = $keyword == "maxLength" ? ">" : "<";
      out += "if ( ";
      if ($isData) {
        out += " (" + $schemaValue + " !== undefined && typeof " + $schemaValue + " != 'number') || ";
      }
      if (it.opts.unicode === false) {
        out += " " + $data + ".length ";
      } else {
        out += " ucs2length(" + $data + ") ";
      }
      out += " " + $op + " " + $schemaValue + ") { ";
      var $errorKeyword = $keyword;
      var $$outStack = $$outStack || [];
      $$outStack.push(out);
      out = "";
      if (it.createErrors !== false) {
        out += " { keyword: '" + ($errorKeyword || "_limitLength") + "' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { limit: " + $schemaValue + " } ";
        if (it.opts.messages !== false) {
          out += " , message: 'should NOT be ";
          if ($keyword == "maxLength") {
            out += "longer";
          } else {
            out += "shorter";
          }
          out += " than ";
          if ($isData) {
            out += "' + " + $schemaValue + " + '";
          } else {
            out += "" + $schema2;
          }
          out += " characters' ";
        }
        if (it.opts.verbose) {
          out += " , schema:  ";
          if ($isData) {
            out += "validate.schema" + $schemaPath;
          } else {
            out += "" + $schema2;
          }
          out += "         , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
        }
        out += " } ";
      } else {
        out += " {} ";
      }
      var __err = out;
      out = $$outStack.pop();
      if (!it.compositeRule && $breakOnError) {
        if (it.async) {
          out += " throw new ValidationError([" + __err + "]); ";
        } else {
          out += " validate.errors = [" + __err + "]; return false; ";
        }
      } else {
        out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
      }
      out += "} ";
      if ($breakOnError) {
        out += " else { ";
      }
      return out;
    };
    return _limitLength;
  }
  var _limitProperties;
  var hasRequired_limitProperties;
  function require_limitProperties() {
    if (hasRequired_limitProperties) return _limitProperties;
    hasRequired_limitProperties = 1;
    _limitProperties = function generate__limitProperties(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $errorKeyword;
      var $data = "data" + ($dataLvl || "");
      var $isData = it.opts.$data && $schema2 && $schema2.$data, $schemaValue;
      if ($isData) {
        out += " var schema" + $lvl + " = " + it.util.getData($schema2.$data, $dataLvl, it.dataPathArr) + "; ";
        $schemaValue = "schema" + $lvl;
      } else {
        $schemaValue = $schema2;
      }
      if (!($isData || typeof $schema2 == "number")) {
        throw new Error($keyword + " must be number");
      }
      var $op = $keyword == "maxProperties" ? ">" : "<";
      out += "if ( ";
      if ($isData) {
        out += " (" + $schemaValue + " !== undefined && typeof " + $schemaValue + " != 'number') || ";
      }
      out += " Object.keys(" + $data + ").length " + $op + " " + $schemaValue + ") { ";
      var $errorKeyword = $keyword;
      var $$outStack = $$outStack || [];
      $$outStack.push(out);
      out = "";
      if (it.createErrors !== false) {
        out += " { keyword: '" + ($errorKeyword || "_limitProperties") + "' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { limit: " + $schemaValue + " } ";
        if (it.opts.messages !== false) {
          out += " , message: 'should NOT have ";
          if ($keyword == "maxProperties") {
            out += "more";
          } else {
            out += "fewer";
          }
          out += " than ";
          if ($isData) {
            out += "' + " + $schemaValue + " + '";
          } else {
            out += "" + $schema2;
          }
          out += " properties' ";
        }
        if (it.opts.verbose) {
          out += " , schema:  ";
          if ($isData) {
            out += "validate.schema" + $schemaPath;
          } else {
            out += "" + $schema2;
          }
          out += "         , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
        }
        out += " } ";
      } else {
        out += " {} ";
      }
      var __err = out;
      out = $$outStack.pop();
      if (!it.compositeRule && $breakOnError) {
        if (it.async) {
          out += " throw new ValidationError([" + __err + "]); ";
        } else {
          out += " validate.errors = [" + __err + "]; return false; ";
        }
      } else {
        out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
      }
      out += "} ";
      if ($breakOnError) {
        out += " else { ";
      }
      return out;
    };
    return _limitProperties;
  }
  var multipleOf;
  var hasRequiredMultipleOf;
  function requireMultipleOf() {
    if (hasRequiredMultipleOf) return multipleOf;
    hasRequiredMultipleOf = 1;
    multipleOf = function generate_multipleOf(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $isData = it.opts.$data && $schema2 && $schema2.$data, $schemaValue;
      if ($isData) {
        out += " var schema" + $lvl + " = " + it.util.getData($schema2.$data, $dataLvl, it.dataPathArr) + "; ";
        $schemaValue = "schema" + $lvl;
      } else {
        $schemaValue = $schema2;
      }
      if (!($isData || typeof $schema2 == "number")) {
        throw new Error($keyword + " must be number");
      }
      out += "var division" + $lvl + ";if (";
      if ($isData) {
        out += " " + $schemaValue + " !== undefined && ( typeof " + $schemaValue + " != 'number' || ";
      }
      out += " (division" + $lvl + " = " + $data + " / " + $schemaValue + ", ";
      if (it.opts.multipleOfPrecision) {
        out += " Math.abs(Math.round(division" + $lvl + ") - division" + $lvl + ") > 1e-" + it.opts.multipleOfPrecision + " ";
      } else {
        out += " division" + $lvl + " !== parseInt(division" + $lvl + ") ";
      }
      out += " ) ";
      if ($isData) {
        out += "  )  ";
      }
      out += " ) {   ";
      var $$outStack = $$outStack || [];
      $$outStack.push(out);
      out = "";
      if (it.createErrors !== false) {
        out += " { keyword: 'multipleOf' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { multipleOf: " + $schemaValue + " } ";
        if (it.opts.messages !== false) {
          out += " , message: 'should be multiple of ";
          if ($isData) {
            out += "' + " + $schemaValue;
          } else {
            out += "" + $schemaValue + "'";
          }
        }
        if (it.opts.verbose) {
          out += " , schema:  ";
          if ($isData) {
            out += "validate.schema" + $schemaPath;
          } else {
            out += "" + $schema2;
          }
          out += "         , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
        }
        out += " } ";
      } else {
        out += " {} ";
      }
      var __err = out;
      out = $$outStack.pop();
      if (!it.compositeRule && $breakOnError) {
        if (it.async) {
          out += " throw new ValidationError([" + __err + "]); ";
        } else {
          out += " validate.errors = [" + __err + "]; return false; ";
        }
      } else {
        out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
      }
      out += "} ";
      if ($breakOnError) {
        out += " else { ";
      }
      return out;
    };
    return multipleOf;
  }
  var not;
  var hasRequiredNot;
  function requireNot() {
    if (hasRequiredNot) return not;
    hasRequiredNot = 1;
    not = function generate_not(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $errs = "errs__" + $lvl;
      var $it = it.util.copy(it);
      $it.level++;
      var $nextValid = "valid" + $it.level;
      if (it.opts.strictKeywords ? typeof $schema2 == "object" && Object.keys($schema2).length > 0 || $schema2 === false : it.util.schemaHasRules($schema2, it.RULES.all)) {
        $it.schema = $schema2;
        $it.schemaPath = $schemaPath;
        $it.errSchemaPath = $errSchemaPath;
        out += " var " + $errs + " = errors;  ";
        var $wasComposite = it.compositeRule;
        it.compositeRule = $it.compositeRule = true;
        $it.createErrors = false;
        var $allErrorsOption;
        if ($it.opts.allErrors) {
          $allErrorsOption = $it.opts.allErrors;
          $it.opts.allErrors = false;
        }
        out += " " + it.validate($it) + " ";
        $it.createErrors = true;
        if ($allErrorsOption) $it.opts.allErrors = $allErrorsOption;
        it.compositeRule = $it.compositeRule = $wasComposite;
        out += " if (" + $nextValid + ") {   ";
        var $$outStack = $$outStack || [];
        $$outStack.push(out);
        out = "";
        if (it.createErrors !== false) {
          out += " { keyword: 'not' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: {} ";
          if (it.opts.messages !== false) {
            out += " , message: 'should NOT be valid' ";
          }
          if (it.opts.verbose) {
            out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
          }
          out += " } ";
        } else {
          out += " {} ";
        }
        var __err = out;
        out = $$outStack.pop();
        if (!it.compositeRule && $breakOnError) {
          if (it.async) {
            out += " throw new ValidationError([" + __err + "]); ";
          } else {
            out += " validate.errors = [" + __err + "]; return false; ";
          }
        } else {
          out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
        }
        out += " } else {  errors = " + $errs + "; if (vErrors !== null) { if (" + $errs + ") vErrors.length = " + $errs + "; else vErrors = null; } ";
        if (it.opts.allErrors) {
          out += " } ";
        }
      } else {
        out += "  var err =   ";
        if (it.createErrors !== false) {
          out += " { keyword: 'not' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: {} ";
          if (it.opts.messages !== false) {
            out += " , message: 'should NOT be valid' ";
          }
          if (it.opts.verbose) {
            out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
          }
          out += " } ";
        } else {
          out += " {} ";
        }
        out += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
        if ($breakOnError) {
          out += " if (false) { ";
        }
      }
      return out;
    };
    return not;
  }
  var oneOf;
  var hasRequiredOneOf;
  function requireOneOf() {
    if (hasRequiredOneOf) return oneOf;
    hasRequiredOneOf = 1;
    oneOf = function generate_oneOf(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $valid = "valid" + $lvl;
      var $errs = "errs__" + $lvl;
      var $it = it.util.copy(it);
      var $closingBraces = "";
      $it.level++;
      var $nextValid = "valid" + $it.level;
      var $currentBaseId = $it.baseId, $prevValid = "prevValid" + $lvl, $passingSchemas = "passingSchemas" + $lvl;
      out += "var " + $errs + " = errors , " + $prevValid + " = false , " + $valid + " = false , " + $passingSchemas + " = null; ";
      var $wasComposite = it.compositeRule;
      it.compositeRule = $it.compositeRule = true;
      var arr1 = $schema2;
      if (arr1) {
        var $sch, $i = -1, l1 = arr1.length - 1;
        while ($i < l1) {
          $sch = arr1[$i += 1];
          if (it.opts.strictKeywords ? typeof $sch == "object" && Object.keys($sch).length > 0 || $sch === false : it.util.schemaHasRules($sch, it.RULES.all)) {
            $it.schema = $sch;
            $it.schemaPath = $schemaPath + "[" + $i + "]";
            $it.errSchemaPath = $errSchemaPath + "/" + $i;
            out += "  " + it.validate($it) + " ";
            $it.baseId = $currentBaseId;
          } else {
            out += " var " + $nextValid + " = true; ";
          }
          if ($i) {
            out += " if (" + $nextValid + " && " + $prevValid + ") { " + $valid + " = false; " + $passingSchemas + " = [" + $passingSchemas + ", " + $i + "]; } else { ";
            $closingBraces += "}";
          }
          out += " if (" + $nextValid + ") { " + $valid + " = " + $prevValid + " = true; " + $passingSchemas + " = " + $i + "; }";
        }
      }
      it.compositeRule = $it.compositeRule = $wasComposite;
      out += "" + $closingBraces + "if (!" + $valid + ") {   var err =   ";
      if (it.createErrors !== false) {
        out += " { keyword: 'oneOf' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { passingSchemas: " + $passingSchemas + " } ";
        if (it.opts.messages !== false) {
          out += " , message: 'should match exactly one schema in oneOf' ";
        }
        if (it.opts.verbose) {
          out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
        }
        out += " } ";
      } else {
        out += " {} ";
      }
      out += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
      if (!it.compositeRule && $breakOnError) {
        if (it.async) {
          out += " throw new ValidationError(vErrors); ";
        } else {
          out += " validate.errors = vErrors; return false; ";
        }
      }
      out += "} else {  errors = " + $errs + "; if (vErrors !== null) { if (" + $errs + ") vErrors.length = " + $errs + "; else vErrors = null; }";
      if (it.opts.allErrors) {
        out += " } ";
      }
      return out;
    };
    return oneOf;
  }
  var pattern;
  var hasRequiredPattern;
  function requirePattern() {
    if (hasRequiredPattern) return pattern;
    hasRequiredPattern = 1;
    pattern = function generate_pattern(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $isData = it.opts.$data && $schema2 && $schema2.$data, $schemaValue;
      if ($isData) {
        out += " var schema" + $lvl + " = " + it.util.getData($schema2.$data, $dataLvl, it.dataPathArr) + "; ";
        $schemaValue = "schema" + $lvl;
      } else {
        $schemaValue = $schema2;
      }
      var $regexp = $isData ? "(new RegExp(" + $schemaValue + "))" : it.usePattern($schema2);
      out += "if ( ";
      if ($isData) {
        out += " (" + $schemaValue + " !== undefined && typeof " + $schemaValue + " != 'string') || ";
      }
      out += " !" + $regexp + ".test(" + $data + ") ) {   ";
      var $$outStack = $$outStack || [];
      $$outStack.push(out);
      out = "";
      if (it.createErrors !== false) {
        out += " { keyword: 'pattern' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { pattern:  ";
        if ($isData) {
          out += "" + $schemaValue;
        } else {
          out += "" + it.util.toQuotedString($schema2);
        }
        out += "  } ";
        if (it.opts.messages !== false) {
          out += ` , message: 'should match pattern "`;
          if ($isData) {
            out += "' + " + $schemaValue + " + '";
          } else {
            out += "" + it.util.escapeQuotes($schema2);
          }
          out += `"' `;
        }
        if (it.opts.verbose) {
          out += " , schema:  ";
          if ($isData) {
            out += "validate.schema" + $schemaPath;
          } else {
            out += "" + it.util.toQuotedString($schema2);
          }
          out += "         , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
        }
        out += " } ";
      } else {
        out += " {} ";
      }
      var __err = out;
      out = $$outStack.pop();
      if (!it.compositeRule && $breakOnError) {
        if (it.async) {
          out += " throw new ValidationError([" + __err + "]); ";
        } else {
          out += " validate.errors = [" + __err + "]; return false; ";
        }
      } else {
        out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
      }
      out += "} ";
      if ($breakOnError) {
        out += " else { ";
      }
      return out;
    };
    return pattern;
  }
  var properties$2;
  var hasRequiredProperties;
  function requireProperties() {
    if (hasRequiredProperties) return properties$2;
    hasRequiredProperties = 1;
    properties$2 = function generate_properties(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $errs = "errs__" + $lvl;
      var $it = it.util.copy(it);
      var $closingBraces = "";
      $it.level++;
      var $nextValid = "valid" + $it.level;
      var $key = "key" + $lvl, $idx = "idx" + $lvl, $dataNxt = $it.dataLevel = it.dataLevel + 1, $nextData = "data" + $dataNxt, $dataProperties = "dataProperties" + $lvl;
      var $schemaKeys = Object.keys($schema2 || {}).filter(notProto), $pProperties = it.schema.patternProperties || {}, $pPropertyKeys = Object.keys($pProperties).filter(notProto), $aProperties = it.schema.additionalProperties, $someProperties = $schemaKeys.length || $pPropertyKeys.length, $noAdditional = $aProperties === false, $additionalIsSchema = typeof $aProperties == "object" && Object.keys($aProperties).length, $removeAdditional = it.opts.removeAdditional, $checkAdditional = $noAdditional || $additionalIsSchema || $removeAdditional, $ownProperties = it.opts.ownProperties, $currentBaseId = it.baseId;
      var $required = it.schema.required;
      if ($required && !(it.opts.$data && $required.$data) && $required.length < it.opts.loopRequired) {
        var $requiredHash = it.util.toHash($required);
      }
      function notProto(p) {
        return p !== "__proto__";
      }
      out += "var " + $errs + " = errors;var " + $nextValid + " = true;";
      if ($ownProperties) {
        out += " var " + $dataProperties + " = undefined;";
      }
      if ($checkAdditional) {
        if ($ownProperties) {
          out += " " + $dataProperties + " = " + $dataProperties + " || Object.keys(" + $data + "); for (var " + $idx + "=0; " + $idx + "<" + $dataProperties + ".length; " + $idx + "++) { var " + $key + " = " + $dataProperties + "[" + $idx + "]; ";
        } else {
          out += " for (var " + $key + " in " + $data + ") { ";
        }
        if ($someProperties) {
          out += " var isAdditional" + $lvl + " = !(false ";
          if ($schemaKeys.length) {
            if ($schemaKeys.length > 8) {
              out += " || validate.schema" + $schemaPath + ".hasOwnProperty(" + $key + ") ";
            } else {
              var arr1 = $schemaKeys;
              if (arr1) {
                var $propertyKey, i1 = -1, l1 = arr1.length - 1;
                while (i1 < l1) {
                  $propertyKey = arr1[i1 += 1];
                  out += " || " + $key + " == " + it.util.toQuotedString($propertyKey) + " ";
                }
              }
            }
          }
          if ($pPropertyKeys.length) {
            var arr2 = $pPropertyKeys;
            if (arr2) {
              var $pProperty, $i = -1, l2 = arr2.length - 1;
              while ($i < l2) {
                $pProperty = arr2[$i += 1];
                out += " || " + it.usePattern($pProperty) + ".test(" + $key + ") ";
              }
            }
          }
          out += " ); if (isAdditional" + $lvl + ") { ";
        }
        if ($removeAdditional == "all") {
          out += " delete " + $data + "[" + $key + "]; ";
        } else {
          var $currentErrorPath = it.errorPath;
          var $additionalProperty = "' + " + $key + " + '";
          if (it.opts._errorDataPathProperty) {
            it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);
          }
          if ($noAdditional) {
            if ($removeAdditional) {
              out += " delete " + $data + "[" + $key + "]; ";
            } else {
              out += " " + $nextValid + " = false; ";
              var $currErrSchemaPath = $errSchemaPath;
              $errSchemaPath = it.errSchemaPath + "/additionalProperties";
              var $$outStack = $$outStack || [];
              $$outStack.push(out);
              out = "";
              if (it.createErrors !== false) {
                out += " { keyword: 'additionalProperties' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { additionalProperty: '" + $additionalProperty + "' } ";
                if (it.opts.messages !== false) {
                  out += " , message: '";
                  if (it.opts._errorDataPathProperty) {
                    out += "is an invalid additional property";
                  } else {
                    out += "should NOT have additional properties";
                  }
                  out += "' ";
                }
                if (it.opts.verbose) {
                  out += " , schema: false , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
                }
                out += " } ";
              } else {
                out += " {} ";
              }
              var __err = out;
              out = $$outStack.pop();
              if (!it.compositeRule && $breakOnError) {
                if (it.async) {
                  out += " throw new ValidationError([" + __err + "]); ";
                } else {
                  out += " validate.errors = [" + __err + "]; return false; ";
                }
              } else {
                out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
              }
              $errSchemaPath = $currErrSchemaPath;
              if ($breakOnError) {
                out += " break; ";
              }
            }
          } else if ($additionalIsSchema) {
            if ($removeAdditional == "failing") {
              out += " var " + $errs + " = errors;  ";
              var $wasComposite = it.compositeRule;
              it.compositeRule = $it.compositeRule = true;
              $it.schema = $aProperties;
              $it.schemaPath = it.schemaPath + ".additionalProperties";
              $it.errSchemaPath = it.errSchemaPath + "/additionalProperties";
              $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);
              var $passData = $data + "[" + $key + "]";
              $it.dataPathArr[$dataNxt] = $key;
              var $code = it.validate($it);
              $it.baseId = $currentBaseId;
              if (it.util.varOccurences($code, $nextData) < 2) {
                out += " " + it.util.varReplace($code, $nextData, $passData) + " ";
              } else {
                out += " var " + $nextData + " = " + $passData + "; " + $code + " ";
              }
              out += " if (!" + $nextValid + ") { errors = " + $errs + "; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete " + $data + "[" + $key + "]; }  ";
              it.compositeRule = $it.compositeRule = $wasComposite;
            } else {
              $it.schema = $aProperties;
              $it.schemaPath = it.schemaPath + ".additionalProperties";
              $it.errSchemaPath = it.errSchemaPath + "/additionalProperties";
              $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);
              var $passData = $data + "[" + $key + "]";
              $it.dataPathArr[$dataNxt] = $key;
              var $code = it.validate($it);
              $it.baseId = $currentBaseId;
              if (it.util.varOccurences($code, $nextData) < 2) {
                out += " " + it.util.varReplace($code, $nextData, $passData) + " ";
              } else {
                out += " var " + $nextData + " = " + $passData + "; " + $code + " ";
              }
              if ($breakOnError) {
                out += " if (!" + $nextValid + ") break; ";
              }
            }
          }
          it.errorPath = $currentErrorPath;
        }
        if ($someProperties) {
          out += " } ";
        }
        out += " }  ";
        if ($breakOnError) {
          out += " if (" + $nextValid + ") { ";
          $closingBraces += "}";
        }
      }
      var $useDefaults = it.opts.useDefaults && !it.compositeRule;
      if ($schemaKeys.length) {
        var arr3 = $schemaKeys;
        if (arr3) {
          var $propertyKey, i3 = -1, l3 = arr3.length - 1;
          while (i3 < l3) {
            $propertyKey = arr3[i3 += 1];
            var $sch = $schema2[$propertyKey];
            if (it.opts.strictKeywords ? typeof $sch == "object" && Object.keys($sch).length > 0 || $sch === false : it.util.schemaHasRules($sch, it.RULES.all)) {
              var $prop = it.util.getProperty($propertyKey), $passData = $data + $prop, $hasDefault = $useDefaults && $sch.default !== void 0;
              $it.schema = $sch;
              $it.schemaPath = $schemaPath + $prop;
              $it.errSchemaPath = $errSchemaPath + "/" + it.util.escapeFragment($propertyKey);
              $it.errorPath = it.util.getPath(it.errorPath, $propertyKey, it.opts.jsonPointers);
              $it.dataPathArr[$dataNxt] = it.util.toQuotedString($propertyKey);
              var $code = it.validate($it);
              $it.baseId = $currentBaseId;
              if (it.util.varOccurences($code, $nextData) < 2) {
                $code = it.util.varReplace($code, $nextData, $passData);
                var $useData = $passData;
              } else {
                var $useData = $nextData;
                out += " var " + $nextData + " = " + $passData + "; ";
              }
              if ($hasDefault) {
                out += " " + $code + " ";
              } else {
                if ($requiredHash && $requiredHash[$propertyKey]) {
                  out += " if ( " + $useData + " === undefined ";
                  if ($ownProperties) {
                    out += " || ! Object.prototype.hasOwnProperty.call(" + $data + ", '" + it.util.escapeQuotes($propertyKey) + "') ";
                  }
                  out += ") { " + $nextValid + " = false; ";
                  var $currentErrorPath = it.errorPath, $currErrSchemaPath = $errSchemaPath, $missingProperty = it.util.escapeQuotes($propertyKey);
                  if (it.opts._errorDataPathProperty) {
                    it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);
                  }
                  $errSchemaPath = it.errSchemaPath + "/required";
                  var $$outStack = $$outStack || [];
                  $$outStack.push(out);
                  out = "";
                  if (it.createErrors !== false) {
                    out += " { keyword: 'required' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { missingProperty: '" + $missingProperty + "' } ";
                    if (it.opts.messages !== false) {
                      out += " , message: '";
                      if (it.opts._errorDataPathProperty) {
                        out += "is a required property";
                      } else {
                        out += "should have required property \\'" + $missingProperty + "\\'";
                      }
                      out += "' ";
                    }
                    if (it.opts.verbose) {
                      out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
                    }
                    out += " } ";
                  } else {
                    out += " {} ";
                  }
                  var __err = out;
                  out = $$outStack.pop();
                  if (!it.compositeRule && $breakOnError) {
                    if (it.async) {
                      out += " throw new ValidationError([" + __err + "]); ";
                    } else {
                      out += " validate.errors = [" + __err + "]; return false; ";
                    }
                  } else {
                    out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
                  }
                  $errSchemaPath = $currErrSchemaPath;
                  it.errorPath = $currentErrorPath;
                  out += " } else { ";
                } else {
                  if ($breakOnError) {
                    out += " if ( " + $useData + " === undefined ";
                    if ($ownProperties) {
                      out += " || ! Object.prototype.hasOwnProperty.call(" + $data + ", '" + it.util.escapeQuotes($propertyKey) + "') ";
                    }
                    out += ") { " + $nextValid + " = true; } else { ";
                  } else {
                    out += " if (" + $useData + " !== undefined ";
                    if ($ownProperties) {
                      out += " &&   Object.prototype.hasOwnProperty.call(" + $data + ", '" + it.util.escapeQuotes($propertyKey) + "') ";
                    }
                    out += " ) { ";
                  }
                }
                out += " " + $code + " } ";
              }
            }
            if ($breakOnError) {
              out += " if (" + $nextValid + ") { ";
              $closingBraces += "}";
            }
          }
        }
      }
      if ($pPropertyKeys.length) {
        var arr4 = $pPropertyKeys;
        if (arr4) {
          var $pProperty, i4 = -1, l4 = arr4.length - 1;
          while (i4 < l4) {
            $pProperty = arr4[i4 += 1];
            var $sch = $pProperties[$pProperty];
            if (it.opts.strictKeywords ? typeof $sch == "object" && Object.keys($sch).length > 0 || $sch === false : it.util.schemaHasRules($sch, it.RULES.all)) {
              $it.schema = $sch;
              $it.schemaPath = it.schemaPath + ".patternProperties" + it.util.getProperty($pProperty);
              $it.errSchemaPath = it.errSchemaPath + "/patternProperties/" + it.util.escapeFragment($pProperty);
              if ($ownProperties) {
                out += " " + $dataProperties + " = " + $dataProperties + " || Object.keys(" + $data + "); for (var " + $idx + "=0; " + $idx + "<" + $dataProperties + ".length; " + $idx + "++) { var " + $key + " = " + $dataProperties + "[" + $idx + "]; ";
              } else {
                out += " for (var " + $key + " in " + $data + ") { ";
              }
              out += " if (" + it.usePattern($pProperty) + ".test(" + $key + ")) { ";
              $it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);
              var $passData = $data + "[" + $key + "]";
              $it.dataPathArr[$dataNxt] = $key;
              var $code = it.validate($it);
              $it.baseId = $currentBaseId;
              if (it.util.varOccurences($code, $nextData) < 2) {
                out += " " + it.util.varReplace($code, $nextData, $passData) + " ";
              } else {
                out += " var " + $nextData + " = " + $passData + "; " + $code + " ";
              }
              if ($breakOnError) {
                out += " if (!" + $nextValid + ") break; ";
              }
              out += " } ";
              if ($breakOnError) {
                out += " else " + $nextValid + " = true; ";
              }
              out += " }  ";
              if ($breakOnError) {
                out += " if (" + $nextValid + ") { ";
                $closingBraces += "}";
              }
            }
          }
        }
      }
      if ($breakOnError) {
        out += " " + $closingBraces + " if (" + $errs + " == errors) {";
      }
      return out;
    };
    return properties$2;
  }
  var propertyNames;
  var hasRequiredPropertyNames;
  function requirePropertyNames() {
    if (hasRequiredPropertyNames) return propertyNames;
    hasRequiredPropertyNames = 1;
    propertyNames = function generate_propertyNames(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $errs = "errs__" + $lvl;
      var $it = it.util.copy(it);
      var $closingBraces = "";
      $it.level++;
      var $nextValid = "valid" + $it.level;
      out += "var " + $errs + " = errors;";
      if (it.opts.strictKeywords ? typeof $schema2 == "object" && Object.keys($schema2).length > 0 || $schema2 === false : it.util.schemaHasRules($schema2, it.RULES.all)) {
        $it.schema = $schema2;
        $it.schemaPath = $schemaPath;
        $it.errSchemaPath = $errSchemaPath;
        var $key = "key" + $lvl, $idx = "idx" + $lvl, $i = "i" + $lvl, $invalidName = "' + " + $key + " + '", $dataNxt = $it.dataLevel = it.dataLevel + 1, $nextData = "data" + $dataNxt, $dataProperties = "dataProperties" + $lvl, $ownProperties = it.opts.ownProperties, $currentBaseId = it.baseId;
        if ($ownProperties) {
          out += " var " + $dataProperties + " = undefined; ";
        }
        if ($ownProperties) {
          out += " " + $dataProperties + " = " + $dataProperties + " || Object.keys(" + $data + "); for (var " + $idx + "=0; " + $idx + "<" + $dataProperties + ".length; " + $idx + "++) { var " + $key + " = " + $dataProperties + "[" + $idx + "]; ";
        } else {
          out += " for (var " + $key + " in " + $data + ") { ";
        }
        out += " var startErrs" + $lvl + " = errors; ";
        var $passData = $key;
        var $wasComposite = it.compositeRule;
        it.compositeRule = $it.compositeRule = true;
        var $code = it.validate($it);
        $it.baseId = $currentBaseId;
        if (it.util.varOccurences($code, $nextData) < 2) {
          out += " " + it.util.varReplace($code, $nextData, $passData) + " ";
        } else {
          out += " var " + $nextData + " = " + $passData + "; " + $code + " ";
        }
        it.compositeRule = $it.compositeRule = $wasComposite;
        out += " if (!" + $nextValid + ") { for (var " + $i + "=startErrs" + $lvl + "; " + $i + "<errors; " + $i + "++) { vErrors[" + $i + "].propertyName = " + $key + "; }   var err =   ";
        if (it.createErrors !== false) {
          out += " { keyword: 'propertyNames' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { propertyName: '" + $invalidName + "' } ";
          if (it.opts.messages !== false) {
            out += " , message: 'property name \\'" + $invalidName + "\\' is invalid' ";
          }
          if (it.opts.verbose) {
            out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
          }
          out += " } ";
        } else {
          out += " {} ";
        }
        out += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
        if (!it.compositeRule && $breakOnError) {
          if (it.async) {
            out += " throw new ValidationError(vErrors); ";
          } else {
            out += " validate.errors = vErrors; return false; ";
          }
        }
        if ($breakOnError) {
          out += " break; ";
        }
        out += " } }";
      }
      if ($breakOnError) {
        out += " " + $closingBraces + " if (" + $errs + " == errors) {";
      }
      return out;
    };
    return propertyNames;
  }
  var required$1;
  var hasRequiredRequired;
  function requireRequired() {
    if (hasRequiredRequired) return required$1;
    hasRequiredRequired = 1;
    required$1 = function generate_required(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $valid = "valid" + $lvl;
      var $isData = it.opts.$data && $schema2 && $schema2.$data;
      if ($isData) {
        out += " var schema" + $lvl + " = " + it.util.getData($schema2.$data, $dataLvl, it.dataPathArr) + "; ";
      }
      var $vSchema = "schema" + $lvl;
      if (!$isData) {
        if ($schema2.length < it.opts.loopRequired && it.schema.properties && Object.keys(it.schema.properties).length) {
          var $required = [];
          var arr1 = $schema2;
          if (arr1) {
            var $property, i1 = -1, l1 = arr1.length - 1;
            while (i1 < l1) {
              $property = arr1[i1 += 1];
              var $propertySch = it.schema.properties[$property];
              if (!($propertySch && (it.opts.strictKeywords ? typeof $propertySch == "object" && Object.keys($propertySch).length > 0 || $propertySch === false : it.util.schemaHasRules($propertySch, it.RULES.all)))) {
                $required[$required.length] = $property;
              }
            }
          }
        } else {
          var $required = $schema2;
        }
      }
      if ($isData || $required.length) {
        var $currentErrorPath = it.errorPath, $loopRequired = $isData || $required.length >= it.opts.loopRequired, $ownProperties = it.opts.ownProperties;
        if ($breakOnError) {
          out += " var missing" + $lvl + "; ";
          if ($loopRequired) {
            if (!$isData) {
              out += " var " + $vSchema + " = validate.schema" + $schemaPath + "; ";
            }
            var $i = "i" + $lvl, $propertyPath = "schema" + $lvl + "[" + $i + "]", $missingProperty = "' + " + $propertyPath + " + '";
            if (it.opts._errorDataPathProperty) {
              it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);
            }
            out += " var " + $valid + " = true; ";
            if ($isData) {
              out += " if (schema" + $lvl + " === undefined) " + $valid + " = true; else if (!Array.isArray(schema" + $lvl + ")) " + $valid + " = false; else {";
            }
            out += " for (var " + $i + " = 0; " + $i + " < " + $vSchema + ".length; " + $i + "++) { " + $valid + " = " + $data + "[" + $vSchema + "[" + $i + "]] !== undefined ";
            if ($ownProperties) {
              out += " &&   Object.prototype.hasOwnProperty.call(" + $data + ", " + $vSchema + "[" + $i + "]) ";
            }
            out += "; if (!" + $valid + ") break; } ";
            if ($isData) {
              out += "  }  ";
            }
            out += "  if (!" + $valid + ") {   ";
            var $$outStack = $$outStack || [];
            $$outStack.push(out);
            out = "";
            if (it.createErrors !== false) {
              out += " { keyword: 'required' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { missingProperty: '" + $missingProperty + "' } ";
              if (it.opts.messages !== false) {
                out += " , message: '";
                if (it.opts._errorDataPathProperty) {
                  out += "is a required property";
                } else {
                  out += "should have required property \\'" + $missingProperty + "\\'";
                }
                out += "' ";
              }
              if (it.opts.verbose) {
                out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
              }
              out += " } ";
            } else {
              out += " {} ";
            }
            var __err = out;
            out = $$outStack.pop();
            if (!it.compositeRule && $breakOnError) {
              if (it.async) {
                out += " throw new ValidationError([" + __err + "]); ";
              } else {
                out += " validate.errors = [" + __err + "]; return false; ";
              }
            } else {
              out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
            }
            out += " } else { ";
          } else {
            out += " if ( ";
            var arr2 = $required;
            if (arr2) {
              var $propertyKey, $i = -1, l2 = arr2.length - 1;
              while ($i < l2) {
                $propertyKey = arr2[$i += 1];
                if ($i) {
                  out += " || ";
                }
                var $prop = it.util.getProperty($propertyKey), $useData = $data + $prop;
                out += " ( ( " + $useData + " === undefined ";
                if ($ownProperties) {
                  out += " || ! Object.prototype.hasOwnProperty.call(" + $data + ", '" + it.util.escapeQuotes($propertyKey) + "') ";
                }
                out += ") && (missing" + $lvl + " = " + it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop) + ") ) ";
              }
            }
            out += ") {  ";
            var $propertyPath = "missing" + $lvl, $missingProperty = "' + " + $propertyPath + " + '";
            if (it.opts._errorDataPathProperty) {
              it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + " + " + $propertyPath;
            }
            var $$outStack = $$outStack || [];
            $$outStack.push(out);
            out = "";
            if (it.createErrors !== false) {
              out += " { keyword: 'required' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { missingProperty: '" + $missingProperty + "' } ";
              if (it.opts.messages !== false) {
                out += " , message: '";
                if (it.opts._errorDataPathProperty) {
                  out += "is a required property";
                } else {
                  out += "should have required property \\'" + $missingProperty + "\\'";
                }
                out += "' ";
              }
              if (it.opts.verbose) {
                out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
              }
              out += " } ";
            } else {
              out += " {} ";
            }
            var __err = out;
            out = $$outStack.pop();
            if (!it.compositeRule && $breakOnError) {
              if (it.async) {
                out += " throw new ValidationError([" + __err + "]); ";
              } else {
                out += " validate.errors = [" + __err + "]; return false; ";
              }
            } else {
              out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
            }
            out += " } else { ";
          }
        } else {
          if ($loopRequired) {
            if (!$isData) {
              out += " var " + $vSchema + " = validate.schema" + $schemaPath + "; ";
            }
            var $i = "i" + $lvl, $propertyPath = "schema" + $lvl + "[" + $i + "]", $missingProperty = "' + " + $propertyPath + " + '";
            if (it.opts._errorDataPathProperty) {
              it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);
            }
            if ($isData) {
              out += " if (" + $vSchema + " && !Array.isArray(" + $vSchema + ")) {  var err =   ";
              if (it.createErrors !== false) {
                out += " { keyword: 'required' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { missingProperty: '" + $missingProperty + "' } ";
                if (it.opts.messages !== false) {
                  out += " , message: '";
                  if (it.opts._errorDataPathProperty) {
                    out += "is a required property";
                  } else {
                    out += "should have required property \\'" + $missingProperty + "\\'";
                  }
                  out += "' ";
                }
                if (it.opts.verbose) {
                  out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
                }
                out += " } ";
              } else {
                out += " {} ";
              }
              out += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (" + $vSchema + " !== undefined) { ";
            }
            out += " for (var " + $i + " = 0; " + $i + " < " + $vSchema + ".length; " + $i + "++) { if (" + $data + "[" + $vSchema + "[" + $i + "]] === undefined ";
            if ($ownProperties) {
              out += " || ! Object.prototype.hasOwnProperty.call(" + $data + ", " + $vSchema + "[" + $i + "]) ";
            }
            out += ") {  var err =   ";
            if (it.createErrors !== false) {
              out += " { keyword: 'required' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { missingProperty: '" + $missingProperty + "' } ";
              if (it.opts.messages !== false) {
                out += " , message: '";
                if (it.opts._errorDataPathProperty) {
                  out += "is a required property";
                } else {
                  out += "should have required property \\'" + $missingProperty + "\\'";
                }
                out += "' ";
              }
              if (it.opts.verbose) {
                out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
              }
              out += " } ";
            } else {
              out += " {} ";
            }
            out += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ";
            if ($isData) {
              out += "  }  ";
            }
          } else {
            var arr3 = $required;
            if (arr3) {
              var $propertyKey, i3 = -1, l3 = arr3.length - 1;
              while (i3 < l3) {
                $propertyKey = arr3[i3 += 1];
                var $prop = it.util.getProperty($propertyKey), $missingProperty = it.util.escapeQuotes($propertyKey), $useData = $data + $prop;
                if (it.opts._errorDataPathProperty) {
                  it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);
                }
                out += " if ( " + $useData + " === undefined ";
                if ($ownProperties) {
                  out += " || ! Object.prototype.hasOwnProperty.call(" + $data + ", '" + it.util.escapeQuotes($propertyKey) + "') ";
                }
                out += ") {  var err =   ";
                if (it.createErrors !== false) {
                  out += " { keyword: 'required' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { missingProperty: '" + $missingProperty + "' } ";
                  if (it.opts.messages !== false) {
                    out += " , message: '";
                    if (it.opts._errorDataPathProperty) {
                      out += "is a required property";
                    } else {
                      out += "should have required property \\'" + $missingProperty + "\\'";
                    }
                    out += "' ";
                  }
                  if (it.opts.verbose) {
                    out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
                  }
                  out += " } ";
                } else {
                  out += " {} ";
                }
                out += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ";
              }
            }
          }
        }
        it.errorPath = $currentErrorPath;
      } else if ($breakOnError) {
        out += " if (true) {";
      }
      return out;
    };
    return required$1;
  }
  var uniqueItems;
  var hasRequiredUniqueItems;
  function requireUniqueItems() {
    if (hasRequiredUniqueItems) return uniqueItems;
    hasRequiredUniqueItems = 1;
    uniqueItems = function generate_uniqueItems(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $valid = "valid" + $lvl;
      var $isData = it.opts.$data && $schema2 && $schema2.$data, $schemaValue;
      if ($isData) {
        out += " var schema" + $lvl + " = " + it.util.getData($schema2.$data, $dataLvl, it.dataPathArr) + "; ";
        $schemaValue = "schema" + $lvl;
      } else {
        $schemaValue = $schema2;
      }
      if (($schema2 || $isData) && it.opts.uniqueItems !== false) {
        if ($isData) {
          out += " var " + $valid + "; if (" + $schemaValue + " === false || " + $schemaValue + " === undefined) " + $valid + " = true; else if (typeof " + $schemaValue + " != 'boolean') " + $valid + " = false; else { ";
        }
        out += " var i = " + $data + ".length , " + $valid + " = true , j; if (i > 1) { ";
        var $itemType = it.schema.items && it.schema.items.type, $typeIsArray = Array.isArray($itemType);
        if (!$itemType || $itemType == "object" || $itemType == "array" || $typeIsArray && ($itemType.indexOf("object") >= 0 || $itemType.indexOf("array") >= 0)) {
          out += " outer: for (;i--;) { for (j = i; j--;) { if (equal(" + $data + "[i], " + $data + "[j])) { " + $valid + " = false; break outer; } } } ";
        } else {
          out += " var itemIndices = {}, item; for (;i--;) { var item = " + $data + "[i]; ";
          var $method = "checkDataType" + ($typeIsArray ? "s" : "");
          out += " if (" + it.util[$method]($itemType, "item", it.opts.strictNumbers, true) + ") continue; ";
          if ($typeIsArray) {
            out += ` if (typeof item == 'string') item = '"' + item; `;
          }
          out += " if (typeof itemIndices[item] == 'number') { " + $valid + " = false; j = itemIndices[item]; break; } itemIndices[item] = i; } ";
        }
        out += " } ";
        if ($isData) {
          out += "  }  ";
        }
        out += " if (!" + $valid + ") {   ";
        var $$outStack = $$outStack || [];
        $$outStack.push(out);
        out = "";
        if (it.createErrors !== false) {
          out += " { keyword: 'uniqueItems' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { i: i, j: j } ";
          if (it.opts.messages !== false) {
            out += " , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' ";
          }
          if (it.opts.verbose) {
            out += " , schema:  ";
            if ($isData) {
              out += "validate.schema" + $schemaPath;
            } else {
              out += "" + $schema2;
            }
            out += "         , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
          }
          out += " } ";
        } else {
          out += " {} ";
        }
        var __err = out;
        out = $$outStack.pop();
        if (!it.compositeRule && $breakOnError) {
          if (it.async) {
            out += " throw new ValidationError([" + __err + "]); ";
          } else {
            out += " validate.errors = [" + __err + "]; return false; ";
          }
        } else {
          out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
        }
        out += " } ";
        if ($breakOnError) {
          out += " else { ";
        }
      } else {
        if ($breakOnError) {
          out += " if (true) { ";
        }
      }
      return out;
    };
    return uniqueItems;
  }
  var dotjs;
  var hasRequiredDotjs;
  function requireDotjs() {
    if (hasRequiredDotjs) return dotjs;
    hasRequiredDotjs = 1;
    dotjs = {
      "$ref": requireRef(),
      allOf: requireAllOf(),
      anyOf: requireAnyOf(),
      "$comment": requireComment(),
      const: require_const(),
      contains: requireContains(),
      dependencies: requireDependencies(),
      "enum": require_enum(),
      format: requireFormat(),
      "if": require_if(),
      items: requireItems(),
      maximum: require_limit(),
      minimum: require_limit(),
      maxItems: require_limitItems(),
      minItems: require_limitItems(),
      maxLength: require_limitLength(),
      minLength: require_limitLength(),
      maxProperties: require_limitProperties(),
      minProperties: require_limitProperties(),
      multipleOf: requireMultipleOf(),
      not: requireNot(),
      oneOf: requireOneOf(),
      pattern: requirePattern(),
      properties: requireProperties(),
      propertyNames: requirePropertyNames(),
      required: requireRequired(),
      uniqueItems: requireUniqueItems(),
      validate: requireValidate()
    };
    return dotjs;
  }
  var rules;
  var hasRequiredRules;
  function requireRules() {
    if (hasRequiredRules) return rules;
    hasRequiredRules = 1;
    var ruleModules = requireDotjs(), toHash = requireUtil().toHash;
    rules = function rules2() {
      var RULES = [
        {
          type: "number",
          rules: [
            { "maximum": ["exclusiveMaximum"] },
            { "minimum": ["exclusiveMinimum"] },
            "multipleOf",
            "format"
          ]
        },
        {
          type: "string",
          rules: ["maxLength", "minLength", "pattern", "format"]
        },
        {
          type: "array",
          rules: ["maxItems", "minItems", "items", "contains", "uniqueItems"]
        },
        {
          type: "object",
          rules: [
            "maxProperties",
            "minProperties",
            "required",
            "dependencies",
            "propertyNames",
            { "properties": ["additionalProperties", "patternProperties"] }
          ]
        },
        { rules: ["$ref", "const", "enum", "not", "anyOf", "oneOf", "allOf", "if"] }
      ];
      var ALL = ["type", "$comment"];
      var KEYWORDS = [
        "$schema",
        "$id",
        "id",
        "$data",
        "$async",
        "title",
        "description",
        "default",
        "definitions",
        "examples",
        "readOnly",
        "writeOnly",
        "contentMediaType",
        "contentEncoding",
        "additionalItems",
        "then",
        "else"
      ];
      var TYPES = ["number", "integer", "string", "array", "object", "boolean", "null"];
      RULES.all = toHash(ALL);
      RULES.types = toHash(TYPES);
      RULES.forEach(function(group) {
        group.rules = group.rules.map(function(keyword2) {
          var implKeywords;
          if (typeof keyword2 == "object") {
            var key = Object.keys(keyword2)[0];
            implKeywords = keyword2[key];
            keyword2 = key;
            implKeywords.forEach(function(k) {
              ALL.push(k);
              RULES.all[k] = true;
            });
          }
          ALL.push(keyword2);
          var rule = RULES.all[keyword2] = {
            keyword: keyword2,
            code: ruleModules[keyword2],
            implements: implKeywords
          };
          return rule;
        });
        RULES.all.$comment = {
          keyword: "$comment",
          code: ruleModules.$comment
        };
        if (group.type) RULES.types[group.type] = group;
      });
      RULES.keywords = toHash(ALL.concat(KEYWORDS));
      RULES.custom = {};
      return RULES;
    };
    return rules;
  }
  var data;
  var hasRequiredData;
  function requireData() {
    if (hasRequiredData) return data;
    hasRequiredData = 1;
    var KEYWORDS = [
      "multipleOf",
      "maximum",
      "exclusiveMaximum",
      "minimum",
      "exclusiveMinimum",
      "maxLength",
      "minLength",
      "pattern",
      "additionalItems",
      "maxItems",
      "minItems",
      "uniqueItems",
      "maxProperties",
      "minProperties",
      "required",
      "additionalProperties",
      "enum",
      "format",
      "const"
    ];
    data = function(metaSchema, keywordsJsonPointers) {
      for (var i = 0; i < keywordsJsonPointers.length; i++) {
        metaSchema = JSON.parse(JSON.stringify(metaSchema));
        var segments = keywordsJsonPointers[i].split("/");
        var keywords = metaSchema;
        var j;
        for (j = 1; j < segments.length; j++)
          keywords = keywords[segments[j]];
        for (j = 0; j < KEYWORDS.length; j++) {
          var key = KEYWORDS[j];
          var schema = keywords[key];
          if (schema) {
            keywords[key] = {
              anyOf: [
                schema,
                { $ref: "https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#" }
              ]
            };
          }
        }
      }
      return metaSchema;
    };
    return data;
  }
  var async;
  var hasRequiredAsync;
  function requireAsync() {
    if (hasRequiredAsync) return async;
    hasRequiredAsync = 1;
    var MissingRefError = requireError_classes().MissingRef;
    async = compileAsync;
    function compileAsync(schema, meta, callback) {
      var self = this;
      if (typeof this._opts.loadSchema != "function")
        throw new Error("options.loadSchema should be a function");
      if (typeof meta == "function") {
        callback = meta;
        meta = void 0;
      }
      var p = loadMetaSchemaOf(schema).then(function() {
        var schemaObj = self._addSchema(schema, void 0, meta);
        return schemaObj.validate || _compileAsync(schemaObj);
      });
      if (callback) {
        p.then(
          function(v) {
            callback(null, v);
          },
          callback
        );
      }
      return p;
      function loadMetaSchemaOf(sch) {
        var $schema2 = sch.$schema;
        return $schema2 && !self.getSchema($schema2) ? compileAsync.call(self, { $ref: $schema2 }, true) : Promise.resolve();
      }
      function _compileAsync(schemaObj) {
        try {
          return self._compile(schemaObj);
        } catch (e) {
          if (e instanceof MissingRefError) return loadMissingSchema(e);
          throw e;
        }
        function loadMissingSchema(e) {
          var ref2 = e.missingSchema;
          if (added(ref2)) throw new Error("Schema " + ref2 + " is loaded but " + e.missingRef + " cannot be resolved");
          var schemaPromise = self._loadingSchemas[ref2];
          if (!schemaPromise) {
            schemaPromise = self._loadingSchemas[ref2] = self._opts.loadSchema(ref2);
            schemaPromise.then(removePromise, removePromise);
          }
          return schemaPromise.then(function(sch) {
            if (!added(ref2)) {
              return loadMetaSchemaOf(sch).then(function() {
                if (!added(ref2)) self.addSchema(sch, ref2, void 0, meta);
              });
            }
          }).then(function() {
            return _compileAsync(schemaObj);
          });
          function removePromise() {
            delete self._loadingSchemas[ref2];
          }
          function added(ref3) {
            return self._refs[ref3] || self._schemas[ref3];
          }
        }
      }
    }
    return async;
  }
  var custom;
  var hasRequiredCustom;
  function requireCustom() {
    if (hasRequiredCustom) return custom;
    hasRequiredCustom = 1;
    custom = function generate_custom(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $errorKeyword;
      var $data = "data" + ($dataLvl || "");
      var $valid = "valid" + $lvl;
      var $errs = "errs__" + $lvl;
      var $isData = it.opts.$data && $schema2 && $schema2.$data, $schemaValue;
      if ($isData) {
        out += " var schema" + $lvl + " = " + it.util.getData($schema2.$data, $dataLvl, it.dataPathArr) + "; ";
        $schemaValue = "schema" + $lvl;
      } else {
        $schemaValue = $schema2;
      }
      var $rule = this, $definition = "definition" + $lvl, $rDef = $rule.definition, $closingBraces = "";
      var $compile, $inline, $macro, $ruleValidate, $validateCode;
      if ($isData && $rDef.$data) {
        $validateCode = "keywordValidate" + $lvl;
        var $validateSchema = $rDef.validateSchema;
        out += " var " + $definition + " = RULES.custom['" + $keyword + "'].definition; var " + $validateCode + " = " + $definition + ".validate;";
      } else {
        $ruleValidate = it.useCustomRule($rule, $schema2, it.schema, it);
        if (!$ruleValidate) return;
        $schemaValue = "validate.schema" + $schemaPath;
        $validateCode = $ruleValidate.code;
        $compile = $rDef.compile;
        $inline = $rDef.inline;
        $macro = $rDef.macro;
      }
      var $ruleErrs = $validateCode + ".errors", $i = "i" + $lvl, $ruleErr = "ruleErr" + $lvl, $asyncKeyword = $rDef.async;
      if ($asyncKeyword && !it.async) throw new Error("async keyword in sync schema");
      if (!($inline || $macro)) {
        out += "" + $ruleErrs + " = null;";
      }
      out += "var " + $errs + " = errors;var " + $valid + ";";
      if ($isData && $rDef.$data) {
        $closingBraces += "}";
        out += " if (" + $schemaValue + " === undefined) { " + $valid + " = true; } else { ";
        if ($validateSchema) {
          $closingBraces += "}";
          out += " " + $valid + " = " + $definition + ".validateSchema(" + $schemaValue + "); if (" + $valid + ") { ";
        }
      }
      if ($inline) {
        if ($rDef.statements) {
          out += " " + $ruleValidate.validate + " ";
        } else {
          out += " " + $valid + " = " + $ruleValidate.validate + "; ";
        }
      } else if ($macro) {
        var $it = it.util.copy(it);
        var $closingBraces = "";
        $it.level++;
        var $nextValid = "valid" + $it.level;
        $it.schema = $ruleValidate.validate;
        $it.schemaPath = "";
        var $wasComposite = it.compositeRule;
        it.compositeRule = $it.compositeRule = true;
        var $code = it.validate($it).replace(/validate\.schema/g, $validateCode);
        it.compositeRule = $it.compositeRule = $wasComposite;
        out += " " + $code;
      } else {
        var $$outStack = $$outStack || [];
        $$outStack.push(out);
        out = "";
        out += "  " + $validateCode + ".call( ";
        if (it.opts.passContext) {
          out += "this";
        } else {
          out += "self";
        }
        if ($compile || $rDef.schema === false) {
          out += " , " + $data + " ";
        } else {
          out += " , " + $schemaValue + " , " + $data + " , validate.schema" + it.schemaPath + " ";
        }
        out += " , (dataPath || '')";
        if (it.errorPath != '""') {
          out += " + " + it.errorPath;
        }
        var $parentData = $dataLvl ? "data" + ($dataLvl - 1 || "") : "parentData", $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : "parentDataProperty";
        out += " , " + $parentData + " , " + $parentDataProperty + " , rootData )  ";
        var def_callRuleValidate = out;
        out = $$outStack.pop();
        if ($rDef.errors === false) {
          out += " " + $valid + " = ";
          if ($asyncKeyword) {
            out += "await ";
          }
          out += "" + def_callRuleValidate + "; ";
        } else {
          if ($asyncKeyword) {
            $ruleErrs = "customErrors" + $lvl;
            out += " var " + $ruleErrs + " = null; try { " + $valid + " = await " + def_callRuleValidate + "; } catch (e) { " + $valid + " = false; if (e instanceof ValidationError) " + $ruleErrs + " = e.errors; else throw e; } ";
          } else {
            out += " " + $ruleErrs + " = null; " + $valid + " = " + def_callRuleValidate + "; ";
          }
        }
      }
      if ($rDef.modifying) {
        out += " if (" + $parentData + ") " + $data + " = " + $parentData + "[" + $parentDataProperty + "];";
      }
      out += "" + $closingBraces;
      if ($rDef.valid) {
        if ($breakOnError) {
          out += " if (true) { ";
        }
      } else {
        out += " if ( ";
        if ($rDef.valid === void 0) {
          out += " !";
          if ($macro) {
            out += "" + $nextValid;
          } else {
            out += "" + $valid;
          }
        } else {
          out += " " + !$rDef.valid + " ";
        }
        out += ") { ";
        $errorKeyword = $rule.keyword;
        var $$outStack = $$outStack || [];
        $$outStack.push(out);
        out = "";
        var $$outStack = $$outStack || [];
        $$outStack.push(out);
        out = "";
        if (it.createErrors !== false) {
          out += " { keyword: '" + ($errorKeyword || "custom") + "' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { keyword: '" + $rule.keyword + "' } ";
          if (it.opts.messages !== false) {
            out += ` , message: 'should pass "` + $rule.keyword + `" keyword validation' `;
          }
          if (it.opts.verbose) {
            out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
          }
          out += " } ";
        } else {
          out += " {} ";
        }
        var __err = out;
        out = $$outStack.pop();
        if (!it.compositeRule && $breakOnError) {
          if (it.async) {
            out += " throw new ValidationError([" + __err + "]); ";
          } else {
            out += " validate.errors = [" + __err + "]; return false; ";
          }
        } else {
          out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
        }
        var def_customError = out;
        out = $$outStack.pop();
        if ($inline) {
          if ($rDef.errors) {
            if ($rDef.errors != "full") {
              out += "  for (var " + $i + "=" + $errs + "; " + $i + "<errors; " + $i + "++) { var " + $ruleErr + " = vErrors[" + $i + "]; if (" + $ruleErr + ".dataPath === undefined) " + $ruleErr + ".dataPath = (dataPath || '') + " + it.errorPath + "; if (" + $ruleErr + ".schemaPath === undefined) { " + $ruleErr + '.schemaPath = "' + $errSchemaPath + '"; } ';
              if (it.opts.verbose) {
                out += " " + $ruleErr + ".schema = " + $schemaValue + "; " + $ruleErr + ".data = " + $data + "; ";
              }
              out += " } ";
            }
          } else {
            if ($rDef.errors === false) {
              out += " " + def_customError + " ";
            } else {
              out += " if (" + $errs + " == errors) { " + def_customError + " } else {  for (var " + $i + "=" + $errs + "; " + $i + "<errors; " + $i + "++) { var " + $ruleErr + " = vErrors[" + $i + "]; if (" + $ruleErr + ".dataPath === undefined) " + $ruleErr + ".dataPath = (dataPath || '') + " + it.errorPath + "; if (" + $ruleErr + ".schemaPath === undefined) { " + $ruleErr + '.schemaPath = "' + $errSchemaPath + '"; } ';
              if (it.opts.verbose) {
                out += " " + $ruleErr + ".schema = " + $schemaValue + "; " + $ruleErr + ".data = " + $data + "; ";
              }
              out += " } } ";
            }
          }
        } else if ($macro) {
          out += "   var err =   ";
          if (it.createErrors !== false) {
            out += " { keyword: '" + ($errorKeyword || "custom") + "' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { keyword: '" + $rule.keyword + "' } ";
            if (it.opts.messages !== false) {
              out += ` , message: 'should pass "` + $rule.keyword + `" keyword validation' `;
            }
            if (it.opts.verbose) {
              out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
            }
            out += " } ";
          } else {
            out += " {} ";
          }
          out += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
          if (!it.compositeRule && $breakOnError) {
            if (it.async) {
              out += " throw new ValidationError(vErrors); ";
            } else {
              out += " validate.errors = vErrors; return false; ";
            }
          }
        } else {
          if ($rDef.errors === false) {
            out += " " + def_customError + " ";
          } else {
            out += " if (Array.isArray(" + $ruleErrs + ")) { if (vErrors === null) vErrors = " + $ruleErrs + "; else vErrors = vErrors.concat(" + $ruleErrs + "); errors = vErrors.length;  for (var " + $i + "=" + $errs + "; " + $i + "<errors; " + $i + "++) { var " + $ruleErr + " = vErrors[" + $i + "]; if (" + $ruleErr + ".dataPath === undefined) " + $ruleErr + ".dataPath = (dataPath || '') + " + it.errorPath + ";  " + $ruleErr + '.schemaPath = "' + $errSchemaPath + '";  ';
            if (it.opts.verbose) {
              out += " " + $ruleErr + ".schema = " + $schemaValue + "; " + $ruleErr + ".data = " + $data + "; ";
            }
            out += " } } else { " + def_customError + " } ";
          }
        }
        out += " } ";
        if ($breakOnError) {
          out += " else { ";
        }
      }
      return out;
    };
    return custom;
  }
  const $schema$1 = "http://json-schema.org/draft-07/schema#";
  const $id$1 = "http://json-schema.org/draft-07/schema#";
  const title = "Core schema meta-schema";
  const definitions = { "schemaArray": { "type": "array", "minItems": 1, "items": { "$ref": "#" } }, "nonNegativeInteger": { "type": "integer", "minimum": 0 }, "nonNegativeIntegerDefault0": { "allOf": [{ "$ref": "#/definitions/nonNegativeInteger" }, { "default": 0 }] }, "simpleTypes": { "enum": ["array", "boolean", "integer", "null", "number", "object", "string"] }, "stringArray": { "type": "array", "items": { "type": "string" }, "uniqueItems": true, "default": [] } };
  const type$1 = ["object", "boolean"];
  const properties$1 = { "$id": { "type": "string", "format": "uri-reference" }, "$schema": { "type": "string", "format": "uri" }, "$ref": { "type": "string", "format": "uri-reference" }, "$comment": { "type": "string" }, "title": { "type": "string" }, "description": { "type": "string" }, "default": true, "readOnly": { "type": "boolean", "default": false }, "examples": { "type": "array", "items": true }, "multipleOf": { "type": "number", "exclusiveMinimum": 0 }, "maximum": { "type": "number" }, "exclusiveMaximum": { "type": "number" }, "minimum": { "type": "number" }, "exclusiveMinimum": { "type": "number" }, "maxLength": { "$ref": "#/definitions/nonNegativeInteger" }, "minLength": { "$ref": "#/definitions/nonNegativeIntegerDefault0" }, "pattern": { "type": "string", "format": "regex" }, "additionalItems": { "$ref": "#" }, "items": { "anyOf": [{ "$ref": "#" }, { "$ref": "#/definitions/schemaArray" }], "default": true }, "maxItems": { "$ref": "#/definitions/nonNegativeInteger" }, "minItems": { "$ref": "#/definitions/nonNegativeIntegerDefault0" }, "uniqueItems": { "type": "boolean", "default": false }, "contains": { "$ref": "#" }, "maxProperties": { "$ref": "#/definitions/nonNegativeInteger" }, "minProperties": { "$ref": "#/definitions/nonNegativeIntegerDefault0" }, "required": { "$ref": "#/definitions/stringArray" }, "additionalProperties": { "$ref": "#" }, "definitions": { "type": "object", "additionalProperties": { "$ref": "#" }, "default": {} }, "properties": { "type": "object", "additionalProperties": { "$ref": "#" }, "default": {} }, "patternProperties": { "type": "object", "additionalProperties": { "$ref": "#" }, "propertyNames": { "format": "regex" }, "default": {} }, "dependencies": { "type": "object", "additionalProperties": { "anyOf": [{ "$ref": "#" }, { "$ref": "#/definitions/stringArray" }] } }, "propertyNames": { "$ref": "#" }, "const": true, "enum": { "type": "array", "items": true, "minItems": 1, "uniqueItems": true }, "type": { "anyOf": [{ "$ref": "#/definitions/simpleTypes" }, { "type": "array", "items": { "$ref": "#/definitions/simpleTypes" }, "minItems": 1, "uniqueItems": true }] }, "format": { "type": "string" }, "contentMediaType": { "type": "string" }, "contentEncoding": { "type": "string" }, "if": { "$ref": "#" }, "then": { "$ref": "#" }, "else": { "$ref": "#" }, "allOf": { "$ref": "#/definitions/schemaArray" }, "anyOf": { "$ref": "#/definitions/schemaArray" }, "oneOf": { "$ref": "#/definitions/schemaArray" }, "not": { "$ref": "#" } };
  const require$$13 = {
    $schema: $schema$1,
    $id: $id$1,
    title,
    definitions,
    type: type$1,
    properties: properties$1,
    "default": true
  };
  var definition_schema;
  var hasRequiredDefinition_schema;
  function requireDefinition_schema() {
    if (hasRequiredDefinition_schema) return definition_schema;
    hasRequiredDefinition_schema = 1;
    var metaSchema = require$$13;
    definition_schema = {
      $id: "https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",
      definitions: {
        simpleTypes: metaSchema.definitions.simpleTypes
      },
      type: "object",
      dependencies: {
        schema: ["validate"],
        $data: ["validate"],
        statements: ["inline"],
        valid: { not: { required: ["macro"] } }
      },
      properties: {
        type: metaSchema.properties.type,
        schema: { type: "boolean" },
        statements: { type: "boolean" },
        dependencies: {
          type: "array",
          items: { type: "string" }
        },
        metaSchema: { type: "object" },
        modifying: { type: "boolean" },
        valid: { type: "boolean" },
        $data: { type: "boolean" },
        async: { type: "boolean" },
        errors: {
          anyOf: [
            { type: "boolean" },
            { const: "full" }
          ]
        }
      }
    };
    return definition_schema;
  }
  var keyword;
  var hasRequiredKeyword;
  function requireKeyword() {
    if (hasRequiredKeyword) return keyword;
    hasRequiredKeyword = 1;
    var IDENTIFIER = /^[a-z_$][a-z0-9_$-]*$/i;
    var customRuleCode = requireCustom();
    var definitionSchema = requireDefinition_schema();
    keyword = {
      add: addKeyword,
      get: getKeyword,
      remove: removeKeyword,
      validate: validateKeyword
    };
    function addKeyword(keyword2, definition) {
      var RULES = this.RULES;
      if (RULES.keywords[keyword2])
        throw new Error("Keyword " + keyword2 + " is already defined");
      if (!IDENTIFIER.test(keyword2))
        throw new Error("Keyword " + keyword2 + " is not a valid identifier");
      if (definition) {
        this.validateKeyword(definition, true);
        var dataType = definition.type;
        if (Array.isArray(dataType)) {
          for (var i = 0; i < dataType.length; i++)
            _addRule(keyword2, dataType[i], definition);
        } else {
          _addRule(keyword2, dataType, definition);
        }
        var metaSchema = definition.metaSchema;
        if (metaSchema) {
          if (definition.$data && this._opts.$data) {
            metaSchema = {
              anyOf: [
                metaSchema,
                { "$ref": "https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#" }
              ]
            };
          }
          definition.validateSchema = this.compile(metaSchema, true);
        }
      }
      RULES.keywords[keyword2] = RULES.all[keyword2] = true;
      function _addRule(keyword3, dataType2, definition2) {
        var ruleGroup;
        for (var i2 = 0; i2 < RULES.length; i2++) {
          var rg = RULES[i2];
          if (rg.type == dataType2) {
            ruleGroup = rg;
            break;
          }
        }
        if (!ruleGroup) {
          ruleGroup = { type: dataType2, rules: [] };
          RULES.push(ruleGroup);
        }
        var rule = {
          keyword: keyword3,
          definition: definition2,
          custom: true,
          code: customRuleCode,
          implements: definition2.implements
        };
        ruleGroup.rules.push(rule);
        RULES.custom[keyword3] = rule;
      }
      return this;
    }
    function getKeyword(keyword2) {
      var rule = this.RULES.custom[keyword2];
      return rule ? rule.definition : this.RULES.keywords[keyword2] || false;
    }
    function removeKeyword(keyword2) {
      var RULES = this.RULES;
      delete RULES.keywords[keyword2];
      delete RULES.all[keyword2];
      delete RULES.custom[keyword2];
      for (var i = 0; i < RULES.length; i++) {
        var rules2 = RULES[i].rules;
        for (var j = 0; j < rules2.length; j++) {
          if (rules2[j].keyword == keyword2) {
            rules2.splice(j, 1);
            break;
          }
        }
      }
      return this;
    }
    function validateKeyword(definition, throwError) {
      validateKeyword.errors = null;
      var v = this._validateKeyword = this._validateKeyword || this.compile(definitionSchema, true);
      if (v(definition)) return true;
      validateKeyword.errors = v.errors;
      if (throwError)
        throw new Error("custom keyword definition is invalid: " + this.errorsText(v.errors));
      else
        return false;
    }
    return keyword;
  }
  const $schema = "http://json-schema.org/draft-07/schema#";
  const $id = "https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#";
  const description = "Meta-schema for $data reference (JSON Schema extension proposal)";
  const type = "object";
  const required = ["$data"];
  const properties = { "$data": { "type": "string", "anyOf": [{ "format": "relative-json-pointer" }, { "format": "json-pointer" }] } };
  const additionalProperties = false;
  const require$$12 = {
    $schema,
    $id,
    description,
    type,
    required,
    properties,
    additionalProperties
  };
  var ajv;
  var hasRequiredAjv;
  function requireAjv() {
    if (hasRequiredAjv) return ajv;
    hasRequiredAjv = 1;
    var compileSchema = requireCompile(), resolve = requireResolve(), Cache = requireCache(), SchemaObject = requireSchema_obj(), stableStringify = requireFastJsonStableStringify(), formats = requireFormats(), rules2 = requireRules(), $dataMetaSchema = requireData(), util2 = requireUtil();
    ajv = Ajv2;
    Ajv2.prototype.validate = validate2;
    Ajv2.prototype.compile = compile;
    Ajv2.prototype.addSchema = addSchema;
    Ajv2.prototype.addMetaSchema = addMetaSchema;
    Ajv2.prototype.validateSchema = validateSchema;
    Ajv2.prototype.getSchema = getSchema;
    Ajv2.prototype.removeSchema = removeSchema;
    Ajv2.prototype.addFormat = addFormat;
    Ajv2.prototype.errorsText = errorsText;
    Ajv2.prototype._addSchema = _addSchema;
    Ajv2.prototype._compile = _compile;
    Ajv2.prototype.compileAsync = requireAsync();
    var customKeyword = requireKeyword();
    Ajv2.prototype.addKeyword = customKeyword.add;
    Ajv2.prototype.getKeyword = customKeyword.get;
    Ajv2.prototype.removeKeyword = customKeyword.remove;
    Ajv2.prototype.validateKeyword = customKeyword.validate;
    var errorClasses = requireError_classes();
    Ajv2.ValidationError = errorClasses.Validation;
    Ajv2.MissingRefError = errorClasses.MissingRef;
    Ajv2.$dataMetaSchema = $dataMetaSchema;
    var META_SCHEMA_ID = "http://json-schema.org/draft-07/schema";
    var META_IGNORE_OPTIONS = ["removeAdditional", "useDefaults", "coerceTypes", "strictDefaults"];
    var META_SUPPORT_DATA = ["/properties"];
    function Ajv2(opts) {
      if (!(this instanceof Ajv2)) return new Ajv2(opts);
      opts = this._opts = util2.copy(opts) || {};
      setLogger(this);
      this._schemas = {};
      this._refs = {};
      this._fragments = {};
      this._formats = formats(opts.format);
      this._cache = opts.cache || new Cache();
      this._loadingSchemas = {};
      this._compilations = [];
      this.RULES = rules2();
      this._getId = chooseGetId(opts);
      opts.loopRequired = opts.loopRequired || Infinity;
      if (opts.errorDataPath == "property") opts._errorDataPathProperty = true;
      if (opts.serialize === void 0) opts.serialize = stableStringify;
      this._metaOpts = getMetaSchemaOptions(this);
      if (opts.formats) addInitialFormats(this);
      if (opts.keywords) addInitialKeywords(this);
      addDefaultMetaSchema(this);
      if (typeof opts.meta == "object") this.addMetaSchema(opts.meta);
      if (opts.nullable) this.addKeyword("nullable", { metaSchema: { type: "boolean" } });
      addInitialSchemas(this);
    }
    function validate2(schemaKeyRef, data2) {
      var v;
      if (typeof schemaKeyRef == "string") {
        v = this.getSchema(schemaKeyRef);
        if (!v) throw new Error('no schema with key or ref "' + schemaKeyRef + '"');
      } else {
        var schemaObj = this._addSchema(schemaKeyRef);
        v = schemaObj.validate || this._compile(schemaObj);
      }
      var valid = v(data2);
      if (v.$async !== true) this.errors = v.errors;
      return valid;
    }
    function compile(schema, _meta) {
      var schemaObj = this._addSchema(schema, void 0, _meta);
      return schemaObj.validate || this._compile(schemaObj);
    }
    function addSchema(schema, key, _skipValidation, _meta) {
      if (Array.isArray(schema)) {
        for (var i = 0; i < schema.length; i++) this.addSchema(schema[i], void 0, _skipValidation, _meta);
        return this;
      }
      var id = this._getId(schema);
      if (id !== void 0 && typeof id != "string")
        throw new Error("schema id must be string");
      key = resolve.normalizeId(key || id);
      checkUnique(this, key);
      this._schemas[key] = this._addSchema(schema, _skipValidation, _meta, true);
      return this;
    }
    function addMetaSchema(schema, key, skipValidation) {
      this.addSchema(schema, key, skipValidation, true);
      return this;
    }
    function validateSchema(schema, throwOrLogError) {
      var $schema2 = schema.$schema;
      if ($schema2 !== void 0 && typeof $schema2 != "string")
        throw new Error("$schema must be a string");
      $schema2 = $schema2 || this._opts.defaultMeta || defaultMeta(this);
      if (!$schema2) {
        this.logger.warn("meta-schema not available");
        this.errors = null;
        return true;
      }
      var valid = this.validate($schema2, schema);
      if (!valid && throwOrLogError) {
        var message = "schema is invalid: " + this.errorsText();
        if (this._opts.validateSchema == "log") this.logger.error(message);
        else throw new Error(message);
      }
      return valid;
    }
    function defaultMeta(self) {
      var meta = self._opts.meta;
      self._opts.defaultMeta = typeof meta == "object" ? self._getId(meta) || meta : self.getSchema(META_SCHEMA_ID) ? META_SCHEMA_ID : void 0;
      return self._opts.defaultMeta;
    }
    function getSchema(keyRef) {
      var schemaObj = _getSchemaObj(this, keyRef);
      switch (typeof schemaObj) {
        case "object":
          return schemaObj.validate || this._compile(schemaObj);
        case "string":
          return this.getSchema(schemaObj);
        case "undefined":
          return _getSchemaFragment(this, keyRef);
      }
    }
    function _getSchemaFragment(self, ref2) {
      var res = resolve.schema.call(self, { schema: {} }, ref2);
      if (res) {
        var schema = res.schema, root = res.root, baseId = res.baseId;
        var v = compileSchema.call(self, schema, root, void 0, baseId);
        self._fragments[ref2] = new SchemaObject({
          ref: ref2,
          fragment: true,
          schema,
          root,
          baseId,
          validate: v
        });
        return v;
      }
    }
    function _getSchemaObj(self, keyRef) {
      keyRef = resolve.normalizeId(keyRef);
      return self._schemas[keyRef] || self._refs[keyRef] || self._fragments[keyRef];
    }
    function removeSchema(schemaKeyRef) {
      if (schemaKeyRef instanceof RegExp) {
        _removeAllSchemas(this, this._schemas, schemaKeyRef);
        _removeAllSchemas(this, this._refs, schemaKeyRef);
        return this;
      }
      switch (typeof schemaKeyRef) {
        case "undefined":
          _removeAllSchemas(this, this._schemas);
          _removeAllSchemas(this, this._refs);
          this._cache.clear();
          return this;
        case "string":
          var schemaObj = _getSchemaObj(this, schemaKeyRef);
          if (schemaObj) this._cache.del(schemaObj.cacheKey);
          delete this._schemas[schemaKeyRef];
          delete this._refs[schemaKeyRef];
          return this;
        case "object":
          var serialize = this._opts.serialize;
          var cacheKey = serialize ? serialize(schemaKeyRef) : schemaKeyRef;
          this._cache.del(cacheKey);
          var id = this._getId(schemaKeyRef);
          if (id) {
            id = resolve.normalizeId(id);
            delete this._schemas[id];
            delete this._refs[id];
          }
      }
      return this;
    }
    function _removeAllSchemas(self, schemas, regex) {
      for (var keyRef in schemas) {
        var schemaObj = schemas[keyRef];
        if (!schemaObj.meta && (!regex || regex.test(keyRef))) {
          self._cache.del(schemaObj.cacheKey);
          delete schemas[keyRef];
        }
      }
    }
    function _addSchema(schema, skipValidation, meta, shouldAddSchema) {
      if (typeof schema != "object" && typeof schema != "boolean")
        throw new Error("schema should be object or boolean");
      var serialize = this._opts.serialize;
      var cacheKey = serialize ? serialize(schema) : schema;
      var cached = this._cache.get(cacheKey);
      if (cached) return cached;
      shouldAddSchema = shouldAddSchema || this._opts.addUsedSchema !== false;
      var id = resolve.normalizeId(this._getId(schema));
      if (id && shouldAddSchema) checkUnique(this, id);
      var willValidate = this._opts.validateSchema !== false && !skipValidation;
      var recursiveMeta;
      if (willValidate && !(recursiveMeta = id && id == resolve.normalizeId(schema.$schema)))
        this.validateSchema(schema, true);
      var localRefs = resolve.ids.call(this, schema);
      var schemaObj = new SchemaObject({
        id,
        schema,
        localRefs,
        cacheKey,
        meta
      });
      if (id[0] != "#" && shouldAddSchema) this._refs[id] = schemaObj;
      this._cache.put(cacheKey, schemaObj);
      if (willValidate && recursiveMeta) this.validateSchema(schema, true);
      return schemaObj;
    }
    function _compile(schemaObj, root) {
      if (schemaObj.compiling) {
        schemaObj.validate = callValidate;
        callValidate.schema = schemaObj.schema;
        callValidate.errors = null;
        callValidate.root = root ? root : callValidate;
        if (schemaObj.schema.$async === true)
          callValidate.$async = true;
        return callValidate;
      }
      schemaObj.compiling = true;
      var currentOpts;
      if (schemaObj.meta) {
        currentOpts = this._opts;
        this._opts = this._metaOpts;
      }
      var v;
      try {
        v = compileSchema.call(this, schemaObj.schema, root, schemaObj.localRefs);
      } catch (e) {
        delete schemaObj.validate;
        throw e;
      } finally {
        schemaObj.compiling = false;
        if (schemaObj.meta) this._opts = currentOpts;
      }
      schemaObj.validate = v;
      schemaObj.refs = v.refs;
      schemaObj.refVal = v.refVal;
      schemaObj.root = v.root;
      return v;
      function callValidate() {
        var _validate = schemaObj.validate;
        var result = _validate.apply(this, arguments);
        callValidate.errors = _validate.errors;
        return result;
      }
    }
    function chooseGetId(opts) {
      switch (opts.schemaId) {
        case "auto":
          return _get$IdOrId;
        case "id":
          return _getId;
        default:
          return _get$Id;
      }
    }
    function _getId(schema) {
      if (schema.$id) this.logger.warn("schema $id ignored", schema.$id);
      return schema.id;
    }
    function _get$Id(schema) {
      if (schema.id) this.logger.warn("schema id ignored", schema.id);
      return schema.$id;
    }
    function _get$IdOrId(schema) {
      if (schema.$id && schema.id && schema.$id != schema.id)
        throw new Error("schema $id is different from id");
      return schema.$id || schema.id;
    }
    function errorsText(errors, options) {
      errors = errors || this.errors;
      if (!errors) return "No errors";
      options = options || {};
      var separator = options.separator === void 0 ? ", " : options.separator;
      var dataVar = options.dataVar === void 0 ? "data" : options.dataVar;
      var text = "";
      for (var i = 0; i < errors.length; i++) {
        var e = errors[i];
        if (e) text += dataVar + e.dataPath + " " + e.message + separator;
      }
      return text.slice(0, -separator.length);
    }
    function addFormat(name, format2) {
      if (typeof format2 == "string") format2 = new RegExp(format2);
      this._formats[name] = format2;
      return this;
    }
    function addDefaultMetaSchema(self) {
      var $dataSchema;
      if (self._opts.$data) {
        $dataSchema = require$$12;
        self.addMetaSchema($dataSchema, $dataSchema.$id, true);
      }
      if (self._opts.meta === false) return;
      var metaSchema = require$$13;
      if (self._opts.$data) metaSchema = $dataMetaSchema(metaSchema, META_SUPPORT_DATA);
      self.addMetaSchema(metaSchema, META_SCHEMA_ID, true);
      self._refs["http://json-schema.org/schema"] = META_SCHEMA_ID;
    }
    function addInitialSchemas(self) {
      var optsSchemas = self._opts.schemas;
      if (!optsSchemas) return;
      if (Array.isArray(optsSchemas)) self.addSchema(optsSchemas);
      else for (var key in optsSchemas) self.addSchema(optsSchemas[key], key);
    }
    function addInitialFormats(self) {
      for (var name in self._opts.formats) {
        var format2 = self._opts.formats[name];
        self.addFormat(name, format2);
      }
    }
    function addInitialKeywords(self) {
      for (var name in self._opts.keywords) {
        var keyword2 = self._opts.keywords[name];
        self.addKeyword(name, keyword2);
      }
    }
    function checkUnique(self, id) {
      if (self._schemas[id] || self._refs[id])
        throw new Error('schema with key or id "' + id + '" already exists');
    }
    function getMetaSchemaOptions(self) {
      var metaOpts = util2.copy(self._opts);
      for (var i = 0; i < META_IGNORE_OPTIONS.length; i++)
        delete metaOpts[META_IGNORE_OPTIONS[i]];
      return metaOpts;
    }
    function setLogger(self) {
      var logger2 = self._opts.logger;
      if (logger2 === false) {
        self.logger = { log: noop, warn: noop, error: noop };
      } else {
        if (logger2 === void 0) logger2 = console;
        if (!(typeof logger2 == "object" && logger2.log && logger2.warn && logger2.error))
          throw new Error("logger must implement log, warn and error methods");
        self.logger = logger2;
      }
    }
    function noop() {
    }
    return ajv;
  }
  var ajvExports = requireAjv();
  const Ajv = /* @__PURE__ */ getDefaultExportFromCjs(ajvExports);
  class Server extends Protocol {
    /**
     * Initializes this server with the given name and version information.
     */
    constructor(_serverInfo, options) {
      var _a;
      super(options);
      this._serverInfo = _serverInfo;
      this._capabilities = (_a = options === null || options === void 0 ? void 0 : options.capabilities) !== null && _a !== void 0 ? _a : {};
      this._instructions = options === null || options === void 0 ? void 0 : options.instructions;
      this.setRequestHandler(InitializeRequestSchema, (request) => this._oninitialize(request));
      this.setNotificationHandler(InitializedNotificationSchema, () => {
        var _a2;
        return (_a2 = this.oninitialized) === null || _a2 === void 0 ? void 0 : _a2.call(this);
      });
    }
    /**
     * Registers new capabilities. This can only be called before connecting to a transport.
     *
     * The new capabilities will be merged with any existing capabilities previously given (e.g., at initialization).
     */
    registerCapabilities(capabilities) {
      if (this.transport) {
        throw new Error("Cannot register capabilities after connecting to transport");
      }
      this._capabilities = mergeCapabilities(this._capabilities, capabilities);
    }
    assertCapabilityForMethod(method) {
      var _a, _b, _c;
      switch (method) {
        case "sampling/createMessage":
          if (!((_a = this._clientCapabilities) === null || _a === void 0 ? void 0 : _a.sampling)) {
            throw new Error(`Client does not support sampling (required for ${method})`);
          }
          break;
        case "elicitation/create":
          if (!((_b = this._clientCapabilities) === null || _b === void 0 ? void 0 : _b.elicitation)) {
            throw new Error(`Client does not support elicitation (required for ${method})`);
          }
          break;
        case "roots/list":
          if (!((_c = this._clientCapabilities) === null || _c === void 0 ? void 0 : _c.roots)) {
            throw new Error(`Client does not support listing roots (required for ${method})`);
          }
          break;
      }
    }
    assertNotificationCapability(method) {
      switch (method) {
        case "notifications/message":
          if (!this._capabilities.logging) {
            throw new Error(`Server does not support logging (required for ${method})`);
          }
          break;
        case "notifications/resources/updated":
        case "notifications/resources/list_changed":
          if (!this._capabilities.resources) {
            throw new Error(`Server does not support notifying about resources (required for ${method})`);
          }
          break;
        case "notifications/tools/list_changed":
          if (!this._capabilities.tools) {
            throw new Error(`Server does not support notifying of tool list changes (required for ${method})`);
          }
          break;
        case "notifications/prompts/list_changed":
          if (!this._capabilities.prompts) {
            throw new Error(`Server does not support notifying of prompt list changes (required for ${method})`);
          }
          break;
      }
    }
    assertRequestHandlerCapability(method) {
      switch (method) {
        case "sampling/createMessage":
          if (!this._capabilities.sampling) {
            throw new Error(`Server does not support sampling (required for ${method})`);
          }
          break;
        case "logging/setLevel":
          if (!this._capabilities.logging) {
            throw new Error(`Server does not support logging (required for ${method})`);
          }
          break;
        case "prompts/get":
        case "prompts/list":
          if (!this._capabilities.prompts) {
            throw new Error(`Server does not support prompts (required for ${method})`);
          }
          break;
        case "resources/list":
        case "resources/templates/list":
        case "resources/read":
          if (!this._capabilities.resources) {
            throw new Error(`Server does not support resources (required for ${method})`);
          }
          break;
        case "tools/call":
        case "tools/list":
          if (!this._capabilities.tools) {
            throw new Error(`Server does not support tools (required for ${method})`);
          }
          break;
      }
    }
    async _oninitialize(request) {
      const requestedVersion = request.params.protocolVersion;
      this._clientCapabilities = request.params.capabilities;
      this._clientVersion = request.params.clientInfo;
      const protocolVersion = SUPPORTED_PROTOCOL_VERSIONS.includes(requestedVersion) ? requestedVersion : LATEST_PROTOCOL_VERSION;
      return {
        protocolVersion,
        capabilities: this.getCapabilities(),
        serverInfo: this._serverInfo,
        ...this._instructions && { instructions: this._instructions }
      };
    }
    /**
     * After initialization has completed, this will be populated with the client's reported capabilities.
     */
    getClientCapabilities() {
      return this._clientCapabilities;
    }
    /**
     * After initialization has completed, this will be populated with information about the client's name and version.
     */
    getClientVersion() {
      return this._clientVersion;
    }
    getCapabilities() {
      return this._capabilities;
    }
    async ping() {
      return this.request({ method: "ping" }, EmptyResultSchema);
    }
    async createMessage(params, options) {
      return this.request({ method: "sampling/createMessage", params }, CreateMessageResultSchema, options);
    }
    async elicitInput(params, options) {
      const result = await this.request({ method: "elicitation/create", params }, ElicitResultSchema, options);
      if (result.action === "accept" && result.content) {
        try {
          const ajv2 = new Ajv();
          const validate2 = ajv2.compile(params.requestedSchema);
          const isValid2 = validate2(result.content);
          if (!isValid2) {
            throw new McpError(ErrorCode.InvalidParams, `Elicitation response content does not match requested schema: ${ajv2.errorsText(validate2.errors)}`);
          }
        } catch (error) {
          if (error instanceof McpError) {
            throw error;
          }
          throw new McpError(ErrorCode.InternalError, `Error validating elicitation response: ${error}`);
        }
      }
      return result;
    }
    async listRoots(params, options) {
      return this.request({ method: "roots/list", params }, ListRootsResultSchema, options);
    }
    async sendLoggingMessage(params) {
      return this.notification({ method: "notifications/message", params });
    }
    async sendResourceUpdated(params) {
      return this.notification({
        method: "notifications/resources/updated",
        params
      });
    }
    async sendResourceListChanged() {
      return this.notification({
        method: "notifications/resources/list_changed"
      });
    }
    async sendToolListChanged() {
      return this.notification({ method: "notifications/tools/list_changed" });
    }
    async sendPromptListChanged() {
      return this.notification({ method: "notifications/prompts/list_changed" });
    }
  }
  class HeartbeatTimeoutError extends Error {
    constructor(posterIdentifier, timeout) {
      super(`Heartbeat timeout for poster ${posterIdentifier} after ${timeout}ms`);
      this.name = "HeartbeatTimeoutError";
    }
  }
  const serverTransportMap = /* @__PURE__ */ new Map();
  class PostMessageServerTransport {
    constructor(options) {
      this.messageQueue = [];
      this.lastPongReceived = Date.now();
      if (serverTransportMap.has(options.posterIdentifier)) {
        const prevTransport = serverTransportMap.get(options.posterIdentifier);
        if (prevTransport) {
          prevTransport.close();
        }
      }
      this.posterIdentifier = options.posterIdentifier;
      this.messagePoster = options.messagePoster;
      this.addMessageEventListener = options.addMessageEventListener;
      this.removeMessageEventListener = options.removeMessageEventListener;
      this.heartbeatInterval = options.heartbeatInterval ?? 5e3;
      this.heartbeatTimeout = options.heartbeatTimeout ?? 5e3;
      this.debugDisableHeartbeatResponse = options.debugDisableHeartbeatResponse ?? false;
      serverTransportMap.set(this.posterIdentifier, this);
      this.listenMessageCallback = this.listenMessageCallback.bind(this);
      this.externalListenMessageCallback = this.addMessageEventListener(this.listenMessageCallback);
    }
    listenMessageCallback(message) {
      if (message.posterIdentifier !== this.posterIdentifier) return;
      if (message.channel === "sdppp-heartbeat") {
        if (message.type === "ping" && !this.debugDisableHeartbeatResponse) {
          this.messagePoster({
            channel: "sdppp-heartbeat",
            posterIdentifier: this.posterIdentifier,
            type: "pong",
            timestamp: message.timestamp
          });
        } else if (message.type === "pong") {
          this.lastPongReceived = Date.now();
          if (this.heartbeatTimeoutTimer) {
            clearTimeout(this.heartbeatTimeoutTimer);
            this.heartbeatTimeoutTimer = void 0;
          }
        }
        return;
      }
      if (message.channel !== "sdppp") return;
      if (this.onmessage && "payload" in message) {
        this.onmessage(message.payload);
      } else if ("payload" in message) {
        this.messageQueue.push(message.payload);
      }
    }
    async start() {
      while (this.messageQueue.length > 0) {
        const queuedMessage = this.messageQueue.shift();
        if (queuedMessage && this.onmessage) {
          this.onmessage(queuedMessage);
        }
      }
      this.startHeartbeat();
    }
    startHeartbeat() {
      this.heartbeatTimer = setInterval(() => {
        const now = Date.now();
        this.messagePoster({
          channel: "sdppp-heartbeat",
          posterIdentifier: this.posterIdentifier,
          type: "ping",
          timestamp: now
        });
        this.heartbeatTimeoutTimer = setTimeout(() => {
          const error = new HeartbeatTimeoutError(this.posterIdentifier, this.heartbeatTimeout);
          if (this.onerror) {
            this.onerror(error);
          }
        }, this.heartbeatTimeout);
      }, this.heartbeatInterval);
    }
    async send(message, options) {
      this.messagePoster({
        channel: "sdppp",
        posterIdentifier: this.posterIdentifier,
        payload: message
      });
    }
    async close() {
      if (this.heartbeatTimer) {
        clearInterval(this.heartbeatTimer);
        this.heartbeatTimer = void 0;
      }
      if (this.heartbeatTimeoutTimer) {
        clearTimeout(this.heartbeatTimeoutTimer);
        this.heartbeatTimeoutTimer = void 0;
      }
      serverTransportMap.delete(this.posterIdentifier);
      this.removeMessageEventListener(this.externalListenMessageCallback);
    }
  }
  const log = logger.extend("mesh");
  async function connectSDK() {
    const transport = new PostMessageServerTransport({
      posterIdentifier: "sdk-uxp",
      messagePoster: (message) => {
        window.uxpHost.postMessage(message, "*");
      },
      addMessageEventListener: (originListener) => {
        const listener = (payload) => {
          originListener(payload.data);
        };
        window.addEventListener("message", listener);
        return listener;
      },
      removeMessageEventListener: (listener) => {
        window.removeEventListener("message", listener);
      }
    });
    transport.onerror = (error) => {
      log("sdk side transport.onerror", error);
    };
    const server = new Server({
      name: "sdk-main",
      version: "1.0.0"
    }, {});
    const session = new MCPSDPPPSessionAdaptor(server);
    await session.connect(transport);
    window.uxpHost.postMessage({
      channel: "mcp-mesh-router",
      meshName: "sdk",
      action: "connect"
    }, "*");
    console.log("SDKConnect end");
    return await mcpMesh.connect("uxp", session);
  }
  const index = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
    __proto__: null,
    connectSDK,
    mcpMesh,
    registerProxyDomains
  }, Symbol.toStringTag, { value: "Module" }));
  const sdpppSDK = {
    async init() {
      await connectSDK();
      logger("client connected");
    },
    logger,
    stores: {
      PhotoshopStore: mcpMesh.getNode("uxp").store,
      WebviewStore: mcpMesh.store,
      ComfyStore: mcpMesh.getNode("comfy").store
    },
    plugins: {
      ComfyCaller: mcpMesh.getNode("comfy").actions,
      photoshop: mcpMesh.getNode("uxp").actions,
      fetchProxy: {
        registerProxyDomains
      },
      sdpppX: Object.create({}, {
        broadcast: {
          value: (name, payload) => {
            mcpMesh.broadcast(name, payload);
          },
          enumerable: false
        }
      })
    },
    uxpEvent: {
      on: sdkEventEmitter.on.bind(sdkEventEmitter),
      off: sdkEventEmitter.off.bind(sdkEventEmitter),
      once: sdkEventEmitter.once.bind(sdkEventEmitter),
      removeAllListeners: sdkEventEmitter.removeAllListeners.bind(sdkEventEmitter)
    }
  };
  globalThis.sdpppSDK = sdpppSDK;
})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2RwcHAtcHMtc2RrLWNodW5rLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvbWNwLW1lc2gvcnBjLWFjdGlvbnN0b3JlL0dyYXBoRGVmaW5pdGlvbi50cyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96dXN0YW5kQDUuMC43X0B0eXBlcytyZWFjdEAxOS4xLjZfcmVhY3RAMTkuMS4wL25vZGVfbW9kdWxlcy96dXN0YW5kL2VzbS92YW5pbGxhLm1qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RAMy4yNS43Ni9ub2RlX21vZHVsZXMvem9kL3YzL2hlbHBlcnMvdXRpbC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RAMy4yNS43Ni9ub2RlX21vZHVsZXMvem9kL3YzL1pvZEVycm9yLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEAzLjI1Ljc2L25vZGVfbW9kdWxlcy96b2QvdjMvbG9jYWxlcy9lbi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RAMy4yNS43Ni9ub2RlX21vZHVsZXMvem9kL3YzL2Vycm9ycy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RAMy4yNS43Ni9ub2RlX21vZHVsZXMvem9kL3YzL2hlbHBlcnMvcGFyc2VVdGlsLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEAzLjI1Ljc2L25vZGVfbW9kdWxlcy96b2QvdjMvaGVscGVycy9lcnJvclV0aWwuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDMuMjUuNzYvbm9kZV9tb2R1bGVzL3pvZC92My90eXBlcy5qcyIsIi4uLy4uLy4uLy4uL2ludGVybmFscy9tY3AtbWVzaC9ycGMtYWN0aW9uc3RvcmUvTm9kZVByb3h5LnRzIiwiLi4vLi4vLi4vLi4vaW50ZXJuYWxzL21jcC1tZXNoL3JwYy1hY3Rpb25zdG9yZS9TdG9yZUJpbmRlci9HcmFwaFN0b3JlU3luY2hyb25pemVyLnRzIiwiLi4vLi4vLi4vLi4vaW50ZXJuYWxzL21jcC1tZXNoL3JwYy1hY3Rpb25zdG9yZS9TdG9yZUJpbmRlci9TdG9yZUJpbmRlci50cyIsIi4uLy4uLy4uLy4uL2ludGVybmFscy9tY3AtbWVzaC9ycGMtYWN0aW9uc3RvcmUvQnJvYWRjYXN0TWFuYWdlci50cyIsIi4uLy4uLy4uLy4uL2ludGVybmFscy9tY3AtbWVzaC9ycGMtYWN0aW9uc3RvcmUvQWN0aW9uTWFuYWdlci50cyIsIi4uLy4uLy4uLy4uL2ludGVybmFscy9tY3AtbWVzaC9ycGMtYWN0aW9uc3RvcmUvQ29ubmVjdGlvbk1hbmFnZXIudHMiLCIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvbWNwLW1lc2gvcnBjLWFjdGlvbnN0b3JlL0dyYXBoSW5zdGFuY2UudHMiLCIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvbWNwLW1lc2gvc2Vzc2lvbnMvTUNQU0RQUFBBZGFwdG9yL01DUE1pZGRsZXdhcmUvdHlwZXMudHMiLCIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvbWNwLW1lc2gvc2Vzc2lvbnMvTUNQU0RQUFBBZGFwdG9yL01DUE1pZGRsZXdhcmUvTUNQTWlkZGxld2FyZS50cyIsIi4uLy4uLy4uLy4uL2ludGVybmFscy9tY3AtbWVzaC9zZXNzaW9ucy9NQ1BTRFBQUEFkYXB0b3IvU3RyZWFtUmVxdWVzdG9yLnRzIiwiLi4vLi4vLi4vLi4vaW50ZXJuYWxzL21jcC1tZXNoL3Nlc3Npb25zL01DUFNEUFBQQWRhcHRvci9NQ1BTRFBQUFNlc3Npb25BZGFwdG9yLnRzIiwiLi4vLi4vLi4vLi4vaW50ZXJuYWxzL21jcC1tZXNoL3JwYy1hY3Rpb25zdG9yZS9pbmRleC50cyIsIi4uLy4uLy4uLy4uL2ludGVybmFscy9tY3AtbWVzaC1waG90b3Nob3AvYWN0aW9ucy91eHAtcGhvdG9zaG9wLWRlZnMudHMiLCIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvbWNwLW1lc2gtcGhvdG9zaG9wL3N0b3Jlcy9zZGsudHMiLCIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvbWNwLW1lc2gtcGhvdG9zaG9wL3N0b3Jlcy91eHAudHMiLCIuLi8uLi8uLi9wcy1jb21tb24vc2NoZW1hcy9zY2hlbWFzLnRzIiwiLi4vLi4vLi4vLi4vaW50ZXJuYWxzL21jcC1tZXNoLXBob3Rvc2hvcC9zdG9yZXMvY29tZnkudHMiLCIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvbWNwLW1lc2gtcGhvdG9zaG9wL2FjdGlvbnMvc2RrLWRlZnMudHMiLCIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvbWNwLW1lc2gtcGhvdG9zaG9wL2FjdGlvbnMvdXhwLXV0aWwtZGVmcy50cyIsIi4uLy4uLy4uLy4uL2ludGVybmFscy9tY3AtbWVzaC1waG90b3Nob3AvYWN0aW9ucy91eHAtaW1hZ2luZy1kZWZzLnRzIiwiLi4vLi4vLi4vLi4vaW50ZXJuYWxzL21jcC1tZXNoLXBob3Rvc2hvcC9hY3Rpb25zL3V4cC1hdXRoLWRlZnMudHMiLCIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvbWNwLW1lc2gtcGhvdG9zaG9wL2FjdGlvbnMvdXhwLXRhc2stbWFuYWdlbWVudC1kZWZzLnRzIiwiLi4vLi4vLi4vLi4vaW50ZXJuYWxzL21jcC1tZXNoLXBob3Rvc2hvcC9hY3Rpb25zL2NvbWZ5LXdvcmtmbG93LWRlZnMudHMiLCIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvbWNwLW1lc2gtcGhvdG9zaG9wL2FjdGlvbnMvY29tZnktdXRpbC1kZWZzLnRzIiwiLi4vLi4vLi4vLi4vaW50ZXJuYWxzL21jcC1tZXNoLXBob3Rvc2hvcC9tZXNoZGVmcy50cyIsIi4uLy4uLy4uLy4uL2ludGVybmFscy9wcy11eHAtc2RrL3NyYy9tZXNoL21lc2gudHMiLCIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvcHMtdXhwLXNkay9zcmMvbWVzaC9saWIva2V5LnRzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL21zQDIuMS4zL25vZGVfbW9kdWxlcy9tcy9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kZWJ1Z0A0LjQuMV9zdXBwb3J0cy1jb2xvckA4LjEuMS9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2NvbW1vbi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9kZWJ1Z0A0LjQuMV9zdXBwb3J0cy1jb2xvckA4LjEuMS9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanMiLCIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvaW50ZXJuYWwtY29tbW9uL2xvZ2dlci50cyIsIi4uLy4uLy4uLy4uL2ludGVybmFscy9wcy11eHAtc2RrL3NyYy9sb2dnZXIudHMiLCIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvcHMtdXhwLXNkay9zcmMvbWVzaC9saWIvZmV0Y2gtcHJveHkudHMiLCIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvcHMtdXhwLXNkay9zcmMvZXZlbnRzLnRzIiwiLi4vLi4vLi4vLi4vaW50ZXJuYWxzL3BzLXV4cC1zZGsvc3JjL21lc2gvYWN0aW9ucy9uYXZpZ2F0aW9uLnRzIiwiLi4vLi4vLi4vLi4vaW50ZXJuYWxzL3BzLXV4cC1zZGsvc3JjL21lc2gvc3RvcmUvc2RrLXN0b3JlLW1haW50YWlucy50cyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AbW9kZWxjb250ZXh0cHJvdG9jb2wrc2RrQDEuMTYuMC9ub2RlX21vZHVsZXMvQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay9kaXN0L2VzbS90eXBlcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AbW9kZWxjb250ZXh0cHJvdG9jb2wrc2RrQDEuMTYuMC9ub2RlX21vZHVsZXMvQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay9kaXN0L2VzbS9zaGFyZWQvcHJvdG9jb2wuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vdXJpLWpzQDQuNC4xL25vZGVfbW9kdWxlcy91cmktanMvZGlzdC9lczUvdXJpLmFsbC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mYXN0LWRlZXAtZXF1YWxAMy4xLjMvbm9kZV9tb2R1bGVzL2Zhc3QtZGVlcC1lcXVhbC9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2NvbXBpbGUvdWNzMmxlbmd0aC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2NvbXBpbGUvdXRpbC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2NvbXBpbGUvc2NoZW1hX29iai5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9qc29uLXNjaGVtYS10cmF2ZXJzZUAwLjQuMS9ub2RlX21vZHVsZXMvanNvbi1zY2hlbWEtdHJhdmVyc2UvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9jb21waWxlL3Jlc29sdmUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9jb21waWxlL2Vycm9yX2NsYXNzZXMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vZmFzdC1qc29uLXN0YWJsZS1zdHJpbmdpZnlAMi4xLjAvbm9kZV9tb2R1bGVzL2Zhc3QtanNvbi1zdGFibGUtc3RyaW5naWZ5L2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIvZG90anMvdmFsaWRhdGUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9jb21waWxlL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIvY2FjaGUuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9jb21waWxlL2Zvcm1hdHMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy9yZWYuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy9hbGxPZi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL2FueU9mLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIvZG90anMvY29tbWVudC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL2NvbnN0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIvZG90anMvY29udGFpbnMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy9kZXBlbmRlbmNpZXMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy9lbnVtLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIvZG90anMvZm9ybWF0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIvZG90anMvaWYuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy9pdGVtcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL19saW1pdC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL19saW1pdEl0ZW1zLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIvZG90anMvX2xpbWl0TGVuZ3RoLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIvZG90anMvX2xpbWl0UHJvcGVydGllcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL211bHRpcGxlT2YuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy9ub3QuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy9vbmVPZi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL3BhdHRlcm4uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy9wcm9wZXJ0aWVzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIvZG90anMvcHJvcGVydHlOYW1lcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL3JlcXVpcmVkLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIvZG90anMvdW5pcXVlSXRlbXMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2NvbXBpbGUvcnVsZXMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9kYXRhLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIvY29tcGlsZS9hc3luYy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL2N1c3RvbS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2RlZmluaXRpb25fc2NoZW1hLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIva2V5d29yZC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2Fqdi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AbW9kZWxjb250ZXh0cHJvdG9jb2wrc2RrQDEuMTYuMC9ub2RlX21vZHVsZXMvQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay9kaXN0L2VzbS9zZXJ2ZXIvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvbWNwLXBvc3RtZXNzYWdlLXRyYW5zcG9ydC9zY2hlbWEudHMiLCIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvbWNwLXBvc3RtZXNzYWdlLXRyYW5zcG9ydC9Qb3N0TWVzc2FnZVNlcnZlclRyYW5zcG9ydC50cyIsIi4uLy4uLy4uLy4uL2ludGVybmFscy9wcy11eHAtc2RrL3NyYy9tZXNoL2luZGV4LnRzIiwiLi4vLi4vLi4vLi4vaW50ZXJuYWxzL3BzLXV4cC1zZGsvc3JjL2VudHJ5LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgR3JhcGhEZWZpbml0aW9uLCBOb2RlRGVmaW5pdGlvbiwgVmFsaWRhdGlvblJlc3VsdCB9IGZyb20gJy4vdHlwZXMudHMnO1xuXG5leHBvcnQgY2xhc3MgR3JhcGhEZWZpbml0aW9uQ2xhc3Mge1xuICBwcml2YXRlIGRlZmluaXRpb246IEdyYXBoRGVmaW5pdGlvbjtcblxuICBjb25zdHJ1Y3RvcihkZWZpbml0aW9uOiBHcmFwaERlZmluaXRpb24pIHtcbiAgICB0aGlzLmRlZmluaXRpb24gPSBkZWZpbml0aW9uO1xuICAgIGNvbnN0IHZhbGlkYXRpb24gPSB0aGlzLnZhbGlkYXRlKCk7XG4gICAgaWYgKCF2YWxpZGF0aW9uLnZhbGlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZ3JhcGggZGVmaW5pdGlvbjogJHt2YWxpZGF0aW9uLmVycm9ycy5qb2luKCcsICcpfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZSB0aGUgZ3JhcGggZGVmaW5pdGlvblxuICAgKi9cbiAgcHJpdmF0ZSB2YWxpZGF0ZSgpOiBWYWxpZGF0aW9uUmVzdWx0IHtcbiAgICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XG5cbiAgICAvLyBWYWxpZGF0ZSBub2RlcyBleGlzdFxuICAgIGlmICghdGhpcy5kZWZpbml0aW9uLm5vZGVzIHx8IE9iamVjdC5rZXlzKHRoaXMuZGVmaW5pdGlvbi5ub2RlcykubGVuZ3RoID09PSAwKSB7XG4gICAgICBlcnJvcnMucHVzaCgnR3JhcGggbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBub2RlJyk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgZWRnZXMgcmVmZXJlbmNlIHZhbGlkIG5vZGVzXG4gICAgZm9yIChjb25zdCBbZnJvbSwgdG9dIG9mIHRoaXMuZGVmaW5pdGlvbi5lZGdlcykge1xuICAgICAgaWYgKCF0aGlzLmRlZmluaXRpb24ubm9kZXNbZnJvbV0pIHtcbiAgICAgICAgZXJyb3JzLnB1c2goYEVkZ2UgcmVmZXJlbmNlcyB1bmtub3duIHNvdXJjZSBub2RlOiAke2Zyb219YCk7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuZGVmaW5pdGlvbi5ub2Rlc1t0b10pIHtcbiAgICAgICAgZXJyb3JzLnB1c2goYEVkZ2UgcmVmZXJlbmNlcyB1bmtub3duIHRhcmdldCBub2RlOiAke3RvfWApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBjeWNsZXNcbiAgICBjb25zdCBjeWNsZUNoZWNrID0gdGhpcy5kZXRlY3RDeWNsZXMoKTtcbiAgICBpZiAoIWN5Y2xlQ2hlY2sudmFsaWQpIHtcbiAgICAgIGVycm9ycy5wdXNoKC4uLmN5Y2xlQ2hlY2suZXJyb3JzKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdmFsaWQ6IGVycm9ycy5sZW5ndGggPT09IDAsXG4gICAgICBlcnJvcnNcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkIGRpcmVjdGVkIGFkamFjZW5jeSBsaXN0IGZyb20gZWRnZXMgKGZvciBjeWNsZSBkZXRlY3Rpb24pXG4gICAqL1xuICBwcml2YXRlIGJ1aWxkRGlyZWN0ZWRBZGphY2VuY3lMaXN0KCk6IE1hcDxzdHJpbmcsIHN0cmluZ1tdPiB7XG4gICAgY29uc3QgYWRqYWNlbmN5TGlzdCA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmdbXT4oKTtcblxuICAgIC8vIEluaXRpYWxpemUgYWxsIG5vZGVzXG4gICAgZm9yIChjb25zdCBub2RlSWQgb2YgT2JqZWN0LmtleXModGhpcy5kZWZpbml0aW9uLm5vZGVzKSkge1xuICAgICAgYWRqYWNlbmN5TGlzdC5zZXQobm9kZUlkLCBbXSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIGVkZ2VzIChkaXJlY3RlZCBvbmx5KVxuICAgIGZvciAoY29uc3QgW2Zyb20sIHRvXSBvZiB0aGlzLmRlZmluaXRpb24uZWRnZXMpIHtcbiAgICAgIGNvbnN0IG5laWdoYm9ycyA9IGFkamFjZW5jeUxpc3QuZ2V0KGZyb20pIHx8IFtdO1xuICAgICAgbmVpZ2hib3JzLnB1c2godG8pO1xuICAgICAgYWRqYWNlbmN5TGlzdC5zZXQoZnJvbSwgbmVpZ2hib3JzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWRqYWNlbmN5TGlzdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlY3QgY3ljbGVzIGluIHRoZSBncmFwaCB1c2luZyBERlNcbiAgICovXG4gIHByaXZhdGUgZGV0ZWN0Q3ljbGVzKCk6IFZhbGlkYXRpb25SZXN1bHQge1xuICAgIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcbiAgICBjb25zdCB2aXNpdGVkID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgY29uc3QgcmVjdXJzaW9uU3RhY2sgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICBjb25zdCBhZGphY2VuY3lMaXN0ID0gdGhpcy5idWlsZERpcmVjdGVkQWRqYWNlbmN5TGlzdCgpOyAvLyBVc2UgZGlyZWN0ZWQgbGlzdCBmb3IgY3ljbGUgZGV0ZWN0aW9uXG5cbiAgICBjb25zdCBkZnMgPSAobm9kZTogc3RyaW5nLCBwYXRoOiBzdHJpbmdbXSk6IGJvb2xlYW4gPT4ge1xuICAgICAgaWYgKHJlY3Vyc2lvblN0YWNrLmhhcyhub2RlKSkge1xuICAgICAgICBjb25zdCBjeWNsZVN0YXJ0ID0gcGF0aC5pbmRleE9mKG5vZGUpO1xuICAgICAgICBjb25zdCBjeWNsZSA9IHBhdGguc2xpY2UoY3ljbGVTdGFydCkuY29uY2F0KG5vZGUpO1xuICAgICAgICBlcnJvcnMucHVzaChgQ3ljbGUgZGV0ZWN0ZWQ6ICR7Y3ljbGUuam9pbignIC0+ICcpfWApO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHZpc2l0ZWQuaGFzKG5vZGUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmlzaXRlZC5hZGQobm9kZSk7XG4gICAgICByZWN1cnNpb25TdGFjay5hZGQobm9kZSk7XG5cbiAgICAgIGNvbnN0IG5laWdoYm9ycyA9IGFkamFjZW5jeUxpc3QuZ2V0KG5vZGUpIHx8IFtdO1xuICAgICAgZm9yIChjb25zdCBuZWlnaGJvciBvZiBuZWlnaGJvcnMpIHtcbiAgICAgICAgaWYgKGRmcyhuZWlnaGJvciwgWy4uLnBhdGgsIG5vZGVdKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJlY3Vyc2lvblN0YWNrLmRlbGV0ZShub2RlKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLy8gQ2hlY2sgZWFjaCBub2RlIGFzIGEgcG90ZW50aWFsIGN5Y2xlIHN0YXJ0XG4gICAgZm9yIChjb25zdCBub2RlSWQgb2YgT2JqZWN0LmtleXModGhpcy5kZWZpbml0aW9uLm5vZGVzKSkge1xuICAgICAgaWYgKCF2aXNpdGVkLmhhcyhub2RlSWQpKSB7XG4gICAgICAgIGRmcyhub2RlSWQsIFtdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgdmFsaWQ6IGVycm9ycy5sZW5ndGggPT09IDAsXG4gICAgICBlcnJvcnNcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkIGFkamFjZW5jeSBsaXN0IGZyb20gZWRnZXMgKGJpZGlyZWN0aW9uYWwpXG4gICAqL1xuICBwcml2YXRlIGJ1aWxkQWRqYWNlbmN5TGlzdCgpOiBNYXA8c3RyaW5nLCBzdHJpbmdbXT4ge1xuICAgIGNvbnN0IGFkamFjZW5jeUxpc3QgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nW10+KCk7XG5cbiAgICAvLyBJbml0aWFsaXplIGFsbCBub2Rlc1xuICAgIGZvciAoY29uc3Qgbm9kZUlkIG9mIE9iamVjdC5rZXlzKHRoaXMuZGVmaW5pdGlvbi5ub2RlcykpIHtcbiAgICAgIGFkamFjZW5jeUxpc3Quc2V0KG5vZGVJZCwgW10pO1xuICAgIH1cblxuICAgIC8vIEFkZCBlZGdlcyAoYmlkaXJlY3Rpb25hbClcbiAgICBmb3IgKGNvbnN0IFtmcm9tLCB0b10gb2YgdGhpcy5kZWZpbml0aW9uLmVkZ2VzKSB7XG4gICAgICAvLyBBZGQgdG8gLT4gZnJvbVxuICAgICAgY29uc3QgZnJvbU5laWdoYm9ycyA9IGFkamFjZW5jeUxpc3QuZ2V0KGZyb20pIHx8IFtdO1xuICAgICAgZnJvbU5laWdoYm9ycy5wdXNoKHRvKTtcbiAgICAgIGFkamFjZW5jeUxpc3Quc2V0KGZyb20sIGZyb21OZWlnaGJvcnMpO1xuXG4gICAgICAvLyBBZGQgZnJvbSAtPiB0byAoYmlkaXJlY3Rpb25hbClcbiAgICAgIGNvbnN0IHRvTmVpZ2hib3JzID0gYWRqYWNlbmN5TGlzdC5nZXQodG8pIHx8IFtdO1xuICAgICAgdG9OZWlnaGJvcnMucHVzaChmcm9tKTtcbiAgICAgIGFkamFjZW5jeUxpc3Quc2V0KHRvLCB0b05laWdoYm9ycyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFkamFjZW5jeUxpc3Q7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBuZWlnaGJvcnMgb2YgYSBub2RlXG4gICAqL1xuICBnZXROZWlnaGJvcnMobm9kZUlkOiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgYWRqYWNlbmN5TGlzdCA9IHRoaXMuYnVpbGRBZGphY2VuY3lMaXN0KCk7XG4gICAgcmV0dXJuIGFkamFjZW5jeUxpc3QuZ2V0KG5vZGVJZCkgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogR2V0IG5vZGUgZGVmaW5pdGlvblxuICAgKi9cbiAgZ2V0Tm9kZShub2RlSWQ6IHN0cmluZyk6IE5vZGVEZWZpbml0aW9uIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5kZWZpbml0aW9uLm5vZGVzW25vZGVJZF07XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBub2RlIElEc1xuICAgKi9cbiAgZ2V0Tm9kZUlkcygpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZGVmaW5pdGlvbi5ub2Rlcyk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgZWRnZSBleGlzdHMgYmV0d2VlbiB0d28gbm9kZXMgKGJpZGlyZWN0aW9uYWwpXG4gICAqL1xuICBoYXNFZGdlKGZyb206IHN0cmluZywgdG86IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmRlZmluaXRpb24uZWRnZXMuc29tZSgoW2YsIHRdKSA9PiBcbiAgICAgIChmID09PSBmcm9tICYmIHQgPT09IHRvKSB8fCAoZiA9PT0gdG8gJiYgdCA9PT0gZnJvbSlcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmQgcGF0aCBiZXR3ZWVuIHR3byBub2RlcyB1c2luZyBCRlNcbiAgICogUmV0dXJucyBzaG9ydGVzdCBwYXRoIGFzIGFycmF5IG9mIG5vZGUgSURzLCBvciBudWxsIGlmIG5vIHBhdGggZXhpc3RzXG4gICAqL1xuICBmaW5kUGF0aChmcm9tOiBzdHJpbmcsIHRvOiBzdHJpbmcpOiBzdHJpbmdbXSB8IG51bGwge1xuICAgIGlmIChmcm9tID09PSB0bykge1xuICAgICAgcmV0dXJuIFtmcm9tXTtcbiAgICB9XG5cbiAgICBjb25zdCBhZGphY2VuY3lMaXN0ID0gdGhpcy5idWlsZEFkamFjZW5jeUxpc3QoKTtcbiAgICBjb25zdCBxdWV1ZTogeyBub2RlSWQ6IHN0cmluZzsgcGF0aDogc3RyaW5nW10gfVtdID0gW3sgbm9kZUlkOiBmcm9tLCBwYXRoOiBbZnJvbV0gfV07XG4gICAgY29uc3QgdmlzaXRlZCA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXG4gICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHsgbm9kZUlkLCBwYXRoIH0gPSBxdWV1ZS5zaGlmdCgpITtcbiAgICAgIFxuICAgICAgaWYgKHZpc2l0ZWQuaGFzKG5vZGVJZCkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHZpc2l0ZWQuYWRkKG5vZGVJZCk7XG4gICAgICBcbiAgICAgIGlmIChub2RlSWQgPT09IHRvKSB7XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBuZWlnaGJvcnMgPSBhZGphY2VuY3lMaXN0LmdldChub2RlSWQpIHx8IFtdO1xuICAgICAgZm9yIChjb25zdCBuZWlnaGJvciBvZiBuZWlnaGJvcnMpIHtcbiAgICAgICAgaWYgKCF2aXNpdGVkLmhhcyhuZWlnaGJvcikpIHtcbiAgICAgICAgICBxdWV1ZS5wdXNoKHsgbm9kZUlkOiBuZWlnaGJvciwgcGF0aDogWy4uLnBhdGgsIG5laWdoYm9yXSB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZXJlJ3MgYSBwYXRoIGJldHdlZW4gdHdvIG5vZGVzIChkaXJlY3Qgb3IgaW5kaXJlY3QpXG4gICAqL1xuICBoYXNQYXRoKGZyb206IHN0cmluZywgdG86IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmZpbmRQYXRoKGZyb20sIHRvKSAhPT0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHJhdyBkZWZpbml0aW9uXG4gICAqL1xuICBnZXREZWZpbml0aW9uKCk6IEdyYXBoRGVmaW5pdGlvbiB7XG4gICAgcmV0dXJuIHsgLi4udGhpcy5kZWZpbml0aW9uIH07XG4gIH1cbn0iLCJjb25zdCBjcmVhdGVTdG9yZUltcGwgPSAoY3JlYXRlU3RhdGUpID0+IHtcbiAgbGV0IHN0YXRlO1xuICBjb25zdCBsaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBjb25zdCBzZXRTdGF0ZSA9IChwYXJ0aWFsLCByZXBsYWNlKSA9PiB7XG4gICAgY29uc3QgbmV4dFN0YXRlID0gdHlwZW9mIHBhcnRpYWwgPT09IFwiZnVuY3Rpb25cIiA/IHBhcnRpYWwoc3RhdGUpIDogcGFydGlhbDtcbiAgICBpZiAoIU9iamVjdC5pcyhuZXh0U3RhdGUsIHN0YXRlKSkge1xuICAgICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHN0YXRlO1xuICAgICAgc3RhdGUgPSAocmVwbGFjZSAhPSBudWxsID8gcmVwbGFjZSA6IHR5cGVvZiBuZXh0U3RhdGUgIT09IFwib2JqZWN0XCIgfHwgbmV4dFN0YXRlID09PSBudWxsKSA/IG5leHRTdGF0ZSA6IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBuZXh0U3RhdGUpO1xuICAgICAgbGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcihzdGF0ZSwgcHJldmlvdXNTdGF0ZSkpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZ2V0U3RhdGUgPSAoKSA9PiBzdGF0ZTtcbiAgY29uc3QgZ2V0SW5pdGlhbFN0YXRlID0gKCkgPT4gaW5pdGlhbFN0YXRlO1xuICBjb25zdCBzdWJzY3JpYmUgPSAobGlzdGVuZXIpID0+IHtcbiAgICBsaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgICByZXR1cm4gKCkgPT4gbGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gIH07XG4gIGNvbnN0IGFwaSA9IHsgc2V0U3RhdGUsIGdldFN0YXRlLCBnZXRJbml0aWFsU3RhdGUsIHN1YnNjcmliZSB9O1xuICBjb25zdCBpbml0aWFsU3RhdGUgPSBzdGF0ZSA9IGNyZWF0ZVN0YXRlKHNldFN0YXRlLCBnZXRTdGF0ZSwgYXBpKTtcbiAgcmV0dXJuIGFwaTtcbn07XG5jb25zdCBjcmVhdGVTdG9yZSA9IChjcmVhdGVTdGF0ZSkgPT4gY3JlYXRlU3RhdGUgPyBjcmVhdGVTdG9yZUltcGwoY3JlYXRlU3RhdGUpIDogY3JlYXRlU3RvcmVJbXBsO1xuXG5leHBvcnQgeyBjcmVhdGVTdG9yZSB9O1xuIiwiZXhwb3J0IHZhciB1dGlsO1xuKGZ1bmN0aW9uICh1dGlsKSB7XG4gICAgdXRpbC5hc3NlcnRFcXVhbCA9IChfKSA9PiB7IH07XG4gICAgZnVuY3Rpb24gYXNzZXJ0SXMoX2FyZykgeyB9XG4gICAgdXRpbC5hc3NlcnRJcyA9IGFzc2VydElzO1xuICAgIGZ1bmN0aW9uIGFzc2VydE5ldmVyKF94KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgIH1cbiAgICB1dGlsLmFzc2VydE5ldmVyID0gYXNzZXJ0TmV2ZXI7XG4gICAgdXRpbC5hcnJheVRvRW51bSA9IChpdGVtcykgPT4ge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBvYmpbaXRlbV0gPSBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICB1dGlsLmdldFZhbGlkRW51bVZhbHVlcyA9IChvYmopID0+IHtcbiAgICAgICAgY29uc3QgdmFsaWRLZXlzID0gdXRpbC5vYmplY3RLZXlzKG9iaikuZmlsdGVyKChrKSA9PiB0eXBlb2Ygb2JqW29ialtrXV0gIT09IFwibnVtYmVyXCIpO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGsgb2YgdmFsaWRLZXlzKSB7XG4gICAgICAgICAgICBmaWx0ZXJlZFtrXSA9IG9ialtrXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXRpbC5vYmplY3RWYWx1ZXMoZmlsdGVyZWQpO1xuICAgIH07XG4gICAgdXRpbC5vYmplY3RWYWx1ZXMgPSAob2JqKSA9PiB7XG4gICAgICAgIHJldHVybiB1dGlsLm9iamVjdEtleXMob2JqKS5tYXAoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmpbZV07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdXRpbC5vYmplY3RLZXlzID0gdHlwZW9mIE9iamVjdC5rZXlzID09PSBcImZ1bmN0aW9uXCIgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYW4vYmFuXG4gICAgICAgID8gKG9iaikgPT4gT2JqZWN0LmtleXMob2JqKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGJhbi9iYW5cbiAgICAgICAgOiAob2JqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBrZXlzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ga2V5cztcbiAgICAgICAgfTtcbiAgICB1dGlsLmZpbmQgPSAoYXJyLCBjaGVja2VyKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBhcnIpIHtcbiAgICAgICAgICAgIGlmIChjaGVja2VyKGl0ZW0pKVxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICB1dGlsLmlzSW50ZWdlciA9IHR5cGVvZiBOdW1iZXIuaXNJbnRlZ2VyID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgPyAodmFsKSA9PiBOdW1iZXIuaXNJbnRlZ2VyKHZhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYW4vYmFuXG4gICAgICAgIDogKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIiAmJiBOdW1iZXIuaXNGaW5pdGUodmFsKSAmJiBNYXRoLmZsb29yKHZhbCkgPT09IHZhbDtcbiAgICBmdW5jdGlvbiBqb2luVmFsdWVzKGFycmF5LCBzZXBhcmF0b3IgPSBcIiB8IFwiKSB7XG4gICAgICAgIHJldHVybiBhcnJheS5tYXAoKHZhbCkgPT4gKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIgPyBgJyR7dmFsfSdgIDogdmFsKSkuam9pbihzZXBhcmF0b3IpO1xuICAgIH1cbiAgICB1dGlsLmpvaW5WYWx1ZXMgPSBqb2luVmFsdWVzO1xuICAgIHV0aWwuanNvblN0cmluZ2lmeVJlcGxhY2VyID0gKF8sIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYmlnaW50XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xufSkodXRpbCB8fCAodXRpbCA9IHt9KSk7XG5leHBvcnQgdmFyIG9iamVjdFV0aWw7XG4oZnVuY3Rpb24gKG9iamVjdFV0aWwpIHtcbiAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzID0gKGZpcnN0LCBzZWNvbmQpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmZpcnN0LFxuICAgICAgICAgICAgLi4uc2Vjb25kLCAvLyBzZWNvbmQgb3ZlcndyaXRlcyBmaXJzdFxuICAgICAgICB9O1xuICAgIH07XG59KShvYmplY3RVdGlsIHx8IChvYmplY3RVdGlsID0ge30pKTtcbmV4cG9ydCBjb25zdCBab2RQYXJzZWRUeXBlID0gdXRpbC5hcnJheVRvRW51bShbXG4gICAgXCJzdHJpbmdcIixcbiAgICBcIm5hblwiLFxuICAgIFwibnVtYmVyXCIsXG4gICAgXCJpbnRlZ2VyXCIsXG4gICAgXCJmbG9hdFwiLFxuICAgIFwiYm9vbGVhblwiLFxuICAgIFwiZGF0ZVwiLFxuICAgIFwiYmlnaW50XCIsXG4gICAgXCJzeW1ib2xcIixcbiAgICBcImZ1bmN0aW9uXCIsXG4gICAgXCJ1bmRlZmluZWRcIixcbiAgICBcIm51bGxcIixcbiAgICBcImFycmF5XCIsXG4gICAgXCJvYmplY3RcIixcbiAgICBcInVua25vd25cIixcbiAgICBcInByb21pc2VcIixcbiAgICBcInZvaWRcIixcbiAgICBcIm5ldmVyXCIsXG4gICAgXCJtYXBcIixcbiAgICBcInNldFwiLFxuXSk7XG5leHBvcnQgY29uc3QgZ2V0UGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgIHN3aXRjaCAodCkge1xuICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQ7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnN0cmluZztcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFpvZFBhcnNlZFR5cGUubmFuIDogWm9kUGFyc2VkVHlwZS5udW1iZXI7XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5ib29sZWFuO1xuICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmZ1bmN0aW9uO1xuICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5iaWdpbnQ7XG4gICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnN5bWJvbDtcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5hcnJheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUubnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLnRoZW4gJiYgdHlwZW9mIGRhdGEudGhlbiA9PT0gXCJmdW5jdGlvblwiICYmIGRhdGEuY2F0Y2ggJiYgdHlwZW9mIGRhdGEuY2F0Y2ggPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIE1hcCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUubWFwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBTZXQgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgRGF0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmRhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5vYmplY3Q7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS51bmtub3duO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyB1dGlsIH0gZnJvbSBcIi4vaGVscGVycy91dGlsLmpzXCI7XG5leHBvcnQgY29uc3QgWm9kSXNzdWVDb2RlID0gdXRpbC5hcnJheVRvRW51bShbXG4gICAgXCJpbnZhbGlkX3R5cGVcIixcbiAgICBcImludmFsaWRfbGl0ZXJhbFwiLFxuICAgIFwiY3VzdG9tXCIsXG4gICAgXCJpbnZhbGlkX3VuaW9uXCIsXG4gICAgXCJpbnZhbGlkX3VuaW9uX2Rpc2NyaW1pbmF0b3JcIixcbiAgICBcImludmFsaWRfZW51bV92YWx1ZVwiLFxuICAgIFwidW5yZWNvZ25pemVkX2tleXNcIixcbiAgICBcImludmFsaWRfYXJndW1lbnRzXCIsXG4gICAgXCJpbnZhbGlkX3JldHVybl90eXBlXCIsXG4gICAgXCJpbnZhbGlkX2RhdGVcIixcbiAgICBcImludmFsaWRfc3RyaW5nXCIsXG4gICAgXCJ0b29fc21hbGxcIixcbiAgICBcInRvb19iaWdcIixcbiAgICBcImludmFsaWRfaW50ZXJzZWN0aW9uX3R5cGVzXCIsXG4gICAgXCJub3RfbXVsdGlwbGVfb2ZcIixcbiAgICBcIm5vdF9maW5pdGVcIixcbl0pO1xuZXhwb3J0IGNvbnN0IHF1b3RlbGVzc0pzb24gPSAob2JqKSA9PiB7XG4gICAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgMik7XG4gICAgcmV0dXJuIGpzb24ucmVwbGFjZSgvXCIoW15cIl0rKVwiOi9nLCBcIiQxOlwiKTtcbn07XG5leHBvcnQgY2xhc3MgWm9kRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgZ2V0IGVycm9ycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNzdWVzO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcihpc3N1ZXMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pc3N1ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5hZGRJc3N1ZSA9IChzdWIpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNzdWVzID0gWy4uLnRoaXMuaXNzdWVzLCBzdWJdO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFkZElzc3VlcyA9IChzdWJzID0gW10pID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNzdWVzID0gWy4uLnRoaXMuaXNzdWVzLCAuLi5zdWJzXTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYWN0dWFsUHJvdG8gPSBuZXcudGFyZ2V0LnByb3RvdHlwZTtcbiAgICAgICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGJhbi9iYW5cbiAgICAgICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBhY3R1YWxQcm90byk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9fcHJvdG9fXyA9IGFjdHVhbFByb3RvO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmFtZSA9IFwiWm9kRXJyb3JcIjtcbiAgICAgICAgdGhpcy5pc3N1ZXMgPSBpc3N1ZXM7XG4gICAgfVxuICAgIGZvcm1hdChfbWFwcGVyKSB7XG4gICAgICAgIGNvbnN0IG1hcHBlciA9IF9tYXBwZXIgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChpc3N1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc3N1ZS5tZXNzYWdlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZmllbGRFcnJvcnMgPSB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgIGNvbnN0IHByb2Nlc3NFcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpc3N1ZSBvZiBlcnJvci5pc3N1ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX3VuaW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNzdWUudW5pb25FcnJvcnMubWFwKHByb2Nlc3NFcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF9yZXR1cm5fdHlwZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFcnJvcihpc3N1ZS5yZXR1cm5UeXBlRXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfYXJndW1lbnRzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0Vycm9yKGlzc3VlLmFyZ3VtZW50c0Vycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUucGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGRFcnJvcnMuX2Vycm9ycy5wdXNoKG1hcHBlcihpc3N1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnIgPSBmaWVsZEVycm9ycztcbiAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IGlzc3VlLnBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbCA9IGlzc3VlLnBhdGhbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXJtaW5hbCA9IGkgPT09IGlzc3VlLnBhdGgubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAodHlwZW9mIGVsID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9IGVsc2UgaWYgKHR5cGVvZiBlbCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgY29uc3QgZXJyb3JBcnJheTogYW55ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBlcnJvckFycmF5Ll9lcnJvcnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgZXJyb3JBcnJheTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXS5fZXJyb3JzLnB1c2gobWFwcGVyKGlzc3VlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyID0gY3VycltlbF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHByb2Nlc3NFcnJvcih0aGlzKTtcbiAgICAgICAgcmV0dXJuIGZpZWxkRXJyb3JzO1xuICAgIH1cbiAgICBzdGF0aWMgYXNzZXJ0KHZhbHVlKSB7XG4gICAgICAgIGlmICghKHZhbHVlIGluc3RhbmNlb2YgWm9kRXJyb3IpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vdCBhIFpvZEVycm9yOiAke3ZhbHVlfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlO1xuICAgIH1cbiAgICBnZXQgbWVzc2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuaXNzdWVzLCB1dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlciwgMik7XG4gICAgfVxuICAgIGdldCBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc3N1ZXMubGVuZ3RoID09PSAwO1xuICAgIH1cbiAgICBmbGF0dGVuKG1hcHBlciA9IChpc3N1ZSkgPT4gaXNzdWUubWVzc2FnZSkge1xuICAgICAgICBjb25zdCBmaWVsZEVycm9ycyA9IHt9O1xuICAgICAgICBjb25zdCBmb3JtRXJyb3JzID0gW107XG4gICAgICAgIGZvciAoY29uc3Qgc3ViIG9mIHRoaXMuaXNzdWVzKSB7XG4gICAgICAgICAgICBpZiAoc3ViLnBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0RWwgPSBzdWIucGF0aFswXTtcbiAgICAgICAgICAgICAgICBmaWVsZEVycm9yc1tmaXJzdEVsXSA9IGZpZWxkRXJyb3JzW2ZpcnN0RWxdIHx8IFtdO1xuICAgICAgICAgICAgICAgIGZpZWxkRXJyb3JzW2ZpcnN0RWxdLnB1c2gobWFwcGVyKHN1YikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9ybUVycm9ycy5wdXNoKG1hcHBlcihzdWIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBmb3JtRXJyb3JzLCBmaWVsZEVycm9ycyB9O1xuICAgIH1cbiAgICBnZXQgZm9ybUVycm9ycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmxhdHRlbigpO1xuICAgIH1cbn1cblpvZEVycm9yLmNyZWF0ZSA9IChpc3N1ZXMpID0+IHtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBab2RFcnJvcihpc3N1ZXMpO1xuICAgIHJldHVybiBlcnJvcjtcbn07XG4iLCJpbXBvcnQgeyBab2RJc3N1ZUNvZGUgfSBmcm9tIFwiLi4vWm9kRXJyb3IuanNcIjtcbmltcG9ydCB7IHV0aWwsIFpvZFBhcnNlZFR5cGUgfSBmcm9tIFwiLi4vaGVscGVycy91dGlsLmpzXCI7XG5jb25zdCBlcnJvck1hcCA9IChpc3N1ZSwgX2N0eCkgPT4ge1xuICAgIGxldCBtZXNzYWdlO1xuICAgIHN3aXRjaCAoaXNzdWUuY29kZSkge1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGU6XG4gICAgICAgICAgICBpZiAoaXNzdWUucmVjZWl2ZWQgPT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiUmVxdWlyZWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgRXhwZWN0ZWQgJHtpc3N1ZS5leHBlY3RlZH0sIHJlY2VpdmVkICR7aXNzdWUucmVjZWl2ZWR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2xpdGVyYWw6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgbGl0ZXJhbCB2YWx1ZSwgZXhwZWN0ZWQgJHtKU09OLnN0cmluZ2lmeShpc3N1ZS5leHBlY3RlZCwgdXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIpfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUudW5yZWNvZ25pemVkX2tleXM6XG4gICAgICAgICAgICBtZXNzYWdlID0gYFVucmVjb2duaXplZCBrZXkocykgaW4gb2JqZWN0OiAke3V0aWwuam9pblZhbHVlcyhpc3N1ZS5rZXlzLCBcIiwgXCIpfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbjpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dGA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGRpc2NyaW1pbmF0b3IgdmFsdWUuIEV4cGVjdGVkICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLm9wdGlvbnMpfWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGVudW0gdmFsdWUuIEV4cGVjdGVkICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLm9wdGlvbnMpfSwgcmVjZWl2ZWQgJyR7aXNzdWUucmVjZWl2ZWR9J2A7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9hcmd1bWVudHM6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZnVuY3Rpb24gYXJndW1lbnRzYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3JldHVybl90eXBlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGZ1bmN0aW9uIHJldHVybiB0eXBlYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2RhdGU6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZGF0ZWA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmc6XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlzc3VlLnZhbGlkYXRpb24gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoXCJpbmNsdWRlc1wiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IGluY2x1ZGUgXCIke2lzc3VlLnZhbGlkYXRpb24uaW5jbHVkZXN9XCJgO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGlzc3VlLnZhbGlkYXRpb24ucG9zaXRpb24gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgJHttZXNzYWdlfSBhdCBvbmUgb3IgbW9yZSBwb3NpdGlvbnMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvICR7aXNzdWUudmFsaWRhdGlvbi5wb3NpdGlvbn1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFwic3RhcnRzV2l0aFwiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IHN0YXJ0IHdpdGggXCIke2lzc3VlLnZhbGlkYXRpb24uc3RhcnRzV2l0aH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFwiZW5kc1dpdGhcIiBpbiBpc3N1ZS52YWxpZGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dDogbXVzdCBlbmQgd2l0aCBcIiR7aXNzdWUudmFsaWRhdGlvbi5lbmRzV2l0aH1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGlzc3VlLnZhbGlkYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnZhbGlkYXRpb24gIT09IFwicmVnZXhcIikge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCAke2lzc3VlLnZhbGlkYXRpb259YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkludmFsaWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS50b29fc21hbGw6XG4gICAgICAgICAgICBpZiAoaXNzdWUudHlwZSA9PT0gXCJhcnJheVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgQXJyYXkgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBcImV4YWN0bHlcIiA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBsZWFzdGAgOiBgbW9yZSB0aGFuYH0gJHtpc3N1ZS5taW5pbXVtfSBlbGVtZW50KHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBTdHJpbmcgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBcImV4YWN0bHlcIiA6IGlzc3VlLmluY2x1c2l2ZSA/IGBhdCBsZWFzdGAgOiBgb3ZlcmB9ICR7aXNzdWUubWluaW11bX0gY2hhcmFjdGVyKHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHkgZXF1YWwgdG8gYCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYCA6IGBncmVhdGVyIHRoYW4gYH0ke2lzc3VlLm1pbmltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiYmlnaW50XCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHkgZXF1YWwgdG8gYCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gYCA6IGBncmVhdGVyIHRoYW4gYH0ke2lzc3VlLm1pbmltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiZGF0ZVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgRGF0ZSBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseSBlcXVhbCB0byBgIDogaXNzdWUuaW5jbHVzaXZlID8gYGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgIDogYGdyZWF0ZXIgdGhhbiBgfSR7bmV3IERhdGUoTnVtYmVyKGlzc3VlLm1pbmltdW0pKX1gO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkludmFsaWQgaW5wdXRcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS50b29fYmlnOlxuICAgICAgICAgICAgaWYgKGlzc3VlLnR5cGUgPT09IFwiYXJyYXlcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEFycmF5IG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IG1vc3RgIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX0gZWxlbWVudChzKWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgU3RyaW5nIG11c3QgY29udGFpbiAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IG1vc3RgIDogYHVuZGVyYH0gJHtpc3N1ZS5tYXhpbXVtfSBjaGFyYWN0ZXIocylgO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgbGVzcyB0aGFuIG9yIGVxdWFsIHRvYCA6IGBsZXNzIHRoYW5gfSAke2lzc3VlLm1heGltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiYmlnaW50XCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBCaWdJbnQgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYGxlc3MgdGhhbiBvciBlcXVhbCB0b2AgOiBgbGVzcyB0aGFuYH0gJHtpc3N1ZS5tYXhpbXVtfWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcImRhdGVcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYERhdGUgbXVzdCBiZSAke2lzc3VlLmV4YWN0ID8gYGV4YWN0bHlgIDogaXNzdWUuaW5jbHVzaXZlID8gYHNtYWxsZXIgdGhhbiBvciBlcXVhbCB0b2AgOiBgc21hbGxlciB0aGFuYH0gJHtuZXcgRGF0ZShOdW1iZXIoaXNzdWUubWF4aW11bSkpfWA7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiSW52YWxpZCBpbnB1dFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmN1c3RvbTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBpbnB1dGA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuaW52YWxpZF9pbnRlcnNlY3Rpb25fdHlwZXM6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludGVyc2VjdGlvbiByZXN1bHRzIGNvdWxkIG5vdCBiZSBtZXJnZWRgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLm5vdF9tdWx0aXBsZV9vZjpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgTnVtYmVyIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAke2lzc3VlLm11bHRpcGxlT2Z9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5ub3RfZmluaXRlOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiTnVtYmVyIG11c3QgYmUgZmluaXRlXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBfY3R4LmRlZmF1bHRFcnJvcjtcbiAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoaXNzdWUpO1xuICAgIH1cbiAgICByZXR1cm4geyBtZXNzYWdlIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgZXJyb3JNYXA7XG4iLCJpbXBvcnQgZGVmYXVsdEVycm9yTWFwIGZyb20gXCIuL2xvY2FsZXMvZW4uanNcIjtcbmxldCBvdmVycmlkZUVycm9yTWFwID0gZGVmYXVsdEVycm9yTWFwO1xuZXhwb3J0IHsgZGVmYXVsdEVycm9yTWFwIH07XG5leHBvcnQgZnVuY3Rpb24gc2V0RXJyb3JNYXAobWFwKSB7XG4gICAgb3ZlcnJpZGVFcnJvck1hcCA9IG1hcDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRFcnJvck1hcCgpIHtcbiAgICByZXR1cm4gb3ZlcnJpZGVFcnJvck1hcDtcbn1cbiIsImltcG9ydCB7IGdldEVycm9yTWFwIH0gZnJvbSBcIi4uL2Vycm9ycy5qc1wiO1xuaW1wb3J0IGRlZmF1bHRFcnJvck1hcCBmcm9tIFwiLi4vbG9jYWxlcy9lbi5qc1wiO1xuZXhwb3J0IGNvbnN0IG1ha2VJc3N1ZSA9IChwYXJhbXMpID0+IHtcbiAgICBjb25zdCB7IGRhdGEsIHBhdGgsIGVycm9yTWFwcywgaXNzdWVEYXRhIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgZnVsbFBhdGggPSBbLi4ucGF0aCwgLi4uKGlzc3VlRGF0YS5wYXRoIHx8IFtdKV07XG4gICAgY29uc3QgZnVsbElzc3VlID0ge1xuICAgICAgICAuLi5pc3N1ZURhdGEsXG4gICAgICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgIH07XG4gICAgaWYgKGlzc3VlRGF0YS5tZXNzYWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmlzc3VlRGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgICAgICAgICAgbWVzc2FnZTogaXNzdWVEYXRhLm1lc3NhZ2UsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGxldCBlcnJvck1lc3NhZ2UgPSBcIlwiO1xuICAgIGNvbnN0IG1hcHMgPSBlcnJvck1hcHNcbiAgICAgICAgLmZpbHRlcigobSkgPT4gISFtKVxuICAgICAgICAuc2xpY2UoKVxuICAgICAgICAucmV2ZXJzZSgpO1xuICAgIGZvciAoY29uc3QgbWFwIG9mIG1hcHMpIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gbWFwKGZ1bGxJc3N1ZSwgeyBkYXRhLCBkZWZhdWx0RXJyb3I6IGVycm9yTWVzc2FnZSB9KS5tZXNzYWdlO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5pc3N1ZURhdGEsXG4gICAgICAgIHBhdGg6IGZ1bGxQYXRoLFxuICAgICAgICBtZXNzYWdlOiBlcnJvck1lc3NhZ2UsXG4gICAgfTtcbn07XG5leHBvcnQgY29uc3QgRU1QVFlfUEFUSCA9IFtdO1xuZXhwb3J0IGZ1bmN0aW9uIGFkZElzc3VlVG9Db250ZXh0KGN0eCwgaXNzdWVEYXRhKSB7XG4gICAgY29uc3Qgb3ZlcnJpZGVNYXAgPSBnZXRFcnJvck1hcCgpO1xuICAgIGNvbnN0IGlzc3VlID0gbWFrZUlzc3VlKHtcbiAgICAgICAgaXNzdWVEYXRhOiBpc3N1ZURhdGEsXG4gICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgZXJyb3JNYXBzOiBbXG4gICAgICAgICAgICBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCwgLy8gY29udGV4dHVhbCBlcnJvciBtYXAgaXMgZmlyc3QgcHJpb3JpdHlcbiAgICAgICAgICAgIGN0eC5zY2hlbWFFcnJvck1hcCwgLy8gdGhlbiBzY2hlbWEtYm91bmQgbWFwIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgb3ZlcnJpZGVNYXAsIC8vIHRoZW4gZ2xvYmFsIG92ZXJyaWRlIG1hcFxuICAgICAgICAgICAgb3ZlcnJpZGVNYXAgPT09IGRlZmF1bHRFcnJvck1hcCA/IHVuZGVmaW5lZCA6IGRlZmF1bHRFcnJvck1hcCwgLy8gdGhlbiBnbG9iYWwgZGVmYXVsdCBtYXBcbiAgICAgICAgXS5maWx0ZXIoKHgpID0+ICEheCksXG4gICAgfSk7XG4gICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaChpc3N1ZSk7XG59XG5leHBvcnQgY2xhc3MgUGFyc2VTdGF0dXMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnZhbHVlID0gXCJ2YWxpZFwiO1xuICAgIH1cbiAgICBkaXJ0eSgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgPT09IFwidmFsaWRcIilcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcImRpcnR5XCI7XG4gICAgfVxuICAgIGFib3J0KCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZSAhPT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gXCJhYm9ydGVkXCI7XG4gICAgfVxuICAgIHN0YXRpYyBtZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0cykge1xuICAgICAgICBjb25zdCBhcnJheVZhbHVlID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcyBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICBpZiAocy5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgaWYgKHMuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICBhcnJheVZhbHVlLnB1c2gocy52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBhcnJheVZhbHVlIH07XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBtZXJnZU9iamVjdEFzeW5jKHN0YXR1cywgcGFpcnMpIHtcbiAgICAgICAgY29uc3Qgc3luY1BhaXJzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgcGFpci5rZXk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhaXIudmFsdWU7XG4gICAgICAgICAgICBzeW5jUGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHN5bmNQYWlycyk7XG4gICAgfVxuICAgIHN0YXRpYyBtZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBwYWlycykge1xuICAgICAgICBjb25zdCBmaW5hbE9iamVjdCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHsga2V5LCB2YWx1ZSB9ID0gcGFpcjtcbiAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZS5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIGlmIChrZXkudmFsdWUgIT09IFwiX19wcm90b19fXCIgJiYgKHR5cGVvZiB2YWx1ZS52YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiB8fCBwYWlyLmFsd2F5c1NldCkpIHtcbiAgICAgICAgICAgICAgICBmaW5hbE9iamVjdFtrZXkudmFsdWVdID0gdmFsdWUudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBmaW5hbE9iamVjdCB9O1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBJTlZBTElEID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgc3RhdHVzOiBcImFib3J0ZWRcIixcbn0pO1xuZXhwb3J0IGNvbnN0IERJUlRZID0gKHZhbHVlKSA9PiAoeyBzdGF0dXM6IFwiZGlydHlcIiwgdmFsdWUgfSk7XG5leHBvcnQgY29uc3QgT0sgPSAodmFsdWUpID0+ICh7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZSB9KTtcbmV4cG9ydCBjb25zdCBpc0Fib3J0ZWQgPSAoeCkgPT4geC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiO1xuZXhwb3J0IGNvbnN0IGlzRGlydHkgPSAoeCkgPT4geC5zdGF0dXMgPT09IFwiZGlydHlcIjtcbmV4cG9ydCBjb25zdCBpc1ZhbGlkID0gKHgpID0+IHguc3RhdHVzID09PSBcInZhbGlkXCI7XG5leHBvcnQgY29uc3QgaXNBc3luYyA9ICh4KSA9PiB0eXBlb2YgUHJvbWlzZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB4IGluc3RhbmNlb2YgUHJvbWlzZTtcbiIsImV4cG9ydCB2YXIgZXJyb3JVdGlsO1xuKGZ1bmN0aW9uIChlcnJvclV0aWwpIHtcbiAgICBlcnJvclV0aWwuZXJyVG9PYmogPSAobWVzc2FnZSkgPT4gdHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgPyB7IG1lc3NhZ2UgfSA6IG1lc3NhZ2UgfHwge307XG4gICAgLy8gYmlvbWUtaWdub3JlIGxpbnQ6XG4gICAgZXJyb3JVdGlsLnRvU3RyaW5nID0gKG1lc3NhZ2UpID0+IHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiID8gbWVzc2FnZSA6IG1lc3NhZ2U/Lm1lc3NhZ2U7XG59KShlcnJvclV0aWwgfHwgKGVycm9yVXRpbCA9IHt9KSk7XG4iLCJpbXBvcnQgeyBab2RFcnJvciwgWm9kSXNzdWVDb2RlLCB9IGZyb20gXCIuL1pvZEVycm9yLmpzXCI7XG5pbXBvcnQgeyBkZWZhdWx0RXJyb3JNYXAsIGdldEVycm9yTWFwIH0gZnJvbSBcIi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBlcnJvclV0aWwgfSBmcm9tIFwiLi9oZWxwZXJzL2Vycm9yVXRpbC5qc1wiO1xuaW1wb3J0IHsgRElSVFksIElOVkFMSUQsIE9LLCBQYXJzZVN0YXR1cywgYWRkSXNzdWVUb0NvbnRleHQsIGlzQWJvcnRlZCwgaXNBc3luYywgaXNEaXJ0eSwgaXNWYWxpZCwgbWFrZUlzc3VlLCB9IGZyb20gXCIuL2hlbHBlcnMvcGFyc2VVdGlsLmpzXCI7XG5pbXBvcnQgeyB1dGlsLCBab2RQYXJzZWRUeXBlLCBnZXRQYXJzZWRUeXBlIH0gZnJvbSBcIi4vaGVscGVycy91dGlsLmpzXCI7XG5jbGFzcyBQYXJzZUlucHV0TGF6eVBhdGgge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgdmFsdWUsIHBhdGgsIGtleSkge1xuICAgICAgICB0aGlzLl9jYWNoZWRQYXRoID0gW107XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLmRhdGEgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuX2tleSA9IGtleTtcbiAgICB9XG4gICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGVkUGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuX2tleSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZWRQYXRoLnB1c2goLi4udGhpcy5fcGF0aCwgLi4udGhpcy5fa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlZFBhdGgucHVzaCguLi50aGlzLl9wYXRoLCB0aGlzLl9rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRQYXRoO1xuICAgIH1cbn1cbmNvbnN0IGhhbmRsZVJlc3VsdCA9IChjdHgsIHJlc3VsdCkgPT4ge1xuICAgIGlmIChpc1ZhbGlkKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzdWx0LnZhbHVlIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoIWN0eC5jb21tb24uaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmFsaWRhdGlvbiBmYWlsZWQgYnV0IG5vIGlzc3VlcyBkZXRlY3RlZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9lcnJvcilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IFpvZEVycm9yKGN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJvciA9IGVycm9yO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lcnJvcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxufTtcbmZ1bmN0aW9uIHByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSB7XG4gICAgaWYgKCFwYXJhbXMpXG4gICAgICAgIHJldHVybiB7fTtcbiAgICBjb25zdCB7IGVycm9yTWFwLCBpbnZhbGlkX3R5cGVfZXJyb3IsIHJlcXVpcmVkX2Vycm9yLCBkZXNjcmlwdGlvbiB9ID0gcGFyYW1zO1xuICAgIGlmIChlcnJvck1hcCAmJiAoaW52YWxpZF90eXBlX2Vycm9yIHx8IHJlcXVpcmVkX2Vycm9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IHVzZSBcImludmFsaWRfdHlwZV9lcnJvclwiIG9yIFwicmVxdWlyZWRfZXJyb3JcIiBpbiBjb25qdW5jdGlvbiB3aXRoIGN1c3RvbSBlcnJvciBtYXAuYCk7XG4gICAgfVxuICAgIGlmIChlcnJvck1hcClcbiAgICAgICAgcmV0dXJuIHsgZXJyb3JNYXA6IGVycm9yTWFwLCBkZXNjcmlwdGlvbiB9O1xuICAgIGNvbnN0IGN1c3RvbU1hcCA9IChpc3MsIGN0eCkgPT4ge1xuICAgICAgICBjb25zdCB7IG1lc3NhZ2UgfSA9IHBhcmFtcztcbiAgICAgICAgaWYgKGlzcy5jb2RlID09PSBcImludmFsaWRfZW51bV92YWx1ZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBtZXNzYWdlID8/IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGN0eC5kYXRhID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBtZXNzYWdlID8/IHJlcXVpcmVkX2Vycm9yID8/IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNzLmNvZGUgIT09IFwiaW52YWxpZF90eXBlXCIpXG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBjdHguZGVmYXVsdEVycm9yIH07XG4gICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IG1lc3NhZ2UgPz8gaW52YWxpZF90eXBlX2Vycm9yID8/IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICB9O1xuICAgIHJldHVybiB7IGVycm9yTWFwOiBjdXN0b21NYXAsIGRlc2NyaXB0aW9uIH07XG59XG5leHBvcnQgY2xhc3MgWm9kVHlwZSB7XG4gICAgZ2V0IGRlc2NyaXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmRlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBfZ2V0VHlwZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gZ2V0UGFyc2VkVHlwZShpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpIHtcbiAgICAgICAgcmV0dXJuIChjdHggfHwge1xuICAgICAgICAgICAgY29tbW9uOiBpbnB1dC5wYXJlbnQuY29tbW9uLFxuICAgICAgICAgICAgZGF0YTogaW5wdXQuZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoaW5wdXQuZGF0YSksXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGF0aDogaW5wdXQucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogaW5wdXQucGFyZW50LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiBuZXcgUGFyc2VTdGF0dXMoKSxcbiAgICAgICAgICAgIGN0eDoge1xuICAgICAgICAgICAgICAgIGNvbW1vbjogaW5wdXQucGFyZW50LmNvbW1vbixcbiAgICAgICAgICAgICAgICBkYXRhOiBpbnB1dC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoaW5wdXQuZGF0YSksXG4gICAgICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgICAgICBwYXRoOiBpbnB1dC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogaW5wdXQucGFyZW50LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX3BhcnNlU3luYyhpbnB1dCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZShpbnB1dCk7XG4gICAgICAgIGlmIChpc0FzeW5jKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN5bmNocm9ub3VzIHBhcnNlIGVuY291bnRlcmVkIHByb21pc2UuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIF9wYXJzZUFzeW5jKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlKGlucHV0KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgIH1cbiAgICBwYXJzZShkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zYWZlUGFyc2UoZGF0YSwgcGFyYW1zKTtcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xuICAgICAgICB0aHJvdyByZXN1bHQuZXJyb3I7XG4gICAgfVxuICAgIHNhZmVQYXJzZShkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBhc3luYzogcGFyYW1zPy5hc3luYyA/PyBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcz8uZXJyb3JNYXAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF0aDogcGFyYW1zPy5wYXRoIHx8IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZVN5bmMoeyBkYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXN1bHQoY3R4LCByZXN1bHQpO1xuICAgIH1cbiAgICBcIn52YWxpZGF0ZVwiKGRhdGEpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBhc3luYzogISF0aGlzW1wifnN0YW5kYXJkXCJdLmFzeW5jLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhdGg6IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoIXRoaXNbXCJ+c3RhbmRhcmRcIl0uYXN5bmMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcGFyc2VTeW5jKHsgZGF0YSwgcGF0aDogW10sIHBhcmVudDogY3R4IH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkKHJlc3VsdClcbiAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiBjdHguY29tbW9uLmlzc3VlcyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyPy5tZXNzYWdlPy50b0xvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcImVuY291bnRlcmVkXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbXCJ+c3RhbmRhcmRcIl0uYXN5bmMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdHguY29tbW9uID0ge1xuICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJzZUFzeW5jKHsgZGF0YSwgcGF0aDogW10sIHBhcmVudDogY3R4IH0pLnRoZW4oKHJlc3VsdCkgPT4gaXNWYWxpZChyZXN1bHQpXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBjdHguY29tbW9uLmlzc3VlcyxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZUFzeW5jKGRhdGEsIHBhcmFtcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnNhZmVQYXJzZUFzeW5jKGRhdGEsIHBhcmFtcyk7XG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcylcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICAgICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICAgIH1cbiAgICBhc3luYyBzYWZlUGFyc2VBc3luYyhkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcz8uZXJyb3JNYXAsXG4gICAgICAgICAgICAgICAgYXN5bmM6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF0aDogcGFyYW1zPy5wYXRoIHx8IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBtYXliZUFzeW5jUmVzdWx0ID0gdGhpcy5fcGFyc2UoeyBkYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChpc0FzeW5jKG1heWJlQXN5bmNSZXN1bHQpID8gbWF5YmVBc3luY1Jlc3VsdCA6IFByb21pc2UucmVzb2x2ZShtYXliZUFzeW5jUmVzdWx0KSk7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXN1bHQoY3R4LCByZXN1bHQpO1xuICAgIH1cbiAgICByZWZpbmUoY2hlY2ssIG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgZ2V0SXNzdWVQcm9wZXJ0aWVzID0gKHZhbCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBtZXNzYWdlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbWVzc2FnZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlKHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZmluZW1lbnQoKHZhbCwgY3R4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBjaGVjayh2YWwpO1xuICAgICAgICAgICAgY29uc3Qgc2V0RXJyb3IgPSAoKSA9PiBjdHguYWRkSXNzdWUoe1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5jdXN0b20sXG4gICAgICAgICAgICAgICAgLi4uZ2V0SXNzdWVQcm9wZXJ0aWVzKHZhbCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiByZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0RXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHNldEVycm9yKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWZpbmVtZW50KGNoZWNrLCByZWZpbmVtZW50RGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudCgodmFsLCBjdHgpID0+IHtcbiAgICAgICAgICAgIGlmICghY2hlY2sodmFsKSkge1xuICAgICAgICAgICAgICAgIGN0eC5hZGRJc3N1ZSh0eXBlb2YgcmVmaW5lbWVudERhdGEgPT09IFwiZnVuY3Rpb25cIiA/IHJlZmluZW1lbnREYXRhKHZhbCwgY3R4KSA6IHJlZmluZW1lbnREYXRhKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9yZWZpbmVtZW50KHJlZmluZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgICAgIHNjaGVtYTogdGhpcyxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgICAgIGVmZmVjdDogeyB0eXBlOiBcInJlZmluZW1lbnRcIiwgcmVmaW5lbWVudCB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3VwZXJSZWZpbmUocmVmaW5lbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudChyZWZpbmVtZW50KTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZGVmKSB7XG4gICAgICAgIC8qKiBBbGlhcyBvZiBzYWZlUGFyc2VBc3luYyAqL1xuICAgICAgICB0aGlzLnNwYSA9IHRoaXMuc2FmZVBhcnNlQXN5bmM7XG4gICAgICAgIHRoaXMuX2RlZiA9IGRlZjtcbiAgICAgICAgdGhpcy5wYXJzZSA9IHRoaXMucGFyc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zYWZlUGFyc2UgPSB0aGlzLnNhZmVQYXJzZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnBhcnNlQXN5bmMgPSB0aGlzLnBhcnNlQXN5bmMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zYWZlUGFyc2VBc3luYyA9IHRoaXMuc2FmZVBhcnNlQXN5bmMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zcGEgPSB0aGlzLnNwYS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnJlZmluZSA9IHRoaXMucmVmaW5lLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVmaW5lbWVudCA9IHRoaXMucmVmaW5lbWVudC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnN1cGVyUmVmaW5lID0gdGhpcy5zdXBlclJlZmluZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9wdGlvbmFsID0gdGhpcy5vcHRpb25hbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm51bGxhYmxlID0gdGhpcy5udWxsYWJsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm51bGxpc2ggPSB0aGlzLm51bGxpc2guYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hcnJheSA9IHRoaXMuYXJyYXkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9taXNlID0gdGhpcy5wcm9taXNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub3IgPSB0aGlzLm9yLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYW5kID0gdGhpcy5hbmQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmJyYW5kID0gdGhpcy5icmFuZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSB0aGlzLmRlZmF1bHQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5jYXRjaCA9IHRoaXMuY2F0Y2guYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5kZXNjcmliZSA9IHRoaXMuZGVzY3JpYmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5waXBlID0gdGhpcy5waXBlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVhZG9ubHkgPSB0aGlzLnJlYWRvbmx5LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaXNOdWxsYWJsZSA9IHRoaXMuaXNOdWxsYWJsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmlzT3B0aW9uYWwgPSB0aGlzLmlzT3B0aW9uYWwuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpc1tcIn5zdGFuZGFyZFwiXSA9IHtcbiAgICAgICAgICAgIHZlcnNpb246IDEsXG4gICAgICAgICAgICB2ZW5kb3I6IFwiem9kXCIsXG4gICAgICAgICAgICB2YWxpZGF0ZTogKGRhdGEpID0+IHRoaXNbXCJ+dmFsaWRhdGVcIl0oZGF0YSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIG9wdGlvbmFsKCkge1xuICAgICAgICByZXR1cm4gWm9kT3B0aW9uYWwuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIG51bGxhYmxlKCkge1xuICAgICAgICByZXR1cm4gWm9kTnVsbGFibGUuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIG51bGxpc2goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm51bGxhYmxlKCkub3B0aW9uYWwoKTtcbiAgICB9XG4gICAgYXJyYXkoKSB7XG4gICAgICAgIHJldHVybiBab2RBcnJheS5jcmVhdGUodGhpcyk7XG4gICAgfVxuICAgIHByb21pc2UoKSB7XG4gICAgICAgIHJldHVybiBab2RQcm9taXNlLmNyZWF0ZSh0aGlzLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBvcihvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIFpvZFVuaW9uLmNyZWF0ZShbdGhpcywgb3B0aW9uXSwgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgYW5kKGluY29taW5nKSB7XG4gICAgICAgIHJldHVybiBab2RJbnRlcnNlY3Rpb24uY3JlYXRlKHRoaXMsIGluY29taW5nLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICB0cmFuc2Zvcm0odHJhbnNmb3JtKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgICAgICBzY2hlbWE6IHRoaXMsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMsXG4gICAgICAgICAgICBlZmZlY3Q6IHsgdHlwZTogXCJ0cmFuc2Zvcm1cIiwgdHJhbnNmb3JtIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkZWZhdWx0KGRlZikge1xuICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWVGdW5jID0gdHlwZW9mIGRlZiA9PT0gXCJmdW5jdGlvblwiID8gZGVmIDogKCkgPT4gZGVmO1xuICAgICAgICByZXR1cm4gbmV3IFpvZERlZmF1bHQoe1xuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICAgICAgaW5uZXJUeXBlOiB0aGlzLFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWVGdW5jLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REZWZhdWx0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYnJhbmQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQnJhbmRlZCh7XG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJyYW5kZWQsXG4gICAgICAgICAgICB0eXBlOiB0aGlzLFxuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2goZGVmKSB7XG4gICAgICAgIGNvbnN0IGNhdGNoVmFsdWVGdW5jID0gdHlwZW9mIGRlZiA9PT0gXCJmdW5jdGlvblwiID8gZGVmIDogKCkgPT4gZGVmO1xuICAgICAgICByZXR1cm4gbmV3IFpvZENhdGNoKHtcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgICAgICAgIGlubmVyVHlwZTogdGhpcyxcbiAgICAgICAgICAgIGNhdGNoVmFsdWU6IGNhdGNoVmFsdWVGdW5jLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RDYXRjaCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlc2NyaWJlKGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGNvbnN0IFRoaXMgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICByZXR1cm4gbmV3IFRoaXMoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwaXBlKHRhcmdldCkge1xuICAgICAgICByZXR1cm4gWm9kUGlwZWxpbmUuY3JlYXRlKHRoaXMsIHRhcmdldCk7XG4gICAgfVxuICAgIHJlYWRvbmx5KCkge1xuICAgICAgICByZXR1cm4gWm9kUmVhZG9ubHkuY3JlYXRlKHRoaXMpO1xuICAgIH1cbiAgICBpc09wdGlvbmFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zYWZlUGFyc2UodW5kZWZpbmVkKS5zdWNjZXNzO1xuICAgIH1cbiAgICBpc051bGxhYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zYWZlUGFyc2UobnVsbCkuc3VjY2VzcztcbiAgICB9XG59XG5jb25zdCBjdWlkUmVnZXggPSAvXmNbXlxccy1dezgsfSQvaTtcbmNvbnN0IGN1aWQyUmVnZXggPSAvXlswLTlhLXpdKyQvO1xuY29uc3QgdWxpZFJlZ2V4ID0gL15bMC05QS1ISktNTlAtVFYtWl17MjZ9JC9pO1xuLy8gY29uc3QgdXVpZFJlZ2V4ID1cbi8vICAgL14oW2EtZjAtOV17OH0tW2EtZjAtOV17NH0tWzEtNV1bYS1mMC05XXszfS1bYS1mMC05XXs0fS1bYS1mMC05XXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTtcbmNvbnN0IHV1aWRSZWdleCA9IC9eWzAtOWEtZkEtRl17OH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17MTJ9JC9pO1xuY29uc3QgbmFub2lkUmVnZXggPSAvXlthLXowLTlfLV17MjF9JC9pO1xuY29uc3Qgand0UmVnZXggPSAvXltBLVphLXowLTktX10rXFwuW0EtWmEtejAtOS1fXStcXC5bQS1aYS16MC05LV9dKiQvO1xuY29uc3QgZHVyYXRpb25SZWdleCA9IC9eWy0rXT9QKD8hJCkoPzooPzpbLStdP1xcZCtZKXwoPzpbLStdP1xcZCtbLixdXFxkK1kkKSk/KD86KD86Wy0rXT9cXGQrTSl8KD86Wy0rXT9cXGQrWy4sXVxcZCtNJCkpPyg/Oig/OlstK10/XFxkK1cpfCg/OlstK10/XFxkK1suLF1cXGQrVyQpKT8oPzooPzpbLStdP1xcZCtEKXwoPzpbLStdP1xcZCtbLixdXFxkK0QkKSk/KD86VCg/PVtcXGQrLV0pKD86KD86Wy0rXT9cXGQrSCl8KD86Wy0rXT9cXGQrWy4sXVxcZCtIJCkpPyg/Oig/OlstK10/XFxkK00pfCg/OlstK10/XFxkK1suLF1cXGQrTSQpKT8oPzpbLStdP1xcZCsoPzpbLixdXFxkKyk/Uyk/KT8/JC87XG4vLyBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80NjE4MS8xNTUwMTU1XG4vLyBvbGQgdmVyc2lvbjogdG9vIHNsb3csIGRpZG4ndCBzdXBwb3J0IHVuaWNvZGVcbi8vIGNvbnN0IGVtYWlsUmVnZXggPSAvXigoKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSsoXFwuKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSspKil8KChcXHgyMikoKCgoXFx4MjB8XFx4MDkpKihcXHgwZFxceDBhKSk/KFxceDIwfFxceDA5KSspPygoW1xceDAxLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXFx4N2ZdfFxceDIxfFtcXHgyMy1cXHg1Yl18W1xceDVkLVxceDdlXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KFxcXFwoW1xceDAxLVxceDA5XFx4MGJcXHgwY1xceDBkLVxceDdmXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKSkqKCgoXFx4MjB8XFx4MDkpKihcXHgwZFxceDBhKSk/KFxceDIwfFxceDA5KSspPyhcXHgyMikpKUAoKChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpXFwuKSsoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSkkL2k7XG4vL29sZCBlbWFpbCByZWdleFxuLy8gY29uc3QgZW1haWxSZWdleCA9IC9eKChbXjw+KClbXFxdLiw7Olxcc0BcIl0rKFxcLltePD4oKVtcXF0uLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoPyEtKShbXjw+KClbXFxdLiw7Olxcc0BcIl0rXFwuKStbXjw+KClbXFxdLiw7Olxcc0BcIl17MSx9KVteLTw+KClbXFxdLiw7Olxcc0BcIl0kL2k7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKSopfChcXFwiLitcXFwiKSlAKChcXFsoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXF0pfChcXFtJUHY2OigoW2EtZjAtOV17MSw0fTopezd9fDo6KFthLWYwLTldezEsNH06KXswLDZ9fChbYS1mMC05XXsxLDR9Oil7MX06KFthLWYwLTldezEsNH06KXswLDV9fChbYS1mMC05XXsxLDR9Oil7Mn06KFthLWYwLTldezEsNH06KXswLDR9fChbYS1mMC05XXsxLDR9Oil7M306KFthLWYwLTldezEsNH06KXswLDN9fChbYS1mMC05XXsxLDR9Oil7NH06KFthLWYwLTldezEsNH06KXswLDJ9fChbYS1mMC05XXsxLDR9Oil7NX06KFthLWYwLTldezEsNH06KXswLDF9KShbYS1mMC05XXsxLDR9fCgoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKSlcXF0pfChbQS1aYS16MC05XShbQS1aYS16MC05LV0qW0EtWmEtejAtOV0pKihcXC5bQS1aYS16XXsyLH0pKykpJC87XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID1cbi8vICAgL15bYS16QS1aMC05XFwuXFwhXFwjXFwkXFwlXFwmXFwnXFwqXFwrXFwvXFw9XFw/XFxeXFxfXFxgXFx7XFx8XFx9XFx+XFwtXStAW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSokLztcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXig/OlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSsoPzpcXC5bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKSp8XCIoPzpbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHgyMVxceDIzLVxceDViXFx4NWQtXFx4N2ZdfFxcXFxbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGUtXFx4N2ZdKSpcIilAKD86KD86W2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP1xcLikrW2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP3xcXFsoPzooPzoyNVswLTVdfDJbMC00XVswLTldfFswMV0/WzAtOV1bMC05XT8pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldP3xbYS16MC05LV0qW2EtejAtOV06KD86W1xceDAxLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXFx4MjEtXFx4NWFcXHg1My1cXHg3Zl18XFxcXFtcXHgwMS1cXHgwOVxceDBiXFx4MGNcXHgwZS1cXHg3Zl0pKylcXF0pJC9pO1xuY29uc3QgZW1haWxSZWdleCA9IC9eKD8hXFwuKSg/IS4qXFwuXFwuKShbQS1aMC05XycrXFwtXFwuXSopW0EtWjAtOV8rLV1AKFtBLVowLTldW0EtWjAtOVxcLV0qXFwuKStbQS1aXXsyLH0kL2k7XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID1cbi8vICAgL15bYS16MC05LiEjJCUm4oCZKisvPT9eX2B7fH1+LV0rQFthLXowLTktXSsoPzpcXC5bYS16MC05XFwtXSspKiQvaTtcbi8vIGZyb20gaHR0cHM6Ly90aGVrZXZpbnNjb3R0LmNvbS9lbW9qaXMtaW4tamF2YXNjcmlwdC8jd3JpdGluZy1hLXJlZ3VsYXItZXhwcmVzc2lvblxuY29uc3QgX2Vtb2ppUmVnZXggPSBgXihcXFxccHtFeHRlbmRlZF9QaWN0b2dyYXBoaWN9fFxcXFxwe0Vtb2ppX0NvbXBvbmVudH0pKyRgO1xubGV0IGVtb2ppUmVnZXg7XG4vLyBmYXN0ZXIsIHNpbXBsZXIsIHNhZmVyXG5jb25zdCBpcHY0UmVnZXggPSAvXig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKSQvO1xuY29uc3QgaXB2NENpZHJSZWdleCA9IC9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwvKDNbMC0yXXxbMTJdP1swLTldKSQvO1xuLy8gY29uc3QgaXB2NlJlZ2V4ID1cbi8vIC9eKChbYS1mMC05XXsxLDR9Oil7N318OjooW2EtZjAtOV17MSw0fTopezAsNn18KFthLWYwLTldezEsNH06KXsxfTooW2EtZjAtOV17MSw0fTopezAsNX18KFthLWYwLTldezEsNH06KXsyfTooW2EtZjAtOV17MSw0fTopezAsNH18KFthLWYwLTldezEsNH06KXszfTooW2EtZjAtOV17MSw0fTopezAsM318KFthLWYwLTldezEsNH06KXs0fTooW2EtZjAtOV17MSw0fTopezAsMn18KFthLWYwLTldezEsNH06KXs1fTooW2EtZjAtOV17MSw0fTopezAsMX0pKFthLWYwLTldezEsNH18KCgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFwuKXszfSgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpKSQvO1xuY29uc3QgaXB2NlJlZ2V4ID0gL14oKFswLTlhLWZBLUZdezEsNH06KXs3LDd9WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsN306fChbMC05YS1mQS1GXXsxLDR9Oil7MSw2fTpbMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw1fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwyfXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH0oOlswLTlhLWZBLUZdezEsNH0pezEsM318KFswLTlhLWZBLUZdezEsNH06KXsxLDN9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwyfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw1fXxbMC05YS1mQS1GXXsxLDR9OigoOlswLTlhLWZBLUZdezEsNH0pezEsNn0pfDooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDd9fDopfGZlODA6KDpbMC05YS1mQS1GXXswLDR9KXswLDR9JVswLTlhLXpBLVpdezEsfXw6OihmZmZmKDowezEsNH0pezAsMX06KXswLDF9KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pfChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fTooKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSkpJC87XG5jb25zdCBpcHY2Q2lkclJlZ2V4ID0gL14oKFswLTlhLWZBLUZdezEsNH06KXs3LDd9WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsN306fChbMC05YS1mQS1GXXsxLDR9Oil7MSw2fTpbMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw1fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwyfXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH0oOlswLTlhLWZBLUZdezEsNH0pezEsM318KFswLTlhLWZBLUZdezEsNH06KXsxLDN9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwyfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw1fXxbMC05YS1mQS1GXXsxLDR9OigoOlswLTlhLWZBLUZdezEsNH0pezEsNn0pfDooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDd9fDopfGZlODA6KDpbMC05YS1mQS1GXXswLDR9KXswLDR9JVswLTlhLXpBLVpdezEsfXw6OihmZmZmKDowezEsNH0pezAsMX06KXswLDF9KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pfChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fTooKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSkpXFwvKDEyWzAtOF18MVswMV1bMC05XXxbMS05XT9bMC05XSkkLztcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NjAzOTIvZGV0ZXJtaW5lLWlmLXN0cmluZy1pcy1pbi1iYXNlNjQtdXNpbmctamF2YXNjcmlwdFxuY29uc3QgYmFzZTY0UmVnZXggPSAvXihbMC05YS16QS1aKy9dezR9KSooKFswLTlhLXpBLVorL117Mn09PSl8KFswLTlhLXpBLVorL117M309KSk/JC87XG4vLyBodHRwczovL2Jhc2U2NC5ndXJ1L3N0YW5kYXJkcy9iYXNlNjR1cmxcbmNvbnN0IGJhc2U2NHVybFJlZ2V4ID0gL14oWzAtOWEtekEtWi1fXXs0fSkqKChbMC05YS16QS1aLV9dezJ9KD09KT8pfChbMC05YS16QS1aLV9dezN9KD0pPykpPyQvO1xuLy8gc2ltcGxlXG4vLyBjb25zdCBkYXRlUmVnZXhTb3VyY2UgPSBgXFxcXGR7NH0tXFxcXGR7Mn0tXFxcXGR7Mn1gO1xuLy8gbm8gbGVhcCB5ZWFyIHZhbGlkYXRpb25cbi8vIGNvbnN0IGRhdGVSZWdleFNvdXJjZSA9IGBcXFxcZHs0fS0oKDBbMTM1NzhdfDEwfDEyKS0zMXwoMFsxMy05XXwxWzAtMl0pLTMwfCgwWzEtOV18MVswLTJdKS0oMFsxLTldfDFcXFxcZHwyXFxcXGQpKWA7XG4vLyB3aXRoIGxlYXAgeWVhciB2YWxpZGF0aW9uXG5jb25zdCBkYXRlUmVnZXhTb3VyY2UgPSBgKChcXFxcZFxcXFxkWzI0NjhdWzA0OF18XFxcXGRcXFxcZFsxMzU3OV1bMjZdfFxcXFxkXFxcXGQwWzQ4XXxbMDI0NjhdWzA0OF0wMHxbMTM1NzldWzI2XTAwKS0wMi0yOXxcXFxcZHs0fS0oKDBbMTM1NzhdfDFbMDJdKS0oMFsxLTldfFsxMl1cXFxcZHwzWzAxXSl8KDBbNDY5XXwxMSktKDBbMS05XXxbMTJdXFxcXGR8MzApfCgwMiktKDBbMS05XXwxXFxcXGR8MlswLThdKSkpYDtcbmNvbnN0IGRhdGVSZWdleCA9IG5ldyBSZWdFeHAoYF4ke2RhdGVSZWdleFNvdXJjZX0kYCk7XG5mdW5jdGlvbiB0aW1lUmVnZXhTb3VyY2UoYXJncykge1xuICAgIGxldCBzZWNvbmRzUmVnZXhTb3VyY2UgPSBgWzAtNV1cXFxcZGA7XG4gICAgaWYgKGFyZ3MucHJlY2lzaW9uKSB7XG4gICAgICAgIHNlY29uZHNSZWdleFNvdXJjZSA9IGAke3NlY29uZHNSZWdleFNvdXJjZX1cXFxcLlxcXFxkeyR7YXJncy5wcmVjaXNpb259fWA7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFyZ3MucHJlY2lzaW9uID09IG51bGwpIHtcbiAgICAgICAgc2Vjb25kc1JlZ2V4U291cmNlID0gYCR7c2Vjb25kc1JlZ2V4U291cmNlfShcXFxcLlxcXFxkKyk/YDtcbiAgICB9XG4gICAgY29uc3Qgc2Vjb25kc1F1YW50aWZpZXIgPSBhcmdzLnByZWNpc2lvbiA/IFwiK1wiIDogXCI/XCI7IC8vIHJlcXVpcmUgc2Vjb25kcyBpZiBwcmVjaXNpb24gaXMgbm9uemVyb1xuICAgIHJldHVybiBgKFswMV1cXFxcZHwyWzAtM10pOlswLTVdXFxcXGQoOiR7c2Vjb25kc1JlZ2V4U291cmNlfSkke3NlY29uZHNRdWFudGlmaWVyfWA7XG59XG5mdW5jdGlvbiB0aW1lUmVnZXgoYXJncykge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeJHt0aW1lUmVnZXhTb3VyY2UoYXJncyl9JGApO1xufVxuLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zMTQzMjMxXG5leHBvcnQgZnVuY3Rpb24gZGF0ZXRpbWVSZWdleChhcmdzKSB7XG4gICAgbGV0IHJlZ2V4ID0gYCR7ZGF0ZVJlZ2V4U291cmNlfVQke3RpbWVSZWdleFNvdXJjZShhcmdzKX1gO1xuICAgIGNvbnN0IG9wdHMgPSBbXTtcbiAgICBvcHRzLnB1c2goYXJncy5sb2NhbCA/IGBaP2AgOiBgWmApO1xuICAgIGlmIChhcmdzLm9mZnNldClcbiAgICAgICAgb3B0cy5wdXNoKGAoWystXVxcXFxkezJ9Oj9cXFxcZHsyfSlgKTtcbiAgICByZWdleCA9IGAke3JlZ2V4fSgke29wdHMuam9pbihcInxcIil9KWA7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke3JlZ2V4fSRgKTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRJUChpcCwgdmVyc2lvbikge1xuICAgIGlmICgodmVyc2lvbiA9PT0gXCJ2NFwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY0UmVnZXgudGVzdChpcCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICgodmVyc2lvbiA9PT0gXCJ2NlwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY2UmVnZXgudGVzdChpcCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRKV1Qoand0LCBhbGcpIHtcbiAgICBpZiAoIWp3dFJlZ2V4LnRlc3Qoand0KSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IFtoZWFkZXJdID0gand0LnNwbGl0KFwiLlwiKTtcbiAgICAgICAgaWYgKCFoZWFkZXIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIENvbnZlcnQgYmFzZTY0dXJsIHRvIGJhc2U2NFxuICAgICAgICBjb25zdCBiYXNlNjQgPSBoZWFkZXJcbiAgICAgICAgICAgIC5yZXBsYWNlKC8tL2csIFwiK1wiKVxuICAgICAgICAgICAgLnJlcGxhY2UoL18vZywgXCIvXCIpXG4gICAgICAgICAgICAucGFkRW5kKGhlYWRlci5sZW5ndGggKyAoKDQgLSAoaGVhZGVyLmxlbmd0aCAlIDQpKSAlIDQpLCBcIj1cIik7XG4gICAgICAgIGNvbnN0IGRlY29kZWQgPSBKU09OLnBhcnNlKGF0b2IoYmFzZTY0KSk7XG4gICAgICAgIGlmICh0eXBlb2YgZGVjb2RlZCAhPT0gXCJvYmplY3RcIiB8fCBkZWNvZGVkID09PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoXCJ0eXBcIiBpbiBkZWNvZGVkICYmIGRlY29kZWQ/LnR5cCAhPT0gXCJKV1RcIilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCFkZWNvZGVkLmFsZylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKGFsZyAmJiBkZWNvZGVkLmFsZyAhPT0gYWxnKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNWYWxpZENpZHIoaXAsIHZlcnNpb24pIHtcbiAgICBpZiAoKHZlcnNpb24gPT09IFwidjRcIiB8fCAhdmVyc2lvbikgJiYgaXB2NENpZHJSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCh2ZXJzaW9uID09PSBcInY2XCIgfHwgIXZlcnNpb24pICYmIGlwdjZDaWRyUmVnZXgudGVzdChpcCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBjbGFzcyBab2RTdHJpbmcgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBTdHJpbmcoaW5wdXQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5zdHJpbmcpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuc3RyaW5nLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IFBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGxldCBjdHggPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5sZW5ndGggPCBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5sZW5ndGggPiBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImxlbmd0aFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gaW5wdXQuZGF0YS5sZW5ndGggPiBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGlucHV0LmRhdGEubGVuZ3RoIDwgY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb0JpZyB8fCB0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvb0JpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImVtYWlsXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWVtYWlsUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImVtYWlsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJlbW9qaVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlbW9qaVJlZ2V4KSB7XG4gICAgICAgICAgICAgICAgICAgIGVtb2ppUmVnZXggPSBuZXcgUmVnRXhwKF9lbW9qaVJlZ2V4LCBcInVcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghZW1vamlSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZW1vamlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInV1aWRcIikge1xuICAgICAgICAgICAgICAgIGlmICghdXVpZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ1dWlkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJuYW5vaWRcIikge1xuICAgICAgICAgICAgICAgIGlmICghbmFub2lkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcIm5hbm9pZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiY3VpZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjdWlkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImN1aWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImN1aWQyXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWN1aWQyUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImN1aWQyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ1bGlkXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXVsaWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidWxpZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidXJsXCIpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBuZXcgVVJMKGlucHV0LmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidXJsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJyZWdleFwiKSB7XG4gICAgICAgICAgICAgICAgY2hlY2sucmVnZXgubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXN0UmVzdWx0ID0gY2hlY2sucmVnZXgudGVzdChpbnB1dC5kYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRlc3RSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJyZWdleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidHJpbVwiKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IGlucHV0LmRhdGEudHJpbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJpbmNsdWRlc1wiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbnB1dC5kYXRhLmluY2x1ZGVzKGNoZWNrLnZhbHVlLCBjaGVjay5wb3NpdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogeyBpbmNsdWRlczogY2hlY2sudmFsdWUsIHBvc2l0aW9uOiBjaGVjay5wb3NpdGlvbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidG9Mb3dlckNhc2VcIikge1xuICAgICAgICAgICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRvVXBwZXJDYXNlXCIpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5kYXRhID0gaW5wdXQuZGF0YS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJzdGFydHNXaXRoXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0LmRhdGEuc3RhcnRzV2l0aChjaGVjay52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogeyBzdGFydHNXaXRoOiBjaGVjay52YWx1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW5kc1dpdGhcIikge1xuICAgICAgICAgICAgICAgIGlmICghaW5wdXQuZGF0YS5lbmRzV2l0aChjaGVjay52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogeyBlbmRzV2l0aDogY2hlY2sudmFsdWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImRhdGV0aW1lXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWdleCA9IGRhdGV0aW1lUmVnZXgoY2hlY2spO1xuICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJkYXRlXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWdleCA9IGRhdGVSZWdleDtcbiAgICAgICAgICAgICAgICBpZiAoIXJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0aW1lXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWdleCA9IHRpbWVSZWdleChjaGVjayk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwidGltZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZHVyYXRpb25cIikge1xuICAgICAgICAgICAgICAgIGlmICghZHVyYXRpb25SZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZHVyYXRpb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImlwXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRJUChpbnB1dC5kYXRhLCBjaGVjay52ZXJzaW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImlwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJqd3RcIikge1xuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZEpXVChpbnB1dC5kYXRhLCBjaGVjay5hbGcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiand0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJjaWRyXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRDaWRyKGlucHV0LmRhdGEsIGNoZWNrLnZlcnNpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiY2lkclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiYmFzZTY0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWJhc2U2NFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJiYXNlNjRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImJhc2U2NHVybFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFiYXNlNjR1cmxSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiYmFzZTY0dXJsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIF9yZWdleChyZWdleCwgdmFsaWRhdGlvbiwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZpbmVtZW50KChkYXRhKSA9PiByZWdleC50ZXN0KGRhdGEpLCB7XG4gICAgICAgICAgICB2YWxpZGF0aW9uLFxuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVtYWlsKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJlbWFpbFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIHVybChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwidXJsXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgZW1vamkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImVtb2ppXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgdXVpZChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwidXVpZFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIG5hbm9pZChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwibmFub2lkXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgY3VpZChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiY3VpZFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGN1aWQyKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJjdWlkMlwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIHVsaWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcInVsaWRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBiYXNlNjQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImJhc2U2NFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGJhc2U2NHVybChtZXNzYWdlKSB7XG4gICAgICAgIC8vIGJhc2U2NHVybCBlbmNvZGluZyBpcyBhIG1vZGlmaWNhdGlvbiBvZiBiYXNlNjQgdGhhdCBjYW4gc2FmZWx5IGJlIHVzZWQgaW4gVVJMcyBhbmQgZmlsZW5hbWVzXG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImJhc2U2NHVybFwiLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgand0KG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJqd3RcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMpIH0pO1xuICAgIH1cbiAgICBpcChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiaXBcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMpIH0pO1xuICAgIH1cbiAgICBjaWRyKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJjaWRyXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zKSB9KTtcbiAgICB9XG4gICAgZGF0ZXRpbWUob3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICAgICAga2luZDogXCJkYXRldGltZVwiLFxuICAgICAgICAgICAgICAgIHByZWNpc2lvbjogbnVsbCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxvY2FsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBvcHRpb25zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiZGF0ZXRpbWVcIixcbiAgICAgICAgICAgIHByZWNpc2lvbjogdHlwZW9mIG9wdGlvbnM/LnByZWNpc2lvbiA9PT0gXCJ1bmRlZmluZWRcIiA/IG51bGwgOiBvcHRpb25zPy5wcmVjaXNpb24sXG4gICAgICAgICAgICBvZmZzZXQ6IG9wdGlvbnM/Lm9mZnNldCA/PyBmYWxzZSxcbiAgICAgICAgICAgIGxvY2FsOiBvcHRpb25zPy5sb2NhbCA/PyBmYWxzZSxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zPy5tZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRhdGUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImRhdGVcIiwgbWVzc2FnZSB9KTtcbiAgICB9XG4gICAgdGltZShvcHRpb25zKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgICAgICBraW5kOiBcInRpbWVcIixcbiAgICAgICAgICAgICAgICBwcmVjaXNpb246IG51bGwsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogb3B0aW9ucyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcInRpbWVcIixcbiAgICAgICAgICAgIHByZWNpc2lvbjogdHlwZW9mIG9wdGlvbnM/LnByZWNpc2lvbiA9PT0gXCJ1bmRlZmluZWRcIiA/IG51bGwgOiBvcHRpb25zPy5wcmVjaXNpb24sXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucz8ubWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkdXJhdGlvbihtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZHVyYXRpb25cIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICByZWdleChyZWdleCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJyZWdleFwiLFxuICAgICAgICAgICAgcmVnZXg6IHJlZ2V4LFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaW5jbHVkZXModmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiaW5jbHVkZXNcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBvcHRpb25zPy5wb3NpdGlvbixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zPy5tZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXJ0c1dpdGgodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwic3RhcnRzV2l0aFwiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZW5kc1dpdGgodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiZW5kc1dpdGhcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1pbihtaW5MZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogbWluTGVuZ3RoLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heExlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBtYXhMZW5ndGgsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZW5ndGgobGVuLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImxlbmd0aFwiLFxuICAgICAgICAgICAgdmFsdWU6IGxlbixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gYC5taW4oMSlgXG4gICAgICovXG4gICAgbm9uZW1wdHkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oMSwgZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgdHJpbSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgeyBraW5kOiBcInRyaW1cIiB9XSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRvTG93ZXJDYXNlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCB7IGtpbmQ6IFwidG9Mb3dlckNhc2VcIiB9XSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRvVXBwZXJDYXNlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCB7IGtpbmQ6IFwidG9VcHBlckNhc2VcIiB9XSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBpc0RhdGV0aW1lKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImRhdGV0aW1lXCIpO1xuICAgIH1cbiAgICBnZXQgaXNEYXRlKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImRhdGVcIik7XG4gICAgfVxuICAgIGdldCBpc1RpbWUoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidGltZVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzRHVyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZHVyYXRpb25cIik7XG4gICAgfVxuICAgIGdldCBpc0VtYWlsKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImVtYWlsXCIpO1xuICAgIH1cbiAgICBnZXQgaXNVUkwoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidXJsXCIpO1xuICAgIH1cbiAgICBnZXQgaXNFbW9qaSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJlbW9qaVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzVVVJRCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ1dWlkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNOQU5PSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwibmFub2lkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNDVUlEKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImN1aWRcIik7XG4gICAgfVxuICAgIGdldCBpc0NVSUQyKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImN1aWQyXCIpO1xuICAgIH1cbiAgICBnZXQgaXNVTElEKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInVsaWRcIik7XG4gICAgfVxuICAgIGdldCBpc0lQKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImlwXCIpO1xuICAgIH1cbiAgICBnZXQgaXNDSURSKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImNpZHJcIik7XG4gICAgfVxuICAgIGdldCBpc0Jhc2U2NCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJiYXNlNjRcIik7XG4gICAgfVxuICAgIGdldCBpc0Jhc2U2NHVybCgpIHtcbiAgICAgICAgLy8gYmFzZTY0dXJsIGVuY29kaW5nIGlzIGEgbW9kaWZpY2F0aW9uIG9mIGJhc2U2NCB0aGF0IGNhbiBzYWZlbHkgYmUgdXNlZCBpbiBVUkxzIGFuZCBmaWxlbmFtZXNcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJiYXNlNjR1cmxcIik7XG4gICAgfVxuICAgIGdldCBtaW5MZW5ndGgoKSB7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbjtcbiAgICB9XG4gICAgZ2V0IG1heExlbmd0aCgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4O1xuICAgIH1cbn1cblpvZFN0cmluZy5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN0cmluZyxcbiAgICAgICAgY29lcmNlOiBwYXJhbXM/LmNvZXJjZSA/PyBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM5NjY0ODQvd2h5LWRvZXMtbW9kdWx1cy1vcGVyYXRvci1yZXR1cm4tZnJhY3Rpb25hbC1udW1iZXItaW4tamF2YXNjcmlwdC8zMTcxMTAzNCMzMTcxMTAzNFxuZnVuY3Rpb24gZmxvYXRTYWZlUmVtYWluZGVyKHZhbCwgc3RlcCkge1xuICAgIGNvbnN0IHZhbERlY0NvdW50ID0gKHZhbC50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXSB8fCBcIlwiKS5sZW5ndGg7XG4gICAgY29uc3Qgc3RlcERlY0NvdW50ID0gKHN0ZXAudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV0gfHwgXCJcIikubGVuZ3RoO1xuICAgIGNvbnN0IGRlY0NvdW50ID0gdmFsRGVjQ291bnQgPiBzdGVwRGVjQ291bnQgPyB2YWxEZWNDb3VudCA6IHN0ZXBEZWNDb3VudDtcbiAgICBjb25zdCB2YWxJbnQgPSBOdW1iZXIucGFyc2VJbnQodmFsLnRvRml4ZWQoZGVjQ291bnQpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICBjb25zdCBzdGVwSW50ID0gTnVtYmVyLnBhcnNlSW50KHN0ZXAudG9GaXhlZChkZWNDb3VudCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgIHJldHVybiAodmFsSW50ICUgc3RlcEludCkgLyAxMCAqKiBkZWNDb3VudDtcbn1cbmV4cG9ydCBjbGFzcyBab2ROdW1iZXIgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5taW4gPSB0aGlzLmd0ZTtcbiAgICAgICAgdGhpcy5tYXggPSB0aGlzLmx0ZTtcbiAgICAgICAgdGhpcy5zdGVwID0gdGhpcy5tdWx0aXBsZU9mO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBOdW1iZXIoaW5wdXQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5udW1iZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubnVtYmVyLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IFBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwiaW50XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXV0aWwuaXNJbnRlZ2VyKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZDogXCJpbnRlZ2VyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlZDogXCJmbG9hdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGNoZWNrLmluY2x1c2l2ZSA/IGlucHV0LmRhdGEgPCBjaGVjay52YWx1ZSA6IGlucHV0LmRhdGEgPD0gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gY2hlY2suaW5jbHVzaXZlID8gaW5wdXQuZGF0YSA+IGNoZWNrLnZhbHVlIDogaW5wdXQuZGF0YSA+PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vQmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmxvYXRTYWZlUmVtYWluZGVyKGlucHV0LmRhdGEsIGNoZWNrLnZhbHVlKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUubm90X211bHRpcGxlX29mLFxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGVPZjogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJmaW5pdGVcIikge1xuICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5ub3RfZmluaXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbiAgICBndGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGd0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgbHRlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIHNldExpbWl0KGtpbmQsIHZhbHVlLCBpbmNsdXNpdmUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2ROdW1iZXIoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbXG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLmNoZWNrcyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE51bWJlcih7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbnQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJpbnRcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBuZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ucG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ubmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbXVsdGlwbGVPZih2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtdWx0aXBsZU9mXCIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmaW5pdGUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJmaW5pdGVcIixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNhZmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSkuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgbWluVmFsdWUoKSB7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbjtcbiAgICB9XG4gICAgZ2V0IG1heFZhbHVlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxuICAgIGdldCBpc0ludCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJpbnRcIiB8fCAoY2gua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIgJiYgdXRpbC5pc0ludGVnZXIoY2gudmFsdWUpKSk7XG4gICAgfVxuICAgIGdldCBpc0Zpbml0ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcImZpbml0ZVwiIHx8IGNoLmtpbmQgPT09IFwiaW50XCIgfHwgY2gua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTnVtYmVyLmlzRmluaXRlKG1pbikgJiYgTnVtYmVyLmlzRmluaXRlKG1heCk7XG4gICAgfVxufVxuWm9kTnVtYmVyLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE51bWJlcih7XG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVtYmVyLFxuICAgICAgICBjb2VyY2U6IHBhcmFtcz8uY29lcmNlIHx8IGZhbHNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZEJpZ0ludCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm1pbiA9IHRoaXMuZ3RlO1xuICAgICAgICB0aGlzLm1heCA9IHRoaXMubHRlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IEJpZ0ludChpbnB1dC5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0SW52YWxpZElucHV0KGlucHV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmJpZ2ludCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEludmFsaWRJbnB1dChpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IFBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGNoZWNrLmluY2x1c2l2ZSA/IGlucHV0LmRhdGEgPCBjaGVjay52YWx1ZSA6IGlucHV0LmRhdGEgPD0gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImJpZ2ludFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gY2hlY2suaW5jbHVzaXZlID8gaW5wdXQuZGF0YSA+IGNoZWNrLnZhbHVlIDogaW5wdXQuZGF0YSA+PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vQmlnKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJiaWdpbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtdWx0aXBsZU9mXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YSAlIGNoZWNrLnZhbHVlICE9PSBCaWdJbnQoMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLm5vdF9tdWx0aXBsZV9vZixcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlT2Y6IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbiAgICBfZ2V0SW52YWxpZElucHV0KGlucHV0KSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuYmlnaW50LFxuICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxuICAgIGd0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgZ3QodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgc2V0TGltaXQoa2luZCwgdmFsdWUsIGluY2x1c2l2ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEJpZ0ludCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuY2hlY2tzLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2luZCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQmlnSW50KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbnBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ubmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtdWx0aXBsZU9mKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm11bHRpcGxlT2ZcIixcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IG1pblZhbHVlKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW47XG4gICAgfVxuICAgIGdldCBtYXhWYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4O1xuICAgIH1cbn1cblpvZEJpZ0ludC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJpZ0ludCxcbiAgICAgICAgY29lcmNlOiBwYXJhbXM/LmNvZXJjZSA/PyBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RCb29sZWFuIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gQm9vbGVhbihpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmJvb2xlYW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuYm9vbGVhbixcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RCb29sZWFuLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEJvb2xlYW4oe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJvb2xlYW4sXG4gICAgICAgIGNvZXJjZTogcGFyYW1zPy5jb2VyY2UgfHwgZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kRGF0ZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IG5ldyBEYXRlKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuZGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5kYXRlLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE51bWJlci5pc05hTihpbnB1dC5kYXRhLmdldFRpbWUoKSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2RhdGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBQYXJzZVN0YXR1cygpO1xuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEuZ2V0VGltZSgpIDwgY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmdldFRpbWUoKSA+IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMudmFsdWUsXG4gICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUoaW5wdXQuZGF0YS5nZXRUaW1lKCkpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2REYXRlKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1pbihtaW5EYXRlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IG1pbkRhdGUuZ2V0VGltZSgpLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heERhdGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogbWF4RGF0ZS5nZXRUaW1lKCksXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgbWluRGF0ZSgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluICE9IG51bGwgPyBuZXcgRGF0ZShtaW4pIDogbnVsbDtcbiAgICB9XG4gICAgZ2V0IG1heERhdGUoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heCAhPSBudWxsID8gbmV3IERhdGUobWF4KSA6IG51bGw7XG4gICAgfVxufVxuWm9kRGF0ZS5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2REYXRlKHtcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgY29lcmNlOiBwYXJhbXM/LmNvZXJjZSB8fCBmYWxzZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REYXRlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFN5bWJvbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnN5bWJvbCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5zeW1ib2wsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kU3ltYm9sLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFN5bWJvbCh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3ltYm9sLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFVuZGVmaW5lZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS51bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kVW5kZWZpbmVkLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFVuZGVmaW5lZCh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5kZWZpbmVkLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZE51bGwgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5udWxsKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm51bGwsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kTnVsbC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROdWxsKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZEFueSBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAvLyB0byBwcmV2ZW50IGluc3RhbmNlcyBvZiBvdGhlciBjbGFzc2VzIGZyb20gZXh0ZW5kaW5nIFpvZEFueS4gdGhpcyBjYXVzZXMgaXNzdWVzIHdpdGggY2F0Y2hhbGwgaW4gWm9kT2JqZWN0LlxuICAgICAgICB0aGlzLl9hbnkgPSB0cnVlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZEFueS5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RBbnkoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFueSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RVbmtub3duIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIC8vIHJlcXVpcmVkXG4gICAgICAgIHRoaXMuX3Vua25vd24gPSB0cnVlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZFVua25vd24uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kVW5rbm93bih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5rbm93bixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2ROZXZlciBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm5ldmVyLFxuICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgfVxufVxuWm9kTmV2ZXIuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTmV2ZXIoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5ldmVyLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFZvaWQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUudm9pZCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RWb2lkLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFZvaWQoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFZvaWQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kQXJyYXkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHgsIHN0YXR1cyB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgZGVmID0gdGhpcy5fZGVmO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYXJyYXkpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuYXJyYXksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLmV4YWN0TGVuZ3RoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCB0b29CaWcgPSBjdHguZGF0YS5sZW5ndGggPiBkZWYuZXhhY3RMZW5ndGgudmFsdWU7XG4gICAgICAgICAgICBjb25zdCB0b29TbWFsbCA9IGN0eC5kYXRhLmxlbmd0aCA8IGRlZi5leGFjdExlbmd0aC52YWx1ZTtcbiAgICAgICAgICAgIGlmICh0b29CaWcgfHwgdG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogdG9vQmlnID8gWm9kSXNzdWVDb2RlLnRvb19iaWcgOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiAodG9vU21hbGwgPyBkZWYuZXhhY3RMZW5ndGgudmFsdWUgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiAodG9vQmlnID8gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYuZXhhY3RMZW5ndGgubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLm1pbkxlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLmxlbmd0aCA8IGRlZi5taW5MZW5ndGgudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgbWluaW11bTogZGVmLm1pbkxlbmd0aC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1pbkxlbmd0aC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYubWF4TGVuZ3RoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmRhdGEubGVuZ3RoID4gZGVmLm1heExlbmd0aC52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogZGVmLm1heExlbmd0aC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1heExlbmd0aC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoWy4uLmN0eC5kYXRhXS5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmLnR5cGUuX3BhcnNlQXN5bmMobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpKSk7XG4gICAgICAgICAgICB9KSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gWy4uLmN0eC5kYXRhXS5tYXAoKGl0ZW0sIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBkZWYudHlwZS5fcGFyc2VTeW5jKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHQpO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlO1xuICAgIH1cbiAgICBtaW4obWluTGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWluTGVuZ3RoOiB7IHZhbHVlOiBtaW5MZW5ndGgsIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heExlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1heExlbmd0aDogeyB2YWx1ZTogbWF4TGVuZ3RoLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxlbmd0aChsZW4sIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBleGFjdExlbmd0aDogeyB2YWx1ZTogbGVuLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbmVtcHR5KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKDEsIG1lc3NhZ2UpO1xuICAgIH1cbn1cblpvZEFycmF5LmNyZWF0ZSA9IChzY2hlbWEsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICB0eXBlOiBzY2hlbWEsXG4gICAgICAgIG1pbkxlbmd0aDogbnVsbCxcbiAgICAgICAgbWF4TGVuZ3RoOiBudWxsLFxuICAgICAgICBleGFjdExlbmd0aDogbnVsbCxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBcnJheSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmZ1bmN0aW9uIGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYSkge1xuICAgIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RPYmplY3QpIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2NoZW1hLnNoYXBlKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHNjaGVtYS5zaGFwZVtrZXldO1xuICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IFpvZE9wdGlvbmFsLmNyZWF0ZShkZWVwUGFydGlhbGlmeShmaWVsZFNjaGVtYSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnNjaGVtYS5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IG5ld1NoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kQXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi5zY2hlbWEuX2RlZixcbiAgICAgICAgICAgIHR5cGU6IGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYS5lbGVtZW50KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE9wdGlvbmFsKSB7XG4gICAgICAgIHJldHVybiBab2RPcHRpb25hbC5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoc2NoZW1hLnVud3JhcCgpKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE51bGxhYmxlKSB7XG4gICAgICAgIHJldHVybiBab2ROdWxsYWJsZS5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoc2NoZW1hLnVud3JhcCgpKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZFR1cGxlKSB7XG4gICAgICAgIHJldHVybiBab2RUdXBsZS5jcmVhdGUoc2NoZW1hLml0ZW1zLm1hcCgoaXRlbSkgPT4gZGVlcFBhcnRpYWxpZnkoaXRlbSkpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFpvZE9iamVjdCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLl9jYWNoZWQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgSW4gbW9zdCBjYXNlcywgdGhpcyBpcyBubyBsb25nZXIgbmVlZGVkIC0gdW5rbm93biBwcm9wZXJ0aWVzIGFyZSBub3cgc2lsZW50bHkgc3RyaXBwZWQuXG4gICAgICAgICAqIElmIHlvdSB3YW50IHRvIHBhc3MgdGhyb3VnaCB1bmtub3duIHByb3BlcnRpZXMsIHVzZSBgLnBhc3N0aHJvdWdoKClgIGluc3RlYWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5vbnN0cmljdCA9IHRoaXMucGFzc3Rocm91Z2g7XG4gICAgICAgIC8vIGV4dGVuZDxcbiAgICAgICAgLy8gICBBdWdtZW50YXRpb24gZXh0ZW5kcyBab2RSYXdTaGFwZSxcbiAgICAgICAgLy8gICBOZXdPdXRwdXQgZXh0ZW5kcyB1dGlsLmZsYXR0ZW48e1xuICAgICAgICAvLyAgICAgW2sgaW4ga2V5b2YgQXVnbWVudGF0aW9uIHwga2V5b2YgT3V0cHV0XTogayBleHRlbmRzIGtleW9mIEF1Z21lbnRhdGlvblxuICAgICAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9vdXRwdXRcIl1cbiAgICAgICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgT3V0cHV0XG4gICAgICAgIC8vICAgICAgID8gT3V0cHV0W2tdXG4gICAgICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgICAgIC8vICAgfT4sXG4gICAgICAgIC8vICAgTmV3SW5wdXQgZXh0ZW5kcyB1dGlsLmZsYXR0ZW48e1xuICAgICAgICAvLyAgICAgW2sgaW4ga2V5b2YgQXVnbWVudGF0aW9uIHwga2V5b2YgSW5wdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgICAgIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX2lucHV0XCJdXG4gICAgICAgIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIElucHV0XG4gICAgICAgIC8vICAgICAgID8gSW5wdXRba11cbiAgICAgICAgLy8gICAgICAgOiBuZXZlcjtcbiAgICAgICAgLy8gICB9PlxuICAgICAgICAvLyA+KFxuICAgICAgICAvLyAgIGF1Z21lbnRhdGlvbjogQXVnbWVudGF0aW9uXG4gICAgICAgIC8vICk6IFpvZE9iamVjdDxcbiAgICAgICAgLy8gICBleHRlbmRTaGFwZTxULCBBdWdtZW50YXRpb24+LFxuICAgICAgICAvLyAgIFVua25vd25LZXlzLFxuICAgICAgICAvLyAgIENhdGNoYWxsLFxuICAgICAgICAvLyAgIE5ld091dHB1dCxcbiAgICAgICAgLy8gICBOZXdJbnB1dFxuICAgICAgICAvLyA+IHtcbiAgICAgICAgLy8gICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIC8vICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgIC8vICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAgICAgLy8gICAgICAgLi4udGhpcy5fZGVmLnNoYXBlKCksXG4gICAgICAgIC8vICAgICAgIC4uLmF1Z21lbnRhdGlvbixcbiAgICAgICAgLy8gICAgIH0pLFxuICAgICAgICAvLyAgIH0pIGFzIGFueTtcbiAgICAgICAgLy8gfVxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgVXNlIGAuZXh0ZW5kYCBpbnN0ZWFkXG4gICAgICAgICAqICAqL1xuICAgICAgICB0aGlzLmF1Z21lbnQgPSB0aGlzLmV4dGVuZDtcbiAgICB9XG4gICAgX2dldENhY2hlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NhY2hlZCAhPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWQ7XG4gICAgICAgIGNvbnN0IHNoYXBlID0gdGhpcy5fZGVmLnNoYXBlKCk7XG4gICAgICAgIGNvbnN0IGtleXMgPSB1dGlsLm9iamVjdEtleXMoc2hhcGUpO1xuICAgICAgICB0aGlzLl9jYWNoZWQgPSB7IHNoYXBlLCBrZXlzIH07XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWQ7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCB7IHNoYXBlLCBrZXlzOiBzaGFwZUtleXMgfSA9IHRoaXMuX2dldENhY2hlZCgpO1xuICAgICAgICBjb25zdCBleHRyYUtleXMgPSBbXTtcbiAgICAgICAgaWYgKCEodGhpcy5fZGVmLmNhdGNoYWxsIGluc3RhbmNlb2YgWm9kTmV2ZXIgJiYgdGhpcy5fZGVmLnVua25vd25LZXlzID09PSBcInN0cmlwXCIpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBjdHguZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmICghc2hhcGVLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFLZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFpcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Ygc2hhcGVLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBrZXlWYWxpZGF0b3IgPSBzaGFwZVtrZXldO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHguZGF0YVtrZXldO1xuICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAga2V5OiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZToga2V5IH0sXG4gICAgICAgICAgICAgICAgdmFsdWU6IGtleVZhbGlkYXRvci5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwga2V5KSksXG4gICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBrZXkgaW4gY3R4LmRhdGEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZGVmLmNhdGNoYWxsIGluc3RhbmNlb2YgWm9kTmV2ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHVua25vd25LZXlzID0gdGhpcy5fZGVmLnVua25vd25LZXlzO1xuICAgICAgICAgICAgaWYgKHVua25vd25LZXlzID09PSBcInBhc3N0aHJvdWdoXCIpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBleHRyYUtleXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBrZXkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZTogY3R4LmRhdGFba2V5XSB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh1bmtub3duS2V5cyA9PT0gXCJzdHJpY3RcIikge1xuICAgICAgICAgICAgICAgIGlmIChleHRyYUtleXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS51bnJlY29nbml6ZWRfa2V5cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXM6IGV4dHJhS2V5cyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHVua25vd25LZXlzID09PSBcInN0cmlwXCIpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW50ZXJuYWwgWm9kT2JqZWN0IGVycm9yOiBpbnZhbGlkIHVua25vd25LZXlzIHZhbHVlLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gcnVuIGNhdGNoYWxsIHZhbGlkYXRpb25cbiAgICAgICAgICAgIGNvbnN0IGNhdGNoYWxsID0gdGhpcy5fZGVmLmNhdGNoYWxsO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgZXh0cmFLZXlzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBjdHguZGF0YVtrZXldO1xuICAgICAgICAgICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBrZXk6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBrZXkgfSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNhdGNoYWxsLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgdmFsdWUsIGN0eC5wYXRoLCBrZXkpIC8vLCBjdHguY2hpbGQoa2V5KSwgdmFsdWUsIGdldFBhcnNlZFR5cGUodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIGFsd2F5c1NldDoga2V5IGluIGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgICAgICAgICAgICAudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3luY1BhaXJzID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGF3YWl0IHBhaXIua2V5O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhaXIudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHN5bmNQYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBwYWlyLmFsd2F5c1NldCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzeW5jUGFpcnM7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKChzeW5jUGFpcnMpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgc3luY1BhaXJzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgc2hhcGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2hhcGUoKTtcbiAgICB9XG4gICAgc3RyaWN0KG1lc3NhZ2UpIHtcbiAgICAgICAgZXJyb3JVdGlsLmVyclRvT2JqO1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICB1bmtub3duS2V5czogXCJzdHJpY3RcIixcbiAgICAgICAgICAgIC4uLihtZXNzYWdlICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNYXA6IChpc3N1ZSwgY3R4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0RXJyb3IgPSB0aGlzLl9kZWYuZXJyb3JNYXA/Lihpc3N1ZSwgY3R4KS5tZXNzYWdlID8/IGN0eC5kZWZhdWx0RXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNzdWUuY29kZSA9PT0gXCJ1bnJlY29nbml6ZWRfa2V5c1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKS5tZXNzYWdlID8/IGRlZmF1bHRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWZhdWx0RXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0cmlwKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGFzc3Rocm91Z2goKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHVua25vd25LZXlzOiBcInBhc3N0aHJvdWdoXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBjb25zdCBBdWdtZW50RmFjdG9yeSA9XG4gICAgLy8gICA8RGVmIGV4dGVuZHMgWm9kT2JqZWN0RGVmPihkZWY6IERlZikgPT5cbiAgICAvLyAgIDxBdWdtZW50YXRpb24gZXh0ZW5kcyBab2RSYXdTaGFwZT4oXG4gICAgLy8gICAgIGF1Z21lbnRhdGlvbjogQXVnbWVudGF0aW9uXG4gICAgLy8gICApOiBab2RPYmplY3Q8XG4gICAgLy8gICAgIGV4dGVuZFNoYXBlPFJldHVyblR5cGU8RGVmW1wic2hhcGVcIl0+LCBBdWdtZW50YXRpb24+LFxuICAgIC8vICAgICBEZWZbXCJ1bmtub3duS2V5c1wiXSxcbiAgICAvLyAgICAgRGVmW1wiY2F0Y2hhbGxcIl1cbiAgICAvLyAgID4gPT4ge1xuICAgIC8vICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgLy8gICAgICAgLi4uZGVmLFxuICAgIC8vICAgICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgIC8vICAgICAgICAgLi4uZGVmLnNoYXBlKCksXG4gICAgLy8gICAgICAgICAuLi5hdWdtZW50YXRpb24sXG4gICAgLy8gICAgICAgfSksXG4gICAgLy8gICAgIH0pIGFzIGFueTtcbiAgICAvLyAgIH07XG4gICAgZXh0ZW5kKGF1Z21lbnRhdGlvbikge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgICAgICAgICAuLi5hdWdtZW50YXRpb24sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByaW9yIHRvIHpvZEAxLjAuMTIgdGhlcmUgd2FzIGEgYnVnIGluIHRoZVxuICAgICAqIGluZmVycmVkIHR5cGUgb2YgbWVyZ2VkIG9iamVjdHMuIFBsZWFzZVxuICAgICAqIHVwZ3JhZGUgaWYgeW91IGFyZSBleHBlcmllbmNpbmcgaXNzdWVzLlxuICAgICAqL1xuICAgIG1lcmdlKG1lcmdpbmcpIHtcbiAgICAgICAgY29uc3QgbWVyZ2VkID0gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgICAgICAgICAgY2F0Y2hhbGw6IG1lcmdpbmcuX2RlZi5jYXRjaGFsbCxcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5zaGFwZSgpLFxuICAgICAgICAgICAgICAgIC4uLm1lcmdpbmcuX2RlZi5zaGFwZSgpLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtZXJnZWQ7XG4gICAgfVxuICAgIC8vIG1lcmdlPFxuICAgIC8vICAgSW5jb21pbmcgZXh0ZW5kcyBBbnlab2RPYmplY3QsXG4gICAgLy8gICBBdWdtZW50YXRpb24gZXh0ZW5kcyBJbmNvbWluZ1tcInNoYXBlXCJdLFxuICAgIC8vICAgTmV3T3V0cHV0IGV4dGVuZHMge1xuICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBPdXRwdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfb3V0cHV0XCJdXG4gICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgT3V0cHV0XG4gICAgLy8gICAgICAgPyBPdXRwdXRba11cbiAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgIC8vICAgfSxcbiAgICAvLyAgIE5ld0lucHV0IGV4dGVuZHMge1xuICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBJbnB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9pbnB1dFwiXVxuICAgIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIElucHV0XG4gICAgLy8gICAgICAgPyBJbnB1dFtrXVxuICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgLy8gICB9XG4gICAgLy8gPihcbiAgICAvLyAgIG1lcmdpbmc6IEluY29taW5nXG4gICAgLy8gKTogWm9kT2JqZWN0PFxuICAgIC8vICAgZXh0ZW5kU2hhcGU8VCwgUmV0dXJuVHlwZTxJbmNvbWluZ1tcIl9kZWZcIl1bXCJzaGFwZVwiXT4+LFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1widW5rbm93bktleXNcIl0sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJjYXRjaGFsbFwiXSxcbiAgICAvLyAgIE5ld091dHB1dCxcbiAgICAvLyAgIE5ld0lucHV0XG4gICAgLy8gPiB7XG4gICAgLy8gICBjb25zdCBtZXJnZWQ6IGFueSA9IG5ldyBab2RPYmplY3Qoe1xuICAgIC8vICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgIC8vICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgIC8vICAgICBzaGFwZTogKCkgPT5cbiAgICAvLyAgICAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKHRoaXMuX2RlZi5zaGFwZSgpLCBtZXJnaW5nLl9kZWYuc2hhcGUoKSksXG4gICAgLy8gICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgIC8vICAgfSkgYXMgYW55O1xuICAgIC8vICAgcmV0dXJuIG1lcmdlZDtcbiAgICAvLyB9XG4gICAgc2V0S2V5KGtleSwgc2NoZW1hKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF1Z21lbnQoeyBba2V5XTogc2NoZW1hIH0pO1xuICAgIH1cbiAgICAvLyBtZXJnZTxJbmNvbWluZyBleHRlbmRzIEFueVpvZE9iamVjdD4oXG4gICAgLy8gICBtZXJnaW5nOiBJbmNvbWluZ1xuICAgIC8vICk6IC8vWm9kT2JqZWN0PFQgJiBJbmNvbWluZ1tcIl9zaGFwZVwiXSwgVW5rbm93bktleXMsIENhdGNoYWxsPiA9IChtZXJnaW5nKSA9PiB7XG4gICAgLy8gWm9kT2JqZWN0PFxuICAgIC8vICAgZXh0ZW5kU2hhcGU8VCwgUmV0dXJuVHlwZTxJbmNvbWluZ1tcIl9kZWZcIl1bXCJzaGFwZVwiXT4+LFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1widW5rbm93bktleXNcIl0sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJjYXRjaGFsbFwiXVxuICAgIC8vID4ge1xuICAgIC8vICAgLy8gY29uc3QgbWVyZ2VkU2hhcGUgPSBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKFxuICAgIC8vICAgLy8gICB0aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAvLyAgIC8vICAgbWVyZ2luZy5fZGVmLnNoYXBlKClcbiAgICAvLyAgIC8vICk7XG4gICAgLy8gICBjb25zdCBtZXJnZWQ6IGFueSA9IG5ldyBab2RPYmplY3Qoe1xuICAgIC8vICAgICB1bmtub3duS2V5czogbWVyZ2luZy5fZGVmLnVua25vd25LZXlzLFxuICAgIC8vICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgIC8vICAgICBzaGFwZTogKCkgPT5cbiAgICAvLyAgICAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzKHRoaXMuX2RlZi5zaGFwZSgpLCBtZXJnaW5nLl9kZWYuc2hhcGUoKSksXG4gICAgLy8gICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgIC8vICAgfSkgYXMgYW55O1xuICAgIC8vICAgcmV0dXJuIG1lcmdlZDtcbiAgICAvLyB9XG4gICAgY2F0Y2hhbGwoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2F0Y2hhbGw6IGluZGV4LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGljayhtYXNrKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHV0aWwub2JqZWN0S2V5cyhtYXNrKSkge1xuICAgICAgICAgICAgaWYgKG1hc2tba2V5XSAmJiB0aGlzLnNoYXBlW2tleV0pIHtcbiAgICAgICAgICAgICAgICBzaGFwZVtrZXldID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9taXQobWFzaykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiB1dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkpIHtcbiAgICAgICAgICAgIGlmICghbWFza1trZXldKSB7XG4gICAgICAgICAgICAgICAgc2hhcGVba2V5XSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqL1xuICAgIGRlZXBQYXJ0aWFsKCkge1xuICAgICAgICByZXR1cm4gZGVlcFBhcnRpYWxpZnkodGhpcyk7XG4gICAgfVxuICAgIHBhcnRpYWwobWFzaykge1xuICAgICAgICBjb25zdCBuZXdTaGFwZSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiB1dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkU2NoZW1hID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgaWYgKG1hc2sgJiYgIW1hc2tba2V5XSkge1xuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBmaWVsZFNjaGVtYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBmaWVsZFNjaGVtYS5vcHRpb25hbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBuZXdTaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlcXVpcmVkKG1hc2spIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpKSB7XG4gICAgICAgICAgICBpZiAobWFzayAmJiAhbWFza1trZXldKSB7XG4gICAgICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkU2NoZW1hID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgICAgIGxldCBuZXdGaWVsZCA9IGZpZWxkU2NoZW1hO1xuICAgICAgICAgICAgICAgIHdoaWxlIChuZXdGaWVsZCBpbnN0YW5jZW9mIFpvZE9wdGlvbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0ZpZWxkID0gbmV3RmllbGQuX2RlZi5pbm5lclR5cGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBuZXdGaWVsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gbmV3U2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBrZXlvZigpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVpvZEVudW0odXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpKTtcbiAgICB9XG59XG5ab2RPYmplY3QuY3JlYXRlID0gKHNoYXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgdW5rbm93bktleXM6IFwic3RyaXBcIixcbiAgICAgICAgY2F0Y2hhbGw6IFpvZE5ldmVyLmNyZWF0ZSgpLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcblpvZE9iamVjdC5zdHJpY3RDcmVhdGUgPSAoc2hhcGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgc2hhcGU6ICgpID0+IHNoYXBlLFxuICAgICAgICB1bmtub3duS2V5czogXCJzdHJpY3RcIixcbiAgICAgICAgY2F0Y2hhbGw6IFpvZE5ldmVyLmNyZWF0ZSgpLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcblpvZE9iamVjdC5sYXp5Y3JlYXRlID0gKHNoYXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHNoYXBlLFxuICAgICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgICAgICBjYXRjaGFsbDogWm9kTmV2ZXIuY3JlYXRlKCksXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFVuaW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5fZGVmLm9wdGlvbnM7XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVJlc3VsdHMocmVzdWx0cykge1xuICAgICAgICAgICAgLy8gcmV0dXJuIGZpcnN0IGlzc3VlLWZyZWUgdmFsaWRhdGlvbiBpZiBpdCBleGlzdHNcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5yZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGlzc3VlcyBmcm9tIGRpcnR5IG9wdGlvblxuICAgICAgICAgICAgICAgICAgICBjdHguY29tbW9uLmlzc3Vlcy5wdXNoKC4uLnJlc3VsdC5jdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQucmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHJldHVybiBpbnZhbGlkXG4gICAgICAgICAgICBjb25zdCB1bmlvbkVycm9ycyA9IHJlc3VsdHMubWFwKChyZXN1bHQpID0+IG5ldyBab2RFcnJvcihyZXN1bHQuY3R4LmNvbW1vbi5pc3N1ZXMpKTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uLFxuICAgICAgICAgICAgICAgIHVuaW9uRXJyb3JzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKG9wdGlvbnMubWFwKGFzeW5jIChvcHRpb24pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEN0eCA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN0eC5jb21tb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IGF3YWl0IG9wdGlvbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjaGlsZEN0eCxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIGN0eDogY2hpbGRDdHgsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pKS50aGVuKGhhbmRsZVJlc3VsdHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGRpcnR5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgaXNzdWVzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRDdHggPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmN0eCxcbiAgICAgICAgICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jdHguY29tbW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gb3B0aW9uLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY2hpbGRDdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIgJiYgIWRpcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGRpcnR5ID0geyByZXN1bHQsIGN0eDogY2hpbGRDdHggfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkQ3R4LmNvbW1vbi5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzc3Vlcy5wdXNoKGNoaWxkQ3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkaXJ0eSkge1xuICAgICAgICAgICAgICAgIGN0eC5jb21tb24uaXNzdWVzLnB1c2goLi4uZGlydHkuY3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkaXJ0eS5yZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1bmlvbkVycm9ycyA9IGlzc3Vlcy5tYXAoKGlzc3VlcykgPT4gbmV3IFpvZEVycm9yKGlzc3VlcykpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb24sXG4gICAgICAgICAgICAgICAgdW5pb25FcnJvcnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm9wdGlvbnM7XG4gICAgfVxufVxuWm9kVW5pb24uY3JlYXRlID0gKHR5cGVzLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFVuaW9uKHtcbiAgICAgICAgb3B0aW9uczogdHlwZXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5pb24sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgWm9kRGlzY3JpbWluYXRlZFVuaW9uICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuY29uc3QgZ2V0RGlzY3JpbWluYXRvciA9ICh0eXBlKSA9PiB7XG4gICAgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RMYXp5KSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuc2NoZW1hKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZEVmZmVjdHMpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5pbm5lclR5cGUoKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RMaXRlcmFsKSB7XG4gICAgICAgIHJldHVybiBbdHlwZS52YWx1ZV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RFbnVtKSB7XG4gICAgICAgIHJldHVybiB0eXBlLm9wdGlvbnM7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2ROYXRpdmVFbnVtKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBiYW4vYmFuXG4gICAgICAgIHJldHVybiB1dGlsLm9iamVjdFZhbHVlcyh0eXBlLmVudW0pO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kRGVmYXVsdCkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLl9kZWYuaW5uZXJUeXBlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZFVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gW3VuZGVmaW5lZF07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2ROdWxsKSB7XG4gICAgICAgIHJldHVybiBbbnVsbF07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RPcHRpb25hbCkge1xuICAgICAgICByZXR1cm4gW3VuZGVmaW5lZCwgLi4uZ2V0RGlzY3JpbWluYXRvcih0eXBlLnVud3JhcCgpKV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2ROdWxsYWJsZSkge1xuICAgICAgICByZXR1cm4gW251bGwsIC4uLmdldERpc2NyaW1pbmF0b3IodHlwZS51bndyYXAoKSldO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kQnJhbmRlZCkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLnVud3JhcCgpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZFJlYWRvbmx5KSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kQ2F0Y2gpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5fZGVmLmlubmVyVHlwZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxufTtcbmV4cG9ydCBjbGFzcyBab2REaXNjcmltaW5hdGVkVW5pb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUub2JqZWN0LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGlzY3JpbWluYXRvciA9IHRoaXMuZGlzY3JpbWluYXRvcjtcbiAgICAgICAgY29uc3QgZGlzY3JpbWluYXRvclZhbHVlID0gY3R4LmRhdGFbZGlzY3JpbWluYXRvcl07XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IHRoaXMub3B0aW9uc01hcC5nZXQoZGlzY3JpbWluYXRvclZhbHVlKTtcbiAgICAgICAgaWYgKCFvcHRpb24pIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uX2Rpc2NyaW1pbmF0b3IsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogQXJyYXkuZnJvbSh0aGlzLm9wdGlvbnNNYXAua2V5cygpKSxcbiAgICAgICAgICAgICAgICBwYXRoOiBbZGlzY3JpbWluYXRvcl0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9uLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBkaXNjcmltaW5hdG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmRpc2NyaW1pbmF0b3I7XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm9wdGlvbnM7XG4gICAgfVxuICAgIGdldCBvcHRpb25zTWFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm9wdGlvbnNNYXA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgZGlzY3JpbWluYXRlZCB1bmlvbiBzY2hlbWEuIEl0cyBiZWhhdmlvdXIgaXMgdmVyeSBzaW1pbGFyIHRvIHRoYXQgb2YgdGhlIG5vcm1hbCB6LnVuaW9uKCkgY29uc3RydWN0b3IuXG4gICAgICogSG93ZXZlciwgaXQgb25seSBhbGxvd3MgYSB1bmlvbiBvZiBvYmplY3RzLCBhbGwgb2Ygd2hpY2ggbmVlZCB0byBzaGFyZSBhIGRpc2NyaW1pbmF0b3IgcHJvcGVydHkuIFRoaXMgcHJvcGVydHkgbXVzdFxuICAgICAqIGhhdmUgYSBkaWZmZXJlbnQgdmFsdWUgZm9yIGVhY2ggb2JqZWN0IGluIHRoZSB1bmlvbi5cbiAgICAgKiBAcGFyYW0gZGlzY3JpbWluYXRvciB0aGUgbmFtZSBvZiB0aGUgZGlzY3JpbWluYXRvciBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB0eXBlcyBhbiBhcnJheSBvZiBvYmplY3Qgc2NoZW1hc1xuICAgICAqIEBwYXJhbSBwYXJhbXNcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlKGRpc2NyaW1pbmF0b3IsIG9wdGlvbnMsIHBhcmFtcykge1xuICAgICAgICAvLyBHZXQgYWxsIHRoZSB2YWxpZCBkaXNjcmltaW5hdG9yIHZhbHVlc1xuICAgICAgICBjb25zdCBvcHRpb25zTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAvLyB0cnkge1xuICAgICAgICBmb3IgKGNvbnN0IHR5cGUgb2Ygb3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgZGlzY3JpbWluYXRvclZhbHVlcyA9IGdldERpc2NyaW1pbmF0b3IodHlwZS5zaGFwZVtkaXNjcmltaW5hdG9yXSk7XG4gICAgICAgICAgICBpZiAoIWRpc2NyaW1pbmF0b3JWYWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBIGRpc2NyaW1pbmF0b3IgdmFsdWUgZm9yIGtleSBcXGAke2Rpc2NyaW1pbmF0b3J9XFxgIGNvdWxkIG5vdCBiZSBleHRyYWN0ZWQgZnJvbSBhbGwgc2NoZW1hIG9wdGlvbnNgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgZGlzY3JpbWluYXRvclZhbHVlcykge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zTWFwLmhhcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBEaXNjcmltaW5hdG9yIHByb3BlcnR5ICR7U3RyaW5nKGRpc2NyaW1pbmF0b3IpfSBoYXMgZHVwbGljYXRlIHZhbHVlICR7U3RyaW5nKHZhbHVlKX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3B0aW9uc01hcC5zZXQodmFsdWUsIHR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kRGlzY3JpbWluYXRlZFVuaW9uKHtcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGlzY3JpbWluYXRlZFVuaW9uLFxuICAgICAgICAgICAgZGlzY3JpbWluYXRvcixcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBvcHRpb25zTWFwLFxuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBtZXJnZVZhbHVlcyhhLCBiKSB7XG4gICAgY29uc3QgYVR5cGUgPSBnZXRQYXJzZWRUeXBlKGEpO1xuICAgIGNvbnN0IGJUeXBlID0gZ2V0UGFyc2VkVHlwZShiKTtcbiAgICBpZiAoYSA9PT0gYikge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogYSB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChhVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5vYmplY3QgJiYgYlR5cGUgPT09IFpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IGJLZXlzID0gdXRpbC5vYmplY3RLZXlzKGIpO1xuICAgICAgICBjb25zdCBzaGFyZWRLZXlzID0gdXRpbC5vYmplY3RLZXlzKGEpLmZpbHRlcigoa2V5KSA9PiBiS2V5cy5pbmRleE9mKGtleSkgIT09IC0xKTtcbiAgICAgICAgY29uc3QgbmV3T2JqID0geyAuLi5hLCAuLi5iIH07XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHNoYXJlZEtleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNoYXJlZFZhbHVlID0gbWVyZ2VWYWx1ZXMoYVtrZXldLCBiW2tleV0pO1xuICAgICAgICAgICAgaWYgKCFzaGFyZWRWYWx1ZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3T2JqW2tleV0gPSBzaGFyZWRWYWx1ZS5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBuZXdPYmogfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYVR5cGUgPT09IFpvZFBhcnNlZFR5cGUuYXJyYXkgJiYgYlR5cGUgPT09IFpvZFBhcnNlZFR5cGUuYXJyYXkpIHtcbiAgICAgICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3QXJyYXkgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGEubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtQSA9IGFbaW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgaXRlbUIgPSBiW2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IHNoYXJlZFZhbHVlID0gbWVyZ2VWYWx1ZXMoaXRlbUEsIGl0ZW1CKTtcbiAgICAgICAgICAgIGlmICghc2hhcmVkVmFsdWUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld0FycmF5LnB1c2goc2hhcmVkVmFsdWUuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IG5ld0FycmF5IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGFUeXBlID09PSBab2RQYXJzZWRUeXBlLmRhdGUgJiYgYlR5cGUgPT09IFpvZFBhcnNlZFR5cGUuZGF0ZSAmJiArYSA9PT0gK2IpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IGEgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBab2RJbnRlcnNlY3Rpb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgaGFuZGxlUGFyc2VkID0gKHBhcnNlZExlZnQsIHBhcnNlZFJpZ2h0KSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNBYm9ydGVkKHBhcnNlZExlZnQpIHx8IGlzQWJvcnRlZChwYXJzZWRSaWdodCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZCA9IG1lcmdlVmFsdWVzKHBhcnNlZExlZnQudmFsdWUsIHBhcnNlZFJpZ2h0LnZhbHVlKTtcbiAgICAgICAgICAgIGlmICghbWVyZ2VkLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2ludGVyc2VjdGlvbl90eXBlcyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0RpcnR5KHBhcnNlZExlZnQpIHx8IGlzRGlydHkocGFyc2VkUmlnaHQpKSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IG1lcmdlZC5kYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlZi5sZWZ0Ll9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWYucmlnaHQuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgXSkudGhlbigoW2xlZnQsIHJpZ2h0XSkgPT4gaGFuZGxlUGFyc2VkKGxlZnQsIHJpZ2h0KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlUGFyc2VkKHRoaXMuX2RlZi5sZWZ0Ll9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSksIHRoaXMuX2RlZi5yaWdodC5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblpvZEludGVyc2VjdGlvbi5jcmVhdGUgPSAobGVmdCwgcmlnaHQsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kSW50ZXJzZWN0aW9uKHtcbiAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgcmlnaHQ6IHJpZ2h0LFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEludGVyc2VjdGlvbixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbi8vIHR5cGUgWm9kVHVwbGVJdGVtcyA9IFtab2RUeXBlQW55LCAuLi5ab2RUeXBlQW55W11dO1xuZXhwb3J0IGNsYXNzIFpvZFR1cGxlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5hcnJheSkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5hcnJheSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguZGF0YS5sZW5ndGggPCB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgIG1pbmltdW06IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3QgPSB0aGlzLl9kZWYucmVzdDtcbiAgICAgICAgaWYgKCFyZXN0ICYmIGN0eC5kYXRhLmxlbmd0aCA+IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgIG1heGltdW06IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gWy4uLmN0eC5kYXRhXVxuICAgICAgICAgICAgLm1hcCgoaXRlbSwgaXRlbUluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzY2hlbWEgPSB0aGlzLl9kZWYuaXRlbXNbaXRlbUluZGV4XSB8fCB0aGlzLl9kZWYucmVzdDtcbiAgICAgICAgICAgIGlmICghc2NoZW1hKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVtYS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpdGVtSW5kZXgpKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5maWx0ZXIoKHgpID0+ICEheCk7IC8vIGZpbHRlciBudWxsc1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGl0ZW1zKS50aGVuKChyZXN1bHRzKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlQXJyYXkoc3RhdHVzLCBpdGVtcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGl0ZW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLml0ZW1zO1xuICAgIH1cbiAgICByZXN0KHJlc3QpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RUdXBsZSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICByZXN0LFxuICAgICAgICB9KTtcbiAgICB9XG59XG5ab2RUdXBsZS5jcmVhdGUgPSAoc2NoZW1hcywgcGFyYW1zKSA9PiB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHNjaGVtYXMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBtdXN0IHBhc3MgYW4gYXJyYXkgb2Ygc2NoZW1hcyB0byB6LnR1cGxlKFsgLi4uIF0pXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFpvZFR1cGxlKHtcbiAgICAgICAgaXRlbXM6IHNjaGVtYXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVHVwbGUsXG4gICAgICAgIHJlc3Q6IG51bGwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kUmVjb3JkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgZ2V0IGtleVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgIH1cbiAgICBnZXQgdmFsdWVTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYWlycyA9IFtdO1xuICAgICAgICBjb25zdCBrZXlUeXBlID0gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGN0eC5kYXRhKSB7XG4gICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXk6IGtleVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBrZXksIGN0eC5wYXRoLCBrZXkpKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgY3R4LmRhdGFba2V5XSwgY3R4LnBhdGgsIGtleSkpLFxuICAgICAgICAgICAgICAgIGFsd2F5c1NldDoga2V5IGluIGN0eC5kYXRhLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZU9iamVjdEFzeW5jKHN0YXR1cywgcGFpcnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoZmlyc3QsIHNlY29uZCwgdGhpcmQpIHtcbiAgICAgICAgaWYgKHNlY29uZCBpbnN0YW5jZW9mIFpvZFR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgWm9kUmVjb3JkKHtcbiAgICAgICAgICAgICAgICBrZXlUeXBlOiBmaXJzdCxcbiAgICAgICAgICAgICAgICB2YWx1ZVR5cGU6IHNlY29uZCxcbiAgICAgICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZCxcbiAgICAgICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXJkKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kUmVjb3JkKHtcbiAgICAgICAgICAgIGtleVR5cGU6IFpvZFN0cmluZy5jcmVhdGUoKSxcbiAgICAgICAgICAgIHZhbHVlVHlwZTogZmlyc3QsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZCxcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMoc2Vjb25kKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFpvZE1hcCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGdldCBrZXlTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYua2V5VHlwZTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlU2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5tYXApIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubWFwLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2V5VHlwZSA9IHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgICAgICBjb25zdCBwYWlycyA9IFsuLi5jdHguZGF0YS5lbnRyaWVzKCldLm1hcCgoW2tleSwgdmFsdWVdLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBrZXk6IGtleVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBrZXksIGN0eC5wYXRoLCBbaW5kZXgsIFwia2V5XCJdKSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlVHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwgW2luZGV4LCBcInZhbHVlXCJdKSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbmFsTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCBwYWlyLmtleTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYWlyLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiZGlydHlcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxNYXAuc2V0KGtleS52YWx1ZSwgdmFsdWUudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGZpbmFsTWFwIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbmFsTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gcGFpci5rZXk7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwYWlyLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImFib3J0ZWRcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbE1hcC5zZXQoa2V5LnZhbHVlLCB2YWx1ZS52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGZpbmFsTWFwIH07XG4gICAgICAgIH1cbiAgICB9XG59XG5ab2RNYXAuY3JlYXRlID0gKGtleVR5cGUsIHZhbHVlVHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RNYXAoe1xuICAgICAgICB2YWx1ZVR5cGUsXG4gICAgICAgIGtleVR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTWFwLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFNldCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuc2V0KSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnNldCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRlZiA9IHRoaXMuX2RlZjtcbiAgICAgICAgaWYgKGRlZi5taW5TaXplICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmRhdGEuc2l6ZSA8IGRlZi5taW5TaXplLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGRlZi5taW5TaXplLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1pblNpemUubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLm1heFNpemUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdHguZGF0YS5zaXplID4gZGVmLm1heFNpemUudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgIG1heGltdW06IGRlZi5tYXhTaXplLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLm1heFNpemUubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgICAgICBmdW5jdGlvbiBmaW5hbGl6ZVNldChlbGVtZW50cykge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkU2V0ID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIHBhcnNlZFNldC5hZGQoZWxlbWVudC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IHBhcnNlZFNldCB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gWy4uLmN0eC5kYXRhLnZhbHVlcygpXS5tYXAoKGl0ZW0sIGkpID0+IHZhbHVlVHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpKSkpO1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGVsZW1lbnRzKS50aGVuKChlbGVtZW50cykgPT4gZmluYWxpemVTZXQoZWxlbWVudHMpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmaW5hbGl6ZVNldChlbGVtZW50cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWluKG1pblNpemUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTZXQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWluU2l6ZTogeyB2YWx1ZTogbWluU2l6ZSwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4U2l6ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFNldCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBtYXhTaXplOiB7IHZhbHVlOiBtYXhTaXplLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNpemUoc2l6ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oc2l6ZSwgbWVzc2FnZSkubWF4KHNpemUsIG1lc3NhZ2UpO1xuICAgIH1cbiAgICBub25lbXB0eShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbigxLCBtZXNzYWdlKTtcbiAgICB9XG59XG5ab2RTZXQuY3JlYXRlID0gKHZhbHVlVHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RTZXQoe1xuICAgICAgICB2YWx1ZVR5cGUsXG4gICAgICAgIG1pblNpemU6IG51bGwsXG4gICAgICAgIG1heFNpemU6IG51bGwsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU2V0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZEZ1bmN0aW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMudmFsaWRhdGUgPSB0aGlzLmltcGxlbWVudDtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuZnVuY3Rpb24pIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuZnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBtYWtlQXJnc0lzc3VlKGFyZ3MsIGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZUlzc3VlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBhcmdzLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIGVycm9yTWFwczogW2N0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLCBjdHguc2NoZW1hRXJyb3JNYXAsIGdldEVycm9yTWFwKCksIGRlZmF1bHRFcnJvck1hcF0uZmlsdGVyKCh4KSA9PiAhIXgpLFxuICAgICAgICAgICAgICAgIGlzc3VlRGF0YToge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9hcmd1bWVudHMsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c0Vycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbWFrZVJldHVybnNJc3N1ZShyZXR1cm5zLCBlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIG1ha2VJc3N1ZSh7XG4gICAgICAgICAgICAgICAgZGF0YTogcmV0dXJucyxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBlcnJvck1hcHM6IFtjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCwgY3R4LnNjaGVtYUVycm9yTWFwLCBnZXRFcnJvck1hcCgpLCBkZWZhdWx0RXJyb3JNYXBdLmZpbHRlcigoeCkgPT4gISF4KSxcbiAgICAgICAgICAgICAgICBpc3N1ZURhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfcmV0dXJuX3R5cGUsXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblR5cGVFcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHsgZXJyb3JNYXA6IGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwIH07XG4gICAgICAgIGNvbnN0IGZuID0gY3R4LmRhdGE7XG4gICAgICAgIGlmICh0aGlzLl9kZWYucmV0dXJucyBpbnN0YW5jZW9mIFpvZFByb21pc2UpIHtcbiAgICAgICAgICAgIC8vIFdvdWxkIGxvdmUgYSB3YXkgdG8gYXZvaWQgZGlzYWJsaW5nIHRoaXMgcnVsZSwgYnV0IHdlIG5lZWRcbiAgICAgICAgICAgIC8vIGFuIGFsaWFzICh1c2luZyBhbiBhcnJvdyBmdW5jdGlvbiB3YXMgd2hhdCBjYXVzZWQgMjY1MSkuXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXNcbiAgICAgICAgICAgIGNvbnN0IG1lID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBPSyhhc3luYyBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IFpvZEVycm9yKFtdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRBcmdzID0gYXdhaXQgbWUuX2RlZi5hcmdzLnBhcnNlQXN5bmMoYXJncywgcGFyYW1zKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5hZGRJc3N1ZShtYWtlQXJnc0lzc3VlKGFyZ3MsIGUpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUmVmbGVjdC5hcHBseShmbiwgdGhpcywgcGFyc2VkQXJncyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkUmV0dXJucyA9IGF3YWl0IG1lLl9kZWYucmV0dXJucy5fZGVmLnR5cGVcbiAgICAgICAgICAgICAgICAgICAgLnBhcnNlQXN5bmMocmVzdWx0LCBwYXJhbXMpXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5hZGRJc3N1ZShtYWtlUmV0dXJuc0lzc3VlKHJlc3VsdCwgZSkpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkUmV0dXJucztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gV291bGQgbG92ZSBhIHdheSB0byBhdm9pZCBkaXNhYmxpbmcgdGhpcyBydWxlLCBidXQgd2UgbmVlZFxuICAgICAgICAgICAgLy8gYW4gYWxpYXMgKHVzaW5nIGFuIGFycm93IGZ1bmN0aW9uIHdhcyB3aGF0IGNhdXNlZCAyNjUxKS5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgICAgICAgICAgY29uc3QgbWUgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIE9LKGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkQXJncyA9IG1lLl9kZWYuYXJncy5zYWZlUGFyc2UoYXJncywgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcnNlZEFyZ3Muc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgWm9kRXJyb3IoW21ha2VBcmdzSXNzdWUoYXJncywgcGFyc2VkQXJncy5lcnJvcildKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5hcHBseShmbiwgdGhpcywgcGFyc2VkQXJncy5kYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRSZXR1cm5zID0gbWUuX2RlZi5yZXR1cm5zLnNhZmVQYXJzZShyZXN1bHQsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJzZWRSZXR1cm5zLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFpvZEVycm9yKFttYWtlUmV0dXJuc0lzc3VlKHJlc3VsdCwgcGFyc2VkUmV0dXJucy5lcnJvcildKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlZFJldHVybnMuZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBhcmFtZXRlcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuYXJncztcbiAgICB9XG4gICAgcmV0dXJuVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5yZXR1cm5zO1xuICAgIH1cbiAgICBhcmdzKC4uLml0ZW1zKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRnVuY3Rpb24oe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgYXJnczogWm9kVHVwbGUuY3JlYXRlKGl0ZW1zKS5yZXN0KFpvZFVua25vd24uY3JlYXRlKCkpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJucyhyZXR1cm5UeXBlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRnVuY3Rpb24oe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgcmV0dXJuczogcmV0dXJuVHlwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGltcGxlbWVudChmdW5jKSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRlZEZ1bmMgPSB0aGlzLnBhcnNlKGZ1bmMpO1xuICAgICAgICByZXR1cm4gdmFsaWRhdGVkRnVuYztcbiAgICB9XG4gICAgc3RyaWN0SW1wbGVtZW50KGZ1bmMpIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGVkRnVuYyA9IHRoaXMucGFyc2UoZnVuYyk7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZWRGdW5jO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGFyZ3MsIHJldHVybnMsIHBhcmFtcykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgICAgICAgIGFyZ3M6IChhcmdzID8gYXJncyA6IFpvZFR1cGxlLmNyZWF0ZShbXSkucmVzdChab2RVbmtub3duLmNyZWF0ZSgpKSksXG4gICAgICAgICAgICByZXR1cm5zOiByZXR1cm5zIHx8IFpvZFVua25vd24uY3JlYXRlKCksXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEZ1bmN0aW9uLFxuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgWm9kTGF6eSBleHRlbmRzIFpvZFR5cGUge1xuICAgIGdldCBzY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuZ2V0dGVyKCk7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgbGF6eVNjaGVtYSA9IHRoaXMuX2RlZi5nZXR0ZXIoKTtcbiAgICAgICAgcmV0dXJuIGxhenlTY2hlbWEuX3BhcnNlKHsgZGF0YTogY3R4LmRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KTtcbiAgICB9XG59XG5ab2RMYXp5LmNyZWF0ZSA9IChnZXR0ZXIsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTGF6eSh7XG4gICAgICAgIGdldHRlcjogZ2V0dGVyLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZExhenksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kTGl0ZXJhbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAoaW5wdXQuZGF0YSAhPT0gdGhpcy5fZGVmLnZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfbGl0ZXJhbCxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdGhpcy5fZGVmLnZhbHVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlO1xuICAgIH1cbn1cblpvZExpdGVyYWwuY3JlYXRlID0gKHZhbHVlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZExpdGVyYWwoe1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGl0ZXJhbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmZ1bmN0aW9uIGNyZWF0ZVpvZEVudW0odmFsdWVzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZEVudW0oe1xuICAgICAgICB2YWx1ZXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRW51bSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGNsYXNzIFpvZEVudW0gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dC5kYXRhICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbC5qb2luVmFsdWVzKGV4cGVjdGVkVmFsdWVzKSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZSkge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGUgPSBuZXcgU2V0KHRoaXMuX2RlZi52YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGUuaGFzKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfZW51bV92YWx1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBleHBlY3RlZFZhbHVlcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgfVxuICAgIGdldCBlbnVtKCkge1xuICAgICAgICBjb25zdCBlbnVtVmFsdWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuX2RlZi52YWx1ZXMpIHtcbiAgICAgICAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW51bVZhbHVlcztcbiAgICB9XG4gICAgZ2V0IFZhbHVlcygpIHtcbiAgICAgICAgY29uc3QgZW51bVZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLl9kZWYudmFsdWVzKSB7XG4gICAgICAgICAgICBlbnVtVmFsdWVzW3ZhbF0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudW1WYWx1ZXM7XG4gICAgfVxuICAgIGdldCBFbnVtKCkge1xuICAgICAgICBjb25zdCBlbnVtVmFsdWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuX2RlZi52YWx1ZXMpIHtcbiAgICAgICAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW51bVZhbHVlcztcbiAgICB9XG4gICAgZXh0cmFjdCh2YWx1ZXMsIG5ld0RlZiA9IHRoaXMuX2RlZikge1xuICAgICAgICByZXR1cm4gWm9kRW51bS5jcmVhdGUodmFsdWVzLCB7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICAuLi5uZXdEZWYsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBleGNsdWRlKHZhbHVlcywgbmV3RGVmID0gdGhpcy5fZGVmKSB7XG4gICAgICAgIHJldHVybiBab2RFbnVtLmNyZWF0ZSh0aGlzLm9wdGlvbnMuZmlsdGVyKChvcHQpID0+ICF2YWx1ZXMuaW5jbHVkZXMob3B0KSksIHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIC4uLm5ld0RlZixcbiAgICAgICAgfSk7XG4gICAgfVxufVxuWm9kRW51bS5jcmVhdGUgPSBjcmVhdGVab2RFbnVtO1xuZXhwb3J0IGNsYXNzIFpvZE5hdGl2ZUVudW0gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgbmF0aXZlRW51bVZhbHVlcyA9IHV0aWwuZ2V0VmFsaWRFbnVtVmFsdWVzKHRoaXMuX2RlZi52YWx1ZXMpO1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5zdHJpbmcgJiYgY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUubnVtYmVyKSB7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHV0aWwub2JqZWN0VmFsdWVzKG5hdGl2ZUVudW1WYWx1ZXMpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWwuam9pblZhbHVlcyhleHBlY3RlZFZhbHVlcyksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlID0gbmV3IFNldCh1dGlsLmdldFZhbGlkRW51bVZhbHVlcyh0aGlzLl9kZWYudmFsdWVzKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZS5oYXMoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdXRpbC5vYmplY3RWYWx1ZXMobmF0aXZlRW51bVZhbHVlcyk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfZW51bV92YWx1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBleHBlY3RlZFZhbHVlcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbiAgICBnZXQgZW51bSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZXM7XG4gICAgfVxufVxuWm9kTmF0aXZlRW51bS5jcmVhdGUgPSAodmFsdWVzLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE5hdGl2ZUVudW0oe1xuICAgICAgICB2YWx1ZXM6IHZhbHVlcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYXRpdmVFbnVtLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFByb21pc2UgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUucHJvbWlzZSAmJiBjdHguY29tbW9uLmFzeW5jID09PSBmYWxzZSkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5wcm9taXNlLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvbWlzaWZpZWQgPSBjdHgucGFyc2VkVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5wcm9taXNlID8gY3R4LmRhdGEgOiBQcm9taXNlLnJlc29sdmUoY3R4LmRhdGEpO1xuICAgICAgICByZXR1cm4gT0socHJvbWlzaWZpZWQudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlLnBhcnNlQXN5bmMoZGF0YSwge1xuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIGVycm9yTWFwOiBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuWm9kUHJvbWlzZS5jcmVhdGUgPSAoc2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFByb21pc2Uoe1xuICAgICAgICB0eXBlOiBzY2hlbWEsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUHJvbWlzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RFZmZlY3RzIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgaW5uZXJUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYTtcbiAgICB9XG4gICAgc291cmNlVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWEuX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHNcbiAgICAgICAgICAgID8gdGhpcy5fZGVmLnNjaGVtYS5zb3VyY2VUeXBlKClcbiAgICAgICAgICAgIDogdGhpcy5fZGVmLnNjaGVtYTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGVmZmVjdCA9IHRoaXMuX2RlZi5lZmZlY3QgfHwgbnVsbDtcbiAgICAgICAgY29uc3QgY2hlY2tDdHggPSB7XG4gICAgICAgICAgICBhZGRJc3N1ZTogKGFyZykgPT4ge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwgYXJnKTtcbiAgICAgICAgICAgICAgICBpZiAoYXJnLmZhdGFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBwYXRoKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdHgucGF0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGNoZWNrQ3R4LmFkZElzc3VlID0gY2hlY2tDdHguYWRkSXNzdWUuYmluZChjaGVja0N0eCk7XG4gICAgICAgIGlmIChlZmZlY3QudHlwZSA9PT0gXCJwcmVwcm9jZXNzXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NlZCA9IGVmZmVjdC50cmFuc2Zvcm0oY3R4LmRhdGEsIGNoZWNrQ3R4KTtcbiAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShwcm9jZXNzZWQpLnRoZW4oYXN5bmMgKHByb2Nlc3NlZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLnZhbHVlID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHByb2Nlc3NlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBESVJUWShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLnZhbHVlID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRElSVFkocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBwcm9jZXNzZWQsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBESVJUWShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERJUlRZKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZWZmZWN0LnR5cGUgPT09IFwicmVmaW5lbWVudFwiKSB7XG4gICAgICAgICAgICBjb25zdCBleGVjdXRlUmVmaW5lbWVudCA9IChhY2MpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlZmZlY3QucmVmaW5lbWVudChhY2MsIGNoZWNrQ3R4KTtcbiAgICAgICAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFzeW5jIHJlZmluZW1lbnQgZW5jb3VudGVyZWQgZHVyaW5nIHN5bmNocm9ub3VzIHBhcnNlIG9wZXJhdGlvbi4gVXNlIC5wYXJzZUFzeW5jIGluc3RlYWQuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlubmVyID0gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgaWYgKGlubmVyLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4gdmFsdWUgaXMgaWdub3JlZFxuICAgICAgICAgICAgICAgIGV4ZWN1dGVSZWZpbmVtZW50KGlubmVyLnZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlubmVyLnZhbHVlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VBc3luYyh7IGRhdGE6IGN0eC5kYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSkudGhlbigoaW5uZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleGVjdXRlUmVmaW5lbWVudChpbm5lci52YWx1ZSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlubmVyLnZhbHVlIH07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlZmZlY3QudHlwZSA9PT0gXCJ0cmFuc2Zvcm1cIikge1xuICAgICAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZSA9IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKGJhc2UpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBlZmZlY3QudHJhbnNmb3JtKGJhc2UudmFsdWUsIGNoZWNrQ3R4KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFzeW5jaHJvbm91cyB0cmFuc2Zvcm0gZW5jb3VudGVyZWQgZHVyaW5nIHN5bmNocm9ub3VzIHBhcnNlIG9wZXJhdGlvbi4gVXNlIC5wYXJzZUFzeW5jIGluc3RlYWQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogcmVzdWx0IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VBc3luYyh7IGRhdGE6IGN0eC5kYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSkudGhlbigoYmFzZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQoYmFzZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShlZmZlY3QudHJhbnNmb3JtKGJhc2UudmFsdWUsIGNoZWNrQ3R4KSkudGhlbigocmVzdWx0KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdXRpbC5hc3NlcnROZXZlcihlZmZlY3QpO1xuICAgIH1cbn1cblpvZEVmZmVjdHMuY3JlYXRlID0gKHNjaGVtYSwgZWZmZWN0LCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICBzY2hlbWEsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgZWZmZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuWm9kRWZmZWN0cy5jcmVhdGVXaXRoUHJlcHJvY2VzcyA9IChwcmVwcm9jZXNzLCBzY2hlbWEsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgZWZmZWN0OiB7IHR5cGU6IFwicHJlcHJvY2Vzc1wiLCB0cmFuc2Zvcm06IHByZXByb2Nlc3MgfSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IHsgWm9kRWZmZWN0cyBhcyBab2RUcmFuc2Zvcm1lciB9O1xuZXhwb3J0IGNsYXNzIFpvZE9wdGlvbmFsIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgPT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gT0sodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2UoaW5wdXQpO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cblpvZE9wdGlvbmFsLmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9wdGlvbmFsKHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9wdGlvbmFsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZE51bGxhYmxlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgPT09IFpvZFBhcnNlZFR5cGUubnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIE9LKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuWm9kTnVsbGFibGUuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTnVsbGFibGUoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVsbGFibGUsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kRGVmYXVsdCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgbGV0IGRhdGEgPSBjdHguZGF0YTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlID09PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGF0YSA9IHRoaXMuX2RlZi5kZWZhdWx0VmFsdWUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2Uoe1xuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZW1vdmVEZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5ab2REZWZhdWx0LmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZERlZmF1bHQoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGVmYXVsdCxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiB0eXBlb2YgcGFyYW1zLmRlZmF1bHQgPT09IFwiZnVuY3Rpb25cIiA/IHBhcmFtcy5kZWZhdWx0IDogKCkgPT4gcGFyYW1zLmRlZmF1bHQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kQ2F0Y2ggZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIC8vIG5ld0N0eCBpcyB1c2VkIHRvIG5vdCBjb2xsZWN0IGlzc3VlcyBmcm9tIGlubmVyIHR5cGVzIGluIGN0eFxuICAgICAgICBjb25zdCBuZXdDdHggPSB7XG4gICAgICAgICAgICAuLi5jdHgsXG4gICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICAuLi5jdHguY29tbW9uLFxuICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZSh7XG4gICAgICAgICAgICBkYXRhOiBuZXdDdHguZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IG5ld0N0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiB7XG4gICAgICAgICAgICAgICAgLi4ubmV3Q3R4LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpc0FzeW5jKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBcInZhbGlkXCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcmVzdWx0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuX2RlZi5jYXRjaFZhbHVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXQgZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgWm9kRXJyb3IobmV3Q3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IG5ld0N0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IFwidmFsaWRcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiXG4gICAgICAgICAgICAgICAgICAgID8gcmVzdWx0LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5fZGVmLmNhdGNoVmFsdWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgWm9kRXJyb3IobmV3Q3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBuZXdDdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZUNhdGNoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5ab2RDYXRjaC5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RDYXRjaCh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RDYXRjaCxcbiAgICAgICAgY2F0Y2hWYWx1ZTogdHlwZW9mIHBhcmFtcy5jYXRjaCA9PT0gXCJmdW5jdGlvblwiID8gcGFyYW1zLmNhdGNoIDogKCkgPT4gcGFyYW1zLmNhdGNoLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZE5hTiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm5hbikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5uYW4sXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG59XG5ab2ROYU4uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTmFOKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYU4sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY29uc3QgQlJBTkQgPSBTeW1ib2woXCJ6b2RfYnJhbmRcIik7XG5leHBvcnQgY2xhc3MgWm9kQnJhbmRlZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGN0eC5kYXRhO1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGUuX3BhcnNlKHtcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFpvZFBpcGVsaW5lIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVBc3luYyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpblJlc3VsdCA9IGF3YWl0IHRoaXMuX2RlZi5pbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERJUlRZKGluUmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYub3V0Ll9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGluUmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVBc3luYygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaW5SZXN1bHQgPSB0aGlzLl9kZWYuaW4uX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBcImRpcnR5XCIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpblJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vdXQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGluUmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShhLCBiKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kUGlwZWxpbmUoe1xuICAgICAgICAgICAgaW46IGEsXG4gICAgICAgICAgICBvdXQ6IGIsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFBpcGVsaW5lLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgWm9kUmVhZG9ubHkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2UoaW5wdXQpO1xuICAgICAgICBjb25zdCBmcmVlemUgPSAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzVmFsaWQoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICBkYXRhLnZhbHVlID0gT2JqZWN0LmZyZWV6ZShkYXRhLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gaXNBc3luYyhyZXN1bHQpID8gcmVzdWx0LnRoZW4oKGRhdGEpID0+IGZyZWV6ZShkYXRhKSkgOiBmcmVlemUocmVzdWx0KTtcbiAgICB9XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5ab2RSZWFkb25seS5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RSZWFkb25seSh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWFkb25seSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICB6LmN1c3RvbSAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmZ1bmN0aW9uIGNsZWFuUGFyYW1zKHBhcmFtcywgZGF0YSkge1xuICAgIGNvbnN0IHAgPSB0eXBlb2YgcGFyYW1zID09PSBcImZ1bmN0aW9uXCIgPyBwYXJhbXMoZGF0YSkgOiB0eXBlb2YgcGFyYW1zID09PSBcInN0cmluZ1wiID8geyBtZXNzYWdlOiBwYXJhbXMgfSA6IHBhcmFtcztcbiAgICBjb25zdCBwMiA9IHR5cGVvZiBwID09PSBcInN0cmluZ1wiID8geyBtZXNzYWdlOiBwIH0gOiBwO1xuICAgIHJldHVybiBwMjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjdXN0b20oY2hlY2ssIF9wYXJhbXMgPSB7fSwgXG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKlxuICogUGFzcyBgZmF0YWxgIGludG8gdGhlIHBhcmFtcyBvYmplY3QgaW5zdGVhZDpcbiAqXG4gKiBgYGB0c1xuICogei5zdHJpbmcoKS5jdXN0b20oKHZhbCkgPT4gdmFsLmxlbmd0aCA+IDUsIHsgZmF0YWw6IGZhbHNlIH0pXG4gKiBgYGBcbiAqXG4gKi9cbmZhdGFsKSB7XG4gICAgaWYgKGNoZWNrKVxuICAgICAgICByZXR1cm4gWm9kQW55LmNyZWF0ZSgpLnN1cGVyUmVmaW5lKChkYXRhLCBjdHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBjaGVjayhkYXRhKTtcbiAgICAgICAgICAgIGlmIChyIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByLnRoZW4oKHIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSBjbGVhblBhcmFtcyhfcGFyYW1zLCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IF9mYXRhbCA9IHBhcmFtcy5mYXRhbCA/PyBmYXRhbCA/PyB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmFkZElzc3VlKHsgY29kZTogXCJjdXN0b21cIiwgLi4ucGFyYW1zLCBmYXRhbDogX2ZhdGFsIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSBjbGVhblBhcmFtcyhfcGFyYW1zLCBkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBfZmF0YWwgPSBwYXJhbXMuZmF0YWwgPz8gZmF0YWwgPz8gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjdHguYWRkSXNzdWUoeyBjb2RlOiBcImN1c3RvbVwiLCAuLi5wYXJhbXMsIGZhdGFsOiBfZmF0YWwgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0pO1xuICAgIHJldHVybiBab2RBbnkuY3JlYXRlKCk7XG59XG5leHBvcnQgeyBab2RUeXBlIGFzIFNjaGVtYSwgWm9kVHlwZSBhcyBab2RTY2hlbWEgfTtcbmV4cG9ydCBjb25zdCBsYXRlID0ge1xuICAgIG9iamVjdDogWm9kT2JqZWN0LmxhenljcmVhdGUsXG59O1xuZXhwb3J0IHZhciBab2RGaXJzdFBhcnR5VHlwZUtpbmQ7XG4oZnVuY3Rpb24gKFpvZEZpcnN0UGFydHlUeXBlS2luZCkge1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFN0cmluZ1wiXSA9IFwiWm9kU3RyaW5nXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTnVtYmVyXCJdID0gXCJab2ROdW1iZXJcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROYU5cIl0gPSBcIlpvZE5hTlwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEJpZ0ludFwiXSA9IFwiWm9kQmlnSW50XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQm9vbGVhblwiXSA9IFwiWm9kQm9vbGVhblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZERhdGVcIl0gPSBcIlpvZERhdGVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RTeW1ib2xcIl0gPSBcIlpvZFN5bWJvbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFVuZGVmaW5lZFwiXSA9IFwiWm9kVW5kZWZpbmVkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTnVsbFwiXSA9IFwiWm9kTnVsbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEFueVwiXSA9IFwiWm9kQW55XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVW5rbm93blwiXSA9IFwiWm9kVW5rbm93blwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE5ldmVyXCJdID0gXCJab2ROZXZlclwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFZvaWRcIl0gPSBcIlpvZFZvaWRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RBcnJheVwiXSA9IFwiWm9kQXJyYXlcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RPYmplY3RcIl0gPSBcIlpvZE9iamVjdFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFVuaW9uXCJdID0gXCJab2RVbmlvblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZERpc2NyaW1pbmF0ZWRVbmlvblwiXSA9IFwiWm9kRGlzY3JpbWluYXRlZFVuaW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kSW50ZXJzZWN0aW9uXCJdID0gXCJab2RJbnRlcnNlY3Rpb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RUdXBsZVwiXSA9IFwiWm9kVHVwbGVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RSZWNvcmRcIl0gPSBcIlpvZFJlY29yZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE1hcFwiXSA9IFwiWm9kTWFwXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kU2V0XCJdID0gXCJab2RTZXRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RGdW5jdGlvblwiXSA9IFwiWm9kRnVuY3Rpb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RMYXp5XCJdID0gXCJab2RMYXp5XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTGl0ZXJhbFwiXSA9IFwiWm9kTGl0ZXJhbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEVudW1cIl0gPSBcIlpvZEVudW1cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RFZmZlY3RzXCJdID0gXCJab2RFZmZlY3RzXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTmF0aXZlRW51bVwiXSA9IFwiWm9kTmF0aXZlRW51bVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE9wdGlvbmFsXCJdID0gXCJab2RPcHRpb25hbFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE51bGxhYmxlXCJdID0gXCJab2ROdWxsYWJsZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZERlZmF1bHRcIl0gPSBcIlpvZERlZmF1bHRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RDYXRjaFwiXSA9IFwiWm9kQ2F0Y2hcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RQcm9taXNlXCJdID0gXCJab2RQcm9taXNlXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQnJhbmRlZFwiXSA9IFwiWm9kQnJhbmRlZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFBpcGVsaW5lXCJdID0gXCJab2RQaXBlbGluZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFJlYWRvbmx5XCJdID0gXCJab2RSZWFkb25seVwiO1xufSkoWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIHx8IChab2RGaXJzdFBhcnR5VHlwZUtpbmQgPSB7fSkpO1xuLy8gcmVxdWlyZXMgVFMgNC40K1xuY2xhc3MgQ2xhc3Mge1xuICAgIGNvbnN0cnVjdG9yKC4uLl8pIHsgfVxufVxuY29uc3QgaW5zdGFuY2VPZlR5cGUgPSAoXG4vLyBjb25zdCBpbnN0YW5jZU9mVHlwZSA9IDxUIGV4dGVuZHMgbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gYW55PihcbmNscywgcGFyYW1zID0ge1xuICAgIG1lc3NhZ2U6IGBJbnB1dCBub3QgaW5zdGFuY2Ugb2YgJHtjbHMubmFtZX1gLFxufSkgPT4gY3VzdG9tKChkYXRhKSA9PiBkYXRhIGluc3RhbmNlb2YgY2xzLCBwYXJhbXMpO1xuY29uc3Qgc3RyaW5nVHlwZSA9IFpvZFN0cmluZy5jcmVhdGU7XG5jb25zdCBudW1iZXJUeXBlID0gWm9kTnVtYmVyLmNyZWF0ZTtcbmNvbnN0IG5hblR5cGUgPSBab2ROYU4uY3JlYXRlO1xuY29uc3QgYmlnSW50VHlwZSA9IFpvZEJpZ0ludC5jcmVhdGU7XG5jb25zdCBib29sZWFuVHlwZSA9IFpvZEJvb2xlYW4uY3JlYXRlO1xuY29uc3QgZGF0ZVR5cGUgPSBab2REYXRlLmNyZWF0ZTtcbmNvbnN0IHN5bWJvbFR5cGUgPSBab2RTeW1ib2wuY3JlYXRlO1xuY29uc3QgdW5kZWZpbmVkVHlwZSA9IFpvZFVuZGVmaW5lZC5jcmVhdGU7XG5jb25zdCBudWxsVHlwZSA9IFpvZE51bGwuY3JlYXRlO1xuY29uc3QgYW55VHlwZSA9IFpvZEFueS5jcmVhdGU7XG5jb25zdCB1bmtub3duVHlwZSA9IFpvZFVua25vd24uY3JlYXRlO1xuY29uc3QgbmV2ZXJUeXBlID0gWm9kTmV2ZXIuY3JlYXRlO1xuY29uc3Qgdm9pZFR5cGUgPSBab2RWb2lkLmNyZWF0ZTtcbmNvbnN0IGFycmF5VHlwZSA9IFpvZEFycmF5LmNyZWF0ZTtcbmNvbnN0IG9iamVjdFR5cGUgPSBab2RPYmplY3QuY3JlYXRlO1xuY29uc3Qgc3RyaWN0T2JqZWN0VHlwZSA9IFpvZE9iamVjdC5zdHJpY3RDcmVhdGU7XG5jb25zdCB1bmlvblR5cGUgPSBab2RVbmlvbi5jcmVhdGU7XG5jb25zdCBkaXNjcmltaW5hdGVkVW5pb25UeXBlID0gWm9kRGlzY3JpbWluYXRlZFVuaW9uLmNyZWF0ZTtcbmNvbnN0IGludGVyc2VjdGlvblR5cGUgPSBab2RJbnRlcnNlY3Rpb24uY3JlYXRlO1xuY29uc3QgdHVwbGVUeXBlID0gWm9kVHVwbGUuY3JlYXRlO1xuY29uc3QgcmVjb3JkVHlwZSA9IFpvZFJlY29yZC5jcmVhdGU7XG5jb25zdCBtYXBUeXBlID0gWm9kTWFwLmNyZWF0ZTtcbmNvbnN0IHNldFR5cGUgPSBab2RTZXQuY3JlYXRlO1xuY29uc3QgZnVuY3Rpb25UeXBlID0gWm9kRnVuY3Rpb24uY3JlYXRlO1xuY29uc3QgbGF6eVR5cGUgPSBab2RMYXp5LmNyZWF0ZTtcbmNvbnN0IGxpdGVyYWxUeXBlID0gWm9kTGl0ZXJhbC5jcmVhdGU7XG5jb25zdCBlbnVtVHlwZSA9IFpvZEVudW0uY3JlYXRlO1xuY29uc3QgbmF0aXZlRW51bVR5cGUgPSBab2ROYXRpdmVFbnVtLmNyZWF0ZTtcbmNvbnN0IHByb21pc2VUeXBlID0gWm9kUHJvbWlzZS5jcmVhdGU7XG5jb25zdCBlZmZlY3RzVHlwZSA9IFpvZEVmZmVjdHMuY3JlYXRlO1xuY29uc3Qgb3B0aW9uYWxUeXBlID0gWm9kT3B0aW9uYWwuY3JlYXRlO1xuY29uc3QgbnVsbGFibGVUeXBlID0gWm9kTnVsbGFibGUuY3JlYXRlO1xuY29uc3QgcHJlcHJvY2Vzc1R5cGUgPSBab2RFZmZlY3RzLmNyZWF0ZVdpdGhQcmVwcm9jZXNzO1xuY29uc3QgcGlwZWxpbmVUeXBlID0gWm9kUGlwZWxpbmUuY3JlYXRlO1xuY29uc3Qgb3N0cmluZyA9ICgpID0+IHN0cmluZ1R5cGUoKS5vcHRpb25hbCgpO1xuY29uc3Qgb251bWJlciA9ICgpID0+IG51bWJlclR5cGUoKS5vcHRpb25hbCgpO1xuY29uc3Qgb2Jvb2xlYW4gPSAoKSA9PiBib29sZWFuVHlwZSgpLm9wdGlvbmFsKCk7XG5leHBvcnQgY29uc3QgY29lcmNlID0ge1xuICAgIHN0cmluZzogKChhcmcpID0+IFpvZFN0cmluZy5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSksXG4gICAgbnVtYmVyOiAoKGFyZykgPT4gWm9kTnVtYmVyLmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbiAgICBib29sZWFuOiAoKGFyZykgPT4gWm9kQm9vbGVhbi5jcmVhdGUoe1xuICAgICAgICAuLi5hcmcsXG4gICAgICAgIGNvZXJjZTogdHJ1ZSxcbiAgICB9KSksXG4gICAgYmlnaW50OiAoKGFyZykgPT4gWm9kQmlnSW50LmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbiAgICBkYXRlOiAoKGFyZykgPT4gWm9kRGF0ZS5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSksXG59O1xuZXhwb3J0IHsgYW55VHlwZSBhcyBhbnksIGFycmF5VHlwZSBhcyBhcnJheSwgYmlnSW50VHlwZSBhcyBiaWdpbnQsIGJvb2xlYW5UeXBlIGFzIGJvb2xlYW4sIGRhdGVUeXBlIGFzIGRhdGUsIGRpc2NyaW1pbmF0ZWRVbmlvblR5cGUgYXMgZGlzY3JpbWluYXRlZFVuaW9uLCBlZmZlY3RzVHlwZSBhcyBlZmZlY3QsIGVudW1UeXBlIGFzIGVudW0sIGZ1bmN0aW9uVHlwZSBhcyBmdW5jdGlvbiwgaW5zdGFuY2VPZlR5cGUgYXMgaW5zdGFuY2VvZiwgaW50ZXJzZWN0aW9uVHlwZSBhcyBpbnRlcnNlY3Rpb24sIGxhenlUeXBlIGFzIGxhenksIGxpdGVyYWxUeXBlIGFzIGxpdGVyYWwsIG1hcFR5cGUgYXMgbWFwLCBuYW5UeXBlIGFzIG5hbiwgbmF0aXZlRW51bVR5cGUgYXMgbmF0aXZlRW51bSwgbmV2ZXJUeXBlIGFzIG5ldmVyLCBudWxsVHlwZSBhcyBudWxsLCBudWxsYWJsZVR5cGUgYXMgbnVsbGFibGUsIG51bWJlclR5cGUgYXMgbnVtYmVyLCBvYmplY3RUeXBlIGFzIG9iamVjdCwgb2Jvb2xlYW4sIG9udW1iZXIsIG9wdGlvbmFsVHlwZSBhcyBvcHRpb25hbCwgb3N0cmluZywgcGlwZWxpbmVUeXBlIGFzIHBpcGVsaW5lLCBwcmVwcm9jZXNzVHlwZSBhcyBwcmVwcm9jZXNzLCBwcm9taXNlVHlwZSBhcyBwcm9taXNlLCByZWNvcmRUeXBlIGFzIHJlY29yZCwgc2V0VHlwZSBhcyBzZXQsIHN0cmljdE9iamVjdFR5cGUgYXMgc3RyaWN0T2JqZWN0LCBzdHJpbmdUeXBlIGFzIHN0cmluZywgc3ltYm9sVHlwZSBhcyBzeW1ib2wsIGVmZmVjdHNUeXBlIGFzIHRyYW5zZm9ybWVyLCB0dXBsZVR5cGUgYXMgdHVwbGUsIHVuZGVmaW5lZFR5cGUgYXMgdW5kZWZpbmVkLCB1bmlvblR5cGUgYXMgdW5pb24sIHVua25vd25UeXBlIGFzIHVua25vd24sIHZvaWRUeXBlIGFzIHZvaWQsIH07XG5leHBvcnQgY29uc3QgTkVWRVIgPSBJTlZBTElEO1xuIiwiaW1wb3J0IHR5cGUgeyBOb2RlUHJveHksIFN0cmVhbUFjdGlvbkl0ZXJhdG9yLCBOb2RlU3RvcmUsIE5vZGVEZWZpbml0aW9uIH0gZnJvbSAnLi90eXBlcy50cyc7XG5pbXBvcnQgeyBHcmFwaEluc3RhbmNlSW1wbCB9IGZyb20gJy4vR3JhcGhJbnN0YW5jZS50cyc7XG5pbXBvcnQgdHlwZSB7IFNEUFBQU2Vzc2lvbkxpa2UgfSBmcm9tICcuLi9zZXNzaW9ucy9pbnRlcmZhY2VzL1NEUFBQU2Vzc2lvbkxpa2UudHMnO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5cbmV4cG9ydCBjbGFzcyBOb2RlUHJveHlJbXBsPFROb2RlRGVmIGV4dGVuZHMgTm9kZURlZmluaXRpb24gPSBOb2RlRGVmaW5pdGlvbj4gaW1wbGVtZW50cyBOb2RlUHJveHk8VE5vZGVEZWY+IHtcbiAgcHJpdmF0ZSBncmFwaEluc3RhbmNlOiBHcmFwaEluc3RhbmNlSW1wbDtcbiAgcHVibGljIHJlYWRvbmx5IG5vZGVJZDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKGdyYXBoSW5zdGFuY2U6IEdyYXBoSW5zdGFuY2VJbXBsLCBub2RlSWQ6IHN0cmluZykge1xuICAgIHRoaXMuZ3JhcGhJbnN0YW5jZSA9IGdyYXBoSW5zdGFuY2U7XG4gICAgdGhpcy5ub2RlSWQgPSBub2RlSWQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzdG9yZSBmb3IgdGhpcyBub2RlXG4gICAqL1xuICBnZXQgc3RvcmUoKTogTm9kZVN0b3JlIHtcbiAgICBjb25zdCBub2RlU3RvcmUgPSB0aGlzLmdyYXBoSW5zdGFuY2UuZ2V0Tm9kZVN0b3JlKHRoaXMubm9kZUlkKTtcbiAgICBpZiAoIW5vZGVTdG9yZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBzdG9yZSBmb3VuZCBmb3Igbm9kZSAke3RoaXMubm9kZUlkfWApO1xuICAgIH1cbiAgICBcbiAgICBcbiAgICByZXR1cm4gbm9kZVN0b3JlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0eXBlZCBhY3Rpb25zIGZvciB0aGlzIG5vZGVcbiAgICovXG4gIGdldCBhY3Rpb25zKCk6IGFueSB7XG4gICAgY29uc3Qgbm9kZURlZiA9IHRoaXMuZ3JhcGhJbnN0YW5jZS5nZXREZWZpbml0aW9uKCkuZ2V0Tm9kZSh0aGlzLm5vZGVJZCk7XG4gICAgaWYgKCFub2RlRGVmKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vZGUgZGVmaW5pdGlvbiBub3QgZm91bmQgZm9yICR7dGhpcy5ub2RlSWR9YCk7XG4gICAgfVxuXG4gICAgY29uc3QgYWN0aW9uUHJveHkgPSBuZXcgUHJveHkoe30sIHtcbiAgICAgIGdldDogKHRhcmdldCwgYWN0aW9uTmFtZTogc3RyaW5nIHwgc3ltYm9sKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgYWN0aW9uTmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBhY3Rpb25EZWYgPSBub2RlRGVmLmFjdGlvbnNbYWN0aW9uTmFtZV07XG4gICAgICAgIGNvbnN0IGlzSW50ZXJuYWxBY3Rpb24gPSBhY3Rpb25OYW1lLnN0YXJ0c1dpdGgoJ19faW50ZXJuYWxfJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBBbGxvdyBpbnRlcm5hbCBhY3Rpb25zIGV2ZW4gaWYgbm90IGluIGdyYXBoIGRlZmluaXRpb25cbiAgICAgICAgaWYgKCFhY3Rpb25EZWYgJiYgIWlzSW50ZXJuYWxBY3Rpb24pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFjdGlvbiAke2FjdGlvbk5hbWV9IG5vdCBmb3VuZCBmb3Igbm9kZSAke3RoaXMubm9kZUlkfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFzeW5jIChkYXRhOiBhbnksIHNpZ25hbD86IEFib3J0U2lnbmFsKSA9PiB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ2FjdGlvbicsIGFjdGlvbk5hbWUsICdmcm9tOicsIHRoaXMubm9kZUlkLCAndG86JywgdGhpcy5ncmFwaEluc3RhbmNlLmdldEN1cnJlbnROb2RlSWQoKSwgZGF0YSk7XG4gICAgICAgICAgY29uc3QgY29ubmVjdGlvbkluZm8gPSB0aGlzLmdldENvbm5lY3Rpb25JbmZvKCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCFjb25uZWN0aW9uSW5mbykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBjb25uZWN0aW9uIGF2YWlsYWJsZSBmb3Igbm9kZSAke3RoaXMubm9kZUlkfWApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHsgdHJhbnNwb3J0LCBwYXRoIH0gPSBjb25uZWN0aW9uSW5mbztcbiAgICAgICAgICBjb25zdCBzb3VyY2VOb2RlSWQgPSB0aGlzLmdyYXBoSW5zdGFuY2UuZ2V0Q3VycmVudE5vZGVJZCgpO1xuXG4gICAgICAgICAgLy8gSWYgdGhlIGFjdGlvbiBpcyBub3Qgc3RyZWFtaW5nIChvciBpcyBhbiBpbnRlcm5hbCBhY3Rpb24pLCB1c2UgZGlyZWN0IHJlcXVlc3RcbiAgICAgICAgICBpZiAoIWFjdGlvbkRlZj8uc3RyZWFtKSB7XG4gICAgICAgICAgICAvLyBGb3IgZGlyZWN0IHJlcXVlc3RzLCB3ZSBleHBlY3QgdGhlIHJlc3BvbnNlIHRvIGJlIHRoZSBhY3Rpb24gcmVzdWx0IGRpcmVjdGx5XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZVNjaGVtYSA9IHouYW55KCk7IC8vIEFjY2VwdCBhbnkgcmVzcG9uc2Ugc2luY2Ugd2UgaGFuZGxlIHZhbGlkYXRpb24gZWxzZXdoZXJlXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCByZXN1bHQ6IGFueTtcbiAgICAgICAgICAgIC8vIElmIGl0J3MgYSBkaXJlY3QgY29ubmVjdGlvbiAocGF0aCBsZW5ndGggaXMgMjogW2N1cnJlbnQsIHRhcmdldF0pXG4gICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgcmVzdWx0ID0gYXdhaXQgdHJhbnNwb3J0LnJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ3NkcHBwL2RpcmVjdFJlcXVlc3QnLFxuICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb25OYW1lLFxuICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgICAgIHNvdXJjZU5vZGVJZDogc291cmNlTm9kZUlkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LCByZXNwb25zZVNjaGVtYSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIElmIGl0J3MgYW4gaW5kaXJlY3QgY29ubmVjdGlvbiwgdXNlIHByb3h5IGZvcndhcmRpbmdcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBhd2FpdCB0cmFuc3BvcnQucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgICBtZXRob2Q6ICdzZHBwcC9kaXJlY3RSZXF1ZXN0JyxcbiAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdfX3Byb3h5X2ZvcndhcmQnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Tm9kZUlkOiB0aGlzLm5vZGVJZCxcbiAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRBY3Rpb246IGFjdGlvbk5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICBmb3J3YXJkUGF0aDogcGF0aC5zbGljZSgxKSAvLyBSZW1vdmUgY3VycmVudCBub2RlIGZyb20gcGF0aFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VOb2RlSWQ6IHNvdXJjZU5vZGVJZFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIHJlc3BvbnNlU2NoZW1hKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBpbiBkaXJlY3QgcmVxdWVzdCAke2FjdGlvbk5hbWV9OmAsIGVycm9yKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldE5vZGVJZDogdGhpcy5ub2RlSWQsXG4gICAgICAgICAgICAgICAgICB0YXJnZXRBY3Rpb246IGFjdGlvbk5hbWUsXG4gICAgICAgICAgICAgICAgICB0YXJnZXREYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgICAgZm9yd2FyZFBhdGg6IHBhdGguc2xpY2UoMSkgLy8gUmVtb3ZlIGN1cnJlbnQgbm9kZSBmcm9tIHBhdGhcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnYWN0aW9uJywgYWN0aW9uTmFtZSwgJ2Zyb206JywgdGhpcy5ub2RlSWQsICd0bzonLCB0aGlzLmdyYXBoSW5zdGFuY2UuZ2V0Q3VycmVudE5vZGVJZCgpLCAncmVzdWx0OicsIHJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIElmIHRoZSBhY3Rpb24gaXMgc3RyZWFtaW5nLCB1c2UgdGhlIGV4aXN0aW5nIGFjdGlvbiBtZXRob2RcbiAgICAgICAgICBsZXQgc3RyZWFtSXRlcmF0b3JQcm9taXNlOiBQcm9taXNlPFN0cmVhbUFjdGlvbkl0ZXJhdG9yPGFueT4+O1xuXG4gICAgICAgICAgLy8gSWYgaXQncyBhIGRpcmVjdCBjb25uZWN0aW9uIChwYXRoIGxlbmd0aCBpcyAyOiBbY3VycmVudCwgdGFyZ2V0XSlcbiAgICAgICAgICBpZiAocGF0aC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIHN0cmVhbUl0ZXJhdG9yUHJvbWlzZSA9IHRyYW5zcG9ydC5zdHJlYW1SZXF1ZXN0KHtcbiAgICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb25OYW1lLFxuICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICBzb3VyY2VOb2RlSWQ6IHNvdXJjZU5vZGVJZFxuICAgICAgICAgICAgfSwgYWN0aW9uRGVmLnJlc3BvbnNlU2NoZW1hIGFzIGFueSwgc2lnbmFsKSBhcyBQcm9taXNlPFN0cmVhbUFjdGlvbkl0ZXJhdG9yPGFueT4+O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJZiBpdCdzIGFuIGluZGlyZWN0IGNvbm5lY3Rpb24sIHVzZSBwcm94eSBmb3J3YXJkaW5nXG4gICAgICAgICAgICBzdHJlYW1JdGVyYXRvclByb21pc2UgPSB0cmFuc3BvcnQuc3RyZWFtUmVxdWVzdCh7XG4gICAgICAgICAgICAgIGFjdGlvbjogJ19fcHJveHlfZm9yd2FyZCcsXG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICB0YXJnZXROb2RlSWQ6IHRoaXMubm9kZUlkLFxuICAgICAgICAgICAgICAgIHRhcmdldEFjdGlvbjogYWN0aW9uTmFtZSxcbiAgICAgICAgICAgICAgICB0YXJnZXREYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgIGZvcndhcmRQYXRoOiBwYXRoLnNsaWNlKDEpIC8vIFJlbW92ZSBjdXJyZW50IG5vZGUgZnJvbSBwYXRoXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHNvdXJjZU5vZGVJZDogc291cmNlTm9kZUlkXG4gICAgICAgICAgICB9LCBhY3Rpb25EZWYucmVzcG9uc2VTY2hlbWEgYXMgYW55LCBzaWduYWwpIGFzIFByb21pc2U8U3RyZWFtQWN0aW9uSXRlcmF0b3I8YW55Pj47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHN0cmVhbUl0ZXJhdG9yUHJvbWlzZTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBhY3Rpb25Qcm94eTtcbiAgfVxuXG5cblxuICAvKipcbiAgICogR2V0IHRoZSB0cmFuc3BvcnQgY29ubmVjdGlvbiBmb3IgdGhpcyBub2RlIHByb3h5XG4gICAqL1xuICBwcml2YXRlIGdldENvbm5lY3Rpb25JbmZvKCk6IHsgdHJhbnNwb3J0OiBTRFBQUFNlc3Npb25MaWtlOyBwYXRoOiBzdHJpbmdbXSB9IHwgdW5kZWZpbmVkIHtcbiAgICAvLyBUcnkgZGlyZWN0IG9yIGluZGlyZWN0IGNvbm5lY3Rpb25cbiAgICByZXR1cm4gdGhpcy5ncmFwaEluc3RhbmNlLmdldFRyYW5zcG9ydFRvTm9kZSh0aGlzLm5vZGVJZCk7XG4gIH1cblxufSIsImltcG9ydCB0eXBlIHsgU3RvcmVBcGkgfSBmcm9tIFwienVzdGFuZFwiO1xuaW1wb3J0IHR5cGUgeyBTdG9yZVN5bmNocm9uaXplciB9IGZyb20gJy4vaW50ZXJmYWNlcy50cyc7XG5cbi8qKlxuICogR3JhcGgtYmFzZWQgaW1wbGVtZW50YXRpb24gb2YgU3RvcmVTeW5jaHJvbml6ZXIgdGhhdCB1c2VzIGdyYXBoIGFjdGlvbnMgYW5kIGJyb2FkY2FzdFxuICogZm9yIHN0b3JlIHN5bmNocm9uaXphdGlvbiwgZW5hYmxpbmcgaW5kaXJlY3Qgbm9kZSBzeW5jaHJvbml6YXRpb24gdGhyb3VnaCB0aGUgZ3JhcGggdG9wb2xvZ3lcbiAqL1xuZXhwb3J0IGNsYXNzIEdyYXBoU3RvcmVTeW5jaHJvbml6ZXI8VFN0b3JlIGV4dGVuZHMgb2JqZWN0ID0gb2JqZWN0PiBpbXBsZW1lbnRzIFN0b3JlU3luY2hyb25pemVyPFRTdG9yZT4ge1xuICBwcml2YXRlIGdyYXBoSW5zdGFuY2U6IGFueTsgLy8gR3JhcGhJbnN0YW5jZSB0eXBlXG4gIHByaXZhdGUgYWN0aW9uTWFuYWdlcjogYW55OyAvLyBBY3Rpb25NYW5hZ2VyIHR5cGVcbiAgcHJpdmF0ZSBicm9hZGNhc3RNYW5hZ2VyOiBhbnk7IC8vIEJyb2FkY2FzdE1hbmFnZXIgdHlwZVxuXG4gIGNvbnN0cnVjdG9yKGdyYXBoSW5zdGFuY2U6IGFueSkge1xuICAgIHRoaXMuZ3JhcGhJbnN0YW5jZSA9IGdyYXBoSW5zdGFuY2U7XG4gICAgLy8gQWNjZXNzIHByaXZhdGUgbWVtYmVycyB0aHJvdWdoIHByb3BlciB3YXkgKHRoZXNlIHNob3VsZCBiZSBtYWRlIGFjY2Vzc2libGUpXG4gICAgdGhpcy5hY3Rpb25NYW5hZ2VyID0gKGdyYXBoSW5zdGFuY2UgYXMgYW55KS5hY3Rpb25NYW5hZ2VyO1xuICAgIHRoaXMuYnJvYWRjYXN0TWFuYWdlciA9IChncmFwaEluc3RhbmNlIGFzIGFueSkuYnJvYWRjYXN0TWFuYWdlcjtcbiAgfVxuXG4gIGluaXRpYWxpemVDb25zdW1lcih7XG4gICAgc3RvcmUsXG4gICAgc3RvcmVOYW1lLFxuICAgIG9uU3RhdGVVcGRhdGUsXG4gICAgcmVxdWVzdEluaXRpYWxTdGF0ZVxuICB9OiB7XG4gICAgc3RvcmU6IFN0b3JlQXBpPFRTdG9yZT47XG4gICAgc3RvcmVOYW1lOiBzdHJpbmc7XG4gICAgb25TdGF0ZVVwZGF0ZTogKG5ld1N0YXRlOiBQYXJ0aWFsPFRTdG9yZT4pID0+IHZvaWQ7XG4gICAgcmVxdWVzdEluaXRpYWxTdGF0ZTogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgfSk6IHZvaWQge1xuICAgIC8vIFJlZ2lzdGVyIGJyb2FkY2FzdCBoYW5kbGVyIGZvciBzdG9yZSB1cGRhdGVzXG4gICAgdGhpcy5icm9hZGNhc3RNYW5hZ2VyLnJlZ2lzdGVySGFuZGxlcihgc3RvcmU6dXBkYXRlOiR7c3RvcmVOYW1lfWAsIChwYXlsb2FkOiBhbnkpID0+IHtcbiAgICAgIHRyeSB7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyB1cGRhdGUgaXMgbm90IGZyb20gb3Vyc2VsdmVzXG4gICAgICAgIGlmIChwYXlsb2FkLnNvdXJjZU5vZGVJZCAhPT0gdGhpcy5ncmFwaEluc3RhbmNlLmdldEN1cnJlbnROb2RlSWQoKSkge1xuICAgICAgICAgIG9uU3RhdGVVcGRhdGUocGF5bG9hZC5zdGF0ZVVwZGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFtHcmFwaFN0b3JlU3luY2hyb25pemVyXSBFcnJvciBwcm9jZXNzaW5nIHN0b3JlIHVwZGF0ZSBmb3IgJHtzdG9yZU5hbWV9OmAsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEVuaGFuY2VkIGluaXRpYWwgc3RhdGUgcmVxdWVzdCB3aXRoIHJldHJ5IG1lY2hhbmlzbVxuICAgIC8vIE5vdGU6IFRoaXMgaXMgbm93IHRyaWdnZXJlZCBleHRlcm5hbGx5IGJ5IEdyYXBoSW5zdGFuY2UgYWZ0ZXIgY29ubmVjdGlvbiBpcyBlc3RhYmxpc2hlZFxuICAgIGNvbnN0IGRvUmVxdWVzdEluaXRpYWxTdGF0ZSA9IGFzeW5jIChyZXRyeUNvdW50ID0gMCwgbWF4UmV0cmllcyA9IDUsIGRlbGF5ID0gMTAwKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCByZXF1ZXN0SW5pdGlhbFN0YXRlKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAocmV0cnlDb3VudCA8IG1heFJldHJpZXMpIHtcbiAgICAgICAgICAvLyBFeHBvbmVudGlhbCBiYWNrb2ZmIHdpdGggaml0dGVyXG4gICAgICAgICAgY29uc3QgYmFja29mZkRlbGF5ID0gZGVsYXkgKiBNYXRoLnBvdygyLCByZXRyeUNvdW50KSArIE1hdGgucmFuZG9tKCkgKiAxMDA7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBkb1JlcXVlc3RJbml0aWFsU3RhdGUocmV0cnlDb3VudCArIDEsIG1heFJldHJpZXMsIGRlbGF5KTtcbiAgICAgICAgICB9LCBiYWNrb2ZmRGVsYXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgRmFpbGVkIHRvIHJlcXVlc3QgaW5pdGlhbCBzdGF0ZSBhZnRlciAke21heFJldHJpZXN9IHJldHJpZXNgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBTdG9yZSB0aGUgZnVuY3Rpb24gZm9yIGV4dGVybmFsIHRyaWdnZXJpbmcgKHJlbW92ZWQgYXV0b21hdGljIHNldFRpbWVvdXQgY2FsbClcbiAgfVxuXG4gIGluaXRpYWxpemVQcm9kdWNlcih7XG4gICAgc3RvcmUsXG4gICAgc3RvcmVOYW1lLFxuICAgIHNlbmRTdGF0ZVVwZGF0ZSxcbiAgICBvbkluaXRpYWxTdGF0ZVJlcXVlc3RlZFxuICB9OiB7XG4gICAgc3RvcmU6IFN0b3JlQXBpPFRTdG9yZT47XG4gICAgc3RvcmVOYW1lOiBzdHJpbmc7XG4gICAgc2VuZFN0YXRlVXBkYXRlOiAoc3RhdGU6IFRTdG9yZSkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgICBvbkluaXRpYWxTdGF0ZVJlcXVlc3RlZDogKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSA9PiB2b2lkO1xuICB9KTogKCkgPT4gdm9pZCB7XG4gICAgY29uc3QgY3VycmVudE5vZGVJZCA9IHRoaXMuZ3JhcGhJbnN0YW5jZS5nZXRDdXJyZW50Tm9kZUlkKCk7XG5cbiAgICAvLyBTZW5kIHN0YXRlIHVwZGF0ZSB2aWEgYnJvYWRjYXN0IHRvIGFsbCBub2RlcyBpbiB0aGUgZ3JhcGhcbiAgICBjb25zdCBicm9hZGNhc3RTdGF0ZVVwZGF0ZSA9IGFzeW5jIChzdGF0ZTogVFN0b3JlLCBpc0luaXRpYWxTdGF0ZSA9IGZhbHNlKSA9PiB7XG4gICAgICBjb25zdCB0cmFuc3BvcnRSZWFkeSA9IHRoaXMuaXNUcmFuc3BvcnRSZWFkeSgpO1xuXG5cbiAgICAgIGlmICh0cmFuc3BvcnRSZWFkeSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEJyb2FkY2FzdCBzdG9yZSB1cGRhdGUgdG8gYWxsIG5vZGVzXG4gICAgICAgICAgYXdhaXQgdGhpcy5icm9hZGNhc3RNYW5hZ2VyLmJyb2FkY2FzdChgc3RvcmU6dXBkYXRlOiR7c3RvcmVOYW1lfWAsIHtcbiAgICAgICAgICAgIHN0b3JlTmFtZSxcbiAgICAgICAgICAgIHNvdXJjZU5vZGVJZDogY3VycmVudE5vZGVJZCxcbiAgICAgICAgICAgIHN0YXRlVXBkYXRlOiBzdGF0ZSxcbiAgICAgICAgICAgIGlzSW5pdGlhbFN0YXRlXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBbR3JhcGhTdG9yZVN5bmNocm9uaXplcl0gRXJyb3IgYnJvYWRjYXN0aW5nIHN0YXRlIHVwZGF0ZSBmb3IgJHtzdG9yZU5hbWV9OmAsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gU3Vic2NyaWJlIHRvIHN0b3JlIGNoYW5nZXMgYW5kIGJyb2FkY2FzdCB1cGRhdGVzXG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBzdG9yZS5zdWJzY3JpYmUoKHN0YXRlKSA9PiB7XG4gICAgICBicm9hZGNhc3RTdGF0ZVVwZGF0ZShzdGF0ZSwgZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgLy8gSGFuZGxlIGluaXRpYWwgc3RhdGUgcmVxdWVzdHNcbiAgICBvbkluaXRpYWxTdGF0ZVJlcXVlc3RlZCgoKSA9PiB7XG4gICAgICBicm9hZGNhc3RTdGF0ZVVwZGF0ZShzdG9yZS5nZXRTdGF0ZSgpLCB0cnVlKTtcbiAgICB9KTtcblxuICAgIC8vIEltcGxlbWVudCBpbnRlcm5hbCBhY3Rpb24gZm9yIHJlcXVlc3RpbmcgaW5pdGlhbCBzdGF0ZSBmcm9tIHRoaXMgcHJvZHVjZXJcbiAgICBjb25zdCBhY3Rpb25OYW1lID0gYF9faW50ZXJuYWxfcmVxdWVzdEluaXRpYWxTdGF0ZV8ke3N0b3JlTmFtZX1gO1xuICAgIHRoaXMuYWN0aW9uTWFuYWdlci5pbXBsZW1lbnRJbnRlcm5hbEFjdGlvbihhY3Rpb25OYW1lLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50U3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgLy8gQnJvYWRjYXN0IHRoZSBjdXJyZW50IHN0YXRlIGFzIGluaXRpYWwgc3RhdGVcbiAgICAgIGF3YWl0IGJyb2FkY2FzdFN0YXRlVXBkYXRlKGN1cnJlbnRTdGF0ZSwgdHJ1ZSk7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG4gICAgfSk7XG5cbiAgICAvLyBEb24ndCBzZW5kIGluaXRpYWwgc3RhdGUgaW1tZWRpYXRlbHkgLSB3YWl0IGZvciBjb25uZWN0aW9uc1xuICAgIFxuICAgIC8vIExpc3RlbiBmb3IgY29ubmVjdGlvbiBlc3RhYmxpc2hlZCBldmVudHMgdG8gc2VuZCBpbml0aWFsIHN0YXRlXG4gICAgdGhpcy5icm9hZGNhc3RNYW5hZ2VyLnJlZ2lzdGVySGFuZGxlcihgX19jb25uZWN0aW9uX2VzdGFibGlzaGVkYCwgYXN5bmMgKHBheWxvYWQ6IGFueSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gV2hlbiBhIG5ldyBub2RlIGNvbm5lY3RzLCBzZW5kIG91ciBjdXJyZW50IHN0YXRlXG4gICAgICAgIGlmIChwYXlsb2FkLnRvTm9kZSA9PT0gY3VycmVudE5vZGVJZCB8fCBwYXlsb2FkLmZyb21Ob2RlID09PSBjdXJyZW50Tm9kZUlkKSB7XG4gICAgICAgICAgYXdhaXQgYnJvYWRjYXN0U3RhdGVVcGRhdGUoc3RvcmUuZ2V0U3RhdGUoKSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIFNpbGVudCBlcnJvciBoYW5kbGluZ1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gUmV0dXJuIGNsZWFudXAgZnVuY3Rpb25cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgIC8vIFJlbW92ZSB0aGUgaW50ZXJuYWwgYWN0aW9uIGhhbmRsZXJcbiAgICAgICh0aGlzLmFjdGlvbk1hbmFnZXIgYXMgYW55KS5hY3Rpb25IYW5kbGVycz8uZGVsZXRlKGFjdGlvbk5hbWUpO1xuICAgIH07XG4gIH1cblxuICBpc1RyYW5zcG9ydFJlYWR5KCk6IGJvb2xlYW4ge1xuICAgIC8vIENoZWNrIGlmIGdyYXBoIGhhcyBhbnkgYWN0aXZlIGNvbm5lY3Rpb25zIG9yIG1vdW50ZWQgZW5kcG9pbnRzXG4gICAgdHJ5IHtcbiAgICAgIC8vIENoZWNrIGlmIGNvbm5lY3Rpb24gbWFuYWdlciBoYXMgY29ubmVjdGlvbnMgLSBtZXNoU3RvcmUgZnVuY3Rpb25hbGl0eSByZW1vdmVkXG4gICAgICBjb25zdCBjb25uZWN0aW9uTWFuYWdlciA9ICh0aGlzLmdyYXBoSW5zdGFuY2UgYXMgYW55KS5jb25uZWN0aW9uTWFuYWdlcjtcbiAgICAgIGNvbnN0IGhhc0Nvbm5lY3RlZE5vZGVzID0gY29ubmVjdGlvbk1hbmFnZXIgJiYgY29ubmVjdGlvbk1hbmFnZXIuZ2V0Q29ubmVjdGlvbkNvdW50KCkgPiAwO1xuXG4gICAgICAvLyBBbHNvIGNoZWNrIGlmIHdlIGhhdmUgbW91bnRlZCBlbmRwb2ludHMgKGZvciBzZXJ2ZXIgbm9kZXMpXG4gICAgICBjb25zdCBoYXNNb3VudGVkRW5kcG9pbnQgPSAodGhpcy5icm9hZGNhc3RNYW5hZ2VyIGFzIGFueSkubW91bnRlZEVuZHBvaW50cz8uc2l6ZSA+IDA7XG5cbiAgICAgIHJldHVybiBoYXNDb25uZWN0ZWROb2RlcyB8fCBoYXNNb3VudGVkRW5kcG9pbnQ7XG4gICAgfSBjYXRjaCB7XG4gICAgICAvLyBGYWxsYmFjazogYXNzdW1lIHJlYWR5IGlmIHdlIGhhdmUgdGhlIGJyb2FkY2FzdCBtYW5hZ2VyXG4gICAgICByZXR1cm4gISF0aGlzLmJyb2FkY2FzdE1hbmFnZXI7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1hbnVhbGx5IGJyb2FkY2FzdCB0aGUgY3VycmVudCBzdGF0ZSBvZiBhIHN0b3JlXG4gICAqL1xuICBhc3luYyBicm9hZGNhc3RDdXJyZW50U3RhdGU8VCBleHRlbmRzIG9iamVjdD4oc3RvcmU6IFN0b3JlQXBpPFQ+LCBzdG9yZU5hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGN1cnJlbnROb2RlSWQgPSB0aGlzLmdyYXBoSW5zdGFuY2UuZ2V0Q3VycmVudE5vZGVJZCgpO1xuICAgIGNvbnN0IHRyYW5zcG9ydFJlYWR5ID0gdGhpcy5pc1RyYW5zcG9ydFJlYWR5KCk7XG4gICAgXG4gICAgaWYgKHRyYW5zcG9ydFJlYWR5KSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLmJyb2FkY2FzdE1hbmFnZXIuYnJvYWRjYXN0KGBzdG9yZTp1cGRhdGU6JHtzdG9yZU5hbWV9YCwge1xuICAgICAgICAgIHN0b3JlTmFtZSxcbiAgICAgICAgICBzb3VyY2VOb2RlSWQ6IGN1cnJlbnROb2RlSWQsXG4gICAgICAgICAgc3RhdGVVcGRhdGU6IHN0b3JlLmdldFN0YXRlKCksXG4gICAgICAgICAgaXNJbml0aWFsU3RhdGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBTaWxlbnQgZXJyb3IgaGFuZGxpbmdcbiAgICAgIH1cbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgdHlwZSB7IFN0b3JlQXBpIH0gZnJvbSBcInp1c3RhbmRcIjtcbmltcG9ydCB0eXBlIHsgU3RvcmVTeW5jaHJvbml6ZXIsIFN0b3JlQmluZGluZ0NvbmZpZyB9IGZyb20gJy4vaW50ZXJmYWNlcy50cyc7XG5pbXBvcnQgeyBHcmFwaFN0b3JlU3luY2hyb25pemVyIH0gZnJvbSAnLi9HcmFwaFN0b3JlU3luY2hyb25pemVyLnRzJztcblxuLyoqXG4gKiBCaW5kIHN0b3JlIGNvbnN1bWVyIHNpZGUgdXNpbmcgY29uZmlndXJhYmxlIHN5bmNocm9uaXplclxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluZFN0b3JlQ29uc3VtZXJTaWRlPFNUT1JFIGV4dGVuZHMgb2JqZWN0Pih7XG4gICAgc3RvcmUsXG4gICAgc3RvcmVOYW1lLFxuICAgIHN5bmNocm9uaXplclxufTogU3RvcmVCaW5kaW5nQ29uZmlnPFNUT1JFPik6IHZvaWQge1xuICAgIGNvbnN0IG9uU3RhdGVVcGRhdGUgPSAobmV3U3RhdGU6IFBhcnRpYWw8U1RPUkU+KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRTdGF0ZSA9IHsgLi4uY3VycmVudFN0YXRlLCAuLi5uZXdTdGF0ZSB9O1xuICAgICAgICBzdG9yZS5zZXRTdGF0ZSh1cGRhdGVkU3RhdGUpO1xuICAgIH07XG5cbiAgICBjb25zdCByZXF1ZXN0SW5pdGlhbFN0YXRlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAvLyBUaGlzIHdpbGwgYmUgaGFuZGxlZCBieSB0aGUgc3luY2hyb25pemVyIGltcGxlbWVudGF0aW9uXG4gICAgICAgIHRocm93IG5ldyBFcnJvcigncmVxdWVzdEluaXRpYWxTdGF0ZSBzaG91bGQgYmUgaW1wbGVtZW50ZWQgYnkgc3luY2hyb25pemVyJyk7XG4gICAgfTtcblxuICAgIHN5bmNocm9uaXplci5pbml0aWFsaXplQ29uc3VtZXIoe1xuICAgICAgICBzdG9yZSxcbiAgICAgICAgc3RvcmVOYW1lLFxuICAgICAgICBvblN0YXRlVXBkYXRlLFxuICAgICAgICByZXF1ZXN0SW5pdGlhbFN0YXRlXG4gICAgfSk7XG59XG5cbi8qKlxuICogQmluZCBzdG9yZSBwcm9kdWNlciBzaWRlIHVzaW5nIGNvbmZpZ3VyYWJsZSBzeW5jaHJvbml6ZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmRTdG9yZVByb2R1Y2VyU2lkZTxTVE9SRSBleHRlbmRzIG9iamVjdD4oe1xuICAgIHN0b3JlLFxuICAgIHN0b3JlTmFtZSxcbiAgICBzeW5jaHJvbml6ZXJcbn06IFN0b3JlQmluZGluZ0NvbmZpZzxTVE9SRT4pOiAoKSA9PiB2b2lkIHtcbiAgICBjb25zdCBzZW5kU3RhdGVVcGRhdGUgPSBhc3luYyAoc3RhdGU6IFNUT1JFKSA9PiB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCBiZSBoYW5kbGVkIGJ5IHRoZSBzeW5jaHJvbml6ZXIgaW1wbGVtZW50YXRpb25cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZW5kU3RhdGVVcGRhdGUgc2hvdWxkIGJlIGltcGxlbWVudGVkIGJ5IHN5bmNocm9uaXplcicpO1xuICAgIH07XG5cbiAgICBjb25zdCBvbkluaXRpYWxTdGF0ZVJlcXVlc3RlZCA9IChjYWxsYmFjazogKCkgPT4gdm9pZCkgPT4ge1xuICAgICAgICAvLyBUaGlzIHdpbGwgYmUgaGFuZGxlZCBieSB0aGUgc3luY2hyb25pemVyIGltcGxlbWVudGF0aW9uXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignb25Jbml0aWFsU3RhdGVSZXF1ZXN0ZWQgc2hvdWxkIGJlIGltcGxlbWVudGVkIGJ5IHN5bmNocm9uaXplcicpO1xuICAgIH07XG5cbiAgICByZXR1cm4gc3luY2hyb25pemVyLmluaXRpYWxpemVQcm9kdWNlcih7XG4gICAgICAgIHN0b3JlLFxuICAgICAgICBzdG9yZU5hbWUsXG4gICAgICAgIHNlbmRTdGF0ZVVwZGF0ZSxcbiAgICAgICAgb25Jbml0aWFsU3RhdGVSZXF1ZXN0ZWRcbiAgICB9KTtcbn1cblxuXG4vLyBHcmFwaC1iYXNlZCBzdG9yZSBiaW5kaW5nIGZ1bmN0aW9ucyB1c2luZyBhY3Rpb25zIGFuZCBicm9hZGNhc3RcbmV4cG9ydCBmdW5jdGlvbiBiaW5kU3RvcmVDb25zdW1lclNpZGVHcmFwaDxTVE9SRSBleHRlbmRzIG9iamVjdD4oe1xuICAgIGdyYXBoSW5zdGFuY2UsXG4gICAgc3RvcmUsXG4gICAgbmFtZVxufToge1xuICAgIGdyYXBoSW5zdGFuY2U6IGFueSwgLy8gR3JhcGhJbnN0YW5jZSB0eXBlXG4gICAgc3RvcmU6IFN0b3JlQXBpPFNUT1JFPixcbiAgICBuYW1lOiBzdHJpbmcsXG59KTogdm9pZCB7XG4gICAgY29uc3Qgc3luY2hyb25pemVyID0gbmV3IEdyYXBoU3RvcmVTeW5jaHJvbml6ZXI8U1RPUkU+KGdyYXBoSW5zdGFuY2UpO1xuICAgIFxuICAgIGNvbnN0IG9uU3RhdGVVcGRhdGUgPSAobmV3U3RhdGU6IFBhcnRpYWw8U1RPUkU+KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRTdGF0ZSA9IHsgLi4uY3VycmVudFN0YXRlLCAuLi5uZXdTdGF0ZSB9O1xuICAgICAgICBzdG9yZS5zZXRTdGF0ZSh1cGRhdGVkU3RhdGUpO1xuICAgIH07XG5cbiAgICBjb25zdCByZXF1ZXN0SW5pdGlhbFN0YXRlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAvLyBVc2UgZ3JhcGggYWN0aW9uIHRvIHJlcXVlc3QgaW5pdGlhbCBzdGF0ZSBmcm9tIHByb2R1Y2VyIG5vZGVzXG4gICAgICAgIGNvbnN0IGFjdGlvbk5hbWUgPSBgX19pbnRlcm5hbF9yZXF1ZXN0SW5pdGlhbFN0YXRlXyR7bmFtZX1gO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gVHJ5IHRvIGNhbGwgdGhlIGFjdGlvbiBvbiBhbnkgbm9kZSB0aGF0IGhhcyB0aGlzIHN0b3JlIC0gbWVzaFN0b3JlIGZ1bmN0aW9uYWxpdHkgcmVtb3ZlZFxuICAgICAgICAgICAgLy8gR2V0IG5laWdoYm9ycyBmcm9tIGdyYXBoIGRlZmluaXRpb24gaW5zdGVhZFxuICAgICAgICAgICAgLy8gVGhlIHN0b3JlIG5hbWUgaXMgdGhlIG5vZGUgSUQgdGhhdCBvd25zIHRoZSBzdG9yZVxuICAgICAgICAgICAgLy8gVHJ5IHRvIGNhbGwgdGhlIGFjdGlvbiBvbiB0aGUgbm9kZSB0aGF0IG93bnMgdGhpcyBzdG9yZVxuICAgICAgICAgICAgY29uc3Qgbm9kZVByb3h5ID0gZ3JhcGhJbnN0YW5jZS5nZXROb2RlKG5hbWUpO1xuICAgICAgICAgICAgaWYgKG5vZGVQcm94eSAmJiBub2RlUHJveHkuYWN0aW9ucyAmJiBub2RlUHJveHkuYWN0aW9uc1thY3Rpb25OYW1lXSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IG5vZGVQcm94eS5hY3Rpb25zW2FjdGlvbk5hbWVdKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYEZhaWxlZCB0byByZXF1ZXN0IGluaXRpYWwgc3RhdGUgZm9yICR7bmFtZX06YCwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHN5bmNocm9uaXplci5pbml0aWFsaXplQ29uc3VtZXIoe1xuICAgICAgICBzdG9yZSxcbiAgICAgICAgc3RvcmVOYW1lOiBuYW1lLFxuICAgICAgICBvblN0YXRlVXBkYXRlLFxuICAgICAgICByZXF1ZXN0SW5pdGlhbFN0YXRlXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiaW5kU3RvcmVQcm9kdWNlclNpZGVHcmFwaDxTVE9SRSBleHRlbmRzIG9iamVjdD4oe1xuICAgIGdyYXBoSW5zdGFuY2UsXG4gICAgc3RvcmUsXG4gICAgbmFtZVxufToge1xuICAgIGdyYXBoSW5zdGFuY2U6IGFueSwgLy8gR3JhcGhJbnN0YW5jZSB0eXBlXG4gICAgc3RvcmU6IFN0b3JlQXBpPFNUT1JFPixcbiAgICBuYW1lOiBzdHJpbmcsXG59KTogKCkgPT4gdm9pZCB7XG4gICAgY29uc3Qgc3luY2hyb25pemVyID0gbmV3IEdyYXBoU3RvcmVTeW5jaHJvbml6ZXI8U1RPUkU+KGdyYXBoSW5zdGFuY2UpO1xuICAgIFxuICAgIGNvbnN0IHNlbmRTdGF0ZVVwZGF0ZSA9IGFzeW5jIChzdGF0ZTogU1RPUkUpID0+IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIGJlIGhhbmRsZWQgYnkgdGhlIEdyYXBoU3RvcmVTeW5jaHJvbml6ZXIgdmlhIGJyb2FkY2FzdFxuICAgICAgICAvLyBObyBkaXJlY3Qgc2VuZGluZyBuZWVkZWQgYXMgYnJvYWRjYXN0IGhhbmRsZXMgaXRcbiAgICB9O1xuXG4gICAgY29uc3Qgb25Jbml0aWFsU3RhdGVSZXF1ZXN0ZWQgPSAoY2FsbGJhY2s6ICgpID0+IHZvaWQpID0+IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIGJlIGhhbmRsZWQgYnkgdGhlIEdyYXBoU3RvcmVTeW5jaHJvbml6ZXIgdmlhIGludGVybmFsIGFjdGlvbnNcbiAgICAgICAgLy8gTm8gZGlyZWN0IGhhbmRsZXIgc2V0dXAgbmVlZGVkXG4gICAgfTtcblxuICAgIHJldHVybiBzeW5jaHJvbml6ZXIuaW5pdGlhbGl6ZVByb2R1Y2VyKHtcbiAgICAgICAgc3RvcmUsXG4gICAgICAgIHN0b3JlTmFtZTogbmFtZSxcbiAgICAgICAgc2VuZFN0YXRlVXBkYXRlLFxuICAgICAgICBvbkluaXRpYWxTdGF0ZVJlcXVlc3RlZFxuICAgIH0pO1xufSIsImltcG9ydCB0eXBlIHsgU0RQUFBTZXNzaW9uTGlrZSB9IGZyb20gJy4uL3Nlc3Npb25zL2ludGVyZmFjZXMvU0RQUFBTZXNzaW9uTGlrZS50cyc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcblxuLyoqXG4gKiBNYW5hZ2VzIGJyb2FkY2FzdCBmdW5jdGlvbmFsaXR5IGZvciBncmFwaCBpbnN0YW5jZXNcbiAqL1xuZXhwb3J0IGNsYXNzIEJyb2FkY2FzdE1hbmFnZXIge1xuICBwcml2YXRlIGJyb2FkY2FzdEhhbmRsZXJzOiBNYXA8c3RyaW5nLCBTZXQ8KHBheWxvYWQ6IGFueSkgPT4gdm9pZD4+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIHRyYW5zcG9ydHM6IE1hcDxzdHJpbmcsIFNEUFBQU2Vzc2lvbkxpa2U+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIG1vdW50ZWRUcmFuc3BvcnRzOiBTZXQ8U0RQUFBTZXNzaW9uTGlrZT4gPSBuZXcgU2V0KCk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIGdsb2JhbCBkaXNwYXRjaGVyIHRoYXQgaGFuZGxlcyBhbGwgbWVzc2FnZSB0eXBlc1xuICAgKi9cbiAgcHJpdmF0ZSBjcmVhdGVHbG9iYWxEaXNwYXRjaGVyRm9yVHlwZShicm9hZGNhc3RUeXBlOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gKHBheWxvYWQ6IGFueSkgPT4ge1xuICAgICAgY29uc3QgaGFuZGxlcnMgPSB0aGlzLmJyb2FkY2FzdEhhbmRsZXJzLmdldChicm9hZGNhc3RUeXBlKTtcbiAgICAgIGlmIChoYW5kbGVycykge1xuICAgICAgICBmb3IgKGNvbnN0IGhhbmRsZXIgb2YgaGFuZGxlcnMpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaGFuZGxlcihwYXlsb2FkKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgaW4gYnJvYWRjYXN0IGhhbmRsZXIgZm9yICR7YnJvYWRjYXN0VHlwZX06YCwgZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBGb3J3YXJkIEFMTCBicm9hZGNhc3QgbWVzc2FnZXMgdG8gZW5zdXJlIFwi5by65Yi25bm/5rOb5Lyg5pKtXCIgKG1hbmRhdG9yeSB3aWRlIHByb3BhZ2F0aW9uKVxuICAgICAgLy8gVGhpcyBlbmFibGVzIGluZGlyZWN0IHN5bmNocm9uaXphdGlvbiB0aHJvdWdoIGludGVybWVkaWF0ZSBub2RlcyBmb3IgYWxsIG1lc3NhZ2UgdHlwZXNcbiAgICAgIGlmICghcGF5bG9hZC5mb3J3YXJkZWQpIHtcbiAgICAgICAgdGhpcy5mb3J3YXJkQnJvYWRjYXN0KGJyb2FkY2FzdFR5cGUsIHBheWxvYWQpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogRm9yd2FyZCBhIGJyb2FkY2FzdCBtZXNzYWdlIHRvIGFsbCBvdGhlciB0cmFuc3BvcnRzXG4gICAqIFRoaXMgZW5hYmxlcyBpbmRpcmVjdCBzeW5jaHJvbml6YXRpb24gdGhyb3VnaCBpbnRlcm1lZGlhdGUgbm9kZXNcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZm9yd2FyZEJyb2FkY2FzdChicm9hZGNhc3RUeXBlOiBzdHJpbmcsIHBheWxvYWQ6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBNYXJrIHRoZSBwYXlsb2FkIGFzIGZvcndhcmRlZCB0byBhdm9pZCBpbmZpbml0ZSBsb29wc1xuICAgICAgY29uc3QgZm9yd2FyZGVkUGF5bG9hZCA9IHsgLi4ucGF5bG9hZCwgZm9yd2FyZGVkOiB0cnVlIH07XG5cbiAgICAgIC8vIEdldCBhbGwgdHJhbnNwb3J0c1xuICAgICAgY29uc3QgYWxsVHJhbnNwb3J0czogU0RQUFBTZXNzaW9uTGlrZVtdID0gW1xuICAgICAgICAuLi5BcnJheS5mcm9tKHRoaXMudHJhbnNwb3J0cy52YWx1ZXMoKSksXG4gICAgICAgIC4uLkFycmF5LmZyb20odGhpcy5tb3VudGVkVHJhbnNwb3J0cylcbiAgICAgIF07XG5cbiAgICAgIC8vIEZvcndhcmQgdG8gYWxsIHRyYW5zcG9ydHNcbiAgICAgIGNvbnN0IGZvcndhcmRQcm9taXNlcyA9IGFsbFRyYW5zcG9ydHMubWFwKHRyYW5zcG9ydCA9PiB7XG4gICAgICAgIHJldHVybiB0cmFuc3BvcnQubm90aWZpY2F0aW9uKHtcbiAgICAgICAgICBtZXRob2Q6ICdzZHBwcC9icm9hZGNhc3QnLFxuICAgICAgICAgIHBhcmFtczogeyBtZXNzYWdlVHlwZTogYnJvYWRjYXN0VHlwZSwgbWVzc2FnZTogZm9yd2FyZGVkUGF5bG9hZCB9XG4gICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBbQnJvYWRjYXN0TWFuYWdlcl0gRXJyb3IgZm9yd2FyZGluZyAke2Jyb2FkY2FzdFR5cGV9OmAsIGVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoZm9yd2FyZFByb21pc2VzKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignW0Jyb2FkY2FzdE1hbmFnZXJdIEVycm9yIGZvcndhcmRpbmcgYnJvYWRjYXN0OicsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgYSBicm9hZGNhc3QgbWVzc2FnZSBoYW5kbGVyXG4gICAqL1xuICByZWdpc3RlckhhbmRsZXIoYnJvYWRjYXN0VHlwZTogc3RyaW5nLCBoYW5kbGVyOiAocGF5bG9hZDogYW55KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmJyb2FkY2FzdEhhbmRsZXJzLmhhcyhicm9hZGNhc3RUeXBlKSkge1xuICAgICAgdGhpcy5icm9hZGNhc3RIYW5kbGVycy5zZXQoYnJvYWRjYXN0VHlwZSwgbmV3IFNldCgpKTtcbiAgICB9XG4gICAgdGhpcy5icm9hZGNhc3RIYW5kbGVycy5nZXQoYnJvYWRjYXN0VHlwZSkhLmFkZChoYW5kbGVyKTtcbiAgICBcbiAgICAvLyBObyBuZWVkIHRvIHVwZGF0ZSB0cmFuc3BvcnRzIC0gdGhleSBhbHJlYWR5IGhhdmUgdGhlIGdlbmVyYWwgaGFuZGxlclxuICB9XG5cbiAgLyoqXG4gICAqIFNldHVwIGJyb2FkY2FzdCBoYW5kbGVycyBmb3IgYSBuZXcgdHJhbnNwb3J0XG4gICAqL1xuICBzZXR1cFRyYW5zcG9ydEhhbmRsZXJzKHRyYW5zcG9ydDogU0RQUFBTZXNzaW9uTGlrZSk6IHZvaWQge1xuICAgIC8vIFJlZ2lzdGVyIGEgc2luZ2xlIGhhbmRsZXIgZm9yIGFsbCBicm9hZGNhc3QgbWVzc2FnZXNcbiAgICB0aGlzLnNldHVwR2VuZXJhbEJyb2FkY2FzdEhhbmRsZXIodHJhbnNwb3J0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXR1cCBhIGdlbmVyYWwgYnJvYWRjYXN0IGhhbmRsZXIgdGhhdCBoYW5kbGVzIGFsbCBicm9hZGNhc3QgdHlwZXNcbiAgICovXG4gIHByaXZhdGUgc2V0dXBHZW5lcmFsQnJvYWRjYXN0SGFuZGxlcih0cmFuc3BvcnQ6IFNEUFBQU2Vzc2lvbkxpa2UpOiB2b2lkIHtcbiAgICAvLyBSZWdpc3RlciBhIHNpbmdsZSBoYW5kbGVyIGZvciBhbGwgYnJvYWRjYXN0IG1lc3NhZ2VzXG4gICAgY29uc3QgYnJvYWRjYXN0U2NoZW1hID0gei5vYmplY3Qoe1xuICAgICAgbWV0aG9kOiB6LmxpdGVyYWwoJ3NkcHBwL2Jyb2FkY2FzdCcpLFxuICAgICAgcGFyYW1zOiB6Lm9iamVjdCh7XG4gICAgICAgIG1lc3NhZ2VUeXBlOiB6LnN0cmluZygpLFxuICAgICAgICBtZXNzYWdlOiB6LmFueSgpXG4gICAgICB9KVxuICAgIH0pO1xuXG4gICAgdHJhbnNwb3J0LnNldE5vdGlmaWNhdGlvbkhhbmRsZXIoYnJvYWRjYXN0U2NoZW1hLCBhc3luYyAobm90aWZpY2F0aW9uOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IGJyb2FkY2FzdFR5cGUgPSBub3RpZmljYXRpb24ucGFyYW1zLm1lc3NhZ2VUeXBlO1xuICAgICAgY29uc3QgZGlzcGF0Y2hlciA9IHRoaXMuY3JlYXRlR2xvYmFsRGlzcGF0Y2hlckZvclR5cGUoYnJvYWRjYXN0VHlwZSk7XG4gICAgICBkaXNwYXRjaGVyKG5vdGlmaWNhdGlvbi5wYXJhbXMubWVzc2FnZSk7XG4gICAgfSk7XG4gIH1cbiAgXG5cbiAgLyoqXG4gICAqIEFkZCBhIHRyYW5zcG9ydCB0byB0aGUgYnJvYWRjYXN0IG1hbmFnZXJcbiAgICovXG4gIGFkZE1pZGRsZXdhcmUobm9kZUlkOiBzdHJpbmcsIHRyYW5zcG9ydDogU0RQUFBTZXNzaW9uTGlrZSk6IHZvaWQge1xuICAgIHRoaXMudHJhbnNwb3J0cy5zZXQobm9kZUlkLCB0cmFuc3BvcnQpO1xuICAgIHRoaXMuc2V0dXBUcmFuc3BvcnRIYW5kbGVycyh0cmFuc3BvcnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIHRyYW5zcG9ydCBmcm9tIHRoZSBicm9hZGNhc3QgbWFuYWdlclxuICAgKi9cbiAgcmVtb3ZlTWlkZGxld2FyZShub2RlSWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMudHJhbnNwb3J0cy5kZWxldGUobm9kZUlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCcm9hZGNhc3QgYSBuYW1lZCBtZXNzYWdlIHRvIGFsbCBjb25uZWN0ZWQgbm9kZXMgKGV4Y2x1ZGluZyBzZWxmKVxuICAgKi9cbiAgYXN5bmMgYnJvYWRjYXN0KGJyb2FkY2FzdE5hbWU6IHN0cmluZywgcGF5bG9hZDogYW55KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgYWxsVHJhbnNwb3J0czogU0RQUFBTZXNzaW9uTGlrZVtdID0gW1xuICAgICAgLi4uQXJyYXkuZnJvbSh0aGlzLnRyYW5zcG9ydHMudmFsdWVzKCkpLFxuICAgICAgLi4uQXJyYXkuZnJvbSh0aGlzLm1vdW50ZWRUcmFuc3BvcnRzKVxuICAgIF07XG5cbiAgICAvLyBCcm9hZGNhc3QgdG8gYWxsIHRyYW5zcG9ydHMgdXNpbmcgc2RwcHAvYnJvYWRjYXN0IGZvcm1hdFxuICAgIGNvbnN0IGJyb2FkY2FzdFByb21pc2VzID0gYWxsVHJhbnNwb3J0cy5tYXAodHJhbnNwb3J0ID0+IHtcbiAgICAgIHJldHVybiB0cmFuc3BvcnQubm90aWZpY2F0aW9uKHtcbiAgICAgICAgbWV0aG9kOiAnc2RwcHAvYnJvYWRjYXN0JyxcbiAgICAgICAgcGFyYW1zOiB7IG1lc3NhZ2VUeXBlOiBicm9hZGNhc3ROYW1lLCBtZXNzYWdlOiBwYXlsb2FkIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoYnJvYWRjYXN0UHJvbWlzZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vdW50IGJyb2FkY2FzdCBoYW5kbGVycyB0byBhIHRyYW5zcG9ydFxuICAgKi9cbiAgbW91bnRUbyh0cmFuc3BvcnQ6IFNEUFBQU2Vzc2lvbkxpa2UpOiB2b2lkIHtcbiAgICAvLyBTdG9yZSB0aGUgbW91bnRlZCB0cmFuc3BvcnQgZm9yIGJyb2FkY2FzdGluZ1xuICAgIHRoaXMubW91bnRlZFRyYW5zcG9ydHMuYWRkKHRyYW5zcG9ydCk7XG4gICAgXG4gICAgLy8gU2V0dXAgaGFuZGxlcnMgZm9yIGFsbCBleGlzdGluZyBicm9hZGNhc3QgdHlwZXNcbiAgICB0aGlzLnNldHVwVHJhbnNwb3J0SGFuZGxlcnModHJhbnNwb3J0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIHJlZ2lzdGVyZWQgaGFuZGxlciB0eXBlc1xuICAgKi9cbiAgZ2V0SGFuZGxlclR5cGVzKCk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmJyb2FkY2FzdEhhbmRsZXJzLmtleXMoKSk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgYWxsIGhhbmRsZXJzIGFuZCB0cmFuc3BvcnRzXG4gICAqL1xuICBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLmJyb2FkY2FzdEhhbmRsZXJzLmNsZWFyKCk7XG4gICAgdGhpcy50cmFuc3BvcnRzLmNsZWFyKCk7XG4gICAgdGhpcy5tb3VudGVkVHJhbnNwb3J0cy5jbGVhcigpO1xuICB9XG59IiwiaW1wb3J0IHR5cGUgeyBHcmFwaERlZmluaXRpb25DbGFzcyB9IGZyb20gJy4vR3JhcGhEZWZpbml0aW9uLnRzJztcbmltcG9ydCB0eXBlIHsgU0RQUFBTZXNzaW9uTGlrZSB9IGZyb20gJy4uL3Nlc3Npb25zL2ludGVyZmFjZXMvU0RQUFBTZXNzaW9uTGlrZS50cyc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcblxuLyoqXG4gKiBNYW5hZ2VzIGFjdGlvbiBpbXBsZW1lbnRhdGlvbiBhbmQgcm91dGluZyBmb3IgZ3JhcGggaW5zdGFuY2VzXG4gKi9cbmV4cG9ydCBjbGFzcyBBY3Rpb25NYW5hZ2VyIHtcbiAgcHJpdmF0ZSBhY3Rpb25IYW5kbGVyczogTWFwPHN0cmluZywgKHBhcmFtczogYW55LCBleHRyYTogYW55LCBzaWduYWw/OiBBYm9ydFNpZ25hbCkgPT4gQXN5bmNJdGVyYWJsZTxhbnk+IHwgUHJvbWlzZTxhbnk+PiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBkZWZpbml0aW9uOiBHcmFwaERlZmluaXRpb25DbGFzcztcbiAgcHJpdmF0ZSBjdXJyZW50Tm9kZUlkOiBzdHJpbmc7XG4gIHByaXZhdGUgZ2V0VHJhbnNwb3J0OiAobm9kZUlkOiBzdHJpbmcpID0+IFNEUFBQU2Vzc2lvbkxpa2UgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgZGVmaW5pdGlvbjogR3JhcGhEZWZpbml0aW9uQ2xhc3MsIFxuICAgIGN1cnJlbnROb2RlSWQ6IHN0cmluZyxcbiAgICBnZXRUcmFuc3BvcnQ6IChub2RlSWQ6IHN0cmluZykgPT4gU0RQUFBTZXNzaW9uTGlrZSB8IHVuZGVmaW5lZFxuICApIHtcbiAgICB0aGlzLmRlZmluaXRpb24gPSBkZWZpbml0aW9uO1xuICAgIHRoaXMuY3VycmVudE5vZGVJZCA9IGN1cnJlbnROb2RlSWQ7XG4gICAgdGhpcy5nZXRUcmFuc3BvcnQgPSBnZXRUcmFuc3BvcnQ7XG4gIH1cblxuICAvKipcbiAgICogSW1wbGVtZW50IGFuIGFjdGlvbiBoYW5kbGVyXG4gICAqL1xuICBpbXBsZW1lbnRBY3Rpb248VEFjdGlvbk5hbWUgZXh0ZW5kcyBzdHJpbmc+KFxuICAgIGFjdGlvbk5hbWU6IFRBY3Rpb25OYW1lLFxuICAgIGhhbmRsZXI6IChcbiAgICAgIHBhcmFtczogYW55LFxuICAgICAgZXh0cmE6IGFueSxcbiAgICAgIHNpZ25hbD86IEFib3J0U2lnbmFsXG4gICAgKSA9PiBBc3luY0l0ZXJhYmxlPGFueT4gfCBQcm9taXNlPGFueT5cbiAgKTogdm9pZCB7XG4gICAgLy8gVmFsaWRhdGUgdGhhdCB0aGUgYWN0aW9uIGV4aXN0cyBpbiB0aGUgY3VycmVudCBub2RlJ3MgZGVmaW5pdGlvblxuICAgIGNvbnN0IG5vZGVEZWYgPSB0aGlzLmRlZmluaXRpb24uZ2V0Tm9kZSh0aGlzLmN1cnJlbnROb2RlSWQpO1xuICAgIGlmICghbm9kZURlZikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBOb2RlIGRlZmluaXRpb24gbm90IGZvdW5kIGZvciAke3RoaXMuY3VycmVudE5vZGVJZH1gKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgYWN0aW9uRGVmID0gbm9kZURlZi5hY3Rpb25zW2FjdGlvbk5hbWUgYXMgc3RyaW5nXTtcbiAgICBpZiAoIWFjdGlvbkRlZikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBBY3Rpb24gJHtTdHJpbmcoYWN0aW9uTmFtZSl9IG5vdCBmb3VuZCBmb3Igbm9kZSAke3RoaXMuY3VycmVudE5vZGVJZH1gKTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBoYW5kbGVyIHR5cGUgYmFzZWQgb24gc3RyZWFtIHByb3BlcnR5XG4gICAgdGhpcy52YWxpZGF0ZUhhbmRsZXJUeXBlKGFjdGlvbk5hbWUgYXMgc3RyaW5nLCBoYW5kbGVyLCBhY3Rpb25EZWYpO1xuXG4gICAgLy8gU3RvcmUgdGhlIG9yaWdpbmFsIGhhbmRsZXIgLSBtb3VudFRvIHdpbGwgaGFuZGxlIHRoZSB3cmFwcGluZ1xuICAgIHRoaXMuYWN0aW9uSGFuZGxlcnMuc2V0KGFjdGlvbk5hbWUgYXMgc3RyaW5nLCBoYW5kbGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZSB0aGF0IHRoZSBoYW5kbGVyIG1hdGNoZXMgdGhlIGV4cGVjdGVkIHR5cGUgYmFzZWQgb24gc3RyZWFtIHByb3BlcnR5XG4gICAqL1xuICBwcml2YXRlIHZhbGlkYXRlSGFuZGxlclR5cGUoXG4gICAgYWN0aW9uTmFtZTogc3RyaW5nLFxuICAgIGhhbmRsZXI6IChwYXJhbXM6IGFueSwgZXh0cmE6IGFueSwgc2lnbmFsPzogQWJvcnRTaWduYWwpID0+IEFzeW5jSXRlcmFibGU8YW55PiB8IFByb21pc2U8YW55PixcbiAgICBhY3Rpb25EZWY6IGFueVxuICApOiB2b2lkIHtcbiAgICBjb25zdCBpc1N0cmVhbWluZyA9IGFjdGlvbkRlZi5zdHJlYW0gPT09IHRydWU7XG4gICAgXG4gICAgLy8gQ3JlYXRlIGEgdGVzdCBjYWxsIHRvIGRldGVybWluZSB0aGUgaGFuZGxlcidzIHJldHVybiB0eXBlXG4gICAgY29uc3QgdGVzdEhhbmRsZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBoYW5kbGVyKHt9LCB7fSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoaXNTdHJlYW1pbmcpIHtcbiAgICAgICAgICAvLyBGb3Igc3RyZWFtaW5nIGFjdGlvbnMsIGhhbmRsZXIgbXVzdCByZXR1cm4gQXN5bmNJdGVyYWJsZSAoYXN5bmMgZ2VuZXJhdG9yKVxuICAgICAgICAgIGlmICghcmVzdWx0IHx8IHR5cGVvZiByZXN1bHQgIT09ICdvYmplY3QnIHx8ICEoU3ltYm9sLmFzeW5jSXRlcmF0b3IgaW4gcmVzdWx0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBY3Rpb24gJyR7YWN0aW9uTmFtZX0nIGhhcyBzdHJlYW06IHRydWUgYnV0IGhhbmRsZXIgZG9lcyBub3QgcmV0dXJuIEFzeW5jSXRlcmFibGUuIFVzZSBhc3luYyBmdW5jdGlvbiogZm9yIHN0cmVhbWluZyBhY3Rpb25zLmApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBGb3Igbm9uLXN0cmVhbWluZyBhY3Rpb25zLCBoYW5kbGVyIHNob3VsZCByZXR1cm4gUHJvbWlzZVxuICAgICAgICAgIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcgJiYgU3ltYm9sLmFzeW5jSXRlcmF0b3IgaW4gcmVzdWx0KSB7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBEb24ndCB2YWxpZGF0ZSBkdXJpbmcgdGhlIHRlc3QgY2FsbCAtIGp1c3QgY2hlY2sgdGhlIHN0cnVjdHVyZVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogSW1wbGVtZW50IGFuIGludGVybmFsIGFjdGlvbiBoYW5kbGVyIHdpdGhvdXQgdmFsaWRhdGlvbiBhZ2FpbnN0IGdyYXBoIGRlZmluaXRpb25cbiAgICogVGhpcyBpcyB1c2VkIGZvciBzeXN0ZW0tbGV2ZWwgYWN0aW9ucyBsaWtlIHN0b3JlIHN5bmNocm9uaXphdGlvblxuICAgKi9cbiAgaW1wbGVtZW50SW50ZXJuYWxBY3Rpb248VEFjdGlvbk5hbWUgZXh0ZW5kcyBzdHJpbmc+KFxuICAgIGFjdGlvbk5hbWU6IFRBY3Rpb25OYW1lLFxuICAgIGhhbmRsZXI6IChcbiAgICAgIHBhcmFtczogYW55LFxuICAgICAgZXh0cmE6IGFueSxcbiAgICAgIHNpZ25hbD86IEFib3J0U2lnbmFsXG4gICAgKSA9PiBBc3luY0l0ZXJhYmxlPGFueT4gfCBQcm9taXNlPGFueT5cbiAgKTogdm9pZCB7XG4gICAgLy8gU3RvcmUgdGhlIGhhbmRsZXIgd2l0aG91dCB2YWxpZGF0aW9uIC0gaW50ZXJuYWwgYWN0aW9ucyBkb24ndCBuZWVkIHRvIGJlIGluIGdyYXBoIGRlZlxuICAgIHRoaXMuYWN0aW9uSGFuZGxlcnMuc2V0KGFjdGlvbk5hbWUgYXMgc3RyaW5nLCBoYW5kbGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3VudCBhY3Rpb24gaGFuZGxlcnMgdG8gbWlkZGxld2FyZSBhbmQgc3RyZWFtUmVxdWVzdG9yXG4gICAqL1xuICBtb3VudFRvKHRyYW5zcG9ydDogU0RQUFBTZXNzaW9uTGlrZSk6IHZvaWQge1xuICAgIC8vIFJlZ2lzdGVyIGFsbCBhY3Rpb24gaGFuZGxlcnNcbiAgICBmb3IgKGNvbnN0IFthY3Rpb25OYW1lLCBoYW5kbGVyXSBvZiB0aGlzLmFjdGlvbkhhbmRsZXJzKSB7XG4gICAgICAvLyBHZXQgYWN0aW9uIGRlZmluaXRpb24gdG8gY2hlY2sgaWYgaXQncyBzdHJlYW1pbmcgb3Igbm90XG4gICAgICBjb25zdCBub2RlRGVmID0gdGhpcy5kZWZpbml0aW9uLmdldE5vZGUodGhpcy5jdXJyZW50Tm9kZUlkKTtcbiAgICAgIGNvbnN0IGFjdGlvbkRlZiA9IG5vZGVEZWY/LmFjdGlvbnNbYWN0aW9uTmFtZV07XG4gICAgICBcbiAgICAgIC8vIEZvciBpbnRlcm5hbCBhY3Rpb25zIChzdGFydGluZyB3aXRoIF9faW50ZXJuYWxfKSwgZGVmYXVsdCB0byBub24tc3RyZWFtaW5nXG4gICAgICBjb25zdCBpc0ludGVybmFsQWN0aW9uID0gYWN0aW9uTmFtZS5zdGFydHNXaXRoKCdfX2ludGVybmFsXycpO1xuICAgICAgY29uc3QgaXNTdHJlYW1pbmcgPSBpc0ludGVybmFsQWN0aW9uID8gZmFsc2UgOiAoYWN0aW9uRGVmPy5zdHJlYW0gPT09IHRydWUpO1xuXG4gICAgICBpZiAoaXNTdHJlYW1pbmcpIHtcbiAgICAgICAgLy8gUmVnaXN0ZXIgc3RyZWFtaW5nIGFjdGlvbiBoYW5kbGVyIHdpdGggU3RyZWFtUmVxdWVzdG9yXG4gICAgICAgIGNvbnN0IGFjdGlvblNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICAgICAgICBhY3Rpb246IHoubGl0ZXJhbChhY3Rpb25OYW1lKVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHRyYW5zcG9ydC5yZWdpc3RlclN0cmVhbVJlcXVlc3RvckhhbmRsZXIoYWN0aW9uU2NoZW1hLCBhc3luYyBmdW5jdGlvbiogKHBhcmFtczogYW55LCBleHRyYTogYW55LCBzaWduYWw/OiBBYm9ydFNpZ25hbCkge1xuICAgICAgICAgIGNvbnN0IGFjdHVhbFBhcmFtcyA9IHBhcmFtcy5kYXRhIHx8IHBhcmFtcztcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBoYW5kbGVyKGFjdHVhbFBhcmFtcywgZXh0cmEsIHNpZ25hbCk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0ID09PSAnb2JqZWN0JyAmJiBTeW1ib2wuYXN5bmNJdGVyYXRvciBpbiByZXN1bHQpIHtcbiAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiByZXN1bHQgYXMgQXN5bmNJdGVyYWJsZTxhbnk+KSB7XG4gICAgICAgICAgICAgIHlpZWxkIGl0ZW0gPT09IHVuZGVmaW5lZCA/IHt9IDogaXRlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgYXdhaXRlZFJlc3VsdCA9IGF3YWl0IHJlc3VsdDtcbiAgICAgICAgICAgIHlpZWxkIGF3YWl0ZWRSZXN1bHQgPT09IHVuZGVmaW5lZCA/IHt9IDogYXdhaXRlZFJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJlZ2lzdGVyIHByb3h5IGZvcndhcmQgaGFuZGxlciBmb3IgaW5kaXJlY3QgYWN0aW9uIGNhbGxzXG4gICAgdGhpcy5yZWdpc3RlclByb3h5Rm9yd2FyZEhhbmRsZXIodHJhbnNwb3J0KTtcbiAgICBcbiAgICAvLyBSZWdpc3RlciBkaXJlY3QgcmVxdWVzdCBoYW5kbGVyIGZvciBub24tc3RyZWFtaW5nIGFjdGlvbnNcbiAgICB0aGlzLnJlZ2lzdGVyRGlyZWN0UmVxdWVzdEhhbmRsZXJHZW5lcmljKHRyYW5zcG9ydCk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgdGhlIHByb3h5IGZvcndhcmQgaGFuZGxlciBmb3IgaW5kaXJlY3QgYWN0aW9uIGNhbGxzXG4gICAqL1xuICBwcml2YXRlIHJlZ2lzdGVyUHJveHlGb3J3YXJkSGFuZGxlcih0cmFuc3BvcnQ6IFNEUFBQU2Vzc2lvbkxpa2UpOiB2b2lkIHtcbiAgICBjb25zdCBwcm94eUZvcndhcmRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgICBhY3Rpb246IHoubGl0ZXJhbCgnX19wcm94eV9mb3J3YXJkJylcbiAgICB9KTtcblxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIFxuICAgIC8vIFJlZ2lzdGVyIHN0cmVhbWluZyBwcm94eSBmb3J3YXJkIGhhbmRsZXJcbiAgICB0cmFuc3BvcnQucmVnaXN0ZXJTdHJlYW1SZXF1ZXN0b3JIYW5kbGVyKHByb3h5Rm9yd2FyZFNjaGVtYSwgYXN5bmMgZnVuY3Rpb24qIChwYXJhbXM6IGFueSwgZXh0cmE6IGFueSwgc2lnbmFsPzogQWJvcnRTaWduYWwpIHtcbiAgICAgIGNvbnN0IHJlcXVlc3REYXRhID0gcGFyYW1zLmRhdGEgfHwgcGFyYW1zO1xuICAgICAgY29uc3QgeyB0YXJnZXROb2RlSWQsIHRhcmdldEFjdGlvbiwgdGFyZ2V0RGF0YSwgZm9yd2FyZFBhdGggfSA9IHJlcXVlc3REYXRhO1xuICAgICAgXG4gICAgICBpZiAoIWZvcndhcmRQYXRoIHx8IGZvcndhcmRQYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZm9yd2FyZCBwYXRoIGZvciBwcm94eSBhY3Rpb24nKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbmV4dE5vZGVJZCA9IGZvcndhcmRQYXRoWzBdO1xuICAgICAgY29uc3QgcmVtYWluaW5nUGF0aCA9IGZvcndhcmRQYXRoLnNsaWNlKDEpO1xuXG4gICAgICAvLyBJZiB0aGlzIGlzIHRoZSBmaW5hbCBkZXN0aW5hdGlvblxuICAgICAgaWYgKHJlbWFpbmluZ1BhdGgubGVuZ3RoID09PSAwICYmIG5leHROb2RlSWQgPT09IHNlbGYuY3VycmVudE5vZGVJZCkge1xuICAgICAgICAvLyBFeGVjdXRlIHRoZSBhY3Rpb24gbG9jYWxseVxuICAgICAgICBjb25zdCBoYW5kbGVyID0gc2VsZi5hY3Rpb25IYW5kbGVycy5nZXQodGFyZ2V0QWN0aW9uKTtcbiAgICAgICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBY3Rpb24gJHt0YXJnZXRBY3Rpb259IG5vdCBmb3VuZCBvbiBub2RlICR7c2VsZi5jdXJyZW50Tm9kZUlkfWApO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCByZXN1bHQgPSBoYW5kbGVyKHRhcmdldERhdGEsIGV4dHJhLCBzaWduYWwpO1xuICAgICAgICBpZiAocmVzdWx0ICYmIHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnICYmIFN5bWJvbC5hc3luY0l0ZXJhdG9yIGluIHJlc3VsdCkge1xuICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiByZXN1bHQgYXMgQXN5bmNJdGVyYWJsZTxhbnk+KSB7XG4gICAgICAgICAgICB5aWVsZCBpdGVtID09PSB1bmRlZmluZWQgPyB7fSA6IGl0ZW07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGF3YWl0ZWRSZXN1bHQgPSBhd2FpdCByZXN1bHQ7XG4gICAgICAgICAgeWllbGQgYXdhaXRlZFJlc3VsdCA9PT0gdW5kZWZpbmVkID8ge30gOiBhd2FpdGVkUmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gRm9yd2FyZCB0byBuZXh0IG5vZGUgaW4gcGF0aFxuICAgICAgaWYgKG5leHROb2RlSWQgPT09IHNlbGYuY3VycmVudE5vZGVJZCAmJiByZW1haW5pbmdQYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgbmV4dEhvcE5vZGVJZCA9IHJlbWFpbmluZ1BhdGhbMF07XG4gICAgICAgIGNvbnN0IG5leHRIb3BUcmFuc3BvcnQgPSBzZWxmLmdldFRyYW5zcG9ydChuZXh0SG9wTm9kZUlkKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChuZXh0SG9wVHJhbnNwb3J0KSB7XG4gICAgICAgICAgLy8gVXNlIFNEUFBQVHJhbnNwb3J0IGZvciBmb3J3YXJkaW5nIHN0cmVhbWluZyBhY3Rpb25zXG4gICAgICAgICAgY29uc3QgZm9yd2FyZGVkQWN0aW9uID0gYXdhaXQgbmV4dEhvcFRyYW5zcG9ydC5zdHJlYW1SZXF1ZXN0KHtcbiAgICAgICAgICAgIGFjdGlvbjogJ19fcHJveHlfZm9yd2FyZCcsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIHRhcmdldE5vZGVJZCxcbiAgICAgICAgICAgICAgdGFyZ2V0QWN0aW9uLFxuICAgICAgICAgICAgICB0YXJnZXREYXRhLFxuICAgICAgICAgICAgICBmb3J3YXJkUGF0aDogcmVtYWluaW5nUGF0aFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIHoub2JqZWN0KHt9KSwgc2lnbmFsKTtcblxuICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiBmb3J3YXJkZWRBY3Rpb24pIHtcbiAgICAgICAgICAgIHlpZWxkIGl0ZW0gPT09IHVuZGVmaW5lZCA/IHt9IDogaXRlbTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmb3J3YXJkIHRvIG5vZGUgJHtuZXh0SG9wTm9kZUlkfSAtIG5vIGNvbm5lY3Rpb24gYXZhaWxhYmxlYCk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBwcm94eSBmb3J3YXJkaW5nOiBjdXJyZW50IG5vZGUgJHtzZWxmLmN1cnJlbnROb2RlSWR9IG5vdCBpbiBwYXRoICR7Zm9yd2FyZFBhdGh9YCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCByZWdpc3RlcmVkIGFjdGlvbiBuYW1lc1xuICAgKi9cbiAgZ2V0UmVnaXN0ZXJlZEFjdGlvbnMoKTogc3RyaW5nW10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuYWN0aW9uSGFuZGxlcnMua2V5cygpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhbiBhY3Rpb24gaXMgcmVnaXN0ZXJlZFxuICAgKi9cbiAgaGFzQWN0aW9uKGFjdGlvbk5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmFjdGlvbkhhbmRsZXJzLmhhcyhhY3Rpb25OYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWN0aW9uIGhhbmRsZXIgYnkgbmFtZSAoZm9yIGludGVybmFsIHVzZSBieSBHcmFwaEluc3RhbmNlKVxuICAgKi9cbiAgZ2V0SGFuZGxlcihhY3Rpb25OYW1lOiBzdHJpbmcpOiAoKHBhcmFtczogYW55LCBleHRyYTogYW55LCBzaWduYWw/OiBBYm9ydFNpZ25hbCkgPT4gQXN5bmNJdGVyYWJsZTxhbnk+IHwgUHJvbWlzZTxhbnk+KSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuYWN0aW9uSGFuZGxlcnMuZ2V0KGFjdGlvbk5hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIGFsbCBhY3Rpb24gaGFuZGxlcnNcbiAgICovXG4gIGNsZWFyKCk6IHZvaWQge1xuICAgIHRoaXMuYWN0aW9uSGFuZGxlcnMuY2xlYXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBkaXJlY3QgcmVxdWVzdCBoYW5kbGVyIGZvciBhIHNwZWNpZmljIGFjdGlvbiAobm9uLXN0cmVhbWluZylcbiAgICovXG4gIHByaXZhdGUgcmVnaXN0ZXJEaXJlY3RSZXF1ZXN0SGFuZGxlcihcbiAgICBlbmRwb2ludDogYW55LCBcbiAgICBhY3Rpb25OYW1lOiBzdHJpbmcsIFxuICAgIGhhbmRsZXI6IChwYXJhbXM6IGFueSwgZXh0cmE6IGFueSwgc2lnbmFsPzogQWJvcnRTaWduYWwpID0+IEFzeW5jSXRlcmFibGU8YW55PiB8IFByb21pc2U8YW55PlxuICApOiB2b2lkIHtcbiAgICAvLyBUaGlzIGlzIGhhbmRsZWQgYnkgdGhlIGdlbmVyaWMgZGlyZWN0IHJlcXVlc3QgaGFuZGxlclxuICAgIC8vIEluZGl2aWR1YWwgYWN0aW9ucyBkb24ndCBuZWVkIHNlcGFyYXRlIGhhbmRsZXJzIHNpbmNlIHdlIHJvdXRlIGJ5IGFjdGlvbiBuYW1lXG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgZ2VuZXJpYyBkaXJlY3QgcmVxdWVzdCBoYW5kbGVyIGZvciBhbGwgbm9uLXN0cmVhbWluZyBhY3Rpb25zXG4gICAqL1xuICBwcml2YXRlIHJlZ2lzdGVyRGlyZWN0UmVxdWVzdEhhbmRsZXJHZW5lcmljKHRyYW5zcG9ydDogU0RQUFBTZXNzaW9uTGlrZSk6IHZvaWQge1xuICAgIGNvbnN0IGRpcmVjdFJlcXVlc3RTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgICBtZXRob2Q6IHoubGl0ZXJhbCgnc2RwcHAvZGlyZWN0UmVxdWVzdCcpLFxuICAgICAgcGFyYW1zOiB6Lm9iamVjdCh7XG4gICAgICAgIGFjdGlvbjogei5zdHJpbmcoKSxcbiAgICAgICAgZGF0YTogei5hbnkoKS5vcHRpb25hbCgpXG4gICAgICB9KVxuICAgIH0pO1xuXG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgdHJhbnNwb3J0LnNldFJlcXVlc3RIYW5kbGVyKGRpcmVjdFJlcXVlc3RTY2hlbWEsIGFzeW5jIChyZXF1ZXN0OiBhbnksIGV4dHJhOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IHsgYWN0aW9uLCBkYXRhIH0gPSByZXF1ZXN0LnBhcmFtcztcbiAgICAgIFxuICAgICAgLy8gSGFuZGxlIHByb3h5IGZvcndhcmRpbmcgZm9yIGRpcmVjdCByZXF1ZXN0c1xuICAgICAgaWYgKGFjdGlvbiA9PT0gJ19fcHJveHlfZm9yd2FyZCcpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHNlbGYuaGFuZGxlRGlyZWN0UHJveHlGb3J3YXJkKGRhdGEsIGV4dHJhKTtcbiAgICAgIH1cblxuICAgICAgLy8gSGFuZGxlIHJlZ3VsYXIgZGlyZWN0IGFjdGlvbiBjYWxsc1xuICAgICAgY29uc3QgYWN0aW9uSGFuZGxlciA9IHNlbGYuYWN0aW9uSGFuZGxlcnMuZ2V0KGFjdGlvbik7XG4gICAgICBpZiAoIWFjdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBY3Rpb24gJHthY3Rpb259IG5vdCBmb3VuZCBvbiBub2RlICR7c2VsZi5jdXJyZW50Tm9kZUlkfWApO1xuICAgICAgfVxuXG4gICAgICAvLyBDYWxsIHRoZSBoYW5kbGVyIGFuZCByZXR1cm4gdGhlIHJlc3VsdCBkaXJlY3RseSAobm8gc3RyZWFtaW5nKVxuICAgICAgY29uc3QgcmVzdWx0ID0gYWN0aW9uSGFuZGxlcihkYXRhLCBleHRyYSk7XG4gICAgICBcbiAgICAgIC8vIElmIGl0J3MgYSBwcm9taXNlLCBhd2FpdCBpdFxuICAgICAgY29uc3QgYXdhaXRlZFJlc3VsdCA9IGF3YWl0IHJlc3VsdDtcbiAgICAgIC8vIElmIHRoZSByZXN1bHQgaXMgdW5kZWZpbmVkLCByZXR1cm4gZW1wdHkgb2JqZWN0XG4gICAgICByZXR1cm4gYXdhaXRlZFJlc3VsdCA9PT0gdW5kZWZpbmVkID8ge30gOiBhd2FpdGVkUmVzdWx0O1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBkaXJlY3QgcHJveHkgZm9yd2FyZCBmb3Igbm9uLXN0cmVhbWluZyBhY3Rpb25zXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGhhbmRsZURpcmVjdFByb3h5Rm9yd2FyZChyZXF1ZXN0RGF0YTogYW55LCBleHRyYTogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICBjb25zdCB7IHRhcmdldE5vZGVJZCwgdGFyZ2V0QWN0aW9uLCB0YXJnZXREYXRhLCBmb3J3YXJkUGF0aCB9ID0gcmVxdWVzdERhdGE7XG4gICAgXG4gICAgaWYgKCFmb3J3YXJkUGF0aCB8fCBmb3J3YXJkUGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBmb3J3YXJkIHBhdGggZm9yIHByb3h5IGFjdGlvbicpO1xuICAgIH1cblxuICAgIGNvbnN0IG5leHROb2RlSWQgPSBmb3J3YXJkUGF0aFswXTtcbiAgICBjb25zdCByZW1haW5pbmdQYXRoID0gZm9yd2FyZFBhdGguc2xpY2UoMSk7XG5cbiAgICAvLyBJZiB0aGlzIGlzIHRoZSBmaW5hbCBkZXN0aW5hdGlvblxuICAgIGlmIChyZW1haW5pbmdQYXRoLmxlbmd0aCA9PT0gMCAmJiBuZXh0Tm9kZUlkID09PSB0aGlzLmN1cnJlbnROb2RlSWQpIHtcbiAgICAgIC8vIEV4ZWN1dGUgdGhlIGFjdGlvbiBsb2NhbGx5XG4gICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5hY3Rpb25IYW5kbGVycy5nZXQodGFyZ2V0QWN0aW9uKTtcbiAgICAgIGlmICghaGFuZGxlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFjdGlvbiAke3RhcmdldEFjdGlvbn0gbm90IGZvdW5kIG9uIG5vZGUgJHt0aGlzLmN1cnJlbnROb2RlSWR9YCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdhY3Rpb24gY2FsbGVkJywgdGFyZ2V0QWN0aW9uLCAndG86JywgdGhpcy5jdXJyZW50Tm9kZUlkLCAndG86JywgbmV4dE5vZGVJZCwgJ2RhdGE6JywgdGFyZ2V0RGF0YSk7XG4gICAgICBjb25zdCByZXN1bHQgPSBoYW5kbGVyKHRhcmdldERhdGEsIGV4dHJhKTtcbiAgICAgIGNvbnN0IGF3YWl0ZWRSZXN1bHQgPSBhd2FpdCByZXN1bHQ7XG4gICAgICAvLyBJZiB0aGUgcmVzdWx0IGlzIHVuZGVmaW5lZCwgcmV0dXJuIGVtcHR5IG9iamVjdFxuICAgICAgcmV0dXJuIGF3YWl0ZWRSZXN1bHQgPT09IHVuZGVmaW5lZCA/IHt9IDogYXdhaXRlZFJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBGb3J3YXJkIHRvIG5leHQgbm9kZSBpbiBwYXRoXG4gICAgaWYgKG5leHROb2RlSWQgPT09IHRoaXMuY3VycmVudE5vZGVJZCAmJiByZW1haW5pbmdQYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IG5leHRIb3BOb2RlSWQgPSByZW1haW5pbmdQYXRoWzBdO1xuICAgICAgY29uc3QgbmV4dEhvcFRyYW5zcG9ydCA9IHRoaXMuZ2V0VHJhbnNwb3J0KG5leHRIb3BOb2RlSWQpO1xuICAgICAgXG4gICAgICBpZiAobmV4dEhvcFRyYW5zcG9ydCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgbmV4dEhvcFRyYW5zcG9ydC5yZXF1ZXN0KHtcbiAgICAgICAgICBtZXRob2Q6ICdzZHBwcC9kaXJlY3RSZXF1ZXN0JyxcbiAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIGFjdGlvbjogJ19fcHJveHlfZm9yd2FyZCcsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIHRhcmdldE5vZGVJZCxcbiAgICAgICAgICAgICAgdGFyZ2V0QWN0aW9uLFxuICAgICAgICAgICAgICB0YXJnZXREYXRhLFxuICAgICAgICAgICAgICBmb3J3YXJkUGF0aDogcmVtYWluaW5nUGF0aFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgei5hbnkoKSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGZvcndhcmQgdG8gbm9kZSAke25leHRIb3BOb2RlSWR9IC0gbm8gY29ubmVjdGlvbiBhdmFpbGFibGVgKTtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcHJveHkgZm9yd2FyZGluZzogY3VycmVudCBub2RlICR7dGhpcy5jdXJyZW50Tm9kZUlkfSBub3QgaW4gcGF0aCAke2ZvcndhcmRQYXRofWApO1xuICB9XG59IiwiaW1wb3J0IHR5cGUgeyBHcmFwaERlZmluaXRpb25DbGFzcyB9IGZyb20gJy4vR3JhcGhEZWZpbml0aW9uLnRzJztcblxuLyoqXG4gKiBNYW5hZ2VzIHBhdGggZmluZGluZyBhbmQgY29ubmVjdGlvbiB0cmFja2luZyBmb3IgZ3JhcGggaW5zdGFuY2VzXG4gKi9cbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uTWFuYWdlciB7XG4gIHByaXZhdGUgZGVmaW5pdGlvbjogR3JhcGhEZWZpbml0aW9uQ2xhc3M7XG4gIHByaXZhdGUgY3VycmVudE5vZGVJZDogc3RyaW5nO1xuICBwcml2YXRlIGNvbm5lY3RlZE5vZGVzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBkZWZpbml0aW9uOiBHcmFwaERlZmluaXRpb25DbGFzcyxcbiAgICBjdXJyZW50Tm9kZUlkOiBzdHJpbmdcbiAgKSB7XG4gICAgdGhpcy5kZWZpbml0aW9uID0gZGVmaW5pdGlvbjtcbiAgICB0aGlzLmN1cnJlbnROb2RlSWQgPSBjdXJyZW50Tm9kZUlkO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hcmsgYSBub2RlIGFzIGNvbm5lY3RlZFxuICAgKi9cbiAgbWFya0Nvbm5lY3RlZChub2RlSWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuY29ubmVjdGVkTm9kZXMuYWRkKG5vZGVJZCk7XG4gIH1cblxuICAvKipcbiAgICogTWFyayBhIG5vZGUgYXMgZGlzY29ubmVjdGVkXG4gICAqL1xuICBtYXJrRGlzY29ubmVjdGVkKG5vZGVJZDogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5jb25uZWN0ZWROb2Rlcy5kZWxldGUobm9kZUlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIG5vZGUgaXMgY29ubmVjdGVkXG4gICAqL1xuICBpc0Nvbm5lY3RlZChub2RlSWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvbm5lY3RlZE5vZGVzLmhhcyhub2RlSWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmQgcGF0aCBiZXR3ZWVuIHR3byBub2RlcyB1c2luZyBCRlNcbiAgICovXG4gIGZpbmRQYXRoKGZyb21Ob2RlSWQ6IHN0cmluZywgdG9Ob2RlSWQ6IHN0cmluZyk6IHN0cmluZ1tdIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAoZnJvbU5vZGVJZCA9PT0gdG9Ob2RlSWQpIHtcbiAgICAgIHJldHVybiBbZnJvbU5vZGVJZF07XG4gICAgfVxuXG4gICAgY29uc3QgdmlzaXRlZCA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgIGNvbnN0IHF1ZXVlOiB7IG5vZGVJZDogc3RyaW5nOyBwYXRoOiBzdHJpbmdbXSB9W10gPSBbeyBub2RlSWQ6IGZyb21Ob2RlSWQsIHBhdGg6IFtmcm9tTm9kZUlkXSB9XTtcbiAgICBcbiAgICB3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgeyBub2RlSWQsIHBhdGggfSA9IHF1ZXVlLnNoaWZ0KCkhO1xuICAgICAgXG4gICAgICBpZiAodmlzaXRlZC5oYXMobm9kZUlkKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZpc2l0ZWQuYWRkKG5vZGVJZCk7XG4gICAgICBcbiAgICAgIGNvbnN0IG5laWdoYm9ycyA9IHRoaXMuZGVmaW5pdGlvbi5nZXROZWlnaGJvcnMobm9kZUlkKTtcbiAgICAgIGZvciAoY29uc3QgbmVpZ2hib3Igb2YgbmVpZ2hib3JzKSB7XG4gICAgICAgIGlmIChuZWlnaGJvciA9PT0gdG9Ob2RlSWQpIHtcbiAgICAgICAgICByZXR1cm4gWy4uLnBhdGgsIG5laWdoYm9yXTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKCF2aXNpdGVkLmhhcyhuZWlnaGJvcikpIHtcbiAgICAgICAgICBxdWV1ZS5wdXNoKHsgbm9kZUlkOiBuZWlnaGJvciwgcGF0aDogWy4uLnBhdGgsIG5laWdoYm9yXSB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gdW5kZWZpbmVkOyAvLyBObyBwYXRoIGZvdW5kXG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBjb25uZWN0ZWQgbm9kZSBJRHNcbiAgICovXG4gIGdldENvbm5lY3RlZE5vZGVJZHMoKTogc3RyaW5nW10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuY29ubmVjdGVkTm9kZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbnVtYmVyIG9mIGNvbm5lY3Rpb25zXG4gICAqL1xuICBnZXRDb25uZWN0aW9uQ291bnQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jb25uZWN0ZWROb2Rlcy5zaXplO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgbm9kZXMgcmVhY2hhYmxlIGZyb20gdGhlIGN1cnJlbnQgbm9kZVxuICAgKiBVc2VzIEJGUyB0byBmaW5kIGFsbCBub2RlcyB0aGF0IGNhbiBiZSByZWFjaGVkIHRocm91Z2ggZGlyZWN0IG9yIGluZGlyZWN0IGNvbm5lY3Rpb25zXG4gICAqL1xuICBnZXRBbGxSZWFjaGFibGVOb2RlcygpOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgcmVhY2hhYmxlID0gbmV3IFNldDxzdHJpbmc+KCk7XG4gICAgY29uc3QgdmlzaXRlZCA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgIGNvbnN0IHF1ZXVlOiBzdHJpbmdbXSA9IFt0aGlzLmN1cnJlbnROb2RlSWRdO1xuXG4gICAgdmlzaXRlZC5hZGQodGhpcy5jdXJyZW50Tm9kZUlkKTtcblxuICAgIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBjdXJyZW50Tm9kZSA9IHF1ZXVlLnNoaWZ0KCkhO1xuXG4gICAgICAvLyBHZXQgYWxsIG5laWdoYm9ycyBvZiB0aGUgY3VycmVudCBub2RlIGZyb20gdGhlIGdyYXBoIGRlZmluaXRpb25cbiAgICAgIGNvbnN0IG5laWdoYm9ycyA9IHRoaXMuZGVmaW5pdGlvbi5nZXROZWlnaGJvcnMoY3VycmVudE5vZGUpO1xuXG4gICAgICBmb3IgKGNvbnN0IG5laWdoYm9yIG9mIG5laWdoYm9ycykge1xuICAgICAgICBpZiAoIXZpc2l0ZWQuaGFzKG5laWdoYm9yKSkge1xuICAgICAgICAgIHZpc2l0ZWQuYWRkKG5laWdoYm9yKTtcblxuICAgICAgICAgIC8vIE9ubHkgY29uc2lkZXIgbm9kZXMgdGhhdCB3ZSBoYXZlIGRpcmVjdCBjb25uZWN0aW9ucyB0b1xuICAgICAgICAgIC8vIG9yIG5vZGVzIHRoYXQgY2FuIGJlIHJlYWNoZWQgdGhyb3VnaCBjb25uZWN0ZWQgbmVpZ2hib3JzXG4gICAgICAgICAgaWYgKHRoaXMuY29ubmVjdGVkTm9kZXMuaGFzKG5laWdoYm9yKSB8fCB0aGlzLmNhblJlYWNoVGhyb3VnaENvbm5lY3RlZE5vZGVzKG5laWdoYm9yLCB2aXNpdGVkKSkge1xuICAgICAgICAgICAgcmVhY2hhYmxlLmFkZChuZWlnaGJvcik7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKG5laWdoYm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gQXJyYXkuZnJvbShyZWFjaGFibGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgbm9kZSBjYW4gYmUgcmVhY2hlZCB0aHJvdWdoIGNvbm5lY3RlZCBub2Rlc1xuICAgKi9cbiAgcHJpdmF0ZSBjYW5SZWFjaFRocm91Z2hDb25uZWN0ZWROb2Rlcyh0YXJnZXROb2RlOiBzdHJpbmcsIHZpc2l0ZWQ6IFNldDxzdHJpbmc+KTogYm9vbGVhbiB7XG4gICAgLy8gVXNlIHRoZSBleGlzdGluZyBmaW5kUGF0aCBtZXRob2QgYnV0IG9ubHkgY29uc2lkZXIgY29ubmVjdGVkIG5vZGVzXG4gICAgY29uc3QgcGF0aCA9IHRoaXMuZmluZFBhdGgodGhpcy5jdXJyZW50Tm9kZUlkLCB0YXJnZXROb2RlKTtcbiAgICBpZiAoIXBhdGggfHwgcGF0aC5sZW5ndGggPD0gMSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIGFsbCBpbnRlcm1lZGlhdGUgbm9kZXMgaW4gdGhlIHBhdGggYXJlIGNvbm5lY3RlZFxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcGF0aC5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIGlmICghdGhpcy5jb25uZWN0ZWROb2Rlcy5oYXMocGF0aFtpXSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIGFsbCBjb25uZWN0aW9uc1xuICAgKi9cbiAgY2xlYXIoKTogdm9pZCB7XG4gICAgdGhpcy5jb25uZWN0ZWROb2Rlcy5jbGVhcigpO1xuICB9XG59IiwiaW1wb3J0IHsgY3JlYXRlU3RvcmUgfSBmcm9tICd6dXN0YW5kL3ZhbmlsbGEnO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgeyBHcmFwaERlZmluaXRpb25DbGFzcyB9IGZyb20gJy4vR3JhcGhEZWZpbml0aW9uLnRzJztcbmltcG9ydCB0eXBlIHsgXG4gIEdyYXBoSW5zdGFuY2UsIFxuICBOb2RlUHJveHksIFxuICBOb2RlU3RvcmUsXG4gIEdyYXBoRGVmaW5pdGlvbixcbiAgRXh0cmFjdEFsbEJyb2FkY2FzdE5hbWVzLFxuICBFeHRyYWN0QWxsQnJvYWRjYXN0UGF5bG9hZFxufSBmcm9tICcuL3R5cGVzLnRzJztcbmltcG9ydCB7IE5vZGVQcm94eUltcGwgfSBmcm9tICcuL05vZGVQcm94eS50cyc7XG5pbXBvcnQgeyBiaW5kU3RvcmVDb25zdW1lclNpZGVHcmFwaCwgYmluZFN0b3JlUHJvZHVjZXJTaWRlR3JhcGggfSBmcm9tICcuL1N0b3JlQmluZGVyL1N0b3JlQmluZGVyLnRzJztcbmltcG9ydCB0eXBlIHsgU0RQUFBTZXNzaW9uTGlrZSB9IGZyb20gJy4uL3Nlc3Npb25zL2ludGVyZmFjZXMvU0RQUFBTZXNzaW9uTGlrZS50cyc7XG5pbXBvcnQgeyBNQ1BTRFBQUFNlc3Npb25BZGFwdG9yIH0gZnJvbSAnLi4vc2Vzc2lvbnMvTUNQU0RQUFBBZGFwdG9yL01DUFNEUFBQU2Vzc2lvbkFkYXB0b3IudHMnO1xuaW1wb3J0IHsgQnJvYWRjYXN0TWFuYWdlciB9IGZyb20gJy4vQnJvYWRjYXN0TWFuYWdlci50cyc7XG5pbXBvcnQgeyBBY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi9BY3Rpb25NYW5hZ2VyLnRzJztcbmltcG9ydCB7IENvbm5lY3Rpb25NYW5hZ2VyIH0gZnJvbSAnLi9Db25uZWN0aW9uTWFuYWdlci50cyc7XG5cbmV4cG9ydCBjbGFzcyBHcmFwaEluc3RhbmNlSW1wbDxcbiAgVEdyYXBoRGVmIGV4dGVuZHMgR3JhcGhEZWZpbml0aW9uID0gR3JhcGhEZWZpbml0aW9uLFxuICBUQ3VycmVudE5vZGVJZCBleHRlbmRzIGtleW9mIFRHcmFwaERlZlsnbm9kZXMnXSA9IGtleW9mIFRHcmFwaERlZlsnbm9kZXMnXVxuPiBpbXBsZW1lbnRzIEdyYXBoSW5zdGFuY2U8VEdyYXBoRGVmLCBUQ3VycmVudE5vZGVJZD4ge1xuICBwcml2YXRlIGRlZmluaXRpb246IEdyYXBoRGVmaW5pdGlvbkNsYXNzO1xuICBwcml2YXRlIGN1cnJlbnROb2RlSWQ6IHN0cmluZztcbiAgcHJpdmF0ZSBub2RlU3RvcmVzOiBNYXA8c3RyaW5nLCBOb2RlU3RvcmU+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIG5vZGVQcm94aWVzOiBNYXA8c3RyaW5nLCBOb2RlUHJveHk+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIGJyb2FkY2FzdE1hbmFnZXI6IEJyb2FkY2FzdE1hbmFnZXI7XG4gIHByaXZhdGUgYWN0aW9uTWFuYWdlcjogQWN0aW9uTWFuYWdlcjtcbiAgcHJpdmF0ZSBjb25uZWN0aW9uTWFuYWdlcjogQ29ubmVjdGlvbk1hbmFnZXI7XG4gIFxuICAvLyDnu5/kuIDkvb/nlKhNQ1BTRFBQUFNlc3Npb25BZGFwdG9y77yM5ZCM5pe25YW35aSHbWlkZGxld2FyZeWSjHN0cmVhbWluZ+iDveWKm1xuICBwcml2YXRlIG5vZGVUcmFuc3BvcnRzOiBNYXA8c3RyaW5nLCBTRFBQUFNlc3Npb25MaWtlPiA9IG5ldyBNYXAoKTtcblxuICBjb25zdHJ1Y3RvcihkZWZpbml0aW9uOiBHcmFwaERlZmluaXRpb25DbGFzcywgbm9kZUlkOiBzdHJpbmcpIHtcbiAgICB0aGlzLmRlZmluaXRpb24gPSBkZWZpbml0aW9uO1xuICAgIHRoaXMuY3VycmVudE5vZGVJZCA9IG5vZGVJZDtcblxuICAgIC8vIEluaXRpYWxpemUgc3RvcmVzIGZvciBhbGwgbm9kZXNcbiAgICB0aGlzLmluaXRpYWxpemVOb2RlU3RvcmVzKCk7XG5cbiAgICAvLyBJbml0aWFsaXplIG1hbmFnZXJzXG4gICAgdGhpcy5icm9hZGNhc3RNYW5hZ2VyID0gbmV3IEJyb2FkY2FzdE1hbmFnZXIoKTtcbiAgICB0aGlzLmFjdGlvbk1hbmFnZXIgPSBuZXcgQWN0aW9uTWFuYWdlcihcbiAgICAgIGRlZmluaXRpb24sIFxuICAgICAgbm9kZUlkLCBcbiAgICAgIChub2RlSWQ6IHN0cmluZykgPT4gdGhpcy5nZXRUcmFuc3BvcnRJbnRlcm5hbChub2RlSWQpXG4gICAgKTtcbiAgICB0aGlzLmNvbm5lY3Rpb25NYW5hZ2VyID0gbmV3IENvbm5lY3Rpb25NYW5hZ2VyKFxuICAgICAgZGVmaW5pdGlvbixcbiAgICAgIG5vZGVJZFxuICAgICk7XG5cblxuICAgIC8vIFNldHVwIGdyYXBoLWJhc2VkIHN0b3JlIHN5bmNocm9uaXphdGlvblxuICAgIHRoaXMuc2V0dXBHcmFwaFN0b3JlU3luYygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgWnVzdGFuZCBzdG9yZXMgZm9yIGFsbCBub2RlcyBiYXNlZCBvbiB0aGVpciBzY2hlbWFzXG4gICAqL1xuICBwcml2YXRlIGluaXRpYWxpemVOb2RlU3RvcmVzKCkge1xuICAgIGZvciAoY29uc3Qgbm9kZUlkIG9mIHRoaXMuZGVmaW5pdGlvbi5nZXROb2RlSWRzKCkpIHtcbiAgICAgIGNvbnN0IG5vZGVEZWYgPSB0aGlzLmRlZmluaXRpb24uZ2V0Tm9kZShub2RlSWQpO1xuICAgICAgaWYgKG5vZGVEZWYgJiYgbm9kZURlZi5zdG9yZSkge1xuICAgICAgICAvLyBQYXJzZSB0aGUgc2NoZW1hIHRvIGdldCBkZWZhdWx0IHZhbHVlc1xuICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWVzID0gdGhpcy5nZXREZWZhdWx0VmFsdWVzRnJvbVNjaGVtYShub2RlRGVmLnN0b3JlKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENyZWF0ZSBzdG9yZSB3aXRoIHNjaGVtYS1iYXNlZCBkZWZhdWx0IHN0YXRlXG4gICAgICAgIGNvbnN0IHN0b3JlID0gY3JlYXRlU3RvcmUoKCkgPT4gZGVmYXVsdFZhbHVlcyk7XG4gICAgICAgIHRoaXMubm9kZVN0b3Jlcy5zZXQobm9kZUlkLCBzdG9yZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEV4dHJhY3QgZGVmYXVsdCB2YWx1ZXMgZnJvbSBab2Qgc2NoZW1hXG4gICAqL1xuICBwcml2YXRlIGdldERlZmF1bHRWYWx1ZXNGcm9tU2NoZW1hKHNjaGVtYTogYW55KTogYW55IHtcbiAgICBpZiAoIXNjaGVtYSkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cblxuICAgIC8vIFVzZSBab2QncyBidWlsdC1pbiBwYXJzaW5nIHdpdGggZW1wdHkgb2JqZWN0IHRvIGdldCBkZWZhdWx0c1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gc2NoZW1hLnBhcnNlKHt9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gSWYgcGFyc2luZyBmYWlscywgdHJ5IG1hbnVhbCBleHRyYWN0aW9uXG4gICAgICByZXR1cm4gdGhpcy5tYW51YWxseUV4dHJhY3REZWZhdWx0cyhzY2hlbWEpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNYW51YWxseSBleHRyYWN0IGRlZmF1bHRzIGFzIGZhbGxiYWNrXG4gICAqL1xuICBwcml2YXRlIG1hbnVhbGx5RXh0cmFjdERlZmF1bHRzKHNjaGVtYTogYW55KTogYW55IHtcbiAgICBpZiAoIXNjaGVtYSB8fCAhc2NoZW1hLmRlZikge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBab2REZWZhdWx0XG4gICAgaWYgKHNjaGVtYS5kZWYudHlwZSA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSBzY2hlbWEuZGVmLmRlZmF1bHRWYWx1ZTtcbiAgICAgIHJldHVybiB0eXBlb2YgZGVmYXVsdFZhbHVlID09PSAnZnVuY3Rpb24nID8gZGVmYXVsdFZhbHVlKCkgOiBkZWZhdWx0VmFsdWU7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIFpvZE9iamVjdFxuICAgIGlmIChzY2hlbWEuZGVmLnR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICBjb25zdCByZXN1bHQ6IGFueSA9IHt9O1xuICAgICAgbGV0IHNoYXBlO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBzaGFwZSA9IHNjaGVtYS5kZWYuc2hhcGU7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChzaGFwZSkge1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIGZpZWxkU2NoZW1hXSBvZiBPYmplY3QuZW50cmllcyhzaGFwZSkpIHtcbiAgICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSB0aGlzLmdldERlZmF1bHRWYWx1ZUZyb21GaWVsZChmaWVsZFNjaGVtYSBhcyBhbnkpO1xuICAgICAgICAgIGlmIChkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgZGVmYXVsdCB2YWx1ZSBmcm9tIGluZGl2aWR1YWwgZmllbGQgc2NoZW1hXG4gICAqL1xuICBwcml2YXRlIGdldERlZmF1bHRWYWx1ZUZyb21GaWVsZChzY2hlbWE6IGFueSk6IGFueSB7XG4gICAgaWYgKCFzY2hlbWEpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLy8gVHJ5IHRvIHBhcnNlIHdpdGggZW1wdHkgaW5wdXQgdG8gZ2V0IGRlZmF1bHRzXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBzY2hlbWEucGFyc2UodW5kZWZpbmVkKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIC8vIElmIHRoYXQgZmFpbHMsIHRyeSBtYW51YWwgZXh0cmFjdGlvblxuICAgICAgcmV0dXJuIHRoaXMubWFudWFsbHlFeHRyYWN0RGVmYXVsdHMoc2NoZW1hKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29ubmVjdCB0byBhIG5vZGUgdXNpbmcgTUNQTWlkZGxld2FyZVxuICAgKi9cbiAgYXN5bmMgY29ubmVjdChub2RlSWQ6IHN0cmluZywgdHJhbnNwb3J0OiBTRFBQUFNlc3Npb25MaWtlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8g6aqM6K+B6L655a2Y5ZyoXG4gICAgaWYgKCF0aGlzLmRlZmluaXRpb24uaGFzRWRnZSh0aGlzLmN1cnJlbnROb2RlSWQsIG5vZGVJZCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gZWRnZSBkZWZpbmVkIGZyb20gJHt0aGlzLmN1cnJlbnROb2RlSWR9IHRvICR7bm9kZUlkfWApO1xuICAgIH1cblxuICAgIC8vIOajgOafpeaYr+WQpuW3sui/nuaOpVxuICAgIGlmICh0aGlzLm5vZGVUcmFuc3BvcnRzLmhhcyhub2RlSWQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEFscmVhZHkgY29ubmVjdGVkIHRvIG5vZGUgJHtub2RlSWR9YCk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIE1DUFNEUFBQU2Vzc2lvbkFkYXB0b3Ig6ZuG5oiQ5LqGTUNQTWlkZGxld2FyZeWSjFN0cmVhbVJlcXVlc3RvcueahOaJgOacieiDveWKm1xuICAgICAgLy8gMS4g5a2Y5YKodHJhbnNwb3J0XG4gICAgICB0aGlzLm5vZGVUcmFuc3BvcnRzLnNldChub2RlSWQsIHRyYW5zcG9ydCk7XG4gICAgICBcbiAgICAgIC8vIDIuIOagh+iusOS4uuW3sui/nuaOpVxuICAgICAgdGhpcy5jb25uZWN0aW9uTWFuYWdlci5tYXJrQ29ubmVjdGVkKG5vZGVJZCk7XG4gICAgICBcbiAgICAgIC8vIDMuIHNldHVwIG5vZGUgYmluZGluZ3MgKOWMheWQq2FjdGlvbuWSjGJyb2FkY2FzdCBoYW5kbGVycylcbiAgICAgIHRoaXMuc2V0dXBOb2RlQmluZGluZ3Mobm9kZUlkLCB0cmFuc3BvcnQpO1xuICAgICAgXG4gICAgICAvLyA2LiBUcmlnZ2VyIHN0b3JlIHN5bmNocm9uaXphdGlvbiBmb3IgdGhlIG5ld2x5IGNvbm5lY3RlZCBub2RlXG4gICAgICBhd2FpdCB0aGlzLnN5bmNTdG9yZXNUb05ld0Nvbm5lY3Rpb24obm9kZUlkKTtcblxuICAgICAgLy8gNy4gVHJpZ2dlciBpbml0aWFsIHN0YXRlIHJlcXVlc3QgZm9yIHRoZSBuZXdseSBjb25uZWN0ZWQgbm9kZSdzIHN0b3JlXG4gICAgICBhd2FpdCB0aGlzLnJlcXVlc3RJbml0aWFsU3RhdGVGb3JOb2RlKG5vZGVJZCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMuY2xlYW51cENvbm5lY3Rpb24obm9kZUlkKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNjb25uZWN0IGZyb20gYSBub2RlXG4gICAqL1xuICBkaXNjb25uZWN0KG5vZGVJZDogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5jbGVhbnVwQ29ubmVjdGlvbihub2RlSWQpO1xuICB9XG5cblxuICAvKipcbiAgICogU3luYyBzdG9yZXMgdG8gYSBuZXdseSBjb25uZWN0ZWQgbm9kZVxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBzeW5jU3RvcmVzVG9OZXdDb25uZWN0aW9uKG5vZGVJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gV2FpdCBhIHNob3J0IGRlbGF5IHRvIGVuc3VyZSB0aGUgY29ubmVjdGlvbiBpcyBmdWxseSBlc3RhYmxpc2hlZFxuICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDApKTtcbiAgICBcbiAgICAvLyBCcm9hZGNhc3QgY3VycmVudCBzdGF0ZSBvZiBhbGwgc3RvcmVzIHdoZXJlIHdlIGFyZSB0aGUgcHJvZHVjZXJcbiAgICBmb3IgKGNvbnN0IFtzdG9yZU5vZGVJZCwgc3RvcmVdIG9mIHRoaXMubm9kZVN0b3Jlcykge1xuICAgICAgLy8gT25seSBicm9hZGNhc3Qgc3RvcmVzIHdoZXJlIHdlIGFyZSB0aGUgcHJvZHVjZXIgKG91ciBvd24gc3RvcmUpXG4gICAgICBpZiAoc3RvcmVOb2RlSWQgPT09IHRoaXMuY3VycmVudE5vZGVJZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IHRoaXMuYnJvYWRjYXN0TWFuYWdlci5icm9hZGNhc3QoYHN0b3JlOnVwZGF0ZToke3N0b3JlTm9kZUlkfWAsIHtcbiAgICAgICAgICAgIHN0b3JlTmFtZTogc3RvcmVOb2RlSWQsXG4gICAgICAgICAgICBzb3VyY2VOb2RlSWQ6IHRoaXMuY3VycmVudE5vZGVJZCxcbiAgICAgICAgICAgIHN0YXRlVXBkYXRlOiBzdG9yZS5nZXRTdGF0ZSgpLFxuICAgICAgICAgICAgaXNJbml0aWFsU3RhdGU6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAvLyBTaWxlbnQgZXJyb3IgaGFuZGxpbmdcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBBbHNvIHRyaWdnZXIgdGhlIGNvbm5lY3RlZCBub2RlIHRvIHNlbmQgaXRzIGN1cnJlbnQgc3RhdGUgaWYgaXQncyBhIHByb2R1Y2VyXG4gICAgLy8gVGhpcyBpcyBpbXBvcnRhbnQgZm9yIHRoZSBjYXNlIHdoZXJlIHN0YXRlIHdhcyBzZXQgYmVmb3JlIGNvbm5lY3Rpb25cbiAgICB0cnkge1xuICAgICAgLy8gVXNlIGJyb2FkY2FzdCB0byBub3RpZnkgdGhlIG90aGVyIG5vZGUgdGhhdCB3ZSd2ZSBjb25uZWN0ZWRcbiAgICAgIGF3YWl0IHRoaXMuYnJvYWRjYXN0TWFuYWdlci5icm9hZGNhc3QoYF9fY29ubmVjdGlvbl9lc3RhYmxpc2hlZGAsIHtcbiAgICAgICAgZnJvbU5vZGU6IHRoaXMuY3VycmVudE5vZGVJZCxcbiAgICAgICAgdG9Ob2RlOiBub2RlSWRcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBTaWxlbnQgZXJyb3IgaGFuZGxpbmdcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVxdWVzdCBpbml0aWFsIHN0YXRlIGZvciBhbGwgbm9kZXMgcmVhY2hhYmxlIGFmdGVyIGVzdGFibGlzaGluZyBhIG5ldyBjb25uZWN0aW9uXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHJlcXVlc3RJbml0aWFsU3RhdGVGb3JOb2RlKG5vZGVJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEdldCBhbGwgbm9kZXMgdGhhdCBhcmUgbm93IHJlYWNoYWJsZSB0aHJvdWdoIHRoZSBuZXcgY29ubmVjdGlvblxuICAgICAgY29uc3QgcmVhY2hhYmxlTm9kZXMgPSB0aGlzLmNvbm5lY3Rpb25NYW5hZ2VyLmdldEFsbFJlYWNoYWJsZU5vZGVzKCk7XG5cblxuICAgICAgLy8gUmVxdWVzdCBpbml0aWFsIHN0YXRlIGZyb20gYWxsIHJlYWNoYWJsZSBub2RlcyAoaW5jbHVkaW5nIHRoZSBkaXJlY3RseSBjb25uZWN0ZWQgb25lKVxuICAgICAgZm9yIChjb25zdCByZWFjaGFibGVOb2RlSWQgb2YgcmVhY2hhYmxlTm9kZXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBhY3Rpb25OYW1lID0gYF9faW50ZXJuYWxfcmVxdWVzdEluaXRpYWxTdGF0ZV8ke3JlYWNoYWJsZU5vZGVJZH1gO1xuICAgICAgICAgIGNvbnN0IG5vZGVQcm94eSA9IHRoaXMuZ2V0Tm9kZShyZWFjaGFibGVOb2RlSWQpO1xuXG4gICAgICAgICAgaWYgKG5vZGVQcm94eSAmJiBub2RlUHJveHkuYWN0aW9ucyAmJiBub2RlUHJveHkuYWN0aW9uc1thY3Rpb25OYW1lXSkge1xuICAgICAgICAgICAgYXdhaXQgbm9kZVByb3h5LmFjdGlvbnNbYWN0aW9uTmFtZV0oe30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAvLyBTaWxlbnQgZXJyb3IgaGFuZGxpbmcgZm9yIGluZGl2aWR1YWwgbm9kZSByZXF1ZXN0c1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBGYWlsZWQgdG8gcmVxdWVzdCBpbml0aWFsIHN0YXRlIGZvciAke3JlYWNoYWJsZU5vZGVJZH06YCwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIFNpbGVudCBlcnJvciBoYW5kbGluZyAtIHRoZSByZXRyeSBtZWNoYW5pc20gaW4gR3JhcGhTdG9yZVN5bmNocm9uaXplciB3aWxsIGhhbmRsZSBmYWlsdXJlc1xuICAgICAgY29uc29sZS5sb2coYEZhaWxlZCB0byByZXF1ZXN0IGluaXRpYWwgc3RhdGVzIGFmdGVyIGNvbm5lY3RpbmcgdG8gJHtub2RlSWR9OmAsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xlYW51cCBjb25uZWN0aW9uIHJlc291cmNlc1xuICAgKi9cbiAgcHJpdmF0ZSBjbGVhbnVwQ29ubmVjdGlvbihub2RlSWQ6IHN0cmluZykge1xuICAgIC8vIEdldCB0cmFuc3BvcnQgYmVmb3JlIHJlbW92aW5nIGl0XG4gICAgY29uc3QgdHJhbnNwb3J0ID0gdGhpcy5ub2RlVHJhbnNwb3J0cy5nZXQobm9kZUlkKTtcbiAgICBcbiAgICAvLyBSZW1vdmUgZnJvbSBjb2xsZWN0aW9ucyBmaXJzdFxuICAgIHRoaXMubm9kZVRyYW5zcG9ydHMuZGVsZXRlKG5vZGVJZCk7XG4gICAgdGhpcy5jb25uZWN0aW9uTWFuYWdlci5tYXJrRGlzY29ubmVjdGVkKG5vZGVJZCk7XG4gICAgdGhpcy5icm9hZGNhc3RNYW5hZ2VyLnJlbW92ZU1pZGRsZXdhcmUobm9kZUlkKTtcbiAgICBcbiAgICAvLyBDbGVhbnVwIHRyYW5zcG9ydCByZXNvdXJjZXNcbiAgICBpZiAodHJhbnNwb3J0KSB7XG4gICAgICB0cmFuc3BvcnQuY2xlYW51cCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXR1cCBjdXJyZW50IG5vZGUgY29ubmVjdGlvbiBiaW5kaW5ncyAobWVyZ2VkIGZyb20gbW91bnRUbyBmdW5jdGlvbmFsaXR5KVxuICAgKi9cbiAgcHJpdmF0ZSBzZXR1cE5vZGVCaW5kaW5ncyhub2RlSWQ6IHN0cmluZywgdHJhbnNwb3J0OiBTRFBQUFNlc3Npb25MaWtlKTogdm9pZCB7XG4gICAgY29uc3QgY3VycmVudFN0b3JlID0gdGhpcy5ub2RlU3RvcmVzLmdldCh0aGlzLmN1cnJlbnROb2RlSWQpO1xuICAgIGlmICghY3VycmVudFN0b3JlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFN0b3JlIG5vdCBmb3VuZCBmb3IgJHt0aGlzLmN1cnJlbnROb2RlSWR9YCk7XG4gICAgfVxuXG5cbiAgICAvLyBNb3VudCBhY3Rpb24gaGFuZGxlcnMgZm9yIGN1cnJlbnQgbm9kZSAtIGVuYWJsZXMgdGhpcyBub2RlIHRvIHJlc3BvbmQgdG8gYWN0aW9uIGNhbGxzXG4gICAgdGhpcy5hY3Rpb25NYW5hZ2VyLm1vdW50VG8odHJhbnNwb3J0KTtcblxuICAgIC8vIEFkZCB0cmFuc3BvcnQgdG8gYnJvYWRjYXN0IG1hbmFnZXIgLSBlbmFibGVzIHRoaXMgbm9kZSB0byBzZW5kL3JlY2VpdmUgYnJvYWRjYXN0c1xuICAgIHRoaXMuYnJvYWRjYXN0TWFuYWdlci5hZGRNaWRkbGV3YXJlKG5vZGVJZCwgdHJhbnNwb3J0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXR1cCBncmFwaC1iYXNlZCBzdG9yZSBzeW5jaHJvbml6YXRpb24gZm9yIGFsbCBzdG9yZXNcbiAgICogVGhpcyBlbmFibGVzIGluZGlyZWN0IHN5bmNocm9uaXphdGlvbiB0aHJvdWdoIGJyb2FkY2FzdCBtZWNoYW5pc21cbiAgICovXG4gIHB1YmxpYyBzZXR1cEdyYXBoU3RvcmVTeW5jKCk6IHZvaWQge1xuICAgIGZvciAoY29uc3QgW25vZGVJZCwgc3RvcmVdIG9mIHRoaXMubm9kZVN0b3Jlcykge1xuICAgICAgaWYgKG5vZGVJZCA9PT0gdGhpcy5jdXJyZW50Tm9kZUlkKSB7XG4gICAgICAgIC8vIFRoaXMgbm9kZSBpcyB0aGUgcHJvZHVjZXIgb2YgaXRzIG93biBzdG9yZVxuICAgICAgICBiaW5kU3RvcmVQcm9kdWNlclNpZGVHcmFwaCh7XG4gICAgICAgICAgZ3JhcGhJbnN0YW5jZTogdGhpcyxcbiAgICAgICAgICBzdG9yZTogc3RvcmUsXG4gICAgICAgICAgbmFtZTogbm9kZUlkXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhpcyBub2RlIGlzIGEgY29uc3VtZXIgb2YgcmVtb3RlIHN0b3Jlc1xuICAgICAgICBiaW5kU3RvcmVDb25zdW1lclNpZGVHcmFwaCh7XG4gICAgICAgICAgZ3JhcGhJbnN0YW5jZTogdGhpcyxcbiAgICAgICAgICBzdG9yZTogc3RvcmUsXG4gICAgICAgICAgbmFtZTogbm9kZUlkXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbm9kZSBwcm94eVxuICAgKi9cbiAgZ2V0Tm9kZTxUTm9kZUlkIGV4dGVuZHMga2V5b2YgVEdyYXBoRGVmWydub2RlcyddPihub2RlSWQ6IFROb2RlSWQpOiBOb2RlUHJveHk8VEdyYXBoRGVmWydub2RlcyddW1ROb2RlSWRdPiB7XG4gICAgaWYgKCF0aGlzLm5vZGVQcm94aWVzLmhhcyhub2RlSWQgYXMgc3RyaW5nKSkge1xuICAgICAgY29uc3QgcHJveHkgPSBuZXcgTm9kZVByb3h5SW1wbCh0aGlzLCBub2RlSWQgYXMgc3RyaW5nKTtcbiAgICAgIHRoaXMubm9kZVByb3hpZXMuc2V0KG5vZGVJZCBhcyBzdHJpbmcsIHByb3h5KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubm9kZVByb3hpZXMuZ2V0KG5vZGVJZCBhcyBzdHJpbmcpISBhcyBOb2RlUHJveHk8VEdyYXBoRGVmWydub2RlcyddW1ROb2RlSWRdPjtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWlkZGxld2FyZSBmb3IgYSBzcGVjaWZpYyBub2RlIChpbnRlcm5hbCB1c2Ugb25seSlcbiAgICovXG4gIHByaXZhdGUgZ2V0VHJhbnNwb3J0SW50ZXJuYWwobm9kZUlkOiBzdHJpbmcpOiBTRFBQUFNlc3Npb25MaWtlIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5ub2RlVHJhbnNwb3J0cy5nZXQobm9kZUlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgbWlkZGxld2FyZSBhbmQgc3RyZWFtUmVxdWVzdG9yIGZvciBhIG5vZGUgKGRpcmVjdCBvciBpbmRpcmVjdClcbiAgICovXG4gIGdldFRyYW5zcG9ydFRvTm9kZShub2RlSWQ6IHN0cmluZyk6IHsgdHJhbnNwb3J0OiBTRFBQUFNlc3Npb25MaWtlOyBwYXRoOiBzdHJpbmdbXSB9IHwgdW5kZWZpbmVkIHtcbiAgICAvLyDnm7TmjqXov57mjqVcbiAgICBjb25zdCBkaXJlY3RUcmFuc3BvcnQgPSB0aGlzLm5vZGVUcmFuc3BvcnRzLmdldChub2RlSWQpO1xuICAgIGlmIChkaXJlY3RUcmFuc3BvcnQpIHtcbiAgICAgIHJldHVybiB7IFxuICAgICAgICB0cmFuc3BvcnQ6IGRpcmVjdFRyYW5zcG9ydCxcbiAgICAgICAgcGF0aDogW3RoaXMuY3VycmVudE5vZGVJZCwgbm9kZUlkXSBcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8g6Ze05o6l6L+e5o6l6YCa6L+H6Lev5b6E5Y+R546wXG4gICAgY29uc3QgcGF0aCA9IHRoaXMuZmluZFBhdGhJbnRlcm5hbCh0aGlzLmN1cnJlbnROb2RlSWQsIG5vZGVJZCk7XG4gICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAxKSB7XG4gICAgICBjb25zdCBmaXJzdEhvcCA9IHBhdGhbMV07XG4gICAgICBjb25zdCB0cmFuc3BvcnQgPSB0aGlzLm5vZGVUcmFuc3BvcnRzLmdldChmaXJzdEhvcCk7XG4gICAgICBpZiAodHJhbnNwb3J0KSB7XG4gICAgICAgIHJldHVybiB7IHRyYW5zcG9ydCwgcGF0aCB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBHZXQgbm9kZSBzdG9yZVxuICAgKi9cbiAgZ2V0Tm9kZVN0b3JlPE5vZGVJZCBleHRlbmRzIGtleW9mIFRHcmFwaERlZlsnbm9kZXMnXT4obm9kZUlkOiBOb2RlSWQpOiBOb2RlU3RvcmU8ei5pbmZlcjxUR3JhcGhEZWZbJ25vZGVzJ11bTm9kZUlkXVsnc3RvcmUnXT4+IHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5ub2RlU3RvcmVzLmdldChub2RlSWQgYXMgc3RyaW5nKSBhcyBOb2RlU3RvcmU8ei5pbmZlcjxUR3JhcGhEZWZbJ25vZGVzJ11bTm9kZUlkXVsnc3RvcmUnXT4+IHwgdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc3RvcmUgZm9yIHRoZSBjdXJyZW50IG5vZGVcbiAgICovXG4gIGdldCBzdG9yZSgpOiBOb2RlU3RvcmU8YW55PiB7XG4gICAgY29uc3QgY3VycmVudFN0b3JlID0gdGhpcy5ub2RlU3RvcmVzLmdldCh0aGlzLmN1cnJlbnROb2RlSWQpO1xuICAgIGlmICghY3VycmVudFN0b3JlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFN0b3JlIG5vdCBmb3VuZCBmb3IgY3VycmVudCBub2RlICR7dGhpcy5jdXJyZW50Tm9kZUlkfWApO1xuICAgIH1cbiAgICByZXR1cm4gY3VycmVudFN0b3JlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0eXBlZCBhY3Rpb25zIGZvciB0aGUgY3VycmVudCBub2RlXG4gICAqL1xuICBnZXQgYWN0aW9ucygpOiB7XG4gICAgW1RBY3Rpb25OYW1lIGluIGtleW9mIFRHcmFwaERlZlsnbm9kZXMnXVtUQ3VycmVudE5vZGVJZF1bJ2FjdGlvbnMnXV06IChcbiAgICAgIGRhdGE6IGFueSxcbiAgICAgIHNpZ25hbD86IEFib3J0U2lnbmFsXG4gICAgKSA9PiBhbnk7XG4gIH0ge1xuICAgIC8vIEdldCBjdXJyZW50IG5vZGUgZGVmaW5pdGlvblxuICAgIGNvbnN0IGN1cnJlbnROb2RlRGVmID0gdGhpcy5kZWZpbml0aW9uLmdldE5vZGUodGhpcy5jdXJyZW50Tm9kZUlkKTtcbiAgICBpZiAoIWN1cnJlbnROb2RlRGVmKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vZGUgZGVmaW5pdGlvbiBub3QgZm91bmQgZm9yIGN1cnJlbnQgbm9kZSAke3RoaXMuY3VycmVudE5vZGVJZH1gKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgcHJveHkgb2JqZWN0XG4gICAgY29uc3QgYWN0aW9uUHJveHkgPSBuZXcgUHJveHkoe30sIHtcbiAgICAgIGdldDogKF90YXJnZXQsIGFjdGlvbk5hbWU6IHN0cmluZyB8IHN5bWJvbCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGFjdGlvbk5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgYWN0aW9uIGV4aXN0cyBpbiBjdXJyZW50IG5vZGUgZGVmaW5pdGlvblxuICAgICAgICBjb25zdCBhY3Rpb25EZWYgPSBjdXJyZW50Tm9kZURlZi5hY3Rpb25zW2FjdGlvbk5hbWVdO1xuICAgICAgICBpZiAoIWFjdGlvbkRlZikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQWN0aW9uICR7YWN0aW9uTmFtZX0gbm90IGZvdW5kIGZvciBjdXJyZW50IG5vZGUgJHt0aGlzLmN1cnJlbnROb2RlSWR9YCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXR1cm4gYWN0aW9uIGNhbGwgZnVuY3Rpb25cbiAgICAgICAgcmV0dXJuIChkYXRhOiBhbnksIHNpZ25hbD86IEFib3J0U2lnbmFsKSA9PiB7XG4gICAgICAgICAgLy8gR2V0IGxvY2FsIGFjdGlvbiBoYW5kbGVyIGZyb20gQWN0aW9uTWFuYWdlclxuICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLmFjdGlvbk1hbmFnZXIuZ2V0SGFuZGxlcihhY3Rpb25OYW1lKTtcbiAgICAgICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQWN0aW9uIGhhbmRsZXIgJHthY3Rpb25OYW1lfSBub3QgaW1wbGVtZW50ZWQgZm9yIG5vZGUgJHt0aGlzLmN1cnJlbnROb2RlSWR9YCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQ29uc3RydWN0IGV4dHJhIHBhcmFtZXRlcnMgKHNpbXVsYXRpbmcgTUNQIGNhbGwgZW52aXJvbm1lbnQpXG4gICAgICAgICAgY29uc3QgZXh0cmEgPSB7XG4gICAgICAgICAgICBub2RlSWQ6IHRoaXMuY3VycmVudE5vZGVJZCxcbiAgICAgICAgICAgIC8vIENhbiBhZGQgb3RoZXIgY29udGV4dCBpbmZvcm1hdGlvblxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBEZWNpZGUgcmV0dXJuIHR5cGUgYmFzZWQgb24gYWN0aW9uIGRlZmluaXRpb25cbiAgICAgICAgICBpZiAoYWN0aW9uRGVmLnN0cmVhbSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8gU3RyZWFtaW5nIGFjdGlvbjogcmV0dXJuIEFzeW5jSXRlcmFibGUgZGlyZWN0bHlcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGhhbmRsZXIoZGF0YSwgZXh0cmEsIHNpZ25hbCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEVuc3VyZSBBc3luY0l0ZXJhYmxlIGlzIHJldHVybmVkXG4gICAgICAgICAgICBpZiAocmVzdWx0ICYmIHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnICYmIFN5bWJvbC5hc3luY0l0ZXJhdG9yIGluIHJlc3VsdCkge1xuICAgICAgICAgICAgICAvLyBDcmVhdGUgYSB3cmFwcGVyIHRoYXQgY29udmVydHMgdW5kZWZpbmVkIHRvIHt9XG4gICAgICAgICAgICAgIHJldHVybiAoYXN5bmMgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGl0ZW0gb2YgcmVzdWx0IGFzIEFzeW5jSXRlcmFibGU8YW55Pikge1xuICAgICAgICAgICAgICAgICAgeWllbGQgaXRlbSA9PT0gdW5kZWZpbmVkID8ge30gOiBpdGVtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIElmIGhhbmRsZXIgcmV0dXJucyBQcm9taXNlLCB3cmFwIGFzIEFzeW5jSXRlcmFibGVcbiAgICAgICAgICAgICAgcmV0dXJuIChhc3luYyBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF3YWl0ZWRSZXN1bHQgPSBhd2FpdCByZXN1bHQ7XG4gICAgICAgICAgICAgICAgeWllbGQgYXdhaXRlZFJlc3VsdCA9PT0gdW5kZWZpbmVkID8ge30gOiBhd2FpdGVkUmVzdWx0O1xuICAgICAgICAgICAgICB9KSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBOb24tc3RyZWFtaW5nIGFjdGlvbjogcmV0dXJuIFByb21pc2VcbiAgICAgICAgICAgIHJldHVybiAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBoYW5kbGVyKGRhdGEsIGV4dHJhLCBzaWduYWwpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gSWYgcmVzdWx0IGlzIEFzeW5jSXRlcmFibGUsIGNvbnZlcnQgdG8gc2luZ2xlIHZhbHVlXG4gICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcgJiYgU3ltYm9sLmFzeW5jSXRlcmF0b3IgaW4gcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlcmF0b3IgPSByZXN1bHRbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3RSZXN1bHQgPSBhd2FpdCBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpcnN0UmVzdWx0LnZhbHVlID09PSB1bmRlZmluZWQgPyB7fSA6IGZpcnN0UmVzdWx0LnZhbHVlO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFJldHVybiBQcm9taXNlIHJlc3VsdCBkaXJlY3RseVxuICAgICAgICAgICAgICAgIGNvbnN0IGF3YWl0ZWRSZXN1bHQgPSBhd2FpdCByZXN1bHQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0ZWRSZXN1bHQgPT09IHVuZGVmaW5lZCA/IHt9IDogYXdhaXRlZFJlc3VsdDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gYWN0aW9uUHJveHkgYXMgYW55O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZ3JhcGggZGVmaW5pdGlvblxuICAgKi9cbiAgZ2V0RGVmaW5pdGlvbigpOiBHcmFwaERlZmluaXRpb25DbGFzcyB7XG4gICAgcmV0dXJuIHRoaXMuZGVmaW5pdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgbm9kZSBJRFxuICAgKi9cbiAgZ2V0Q3VycmVudE5vZGVJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnROb2RlSWQ7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBHZXQgY29ubmVjdGlvbiB0byBhIG5vZGUgKGRpcmVjdCBvciBpbmRpcmVjdCkgLSBpbnRlcm5hbCB1c2VcbiAgICovXG4gIHByaXZhdGUgZ2V0Q29ubmVjdGlvblRvTm9kZUludGVybmFsKG5vZGVJZDogc3RyaW5nKTogeyB0cmFuc3BvcnQ6IFNEUFBQU2Vzc2lvbkxpa2U7IHBhdGg6IHN0cmluZ1tdIH0gfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmdldFRyYW5zcG9ydFRvTm9kZShub2RlSWQpO1xuICB9XG5cblxuICAvKipcbiAgICogTW91bnQgc3RvcmUgbGlzdGVuZXJzIGFuZCBhY3Rpb24gaGFuZGxlcnMgdG8gTUNQIGluc3RhbmNlXG4gICAqL1xuXG4gIC8qKlxuICAgKiBJbXBsZW1lbnQgYWN0aW9uIGZvciBjdXJyZW50IG5vZGUgd2l0aCB0eXBlIHNhZmV0eVxuICAgKi9cbiAgaW1wbGVtZW50QWN0aW9uPFRBY3Rpb25OYW1lIGV4dGVuZHMga2V5b2YgVEdyYXBoRGVmWydub2RlcyddW1RDdXJyZW50Tm9kZUlkXVsnYWN0aW9ucyddPihcbiAgICBhY3Rpb25OYW1lOiBUQWN0aW9uTmFtZSxcbiAgICBoYW5kbGVyOiAoXG4gICAgICBwYXJhbXM6IGFueSwgLy8gV2lsbCBiZSBwcm9wZXJseSB0eXBlZCBieSB0aGUgaW50ZXJmYWNlIGNvbnN0cmFpbnRcbiAgICAgIGV4dHJhOiBhbnksXG4gICAgICBzaWduYWw/OiBBYm9ydFNpZ25hbFxuICAgICkgPT4gQXN5bmNJdGVyYWJsZTxhbnk+IHwgUHJvbWlzZTxhbnk+XG4gICk6IHZvaWQge1xuICAgIHRoaXMuYWN0aW9uTWFuYWdlci5pbXBsZW1lbnRBY3Rpb24oYWN0aW9uTmFtZSBhcyBzdHJpbmcsIGhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFudXAgcmVzb3VyY2VzXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIC8vIENsZWFudXAgYWxsIGNvbm5lY3Rpb25zIGZpcnN0IChpbmNsdWRpbmcgdHJhbnNwb3J0IGNsZWFudXApXG4gICAgY29uc3Qgbm9kZUlkcyA9IEFycmF5LmZyb20odGhpcy5ub2RlVHJhbnNwb3J0cy5rZXlzKCkpO1xuICAgIGZvciAoY29uc3Qgbm9kZUlkIG9mIG5vZGVJZHMpIHtcbiAgICAgIHRoaXMuY2xlYW51cENvbm5lY3Rpb24obm9kZUlkKTtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2xlYXIgYWxsIG1hbmFnZXJzXG4gICAgdGhpcy5icm9hZGNhc3RNYW5hZ2VyLmNsZWFyKCk7XG4gICAgdGhpcy5hY3Rpb25NYW5hZ2VyLmNsZWFyKCk7XG4gICAgdGhpcy5jb25uZWN0aW9uTWFuYWdlci5jbGVhcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmQgcGF0aCBiZXR3ZWVuIHR3byBub2RlcyB1c2luZyBCRlMgLSBpbnRlcm5hbCB1c2VcbiAgICovXG4gIHByaXZhdGUgZmluZFBhdGhJbnRlcm5hbChmcm9tTm9kZUlkOiBzdHJpbmcsIHRvTm9kZUlkOiBzdHJpbmcpOiBzdHJpbmdbXSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbk1hbmFnZXIuZmluZFBhdGgoZnJvbU5vZGVJZCwgdG9Ob2RlSWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmQgcGF0aCBiZXR3ZWVuIHR3byBub2RlcyB1c2luZyBCRlMgLSBwdWJsaWMgaW50ZXJmYWNlXG4gICAqL1xuICBmaW5kUGF0aChmcm9tTm9kZUlkOiBzdHJpbmcsIHRvTm9kZUlkOiBzdHJpbmcpOiBzdHJpbmdbXSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuZmluZFBhdGhJbnRlcm5hbChmcm9tTm9kZUlkLCB0b05vZGVJZCk7XG4gIH1cblxuICAvKipcbiAgICogQnJvYWRjYXN0IGEgbmFtZWQgbWVzc2FnZSB0byBhbGwgY29ubmVjdGVkIG5vZGVzIChleGNsdWRpbmcgc2VsZilcbiAgICovXG4gIGFzeW5jIGJyb2FkY2FzdDxUQnJvYWRjYXN0TmFtZSBleHRlbmRzIEV4dHJhY3RBbGxCcm9hZGNhc3ROYW1lczxUR3JhcGhEZWY+PihcbiAgICBicm9hZGNhc3ROYW1lOiBUQnJvYWRjYXN0TmFtZSxcbiAgICBwYXlsb2FkOiBFeHRyYWN0QWxsQnJvYWRjYXN0UGF5bG9hZDxUR3JhcGhEZWYsIFRCcm9hZGNhc3ROYW1lPlxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5icm9hZGNhc3RNYW5hZ2VyLmJyb2FkY2FzdChicm9hZGNhc3ROYW1lIGFzIHN0cmluZywgcGF5bG9hZCk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgYSBoYW5kbGVyIGZvciByZWNlaXZlZCBicm9hZGNhc3QgbWVzc2FnZXNcbiAgICovXG4gIGJyb2FkY2FzdFJlY2VpdmVkPFRCcm9hZGNhc3ROYW1lIGV4dGVuZHMgRXh0cmFjdEFsbEJyb2FkY2FzdE5hbWVzPFRHcmFwaERlZj4+KFxuICAgIGJyb2FkY2FzdE5hbWU6IFRCcm9hZGNhc3ROYW1lLFxuICAgIGhhbmRsZXI6IChwYXlsb2FkOiBFeHRyYWN0QWxsQnJvYWRjYXN0UGF5bG9hZDxUR3JhcGhEZWYsIFRCcm9hZGNhc3ROYW1lPikgPT4gdm9pZFxuICApOiB2b2lkIHtcbiAgICB0aGlzLmJyb2FkY2FzdE1hbmFnZXIucmVnaXN0ZXJIYW5kbGVyKGJyb2FkY2FzdE5hbWUgYXMgc3RyaW5nLCBoYW5kbGVyKTtcbiAgfVxufSIsImltcG9ydCB0eXBlIHsgUHJvdG9jb2wgfSBmcm9tIFwiQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay9zaGFyZWQvcHJvdG9jb2wuanNcIjtcbmltcG9ydCB0eXBlIHsgVHJhbnNwb3J0IH0gZnJvbSBcIkBtb2RlbGNvbnRleHRwcm90b2NvbC9zZGsvc2hhcmVkL3RyYW5zcG9ydC5qc1wiO1xuaW1wb3J0IHR5cGUgeyBSZXF1ZXN0LCBOb3RpZmljYXRpb24gfSBmcm9tIFwiQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay90eXBlcy5qc1wiO1xuaW1wb3J0IHsgeiwgWm9kT2JqZWN0LCBab2RMaXRlcmFsLCBab2RUeXBlIH0gZnJvbSBcInpvZFwiO1xuXG4vKipcbiAqIFJlcXVlc3QgaGFuZGxlciBleHRyYSBwYXJhbWV0ZXJzICjlrprkuYnmnKzlnLDnsbvlnospXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWVzdEhhbmRsZXJFeHRyYSB7XG4gIFtrZXk6IHN0cmluZ106IGFueTtcbn1cblxuLyoqXG4gKiDor7fmsYLlpITnkIblmajnsbvlnotcbiAqL1xuZXhwb3J0IHR5cGUgUmVxdWVzdEhhbmRsZXI8VCA9IGFueT4gPSAoXG4gIHJlcXVlc3Q6IFQsXG4gIGV4dHJhOiBSZXF1ZXN0SGFuZGxlckV4dHJhXG4pID0+IFByb21pc2U8YW55PjtcblxuLyoqXG4gKiDpgJrnn6XlpITnkIblmajnsbvlnotcbiAqL1xuZXhwb3J0IHR5cGUgTm90aWZpY2F0aW9uSGFuZGxlcjxUID0gYW55PiA9IChcbiAgbm90aWZpY2F0aW9uOiBUXG4pID0+IFByb21pc2U8dm9pZD47XG5cbi8qKlxuICog5Lyg5Ye66K+35rGC5oum5oiq5Zmo57G75Z6LXG4gKiDov5Tlm57kv67mlLnlkI7nmoTor7fmsYLmiJZudWxsKOmYu+atouWPkemAgSlcbiAqL1xuZXhwb3J0IHR5cGUgT3V0Z29pbmdSZXF1ZXN0SW50ZXJjZXB0b3I8VCA9IGFueT4gPSAoXG4gIHJlcXVlc3Q6IFRcbikgPT4gUHJvbWlzZTxUIHwgbnVsbD47XG5cbi8qKlxuICog5Lyg5Ye66YCa55+l5oum5oiq5Zmo57G75Z6LXG4gKiDov5Tlm57kv67mlLnlkI7nmoTpgJrnn6XmiJZudWxsKOmYu+atouWPkemAgSlcbiAqL1xuZXhwb3J0IHR5cGUgT3V0Z29pbmdOb3RpZmljYXRpb25JbnRlcmNlcHRvcjxUID0gYW55PiA9IChcbiAgbm90aWZpY2F0aW9uOiBUXG4pID0+IFByb21pc2U8VCB8IG51bGw+O1xuXG4vKipcbiAqIE1DUE1pZGRsZXdhcmXmjqXlj6PlrprkuYlcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJTUNQTWlkZGxld2FyZSB7XG4gIC8vIOi/nuaOpeaWueazlVxuICBjb25uZWN0KHRyYW5zcG9ydDogVHJhbnNwb3J0KTogUHJvbWlzZTx2b2lkPjtcbiAgXG4gIC8vIOa2iOaBr+WPkemAgeaWueazlSAo5LiOUHJvdG9jb2zmjqXlj6Pnm7jlkIwpXG4gIHJlcXVlc3Q8VCBleHRlbmRzIG9iamVjdD4ocmVxdWVzdDogUmVxdWVzdCwgcmVzcG9uc2VTY2hlbWE6IFpvZFR5cGU8VD4pOiBQcm9taXNlPFQ+O1xuICBub3RpZmljYXRpb24obm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb24pOiBQcm9taXNlPHZvaWQ+O1xuXG4gIC8vIOS8oOWFpea2iOaBr+WkhOeQhuWZqOazqOWGjFxuICBzZXRSZXF1ZXN0SGFuZGxlcjxUIGV4dGVuZHMgWm9kT2JqZWN0PHsgbWV0aG9kOiBab2RMaXRlcmFsPHN0cmluZz4gfT4+KFxuICAgIHJlcXVlc3RTY2hlbWE6IFQsXG4gICAgaGFuZGxlcjogUmVxdWVzdEhhbmRsZXI8ei5pbmZlcjxUPj5cbiAgKTogdm9pZDtcblxuICBzZXROb3RpZmljYXRpb25IYW5kbGVyPFQgZXh0ZW5kcyBab2RPYmplY3Q8eyBtZXRob2Q6IFpvZExpdGVyYWw8c3RyaW5nPiB9Pj4oXG4gICAgbm90aWZpY2F0aW9uU2NoZW1hOiBULFxuICAgIGhhbmRsZXI6IE5vdGlmaWNhdGlvbkhhbmRsZXI8ei5pbmZlcjxUPj5cbiAgKTogdm9pZDtcblxuICAvLyDkvKDlh7rmtojmga/mi6bmiKrlmajms6jlhoxcbiAgc2V0T3V0Z29pbmdSZXF1ZXN0SW50ZXJjZXB0b3I8VCBleHRlbmRzIFpvZE9iamVjdDx7IG1ldGhvZDogWm9kTGl0ZXJhbDxzdHJpbmc+IH0+PihcbiAgICByZXF1ZXN0U2NoZW1hOiBULFxuICAgIGludGVyY2VwdG9yOiBPdXRnb2luZ1JlcXVlc3RJbnRlcmNlcHRvcjx6LmluZmVyPFQ+PlxuICApOiB2b2lkO1xuXG4gIHNldE91dGdvaW5nTm90aWZpY2F0aW9uSW50ZXJjZXB0b3I8VCBleHRlbmRzIFpvZE9iamVjdDx7IG1ldGhvZDogWm9kTGl0ZXJhbDxzdHJpbmc+IH0+PihcbiAgICBub3RpZmljYXRpb25TY2hlbWE6IFQsXG4gICAgaW50ZXJjZXB0b3I6IE91dGdvaW5nTm90aWZpY2F0aW9uSW50ZXJjZXB0b3I8ei5pbmZlcjxUPj5cbiAgKTogdm9pZDtcblxuICAvLyDlpITnkIblmajlkozmi6bmiKrlmajnp7vpmaRcbiAgdW5zZXRSZXF1ZXN0SGFuZGxlcihtZXRob2Q6IHN0cmluZyk6IHZvaWQ7XG4gIHVuc2V0Tm90aWZpY2F0aW9uSGFuZGxlcihtZXRob2Q6IHN0cmluZyk6IHZvaWQ7XG4gIHVuc2V0T3V0Z29pbmdSZXF1ZXN0SW50ZXJjZXB0b3IobWV0aG9kOiBzdHJpbmcpOiB2b2lkO1xuICB1bnNldE91dGdvaW5nTm90aWZpY2F0aW9uSW50ZXJjZXB0b3IobWV0aG9kOiBzdHJpbmcpOiB2b2lkO1xuXG4gIC8vIOW3peWFt+aWueazlVxuICBoYXNSZXF1ZXN0SGFuZGxlcihtZXRob2Q6IHN0cmluZyk6IGJvb2xlYW47XG4gIGhhc05vdGlmaWNhdGlvbkhhbmRsZXIobWV0aG9kOiBzdHJpbmcpOiBib29sZWFuO1xuICBoYXNPdXRnb2luZ1JlcXVlc3RJbnRlcmNlcHRvcihtZXRob2Q6IHN0cmluZyk6IGJvb2xlYW47XG4gIGhhc091dGdvaW5nTm90aWZpY2F0aW9uSW50ZXJjZXB0b3IobWV0aG9kOiBzdHJpbmcpOiBib29sZWFuO1xufVxuXG4vKipcbiAqIOWkhOeQhuWZqOazqOWGjOS/oeaBr1xuICovXG5leHBvcnQgaW50ZXJmYWNlIEhhbmRsZXJJbmZvIHtcbiAgbWV0aG9kOiBzdHJpbmc7XG4gIHNjaGVtYTogWm9kT2JqZWN0PGFueT47XG4gIGhhbmRsZXI6IFJlcXVlc3RIYW5kbGVyIHwgTm90aWZpY2F0aW9uSGFuZGxlcjtcbn1cblxuLyoqXG4gKiDmi6bmiKrlmajms6jlhozkv6Hmga9cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJbnRlcmNlcHRvckluZm8ge1xuICBtZXRob2Q6IHN0cmluZztcbiAgc2NoZW1hOiBab2RPYmplY3Q8YW55PjtcbiAgaW50ZXJjZXB0b3I6IE91dGdvaW5nUmVxdWVzdEludGVyY2VwdG9yIHwgT3V0Z29pbmdOb3RpZmljYXRpb25JbnRlcmNlcHRvcjtcbn1cblxuLyoqXG4gKiBNQ1BNaWRkbGV3YXJl6YWN572u6YCJ6aG5XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTUNQTWlkZGxld2FyZU9wdGlvbnMge1xuICAvLyDmmK/lkKblkK/nlKjosIPor5Xml6Xlv5dcbiAgZGVidWc/OiBib29sZWFuO1xuICBcbiAgLy8g5oum5oiq5Zmo5omn6KGM6LaF5pe25pe26Ze0ICjmr6vnp5IpXG4gIGludGVyY2VwdG9yVGltZW91dD86IG51bWJlcjtcbiAgXG4gIC8vIOaYr+WQpuWcqOaLpuaIquWZqOmUmeivr+aXtue7p+e7reaJp+ihjFxuICBjb250aW51ZU9uSW50ZXJjZXB0b3JFcnJvcj86IGJvb2xlYW47XG59XG5cbi8qKlxuICog5oum5oiq5Zmo5omn6KGM57uT5p6cXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW50ZXJjZXB0b3JSZXN1bHQ8VCA9IGFueT4ge1xuICBzdWNjZXNzOiBib29sZWFuO1xuICByZXN1bHQ/OiBUIHwgbnVsbDtcbiAgZXJyb3I/OiBFcnJvcjtcbn1cblxuLyoqXG4gKiDkuK3pl7Tku7bnu5/orqHkv6Hmga9cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNaWRkbGV3YXJlU3RhdHMge1xuICByZXF1ZXN0c0hhbmRsZWQ6IG51bWJlcjtcbiAgbm90aWZpY2F0aW9uc0hhbmRsZWQ6IG51bWJlcjtcbiAgcmVxdWVzdHNJbnRlcmNlcHRlZDogbnVtYmVyO1xuICBub3RpZmljYXRpb25zSW50ZXJjZXB0ZWQ6IG51bWJlcjtcbiAgZXJyb3JzOiBudW1iZXI7XG59XG5cbi8qKlxuICog6ZSZ6K+v57G75Z6L5p6a5Li+XG4gKi9cbmV4cG9ydCBjb25zdCBNaWRkbGV3YXJlRXJyb3JzID0ge1xuICBIQU5ETEVSX0VSUk9SOiAnaGFuZGxlcl9lcnJvcicsXG4gIElOVEVSQ0VQVE9SX0VSUk9SOiAnaW50ZXJjZXB0b3JfZXJyb3InLFxuICBTQ0hFTUFfVkFMSURBVElPTl9FUlJPUjogJ3NjaGVtYV92YWxpZGF0aW9uX2Vycm9yJyxcbiAgVElNRU9VVF9FUlJPUjogJ3RpbWVvdXRfZXJyb3InXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgTWlkZGxld2FyZUVycm9yVHlwZSA9ICh0eXBlb2YgTWlkZGxld2FyZUVycm9ycylba2V5b2YgdHlwZW9mIE1pZGRsZXdhcmVFcnJvcnNdO1xuXG4vKipcbiAqIOS4remXtOS7tumUmeivr+exu1xuICovXG5leHBvcnQgY2xhc3MgTWlkZGxld2FyZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBwdWJsaWMgcmVhZG9ubHkgdHlwZTogTWlkZGxld2FyZUVycm9yVHlwZTtcbiAgcHVibGljIHJlYWRvbmx5IG1ldGhvZDogc3RyaW5nO1xuICBwdWJsaWMgcmVhZG9ubHkgb3JpZ2luYWxFcnJvcj86IEVycm9yO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHR5cGU6IE1pZGRsZXdhcmVFcnJvclR5cGUsXG4gICAgbWV0aG9kOiBzdHJpbmcsXG4gICAgbWVzc2FnZTogc3RyaW5nLFxuICAgIG9yaWdpbmFsRXJyb3I/OiBFcnJvclxuICApIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSAnTWlkZGxld2FyZUVycm9yJztcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMubWV0aG9kID0gbWV0aG9kO1xuICAgIHRoaXMub3JpZ2luYWxFcnJvciA9IG9yaWdpbmFsRXJyb3I7XG4gIH1cbn0iLCJpbXBvcnQgdHlwZSB7IFByb3RvY29sIH0gZnJvbSBcIkBtb2RlbGNvbnRleHRwcm90b2NvbC9zZGsvc2hhcmVkL3Byb3RvY29sLmpzXCI7XG5pbXBvcnQgdHlwZSB7IFRyYW5zcG9ydCB9IGZyb20gXCJAbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL3NoYXJlZC90cmFuc3BvcnQuanNcIjtcbmltcG9ydCB0eXBlIHsgUmVxdWVzdCwgTm90aWZpY2F0aW9uLCBKU09OUlBDTWVzc2FnZSB9IGZyb20gXCJAbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL3R5cGVzLmpzXCI7XG5pbXBvcnQgeyB6LCBab2RPYmplY3QsIFpvZExpdGVyYWwsIFpvZFR5cGUgfSBmcm9tIFwiem9kXCI7XG5cbmltcG9ydCB0eXBlIHtcbiAgSU1DUE1pZGRsZXdhcmUsXG4gIFJlcXVlc3RIYW5kbGVyLFxuICBOb3RpZmljYXRpb25IYW5kbGVyLFxuICBPdXRnb2luZ1JlcXVlc3RJbnRlcmNlcHRvcixcbiAgT3V0Z29pbmdOb3RpZmljYXRpb25JbnRlcmNlcHRvcixcbiAgTUNQTWlkZGxld2FyZU9wdGlvbnMsXG4gIEludGVyY2VwdG9yUmVzdWx0LFxuICBNaWRkbGV3YXJlU3RhdHNcbn0gZnJvbSBcIi4vdHlwZXMudHNcIjtcblxuaW1wb3J0IHtcbiAgTWlkZGxld2FyZUVycm9yLFxuICBNaWRkbGV3YXJlRXJyb3JzXG59IGZyb20gXCIuL3R5cGVzLnRzXCI7XG5cbi8qKlxuICogTUNQTWlkZGxld2FyZSAtIFByb3RvY29s5ZKMVHJhbnNwb3J05LmL6Ze055qE5Lit6Ze05bGCXG4gKiBcbiAqIOiBjOi0o++8mlxuICogMS4g5a6e546wVHJhbnNwb3J05o6l5Y+j77yM5L2c5Li6UHJvdG9jb2znmoR0cmFuc3BvcnTlsYJcbiAqIDIuIOaLpuaIquS7juecn+WunnRyYW5zcG9ydOadpeeahOa2iOaBr++8jOWkhOeQhuiDveWkhOeQhueahO+8jOi9rOWPkeWFtuS7lueahFxuICogMy4g5oum5oiqUHJvdG9jb2zlj5Hlh7rnmoTmtojmga/ov5vooYzpooTlpITnkIZcbiAqL1xuZXhwb3J0IGNsYXNzIE1DUE1pZGRsZXdhcmUgaW1wbGVtZW50cyBJTUNQTWlkZGxld2FyZSwgVHJhbnNwb3J0IHtcbiAgcHJpdmF0ZSBwcm90b2NvbDogUHJvdG9jb2w8YW55LCBhbnksIGFueT47XG4gIHByaXZhdGUgcmVhbFRyYW5zcG9ydDogVHJhbnNwb3J0IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgb3B0aW9uczogTUNQTWlkZGxld2FyZU9wdGlvbnM7XG4gIFxuICAvLyDkvKDlhaXmtojmga/lpITnkIblmahcbiAgcHJpdmF0ZSByZXF1ZXN0SGFuZGxlcnM6IE1hcDxzdHJpbmcsIFJlcXVlc3RIYW5kbGVyPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBub3RpZmljYXRpb25IYW5kbGVyczogTWFwPHN0cmluZywgTm90aWZpY2F0aW9uSGFuZGxlcj4gPSBuZXcgTWFwKCk7XG4gIFxuICAvLyDkvKDlh7rmtojmga/mi6bmiKrlmahcbiAgcHJpdmF0ZSBvdXRnb2luZ1JlcXVlc3RJbnRlcmNlcHRvcnM6IE1hcDxzdHJpbmcsIE91dGdvaW5nUmVxdWVzdEludGVyY2VwdG9yPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBvdXRnb2luZ05vdGlmaWNhdGlvbkludGVyY2VwdG9yczogTWFwPHN0cmluZywgT3V0Z29pbmdOb3RpZmljYXRpb25JbnRlcmNlcHRvcj4gPSBuZXcgTWFwKCk7XG4gIFxuICAvLyBUcmFuc3BvcnTmjqXlj6PpnIDopoHnmoTkuovku7blpITnkIblmahcbiAgcHJpdmF0ZSBtZXNzYWdlSGFuZGxlcnM6IEFycmF5PChtZXNzYWdlOiBKU09OUlBDTWVzc2FnZSkgPT4gdm9pZD4gPSBbXTtcbiAgcHJpdmF0ZSBjbG9zZUhhbmRsZXJzOiBBcnJheTwoKSA9PiB2b2lkPiA9IFtdO1xuICBwcml2YXRlIGVycm9ySGFuZGxlcnM6IEFycmF5PChlcnJvcjogRXJyb3IpID0+IHZvaWQ+ID0gW107XG4gIFxuICAvLyDnu5/orqHkv6Hmga9cbiAgcHJpdmF0ZSBzdGF0czogTWlkZGxld2FyZVN0YXRzID0ge1xuICAgIHJlcXVlc3RzSGFuZGxlZDogMCxcbiAgICBub3RpZmljYXRpb25zSGFuZGxlZDogMCxcbiAgICByZXF1ZXN0c0ludGVyY2VwdGVkOiAwLFxuICAgIG5vdGlmaWNhdGlvbnNJbnRlcmNlcHRlZDogMCxcbiAgICBlcnJvcnM6IDBcbiAgfTtcblxuICBjb25zdHJ1Y3Rvcihwcm90b2NvbDogUHJvdG9jb2w8YW55LCBhbnksIGFueT4sIG9wdGlvbnM6IE1DUE1pZGRsZXdhcmVPcHRpb25zID0ge30pIHtcbiAgICB0aGlzLnByb3RvY29sID0gcHJvdG9jb2w7XG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgZGVidWc6IGZhbHNlLFxuICAgICAgaW50ZXJjZXB0b3JUaW1lb3V0OiA1MDAwLFxuICAgICAgY29udGludWVPbkludGVyY2VwdG9yRXJyb3I6IHRydWUsXG4gICAgICAuLi5vcHRpb25zXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiDov57mjqXliLDnnJ/lrp50cmFuc3BvcnTvvIzlubblsIboh6rlt7HkvZzkuLp0cmFuc3BvcnTkvKDnu5lwcm90b2NvbFxuICAgKi9cbiAgYXN5bmMgY29ubmVjdCh0cmFuc3BvcnQ6IFRyYW5zcG9ydCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMucmVhbFRyYW5zcG9ydCA9IHRyYW5zcG9ydDtcbiAgICBcbiAgICAvLyDnm5HlkKznnJ/lrp50cmFuc3BvcnTnmoTmtojmga9cbiAgICB0cmFuc3BvcnQub25tZXNzYWdlID0gKG1lc3NhZ2U6IEpTT05SUENNZXNzYWdlKSA9PiB7XG4gICAgICB0aGlzLmhhbmRsZUluY29taW5nTWVzc2FnZShtZXNzYWdlKTtcbiAgICB9O1xuICAgIFxuICAgIHRyYW5zcG9ydC5vbmNsb3NlID0gKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZUhhbmRsZXJzLmZvckVhY2goaGFuZGxlciA9PiBoYW5kbGVyKCkpO1xuICAgIH07XG4gICAgXG4gICAgdHJhbnNwb3J0Lm9uZXJyb3IgPSAoZXJyb3I6IEVycm9yKSA9PiB7XG4gICAgICB0aGlzLmVycm9ySGFuZGxlcnMuZm9yRWFjaChoYW5kbGVyID0+IGhhbmRsZXIoZXJyb3IpKTtcbiAgICB9O1xuICAgIFxuICAgIC8vIOWwhuiHquW3seS9nOS4unRyYW5zcG9ydOS8oOe7mXByb3RvY29sXG4gICAgYXdhaXQgdGhpcy5wcm90b2NvbC5jb25uZWN0KHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIOWkhOeQhuS7juecn+WunnRyYW5zcG9ydOadpeeahOa2iOaBr1xuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBoYW5kbGVJbmNvbWluZ01lc3NhZ2UobWVzc2FnZTogSlNPTlJQQ01lc3NhZ2UpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0aGlzLmxvZygnZGVidWcnLCAnSW5jb21pbmcgbWVzc2FnZTonLCBtZXNzYWdlKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyDmo4Dmn6XmmK/lkKbmmK/or7fmsYJcbiAgICAgIGlmICh0aGlzLmlzUmVxdWVzdChtZXNzYWdlKSkge1xuICAgICAgICBjb25zdCBoYW5kbGVkID0gYXdhaXQgdGhpcy5oYW5kbGVJbmNvbWluZ1JlcXVlc3QobWVzc2FnZSBhcyBSZXF1ZXN0KTtcbiAgICAgICAgaWYgKGhhbmRsZWQpIHtcbiAgICAgICAgICByZXR1cm47IC8vIOW3suWkhOeQhu+8jOS4jei9rOWPkVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIOajgOafpeaYr+WQpuaYr+mAmuefpVxuICAgICAgaWYgKHRoaXMuaXNOb3RpZmljYXRpb24obWVzc2FnZSkpIHtcbiAgICAgICAgY29uc3QgaGFuZGxlZCA9IGF3YWl0IHRoaXMuaGFuZGxlSW5jb21pbmdOb3RpZmljYXRpb24obWVzc2FnZSBhcyBOb3RpZmljYXRpb24pO1xuICAgICAgICBpZiAoaGFuZGxlZCkge1xuICAgICAgICAgIHJldHVybjsgLy8g5bey5aSE55CG77yM5LiN6L2s5Y+RXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8g6L2s5Y+R57uZcHJvdG9jb2xcbiAgICAgIHRoaXMubWVzc2FnZUhhbmRsZXJzLmZvckVhY2goaGFuZGxlciA9PiBoYW5kbGVyKG1lc3NhZ2UpKTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLnN0YXRzLmVycm9ycysrO1xuICAgICAgdGhpcy5sb2coJ2Vycm9yJywgJ0Vycm9yIGhhbmRsaW5nIGluY29taW5nIG1lc3NhZ2U6JywgZXJyb3IpO1xuICAgICAgLy8g5Y2z5L2/5Ye66ZSZ5Lmf6KaB6L2s5Y+R5raI5oGv57uZcHJvdG9jb2xcbiAgICAgIHRoaXMubWVzc2FnZUhhbmRsZXJzLmZvckVhY2goaGFuZGxlciA9PiBoYW5kbGVyKG1lc3NhZ2UpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5aSE55CG5Lyg5YWl55qE6K+35rGCXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGhhbmRsZUluY29taW5nUmVxdWVzdChyZXF1ZXN0OiBSZXF1ZXN0KTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgY29uc3QgaGFuZGxlciA9IHRoaXMucmVxdWVzdEhhbmRsZXJzLmdldChyZXF1ZXN0Lm1ldGhvZCk7XG4gICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICByZXR1cm4gZmFsc2U7IC8vIOayoeacieWkhOeQhuWZqO+8jOmcgOimgei9rOWPkVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICB0aGlzLnN0YXRzLnJlcXVlc3RzSGFuZGxlZCsrO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBoYW5kbGVyKHJlcXVlc3QsIHt9KTtcbiAgICAgIFxuICAgICAgLy8g5Y+R6YCB5ZON5bqU5Zue55yf5a6edHJhbnNwb3J0XG4gICAgICBpZiAodGhpcy5yZWFsVHJhbnNwb3J0ICYmICdpZCcgaW4gcmVxdWVzdCkge1xuICAgICAgICBhd2FpdCB0aGlzLnJlYWxUcmFuc3BvcnQuc2VuZCh7XG4gICAgICAgICAganNvbnJwYzogXCIyLjBcIixcbiAgICAgICAgICBpZDogcmVxdWVzdC5pZCBhcyBzdHJpbmcgfCBudW1iZXIsXG4gICAgICAgICAgcmVzdWx0OiByZXNwb25zZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHRydWU7IC8vIOW3suWkhOeQhlxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLnN0YXRzLmVycm9ycysrO1xuICAgICAgXG4gICAgICAvLyDlj5HpgIHplJnor6/lk43lupRcbiAgICAgIGlmICh0aGlzLnJlYWxUcmFuc3BvcnQgJiYgJ2lkJyBpbiByZXF1ZXN0KSB7XG4gICAgICAgIGF3YWl0IHRoaXMucmVhbFRyYW5zcG9ydC5zZW5kKHtcbiAgICAgICAgICBqc29ucnBjOiBcIjIuMFwiLFxuICAgICAgICAgIGlkOiByZXF1ZXN0LmlkIGFzIHN0cmluZyB8IG51bWJlcixcbiAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgY29kZTogLTMyNjAzLFxuICAgICAgICAgICAgbWVzc2FnZTogYFJlcXVlc3QgaGFuZGxlciBmYWlsZWQ6ICR7SlNPTi5zdHJpbmdpZnkoKHJlcXVlc3QgYXMgYW55KS5wYXJhbXMpfSAkeyhlcnJvciBhcyBFcnJvcikubWVzc2FnZX1gXG4gICAgICAgICAgfSBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB0cnVlOyAvLyDlt7LlpITnkIbvvIjomb3nhLblh7rplJnkuobvvIlcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5aSE55CG5Lyg5YWl55qE6YCa55+lXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGhhbmRsZUluY29taW5nTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9uKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgY29uc3QgaGFuZGxlciA9IHRoaXMubm90aWZpY2F0aW9uSGFuZGxlcnMuZ2V0KG5vdGlmaWNhdGlvbi5tZXRob2QpO1xuICAgIGlmICghaGFuZGxlcikge1xuICAgICAgcmV0dXJuIGZhbHNlOyAvLyDmsqHmnInlpITnkIblmajvvIzpnIDopoHovazlj5FcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5zdGF0cy5ub3RpZmljYXRpb25zSGFuZGxlZCsrO1xuICAgICAgYXdhaXQgaGFuZGxlcihub3RpZmljYXRpb24pO1xuICAgICAgcmV0dXJuIHRydWU7IC8vIOW3suWkhOeQhlxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLnN0YXRzLmVycm9ycysrO1xuICAgICAgdGhpcy5sb2coJ2Vycm9yJywgYE5vdGlmaWNhdGlvbiBoYW5kbGVyIGZhaWxlZCBmb3IgJHtub3RpZmljYXRpb24ubWV0aG9kfTpgLCBlcnJvcik7XG4gICAgICByZXR1cm4gdHJ1ZTsgLy8g5bey5aSE55CG77yI6Jm954S25Ye66ZSZ5LqG77yJXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zcG9ydOaOpeWPo+WunueOsO+8muWPkemAgea2iOaBr1xuICAgKi9cbiAgYXN5bmMgc2VuZChtZXNzYWdlOiBKU09OUlBDTWVzc2FnZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMubG9nKCdkZWJ1ZycsICdPdXRnb2luZyBtZXNzYWdlOicsIG1lc3NhZ2UpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyDmo4Dmn6XmmK/lkKbmmK/or7fmsYLvvIzov5vooYzmi6bmiKpcbiAgICAgIGlmICh0aGlzLmlzUmVxdWVzdChtZXNzYWdlKSkge1xuICAgICAgICBjb25zdCBpbnRlcmNlcHRSZXN1bHQgPSBhd2FpdCB0aGlzLmV4ZWN1dGVPdXRnb2luZ1JlcXVlc3RJbnRlcmNlcHRvcihtZXNzYWdlIGFzIFJlcXVlc3QpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFpbnRlcmNlcHRSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY29udGludWVPbkludGVyY2VwdG9yRXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nKCd3YXJuJywgYFJlcXVlc3QgaW50ZXJjZXB0b3IgZmFpbGVkIGZvciAkeyhtZXNzYWdlIGFzIFJlcXVlc3QpLm1ldGhvZH06YCwgaW50ZXJjZXB0UmVzdWx0LmVycm9yKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgaW50ZXJjZXB0UmVzdWx0LmVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpbnRlcmNlcHRSZXN1bHQucmVzdWx0ID09PSBudWxsKSB7XG4gICAgICAgICAgLy8g5oum5oiq5Zmo6Zi75q2i5Y+R6YCBXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKGludGVyY2VwdFJlc3VsdC5yZXN1bHQpIHtcbiAgICAgICAgICBtZXNzYWdlID0geyAuLi5pbnRlcmNlcHRSZXN1bHQucmVzdWx0LCBqc29ucnBjOiBcIjIuMFwiIGFzIGNvbnN0IH07XG4gICAgICAgICAgdGhpcy5zdGF0cy5yZXF1ZXN0c0ludGVyY2VwdGVkKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8g5qOA5p+l5piv5ZCm5piv6YCa55+l77yM6L+b6KGM5oum5oiqXG4gICAgICBpZiAodGhpcy5pc05vdGlmaWNhdGlvbihtZXNzYWdlKSkge1xuICAgICAgICBjb25zdCBpbnRlcmNlcHRSZXN1bHQgPSBhd2FpdCB0aGlzLmV4ZWN1dGVPdXRnb2luZ05vdGlmaWNhdGlvbkludGVyY2VwdG9yKG1lc3NhZ2UgYXMgTm90aWZpY2F0aW9uKTtcbiAgICAgICAgXG4gICAgICAgIGlmICghaW50ZXJjZXB0UmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNvbnRpbnVlT25JbnRlcmNlcHRvckVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmxvZygnd2FybicsIGBOb3RpZmljYXRpb24gaW50ZXJjZXB0b3IgZmFpbGVkIGZvciAkeyhtZXNzYWdlIGFzIE5vdGlmaWNhdGlvbikubWV0aG9kfTpgLCBpbnRlcmNlcHRSZXN1bHQuZXJyb3IpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBpbnRlcmNlcHRSZXN1bHQuZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGludGVyY2VwdFJlc3VsdC5yZXN1bHQgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyDmi6bmiKrlmajpmLvmraLlj5HpgIFcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAoaW50ZXJjZXB0UmVzdWx0LnJlc3VsdCkge1xuICAgICAgICAgIG1lc3NhZ2UgPSB7IC4uLmludGVyY2VwdFJlc3VsdC5yZXN1bHQsIGpzb25ycGM6IFwiMi4wXCIgYXMgY29uc3QgfTtcbiAgICAgICAgICB0aGlzLnN0YXRzLm5vdGlmaWNhdGlvbnNJbnRlcmNlcHRlZCsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIOWPkemAgeWIsOecn+WunnRyYW5zcG9ydFxuICAgICAgaWYgKHRoaXMucmVhbFRyYW5zcG9ydCkge1xuICAgICAgICBhd2FpdCB0aGlzLnJlYWxUcmFuc3BvcnQuc2VuZChtZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLnN0YXRzLmVycm9ycysrO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zcG9ydOaOpeWPo+WunueOsO+8muW8gOWni+S8oOi+k1xuICAgKi9cbiAgYXN5bmMgc3RhcnQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8g5a6e546w5Li656m677yM5Zug5Li65oiR5Lus5Y+q5piv5Luj55CGXG4gIH1cblxuICAvKipcbiAgICogVHJhbnNwb3J05o6l5Y+j5a6e546w77ya5YWz6Zet6L+e5o6lXG4gICAqL1xuICBhc3luYyBjbG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5yZWFsVHJhbnNwb3J0KSB7XG4gICAgICBhd2FpdCB0aGlzLnJlYWxUcmFuc3BvcnQuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNwb3J05o6l5Y+j5a6e546w77ya5raI5oGv55uR5ZCs5ZmoXG4gICAqL1xuICBzZXQgb25tZXNzYWdlKGhhbmRsZXI6IChtZXNzYWdlOiBKU09OUlBDTWVzc2FnZSkgPT4gdm9pZCkge1xuICAgIHRoaXMubWVzc2FnZUhhbmRsZXJzID0gW2hhbmRsZXJdO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zcG9ydOaOpeWPo+WunueOsO+8muWFs+mXreebkeWQrOWZqFxuICAgKi9cbiAgc2V0IG9uY2xvc2UoaGFuZGxlcjogKCkgPT4gdm9pZCkge1xuICAgIHRoaXMuY2xvc2VIYW5kbGVycyA9IFtoYW5kbGVyXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc3BvcnTmjqXlj6Plrp7njrDvvJrplJnor6/nm5HlkKzlmahcbiAgICovXG4gIHNldCBvbmVycm9yKGhhbmRsZXI6IChlcnJvcjogRXJyb3IpID0+IHZvaWQpIHtcbiAgICB0aGlzLmVycm9ySGFuZGxlcnMgPSBbaGFuZGxlcl07XG4gIH1cblxuICAvKipcbiAgICog5omn6KGM5Lyg5Ye66K+35rGC5oum5oiq5ZmoXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGV4ZWN1dGVPdXRnb2luZ1JlcXVlc3RJbnRlcmNlcHRvcihyZXF1ZXN0OiBSZXF1ZXN0KTogUHJvbWlzZTxJbnRlcmNlcHRvclJlc3VsdDxSZXF1ZXN0Pj4ge1xuICAgIGNvbnN0IGludGVyY2VwdG9yID0gdGhpcy5vdXRnb2luZ1JlcXVlc3RJbnRlcmNlcHRvcnMuZ2V0KHJlcXVlc3QubWV0aG9kKTtcbiAgICBpZiAoIWludGVyY2VwdG9yKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCByZXN1bHQ6IHJlcXVlc3QgfTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy53aXRoVGltZW91dChcbiAgICAgICAgaW50ZXJjZXB0b3IocmVxdWVzdCksXG4gICAgICAgIHRoaXMub3B0aW9ucy5pbnRlcmNlcHRvclRpbWVvdXQhXG4gICAgICApO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgcmVzdWx0IH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMuc3RhdHMuZXJyb3JzKys7XG4gICAgICByZXR1cm4geyBcbiAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICBlcnJvcjogbmV3IE1pZGRsZXdhcmVFcnJvcihcbiAgICAgICAgICBNaWRkbGV3YXJlRXJyb3JzLklOVEVSQ0VQVE9SX0VSUk9SLFxuICAgICAgICAgIHJlcXVlc3QubWV0aG9kLFxuICAgICAgICAgIGBPdXRnb2luZyByZXF1ZXN0IGludGVyY2VwdG9yIGZhaWxlZDogJHsoZXJyb3IgYXMgRXJyb3IpLm1lc3NhZ2V9YCxcbiAgICAgICAgICBlcnJvciBhcyBFcnJvclxuICAgICAgICApXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDmiafooYzkvKDlh7rpgJrnn6Xmi6bmiKrlmahcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZXhlY3V0ZU91dGdvaW5nTm90aWZpY2F0aW9uSW50ZXJjZXB0b3Iobm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb24pOiBQcm9taXNlPEludGVyY2VwdG9yUmVzdWx0PE5vdGlmaWNhdGlvbj4+IHtcbiAgICBjb25zdCBpbnRlcmNlcHRvciA9IHRoaXMub3V0Z29pbmdOb3RpZmljYXRpb25JbnRlcmNlcHRvcnMuZ2V0KG5vdGlmaWNhdGlvbi5tZXRob2QpO1xuICAgIGlmICghaW50ZXJjZXB0b3IpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIHJlc3VsdDogbm90aWZpY2F0aW9uIH07XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMud2l0aFRpbWVvdXQoXG4gICAgICAgIGludGVyY2VwdG9yKG5vdGlmaWNhdGlvbiksXG4gICAgICAgIHRoaXMub3B0aW9ucy5pbnRlcmNlcHRvclRpbWVvdXQhXG4gICAgICApO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgcmVzdWx0IH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMuc3RhdHMuZXJyb3JzKys7XG4gICAgICByZXR1cm4geyBcbiAgICAgICAgc3VjY2VzczogZmFsc2UsIFxuICAgICAgICBlcnJvcjogbmV3IE1pZGRsZXdhcmVFcnJvcihcbiAgICAgICAgICBNaWRkbGV3YXJlRXJyb3JzLklOVEVSQ0VQVE9SX0VSUk9SLFxuICAgICAgICAgIG5vdGlmaWNhdGlvbi5tZXRob2QsXG4gICAgICAgICAgYE91dGdvaW5nIG5vdGlmaWNhdGlvbiBpbnRlcmNlcHRvciBmYWlsZWQ6ICR7KGVycm9yIGFzIEVycm9yKS5tZXNzYWdlfWAsXG4gICAgICAgICAgZXJyb3IgYXMgRXJyb3JcbiAgICAgICAgKVxuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5Y+R6YCB6K+35rGCICjpgJrov4dQcm90b2NvbClcbiAgICovXG4gIGFzeW5jIHJlcXVlc3Q8VCBleHRlbmRzIG9iamVjdD4ocmVxdWVzdDogUmVxdWVzdCwgcmVzcG9uc2VTY2hlbWE6IFpvZFR5cGU8VD4pOiBQcm9taXNlPFQ+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5wcm90b2NvbC5yZXF1ZXN0KHJlcXVlc3QsIHJlc3BvbnNlU2NoZW1hKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDlj5HpgIHpgJrnn6UgKOmAmui/h1Byb3RvY29sKVxuICAgKi9cbiAgYXN5bmMgbm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9uKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMucHJvdG9jb2wubm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbik7XG4gIH1cblxuICAvKipcbiAgICog5rOo5YaM6K+35rGC5aSE55CG5ZmoXG4gICAqL1xuICBzZXRSZXF1ZXN0SGFuZGxlcjxUIGV4dGVuZHMgWm9kT2JqZWN0PHsgbWV0aG9kOiBab2RMaXRlcmFsPHN0cmluZz4gfT4+KFxuICAgIHJlcXVlc3RTY2hlbWE6IFQsXG4gICAgaGFuZGxlcjogUmVxdWVzdEhhbmRsZXI8ei5pbmZlcjxUPj5cbiAgKTogdm9pZCB7XG4gICAgY29uc3QgbWV0aG9kID0gcmVxdWVzdFNjaGVtYS5zaGFwZS5tZXRob2QudmFsdWU7XG4gICAgdGhpcy5yZXF1ZXN0SGFuZGxlcnMuc2V0KG1ldGhvZCwgaGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICog5rOo5YaM6YCa55+l5aSE55CG5ZmoXG4gICAqL1xuICBzZXROb3RpZmljYXRpb25IYW5kbGVyPFQgZXh0ZW5kcyBab2RPYmplY3Q8eyBtZXRob2Q6IFpvZExpdGVyYWw8c3RyaW5nPiB9Pj4oXG4gICAgbm90aWZpY2F0aW9uU2NoZW1hOiBULFxuICAgIGhhbmRsZXI6IE5vdGlmaWNhdGlvbkhhbmRsZXI8ei5pbmZlcjxUPj5cbiAgKTogdm9pZCB7XG4gICAgY29uc3QgbWV0aG9kID0gbm90aWZpY2F0aW9uU2NoZW1hLnNoYXBlLm1ldGhvZC52YWx1ZTtcbiAgICB0aGlzLm5vdGlmaWNhdGlvbkhhbmRsZXJzLnNldChtZXRob2QsIGhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIOazqOWGjOS8oOWHuuivt+axguaLpuaIquWZqFxuICAgKi9cbiAgc2V0T3V0Z29pbmdSZXF1ZXN0SW50ZXJjZXB0b3I8VCBleHRlbmRzIFpvZE9iamVjdDx7IG1ldGhvZDogWm9kTGl0ZXJhbDxzdHJpbmc+IH0+PihcbiAgICByZXF1ZXN0U2NoZW1hOiBULFxuICAgIGludGVyY2VwdG9yOiBPdXRnb2luZ1JlcXVlc3RJbnRlcmNlcHRvcjx6LmluZmVyPFQ+PlxuICApOiB2b2lkIHtcbiAgICBjb25zdCBtZXRob2QgPSByZXF1ZXN0U2NoZW1hLnNoYXBlLm1ldGhvZC52YWx1ZTtcbiAgICB0aGlzLm91dGdvaW5nUmVxdWVzdEludGVyY2VwdG9ycy5zZXQobWV0aG9kLCBpbnRlcmNlcHRvcik7XG4gIH1cblxuICAvKipcbiAgICog5rOo5YaM5Lyg5Ye66YCa55+l5oum5oiq5ZmoXG4gICAqL1xuICBzZXRPdXRnb2luZ05vdGlmaWNhdGlvbkludGVyY2VwdG9yPFQgZXh0ZW5kcyBab2RPYmplY3Q8eyBtZXRob2Q6IFpvZExpdGVyYWw8c3RyaW5nPiB9Pj4oXG4gICAgbm90aWZpY2F0aW9uU2NoZW1hOiBULFxuICAgIGludGVyY2VwdG9yOiBPdXRnb2luZ05vdGlmaWNhdGlvbkludGVyY2VwdG9yPHouaW5mZXI8VD4+XG4gICk6IHZvaWQge1xuICAgIGNvbnN0IG1ldGhvZCA9IG5vdGlmaWNhdGlvblNjaGVtYS5zaGFwZS5tZXRob2QudmFsdWU7XG4gICAgdGhpcy5vdXRnb2luZ05vdGlmaWNhdGlvbkludGVyY2VwdG9ycy5zZXQobWV0aG9kLCBpbnRlcmNlcHRvcik7XG4gIH1cblxuICAvKipcbiAgICog56e76Zmk6K+35rGC5aSE55CG5ZmoXG4gICAqL1xuICB1bnNldFJlcXVlc3RIYW5kbGVyKG1ldGhvZDogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5yZXF1ZXN0SGFuZGxlcnMuZGVsZXRlKG1ldGhvZCk7XG4gIH1cblxuICAvKipcbiAgICog56e76Zmk6YCa55+l5aSE55CG5ZmoXG4gICAqL1xuICB1bnNldE5vdGlmaWNhdGlvbkhhbmRsZXIobWV0aG9kOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLm5vdGlmaWNhdGlvbkhhbmRsZXJzLmRlbGV0ZShtZXRob2QpO1xuICB9XG5cbiAgLyoqXG4gICAqIOenu+mZpOS8oOWHuuivt+axguaLpuaIquWZqFxuICAgKi9cbiAgdW5zZXRPdXRnb2luZ1JlcXVlc3RJbnRlcmNlcHRvcihtZXRob2Q6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMub3V0Z29pbmdSZXF1ZXN0SW50ZXJjZXB0b3JzLmRlbGV0ZShtZXRob2QpO1xuICB9XG5cbiAgLyoqXG4gICAqIOenu+mZpOS8oOWHuumAmuefpeaLpuaIquWZqFxuICAgKi9cbiAgdW5zZXRPdXRnb2luZ05vdGlmaWNhdGlvbkludGVyY2VwdG9yKG1ldGhvZDogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5vdXRnb2luZ05vdGlmaWNhdGlvbkludGVyY2VwdG9ycy5kZWxldGUobWV0aG9kKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmo4Dmn6XmmK/lkKbmnInor7fmsYLlpITnkIblmahcbiAgICovXG4gIGhhc1JlcXVlc3RIYW5kbGVyKG1ldGhvZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdEhhbmRsZXJzLmhhcyhtZXRob2QpO1xuICB9XG5cbiAgLyoqXG4gICAqIOajgOafpeaYr+WQpuaciemAmuefpeWkhOeQhuWZqFxuICAgKi9cbiAgaGFzTm90aWZpY2F0aW9uSGFuZGxlcihtZXRob2Q6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm5vdGlmaWNhdGlvbkhhbmRsZXJzLmhhcyhtZXRob2QpO1xuICB9XG5cbiAgLyoqXG4gICAqIOajgOafpeaYr+WQpuacieS8oOWHuuivt+axguaLpuaIquWZqFxuICAgKi9cbiAgaGFzT3V0Z29pbmdSZXF1ZXN0SW50ZXJjZXB0b3IobWV0aG9kOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5vdXRnb2luZ1JlcXVlc3RJbnRlcmNlcHRvcnMuaGFzKG1ldGhvZCk7XG4gIH1cblxuICAvKipcbiAgICog5qOA5p+l5piv5ZCm5pyJ5Lyg5Ye66YCa55+l5oum5oiq5ZmoXG4gICAqL1xuICBoYXNPdXRnb2luZ05vdGlmaWNhdGlvbkludGVyY2VwdG9yKG1ldGhvZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMub3V0Z29pbmdOb3RpZmljYXRpb25JbnRlcmNlcHRvcnMuaGFzKG1ldGhvZCk7XG4gIH1cblxuICAvKipcbiAgICog6I635Y+W57uf6K6h5L+h5oGvXG4gICAqL1xuICBnZXRTdGF0cygpOiBNaWRkbGV3YXJlU3RhdHMge1xuICAgIHJldHVybiB7IC4uLnRoaXMuc3RhdHMgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiDph43nva7nu5/orqHkv6Hmga9cbiAgICovXG4gIHJlc2V0U3RhdHMoKTogdm9pZCB7XG4gICAgdGhpcy5zdGF0cyA9IHtcbiAgICAgIHJlcXVlc3RzSGFuZGxlZDogMCxcbiAgICAgIG5vdGlmaWNhdGlvbnNIYW5kbGVkOiAwLFxuICAgICAgcmVxdWVzdHNJbnRlcmNlcHRlZDogMCxcbiAgICAgIG5vdGlmaWNhdGlvbnNJbnRlcmNlcHRlZDogMCxcbiAgICAgIGVycm9yczogMFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICog6I635Y+W5bqV5bGCUHJvdG9jb2zlrp7kvotcbiAgICovXG4gIGdldFByb3RvY29sKCk6IFByb3RvY29sPGFueSwgYW55LCBhbnk+IHtcbiAgICByZXR1cm4gdGhpcy5wcm90b2NvbDtcbiAgfVxuXG4gIC8qKlxuICAgKiDmuIXnkIbmiYDmnInlpITnkIblmajlkozmi6bmiKrlmahcbiAgICovXG4gIGNsZWFudXAoKTogdm9pZCB7XG4gICAgdGhpcy5yZXF1ZXN0SGFuZGxlcnMuY2xlYXIoKTtcbiAgICB0aGlzLm5vdGlmaWNhdGlvbkhhbmRsZXJzLmNsZWFyKCk7XG4gICAgdGhpcy5vdXRnb2luZ1JlcXVlc3RJbnRlcmNlcHRvcnMuY2xlYXIoKTtcbiAgICB0aGlzLm91dGdvaW5nTm90aWZpY2F0aW9uSW50ZXJjZXB0b3JzLmNsZWFyKCk7XG4gIH1cblxuICAvKipcbiAgICog5qOA5p+l5raI5oGv5piv5ZCm5Li66K+35rGCXG4gICAqL1xuICBwcml2YXRlIGlzUmVxdWVzdChtZXNzYWdlOiBKU09OUlBDTWVzc2FnZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBtZXNzYWdlLmpzb25ycGMgPT09ICcyLjAnICYmICdtZXRob2QnIGluIG1lc3NhZ2UgJiYgJ2lkJyBpbiBtZXNzYWdlO1xuICB9XG5cbiAgLyoqXG4gICAqIOajgOafpea2iOaBr+aYr+WQpuS4uumAmuefpVxuICAgKi9cbiAgcHJpdmF0ZSBpc05vdGlmaWNhdGlvbihtZXNzYWdlOiBKU09OUlBDTWVzc2FnZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBtZXNzYWdlLmpzb25ycGMgPT09ICcyLjAnICYmICdtZXRob2QnIGluIG1lc3NhZ2UgJiYgISgnaWQnIGluIG1lc3NhZ2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIOW4pui2heaXtueahFByb21pc2XmiafooYxcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgd2l0aFRpbWVvdXQ8VD4ocHJvbWlzZTogUHJvbWlzZTxUPiwgdGltZW91dE1zOiBudW1iZXIpOiBQcm9taXNlPFQ+IHtcbiAgICBjb25zdCB0aW1lb3V0UHJvbWlzZSA9IG5ldyBQcm9taXNlPG5ldmVyPigoXywgcmVqZWN0KSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHJlamVjdChuZXcgRXJyb3IoJ1RpbWVvdXQnKSksIHRpbWVvdXRNcyk7XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIGF3YWl0IFByb21pc2UucmFjZShbcHJvbWlzZSwgdGltZW91dFByb21pc2VdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDml6Xlv5forrDlvZVcbiAgICovXG4gIHByaXZhdGUgbG9nKGxldmVsOiAnZGVidWcnIHwgJ2luZm8nIHwgJ3dhcm4nIHwgJ2Vycm9yJywgbWVzc2FnZTogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgIGlmICghdGhpcy5vcHRpb25zLmRlYnVnICYmIGxldmVsID09PSAnZGVidWcnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHByZWZpeCA9IGBbTUNQTWlkZGxld2FyZV1gO1xuICAgIHN3aXRjaCAobGV2ZWwpIHtcbiAgICAgIGNhc2UgJ2RlYnVnJzpcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhwcmVmaXgsIG1lc3NhZ2UsIC4uLmFyZ3MpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2luZm8nOlxuICAgICAgICBjb25zb2xlLmluZm8ocHJlZml4LCBtZXNzYWdlLCAuLi5hcmdzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd3YXJuJzpcbiAgICAgICAgY29uc29sZS53YXJuKHByZWZpeCwgbWVzc2FnZSwgLi4uYXJncyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZXJyb3InOlxuICAgICAgICBjb25zb2xlLmVycm9yKHByZWZpeCwgbWVzc2FnZSwgLi4uYXJncyk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufSIsImltcG9ydCB7IHosIFpvZE9iamVjdCwgWm9kTGl0ZXJhbCB9IGZyb20gXCJ6b2RcIjtcbmltcG9ydCB0eXBlIHsgTUNQTWlkZGxld2FyZSB9IGZyb20gXCIuL01DUE1pZGRsZXdhcmUvTUNQTWlkZGxld2FyZS50c1wiO1xuXG4vKipcbiAqIOa1geWTjeW6lOmAmuefpeeahFNjaGVtYVxuICovXG5jb25zdCBzdHJlYW1SZXNwb25zZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgbWV0aG9kOiB6LmxpdGVyYWwoJ3NkcHBwL3N0cmVhbVJlc3BvbnNlJyksXG4gIHBhcmFtczogei5vYmplY3Qoe1xuICAgIHJlcXVlc3RJZDogei5zdHJpbmcoKSxcbiAgICBkYXRhOiB6LmFueSgpLFxuICAgIGVycm9yOiB6LnN0cmluZygpLm51bGxhYmxlKCksXG4gICAgZmluaXNoZWQ6IHouYm9vbGVhbigpLFxuICB9KVxufSk7XG5cbi8qKlxuICog5rWB6K+35rGC55qEU2NoZW1hXG4gKi9cbmNvbnN0IHN0cmVhbVJlcXVlc3RTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIG1ldGhvZDogei5saXRlcmFsKCdzZHBwcC9zdHJlYW1SZXF1ZXN0JyksXG4gIHBhcmFtczogei5vYmplY3Qoe1xuICAgIGFjdGlvbjogei5zdHJpbmcoKSxcbiAgICBkYXRhOiB6LmFueSgpLFxuICB9KVxufSk7XG5cbi8qKlxuICog5Lit5q2i6K+35rGC55qEU2NoZW1hXG4gKi9cbmNvbnN0IGFib3J0UmVxdWVzdFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgbWV0aG9kOiB6LmxpdGVyYWwoJ3NkcHBwL2Fib3J0JyksXG4gIHBhcmFtczogei5vYmplY3Qoe1xuICAgIHJlcXVlc3RJZDogei5zdHJpbmcoKSxcbiAgfSlcbn0pO1xuXG5cbi8qKlxuICog5rWB5ZON5bqU6YCa55+l57G75Z6LXG4gKi9cbmV4cG9ydCB0eXBlIFN0cmVhbVJlc3BvbnNlID0gei5pbmZlcjx0eXBlb2Ygc3RyZWFtUmVzcG9uc2VTY2hlbWE+O1xuXG4vKipcbiAqIOa1geivt+axguexu+Wei1xuICovXG5leHBvcnQgdHlwZSBTdHJlYW1SZXF1ZXN0ID0gei5pbmZlcjx0eXBlb2Ygc3RyZWFtUmVxdWVzdFNjaGVtYT47XG5cbi8qKlxuICog5Lit5q2i6K+35rGC57G75Z6LXG4gKi9cbmV4cG9ydCB0eXBlIEFib3J0UmVxdWVzdCA9IHouaW5mZXI8dHlwZW9mIGFib3J0UmVxdWVzdFNjaGVtYT47XG5cbi8qKlxuICog5rWBU3RyZWFtUmVxdWVzdG9y6L+t5Luj5Zmo5o6l5Y+jXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RyZWFtUmVxdWVzdG9ySXRlcmF0b3I8VD4ge1xuICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk6IEFzeW5jSXRlcmFibGVJdGVyYXRvcjxUPjtcbn1cblxuLyoqXG4gKiBTdHJlYW1SZXF1ZXN0b3LlpITnkIblmajnsbvlnotcbiAqL1xuZXhwb3J0IHR5cGUgU3RyZWFtUmVxdWVzdG9ySGFuZGxlcjxUID0gYW55PiA9IChcbiAgcGFyYW1zOiBULFxuICBleHRyYTogYW55LFxuICBzaWduYWw/OiBBYm9ydFNpZ25hbFxuKSA9PiBBc3luY0l0ZXJhYmxlPGFueT47XG5cblxuLyoqXG4gKiDpgJrnn6XpmJ/liJfnsbsgLSDlpITnkIbmtYHlk43lupTpgJrnn6VcbiAqL1xuY2xhc3MgTm90aWZpY2F0aW9uUXVldWUge1xuICBwcml2YXRlIHF1ZXVlczogTWFwPHN0cmluZywgQXJyYXk8U3RyZWFtUmVzcG9uc2VbJ3BhcmFtcyddPj4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgd2FpdGVyczogTWFwPHN0cmluZywgQXJyYXk8KHZhbHVlOiBTdHJlYW1SZXNwb25zZVsncGFyYW1zJ10pID0+IHZvaWQ+PiA9IG5ldyBNYXAoKTtcblxuICBwdXNoKG5vdGlmaWNhdGlvbjogU3RyZWFtUmVzcG9uc2UpOiB2b2lkIHtcbiAgICBjb25zdCB7IHJlcXVlc3RJZCB9ID0gbm90aWZpY2F0aW9uLnBhcmFtcztcbiAgICBjb25zdCBxdWV1ZSA9IHRoaXMucXVldWVzLmdldChyZXF1ZXN0SWQpIHx8IFtdO1xuICAgIGNvbnN0IHdhaXRlcnMgPSB0aGlzLndhaXRlcnMuZ2V0KHJlcXVlc3RJZCkgfHwgW107XG5cbiAgICBpZiAod2FpdGVycy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCB3YWl0ZXIgPSB3YWl0ZXJzLnNoaWZ0KCkhO1xuICAgICAgd2FpdGVyKG5vdGlmaWNhdGlvbi5wYXJhbXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBxdWV1ZS5wdXNoKG5vdGlmaWNhdGlvbi5wYXJhbXMpO1xuICAgICAgdGhpcy5xdWV1ZXMuc2V0KHJlcXVlc3RJZCwgcXVldWUpO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHBvcChyZXF1ZXN0SWQ6IHN0cmluZyk6IFByb21pc2U8U3RyZWFtUmVzcG9uc2VbJ3BhcmFtcyddPiB7XG4gICAgY29uc3QgcXVldWUgPSB0aGlzLnF1ZXVlcy5nZXQocmVxdWVzdElkKSB8fCBbXTtcbiAgICBcbiAgICBpZiAocXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHF1ZXVlLnNoaWZ0KCkhO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZTxTdHJlYW1SZXNwb25zZVsncGFyYW1zJ10+KChyZXNvbHZlKSA9PiB7XG4gICAgICBjb25zdCB3YWl0ZXJzID0gdGhpcy53YWl0ZXJzLmdldChyZXF1ZXN0SWQpIHx8IFtdO1xuICAgICAgd2FpdGVycy5wdXNoKHJlc29sdmUpO1xuICAgICAgdGhpcy53YWl0ZXJzLnNldChyZXF1ZXN0SWQsIHdhaXRlcnMpO1xuICAgIH0pO1xuICB9XG5cbiAgY2xlYW51cChyZXF1ZXN0SWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMucXVldWVzLmRlbGV0ZShyZXF1ZXN0SWQpO1xuICAgIHRoaXMud2FpdGVycy5kZWxldGUocmVxdWVzdElkKTtcbiAgfVxufVxuXG4vKipcbiAqIFN0cmVhbVJlcXVlc3RvciAtIOWfuuS6jk1DUE1pZGRsZXdhcmXnmoTmtYHlvI/or7fmsYLlpITnkIblmahcbiAqIFxuICog6YCa6L+H57uE5ZCITUNQTWlkZGxld2FyZe+8jOaPkOS+m1NEUFBQ5Y2P6K6u55qE5rWB5byP6K+35rGC6IO95Yqb77yaXG4gKiAxLiDlpITnkIbmtYHlvI/or7fmsYLlkozlk43lupRcbiAqIDIuIOeuoeeQhuivt+axgueUn+WRveWRqOacn+WSjOS4reatouaTjeS9nFxuICogMy4g5o+Q5L6b5byC5q2l6L+t5Luj5Zmo5o6l5Y+jXG4gKi9cbmV4cG9ydCBjbGFzcyBTdHJlYW1SZXF1ZXN0b3Ige1xuICBwcml2YXRlIG1pZGRsZXdhcmU6IE1DUE1pZGRsZXdhcmU7XG4gIFxuICAvLyBzdHJlYW1SZXF1ZXN0b3IgaGFuZGxlciDms6jlhozooahcbiAgcHJpdmF0ZSBzdHJlYW1SZXF1ZXN0b3JIYW5kbGVyczogTWFwPHN0cmluZywgU3RyZWFtUmVxdWVzdG9ySGFuZGxlcj4gPSBuZXcgTWFwKCk7XG4gIFxuICAvLyByZXF1ZXN0SWQg55Sf5oiQ5ZmoXG4gIHByaXZhdGUgcmVxdWVzdElkU2VxID0gMTtcbiAgXG4gIC8vIOato+WcqOaJp+ihjOeahOivt+axgueahCBBYm9ydENvbnRyb2xsZXJcbiAgcHJpdmF0ZSBydW5uaW5nUmVxdWVzdHM6IE1hcDxzdHJpbmcsIEFib3J0Q29udHJvbGxlcj4gPSBuZXcgTWFwKCk7XG4gIFxuICAvLyDpgJrnn6XpmJ/liJdcbiAgcHJpdmF0ZSBub3RpZmljYXRpb25RdWV1ZSA9IG5ldyBOb3RpZmljYXRpb25RdWV1ZSgpO1xuXG4gIGNvbnN0cnVjdG9yKG1pZGRsZXdhcmU6IE1DUE1pZGRsZXdhcmUpIHtcbiAgICB0aGlzLm1pZGRsZXdhcmUgPSBtaWRkbGV3YXJlO1xuICAgIHRoaXMuc2V0dXBTdHJlYW1Qcm90b2NvbEhhbmRsZXJzKCk7XG4gIH1cblxuICAvKipcbiAgICog6K6+572u5rWB5Y2P6K6u5aSE55CG5ZmoXG4gICAqL1xuICBwcml2YXRlIHNldHVwU3RyZWFtUHJvdG9jb2xIYW5kbGVycygpOiB2b2lkIHtcbiAgICB0aGlzLnNldHVwU3RyZWFtUmVzcG9uc2VIYW5kbGVyKCk7XG4gICAgdGhpcy5zZXR1cEFib3J0SGFuZGxlcigpO1xuICAgIHRoaXMuc2V0dXBTdHJlYW1SZXF1ZXN0SGFuZGxlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIOiuvue9rua1geWTjeW6lOmAmuefpeWkhOeQhuWZqFxuICAgKi9cbiAgcHJpdmF0ZSBzZXR1cFN0cmVhbVJlc3BvbnNlSGFuZGxlcigpOiB2b2lkIHtcbiAgICB0aGlzLm1pZGRsZXdhcmUuc2V0Tm90aWZpY2F0aW9uSGFuZGxlcihcbiAgICAgIHN0cmVhbVJlc3BvbnNlU2NoZW1hLFxuICAgICAgYXN5bmMgKG5vdGlmaWNhdGlvbikgPT4ge1xuICAgICAgICB0aGlzLm5vdGlmaWNhdGlvblF1ZXVlLnB1c2gobm90aWZpY2F0aW9uKTtcbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIOiuvue9ruS4reatouivt+axguWkhOeQhuWZqFxuICAgKi9cbiAgcHJpdmF0ZSBzZXR1cEFib3J0SGFuZGxlcigpOiB2b2lkIHtcbiAgICB0aGlzLm1pZGRsZXdhcmUuc2V0UmVxdWVzdEhhbmRsZXIoYWJvcnRSZXF1ZXN0U2NoZW1hLCBhc3luYyAocmVxdWVzdCwgZXh0cmEpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVxdWVzdElkIH0gPSByZXF1ZXN0LnBhcmFtcztcbiAgICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IHRoaXMucnVubmluZ1JlcXVlc3RzLmdldChyZXF1ZXN0SWQpO1xuXG4gICAgICBpZiAoYWJvcnRDb250cm9sbGVyKSB7XG4gICAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICB0aGlzLnJ1bm5pbmdSZXF1ZXN0cy5kZWxldGUocmVxdWVzdElkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIOiuvue9rua1geivt+axguWkhOeQhuWZqFxuICAgKi9cbiAgcHJpdmF0ZSBzZXR1cFN0cmVhbVJlcXVlc3RIYW5kbGVyKCk6IHZvaWQge1xuICAgIHRoaXMubWlkZGxld2FyZS5zZXRSZXF1ZXN0SGFuZGxlcihzdHJlYW1SZXF1ZXN0U2NoZW1hLCBhc3luYyAocmVxdWVzdCwgZXh0cmEpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3RJZCA9IGByZXFfJHt0aGlzLnJlcXVlc3RJZFNlcSsrfWA7XG4gICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5zdHJlYW1SZXF1ZXN0b3JIYW5kbGVycy5nZXQocmVxdWVzdC5wYXJhbXMuYWN0aW9uKTtcblxuICAgICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gaGFuZGxlciBmb3Igc3RyZWFtUmVxdWVzdG9yOiAnICsgcmVxdWVzdC5wYXJhbXMuYWN0aW9uKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgdGhpcy5ydW5uaW5nUmVxdWVzdHMuc2V0KHJlcXVlc3RJZCwgYWJvcnRDb250cm9sbGVyKTtcblxuICAgICAgLy8g5byC5q2l5omn6KGM5aSE55CG5ZmoXG4gICAgICB0aGlzLmV4ZWN1dGVIYW5kbGVyQXN5bmMocmVxdWVzdElkLCBoYW5kbGVyLCByZXF1ZXN0LnBhcmFtcywgZXh0cmEsIGFib3J0Q29udHJvbGxlcik7XG5cbiAgICAgIHJldHVybiB7IHJlcXVlc3RJZCB9O1xuICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgICog5byC5q2l5omn6KGMc3RyZWFtUmVxdWVzdG9y5aSE55CG5ZmoXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGV4ZWN1dGVIYW5kbGVyQXN5bmMoXG4gICAgcmVxdWVzdElkOiBzdHJpbmcsXG4gICAgaGFuZGxlcjogU3RyZWFtUmVxdWVzdG9ySGFuZGxlcixcbiAgICBwYXJhbXM6IGFueSxcbiAgICBleHRyYTogYW55LFxuICAgIGFib3J0Q29udHJvbGxlcjogQWJvcnRDb250cm9sbGVyXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBpdGVyYWJsZSA9IGhhbmRsZXIocGFyYW1zLCBleHRyYSwgYWJvcnRDb250cm9sbGVyLnNpZ25hbCk7XG4gICAgICBcbiAgICAgIGZvciBhd2FpdCAoY29uc3QgZGF0YSBvZiBpdGVyYWJsZSkge1xuICAgICAgICBpZiAoYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB0aGlzLm1pZGRsZXdhcmUubm90aWZpY2F0aW9uKHtcbiAgICAgICAgICBtZXRob2Q6ICdzZHBwcC9zdHJlYW1SZXNwb25zZScsXG4gICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICByZXF1ZXN0SWQsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICBmaW5pc2hlZDogZmFsc2UsXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8g5Y+R6YCB5a6M5oiQ6YCa55+lXG4gICAgICBpZiAoIWFib3J0Q29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICBhd2FpdCB0aGlzLm1pZGRsZXdhcmUubm90aWZpY2F0aW9uKHtcbiAgICAgICAgICBtZXRob2Q6ICdzZHBwcC9zdHJlYW1SZXNwb25zZScsXG4gICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICByZXF1ZXN0SWQsXG4gICAgICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICBmaW5pc2hlZDogdHJ1ZSxcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyDlj5HpgIHplJnor6/pgJrnn6VcbiAgICAgIGlmICghYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIGF3YWl0IHRoaXMubWlkZGxld2FyZS5ub3RpZmljYXRpb24oe1xuICAgICAgICAgIG1ldGhvZDogJ3NkcHBwL3N0cmVhbVJlc3BvbnNlJyxcbiAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIHJlcXVlc3RJZCxcbiAgICAgICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgICAgICBlcnJvcjogKGVycm9yIGFzIEVycm9yKS5tZXNzYWdlLFxuICAgICAgICAgICAgZmluaXNoZWQ6IHRydWUsXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgdGhpcy5ydW5uaW5nUmVxdWVzdHMuZGVsZXRlKHJlcXVlc3RJZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOazqOWGjCBzdHJlYW1SZXF1ZXN0b3IgaGFuZGxlclxuICAgKi9cbiAgcHVibGljIHJlZ2lzdGVyU3RyZWFtUmVxdWVzdG9ySGFuZGxlcjxUIGV4dGVuZHMgWm9kT2JqZWN0PHtcbiAgICBhY3Rpb246IFpvZExpdGVyYWw8c3RyaW5nPjtcbiAgfT4+KHBhcmFtc1NjaGVtYTogVCwgaGFuZGxlcjogU3RyZWFtUmVxdWVzdG9ySGFuZGxlcjx6LmluZmVyPFQ+Pik6IHZvaWQge1xuICAgIHRoaXMuc3RyZWFtUmVxdWVzdG9ySGFuZGxlcnMuc2V0KHBhcmFtc1NjaGVtYS5zaGFwZS5hY3Rpb24udmFsdWUsIGhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIOWPkei1tyBzdHJlYW1SZXF1ZXN0b3Ig6K+35rGC77yM6L+U5Zue5byC5q2l6L+t5Luj5ZmoXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgc3RyZWFtUmVxdWVzdDxUIGV4dGVuZHMgWm9kT2JqZWN0PHt9Pj4oXG4gICAgcGFyYW1zOiB7IGFjdGlvbjogc3RyaW5nLCBkYXRhOiBhbnkgfSAmIFJlY29yZDxzdHJpbmcsIGFueT4sXG4gICAgcmVzcG9uc2VTY2hlbWE6IFQsXG4gICAgc2lnbmFsPzogQWJvcnRTaWduYWxcbiAgKTogUHJvbWlzZTxTdHJlYW1SZXF1ZXN0b3JJdGVyYXRvcjx6LmluZmVyPFQ+Pj4ge1xuICAgIHRoaXMudmFsaWRhdGVTdHJlYW1SZXF1ZXN0b3JSZXF1ZXN0KHNpZ25hbCk7XG5cbiAgICBjb25zdCByZXF1ZXN0SWQgPSBhd2FpdCB0aGlzLnNlbmRTdHJlYW1SZXF1ZXN0b3JSZXF1ZXN0KHBhcmFtcyk7XG4gICAgY29uc3QgcmVzcG9uc2VRdWV1ZSA9IHRoaXMuaW5pdGlhbGl6ZVJlc3BvbnNlUXVldWUocmVxdWVzdElkKTtcbiAgICBjb25zdCBzdHJlYW1TdGF0ZSA9IHRoaXMuY3JlYXRlU3RyZWFtU3RhdGUoKTtcblxuICAgIHJldHVybiB0aGlzLmNyZWF0ZUFzeW5jSXRlcmF0b3IocmVzcG9uc2VRdWV1ZSwgc3RyZWFtU3RhdGUsIHJlcXVlc3RJZCwgc2lnbmFsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDpqozor4FzdHJlYW1SZXF1ZXN0b3Lor7fmsYJcbiAgICovXG4gIHByaXZhdGUgdmFsaWRhdGVTdHJlYW1SZXF1ZXN0b3JSZXF1ZXN0KHNpZ25hbD86IEFib3J0U2lnbmFsKTogdm9pZCB7XG4gICAgaWYgKHNpZ25hbCAmJiBzaWduYWwuYWJvcnRlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBYm9ydFNpZ25hbCBpcyBhbHJlYWR5IGFib3J0ZWQnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5Y+R6YCBc3RyZWFtUmVxdWVzdG9y6K+35rGCXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIHNlbmRTdHJlYW1SZXF1ZXN0b3JSZXF1ZXN0KHBhcmFtczogeyBhY3Rpb246IHN0cmluZywgZGF0YTogYW55IH0gJiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMubWlkZGxld2FyZS5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogJ3NkcHBwL3N0cmVhbVJlcXVlc3QnLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIGFjdGlvbjogcGFyYW1zLmFjdGlvbixcbiAgICAgICAgZGF0YTogcGFyYW1zLmRhdGFcbiAgICAgIH1cbiAgICB9LCB6Lm9iamVjdCh7IHJlcXVlc3RJZDogei5zdHJpbmcoKSB9KSk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2UucmVxdWVzdElkO1xuICB9XG5cbiAgLyoqXG4gICAqIOWIneWni+WMluWTjeW6lOmYn+WIl1xuICAgKi9cbiAgcHJpdmF0ZSBpbml0aWFsaXplUmVzcG9uc2VRdWV1ZShyZXF1ZXN0SWQ6IHN0cmluZyk6IE5vdGlmaWNhdGlvblF1ZXVlIHtcbiAgICByZXR1cm4gdGhpcy5ub3RpZmljYXRpb25RdWV1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiDliJvlu7rmtYHnirbmgIFcbiAgICovXG4gIHByaXZhdGUgY3JlYXRlU3RyZWFtU3RhdGUoKTogeyBmaW5pc2hlZDogYm9vbGVhbjsgZXJyb3I6IHN0cmluZyB8IG51bGwgfSB7XG4gICAgcmV0dXJuIHsgZmluaXNoZWQ6IGZhbHNlLCBlcnJvcjogbnVsbCB9O1xuICB9XG5cbiAgLyoqXG4gICAqIOWIm+W7uuW8guatpei/reS7o+WZqFxuICAgKi9cbiAgcHJpdmF0ZSBjcmVhdGVBc3luY0l0ZXJhdG9yPFQ+KFxuICAgIHF1ZXVlOiBOb3RpZmljYXRpb25RdWV1ZSxcbiAgICBzdHJlYW1TdGF0ZTogeyBmaW5pc2hlZDogYm9vbGVhbjsgZXJyb3I6IHN0cmluZyB8IG51bGwgfSxcbiAgICByZXF1ZXN0SWQ6IHN0cmluZyxcbiAgICBzaWduYWw/OiBBYm9ydFNpZ25hbFxuICApOiBTdHJlYW1SZXF1ZXN0b3JJdGVyYXRvcjxUPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIGFzeW5jICpbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk6IEFzeW5jSXRlcmFibGVJdGVyYXRvcjxUPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgd2hpbGUgKCFzdHJlYW1TdGF0ZS5maW5pc2hlZCAmJiAhc3RyZWFtU3RhdGUuZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChzaWduYWwgJiYgc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgLy8g5Y+R6YCB5Lit5q2i6K+35rGCXG4gICAgICAgICAgICAgIGF3YWl0IHNlbGYubWlkZGxld2FyZS5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdzZHBwcC9hYm9ydCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7IHJlcXVlc3RJZCB9XG4gICAgICAgICAgICAgIH0sIHoub2JqZWN0KHsgc3VjY2Vzczogei5ib29sZWFuKCkgfSkpO1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0ZWQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBxdWV1ZS5wb3AocmVxdWVzdElkKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgICAgICAgIHN0cmVhbVN0YXRlLmVycm9yID0gcmVzcG9uc2UuZXJyb3I7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5lcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5maW5pc2hlZCkge1xuICAgICAgICAgICAgICBzdHJlYW1TdGF0ZS5maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICB5aWVsZCByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBxdWV1ZS5jbGVhbnVwKHJlcXVlc3RJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cblxuICAvKipcbiAgICog6I635Y+W5q2j5Zyo6L+Q6KGM55qE6K+35rGC5pWw6YePXG4gICAqL1xuICBwdWJsaWMgZ2V0UnVubmluZ1JlcXVlc3RzQ291bnQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5ydW5uaW5nUmVxdWVzdHMuc2l6ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiDkuK3mraLmjIflrpror7fmsYJcbiAgICovXG4gIHB1YmxpYyBhc3luYyBhYm9ydFJlcXVlc3QocmVxdWVzdElkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBjb25zdCBhYm9ydENvbnRyb2xsZXIgPSB0aGlzLnJ1bm5pbmdSZXF1ZXN0cy5nZXQocmVxdWVzdElkKTtcbiAgICBcbiAgICBpZiAoYWJvcnRDb250cm9sbGVyKSB7XG4gICAgICBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIHRoaXMucnVubmluZ1JlcXVlc3RzLmRlbGV0ZShyZXF1ZXN0SWQpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiDkuK3mraLmiYDmnInmraPlnKjov5DooYznmoTor7fmsYJcbiAgICovXG4gIHB1YmxpYyBhYm9ydEFsbFJlcXVlc3RzKCk6IHZvaWQge1xuICAgIGZvciAoY29uc3QgW3JlcXVlc3RJZCwgYWJvcnRDb250cm9sbGVyXSBvZiB0aGlzLnJ1bm5pbmdSZXF1ZXN0cykge1xuICAgICAgYWJvcnRDb250cm9sbGVyLmFib3J0KCk7XG4gICAgfVxuICAgIHRoaXMucnVubmluZ1JlcXVlc3RzLmNsZWFyKCk7XG4gIH1cblxuICAvKipcbiAgICog5riF55CG6LWE5rqQXG4gICAqL1xuICBwdWJsaWMgY2xlYW51cCgpOiB2b2lkIHtcbiAgICB0aGlzLmFib3J0QWxsUmVxdWVzdHMoKTtcbiAgICB0aGlzLnN0cmVhbVJlcXVlc3RvckhhbmRsZXJzLmNsZWFyKCk7XG4gIH1cbn0iLCJpbXBvcnQgeyB6LCBab2RPYmplY3QsIFpvZExpdGVyYWwgfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgdHlwZSB7IFByb3RvY29sIH0gZnJvbSBcIkBtb2RlbGNvbnRleHRwcm90b2NvbC9zZGsvc2hhcmVkL3Byb3RvY29sLmpzXCI7XG5pbXBvcnQgdHlwZSB7IFRyYW5zcG9ydCB9IGZyb20gXCJAbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL3NoYXJlZC90cmFuc3BvcnQuanNcIjtcbmltcG9ydCB7IE1DUE1pZGRsZXdhcmUgfSBmcm9tIFwiLi9NQ1BNaWRkbGV3YXJlL01DUE1pZGRsZXdhcmUudHNcIjtcbmltcG9ydCB0eXBlIHsgTUNQTWlkZGxld2FyZU9wdGlvbnMgfSBmcm9tIFwiLi9NQ1BNaWRkbGV3YXJlL3R5cGVzLnRzXCI7XG5pbXBvcnQgdHlwZSB7IFNEUFBQU2Vzc2lvbkxpa2UgfSBmcm9tIFwiLi4vaW50ZXJmYWNlcy9TRFBQUFNlc3Npb25MaWtlLnRzXCI7XG5cbi8qKlxuICog5rWB5ZON5bqU6YCa55+l55qEU2NoZW1hXG4gKi9cbmNvbnN0IHN0cmVhbVJlc3BvbnNlU2NoZW1hID0gei5vYmplY3Qoe1xuICBtZXRob2Q6IHoubGl0ZXJhbCgnc2RwcHAvc3RyZWFtUmVzcG9uc2UnKSxcbiAgcGFyYW1zOiB6Lm9iamVjdCh7XG4gICAgcmVxdWVzdElkOiB6LnN0cmluZygpLFxuICAgIGRhdGE6IHouYW55KCksXG4gICAgZXJyb3I6IHouc3RyaW5nKCkubnVsbGFibGUoKSxcbiAgICBmaW5pc2hlZDogei5ib29sZWFuKCksXG4gIH0pXG59KTtcblxuLyoqXG4gKiDmtYHor7fmsYLnmoRTY2hlbWFcbiAqL1xuY29uc3Qgc3RyZWFtUmVxdWVzdFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgbWV0aG9kOiB6LmxpdGVyYWwoJ3NkcHBwL3N0cmVhbVJlcXVlc3QnKSxcbiAgcGFyYW1zOiB6Lm9iamVjdCh7XG4gICAgYWN0aW9uOiB6LnN0cmluZygpLFxuICAgIGRhdGE6IHouYW55KCksXG4gIH0pXG59KTtcblxuLyoqXG4gKiDkuK3mraLor7fmsYLnmoRTY2hlbWFcbiAqL1xuY29uc3QgYWJvcnRSZXF1ZXN0U2NoZW1hID0gei5vYmplY3Qoe1xuICBtZXRob2Q6IHoubGl0ZXJhbCgnc2RwcHAvYWJvcnQnKSxcbiAgcGFyYW1zOiB6Lm9iamVjdCh7XG4gICAgcmVxdWVzdElkOiB6LnN0cmluZygpLFxuICB9KVxufSk7XG5cbi8qKlxuICog5rWB5ZON5bqU6YCa55+l57G75Z6LXG4gKi9cbmV4cG9ydCB0eXBlIFN0cmVhbVJlc3BvbnNlID0gei5pbmZlcjx0eXBlb2Ygc3RyZWFtUmVzcG9uc2VTY2hlbWE+O1xuXG4vKipcbiAqIOa1geivt+axguexu+Wei1xuICovXG5leHBvcnQgdHlwZSBTdHJlYW1SZXF1ZXN0ID0gei5pbmZlcjx0eXBlb2Ygc3RyZWFtUmVxdWVzdFNjaGVtYT47XG5cbi8qKlxuICog5Lit5q2i6K+35rGC57G75Z6LXG4gKi9cbmV4cG9ydCB0eXBlIEFib3J0UmVxdWVzdCA9IHouaW5mZXI8dHlwZW9mIGFib3J0UmVxdWVzdFNjaGVtYT47XG5cbi8qKlxuICog5rWBU0RQUFBUcmFuc3BvcnTov63ku6PlmajmjqXlj6NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdHJlYW1SZXF1ZXN0b3JJdGVyYXRvcjxUPiB7XG4gIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTogQXN5bmNJdGVyYWJsZUl0ZXJhdG9yPFQ+O1xufVxuXG4vKipcbiAqIFNEUFBQVHJhbnNwb3J05aSE55CG5Zmo57G75Z6LXG4gKi9cbmV4cG9ydCB0eXBlIFN0cmVhbVJlcXVlc3RvckhhbmRsZXI8VCA9IGFueT4gPSAoXG4gIHBhcmFtczogVCxcbiAgZXh0cmE6IGFueSxcbiAgc2lnbmFsPzogQWJvcnRTaWduYWxcbikgPT4gQXN5bmNJdGVyYWJsZTxhbnk+O1xuXG4vKipcbiAqIOmAmuefpemYn+WIl+exuyAtIOWkhOeQhua1geWTjeW6lOmAmuefpVxuICovXG5jbGFzcyBOb3RpZmljYXRpb25RdWV1ZSB7XG4gIHByaXZhdGUgcXVldWVzOiBNYXA8c3RyaW5nLCBBcnJheTxTdHJlYW1SZXNwb25zZVsncGFyYW1zJ10+PiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSB3YWl0ZXJzOiBNYXA8c3RyaW5nLCBBcnJheTwodmFsdWU6IFN0cmVhbVJlc3BvbnNlWydwYXJhbXMnXSkgPT4gdm9pZD4+ID0gbmV3IE1hcCgpO1xuXG4gIHB1c2gobm90aWZpY2F0aW9uOiBTdHJlYW1SZXNwb25zZSk6IHZvaWQge1xuICAgIGNvbnN0IHsgcmVxdWVzdElkIH0gPSBub3RpZmljYXRpb24ucGFyYW1zO1xuICAgIGNvbnN0IHF1ZXVlID0gdGhpcy5xdWV1ZXMuZ2V0KHJlcXVlc3RJZCkgfHwgW107XG4gICAgY29uc3Qgd2FpdGVycyA9IHRoaXMud2FpdGVycy5nZXQocmVxdWVzdElkKSB8fCBbXTtcblxuICAgIGlmICh3YWl0ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHdhaXRlciA9IHdhaXRlcnMuc2hpZnQoKSE7XG4gICAgICB3YWl0ZXIobm90aWZpY2F0aW9uLnBhcmFtcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHF1ZXVlLnB1c2gobm90aWZpY2F0aW9uLnBhcmFtcyk7XG4gICAgICB0aGlzLnF1ZXVlcy5zZXQocmVxdWVzdElkLCBxdWV1ZSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcG9wKHJlcXVlc3RJZDogc3RyaW5nKTogUHJvbWlzZTxTdHJlYW1SZXNwb25zZVsncGFyYW1zJ10+IHtcbiAgICBjb25zdCBxdWV1ZSA9IHRoaXMucXVldWVzLmdldChyZXF1ZXN0SWQpIHx8IFtdO1xuICAgIFxuICAgIGlmIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gcXVldWUuc2hpZnQoKSE7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPFN0cmVhbVJlc3BvbnNlWydwYXJhbXMnXT4oKHJlc29sdmUpID0+IHtcbiAgICAgIGNvbnN0IHdhaXRlcnMgPSB0aGlzLndhaXRlcnMuZ2V0KHJlcXVlc3RJZCkgfHwgW107XG4gICAgICB3YWl0ZXJzLnB1c2gocmVzb2x2ZSk7XG4gICAgICB0aGlzLndhaXRlcnMuc2V0KHJlcXVlc3RJZCwgd2FpdGVycyk7XG4gICAgfSk7XG4gIH1cblxuICBjbGVhbnVwKHJlcXVlc3RJZDogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5xdWV1ZXMuZGVsZXRlKHJlcXVlc3RJZCk7XG4gICAgdGhpcy53YWl0ZXJzLmRlbGV0ZShyZXF1ZXN0SWQpO1xuICB9XG59XG5cbi8qKlxuICogTUNQU0RQUFBTZXNzaW9uQWRhcHRvciAtIOWfuuS6jk1DUE1pZGRsZXdhcmXnmoRTRFBQUOWNj+iuruS8muivnemAgumFjeWZqFxuICogXG4gKiDnu6fmib9NQ1BNaWRkbGV3YXJl55qE5omA5pyJ6IO95Yqb77yM5bm25re75YqgU0RQUFDljY/orq7nmoTmtYHlvI/lpITnkIblip/og73vvJpcbiAqIDEuIOWujOWFqOe7p+aJv01DUE1pZGRsZXdhcmXnmoTor7fmsYIv6YCa55+l5aSE55CG6IO95YqbXG4gKiAyLiDmt7vliqDmtYHlvI/or7fmsYLlkozlk43lupTlpITnkIZcbiAqIDMuIOeuoeeQhuivt+axgueUn+WRveWRqOacn+WSjOS4reatouaTjeS9nFxuICogNC4g5o+Q5L6b5byC5q2l6L+t5Luj5Zmo5o6l5Y+jXG4gKi9cbmV4cG9ydCBjbGFzcyBNQ1BTRFBQUFNlc3Npb25BZGFwdG9yIGV4dGVuZHMgTUNQTWlkZGxld2FyZSBpbXBsZW1lbnRzIFNEUFBQU2Vzc2lvbkxpa2Uge1xuICAvLyBzdHJlYW1SZXF1ZXN0b3IgaGFuZGxlciDms6jlhozooahcbiAgcHJpdmF0ZSBzdHJlYW1SZXF1ZXN0b3JIYW5kbGVyczogTWFwPHN0cmluZywgU3RyZWFtUmVxdWVzdG9ySGFuZGxlcj4gPSBuZXcgTWFwKCk7XG4gIFxuICAvLyByZXF1ZXN0SWQg55Sf5oiQ5ZmoXG4gIHByaXZhdGUgcmVxdWVzdElkU2VxID0gMTtcbiAgXG4gIC8vIOato+WcqOaJp+ihjOeahOivt+axgueahCBBYm9ydENvbnRyb2xsZXJcbiAgcHJpdmF0ZSBydW5uaW5nUmVxdWVzdHM6IE1hcDxzdHJpbmcsIEFib3J0Q29udHJvbGxlcj4gPSBuZXcgTWFwKCk7XG4gIFxuICAvLyDpgJrnn6XpmJ/liJdcbiAgcHJpdmF0ZSBub3RpZmljYXRpb25RdWV1ZSA9IG5ldyBOb3RpZmljYXRpb25RdWV1ZSgpO1xuXG4gIGNvbnN0cnVjdG9yKHByb3RvY29sOiBQcm90b2NvbDxhbnksIGFueSwgYW55Piwgb3B0aW9uczogTUNQTWlkZGxld2FyZU9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKHByb3RvY29sLCBvcHRpb25zKTtcbiAgICB0aGlzLnNldHVwU3RyZWFtUHJvdG9jb2xIYW5kbGVycygpO1xuICB9XG5cbiAgLyoqXG4gICAqIOiuvue9rua1geWNj+iuruWkhOeQhuWZqFxuICAgKi9cbiAgcHJpdmF0ZSBzZXR1cFN0cmVhbVByb3RvY29sSGFuZGxlcnMoKTogdm9pZCB7XG4gICAgdGhpcy5zZXR1cFN0cmVhbVJlc3BvbnNlSGFuZGxlcigpO1xuICAgIHRoaXMuc2V0dXBBYm9ydEhhbmRsZXIoKTtcbiAgICB0aGlzLnNldHVwU3RyZWFtUmVxdWVzdEhhbmRsZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDorr7nva7mtYHlk43lupTpgJrnn6XlpITnkIblmahcbiAgICovXG4gIHByaXZhdGUgc2V0dXBTdHJlYW1SZXNwb25zZUhhbmRsZXIoKTogdm9pZCB7XG4gICAgdGhpcy5zZXROb3RpZmljYXRpb25IYW5kbGVyKFxuICAgICAgc3RyZWFtUmVzcG9uc2VTY2hlbWEsXG4gICAgICBhc3luYyAobm90aWZpY2F0aW9uKSA9PiB7XG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9uUXVldWUucHVzaChub3RpZmljYXRpb24pO1xuICAgICAgfVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICog6K6+572u5Lit5q2i6K+35rGC5aSE55CG5ZmoXG4gICAqL1xuICBwcml2YXRlIHNldHVwQWJvcnRIYW5kbGVyKCk6IHZvaWQge1xuICAgIHRoaXMuc2V0UmVxdWVzdEhhbmRsZXIoYWJvcnRSZXF1ZXN0U2NoZW1hLCBhc3luYyAocmVxdWVzdCwgZXh0cmEpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVxdWVzdElkIH0gPSByZXF1ZXN0LnBhcmFtcztcbiAgICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IHRoaXMucnVubmluZ1JlcXVlc3RzLmdldChyZXF1ZXN0SWQpO1xuXG4gICAgICBpZiAoYWJvcnRDb250cm9sbGVyKSB7XG4gICAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICB0aGlzLnJ1bm5pbmdSZXF1ZXN0cy5kZWxldGUocmVxdWVzdElkKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIOiuvue9rua1geivt+axguWkhOeQhuWZqFxuICAgKi9cbiAgcHJpdmF0ZSBzZXR1cFN0cmVhbVJlcXVlc3RIYW5kbGVyKCk6IHZvaWQge1xuICAgIHRoaXMuc2V0UmVxdWVzdEhhbmRsZXIoc3RyZWFtUmVxdWVzdFNjaGVtYSwgYXN5bmMgKHJlcXVlc3QsIGV4dHJhKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0SWQgPSBgcmVxXyR7dGhpcy5yZXF1ZXN0SWRTZXErK31gO1xuICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuc3RyZWFtUmVxdWVzdG9ySGFuZGxlcnMuZ2V0KHJlcXVlc3QucGFyYW1zLmFjdGlvbik7XG5cbiAgICAgIGlmICghaGFuZGxlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGhhbmRsZXIgZm9yIHN0cmVhbVJlcXVlc3RvcjogJyArIHJlcXVlc3QucGFyYW1zLmFjdGlvbik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgIHRoaXMucnVubmluZ1JlcXVlc3RzLnNldChyZXF1ZXN0SWQsIGFib3J0Q29udHJvbGxlcik7XG5cbiAgICAgIC8vIOW8guatpeaJp+ihjOWkhOeQhuWZqFxuICAgICAgdGhpcy5leGVjdXRlSGFuZGxlckFzeW5jKHJlcXVlc3RJZCwgaGFuZGxlciwgcmVxdWVzdC5wYXJhbXMsIGV4dHJhLCBhYm9ydENvbnRyb2xsZXIpO1xuXG4gICAgICByZXR1cm4geyByZXF1ZXN0SWQgfTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiDlvILmraXmiafooYxzdHJlYW1SZXF1ZXN0b3LlpITnkIblmahcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZXhlY3V0ZUhhbmRsZXJBc3luYyhcbiAgICByZXF1ZXN0SWQ6IHN0cmluZyxcbiAgICBoYW5kbGVyOiBTdHJlYW1SZXF1ZXN0b3JIYW5kbGVyLFxuICAgIHBhcmFtczogYW55LFxuICAgIGV4dHJhOiBhbnksXG4gICAgYWJvcnRDb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXJcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGl0ZXJhYmxlID0gaGFuZGxlcihwYXJhbXMsIGV4dHJhLCBhYm9ydENvbnRyb2xsZXIuc2lnbmFsKTtcbiAgICAgIFxuICAgICAgZm9yIGF3YWl0IChjb25zdCBkYXRhIG9mIGl0ZXJhYmxlKSB7XG4gICAgICAgIGlmIChhYm9ydENvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGF3YWl0IHRoaXMubm90aWZpY2F0aW9uKHtcbiAgICAgICAgICBtZXRob2Q6ICdzZHBwcC9zdHJlYW1SZXNwb25zZScsXG4gICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICByZXF1ZXN0SWQsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICBmaW5pc2hlZDogZmFsc2UsXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8g5Y+R6YCB5a6M5oiQ6YCa55+lXG4gICAgICBpZiAoIWFib3J0Q29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICBhd2FpdCB0aGlzLm5vdGlmaWNhdGlvbih7XG4gICAgICAgICAgbWV0aG9kOiAnc2RwcHAvc3RyZWFtUmVzcG9uc2UnLFxuICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgZmluaXNoZWQ6IHRydWUsXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8g5Y+R6YCB6ZSZ6K+v6YCa55+lXG4gICAgICBpZiAoIWFib3J0Q29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICBhd2FpdCB0aGlzLm5vdGlmaWNhdGlvbih7XG4gICAgICAgICAgbWV0aG9kOiAnc2RwcHAvc3RyZWFtUmVzcG9uc2UnLFxuICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgICAgIGVycm9yOiAoZXJyb3IgYXMgRXJyb3IpLm1lc3NhZ2UsXG4gICAgICAgICAgICBmaW5pc2hlZDogdHJ1ZSxcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLnJ1bm5pbmdSZXF1ZXN0cy5kZWxldGUocmVxdWVzdElkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5rOo5YaMIHN0cmVhbVJlcXVlc3RvciBoYW5kbGVyXG4gICAqL1xuICBwdWJsaWMgcmVnaXN0ZXJTdHJlYW1SZXF1ZXN0b3JIYW5kbGVyPFQgZXh0ZW5kcyBab2RPYmplY3Q8e1xuICAgIGFjdGlvbjogWm9kTGl0ZXJhbDxzdHJpbmc+O1xuICB9Pj4ocGFyYW1zU2NoZW1hOiBULCBoYW5kbGVyOiBTdHJlYW1SZXF1ZXN0b3JIYW5kbGVyPHouaW5mZXI8VD4+KTogdm9pZCB7XG4gICAgdGhpcy5zdHJlYW1SZXF1ZXN0b3JIYW5kbGVycy5zZXQocGFyYW1zU2NoZW1hLnNoYXBlLmFjdGlvbi52YWx1ZSwgaGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICog5Y+R6LW3IHN0cmVhbVJlcXVlc3RvciDor7fmsYLvvIzov5Tlm57lvILmraXov63ku6PlmahcbiAgICovXG4gIHB1YmxpYyBhc3luYyBzdHJlYW1SZXF1ZXN0PFQgZXh0ZW5kcyBab2RPYmplY3Q8e30+PihcbiAgICBwYXJhbXM6IHsgYWN0aW9uOiBzdHJpbmcsIGRhdGE6IGFueSB9ICYgUmVjb3JkPHN0cmluZywgYW55PixcbiAgICByZXNwb25zZVNjaGVtYTogVCxcbiAgICBzaWduYWw/OiBBYm9ydFNpZ25hbFxuICApOiBQcm9taXNlPFN0cmVhbVJlcXVlc3Rvckl0ZXJhdG9yPHouaW5mZXI8VD4+PiB7XG4gICAgdGhpcy52YWxpZGF0ZVN0cmVhbVJlcXVlc3RvclJlcXVlc3Qoc2lnbmFsKTtcblxuICAgIGNvbnN0IHJlcXVlc3RJZCA9IGF3YWl0IHRoaXMuc2VuZFN0cmVhbVJlcXVlc3RvclJlcXVlc3QocGFyYW1zKTtcbiAgICBjb25zdCByZXNwb25zZVF1ZXVlID0gdGhpcy5pbml0aWFsaXplUmVzcG9uc2VRdWV1ZShyZXF1ZXN0SWQpO1xuICAgIGNvbnN0IHN0cmVhbVN0YXRlID0gdGhpcy5jcmVhdGVTdHJlYW1TdGF0ZSgpO1xuXG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlQXN5bmNJdGVyYXRvcihyZXNwb25zZVF1ZXVlLCBzdHJlYW1TdGF0ZSwgcmVxdWVzdElkLCBzaWduYWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIOmqjOivgXN0cmVhbVJlcXVlc3Rvcuivt+axglxuICAgKi9cbiAgcHJpdmF0ZSB2YWxpZGF0ZVN0cmVhbVJlcXVlc3RvclJlcXVlc3Qoc2lnbmFsPzogQWJvcnRTaWduYWwpOiB2b2lkIHtcbiAgICBpZiAoc2lnbmFsICYmIHNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0U2lnbmFsIGlzIGFscmVhZHkgYWJvcnRlZCcpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDlj5HpgIFzdHJlYW1SZXF1ZXN0b3Lor7fmsYJcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgc2VuZFN0cmVhbVJlcXVlc3RvclJlcXVlc3QocGFyYW1zOiB7IGFjdGlvbjogc3RyaW5nLCBkYXRhOiBhbnkgfSAmIFJlY29yZDxzdHJpbmcsIGFueT4pOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogJ3NkcHBwL3N0cmVhbVJlcXVlc3QnLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIGFjdGlvbjogcGFyYW1zLmFjdGlvbixcbiAgICAgICAgZGF0YTogcGFyYW1zLmRhdGFcbiAgICAgIH1cbiAgICB9LCB6Lm9iamVjdCh7IHJlcXVlc3RJZDogei5zdHJpbmcoKSB9KSk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2UucmVxdWVzdElkO1xuICB9XG5cbiAgLyoqXG4gICAqIOWIneWni+WMluWTjeW6lOmYn+WIl1xuICAgKi9cbiAgcHJpdmF0ZSBpbml0aWFsaXplUmVzcG9uc2VRdWV1ZShyZXF1ZXN0SWQ6IHN0cmluZyk6IE5vdGlmaWNhdGlvblF1ZXVlIHtcbiAgICByZXR1cm4gdGhpcy5ub3RpZmljYXRpb25RdWV1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiDliJvlu7rmtYHnirbmgIFcbiAgICovXG4gIHByaXZhdGUgY3JlYXRlU3RyZWFtU3RhdGUoKTogeyBmaW5pc2hlZDogYm9vbGVhbjsgZXJyb3I6IHN0cmluZyB8IG51bGwgfSB7XG4gICAgcmV0dXJuIHsgZmluaXNoZWQ6IGZhbHNlLCBlcnJvcjogbnVsbCB9O1xuICB9XG5cbiAgLyoqXG4gICAqIOWIm+W7uuW8guatpei/reS7o+WZqFxuICAgKi9cbiAgcHJpdmF0ZSBjcmVhdGVBc3luY0l0ZXJhdG9yPFQ+KFxuICAgIHF1ZXVlOiBOb3RpZmljYXRpb25RdWV1ZSxcbiAgICBzdHJlYW1TdGF0ZTogeyBmaW5pc2hlZDogYm9vbGVhbjsgZXJyb3I6IHN0cmluZyB8IG51bGwgfSxcbiAgICByZXF1ZXN0SWQ6IHN0cmluZyxcbiAgICBzaWduYWw/OiBBYm9ydFNpZ25hbFxuICApOiBTdHJlYW1SZXF1ZXN0b3JJdGVyYXRvcjxUPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIGFzeW5jICpbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk6IEFzeW5jSXRlcmFibGVJdGVyYXRvcjxUPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgd2hpbGUgKCFzdHJlYW1TdGF0ZS5maW5pc2hlZCAmJiAhc3RyZWFtU3RhdGUuZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChzaWduYWwgJiYgc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgLy8g5Y+R6YCB5Lit5q2i6K+35rGCXG4gICAgICAgICAgICAgIGF3YWl0IHNlbGYucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnc2RwcHAvYWJvcnQnLFxuICAgICAgICAgICAgICAgIHBhcmFtczogeyByZXF1ZXN0SWQgfVxuICAgICAgICAgICAgICB9LCB6Lm9iamVjdCh7IHN1Y2Nlc3M6IHouYm9vbGVhbigpIH0pKTtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGVkJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcXVldWUucG9wKHJlcXVlc3RJZCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgICBzdHJlYW1TdGF0ZS5lcnJvciA9IHJlc3BvbnNlLmVycm9yO1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2UuZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuZmluaXNoZWQpIHtcbiAgICAgICAgICAgICAgc3RyZWFtU3RhdGUuZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgeWllbGQgcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgcXVldWUuY2xlYW51cChyZXF1ZXN0SWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5bmraPlnKjov5DooYznmoTor7fmsYLmlbDph49cbiAgICovXG4gIHB1YmxpYyBnZXRSdW5uaW5nUmVxdWVzdHNDb3VudCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnJ1bm5pbmdSZXF1ZXN0cy5zaXplO1xuICB9XG5cbiAgLyoqXG4gICAqIOS4reatouaMh+Wumuivt+axglxuICAgKi9cbiAgcHVibGljIGFzeW5jIGFib3J0UmVxdWVzdChyZXF1ZXN0SWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IHRoaXMucnVubmluZ1JlcXVlc3RzLmdldChyZXF1ZXN0SWQpO1xuICAgIFxuICAgIGlmIChhYm9ydENvbnRyb2xsZXIpIHtcbiAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgdGhpcy5ydW5uaW5nUmVxdWVzdHMuZGVsZXRlKHJlcXVlc3RJZCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIOS4reatouaJgOacieato+WcqOi/kOihjOeahOivt+axglxuICAgKi9cbiAgcHVibGljIGFib3J0QWxsUmVxdWVzdHMoKTogdm9pZCB7XG4gICAgZm9yIChjb25zdCBbcmVxdWVzdElkLCBhYm9ydENvbnRyb2xsZXJdIG9mIHRoaXMucnVubmluZ1JlcXVlc3RzKSB7XG4gICAgICBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICB9XG4gICAgdGhpcy5ydW5uaW5nUmVxdWVzdHMuY2xlYXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmuIXnkIbotYTmupAgLSDph43lhpnniLbnsbvmlrnms5Xku6XljIXlkKvmtYHlpITnkIbmuIXnkIZcbiAgICovXG4gIHB1YmxpYyBjbGVhbnVwKCk6IHZvaWQge1xuICAgIHN1cGVyLmNsZWFudXAoKTsgLy8g6LCD55So54i257G75riF55CG5pa55rOVXG4gICAgdGhpcy5hYm9ydEFsbFJlcXVlc3RzKCk7XG4gICAgdGhpcy5zdHJlYW1SZXF1ZXN0b3JIYW5kbGVycy5jbGVhcigpO1xuICB9XG59IiwiaW1wb3J0IHR5cGUgeyBHcmFwaERlZmluaXRpb24sIEdyYXBoSW5zdGFuY2UgfSBmcm9tICcuL3R5cGVzLnRzJztcbmltcG9ydCB7IEdyYXBoRGVmaW5pdGlvbkNsYXNzIH0gZnJvbSAnLi9HcmFwaERlZmluaXRpb24udHMnO1xuaW1wb3J0IHsgR3JhcGhJbnN0YW5jZUltcGwgfSBmcm9tICcuL0dyYXBoSW5zdGFuY2UudHMnO1xuXG4vKipcbiAqIERlZmluZSBhIGdyYXBoIHdpdGggbm9kZXMgYW5kIGVkZ2VzXG4gKiBAcGFyYW0gZGVmaW5pdGlvbiBHcmFwaCBkZWZpbml0aW9uIHdpdGggbm9kZXMgYW5kIGVkZ2VzXG4gKiBAcmV0dXJucyBHcmFwaERlZmluaXRpb25XaXRoSm9pbiBvYmplY3Qgd2l0aCBqb2luQXMgbWV0aG9kXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVHcmFwaDxUR3JhcGhEZWYgZXh0ZW5kcyBHcmFwaERlZmluaXRpb24+KGRlZmluaXRpb246IFRHcmFwaERlZikge1xuICBjb25zdCBncmFwaERlZiA9IG5ldyBHcmFwaERlZmluaXRpb25DbGFzcyhkZWZpbml0aW9uKTtcbiAgXG4gIHJldHVybiB7XG4gICAgLyoqXG4gICAgICogSm9pbiBhcyBhIHNwZWNpZmljIG5vZGUgaW4gdGhlIGdyYXBoXG4gICAgICogQHBhcmFtIG5vZGVJZCBUaGUgbm9kZSBJRCB0byBqb2luIGFzXG4gICAgICogQHBhcmFtIG1vbml0b3JPcHRpb25zIE9wdGlvbmFsIGNvbm5lY3Rpb24gbW9uaXRvcmluZyBvcHRpb25zXG4gICAgICogQHJldHVybnMgR3JhcGhJbnN0YW5jZSBmb3IgdGhpcyBub2RlXG4gICAgICovXG4gICAgam9pbkFzPFROb2RlSWQgZXh0ZW5kcyBrZXlvZiBUR3JhcGhEZWZbJ25vZGVzJ10+KG5vZGVJZDogVE5vZGVJZCk6IEdyYXBoSW5zdGFuY2U8VEdyYXBoRGVmLCBUTm9kZUlkPiB7XG4gICAgICAvLyBWYWxpZGF0ZSBub2RlIGV4aXN0c1xuICAgICAgaWYgKCFncmFwaERlZi5nZXROb2RlKG5vZGVJZCBhcyBzdHJpbmcpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm9kZSAke1N0cmluZyhub2RlSWQpfSBub3QgZm91bmQgaW4gZ3JhcGggZGVmaW5pdGlvbmApO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gbmV3IEdyYXBoSW5zdGFuY2VJbXBsPFRHcmFwaERlZiwgVE5vZGVJZD4oZ3JhcGhEZWYsIG5vZGVJZCBhcyBzdHJpbmcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGdyYXBoIGRlZmluaXRpb25cbiAgICAgKi9cbiAgICBnZXREZWZpbml0aW9uKCk6IFRHcmFwaERlZiB7XG4gICAgICByZXR1cm4gZGVmaW5pdGlvbjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IGFsbCBub2RlIElEc1xuICAgICAqL1xuICAgIGdldE5vZGVJZHMoKTogc3RyaW5nW10ge1xuICAgICAgcmV0dXJuIGdyYXBoRGVmLmdldE5vZGVJZHMoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IG5laWdoYm9ycyBvZiBhIG5vZGVcbiAgICAgKi9cbiAgICBnZXROZWlnaGJvcnMobm9kZUlkOiBzdHJpbmcpOiBzdHJpbmdbXSB7XG4gICAgICByZXR1cm4gZ3JhcGhEZWYuZ2V0TmVpZ2hib3JzKG5vZGVJZCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGFuIGVkZ2UgZXhpc3RzXG4gICAgICovXG4gICAgaGFzRWRnZShmcm9tOiBzdHJpbmcsIHRvOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiBncmFwaERlZi5oYXNFZGdlKGZyb20sIHRvKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlcmUncyBhIHBhdGggYmV0d2VlbiB0d28gbm9kZXMgKGRpcmVjdCBvciBpbmRpcmVjdClcbiAgICAgKi9cbiAgICBoYXNQYXRoKGZyb206IHN0cmluZywgdG86IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIGdyYXBoRGVmLmhhc1BhdGgoZnJvbSwgdG8pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaW5kIHBhdGggYmV0d2VlbiB0d28gbm9kZXMgdXNpbmcgQkZTXG4gICAgICovXG4gICAgZmluZFBhdGgoZnJvbTogc3RyaW5nLCB0bzogc3RyaW5nKTogc3RyaW5nW10gfCBudWxsIHtcbiAgICAgIHJldHVybiBncmFwaERlZi5maW5kUGF0aChmcm9tLCB0byk7XG4gICAgfVxuICB9O1xufVxuXG4vLyBSZS1leHBvcnQgdHlwZXMgZm9yIGNvbnZlbmllbmNlXG5leHBvcnQgdHlwZSB7XG4gIEdyYXBoRGVmaW5pdGlvbixcbiAgTm9kZURlZmluaXRpb24sXG4gIEFjdGlvbkRlZmluaXRpb24sXG4gIEdyYXBoSW5zdGFuY2UsXG4gIE5vZGVQcm94eSxcbiAgU3RyZWFtQWN0aW9uSXRlcmF0b3IsXG4gIE5vZGVTdG9yZSxcbiAgVmFsaWRhdGlvblJlc3VsdFxufSBmcm9tICcuL3R5cGVzLnRzJztcblxuXG4vLyBSZS1leHBvcnQgY2xhc3NlcyBmb3IgYWR2YW5jZWQgdXNhZ2VcbmV4cG9ydCB7IEdyYXBoRGVmaW5pdGlvbkNsYXNzIH0gZnJvbSAnLi9HcmFwaERlZmluaXRpb24udHMnO1xuZXhwb3J0IHsgR3JhcGhJbnN0YW5jZUltcGwgfSBmcm9tICcuL0dyYXBoSW5zdGFuY2UudHMnO1xuZXhwb3J0IHsgTm9kZVByb3h5SW1wbCB9IGZyb20gJy4vTm9kZVByb3h5LnRzJztcblxuLy8gUmUtZXhwb3J0IHN0b3JlIG1hbmFnZW1lbnQgdXRpbGl0aWVzXG5leHBvcnQgeyBiaW5kU3RvcmVDb25zdW1lclNpZGUsIGJpbmRTdG9yZVByb2R1Y2VyU2lkZSB9IGZyb20gJy4vU3RvcmVCaW5kZXIvU3RvcmVCaW5kZXIudHMnO1xuXG4vLyBSZS1leHBvcnQgTUNQIHV0aWxpdGllc1xuZXhwb3J0IHsgTUNQTWlkZGxld2FyZSB9IGZyb20gJy4uL3Nlc3Npb25zL01DUFNEUFBQQWRhcHRvci9NQ1BNaWRkbGV3YXJlL01DUE1pZGRsZXdhcmUudHMnO1xuZXhwb3J0IHsgU3RyZWFtUmVxdWVzdG9yIH0gZnJvbSAnLi4vc2Vzc2lvbnMvTUNQU0RQUFBBZGFwdG9yL1N0cmVhbVJlcXVlc3Rvci50cyc7XG5leHBvcnQgeyBNQ1BTRFBQUFNlc3Npb25BZGFwdG9yIH0gZnJvbSAnLi4vc2Vzc2lvbnMvTUNQU0RQUFBBZGFwdG9yL01DUFNEUFBQU2Vzc2lvbkFkYXB0b3IudHMnO1xuZXhwb3J0IHR5cGUgeyBTRFBQUFNlc3Npb25MaWtlIH0gZnJvbSAnLi4vc2Vzc2lvbnMvaW50ZXJmYWNlcy9TRFBQUFNlc3Npb25MaWtlLnRzJztcblxuLy8g5ZCR5ZCO5YW85a655oCn5a+85Ye6XG5leHBvcnQgeyBNQ1BTRFBQUFNlc3Npb25BZGFwdG9yIGFzIFNEUFBQVHJhbnNwb3J0IH0gZnJvbSAnLi4vc2Vzc2lvbnMvTUNQU0RQUFBBZGFwdG9yL01DUFNEUFBQU2Vzc2lvbkFkYXB0b3IudHMnOyIsImltcG9ydCB7IHogfSBmcm9tICd6b2QnXG5pbXBvcnQgeyBCb3VuZGFyeVJlY3QgfSBmcm9tICcuLi90eXBlcy9ib3VuZGFyeS5qcydcblxuLy8gVW5pZmllZCBib3VuZGFyeSBzY2hlbWFcbmV4cG9ydCBjb25zdCBCb3VuZGFyeVJlY3RTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgbGVmdERpc3RhbmNlOiB6Lm51bWJlcigpLFxuICAgIHRvcERpc3RhbmNlOiB6Lm51bWJlcigpLFxuICAgIHJpZ2h0RGlzdGFuY2U6IHoubnVtYmVyKCksXG4gICAgYm90dG9tRGlzdGFuY2U6IHoubnVtYmVyKCksXG4gICAgd2lkdGg6IHoubnVtYmVyKCksXG4gICAgaGVpZ2h0OiB6Lm51bWJlcigpLFxufSlcblxuZXhwb3J0IGNvbnN0IHV4cFBob3Rvc2hvcEFjdGlvbnMgPSB7XG4gICAgbWFuYWdlR3VpZGVzOiB7XG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIGFjdGlvbjogei5lbnVtKFsnY3JlYXRlJywgJ2NsZWFyJ10pLFxuICAgICAgICAgICAgcmVjdDogQm91bmRhcnlSZWN0U2NoZW1hLm9wdGlvbmFsKCksXG4gICAgICAgIH0pLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgc3VjY2Vzczogei5ib29sZWFuKCksXG4gICAgICAgIH0pLFxuICAgIH0sXG4gICAgb3BlbkltYWdlc0Zyb21GaWxlOiB7XG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIG5hdGl2ZVBhdGg6IHouc3RyaW5nKCksXG4gICAgICAgICAgICBib3VuZGFyeTogQm91bmRhcnlSZWN0U2NoZW1hLm9wdGlvbmFsKCksXG4gICAgICAgIH0pLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgc3VjY2Vzczogei5ib29sZWFuKCksXG4gICAgICAgICAgICBkb2N1bWVudElkOiB6Lm51bWJlcigpLFxuICAgICAgICAgICAgZG9jdW1lbnROYW1lOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgd2lkdGg6IHoubnVtYmVyKCksXG4gICAgICAgICAgICBoZWlnaHQ6IHoubnVtYmVyKCksXG4gICAgICAgIH0pLFxuICAgIH0sXG4gICAgZ2V0Qm91bmRhcnk6IHtcbiAgICAgICAgcmVxdWVzdFNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgdHlwZTogei5lbnVtKFsnY3VybGF5ZXInLCAnc2VsZWN0aW9uJ10pLFxuICAgICAgICB9KSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IEJvdW5kYXJ5UmVjdFNjaGVtYSxcbiAgICB9LFxuICAgIHJlcXVlc3RCb3VuZGFyeToge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiB6Lm9iamVjdCh7fSksXG4gICAgICAgIHJlc3BvbnNlU2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBib3VuZGFyeTogei5lbnVtKFsnY2FudmFzJywgJ2N1cmxheWVyJywgJ3NlbGVjdGlvbiddKSxcbiAgICAgICAgfSksXG4gICAgfSxcbiAgICBnZXRJbWFnZToge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBib3VuZGFyeTogei51bmlvbihbXG4gICAgICAgICAgICAgICAgei5lbnVtKFsnY2FudmFzJywgJ2N1cmxheWVyJywgJ3NlbGVjdGlvbiddKSxcbiAgICAgICAgICAgICAgICBCb3VuZGFyeVJlY3RTY2hlbWFcbiAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgY29udGVudDogei51bmlvbihbei5lbnVtKFsnY2FudmFzJywgJ2N1cmxheWVyJ10pLCB6LnN0cmluZygpXSksXG4gICAgICAgICAgICBpbWFnZVNpemU6IHoubnVtYmVyKCksXG4gICAgICAgICAgICBpbWFnZVF1YWxpdHk6IHoubnVtYmVyKCksXG4gICAgICAgICAgICBjcm9wQnlTZWxlY3Rpb246IHouZW51bShbJ25vJywgJ3Bvc2l0aXZlJywgJ25lZ2F0aXZlJ10pLFxuICAgICAgICB9KSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIHRodW1ibmFpbF91cmw6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIGZpbGVfdG9rZW46IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIHNvdXJjZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgZXJyb3I6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgfSksXG4gICAgfSxcbiAgICBpbXBvcnRJbWFnZToge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBuYXRpdmVQYXRoOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgYm91bmRhcnk6IHoudW5pb24oW1xuICAgICAgICAgICAgICAgIHouZW51bShbJ2NhbnZhcycsICdjdXJsYXllcicsICdzZWxlY3Rpb24nXSksXG4gICAgICAgICAgICAgICAgQm91bmRhcnlSZWN0U2NoZW1hXG4gICAgICAgICAgICBdKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgdHlwZTogei5lbnVtKFsnY2FudmFzJywgJ2N1cmxheWVyJywgJ25ld2RvYycsICdzbWFydG9iamVjdCddKSxcbiAgICAgICAgfSksXG4gICAgICAgIHJlc3BvbnNlU2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBzdWNjZXNzOiB6LmJvb2xlYW4oKSxcbiAgICAgICAgICAgIGxheWVyczogei5hcnJheSh6Lm9iamVjdCh7XG4gICAgICAgICAgICAgICAgaWRlbnRpZnk6IHouc3RyaW5nKCksXG4gICAgICAgICAgICB9KSkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIGVycm9yOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIH0pLFxuICAgIH0sXG4gICAgc2hvd0ltYWdlU2VsZWN0aW9uRGlhbG9nOiB7XG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIGRpYWxvZ1R5cGU6IHouZW51bShbJ3NlbmQnLCAnZ2V0JywgJ2JvdW5kYXJ5JywgJ21hc2snLCAnY3VzdG9tJ10pLFxuICAgICAgICAgICAgYWRkaXRpb25hbERhdGE6IHoucmVjb3JkKHouYW55KCkpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICBjdXN0b21Db25maWc6IHoub2JqZWN0KHtcbiAgICAgICAgICAgICAgICBkaWFsb2dUeXBlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgdGl0bGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICBvcHRpb25Sb3dzOiB6LmFycmF5KHouYXJyYXkoei5vYmplY3Qoe1xuICAgICAgICAgICAgICAgICAgICBpZDogei5zdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogei5zdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgc3VidGV4dDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgICAgICBrZXlib2FyZFNob3J0Y3V0OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IHoub2JqZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVzQWN0aXZlTGF5ZXJzOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZXNTZWxlY3Rpb246IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgICAgIH0pLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgICAgIHRodW1ibmFpbENvbmZpZzogei5vYmplY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogei5lbnVtKFsnY2FudmFzJywgJ2N1cmxheWVyJywgJ3NlbGVjdGlvbiddKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kYXJ5OiB6LmVudW0oWydjYW52YXMnLCAnY3VybGF5ZXInLCAnc2VsZWN0aW9uJ10pLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZTogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICAgICAgfSkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICB9KSkpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgY29udHJvbHM6IHouYXJyYXkoei5vYmplY3Qoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiB6LmVudW0oWydpbWFnZVNpemUnLCAnY3JvcEJ5U2VsZWN0aW9uJ10pLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogei5zdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmRTaG9ydGN1dDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgICAgICBjb25maWc6IHouYW55KCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICB9KSkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICBrZXlib2FyZE1hcHBpbmc6IHoucmVjb3JkKHouc3RyaW5nKCksIHoudW5pb24oW3ouc3RyaW5nKCksIHouZnVuY3Rpb24oKV0pKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgIHN0b3JlQ29uZmlnOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZVNlbGVjdG9yOiB6LmZ1bmN0aW9uKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZVNlbGVjdG9yOiB6LmZ1bmN0aW9uKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0U2VsZWN0b3I6IHouZnVuY3Rpb24oKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsU2VsZWN0b3JzOiB6LnJlY29yZCh6LnN0cmluZygpLCB6LmZ1bmN0aW9uKCkpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICAgICAgfSkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgICAgICBvblNlbGVjdDogei5mdW5jdGlvbigpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICB9KS5vcHRpb25hbCgpLFxuICAgICAgICB9KSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHoudW5pb24oW1xuICAgICAgICAgICAgLy8gU2VuZCBkaWFsb2cgcmVzcG9uc2VcbiAgICAgICAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgICAgICAgICBzZW5kSW1hZ2VQYXJhbXM6IHoub2JqZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHouc3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogei5zdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgY3JvcEJ5U2VsZWN0aW9uOiB6LmVudW0oWydubycsICdwb3NpdGl2ZScsICduZWdhdGl2ZSddKSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgLy8gR2V0IGRpYWxvZyByZXNwb25zZVxuICAgICAgICAgICAgei5vYmplY3Qoe1xuICAgICAgICAgICAgICAgIGdldEltYWdlUGFyYW1zOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHouZW51bShbJ2NhbnZhcycsICdjdXJsYXllcicsICdzZWxlY3Rpb24nXSksXG4gICAgICAgICAgICAgICAgICAgIGJvdW5kYXJ5OiB6LmVudW0oWydjYW52YXMnLCAnY3VybGF5ZXInLCAnc2VsZWN0aW9uJ10pLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZVNpemU6IHoubnVtYmVyKCksXG4gICAgICAgICAgICAgICAgICAgIGltYWdlUXVhbGl0eTogei5udW1iZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgY3JvcEJ5U2VsZWN0aW9uOiB6LmVudW0oWydubycsICdwb3NpdGl2ZScsICduZWdhdGl2ZSddKSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBzb3VyY2U6IHouc3RyaW5nKCksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIC8vIEJvdW5kYXJ5IGRpYWxvZyByZXNwb25zZVxuICAgICAgICAgICAgei5vYmplY3Qoe1xuICAgICAgICAgICAgICAgIGJvdW5kYXJ5OiB6LmVudW0oWydjYW52YXMnLCAnY3VybGF5ZXInLCAnc2VsZWN0aW9uJ10pLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAvLyBNYXNrIGRpYWxvZyByZXNwb25zZVxuICAgICAgICAgICAgei5vYmplY3Qoe1xuICAgICAgICAgICAgICAgIGdldE1hc2tQYXJhbXM6IHoub2JqZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogei5lbnVtKFsnY2FudmFzJywgJ2N1cmxheWVyJywgJ3NlbGVjdGlvbiddKSxcbiAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZTogei5ib29sZWFuKCksXG4gICAgICAgICAgICAgICAgICAgIGltYWdlU2l6ZTogei5udW1iZXIoKSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBzb3VyY2U6IHouc3RyaW5nKCksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIC8vIEN1c3RvbSBkaWFsb2cgcmVzcG9uc2UgKGFueSBzdHJ1Y3R1cmUpXG4gICAgICAgICAgICB6Lm9iamVjdCh7XG4gICAgICAgICAgICAgICAgcmVzdWx0OiB6LmFueSgpLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAvLyBDYW5jZWxsZWQgcmVzcG9uc2VcbiAgICAgICAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgICAgICAgICBjYW5jZWxsZWQ6IHouYm9vbGVhbigpLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIF0pLFxuICAgIH0sXG59IiwiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCdcbmltcG9ydCB7IEJvdW5kYXJ5UmVjdFNjaGVtYSB9IGZyb20gJy4uL2FjdGlvbnMvdXhwLXBob3Rvc2hvcC1kZWZzJ1xuXG4vLyBTREsvV2VidmlldyBTdG9yZSBTY2hlbWEgKGJhc2VkIG9uIHBzLXV4cC9jb21tb24vc3RvcmVzL3dlYnZpZXcudHMpXG5leHBvcnQgY29uc3QgU0RLU3RvcmVTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgYmFubmVyRGF0YTogei5hbnkoKS5vcHRpb25hbCgpLFxuXG4gICAgcmVmcmVzaGFibGU6IHouYm9vbGVhbigpLmRlZmF1bHQoZmFsc2UpLFxuICAgIGJhY2t3YXJkYWJsZTogei5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSksXG4gICAgbG9naW5hYmxlOiB6LmJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKSxcbiAgICBydW5uYWJsZTogei5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSksXG5cbiAgICB3b3JrQm91bmRhcmllczogei5yZWNvcmQoei5udW1iZXIoKSwgQm91bmRhcnlSZWN0U2NoZW1hKS5kZWZhdWx0KHt9KSxcbn0pXG5cbmV4cG9ydCB0eXBlIFNES1N0b3JlRGF0YSA9IHouaW5mZXI8dHlwZW9mIFNES1N0b3JlU2NoZW1hPiIsImltcG9ydCB7IHogfSBmcm9tICd6b2QnXG5cbi8vIFVYUCBTdG9yZSBTY2hlbWEgLSBDb21iaW5lZCBQaG90b3Nob3AgYW5kIFNEUFBQIHN0YXRlIChiYXNlZCBvbiBwcy11eHAvY29tbW9uL3N0b3Jlcy8pXG5leHBvcnQgY29uc3QgVVhQU3RvcmVTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgLy8gUGhvdG9zaG9wIHN0YXRlXG4gICAgdW5hbWU6IHouc3RyaW5nKCkuZGVmYXVsdCgnJyksXG4gICAgYWN0aXZlRG9jdW1lbnRJRDogei5udW1iZXIoKS5kZWZhdWx0KDApLFxuICAgIGxheWVyczogei5hcnJheSh6Lm9iamVjdCh7XG4gICAgICAgIGlkOiB6Lm51bWJlcigpLFxuICAgICAgICBuYW1lOiB6LnN0cmluZygpLFxuICAgICAgICBpZGVudGlmeTogei5zdHJpbmcoKSxcbiAgICB9KSkuZGVmYXVsdChbXSksXG4gICAgYWN0aW9uczogei5hcnJheSh6LnN0cmluZygpKS5kZWZhdWx0KFtdKSxcbiAgICB0aGVtZTogei5zdHJpbmcoKS5kZWZhdWx0KCdrUGFuZWxCcmlnaHRuZXNzTWVkaXVtR3JheScpLFxuICAgIHNkcHBwWDogei5yZWNvcmQoei5zdHJpbmcoKSwgei5hbnkoKSkuZGVmYXVsdCh7fSksXG4gICAgbG9jYWxlOiB6LmVudW0oWyd6aC1DTicsICdlbi1VUyddKS5kZWZhdWx0KCdlbi1VUycpLFxuICAgIFxuICAgIC8vIENvbWZ5VUkgd2VidmlldyBjb25uZWN0aW9uIHN0YXRlXG4gICAgY29tZnlXZWJ2aWV3Q29ubmVjdFN0YXR1czogei5lbnVtKFsnY29ubmVjdGluZycsICdjb25uZWN0ZWQnLCAnZGlzY29ubmVjdGVkJ10pLmRlZmF1bHQoJ2Rpc2Nvbm5lY3RlZCcpLFxuICAgIGNvbWZ5V2Vidmlld0xvYWRFcnJvcjogei5zdHJpbmcoKS5kZWZhdWx0KCcnKSxcbiAgICBjb21meVdlYnZpZXdMb2FkaW5nOiB6LmJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKSxcbiAgICBcbiAgICBjb21meVdlYnZpZXdWZXJzaW9uOiB6LnN0cmluZygpLmRlZmF1bHQoJycpLFxuICAgIGNvbWZ5SFRUUENvZGU6IHoubnVtYmVyKCkuZGVmYXVsdCgyMDApLFxuICAgIGNvbWZ5VVJMOiB6LnN0cmluZygpLmRlZmF1bHQoJycpLFxuICAgIFxuICAgIC8vIFNESyB3ZWJ2aWV3IHN0YXRlXG4gICAgc2RrV2Vidmlld0ZvY3VzaW5nOiB6LmJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKSxcbiAgICBzZGtXZWJ2aWV3Q29ubmVjdFN0YXR1czogei5lbnVtKFsnY29ubmVjdGluZycsICdjb25uZWN0ZWQnLCAnZGlzY29ubmVjdGVkJ10pLmRlZmF1bHQoJ2Rpc2Nvbm5lY3RlZCcpLFxuXG4gICAgLy8gU0RQUFAgYXV0aGVudGljYXRpb24gc3RhdGVcbiAgICBpc0xvZ2luOiB6LmJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKSxcbiAgICBpc0d1ZXN0OiB6LmJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKSxcbiAgICByZXF1ZXN0aW5nTG9naW46IHouYm9vbGVhbigpLmRlZmF1bHQoZmFsc2UpLFxuICAgIGxvZ2luTWVzc2FnZTogei5zdHJpbmcoKS5kZWZhdWx0KCcnKSxcbiAgICB0b2tlbjogei5zdHJpbmcoKS5kZWZhdWx0KCcnKSxcbiAgICB1c2VySW5mbzogei5yZWNvcmQoei5zdHJpbmcoKSwgei5hbnkoKSkuZGVmYXVsdCh7fSksXG5cbiAgICAvLyBUYXNrIGV4ZWN1dGlvbiB0cmFja2luZ1xuICAgIHRhc2tMYXN0UnVuOiB6Lm51bWJlcigpLmRlZmF1bHQoMCksXG5cbiAgICAvLyBQaG90b3Nob3AgY2FudmFzIHN0YXRlIHRyYWNraW5nXG4gICAgY2FudmFzU3RhdGVJRDogei5udW1iZXIoKS5vcHRpb25hbCgpLFxufSlcblxuZXhwb3J0IHR5cGUgVVhQU3RvcmVEYXRhID0gei5pbmZlcjx0eXBlb2YgVVhQU3RvcmVTY2hlbWE+IiwiaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcblxuZXhwb3J0IGNvbnN0IFdpZGdldGFibGVCYXNlV2lkZ2V0U2NoZW1hUGFydCA9IHtcbiAgICBuYW1lOiB6LnN0cmluZygpLFxuICAgIHVpV2VpZ2h0OiB6Lm51bWJlcigpLFxufVxuZXhwb3J0IGNvbnN0IFdpZGdldGFibGVJbWFnZXNXaWRnZXRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgLi4uV2lkZ2V0YWJsZUJhc2VXaWRnZXRTY2hlbWFQYXJ0LFxuICAgIG91dHB1dFR5cGU6IHoubGl0ZXJhbCgnaW1hZ2VzJyksXG4gICAgb3B0aW9uczogei5vYmplY3Qoe1xuICAgICAgICByZXF1aXJlZDogei5ib29sZWFuKCksXG4gICAgICAgIG1heENvdW50OiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gICAgICAgIG1hc2tNb2RlOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpXG4gICAgfSlcbn0pXG5leHBvcnQgY29uc3QgV2lkZ2V0YWJsZU1hc2tzV2lkZ2V0U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIC4uLldpZGdldGFibGVCYXNlV2lkZ2V0U2NoZW1hUGFydCxcbiAgICBvdXRwdXRUeXBlOiB6LmxpdGVyYWwoJ21hc2tzJyksXG4gICAgb3B0aW9uczogei5vYmplY3Qoe1xuICAgICAgICByZXF1aXJlZDogei5ib29sZWFuKClcbiAgICB9KVxufSlcbmV4cG9ydCBjb25zdCBXaWRnZXRhYmxlU3RyaW5nV2lkZ2V0U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIC4uLldpZGdldGFibGVCYXNlV2lkZ2V0U2NoZW1hUGFydCxcbiAgICAgICAgb3V0cHV0VHlwZTogei5saXRlcmFsKCdzdHJpbmcnKSxcbiAgICAgICAgb3B0aW9uczogei5vYmplY3Qoe1xuICAgICAgICAgICAgcmVxdWlyZWQ6IHouYm9vbGVhbigpXG4gICAgICAgIH0pXG59KVxuZXhwb3J0IGNvbnN0IFdpZGdldGFibGVUb2dnbGVXaWRnZXRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgLi4uV2lkZ2V0YWJsZUJhc2VXaWRnZXRTY2hlbWFQYXJ0LFxuICAgICAgICBvdXRwdXRUeXBlOiB6LmxpdGVyYWwoJ2Jvb2xlYW4nKSxcbiAgICAgICAgb3B0aW9uczogei5vYmplY3Qoe1xuICAgICAgICAgICAgcmVxdWlyZWQ6IHouYm9vbGVhbigpXG4gICAgICAgIH0pXG59KVxuZXhwb3J0IGNvbnN0IFdpZGdldGFibGVOdW1iZXJXaWRnZXRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgLi4uV2lkZ2V0YWJsZUJhc2VXaWRnZXRTY2hlbWFQYXJ0LFxuICAgICAgICBvdXRwdXRUeXBlOiB6LmxpdGVyYWwoJ251bWJlcicpLFxuICAgICAgICBvcHRpb25zOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICByZXF1aXJlZDogei5ib29sZWFuKCksXG4gICAgICAgICAgICBtaW46IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIG1heDogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgc3RlcDogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgcmFuZG9tOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgc2xpZGVyOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpXG4gICAgICAgIH0pXG59KVxuZXhwb3J0IGNvbnN0IFdpZGdldGFibGVDb21ib1dpZGdldFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICAuLi5XaWRnZXRhYmxlQmFzZVdpZGdldFNjaGVtYVBhcnQsXG4gICAgICAgIG91dHB1dFR5cGU6IHoubGl0ZXJhbCgnY29tYm8nKSxcbiAgICAgICAgb3B0aW9uczogei5vYmplY3Qoe1xuICAgICAgICAgICAgcmVxdWlyZWQ6IHouYm9vbGVhbigpLFxuICAgICAgICAgICAgdmFsdWVzOiB6LmFycmF5KHouc3RyaW5nKCkpLFxuICAgICAgICAgICAgbGFiZWxzOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKClcbiAgICAgICAgfSlcbn0pXG5leHBvcnQgY29uc3QgV2lkZ2V0YWJsZVNlZ21lbnRXaWRnZXRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgLi4uV2lkZ2V0YWJsZUJhc2VXaWRnZXRTY2hlbWFQYXJ0LFxuICAgICAgICBvdXRwdXRUeXBlOiB6LmxpdGVyYWwoJ3NlZ21lbnQnKSxcbiAgICAgICAgb3B0aW9uczogei5vYmplY3Qoe1xuICAgICAgICAgICAgcmVxdWlyZWQ6IHouYm9vbGVhbigpLFxuICAgICAgICAgICAgdmFsdWVzOiB6LmFycmF5KHouc3RyaW5nKCkpXG4gICAgICAgIH0pXG59KVxuZXhwb3J0IGNvbnN0IFdpZGdldGFibGVXaWRnZXRTY2hlbWEgPSB6LmRpc2NyaW1pbmF0ZWRVbmlvbihcIm91dHB1dFR5cGVcIiwgW1xuICAgIFdpZGdldGFibGVJbWFnZXNXaWRnZXRTY2hlbWEsXG4gICAgV2lkZ2V0YWJsZU1hc2tzV2lkZ2V0U2NoZW1hLFxuICAgIFdpZGdldGFibGVTdHJpbmdXaWRnZXRTY2hlbWEsXG4gICAgV2lkZ2V0YWJsZVRvZ2dsZVdpZGdldFNjaGVtYSxcbiAgICBXaWRnZXRhYmxlTnVtYmVyV2lkZ2V0U2NoZW1hLFxuICAgIFdpZGdldGFibGVDb21ib1dpZGdldFNjaGVtYSxcbiAgICBXaWRnZXRhYmxlU2VnbWVudFdpZGdldFNjaGVtYVxuXSlcbmV4cG9ydCBjb25zdCBXaWRnZXRhYmxlTm9kZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICBpZDogei5zdHJpbmcoKSxcbiAgICB0aXRsZTogei5zdHJpbmcoKSxcbiAgICB3aWRnZXRzOiB6LmFycmF5KFdpZGdldGFibGVXaWRnZXRTY2hlbWEpLFxuICAgIHVpV2VpZ2h0U3VtOiB6Lm51bWJlcigpXG59KVxuZXhwb3J0IGNvbnN0IFdpZGdldGFibGVTdHJ1Y3R1cmVTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgd2lkZ2V0YWJsZUlEOiB6LnN0cmluZygpLFxuICAgIHdpZGdldGFibGVQYXRoOiB6LnN0cmluZygpLFxuICAgIG5vZGVzOiB6LnJlY29yZCh6LnN0cmluZygpLCBXaWRnZXRhYmxlTm9kZVNjaGVtYSksXG4gICAgbm9kZUluZGV4ZXM6IHouYXJyYXkoei5zdHJpbmcoKSksXG4gICAgbm90ZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIG9wdGlvbnM6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYW55KCkpXG59KVxuXG5leHBvcnQgdHlwZSBXaWRnZXRhYmxlSW1hZ2VzV2lkZ2V0ID0gei5pbmZlcjx0eXBlb2YgV2lkZ2V0YWJsZUltYWdlc1dpZGdldFNjaGVtYT47XG5leHBvcnQgdHlwZSBXaWRnZXRhYmxlTWFza3NXaWRnZXQgPSB6LmluZmVyPHR5cGVvZiBXaWRnZXRhYmxlTWFza3NXaWRnZXRTY2hlbWE+O1xuZXhwb3J0IHR5cGUgV2lkZ2V0YWJsZVN0cmluZ1dpZGdldCA9IHouaW5mZXI8dHlwZW9mIFdpZGdldGFibGVTdHJpbmdXaWRnZXRTY2hlbWE+O1xuZXhwb3J0IHR5cGUgV2lkZ2V0YWJsZVRvZ2dsZVdpZGdldCA9IHouaW5mZXI8dHlwZW9mIFdpZGdldGFibGVUb2dnbGVXaWRnZXRTY2hlbWE+O1xuZXhwb3J0IHR5cGUgV2lkZ2V0YWJsZU51bWJlcldpZGdldCA9IHouaW5mZXI8dHlwZW9mIFdpZGdldGFibGVOdW1iZXJXaWRnZXRTY2hlbWE+O1xuZXhwb3J0IHR5cGUgV2lkZ2V0YWJsZUNvbWJvV2lkZ2V0ID0gei5pbmZlcjx0eXBlb2YgV2lkZ2V0YWJsZUNvbWJvV2lkZ2V0U2NoZW1hPjtcbmV4cG9ydCB0eXBlIFdpZGdldGFibGVTZWdtZW50V2lkZ2V0ID0gei5pbmZlcjx0eXBlb2YgV2lkZ2V0YWJsZVNlZ21lbnRXaWRnZXRTY2hlbWE+O1xuZXhwb3J0IHR5cGUgV2lkZ2V0YWJsZVdpZGdldCA9IHouaW5mZXI8dHlwZW9mIFdpZGdldGFibGVXaWRnZXRTY2hlbWE+O1xuZXhwb3J0IHR5cGUgV2lkZ2V0YWJsZU5vZGUgPSB6LmluZmVyPHR5cGVvZiBXaWRnZXRhYmxlTm9kZVNjaGVtYT47XG5leHBvcnQgdHlwZSBXaWRnZXRhYmxlU3RydWN0dXJlID0gei5pbmZlcjx0eXBlb2YgV2lkZ2V0YWJsZVN0cnVjdHVyZVNjaGVtYT47XG5leHBvcnQgdHlwZSBXaWRnZXRhYmxlVmFsdWVzID0gUmVjb3JkPHN0cmluZywgYW55W10+XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0VmFsdWVzKG90dXB1dFR5cGU6IHN0cmluZywgb3B0aW9uczogYW55KSB7XG4gICAgc3dpdGNoIChvdHVwdXRUeXBlKSB7XG4gICAgICAgIGNhc2UgJ2ltYWdlcyc6XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIGNhc2UgJ21hc2tzJzpcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgY2FzZSAnY29tYm8nOlxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMudmFsdWVzWzBdO1xuICAgIH1cbn0iLCJpbXBvcnQgeyB6IH0gZnJvbSAnem9kJ1xuaW1wb3J0IHsgV2lkZ2V0YWJsZVN0cnVjdHVyZVNjaGVtYSB9IGZyb20gJ0BzZHBwcC9jb21tb24vc2NoZW1hcy9zY2hlbWFzJ1xuXG4vLyBDb21meSBTdG9yZSBTY2hlbWEgKGJhc2VkIG9uIHBzLXV4cC9jb21tb24vc3RvcmVzL2NvbWZ5LnRzKVxuZXhwb3J0IGNvbnN0IENvbWZ5U3RvcmVTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgd2lkZ2V0YWJsZVN0cnVjdHVyZTogV2lkZ2V0YWJsZVN0cnVjdHVyZVNjaGVtYS5kZWZhdWx0KHtcbiAgICAgICAgd2lkZ2V0YWJsZUlEOiBcIlwiLFxuICAgICAgICB3aWRnZXRhYmxlUGF0aDogXCJcIixcbiAgICAgICAgbm9kZXM6IHt9LFxuICAgICAgICBub3RlOiBcIlwiLFxuICAgICAgICBvcHRpb25zOiB7fSxcbiAgICAgICAgbm9kZUluZGV4ZXM6IFtdLFxuICAgIH0pLFxuICAgIHdpZGdldGFibGVWYWx1ZXM6IHoucmVjb3JkKHouc3RyaW5nKCksIHouYXJyYXkoei5hbnkoKSkpLmRlZmF1bHQoe30pLFxuICAgIHdpZGdldGFibGVFcnJvcnM6IHoucmVjb3JkKHouc3RyaW5nKCksIHouc3RyaW5nKCkpLmRlZmF1bHQoe30pLFxuICAgIHF1ZXVlU2l6ZTogei5udW1iZXIoKS5kZWZhdWx0KDApLFxuICAgIGxhc3RFcnJvcjogei5zdHJpbmcoKS5kZWZhdWx0KFwiXCIpLFxuICAgIHByb2dyZXNzOiB6Lm51bWJlcigpLmRlZmF1bHQoMCksXG4gICAgZXhlY3V0aW5nTm9kZVRpdGxlOiB6LnN0cmluZygpLmRlZmF1bHQoXCJcIiksXG4gICAgZXhlY3V0aW5nTm9kZUlEOiB6LnN0cmluZygpLmRlZmF1bHQoXCJcIiksXG4gICAgZ3JhcGhQcm9ncmVzczogei5udW1iZXIoKS5kZWZhdWx0KDApLFxuICAgIGNvbWZ5VXNlclRva2VuOiB6LnN0cmluZygpLmRlZmF1bHQoXCJcIiksXG4gICAgY29tZnlPcmdMb2dnZWRJbjogei5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSksXG4gICAgY29tZnlPcmdBUElLZXk6IHouc3RyaW5nKCkuZGVmYXVsdChcIlwiKSxcbiAgICBjb21meVdTU3RhdGU6IHouZW51bShbXCJjb25uZWN0ZWRcIiwgXCJyZWNvbm5lY3RpbmdcIl0pLmRlZmF1bHQoXCJjb25uZWN0ZWRcIiksXG4gICAgbGFzdFJ1blRpbWU6IHoubnVtYmVyKCkuZGVmYXVsdCgwKSxcbn0pXG5cbmV4cG9ydCB0eXBlIENvbWZ5U3RvcmVEYXRhID0gei5pbmZlcjx0eXBlb2YgQ29tZnlTdG9yZVNjaGVtYT4iLCJpbXBvcnQgeyB6IH0gZnJvbSAnem9kJ1xuXG5leHBvcnQgY29uc3Qgc2RrQWN0aW9ucyA9IHtcbiAgICBiYWNrd2FyZDoge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiB6LnZvaWQoKSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHouYm9vbGVhbigpLFxuICAgICAgICB9KSxcbiAgICB9LFxuICAgIHJlZnJlc2g6IHtcbiAgICAgICAgcmVxdWVzdFNjaGVtYTogei52b2lkKCksXG4gICAgICAgIHJlc3BvbnNlU2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBzdWNjZXNzOiB6LmJvb2xlYW4oKSxcbiAgICAgICAgfSksXG4gICAgfSxcbiAgICBydW46IHtcbiAgICAgICAgcmVxdWVzdFNjaGVtYTogei52b2lkKCksXG4gICAgICAgIHJlc3BvbnNlU2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBzdWNjZXNzOiB6LmJvb2xlYW4oKSxcbiAgICAgICAgfSksXG4gICAgfSxcbn0iLCJpbXBvcnQgeyB6IH0gZnJvbSAnem9kJ1xuXG4vLyBVWFAgdXRpbGl0eSBhY3Rpb25zIChzdG9yYWdlLCBleHRlcm5hbCBsaW5rcywgZXRjLilcbmV4cG9ydCBjb25zdCB1eHBVdGlsQWN0aW9ucyA9IHtcbiAgICAvLyBVWFAtcmVsYXRlZCBhY3Rpb25zXG4gICAgbG9nOiB7XG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIGxldmVsOiB6LmVudW0oWydsb2cnLCAnaW5mbycsICd3YXJuJywgJ2Vycm9yJ10pLFxuICAgICAgICAgICAgbWVzc2FnZXM6IHouYXJyYXkoei5zdHJpbmcoKSksXG4gICAgICAgIH0pLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogei5vYmplY3Qoe30pXG4gICAgfSxcblxuICAgIC8vIFVYUC1yZWxhdGVkIGFjdGlvbnNcbiAgICBvcGVuRXh0ZXJuYWxMaW5rOiB7XG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIHVybDogei5zdHJpbmcoKSxcbiAgICAgICAgfSksXG4gICAgICAgIHJlc3BvbnNlU2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBlcnJvcjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICB9KVxuICAgIH0sXG4gICAgZ2V0U3RvcmFnZToge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBrZXk6IHouc3RyaW5nKCksXG4gICAgICAgIH0pLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgdmFsdWU6IHouc3RyaW5nKCksXG4gICAgICAgICAgICBlcnJvcjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICB9KVxuICAgIH0sXG4gICAgc2V0U3RvcmFnZToge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBrZXk6IHouc3RyaW5nKCksXG4gICAgICAgICAgICB2YWx1ZTogei5zdHJpbmcoKSxcbiAgICAgICAgfSksXG4gICAgICAgIHJlc3BvbnNlU2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBlcnJvcjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICB9KVxuICAgIH0sXG4gICAgcmVtb3ZlU3RvcmFnZToge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBrZXk6IHouc3RyaW5nKCksXG4gICAgICAgIH0pLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgZXJyb3I6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgfSlcbiAgICB9LFxuICAgIC8vIEtleWJvYXJkIGFjdGlvbiBmb3J3YXJkaW5nXG4gICAga2V5Ym9hcmRBY3Rpb246IHtcbiAgICAgICAgcmVxdWVzdFNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAga2V5Y29kZTogei5zdHJpbmcoKSxcbiAgICAgICAgfSksXG4gICAgICAgIHJlc3BvbnNlU2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgIH0pXG4gICAgfSxcblxuICAgIC8vIFBob3Rvc2hvcCB1dGlsaXR5IGFjdGlvbnNcbiAgICBzZXRDb21meVdlYnZpZXdVUkw6IHtcbiAgICAgICAgcmVxdWVzdFNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgdXJsOiB6LnN0cmluZygpLFxuICAgICAgICB9KSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgfSlcbiAgICB9LFxuICAgIFxuICAgIHVwbG9hZENvbWZ5SW1hZ2U6IHtcbiAgICAgICAgcmVxdWVzdFNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgdXBsb2FkSW5wdXQ6IHoub2JqZWN0KHtcbiAgICAgICAgICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ2J1ZmZlcicpLm9yKHoubGl0ZXJhbCgndG9rZW4nKSksXG4gICAgICAgICAgICAgICAgdG9rZW5PckJ1ZmZlcjogei5hbnkoKSxcbiAgICAgICAgICAgICAgICBmaWxlTmFtZTogei5zdHJpbmcoKVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBvdmVyd3JpdGU6IHouYm9vbGVhbigpLm9wdGlvbmFsKCkuZGVmYXVsdCh0cnVlKVxuICAgICAgICB9KSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIG5hbWU6IHouc3RyaW5nKCksXG4gICAgICAgIH0pXG4gICAgfSxcblxuICAgIC8vIFByb3hpZWQgZmV0Y2ggYWN0aW9uXG4gICAgcHJveGllZEZldGNoOiB7XG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIHVybDogei5zdHJpbmcoKSxcbiAgICAgICAgICAgIG1ldGhvZDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgaGVhZGVyczogei5yZWNvcmQoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIGJvZHk6IHouYW55KCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIGJvZHlUeXBlOiB6LmVudW0oWydqc29uJywgJ2Zvcm1EYXRhJywgJ3RleHQnXSkub3B0aW9uYWwoKSxcbiAgICAgICAgfSksXG4gICAgICAgIHJlc3BvbnNlU2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBzdWNjZXNzOiB6LmJvb2xlYW4oKSxcbiAgICAgICAgICAgIHN0YXR1czogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgc3RhdHVzVGV4dDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgaGVhZGVyczogei5yZWNvcmQoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIGRhdGE6IHouYW55KCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIGVycm9yOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIH0pXG4gICAgfVxufSIsImltcG9ydCB7IHogfSBmcm9tICd6b2QnXG5cbi8vIENvbW1vbiBpbWFnZSByZXN1bHQgc2NoZW1hXG5leHBvcnQgY29uc3QgSW1hZ2VSZXN1bHRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdGh1bWJuYWlsX3VybDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGZpbGVfdG9rZW46IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBzb3VyY2U6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBlcnJvcjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSlcbmV4cG9ydCBjb25zdCBkb0dldEltYWdlUGFyYW1zU2NoZW1hID0gei5vYmplY3Qoe1xuICAgIGJvdW5kYXJ5OiB6LmVudW0oWydjYW52YXMnLCAnY3VybGF5ZXInLCAnc2VsZWN0aW9uJ10pLFxuICAgIGNvbnRlbnQ6IHouZW51bShbJ2NhbnZhcycsICdjdXJsYXllcicsICdzZWxlY3Rpb24nXSkub3Ioei5zdHJpbmcoKSksXG4gICAgaW1hZ2VTaXplOiB6Lm51bWJlcigpLFxuICAgIGltYWdlUXVhbGl0eTogei5udW1iZXIoKSxcbiAgICBjcm9wQnlTZWxlY3Rpb246IHouZW51bShbJ25vJywgJ3Bvc2l0aXZlJywgJ25lZ2F0aXZlJ10pLFxufSlcbmV4cG9ydCBjb25zdCBkb0dldE1hc2tQYXJhbXNTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgY29udGVudDogei5lbnVtKFsnY2FudmFzJywgJ2N1cmxheWVyJywgJ3NlbGVjdGlvbiddKSxcbiAgICByZXZlcnNlOiB6LmJvb2xlYW4oKSxcbiAgICBpbWFnZVNpemU6IHoubnVtYmVyKCksXG59KVxuZXhwb3J0IGNvbnN0IGRvU2VuZEltYWdlUGFyYW1zU2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHNlbGVjdGlvbjogei5lbnVtKFsnbmV3ZG9jX2NhbnZhcycsICduZXdsYXllcl9jYW52YXMnLCAnbmV3bGF5ZXJfY3VybGF5ZXInLCAnbmV3bGF5ZXJfc2VsZWN0aW9uJywgJ2N1cmxheWVyX2NhbnZhcycsICdjdXJsYXllcl9jdXJsYXllcicsICdjdXJsYXllcl9zZWxlY3Rpb24nLCAnbmV3ZG9jX2NhbnZhcyddKSxcbiAgICB1cmw6IHouc3RyaW5nKCksXG4gICAgc291cmNlOiB6LnN0cmluZygpLFxuICAgIGNyb3BCeVNlbGVjdGlvbjogei5lbnVtKFsnbm8nLCAncG9zaXRpdmUnLCAnbmVnYXRpdmUnXSksXG59KVxuLy8gVVhQIGltYWdlIHByb2Nlc3NpbmcgYWN0aW9uc1xuZXhwb3J0IGNvbnN0IHV4cEltYWdpbmdBY3Rpb25zID0ge1xuICAgIC8vIENvbnRlbnQgd2VidmlldyBpbWFnZSBvcGVyYXRpb25zXG4gICAgZG9HZXRJbWFnZToge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiBkb0dldEltYWdlUGFyYW1zU2NoZW1hLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogSW1hZ2VSZXN1bHRTY2hlbWFcbiAgICB9LFxuXG4gICAgZG9HZXRNYXNrOiB7XG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IGRvR2V0TWFza1BhcmFtc1NjaGVtYSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IEltYWdlUmVzdWx0U2NoZW1hXG4gICAgfSxcbiAgICBcbiAgICBkb1NlbmRJbWFnZToge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiBkb1NlbmRJbWFnZVBhcmFtc1NjaGVtYSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIGVycm9yOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIH0pXG4gICAgfSxcbiAgICBcbiAgICByZXF1ZXN0SW1hZ2VHZXQ6IHtcbiAgICAgICAgcmVxdWVzdFNjaGVtYTogei5vYmplY3Qoe30pLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgZ2V0SW1hZ2VQYXJhbXM6IGRvR2V0SW1hZ2VQYXJhbXNTY2hlbWEsXG4gICAgICAgICAgICB0aHVtYm5haWxfdXJsOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICBzb3VyY2U6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIGVycm9yOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIH0pXG4gICAgfSxcblxuICAgIHJlcXVlc3RNYXNrR2V0OiB7XG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIGlzTWFzazogei5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSksXG4gICAgICAgIH0pLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgZ2V0TWFza1BhcmFtczogZG9HZXRNYXNrUGFyYW1zU2NoZW1hLFxuICAgICAgICAgICAgdGh1bWJuYWlsX3VybDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgc291cmNlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICBlcnJvcjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICB9KVxuICAgIH0sXG4gICAgXG4gICAgcmVxdWVzdEltYWdlU2VuZDoge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICB1cmw6IHouc3RyaW5nKCksXG4gICAgICAgICAgICBzb3VyY2U6IHouc3RyaW5nKCksXG4gICAgICAgIH0pLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgc2VuZEltYWdlUGFyYW1zOiBkb1NlbmRJbWFnZVBhcmFtc1NjaGVtYS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgZXJyb3I6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgfSlcbiAgICB9LFxuICAgIFxuICAgIGRvd25sb2FkSW1hZ2U6IHtcbiAgICAgICAgcmVxdWVzdFNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgdXJsOiB6LnN0cmluZygpLFxuICAgICAgICB9KSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIHRodW1ibmFpbF91cmw6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIG5hdGl2ZVBhdGg6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIGVycm9yOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIH0pXG4gICAgfSxcblxuICAgIGRlbGV0ZURvd25sb2FkZWRJbWFnZToge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBuYXRpdmVQYXRoczogei5hcnJheSh6LnN0cmluZygpKSxcbiAgICAgICAgfSksXG4gICAgICAgIHJlc3BvbnNlU2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBlcnJvcjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICB9KVxuICAgIH0sXG5cbiAgICByZXF1ZXN0QW5kRG9TYXZlSW1hZ2U6IHtcbiAgICAgICAgcmVxdWVzdFNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgbmF0aXZlUGF0aHM6IHouYXJyYXkoei5zdHJpbmcoKSksXG4gICAgICAgIH0pLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgZXJyb3I6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgfSlcbiAgICB9XG59IiwiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCdcblxuZXhwb3J0IGNvbnN0IFVYUEF1dGhSZWdpc3RlclJlcXVlc3RTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgcGFzc3dvcmRQYXlsb2FkOiB6Lm9iamVjdCh7XG4gICAgICAgIHVzZXJuYW1lOiB6LnN0cmluZygpLFxuICAgICAgICBwYXNzd29yZDogei5zdHJpbmcoKVxuICAgIH0pLm9yKHoub2JqZWN0KHtcbiAgICAgICAgZW1haWw6IHouc3RyaW5nKCksXG4gICAgICAgIHBhc3N3b3JkOiB6LnN0cmluZygpXG4gICAgfSkpLm9yKHoub2JqZWN0KHtcbiAgICAgICAgcGhvbmU6IHouc3RyaW5nKCksXG4gICAgICAgIHBhc3N3b3JkOiB6LnN0cmluZygpXG4gICAgfSkpLm9yKHoub2JqZWN0KHtcbiAgICAgICAgaWRlbnRpZmllcjogei5zdHJpbmcoKSxcbiAgICAgICAgcGFzc3dvcmQ6IHouc3RyaW5nKClcbiAgICB9KSksXG59KS5vcih6Lm9iamVjdCh7XG4gICAgcGFzc2NvZGVQYXlsb2FkOiB6Lm9iamVjdCh7XG4gICAgICAgIHBob25lOiB6LnN0cmluZygpLFxuICAgICAgICBjb2RlOiB6LnN0cmluZygpXG4gICAgfSkub3Ioei5vYmplY3Qoe1xuICAgICAgICBlbWFpbDogei5zdHJpbmcoKSxcbiAgICAgICAgY29kZTogei5zdHJpbmcoKVxuICAgIH0pKSxcbn0pKVxuXG5leHBvcnQgY29uc3QgVVhQQXV0aExvZ2luUmVxdWVzdFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICBwYXNzd29yZFBheWxvYWQ6IHoub2JqZWN0KHtcbiAgICAgICAgdXNlcm5hbWU6IHouc3RyaW5nKCksXG4gICAgICAgIHBhc3N3b3JkOiB6LnN0cmluZygpXG4gICAgfSkub3Ioei5vYmplY3Qoe1xuICAgICAgICBlbWFpbDogei5zdHJpbmcoKSxcbiAgICAgICAgcGFzc3dvcmQ6IHouc3RyaW5nKClcbiAgICB9KSkub3Ioei5vYmplY3Qoe1xuICAgICAgICBwaG9uZTogei5zdHJpbmcoKSxcbiAgICAgICAgcGFzc3dvcmQ6IHouc3RyaW5nKClcbiAgICB9KSkub3Ioei5vYmplY3Qoe1xuICAgICAgICBpZGVudGlmaWVyOiB6LnN0cmluZygpLFxuICAgICAgICBwYXNzd29yZDogei5zdHJpbmcoKVxuICAgIH0pKSxcbn0pLm9yKHoub2JqZWN0KHtcbiAgICBwYXNzY29kZVBheWxvYWQ6IHoub2JqZWN0KHtcbiAgICAgICAgcGhvbmU6IHouc3RyaW5nKCksXG4gICAgICAgIGNvZGU6IHouc3RyaW5nKClcbiAgICB9KS5vcih6Lm9iamVjdCh7XG4gICAgICAgIGVtYWlsOiB6LnN0cmluZygpLFxuICAgICAgICBjb2RlOiB6LnN0cmluZygpXG4gICAgfSkpLFxufSkpXG5cbi8vIFVYUCBhdXRoZW50aWNhdGlvbiBhY3Rpb25zIChTRFBQUC1yZWxhdGVkKVxuZXhwb3J0IGNvbnN0IHV4cEF1dGhBY3Rpb25zID0ge1xuICAgIC8vIFNEUFBQIGF1dGhlbnRpY2F0aW9uIGFjdGlvbnNcbiAgICByZWdpc3Rlcjoge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiBVWFBBdXRoUmVnaXN0ZXJSZXF1ZXN0U2NoZW1hLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICB9KVxuICAgIH0sXG5cbiAgICBsb2dpbjoge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiBVWFBBdXRoTG9naW5SZXF1ZXN0U2NoZW1hLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICB9KVxuICAgIH0sXG5cbiAgICBzZW5kUGFzc0NvZGU6IHtcbiAgICAgICAgcmVxdWVzdFNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgcGhvbmU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIGVtYWlsOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIH0pLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICB9KVxuICAgIH0sXG5cbiAgICBsb2dvdXQ6IHtcbiAgICAgICAgcmVxdWVzdFNjaGVtYTogei5vYmplY3Qoe30pLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICB9KVxuICAgIH0sXG5cbiAgICBndWVzdExvZ2luOiB7XG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHoub2JqZWN0KHt9KSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgfSlcbiAgICB9XG59IiwiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCdcblxuLy8gQmFzZSB0YXNrIHNjaGVtYVxuY29uc3QgQmFzZVRhc2tTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdGFza0lkOiB6LnN0cmluZygpLFxuICAgIHRhc2tOYW1lOiB6LnN0cmluZygpLFxuICAgIHN0YXR1czogei5lbnVtKFsncnVubmluZycsICdjb21wbGV0ZWQnLCAnZmFpbGVkJywgJ2NhbmNlbGxlZCddKSxcbiAgICBjdXJyZW50U3RlcDogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgIHRvdGFsU3RlcHM6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICBzdGVwRGVzY3JpcHRpb246IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBwcm9ncmVzc1BlcmNlbnRhZ2U6IHoubnVtYmVyKCkubWluKDApLm1heCgxMDApLm9wdGlvbmFsKCksXG4gICAgc3RhcnRUaW1lOiB6LnN0cmluZygpLFxuICAgIGVuZFRpbWU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBlcnJvcjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGVycm9yQ29kZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIHJlc3VsdDogei5hbnkoKS5vcHRpb25hbCgpLFxuICAgIG1ldGFkYXRhOiB6LnJlY29yZCh6LmFueSgpKS5vcHRpb25hbCgpLFxufSlcblxuLy8gQ29tbW9uIHJlc3BvbnNlIHNjaGVtYVxuY29uc3QgVGFza1Jlc3BvbnNlU2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHN1Y2Nlc3M6IHouYm9vbGVhbigpLFxuICAgIGVycm9yOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KVxuXG4vLyBUYXNrIG1hbmFnZW1lbnQgYWN0aW9ucyBmb3IgZXh0ZXJuYWwgdGFzayBleGVjdXRpb24gcmVwb3J0aW5nXG5leHBvcnQgY29uc3QgdXhwVGFza01hbmFnZW1lbnRBY3Rpb25zID0ge1xuICAgIC8vIEFkZCBhIG5ldyB0YXNrXG4gICAgdGFza0FkZDoge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiBCYXNlVGFza1NjaGVtYSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IFRhc2tSZXNwb25zZVNjaGVtYVxuICAgIH0sXG5cbiAgICAvLyBVcGRhdGUgYSB0YXNrIChpZCByZXF1aXJlZCwgb3RoZXIgZmllbGRzIG9wdGlvbmFsKVxuICAgIHRhc2tVcGRhdGU6IHtcbiAgICAgICAgcmVxdWVzdFNjaGVtYTogQmFzZVRhc2tTY2hlbWEucGFydGlhbCgpLnJlcXVpcmVkKHsgdGFza0lkOiB0cnVlIH0pLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogVGFza1Jlc3BvbnNlU2NoZW1hXG4gICAgfSxcblxuICAgIC8vIFJlbW92ZSBhIHRhc2tcbiAgICB0YXNrUmVtb3ZlOiB7XG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IEJhc2VUYXNrU2NoZW1hLnBpY2soeyB0YXNrSWQ6IHRydWUgfSksXG4gICAgICAgIHJlc3BvbnNlU2NoZW1hOiBUYXNrUmVzcG9uc2VTY2hlbWFcbiAgICB9XG59IiwiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCdcblxuLy8gQ29tbW9uIHdvcmtmbG93IHNjaGVtYXNcbmNvbnN0IFdvcmtmbG93TGlzdFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB3b3JrZmxvd3M6IHouYXJyYXkoei5zdHJpbmcoKSksXG4gICAgZXJyb3I6IHouc3RyaW5nKCkub3B0aW9uYWwoKVxufSlcblxuY29uc3QgUnVuUmVzdWx0U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHN1Y2Nlc3M6IHouYm9vbGVhbigpLFxuICAgIG5vZGVFcnJvcnM6IHoucmVjb3JkKHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gICAgcHJvbXB0X2lkczogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgIGltYWdlczogei5hcnJheSh6Lm9iamVjdCh7XG4gICAgICAgIHVybDogei5zdHJpbmcoKSxcbiAgICAgICAgdGh1bWJuYWlsOiB6LnN0cmluZygpLFxuICAgIH0pKS5vcHRpb25hbCgpLFxufSlcblxuLy8gQ29tZnlVSSB3b3JrZmxvdyBtYW5hZ2VtZW50IGFjdGlvbnNcbmV4cG9ydCBjb25zdCBjb21meVdvcmtmbG93QWN0aW9ucyA9IHtcbiAgICAvLyBOb2RlIG1hbmlwdWxhdGlvblxuICAgIHNldFdpZGdldFZhbHVlOiB7XG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIHZhbHVlczogei5hcnJheSh6Lm9iamVjdCh7XG4gICAgICAgICAgICAgICAgbm9kZUlEOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgICAgIHdpZGdldEluZGV4OiB6Lm51bWJlcigpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB6LnJlY29yZCh6LnN0cmluZygpLCB6LmFueSgpKVxuICAgICAgICAgICAgICAgICAgICAub3Ioei5zdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgLm9yKHoubnVtYmVyKCkpXG4gICAgICAgICAgICAgICAgICAgIC5vcih6LmJvb2xlYW4oKSlcbiAgICAgICAgICAgICAgICAgICAgLm9yKHouYXJyYXkoei5hbnkoKSkpLFxuICAgICAgICAgICAgfSkpLFxuICAgICAgICB9KSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHouYm9vbGVhbigpLFxuICAgICAgICB9KVxuICAgIH0sXG5cbiAgICAvLyBXb3JrZmxvdyBtYW5hZ2VtZW50XG4gICAgb3BlbldvcmtmbG93OiB7XG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIHdvcmtmbG93X3BhdGg6IHouc3RyaW5nKCksXG4gICAgICAgICAgICByZXNldDogei5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSksXG4gICAgICAgIH0pLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgc3VjY2Vzczogei5ib29sZWFuKCksXG4gICAgICAgIH0pXG4gICAgfSxcbiAgICBcbiAgICBvcGVuV29ya2Zsb3dKU09OOiB7XG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIHdvcmtmbG93X2NvbnRlbnQ6IHoucmVjb3JkKHouYW55KCkpLFxuICAgICAgICAgICAgd29ya2Zsb3dfcGF0aDogei5zdHJpbmcoKSxcbiAgICAgICAgfSksXG4gICAgICAgIHJlc3BvbnNlU2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBzdWNjZXNzOiB6LmJvb2xlYW4oKSxcbiAgICAgICAgfSlcbiAgICB9LFxuICAgIFxuICAgIGxpc3RXb3JrZmxvd3M6IHtcbiAgICAgICAgcmVxdWVzdFNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgbGlzdE1vZGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIHNkcHBwSUQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIHNkcHBwVG9rZW46IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgfSksXG4gICAgICAgIHJlc3BvbnNlU2NoZW1hOiBXb3JrZmxvd0xpc3RTY2hlbWFcbiAgICB9LFxuICAgIFxuICAgIHNhdmVXb3JrZmxvdzoge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICB3b3JrZmxvd19wYXRoOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgZnJvbV9zaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgfSksXG4gICAgICAgIHJlc3BvbnNlU2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBzdWNjZXNzOiB6LmJvb2xlYW4oKSxcbiAgICAgICAgfSlcbiAgICB9LFxuICAgIFxuICAgIC8vIFdvcmtmbG93IGV4ZWN1dGlvblxuICAgIHJ1bjoge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBzaXplOiB6Lm51bWJlcigpLFxuICAgICAgICB9KSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IFJ1blJlc3VsdFNjaGVtYSxcbiAgICAgICAgc3RyZWFtOiB0cnVlIGFzIGNvbnN0LFxuICAgIH0sXG5cbiAgICBzdG9wQWxsOiB7XG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHoub2JqZWN0KHt9KSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHouYm9vbGVhbigpLFxuICAgICAgICB9KVxuICAgIH0sXG4gICAgXG4gICAgLy8gaW50ZXJydXB0OiB7XG4gICAgLy8gICAgIHJlcXVlc3RTY2hlbWE6IHoub2JqZWN0KHt9KSxcbiAgICAvLyAgICAgcmVzcG9uc2VTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAvLyAgICAgICAgIHN1Y2Nlc3M6IHouYm9vbGVhbigpLFxuICAgIC8vICAgICB9KVxuICAgIC8vIH0sXG4gICAgXG4gICAgLy8gY2xlYXJRdWV1ZToge1xuICAgIC8vICAgICByZXF1ZXN0U2NoZW1hOiB6Lm9iamVjdCh7fSksXG4gICAgLy8gICAgIHJlc3BvbnNlU2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgLy8gICAgICAgICBzdWNjZXNzOiB6LmJvb2xlYW4oKSxcbiAgICAvLyAgICAgfSlcbiAgICAvLyB9XG59IiwiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCdcblxuLy8gQ29tZnlVSSB1dGlsaXR5IGFuZCBzeXN0ZW0gbWFuYWdlbWVudCBhY3Rpb25zXG5leHBvcnQgY29uc3QgY29tZnlVdGlsQWN0aW9ucyA9IHtcbiAgICBzZXROb2RlVGl0bGU6IHtcbiAgICAgICAgcmVxdWVzdFNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgbm9kZV9pZDogei5zdHJpbmcoKSxcbiAgICAgICAgICAgIHRpdGxlOiB6LnN0cmluZygpLFxuICAgICAgICB9KSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHouYm9vbGVhbigpLFxuICAgICAgICB9KVxuICAgIH0sXG5cbiAgICAvLyBTeXN0ZW0gbWFuYWdlbWVudFxuICAgIHJlYm9vdDoge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiB6Lm9iamVjdCh7fSksXG4gICAgICAgIHJlc3BvbnNlU2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBzdWNjZXNzOiB6LmJvb2xlYW4oKSxcbiAgICAgICAgICAgIGVycm9yOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIH0pXG4gICAgfSxcblxuICAgIHNldENvbWZ5T3JnQVBJS2V5OiB7XG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIGFwaV9rZXk6IHouc3RyaW5nKCksXG4gICAgICAgIH0pLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgc3VjY2Vzczogei5ib29sZWFuKCksXG4gICAgICAgIH0pXG4gICAgfSxcblxuICAgIGxvZ291dDoge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiB6Lm9iamVjdCh7fSksXG4gICAgICAgIHJlc3BvbnNlU2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBzdWNjZXNzOiB6LmJvb2xlYW4oKSxcbiAgICAgICAgfSlcbiAgICB9XG59IiwiaW1wb3J0IHsgZGVmaW5lR3JhcGggfSBmcm9tICdAc2RwcHAvbWNwLW1lc2gnXG5cbi8vIEltcG9ydCBzdG9yZSBzY2hlbWFzXG5pbXBvcnQgeyBTREtTdG9yZVNjaGVtYSB9IGZyb20gJy4vc3RvcmVzL3NkaydcbmltcG9ydCB7IFVYUFN0b3JlU2NoZW1hIH0gZnJvbSAnLi9zdG9yZXMvdXhwJ1xuaW1wb3J0IHsgQ29tZnlTdG9yZVNjaGVtYSB9IGZyb20gJy4vc3RvcmVzL2NvbWZ5J1xuXG4vLyBJbXBvcnQgYWN0aW9uIHNjaGVtYXNcbmltcG9ydCB7IHNka0FjdGlvbnMgfSBmcm9tICcuL2FjdGlvbnMvc2RrLWRlZnMnXG5pbXBvcnQgeyB1eHBVdGlsQWN0aW9ucyB9IGZyb20gJy4vYWN0aW9ucy91eHAtdXRpbC1kZWZzJ1xuaW1wb3J0IHsgdXhwSW1hZ2luZ0FjdGlvbnMgfSBmcm9tICcuL2FjdGlvbnMvdXhwLWltYWdpbmctZGVmcydcbmltcG9ydCB7IHV4cEF1dGhBY3Rpb25zIH0gZnJvbSAnLi9hY3Rpb25zL3V4cC1hdXRoLWRlZnMnXG5pbXBvcnQgeyB1eHBUYXNrTWFuYWdlbWVudEFjdGlvbnMgfSBmcm9tICcuL2FjdGlvbnMvdXhwLXRhc2stbWFuYWdlbWVudC1kZWZzJ1xuaW1wb3J0IHsgdXhwUGhvdG9zaG9wQWN0aW9ucyB9IGZyb20gJy4vYWN0aW9ucy91eHAtcGhvdG9zaG9wLWRlZnMnXG5pbXBvcnQgeyBjb21meVdvcmtmbG93QWN0aW9ucyB9IGZyb20gJy4vYWN0aW9ucy9jb21meS13b3JrZmxvdy1kZWZzJ1xuaW1wb3J0IHsgY29tZnlVdGlsQWN0aW9ucyB9IGZyb20gJy4vYWN0aW9ucy9jb21meS11dGlsLWRlZnMnXG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJ1xuXG4vLyBSZS1leHBvcnQgdHlwZXMgYW5kIHNjaGVtYXNcbmV4cG9ydCAqIGZyb20gJy4vdHlwZXMvaW5kZXgnXG5leHBvcnQgKiBmcm9tICcuL2FjdGlvbnMvdXhwLXBob3Rvc2hvcC1kZWZzJ1xuICBcbmV4cG9ydCBkZWZhdWx0IGRlZmluZUdyYXBoKHsgXG4gICAgbm9kZXM6IHtcbiAgICAgICAgLy8gU0RLIG5vZGUgLSByZXByZXNlbnRzIHRoZSBjb250ZW50IHdlYnZpZXcvU0RLIGxheWVyXG4gICAgICAgIHNkazoge1xuICAgICAgICAgICAgc3RvcmU6IFNES1N0b3JlU2NoZW1hLFxuICAgICAgICAgICAgYWN0aW9uczoge1xuICAgICAgICAgICAgICAgIC4uLnNka0FjdGlvbnMsXG4gICAgICAgICAgICB9ICBcbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIC8vIFVYUCBub2RlIC0gcmVwcmVzZW50cyB0aGUgUGhvdG9zaG9wIFVYUCBwbHVnaW5cbiAgICAgICAgdXhwOiB7XG4gICAgICAgICAgICBzdG9yZTogVVhQU3RvcmVTY2hlbWEsXG4gICAgICAgICAgICBhY3Rpb25zOiB7XG4gICAgICAgICAgICAgICAgLi4udXhwSW1hZ2luZ0FjdGlvbnMsXG4gICAgICAgICAgICAgICAgLi4udXhwVXRpbEFjdGlvbnMsXG4gICAgICAgICAgICAgICAgLi4udXhwQXV0aEFjdGlvbnMsXG4gICAgICAgICAgICAgICAgLi4udXhwVGFza01hbmFnZW1lbnRBY3Rpb25zLFxuICAgICAgICAgICAgICAgIC4uLnV4cFBob3Rvc2hvcEFjdGlvbnMsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICAvLyBDb21meSBub2RlIC0gcmVwcmVzZW50cyBDb21meVVJIGluc3RhbmNlc1xuICAgICAgICBjb21meToge1xuICAgICAgICAgICAgc3RvcmU6IENvbWZ5U3RvcmVTY2hlbWEsXG4gICAgICAgICAgICBhY3Rpb25zOiB7XG4gICAgICAgICAgICAgICAgLi4uY29tZnlXb3JrZmxvd0FjdGlvbnMsXG4gICAgICAgICAgICAgICAgLi4uY29tZnlVdGlsQWN0aW9uc1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBlZGdlczogW1xuICAgICAgICBbJ3NkaycsICd1eHAnXSwgICAvLyBTREsgY29ubmVjdHMgdG8gVVhQXG4gICAgICAgIFsnY29tZnknLCAndXhwJ10sIC8vIENvbWZ5IGNvbm5lY3RzIHRvIFVYUFxuICAgIF1cbn0pIiwiaW1wb3J0IG1lc2hEZWYgZnJvbSAnQHNkcHBwL21jcC1tZXNoLXBob3Rvc2hvcCc7XG5cbmNvbnN0IG1jcE1lc2ggPSBtZXNoRGVmLmpvaW5Bcygnc2RrJylcblxuZ2xvYmFsVGhpcy5tY3BNZXNoID0gbWNwTWVzaDtcblxuZXhwb3J0IHsgbWNwTWVzaCB9OyIsImltcG9ydCB7IG1jcE1lc2ggfSBmcm9tIFwiLi4vbWVzaFwiO1xuXG5kb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgIGlmIChcbiAgICAgICAgZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50IHx8XG4gICAgICAgIGUudGFyZ2V0IGluc3RhbmNlb2YgSFRNTFRleHRBcmVhRWxlbWVudCB8fFxuICAgICAgICBlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxTZWxlY3RFbGVtZW50XG4gICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbWNwTWVzaC5nZXROb2RlKCd1eHAnKS5hY3Rpb25zLmtleWJvYXJkQWN0aW9uKHtcbiAgICAgICAga2V5Y29kZTogZS5jb2RlLFxuICAgIH0pXG59KSIsIi8qKlxuICogSGVscGVycy5cbiAqL1xuXG52YXIgcyA9IDEwMDA7XG52YXIgbSA9IHMgKiA2MDtcbnZhciBoID0gbSAqIDYwO1xudmFyIGQgPSBoICogMjQ7XG52YXIgdyA9IGQgKiA3O1xudmFyIHkgPSBkICogMzY1LjI1O1xuXG4vKipcbiAqIFBhcnNlIG9yIGZvcm1hdCB0aGUgZ2l2ZW4gYHZhbGAuXG4gKlxuICogT3B0aW9uczpcbiAqXG4gKiAgLSBgbG9uZ2AgdmVyYm9zZSBmb3JtYXR0aW5nIFtmYWxzZV1cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHZhbFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHRocm93cyB7RXJyb3J9IHRocm93IGFuIGVycm9yIGlmIHZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgbnVtYmVyXG4gKiBAcmV0dXJuIHtTdHJpbmd8TnVtYmVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWwsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbDtcbiAgaWYgKHR5cGUgPT09ICdzdHJpbmcnICYmIHZhbC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHBhcnNlKHZhbCk7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodmFsKSkge1xuICAgIHJldHVybiBvcHRpb25zLmxvbmcgPyBmbXRMb25nKHZhbCkgOiBmbXRTaG9ydCh2YWwpO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICAndmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSB2YWxpZCBudW1iZXIuIHZhbD0nICtcbiAgICAgIEpTT04uc3RyaW5naWZ5KHZhbClcbiAgKTtcbn07XG5cbi8qKlxuICogUGFyc2UgdGhlIGdpdmVuIGBzdHJgIGFuZCByZXR1cm4gbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlKHN0cikge1xuICBzdHIgPSBTdHJpbmcoc3RyKTtcbiAgaWYgKHN0ci5sZW5ndGggPiAxMDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG1hdGNoID0gL14oLT8oPzpcXGQrKT9cXC4/XFxkKykgKihtaWxsaXNlY29uZHM/fG1zZWNzP3xtc3xzZWNvbmRzP3xzZWNzP3xzfG1pbnV0ZXM/fG1pbnM/fG18aG91cnM/fGhycz98aHxkYXlzP3xkfHdlZWtzP3x3fHllYXJzP3x5cnM/fHkpPyQvaS5leGVjKFxuICAgIHN0clxuICApO1xuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBuID0gcGFyc2VGbG9hdChtYXRjaFsxXSk7XG4gIHZhciB0eXBlID0gKG1hdGNoWzJdIHx8ICdtcycpLnRvTG93ZXJDYXNlKCk7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ3llYXJzJzpcbiAgICBjYXNlICd5ZWFyJzpcbiAgICBjYXNlICd5cnMnOlxuICAgIGNhc2UgJ3lyJzpcbiAgICBjYXNlICd5JzpcbiAgICAgIHJldHVybiBuICogeTtcbiAgICBjYXNlICd3ZWVrcyc6XG4gICAgY2FzZSAnd2Vlayc6XG4gICAgY2FzZSAndyc6XG4gICAgICByZXR1cm4gbiAqIHc7XG4gICAgY2FzZSAnZGF5cyc6XG4gICAgY2FzZSAnZGF5JzpcbiAgICBjYXNlICdkJzpcbiAgICAgIHJldHVybiBuICogZDtcbiAgICBjYXNlICdob3Vycyc6XG4gICAgY2FzZSAnaG91cic6XG4gICAgY2FzZSAnaHJzJzpcbiAgICBjYXNlICdocic6XG4gICAgY2FzZSAnaCc6XG4gICAgICByZXR1cm4gbiAqIGg7XG4gICAgY2FzZSAnbWludXRlcyc6XG4gICAgY2FzZSAnbWludXRlJzpcbiAgICBjYXNlICdtaW5zJzpcbiAgICBjYXNlICdtaW4nOlxuICAgIGNhc2UgJ20nOlxuICAgICAgcmV0dXJuIG4gKiBtO1xuICAgIGNhc2UgJ3NlY29uZHMnOlxuICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgY2FzZSAnc2Vjcyc6XG4gICAgY2FzZSAnc2VjJzpcbiAgICBjYXNlICdzJzpcbiAgICAgIHJldHVybiBuICogcztcbiAgICBjYXNlICdtaWxsaXNlY29uZHMnOlxuICAgIGNhc2UgJ21pbGxpc2Vjb25kJzpcbiAgICBjYXNlICdtc2Vjcyc6XG4gICAgY2FzZSAnbXNlYyc6XG4gICAgY2FzZSAnbXMnOlxuICAgICAgcmV0dXJuIG47XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBTaG9ydCBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRTaG9ydChtcykge1xuICB2YXIgbXNBYnMgPSBNYXRoLmFicyhtcyk7XG4gIGlmIChtc0FicyA+PSBkKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBkKSArICdkJztcbiAgfVxuICBpZiAobXNBYnMgPj0gaCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gaCkgKyAnaCc7XG4gIH1cbiAgaWYgKG1zQWJzID49IG0pIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIG0pICsgJ20nO1xuICB9XG4gIGlmIChtc0FicyA+PSBzKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBzKSArICdzJztcbiAgfVxuICByZXR1cm4gbXMgKyAnbXMnO1xufVxuXG4vKipcbiAqIExvbmcgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10TG9uZyhtcykge1xuICB2YXIgbXNBYnMgPSBNYXRoLmFicyhtcyk7XG4gIGlmIChtc0FicyA+PSBkKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIGQsICdkYXknKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gaCkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBoLCAnaG91cicpO1xuICB9XG4gIGlmIChtc0FicyA+PSBtKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIG0sICdtaW51dGUnKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gcykge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBzLCAnc2Vjb25kJyk7XG4gIH1cbiAgcmV0dXJuIG1zICsgJyBtcyc7XG59XG5cbi8qKlxuICogUGx1cmFsaXphdGlvbiBoZWxwZXIuXG4gKi9cblxuZnVuY3Rpb24gcGx1cmFsKG1zLCBtc0FicywgbiwgbmFtZSkge1xuICB2YXIgaXNQbHVyYWwgPSBtc0FicyA+PSBuICogMS41O1xuICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIG4pICsgJyAnICsgbmFtZSArIChpc1BsdXJhbCA/ICdzJyA6ICcnKTtcbn1cbiIsIlxuLyoqXG4gKiBUaGlzIGlzIHRoZSBjb21tb24gbG9naWMgZm9yIGJvdGggdGhlIE5vZGUuanMgYW5kIHdlYiBicm93c2VyXG4gKiBpbXBsZW1lbnRhdGlvbnMgb2YgYGRlYnVnKClgLlxuICovXG5cbmZ1bmN0aW9uIHNldHVwKGVudikge1xuXHRjcmVhdGVEZWJ1Zy5kZWJ1ZyA9IGNyZWF0ZURlYnVnO1xuXHRjcmVhdGVEZWJ1Zy5kZWZhdWx0ID0gY3JlYXRlRGVidWc7XG5cdGNyZWF0ZURlYnVnLmNvZXJjZSA9IGNvZXJjZTtcblx0Y3JlYXRlRGVidWcuZGlzYWJsZSA9IGRpc2FibGU7XG5cdGNyZWF0ZURlYnVnLmVuYWJsZSA9IGVuYWJsZTtcblx0Y3JlYXRlRGVidWcuZW5hYmxlZCA9IGVuYWJsZWQ7XG5cdGNyZWF0ZURlYnVnLmh1bWFuaXplID0gcmVxdWlyZSgnbXMnKTtcblx0Y3JlYXRlRGVidWcuZGVzdHJveSA9IGRlc3Ryb3k7XG5cblx0T2JqZWN0LmtleXMoZW52KS5mb3JFYWNoKGtleSA9PiB7XG5cdFx0Y3JlYXRlRGVidWdba2V5XSA9IGVudltrZXldO1xuXHR9KTtcblxuXHQvKipcblx0KiBUaGUgY3VycmVudGx5IGFjdGl2ZSBkZWJ1ZyBtb2RlIG5hbWVzLCBhbmQgbmFtZXMgdG8gc2tpcC5cblx0Ki9cblxuXHRjcmVhdGVEZWJ1Zy5uYW1lcyA9IFtdO1xuXHRjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdO1xuXG5cdC8qKlxuXHQqIE1hcCBvZiBzcGVjaWFsIFwiJW5cIiBoYW5kbGluZyBmdW5jdGlvbnMsIGZvciB0aGUgZGVidWcgXCJmb3JtYXRcIiBhcmd1bWVudC5cblx0KlxuXHQqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyIG9yIHVwcGVyLWNhc2UgbGV0dGVyLCBpLmUuIFwiblwiIGFuZCBcIk5cIi5cblx0Ki9cblx0Y3JlYXRlRGVidWcuZm9ybWF0dGVycyA9IHt9O1xuXG5cdC8qKlxuXHQqIFNlbGVjdHMgYSBjb2xvciBmb3IgYSBkZWJ1ZyBuYW1lc3BhY2Vcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlIFRoZSBuYW1lc3BhY2Ugc3RyaW5nIGZvciB0aGUgZGVidWcgaW5zdGFuY2UgdG8gYmUgY29sb3JlZFxuXHQqIEByZXR1cm4ge051bWJlcnxTdHJpbmd9IEFuIEFOU0kgY29sb3IgY29kZSBmb3IgdGhlIGdpdmVuIG5hbWVzcGFjZVxuXHQqIEBhcGkgcHJpdmF0ZVxuXHQqL1xuXHRmdW5jdGlvbiBzZWxlY3RDb2xvcihuYW1lc3BhY2UpIHtcblx0XHRsZXQgaGFzaCA9IDA7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzcGFjZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0aGFzaCA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpICsgbmFtZXNwYWNlLmNoYXJDb2RlQXQoaSk7XG5cdFx0XHRoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuXHRcdH1cblxuXHRcdHJldHVybiBjcmVhdGVEZWJ1Zy5jb2xvcnNbTWF0aC5hYnMoaGFzaCkgJSBjcmVhdGVEZWJ1Zy5jb2xvcnMubGVuZ3RoXTtcblx0fVxuXHRjcmVhdGVEZWJ1Zy5zZWxlY3RDb2xvciA9IHNlbGVjdENvbG9yO1xuXG5cdC8qKlxuXHQqIENyZWF0ZSBhIGRlYnVnZ2VyIHdpdGggdGhlIGdpdmVuIGBuYW1lc3BhY2VgLlxuXHQqXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuXHQqIEByZXR1cm4ge0Z1bmN0aW9ufVxuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGNyZWF0ZURlYnVnKG5hbWVzcGFjZSkge1xuXHRcdGxldCBwcmV2VGltZTtcblx0XHRsZXQgZW5hYmxlT3ZlcnJpZGUgPSBudWxsO1xuXHRcdGxldCBuYW1lc3BhY2VzQ2FjaGU7XG5cdFx0bGV0IGVuYWJsZWRDYWNoZTtcblxuXHRcdGZ1bmN0aW9uIGRlYnVnKC4uLmFyZ3MpIHtcblx0XHRcdC8vIERpc2FibGVkP1xuXHRcdFx0aWYgKCFkZWJ1Zy5lbmFibGVkKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3Qgc2VsZiA9IGRlYnVnO1xuXG5cdFx0XHQvLyBTZXQgYGRpZmZgIHRpbWVzdGFtcFxuXHRcdFx0Y29uc3QgY3VyciA9IE51bWJlcihuZXcgRGF0ZSgpKTtcblx0XHRcdGNvbnN0IG1zID0gY3VyciAtIChwcmV2VGltZSB8fCBjdXJyKTtcblx0XHRcdHNlbGYuZGlmZiA9IG1zO1xuXHRcdFx0c2VsZi5wcmV2ID0gcHJldlRpbWU7XG5cdFx0XHRzZWxmLmN1cnIgPSBjdXJyO1xuXHRcdFx0cHJldlRpbWUgPSBjdXJyO1xuXG5cdFx0XHRhcmdzWzBdID0gY3JlYXRlRGVidWcuY29lcmNlKGFyZ3NbMF0pO1xuXG5cdFx0XHRpZiAodHlwZW9mIGFyZ3NbMF0gIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdC8vIEFueXRoaW5nIGVsc2UgbGV0J3MgaW5zcGVjdCB3aXRoICVPXG5cdFx0XHRcdGFyZ3MudW5zaGlmdCgnJU8nKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQXBwbHkgYW55IGBmb3JtYXR0ZXJzYCB0cmFuc2Zvcm1hdGlvbnNcblx0XHRcdGxldCBpbmRleCA9IDA7XG5cdFx0XHRhcmdzWzBdID0gYXJnc1swXS5yZXBsYWNlKC8lKFthLXpBLVolXSkvZywgKG1hdGNoLCBmb3JtYXQpID0+IHtcblx0XHRcdFx0Ly8gSWYgd2UgZW5jb3VudGVyIGFuIGVzY2FwZWQgJSB0aGVuIGRvbid0IGluY3JlYXNlIHRoZSBhcnJheSBpbmRleFxuXHRcdFx0XHRpZiAobWF0Y2ggPT09ICclJScpIHtcblx0XHRcdFx0XHRyZXR1cm4gJyUnO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdGNvbnN0IGZvcm1hdHRlciA9IGNyZWF0ZURlYnVnLmZvcm1hdHRlcnNbZm9ybWF0XTtcblx0XHRcdFx0aWYgKHR5cGVvZiBmb3JtYXR0ZXIgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRjb25zdCB2YWwgPSBhcmdzW2luZGV4XTtcblx0XHRcdFx0XHRtYXRjaCA9IGZvcm1hdHRlci5jYWxsKHNlbGYsIHZhbCk7XG5cblx0XHRcdFx0XHQvLyBOb3cgd2UgbmVlZCB0byByZW1vdmUgYGFyZ3NbaW5kZXhdYCBzaW5jZSBpdCdzIGlubGluZWQgaW4gdGhlIGBmb3JtYXRgXG5cdFx0XHRcdFx0YXJncy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdFx0XHRcdGluZGV4LS07XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG1hdGNoO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIEFwcGx5IGVudi1zcGVjaWZpYyBmb3JtYXR0aW5nIChjb2xvcnMsIGV0Yy4pXG5cdFx0XHRjcmVhdGVEZWJ1Zy5mb3JtYXRBcmdzLmNhbGwoc2VsZiwgYXJncyk7XG5cblx0XHRcdGNvbnN0IGxvZ0ZuID0gc2VsZi5sb2cgfHwgY3JlYXRlRGVidWcubG9nO1xuXHRcdFx0bG9nRm4uYXBwbHkoc2VsZiwgYXJncyk7XG5cdFx0fVxuXG5cdFx0ZGVidWcubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuXHRcdGRlYnVnLnVzZUNvbG9ycyA9IGNyZWF0ZURlYnVnLnVzZUNvbG9ycygpO1xuXHRcdGRlYnVnLmNvbG9yID0gY3JlYXRlRGVidWcuc2VsZWN0Q29sb3IobmFtZXNwYWNlKTtcblx0XHRkZWJ1Zy5leHRlbmQgPSBleHRlbmQ7XG5cdFx0ZGVidWcuZGVzdHJveSA9IGNyZWF0ZURlYnVnLmRlc3Ryb3k7IC8vIFhYWCBUZW1wb3JhcnkuIFdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLlxuXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGRlYnVnLCAnZW5hYmxlZCcsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuXHRcdFx0Z2V0OiAoKSA9PiB7XG5cdFx0XHRcdGlmIChlbmFibGVPdmVycmlkZSAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdHJldHVybiBlbmFibGVPdmVycmlkZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAobmFtZXNwYWNlc0NhY2hlICE9PSBjcmVhdGVEZWJ1Zy5uYW1lc3BhY2VzKSB7XG5cdFx0XHRcdFx0bmFtZXNwYWNlc0NhY2hlID0gY3JlYXRlRGVidWcubmFtZXNwYWNlcztcblx0XHRcdFx0XHRlbmFibGVkQ2FjaGUgPSBjcmVhdGVEZWJ1Zy5lbmFibGVkKG5hbWVzcGFjZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZW5hYmxlZENhY2hlO1xuXHRcdFx0fSxcblx0XHRcdHNldDogdiA9PiB7XG5cdFx0XHRcdGVuYWJsZU92ZXJyaWRlID0gdjtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIEVudi1zcGVjaWZpYyBpbml0aWFsaXphdGlvbiBsb2dpYyBmb3IgZGVidWcgaW5zdGFuY2VzXG5cdFx0aWYgKHR5cGVvZiBjcmVhdGVEZWJ1Zy5pbml0ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRjcmVhdGVEZWJ1Zy5pbml0KGRlYnVnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGVidWc7XG5cdH1cblxuXHRmdW5jdGlvbiBleHRlbmQobmFtZXNwYWNlLCBkZWxpbWl0ZXIpIHtcblx0XHRjb25zdCBuZXdEZWJ1ZyA9IGNyZWF0ZURlYnVnKHRoaXMubmFtZXNwYWNlICsgKHR5cGVvZiBkZWxpbWl0ZXIgPT09ICd1bmRlZmluZWQnID8gJzonIDogZGVsaW1pdGVyKSArIG5hbWVzcGFjZSk7XG5cdFx0bmV3RGVidWcubG9nID0gdGhpcy5sb2c7XG5cdFx0cmV0dXJuIG5ld0RlYnVnO1xuXHR9XG5cblx0LyoqXG5cdCogRW5hYmxlcyBhIGRlYnVnIG1vZGUgYnkgbmFtZXNwYWNlcy4gVGhpcyBjYW4gaW5jbHVkZSBtb2Rlc1xuXHQqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGVuYWJsZShuYW1lc3BhY2VzKSB7XG5cdFx0Y3JlYXRlRGVidWcuc2F2ZShuYW1lc3BhY2VzKTtcblx0XHRjcmVhdGVEZWJ1Zy5uYW1lc3BhY2VzID0gbmFtZXNwYWNlcztcblxuXHRcdGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG5cdFx0Y3JlYXRlRGVidWcuc2tpcHMgPSBbXTtcblxuXHRcdGNvbnN0IHNwbGl0ID0gKHR5cGVvZiBuYW1lc3BhY2VzID09PSAnc3RyaW5nJyA/IG5hbWVzcGFjZXMgOiAnJylcblx0XHRcdC50cmltKClcblx0XHRcdC5yZXBsYWNlKC9cXHMrL2csICcsJylcblx0XHRcdC5zcGxpdCgnLCcpXG5cdFx0XHQuZmlsdGVyKEJvb2xlYW4pO1xuXG5cdFx0Zm9yIChjb25zdCBucyBvZiBzcGxpdCkge1xuXHRcdFx0aWYgKG5zWzBdID09PSAnLScpIHtcblx0XHRcdFx0Y3JlYXRlRGVidWcuc2tpcHMucHVzaChucy5zbGljZSgxKSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjcmVhdGVEZWJ1Zy5uYW1lcy5wdXNoKG5zKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBzdHJpbmcgbWF0Y2hlcyBhIG5hbWVzcGFjZSB0ZW1wbGF0ZSwgaG9ub3Jpbmdcblx0ICogYXN0ZXJpc2tzIGFzIHdpbGRjYXJkcy5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IHNlYXJjaFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdGVtcGxhdGVcblx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0ICovXG5cdGZ1bmN0aW9uIG1hdGNoZXNUZW1wbGF0ZShzZWFyY2gsIHRlbXBsYXRlKSB7XG5cdFx0bGV0IHNlYXJjaEluZGV4ID0gMDtcblx0XHRsZXQgdGVtcGxhdGVJbmRleCA9IDA7XG5cdFx0bGV0IHN0YXJJbmRleCA9IC0xO1xuXHRcdGxldCBtYXRjaEluZGV4ID0gMDtcblxuXHRcdHdoaWxlIChzZWFyY2hJbmRleCA8IHNlYXJjaC5sZW5ndGgpIHtcblx0XHRcdGlmICh0ZW1wbGF0ZUluZGV4IDwgdGVtcGxhdGUubGVuZ3RoICYmICh0ZW1wbGF0ZVt0ZW1wbGF0ZUluZGV4XSA9PT0gc2VhcmNoW3NlYXJjaEluZGV4XSB8fCB0ZW1wbGF0ZVt0ZW1wbGF0ZUluZGV4XSA9PT0gJyonKSkge1xuXHRcdFx0XHQvLyBNYXRjaCBjaGFyYWN0ZXIgb3IgcHJvY2VlZCB3aXRoIHdpbGRjYXJkXG5cdFx0XHRcdGlmICh0ZW1wbGF0ZVt0ZW1wbGF0ZUluZGV4XSA9PT0gJyonKSB7XG5cdFx0XHRcdFx0c3RhckluZGV4ID0gdGVtcGxhdGVJbmRleDtcblx0XHRcdFx0XHRtYXRjaEluZGV4ID0gc2VhcmNoSW5kZXg7XG5cdFx0XHRcdFx0dGVtcGxhdGVJbmRleCsrOyAvLyBTa2lwIHRoZSAnKidcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzZWFyY2hJbmRleCsrO1xuXHRcdFx0XHRcdHRlbXBsYXRlSW5kZXgrKztcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChzdGFySW5kZXggIT09IC0xKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmVnYXRlZC1jb25kaXRpb25cblx0XHRcdFx0Ly8gQmFja3RyYWNrIHRvIHRoZSBsYXN0ICcqJyBhbmQgdHJ5IHRvIG1hdGNoIG1vcmUgY2hhcmFjdGVyc1xuXHRcdFx0XHR0ZW1wbGF0ZUluZGV4ID0gc3RhckluZGV4ICsgMTtcblx0XHRcdFx0bWF0Y2hJbmRleCsrO1xuXHRcdFx0XHRzZWFyY2hJbmRleCA9IG1hdGNoSW5kZXg7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7IC8vIE5vIG1hdGNoXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gSGFuZGxlIHRyYWlsaW5nICcqJyBpbiB0ZW1wbGF0ZVxuXHRcdHdoaWxlICh0ZW1wbGF0ZUluZGV4IDwgdGVtcGxhdGUubGVuZ3RoICYmIHRlbXBsYXRlW3RlbXBsYXRlSW5kZXhdID09PSAnKicpIHtcblx0XHRcdHRlbXBsYXRlSW5kZXgrKztcblx0XHR9XG5cblx0XHRyZXR1cm4gdGVtcGxhdGVJbmRleCA9PT0gdGVtcGxhdGUubGVuZ3RoO1xuXHR9XG5cblx0LyoqXG5cdCogRGlzYWJsZSBkZWJ1ZyBvdXRwdXQuXG5cdCpcblx0KiBAcmV0dXJuIHtTdHJpbmd9IG5hbWVzcGFjZXNcblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBkaXNhYmxlKCkge1xuXHRcdGNvbnN0IG5hbWVzcGFjZXMgPSBbXG5cdFx0XHQuLi5jcmVhdGVEZWJ1Zy5uYW1lcyxcblx0XHRcdC4uLmNyZWF0ZURlYnVnLnNraXBzLm1hcChuYW1lc3BhY2UgPT4gJy0nICsgbmFtZXNwYWNlKVxuXHRcdF0uam9pbignLCcpO1xuXHRcdGNyZWF0ZURlYnVnLmVuYWJsZSgnJyk7XG5cdFx0cmV0dXJuIG5hbWVzcGFjZXM7XG5cdH1cblxuXHQvKipcblx0KiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vZGUgbmFtZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuXHQqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZW5hYmxlZChuYW1lKSB7XG5cdFx0Zm9yIChjb25zdCBza2lwIG9mIGNyZWF0ZURlYnVnLnNraXBzKSB7XG5cdFx0XHRpZiAobWF0Y2hlc1RlbXBsYXRlKG5hbWUsIHNraXApKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IG5zIG9mIGNyZWF0ZURlYnVnLm5hbWVzKSB7XG5cdFx0XHRpZiAobWF0Y2hlc1RlbXBsYXRlKG5hbWUsIG5zKSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvKipcblx0KiBDb2VyY2UgYHZhbGAuXG5cdCpcblx0KiBAcGFyYW0ge01peGVkfSB2YWxcblx0KiBAcmV0dXJuIHtNaXhlZH1cblx0KiBAYXBpIHByaXZhdGVcblx0Ki9cblx0ZnVuY3Rpb24gY29lcmNlKHZhbCkge1xuXHRcdGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdFx0cmV0dXJuIHZhbC5zdGFjayB8fCB2YWwubWVzc2FnZTtcblx0XHR9XG5cdFx0cmV0dXJuIHZhbDtcblx0fVxuXG5cdC8qKlxuXHQqIFhYWCBETyBOT1QgVVNFLiBUaGlzIGlzIGEgdGVtcG9yYXJ5IHN0dWIgZnVuY3Rpb24uXG5cdCogWFhYIEl0IFdJTEwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLlxuXHQqL1xuXHRmdW5jdGlvbiBkZXN0cm95KCkge1xuXHRcdGNvbnNvbGUud2FybignSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLicpO1xuXHR9XG5cblx0Y3JlYXRlRGVidWcuZW5hYmxlKGNyZWF0ZURlYnVnLmxvYWQoKSk7XG5cblx0cmV0dXJuIGNyZWF0ZURlYnVnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldHVwO1xuIiwiLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICovXG5cbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gbG9jYWxzdG9yYWdlKCk7XG5leHBvcnRzLmRlc3Ryb3kgPSAoKCkgPT4ge1xuXHRsZXQgd2FybmVkID0gZmFsc2U7XG5cblx0cmV0dXJuICgpID0+IHtcblx0XHRpZiAoIXdhcm5lZCkge1xuXHRcdFx0d2FybmVkID0gdHJ1ZTtcblx0XHRcdGNvbnNvbGUud2FybignSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLicpO1xuXHRcdH1cblx0fTtcbn0pKCk7XG5cbi8qKlxuICogQ29sb3JzLlxuICovXG5cbmV4cG9ydHMuY29sb3JzID0gW1xuXHQnIzAwMDBDQycsXG5cdCcjMDAwMEZGJyxcblx0JyMwMDMzQ0MnLFxuXHQnIzAwMzNGRicsXG5cdCcjMDA2NkNDJyxcblx0JyMwMDY2RkYnLFxuXHQnIzAwOTlDQycsXG5cdCcjMDA5OUZGJyxcblx0JyMwMENDMDAnLFxuXHQnIzAwQ0MzMycsXG5cdCcjMDBDQzY2Jyxcblx0JyMwMENDOTknLFxuXHQnIzAwQ0NDQycsXG5cdCcjMDBDQ0ZGJyxcblx0JyMzMzAwQ0MnLFxuXHQnIzMzMDBGRicsXG5cdCcjMzMzM0NDJyxcblx0JyMzMzMzRkYnLFxuXHQnIzMzNjZDQycsXG5cdCcjMzM2NkZGJyxcblx0JyMzMzk5Q0MnLFxuXHQnIzMzOTlGRicsXG5cdCcjMzNDQzAwJyxcblx0JyMzM0NDMzMnLFxuXHQnIzMzQ0M2NicsXG5cdCcjMzNDQzk5Jyxcblx0JyMzM0NDQ0MnLFxuXHQnIzMzQ0NGRicsXG5cdCcjNjYwMENDJyxcblx0JyM2NjAwRkYnLFxuXHQnIzY2MzNDQycsXG5cdCcjNjYzM0ZGJyxcblx0JyM2NkNDMDAnLFxuXHQnIzY2Q0MzMycsXG5cdCcjOTkwMENDJyxcblx0JyM5OTAwRkYnLFxuXHQnIzk5MzNDQycsXG5cdCcjOTkzM0ZGJyxcblx0JyM5OUNDMDAnLFxuXHQnIzk5Q0MzMycsXG5cdCcjQ0MwMDAwJyxcblx0JyNDQzAwMzMnLFxuXHQnI0NDMDA2NicsXG5cdCcjQ0MwMDk5Jyxcblx0JyNDQzAwQ0MnLFxuXHQnI0NDMDBGRicsXG5cdCcjQ0MzMzAwJyxcblx0JyNDQzMzMzMnLFxuXHQnI0NDMzM2NicsXG5cdCcjQ0MzMzk5Jyxcblx0JyNDQzMzQ0MnLFxuXHQnI0NDMzNGRicsXG5cdCcjQ0M2NjAwJyxcblx0JyNDQzY2MzMnLFxuXHQnI0NDOTkwMCcsXG5cdCcjQ0M5OTMzJyxcblx0JyNDQ0NDMDAnLFxuXHQnI0NDQ0MzMycsXG5cdCcjRkYwMDAwJyxcblx0JyNGRjAwMzMnLFxuXHQnI0ZGMDA2NicsXG5cdCcjRkYwMDk5Jyxcblx0JyNGRjAwQ0MnLFxuXHQnI0ZGMDBGRicsXG5cdCcjRkYzMzAwJyxcblx0JyNGRjMzMzMnLFxuXHQnI0ZGMzM2NicsXG5cdCcjRkYzMzk5Jyxcblx0JyNGRjMzQ0MnLFxuXHQnI0ZGMzNGRicsXG5cdCcjRkY2NjAwJyxcblx0JyNGRjY2MzMnLFxuXHQnI0ZGOTkwMCcsXG5cdCcjRkY5OTMzJyxcblx0JyNGRkNDMDAnLFxuXHQnI0ZGQ0MzMydcbl07XG5cbi8qKlxuICogQ3VycmVudGx5IG9ubHkgV2ViS2l0LWJhc2VkIFdlYiBJbnNwZWN0b3JzLCBGaXJlZm94ID49IHYzMSxcbiAqIGFuZCB0aGUgRmlyZWJ1ZyBleHRlbnNpb24gKGFueSBGaXJlZm94IHZlcnNpb24pIGFyZSBrbm93blxuICogdG8gc3VwcG9ydCBcIiVjXCIgQ1NTIGN1c3RvbWl6YXRpb25zLlxuICpcbiAqIFRPRE86IGFkZCBhIGBsb2NhbFN0b3JhZ2VgIHZhcmlhYmxlIHRvIGV4cGxpY2l0bHkgZW5hYmxlL2Rpc2FibGUgY29sb3JzXG4gKi9cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcblx0Ly8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuXHQvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuXHQvLyBleHBsaWNpdGx5XG5cdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiAod2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJyB8fCB3aW5kb3cucHJvY2Vzcy5fX253anMpKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBJbnRlcm5ldCBFeHBsb3JlciBhbmQgRWRnZSBkbyBub3Qgc3VwcG9ydCBjb2xvcnMuXG5cdGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvKGVkZ2V8dHJpZGVudClcXC8oXFxkKykvKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGxldCBtO1xuXG5cdC8vIElzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG5cdC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXR1cm4tYXNzaWduXG5cdHJldHVybiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlKSB8fFxuXHRcdC8vIElzIGZpcmVidWc/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5ODEyMC8zNzY3NzNcblx0XHQodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLmZpcmVidWcgfHwgKHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiAmJiB3aW5kb3cuY29uc29sZS50YWJsZSkpKSB8fFxuXHRcdC8vIElzIGZpcmVmb3ggPj0gdjMxP1xuXHRcdC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuXHRcdCh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIChtID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykpICYmIHBhcnNlSW50KG1bMV0sIDEwKSA+PSAzMSkgfHxcblx0XHQvLyBEb3VibGUgY2hlY2sgd2Via2l0IGluIHVzZXJBZ2VudCBqdXN0IGluIGNhc2Ugd2UgYXJlIGluIGEgd29ya2VyXG5cdFx0KHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hcHBsZXdlYmtpdFxcLyhcXGQrKS8pKTtcbn1cblxuLyoqXG4gKiBDb2xvcml6ZSBsb2cgYXJndW1lbnRzIGlmIGVuYWJsZWQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBmb3JtYXRBcmdzKGFyZ3MpIHtcblx0YXJnc1swXSA9ICh0aGlzLnVzZUNvbG9ycyA/ICclYycgOiAnJykgK1xuXHRcdHRoaXMubmFtZXNwYWNlICtcblx0XHQodGhpcy51c2VDb2xvcnMgPyAnICVjJyA6ICcgJykgK1xuXHRcdGFyZ3NbMF0gK1xuXHRcdCh0aGlzLnVzZUNvbG9ycyA/ICclYyAnIDogJyAnKSArXG5cdFx0JysnICsgbW9kdWxlLmV4cG9ydHMuaHVtYW5pemUodGhpcy5kaWZmKTtcblxuXHRpZiAoIXRoaXMudXNlQ29sb3JzKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Y29uc3QgYyA9ICdjb2xvcjogJyArIHRoaXMuY29sb3I7XG5cdGFyZ3Muc3BsaWNlKDEsIDAsIGMsICdjb2xvcjogaW5oZXJpdCcpO1xuXG5cdC8vIFRoZSBmaW5hbCBcIiVjXCIgaXMgc29tZXdoYXQgdHJpY2t5LCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG90aGVyXG5cdC8vIGFyZ3VtZW50cyBwYXNzZWQgZWl0aGVyIGJlZm9yZSBvciBhZnRlciB0aGUgJWMsIHNvIHdlIG5lZWQgdG9cblx0Ly8gZmlndXJlIG91dCB0aGUgY29ycmVjdCBpbmRleCB0byBpbnNlcnQgdGhlIENTUyBpbnRvXG5cdGxldCBpbmRleCA9IDA7XG5cdGxldCBsYXN0QyA9IDA7XG5cdGFyZ3NbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLCBtYXRjaCA9PiB7XG5cdFx0aWYgKG1hdGNoID09PSAnJSUnKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGluZGV4Kys7XG5cdFx0aWYgKG1hdGNoID09PSAnJWMnKSB7XG5cdFx0XHQvLyBXZSBvbmx5IGFyZSBpbnRlcmVzdGVkIGluIHRoZSAqbGFzdCogJWNcblx0XHRcdC8vICh0aGUgdXNlciBtYXkgaGF2ZSBwcm92aWRlZCB0aGVpciBvd24pXG5cdFx0XHRsYXN0QyA9IGluZGV4O1xuXHRcdH1cblx0fSk7XG5cblx0YXJncy5zcGxpY2UobGFzdEMsIDAsIGMpO1xufVxuXG4vKipcbiAqIEludm9rZXMgYGNvbnNvbGUuZGVidWcoKWAgd2hlbiBhdmFpbGFibGUuXG4gKiBOby1vcCB3aGVuIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgYSBcImZ1bmN0aW9uXCIuXG4gKiBJZiBgY29uc29sZS5kZWJ1Z2AgaXMgbm90IGF2YWlsYWJsZSwgZmFsbHMgYmFja1xuICogdG8gYGNvbnNvbGUubG9nYC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5leHBvcnRzLmxvZyA9IGNvbnNvbGUuZGVidWcgfHwgY29uc29sZS5sb2cgfHwgKCgpID0+IHt9KTtcblxuLyoqXG4gKiBTYXZlIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNhdmUobmFtZXNwYWNlcykge1xuXHR0cnkge1xuXHRcdGlmIChuYW1lc3BhY2VzKSB7XG5cdFx0XHRleHBvcnRzLnN0b3JhZ2Uuc2V0SXRlbSgnZGVidWcnLCBuYW1lc3BhY2VzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZXhwb3J0cy5zdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlYnVnJyk7XG5cdFx0fVxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxufVxuXG4vKipcbiAqIExvYWQgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJucyB0aGUgcHJldmlvdXNseSBwZXJzaXN0ZWQgZGVidWcgbW9kZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBsb2FkKCkge1xuXHRsZXQgcjtcblx0dHJ5IHtcblx0XHRyID0gZXhwb3J0cy5zdG9yYWdlLmdldEl0ZW0oJ2RlYnVnJykgfHwgZXhwb3J0cy5zdG9yYWdlLmdldEl0ZW0oJ0RFQlVHJykgO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxuXG5cdC8vIElmIGRlYnVnIGlzbid0IHNldCBpbiBMUywgYW5kIHdlJ3JlIGluIEVsZWN0cm9uLCB0cnkgdG8gbG9hZCAkREVCVUdcblx0aWYgKCFyICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAnZW52JyBpbiBwcm9jZXNzKSB7XG5cdFx0ciA9IHByb2Nlc3MuZW52LkRFQlVHO1xuXHR9XG5cblx0cmV0dXJuIHI7XG59XG5cbi8qKlxuICogTG9jYWxzdG9yYWdlIGF0dGVtcHRzIHRvIHJldHVybiB0aGUgbG9jYWxzdG9yYWdlLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugc2FmYXJpIHRocm93c1xuICogd2hlbiBhIHVzZXIgZGlzYWJsZXMgY29va2llcy9sb2NhbHN0b3JhZ2VcbiAqIGFuZCB5b3UgYXR0ZW1wdCB0byBhY2Nlc3MgaXQuXG4gKlxuICogQHJldHVybiB7TG9jYWxTdG9yYWdlfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9jYWxzdG9yYWdlKCkge1xuXHR0cnkge1xuXHRcdC8vIFRWTUxLaXQgKEFwcGxlIFRWIEpTIFJ1bnRpbWUpIGRvZXMgbm90IGhhdmUgYSB3aW5kb3cgb2JqZWN0LCBqdXN0IGxvY2FsU3RvcmFnZSBpbiB0aGUgZ2xvYmFsIGNvbnRleHRcblx0XHQvLyBUaGUgQnJvd3NlciBhbHNvIGhhcyBsb2NhbFN0b3JhZ2UgaW4gdGhlIGdsb2JhbCBjb250ZXh0LlxuXHRcdHJldHVybiBsb2NhbFN0b3JhZ2U7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9jb21tb24nKShleHBvcnRzKTtcblxuY29uc3Qge2Zvcm1hdHRlcnN9ID0gbW9kdWxlLmV4cG9ydHM7XG5cbi8qKlxuICogTWFwICVqIHRvIGBKU09OLnN0cmluZ2lmeSgpYCwgc2luY2Ugbm8gV2ViIEluc3BlY3RvcnMgZG8gdGhhdCBieSBkZWZhdWx0LlxuICovXG5cbmZvcm1hdHRlcnMuaiA9IGZ1bmN0aW9uICh2KSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHYpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiAnW1VuZXhwZWN0ZWRKU09OUGFyc2VFcnJvcl06ICcgKyBlcnJvci5tZXNzYWdlO1xuXHR9XG59O1xuIiwiaW1wb3J0IGRlYnVnIGZyb20gJ2RlYnVnJztcblxuZGVidWcuZW5hYmxlKCcqJylcblxudHlwZSBNZXNoTG9nID0gKHBhcmFtOiB7XG4gICAgbGV2ZWw6ICdlcnJvcicgfCAnd2FybicgfCAnaW5mbycgfCAnbG9nJyxcbiAgICBtZXNzYWdlczogYW55W11cbn0pID0+IFByb21pc2U8dm9pZD5cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VMb2dnZXIobmFtZTogc3RyaW5nLCBtZXNoTG9nOiBNZXNoTG9nKSB7XG4gICAgY29uc3QgbG9nZ2VyID0gZGVidWcobmFtZSk7XG4gICAgXG4gICAgY29uc3QgY3JlYXRlTG9nTWV0aG9kID0gKGxldmVsOiAnZXJyb3InIHwgJ3dhcm4nIHwgJ2luZm8nIHwgJ2xvZycsIG9yaWdpbkZuPzogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkKSA9PiB7XG4gICAgICAgIHJldHVybiBhc3luYyBmdW5jdGlvbiAoLi4uYXJnczogYW55W10pIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIC8vIGlmIChpbXBvcnQubWV0YS5lbnYuREVWKSB7XG4gICAgICAgICAgICAvLyAgICAgaWYgKG9yaWdpbkZuKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgIG9yaWdpbkZuKC4uLmFyZ3MpO1xuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBtZXNoTG9nKHtcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBhcmdzLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIC8vIFNpbGVudGx5IGhhbmRsZSBlcnJvcnMgdG8gYXZvaWQgYnJlYWtpbmcgbG9nZ2luZ1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvLyBPdmVycmlkZSBsb2cgZnVuY3Rpb25cbiAgICBsb2dnZXIubG9nID0gY3JlYXRlTG9nTWV0aG9kKCdsb2cnLCBjb25zb2xlLmxvZyk7XG4gICAgXG4gICAgLy8gLy8gQWRkIG90aGVyIGxvZyBsZXZlbCBtZXRob2RzXG4gICAgLy8gKGxvZ2dlciBhcyBhbnkpLmluZm8gPSBjcmVhdGVMb2dNZXRob2QoJ2luZm8nLCBjb25zb2xlLmluZm8pO1xuICAgIC8vIChsb2dnZXIgYXMgYW55KS53YXJuID0gY3JlYXRlTG9nTWV0aG9kKCd3YXJuJywgY29uc29sZS53YXJuKTtcbiAgICAvLyAobG9nZ2VyIGFzIGFueSkuZXJyb3IgPSBjcmVhdGVMb2dNZXRob2QoJ2Vycm9yJywgY29uc29sZS5lcnJvcik7XG5cbiAgICByZXR1cm4gbG9nZ2VyO1xufSIsImltcG9ydCB7IG1ha2VMb2dnZXIgfSBmcm9tICdAc2RwcHAvaW50ZXJuYWwtY29tbW9uJztcblxuY29uc3QgbG9nZ2VyID0gbWFrZUxvZ2dlcignbWVzaDpzZGsnLCBhc3luYyAoe1xuICAgIGxldmVsLFxuICAgIG1lc3NhZ2VzXG59KSA9PiB7XG4gICAgY29uc3QgeyBtY3BNZXNoIH0gPSBhd2FpdCBpbXBvcnQoJy4vbWVzaCcpXG4gICAgYXdhaXQgbWNwTWVzaC5nZXROb2RlKCd1eHAnKS5hY3Rpb25zLmxvZyh7XG4gICAgICAgICAgICBsZXZlbCxcbiAgICAgICAgICAgIG1lc3NhZ2VzXG4gICAgICAgIH0pXG59KVxuXG5leHBvcnQgeyBsb2dnZXIgfSIsImltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgeyBtY3BNZXNoIH0gZnJvbSBcIi4uL21lc2hcIjtcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gXCIuLi8uLi9sb2dnZXJcIjtcblxuY29uc3QgbG9nID0gbG9nZ2VyLmV4dGVuZCgnc2RrLWZldGNoLXByb3h5JylcblxuLy8gRm9ybURhdGHluo/liJfljJbnm7jlhbPnmoTnsbvlnovlrprkuYlcbmludGVyZmFjZSBTZXJpYWxpemVkRmlsZSB7XG4gICAgdHlwZTogJ2ZpbGUnO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBkYXRhOiBzdHJpbmc7IC8vIGJhc2U2NOe8lueggeeahOaWh+S7tuaVsOaNrlxuICAgIG1pbWVUeXBlOiBzdHJpbmc7XG59XG5cbnR5cGUgU2VyaWFsaXplZEZvcm1EYXRhRW50cnkgPSBbc3RyaW5nLCBzdHJpbmcgfCBTZXJpYWxpemVkRmlsZV07XG50eXBlIFNlcmlhbGl6ZWRGb3JtRGF0YSA9IFNlcmlhbGl6ZWRGb3JtRGF0YUVudHJ5W107XG5cbi8vIOW6j+WIl+WMlkZvcm1EYXRh5Li65Y+v5Lyg6YCS55qE5qC85byPXG5hc3luYyBmdW5jdGlvbiBzZXJpYWxpemVGb3JtRGF0YShmb3JtRGF0YTogRm9ybURhdGEpOiBQcm9taXNlPFNlcmlhbGl6ZWRGb3JtRGF0YT4ge1xuICAgIGNvbnN0IGVudHJpZXM6IFNlcmlhbGl6ZWRGb3JtRGF0YSA9IFtdO1xuXG4gICAgLy8g5L2/55So57G75Z6L5pat6KiA5p2l6Kej5YazRm9ybURhdGHmlrnms5Xnsbvlnovpl67pophcbiAgICBjb25zdCBmb3JtRGF0YUFueSA9IGZvcm1EYXRhIGFzIGFueTtcblxuICAgIC8vIOmBjeWOhkZvcm1EYXRh55qE5omA5pyJ6ZSuXG4gICAgaWYgKGZvcm1EYXRhQW55LmVudHJpZXMpIHtcbiAgICAgICAgLy8g5aaC5p6c5pSv5oyBZW50cmllc+aWueazlVxuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBmb3JtRGF0YUFueS5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEZpbGUpIHtcbiAgICAgICAgICAgICAgICAvLyDlpITnkIbmlofku7ZcbiAgICAgICAgICAgICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IHZhbHVlLmFycmF5QnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZTY0RGF0YSA9IEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyKS50b1N0cmluZygnYmFzZTY0Jyk7XG5cbiAgICAgICAgICAgICAgICBlbnRyaWVzLnB1c2goW2tleSwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZmlsZScsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHZhbHVlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGJhc2U2NERhdGEsXG4gICAgICAgICAgICAgICAgICAgIG1pbWVUeXBlOiB2YWx1ZS50eXBlIHx8ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nXG4gICAgICAgICAgICAgICAgfV0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyDlpITnkIbmma7pgJrlrZfnrKbkuLLlgLxcbiAgICAgICAgICAgICAgICBlbnRyaWVzLnB1c2goW2tleSwgU3RyaW5nKHZhbHVlKV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8g6ZmN57qn5pa55qGI77ya5bCd6K+V55u05o6l6K6/6Zeu5YaF6YOo5pWw5o2uXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRm9ybURhdGEgc2VyaWFsaXphdGlvbiBub3Qgc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZW50cmllcztcbn1cblxuYXN5bmMgZnVuY3Rpb24gcHJveGllZEZldGNoKGRhdGE6IHtcbiAgICB1cmw6IHN0cmluZztcbiAgICBtZXRob2Q/OiBzdHJpbmc7XG4gICAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgYm9keT86IGFueTtcbiAgICBib2R5VHlwZT86ICdqc29uJyB8ICdmb3JtRGF0YScgfCAndGV4dCc7XG59KSB7XG4gICAgLy8g56Gu5a6aYm9keVR5cGVcbiAgICBsZXQgYm9keVR5cGU6ICdqc29uJyB8ICdmb3JtRGF0YScgfCAndGV4dCcgPSAnanNvbic7XG4gICAgaWYgKGRhdGEuYm9keVR5cGUpIHtcbiAgICAgICAgYm9keVR5cGUgPSBkYXRhLmJvZHlUeXBlO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGEuYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgYm9keVR5cGUgPSAndGV4dCc7XG4gICAgfVxuXG4gICAgLy8g5bqP5YiX5YyWRm9ybURhdGFcbiAgICBsZXQgc2VyaWFsaXplZEJvZHkgPSBkYXRhLmJvZHk7XG4gICAgaWYgKGRhdGEuYm9keSBpbnN0YW5jZW9mIEZvcm1EYXRhKSB7XG4gICAgICAgIHNlcmlhbGl6ZWRCb2R5ID0gYXdhaXQgc2VyaWFsaXplRm9ybURhdGEoZGF0YS5ib2R5KTtcbiAgICAgICAgYm9keVR5cGUgPSAnZm9ybURhdGEnO1xuICAgIH1cblxuICAgIC8vIGxvZygncHJveGllZEZldGNoJywgZGF0YS51cmwsIGRhdGEubWV0aG9kLCBkYXRhLmhlYWRlcnMsIHNlcmlhbGl6ZWRCb2R5LCBib2R5VHlwZSk7XG5cbiAgICAvLyDkvb/nlKhtZXNoIGFjdGlvbuiwg+eUqHByb3hpZWRGZXRjaFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbWNwTWVzaC5nZXROb2RlKCd1eHAnKS5hY3Rpb25zLnByb3hpZWRGZXRjaCh7XG4gICAgICAgIHVybDogZGF0YS51cmwsXG4gICAgICAgIG1ldGhvZDogZGF0YS5tZXRob2QgfHwgJ0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IGRhdGEuaGVhZGVycyB8fCB7fSxcbiAgICAgICAgYm9keTogc2VyaWFsaXplZEJvZHksXG4gICAgICAgIGJvZHlUeXBlOiBib2R5VHlwZSxcbiAgICB9KTtcblxuICAgIC8vIGxvZygncHJveGllZEZldGNoIHJlc3BvbnNlJywgcmVzcG9uc2UpO1xuXG4gICAgaWYgKCFyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5lcnJvciB8fCAnRmV0Y2ggcmVxdWVzdCBmYWlsZWQnKTtcbiAgICB9XG5cbiAgICAvLyDov5Tlm57nsbvkvLxmZXRjaOeahFJlc3BvbnNl5a+56LGhXG4gICAgcmV0dXJuIHtcbiAgICAgICAgb2s6IHJlc3BvbnNlLnN0YXR1cyEgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyEgPCAzMDAsXG4gICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzISxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVzcG9uc2Uuc3RhdHVzVGV4dCEsXG4gICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlLmhlYWRlcnMhLFxuICAgICAgICBkYXRhOiByZXNwb25zZS5kYXRhLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlc3BvbnNlLmRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgfSxcbiAgICAgICAgdGV4dDogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZS5kYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuY29uc3QgcHJveGllZERvbWFpbnM6IHN0cmluZ1tdID0gW1xuXVxuXG4vLyDovazmjaJIZWFkZXJzSW5pdOS4ulJlY29yZDxzdHJpbmcsIHN0cmluZz5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUhlYWRlcnMoaGVhZGVyczogSGVhZGVyc0luaXQgfCB1bmRlZmluZWQpOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcbiAgICBpZiAoIWhlYWRlcnMpIHJldHVybiB7fTtcblxuICAgIGlmICh0eXBlb2YgaGVhZGVycyA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoaGVhZGVycykpIHtcbiAgICAgICAgLy8gSGVhZGVyc+WvueixoeaIluaZrumAmuWvueixoVxuICAgICAgICBjb25zdCByZXN1bHQ6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICAgICAgaWYgKGhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG4gICAgICAgICAgICBoZWFkZXJzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyDmma7pgJrlr7nosaFcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGhlYWRlcnMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KGhlYWRlcnMpKSB7XG4gICAgICAgIC8vIOaVsOe7hOW9ouW8jyBba2V5LCB2YWx1ZV1bXVxuICAgICAgICBjb25zdCByZXN1bHQ6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICAgICAgaGVhZGVycy5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJldHVybiB7fTtcbn1cblxuLy8g5qOA5p+lVVJM5piv5ZCm5Yy56YWN5Luj55CG5Z+f5ZCNXG5mdW5jdGlvbiBzaG91bGRQcm94eSh1cmw6IHN0cmluZyB8IFVSTCB8IFJlcXVlc3QpOiBib29sZWFuIHtcbiAgICBsZXQgdXJsU3RyaW5nOiBzdHJpbmc7XG5cbiAgICBpZiAodHlwZW9mIHVybCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdXJsU3RyaW5nID0gdXJsO1xuICAgIH0gZWxzZSBpZiAodXJsIGluc3RhbmNlb2YgVVJMKSB7XG4gICAgICAgIHVybFN0cmluZyA9IHVybC50b1N0cmluZygpO1xuICAgIH0gZWxzZSBpZiAodXJsIGluc3RhbmNlb2YgUmVxdWVzdCkge1xuICAgICAgICB1cmxTdHJpbmcgPSB1cmwudXJsO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCB1cmxPYmogPSBuZXcgVVJMKHVybFN0cmluZyk7XG4gICAgICAgIHJldHVybiBwcm94aWVkRG9tYWlucy5zb21lKGRvbWFpbiA9PiB7XG4gICAgICAgICAgICAvLyDnsr7noa7ljLnphY3ln5/lkI3miJblrZDln5/lkI1cbiAgICAgICAgICAgIHJldHVybiB1cmxPYmouaG9zdG5hbWUuaW5jbHVkZXMoZG9tYWluKTtcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICAgIC8vIOWmguaenFVSTOino+aekOWksei0pe+8jOS9v+eUqOeugOWNleeahOWtl+espuS4suWMuemFjVxuICAgICAgICByZXR1cm4gcHJveGllZERvbWFpbnMuc29tZShkb21haW4gPT4gdXJsU3RyaW5nLmluY2x1ZGVzKGRvbWFpbikpO1xuICAgIH1cbn1cblxuLy8g5Yib5bu65YW85a6555qEUmVzcG9uc2Xlr7nosaFcbmZ1bmN0aW9uIGNyZWF0ZUNvbXBhdGlibGVSZXNwb25zZShyZXNwb25zZTogYW55KTogYW55IHtcbiAgICAvLyDliJvlu7rkuIDkuKrnsbvkvLxSZXNwb25zZeeahOWvueixoe+8jOWMheWQq+aJgOacieW/heimgeeahOaWueazleWSjOWxnuaAp1xuICAgIGNvbnN0IHJlc3BvbnNlT2JqID0ge1xuICAgICAgICBvazogcmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDAsXG4gICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyhyZXNwb25zZS5oZWFkZXJzIHx8IHt9KSxcbiAgICAgICAgZGF0YTogcmVzcG9uc2UuZGF0YSxcblxuICAgICAgICAvLyDlrp7njrDmiYDmnIlSZXNwb25zZeaWueazlVxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlc3BvbnNlLmRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgfSxcblxuICAgICAgICB0ZXh0OiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlc3BvbnNlLmRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYmxvYjogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyDlpoLmnpxkYXRh5piv5a2X56ym5Liy77yM6L2s5o2i5Li6YmxvYlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBCbG9iKFt0eXBlb2YgcmVzcG9uc2UuZGF0YSA9PT0gJ3N0cmluZycgPyByZXNwb25zZS5kYXRhIDogSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSldKTtcbiAgICAgICAgfSxcblxuICAgICAgICBhcnJheUJ1ZmZlcjogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdGV4dCA9IHR5cGVvZiByZXNwb25zZS5kYXRhID09PSAnc3RyaW5nJyA/IHJlc3BvbnNlLmRhdGEgOiBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodGV4dCkuYnVmZmVyO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZvcm1EYXRhOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Zvcm1EYXRhIHBhcnNpbmcgbm90IGltcGxlbWVudGVkIGluIHByb3h5IHJlc3BvbnNlJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xvbmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb21wYXRpYmxlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIOa3u+WKoOWFtuS7llJlc3BvbnNl5bGe5oCnXG4gICAgICAgIHR5cGU6ICdkZWZhdWx0JyxcbiAgICAgICAgdXJsOiAnJywgLy8g6L+Z6YeM5Y+v5Lul6K6+572u5a6e6ZmF55qEVVJMXG4gICAgICAgIHJlZGlyZWN0ZWQ6IGZhbHNlLFxuICAgICAgICBib2R5OiBudWxsLFxuICAgICAgICBib2R5VXNlZDogZmFsc2UsXG4gICAgfTtcblxuICAgIHJldHVybiByZXNwb25zZU9iajtcbn1cblxuLy8g5L+d5a2Y5Y6f5aeL55qEZmV0Y2jlh73mlbBcbmNvbnN0IG9yaWdpbmFsRmV0Y2ggPSBnbG9iYWxUaGlzLmZldGNoO1xuXG4vLyDph43lhplmZXRjaOWHveaVsO+8jOaUr+aMgeaJgOaciWZldGNo55So5rOVXG47IChnbG9iYWxUaGlzIGFzIGFueSkuZmV0Y2ggPSBmdW5jdGlvbiAoXG4gICAgaW5wdXQ6IFJlcXVlc3RJbmZvIHwgVVJMLFxuICAgIGluaXQ/OiBSZXF1ZXN0SW5pdFxuKTogUHJvbWlzZTxSZXNwb25zZT4ge1xuICAgIC8vIOWkhOeQhuS4jeWQjOeahOi+k+WFpeexu+Wei1xuICAgIGxldCB1cmw6IHN0cmluZztcbiAgICBsZXQgb3B0aW9uczogUmVxdWVzdEluaXQgPSB7fTtcblxuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHVybCA9IGlucHV0O1xuICAgICAgICBvcHRpb25zID0gaW5pdCB8fCB7fTtcbiAgICB9IGVsc2UgaWYgKGlucHV0IGluc3RhbmNlb2YgVVJMKSB7XG4gICAgICAgIHVybCA9IGlucHV0LnRvU3RyaW5nKCk7XG4gICAgICAgIG9wdGlvbnMgPSBpbml0IHx8IHt9O1xuICAgIH0gZWxzZSBpZiAoaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG4gICAgICAgIHVybCA9IGlucHV0LnVybDtcbiAgICAgICAgLy8g5ZCI5bm2UmVxdWVzdOWSjGluaXTpgInpoblcbiAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIG1ldGhvZDogaW5wdXQubWV0aG9kLFxuICAgICAgICAgICAgaGVhZGVyczogaW5wdXQuaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGlucHV0LmJvZHksXG4gICAgICAgICAgICBtb2RlOiBpbnB1dC5tb2RlLFxuICAgICAgICAgICAgY3JlZGVudGlhbHM6IGlucHV0LmNyZWRlbnRpYWxzLFxuICAgICAgICAgICAgY2FjaGU6IGlucHV0LmNhY2hlLFxuICAgICAgICAgICAgcmVkaXJlY3Q6IGlucHV0LnJlZGlyZWN0LFxuICAgICAgICAgICAgcmVmZXJyZXI6IGlucHV0LnJlZmVycmVyLFxuICAgICAgICAgICAgcmVmZXJyZXJQb2xpY3k6IGlucHV0LnJlZmVycmVyUG9saWN5LFxuICAgICAgICAgICAgaW50ZWdyaXR5OiBpbnB1dC5pbnRlZ3JpdHksXG4gICAgICAgICAgICBrZWVwYWxpdmU6IGlucHV0LmtlZXBhbGl2ZSxcbiAgICAgICAgICAgIC4uLmluaXRcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGlucHV0LnNpZ25hbCkge1xuICAgICAgICAgICAgb3B0aW9ucy5zaWduYWwgPSBpbnB1dC5zaWduYWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5zaWduYWw7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8g5aaC5p6c6L6T5YWl57G75Z6L5LiN5pSv5oyB77yM5L2/55So5Y6f5aeLZmV0Y2hcbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsRmV0Y2goaW5wdXQsIGluaXQpO1xuICAgIH1cblxuICAgIGlmIChzaG91bGRQcm94eSh1cmwpKSB7XG4gICAgICAgIC8vIOehruWummJvZHlUeXBlXG4gICAgICAgIGxldCBib2R5VHlwZTogJ2pzb24nIHwgJ2Zvcm1EYXRhJyB8ICd0ZXh0JyA9ICdqc29uJztcbiAgICAgICAgaWYgKG9wdGlvbnMuYm9keSBpbnN0YW5jZW9mIEZvcm1EYXRhKSB7XG4gICAgICAgICAgICBib2R5VHlwZSA9ICdmb3JtRGF0YSc7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGJvZHlUeXBlID0gJ3RleHQnO1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuYm9keSBpbnN0YW5jZW9mIEJsb2IgfHwgb3B0aW9ucy5ib2R5IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICAgIGJvZHlUeXBlID0gJ3RleHQnOyAvLyDlr7nkuo7kuozov5vliLbmlbDmja7vvIzkvb/nlKh0ZXh057G75Z6LXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHJveGllZEZldGNoKHtcbiAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgIG1ldGhvZDogb3B0aW9ucy5tZXRob2QgfHwgJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiBub3JtYWxpemVIZWFkZXJzKG9wdGlvbnMuaGVhZGVycyksXG4gICAgICAgICAgICBib2R5OiBvcHRpb25zLmJvZHksXG4gICAgICAgICAgICBib2R5VHlwZTogYm9keVR5cGUsXG4gICAgICAgIH0pLnRoZW4oY3JlYXRlQ29tcGF0aWJsZVJlc3BvbnNlKTtcbiAgICB9XG5cbiAgICAvLyDlr7nkuo7kuI3pnIDopoHku6PnkIbnmoTor7fmsYLvvIzkvb/nlKjljp/lp4tmZXRjaFxuICAgIHJldHVybiBvcmlnaW5hbEZldGNoKGlucHV0LCBpbml0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyUHJveHlEb21haW5zKGRvbWFpbnM6IHN0cmluZykge1xuICAgIHByb3hpZWREb21haW5zLnB1c2goZG9tYWlucyk7XG59XG4iLCJ0eXBlIEV2ZW50TGlzdGVuZXI8VCA9IGFueT4gPSAoZGF0YTogVCkgPT4gdm9pZDtcblxuY2xhc3MgRXZlbnRFbWl0dGVyIHtcbiAgICBwcml2YXRlIGxpc3RlbmVyczogTWFwPHN0cmluZywgU2V0PEV2ZW50TGlzdGVuZXI+PiA9IG5ldyBNYXAoKTtcblxuICAgIG9uPFQgPSBhbnk+KGV2ZW50OiBzdHJpbmcsIGxpc3RlbmVyOiBFdmVudExpc3RlbmVyPFQ+KTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5saXN0ZW5lcnMuaGFzKGV2ZW50KSkge1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnMuc2V0KGV2ZW50LCBuZXcgU2V0KCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmdldChldmVudCkhLmFkZChsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgb2ZmPFQgPSBhbnk+KGV2ZW50OiBzdHJpbmcsIGxpc3RlbmVyOiBFdmVudExpc3RlbmVyPFQ+KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGV2ZW50TGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnMuZ2V0KGV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50TGlzdGVuZXJzKSB7XG4gICAgICAgICAgICBldmVudExpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xuICAgICAgICAgICAgaWYgKGV2ZW50TGlzdGVuZXJzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVycy5kZWxldGUoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW1pdDxUID0gYW55PihldmVudDogc3RyaW5nLCBkYXRhPzogVCk6IHZvaWQge1xuICAgICAgICBjb25zdCBldmVudExpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzLmdldChldmVudCk7XG4gICAgICAgIGlmIChldmVudExpc3RlbmVycykge1xuICAgICAgICAgICAgZXZlbnRMaXN0ZW5lcnMuZm9yRWFjaChsaXN0ZW5lciA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIoZGF0YSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgaW4gZXZlbnQgbGlzdGVuZXIgZm9yIFwiJHtldmVudH1cIjpgLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbmNlPFQgPSBhbnk+KGV2ZW50OiBzdHJpbmcsIGxpc3RlbmVyOiBFdmVudExpc3RlbmVyPFQ+KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IG9uY2VMaXN0ZW5lciA9IChkYXRhOiBUKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9mZihldmVudCwgb25jZUxpc3RlbmVyKTtcbiAgICAgICAgICAgIGxpc3RlbmVyKGRhdGEpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uKGV2ZW50LCBvbmNlTGlzdGVuZXIpO1xuICAgIH1cblxuICAgIHJlbW92ZUFsbExpc3RlbmVycyhldmVudD86IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzLmRlbGV0ZShldmVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVycy5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3Qgc2RrRXZlbnRFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuZXhwb3J0IHR5cGUgeyBFdmVudExpc3RlbmVyIH07IiwiaW1wb3J0IHsgbWNwTWVzaCB9IGZyb20gJy4uL21lc2gnO1xuaW1wb3J0IHsgc2RrRXZlbnRFbWl0dGVyIH0gZnJvbSAnLi4vLi4vZXZlbnRzJztcblxubWNwTWVzaC5pbXBsZW1lbnRBY3Rpb24oJ2JhY2t3YXJkJywgYXN5bmMgKCkgPT4ge1xuICAgIHNka0V2ZW50RW1pdHRlci5lbWl0KCd3ZWJ2aWV3LWJhY2t3YXJkJywgeyB0aW1lc3RhbXA6IERhdGUubm93KCkgfSk7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9OyBcbn0pO1xuXG5tY3BNZXNoLmltcGxlbWVudEFjdGlvbigncmVmcmVzaCcsIGFzeW5jICgpID0+IHtcbiAgICBzZGtFdmVudEVtaXR0ZXIuZW1pdCgnd2Vidmlldy1yZWZyZXNoJywgeyB0aW1lc3RhbXA6IERhdGUubm93KCkgfSk7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xufSk7ICIsImltcG9ydCB7IG1jcE1lc2ggfSBmcm9tIFwiLi4vbWVzaFwiO1xuXG5jb25zdCB1eHBOb2RlID0gbWNwTWVzaC5nZXROb2RlKCd1eHAnKTtcbmxldCBsYXN0QWN0aXZlRG9jdW1lbnRJRCA9IDA7XG5cblxuZnVuY3Rpb24gY2hlY2tBY3RpdmVEb2N1bWVudCgpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBHZXQgYWN0aXZlRG9jdW1lbnRJRCBmcm9tIFVYUCBzdG9yZSB0aHJvdWdoIG1lc2ggY29tbXVuaWNhdGlvblxuICAgICAgICBjb25zdCB1eHBTdGF0ZSA9IHV4cE5vZGUuc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgY3VycmVudEFjdGl2ZURvY3VtZW50SUQgPSB1eHBTdGF0ZT8uYWN0aXZlRG9jdW1lbnRJRCB8fCAwO1xuXG4gICAgICAgIGlmIChjdXJyZW50QWN0aXZlRG9jdW1lbnRJRCAhPT0gbGFzdEFjdGl2ZURvY3VtZW50SUQpIHtcbiAgICAgICAgICAgIGxhc3RBY3RpdmVEb2N1bWVudElEID0gY3VycmVudEFjdGl2ZURvY3VtZW50SUQ7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHdvcmtCb3VuZGFyaWVzIGhhcyB0aGlzIGRvY3VtZW50SURcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IG1jcE1lc2guc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgICAgICAgIGNvbnN0IHdvcmtCb3VuZGFyaWVzID0gY3VycmVudFN0YXRlLndvcmtCb3VuZGFyaWVzIHx8IHt9O1xuXG4gICAgICAgICAgICBpZiAoY3VycmVudEFjdGl2ZURvY3VtZW50SUQgPiAwICYmICF3b3JrQm91bmRhcmllc1tjdXJyZW50QWN0aXZlRG9jdW1lbnRJRF0pIHtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgZGVmYXVsdCB3b3JrQm91bmRhcnkgZm9yIHRoaXMgZG9jdW1lbnRcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkV29ya0JvdW5kYXJpZXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLndvcmtCb3VuZGFyaWVzLFxuICAgICAgICAgICAgICAgICAgICBbY3VycmVudEFjdGl2ZURvY3VtZW50SURdOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiA5OTk5OTksXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDk5OTk5OVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIG1jcE1lc2guc3RvcmUuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICB3b3JrQm91bmRhcmllczogdXBkYXRlZFdvcmtCb3VuZGFyaWVzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2NoZWNrQWN0aXZlRG9jdW1lbnQgZXJyb3I6JywgZSk7XG4gICAgfVxuXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNoZWNrQWN0aXZlRG9jdW1lbnQpO1xufVxuXG4vLyBTdGFydCB0aGUgcG9sbGluZyBsb29wXG5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2hlY2tBY3RpdmVEb2N1bWVudCk7IiwiaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcbmV4cG9ydCBjb25zdCBMQVRFU1RfUFJPVE9DT0xfVkVSU0lPTiA9IFwiMjAyNS0wNi0xOFwiO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfTkVHT1RJQVRFRF9QUk9UT0NPTF9WRVJTSU9OID0gXCIyMDI1LTAzLTI2XCI7XG5leHBvcnQgY29uc3QgU1VQUE9SVEVEX1BST1RPQ09MX1ZFUlNJT05TID0gW1xuICAgIExBVEVTVF9QUk9UT0NPTF9WRVJTSU9OLFxuICAgIFwiMjAyNS0wMy0yNlwiLFxuICAgIFwiMjAyNC0xMS0wNVwiLFxuICAgIFwiMjAyNC0xMC0wN1wiLFxuXTtcbi8qIEpTT04tUlBDIHR5cGVzICovXG5leHBvcnQgY29uc3QgSlNPTlJQQ19WRVJTSU9OID0gXCIyLjBcIjtcbi8qKlxuICogQSBwcm9ncmVzcyB0b2tlbiwgdXNlZCB0byBhc3NvY2lhdGUgcHJvZ3Jlc3Mgbm90aWZpY2F0aW9ucyB3aXRoIHRoZSBvcmlnaW5hbCByZXF1ZXN0LlxuICovXG5leHBvcnQgY29uc3QgUHJvZ3Jlc3NUb2tlblNjaGVtYSA9IHoudW5pb24oW3ouc3RyaW5nKCksIHoubnVtYmVyKCkuaW50KCldKTtcbi8qKlxuICogQW4gb3BhcXVlIHRva2VuIHVzZWQgdG8gcmVwcmVzZW50IGEgY3Vyc29yIGZvciBwYWdpbmF0aW9uLlxuICovXG5leHBvcnQgY29uc3QgQ3Vyc29yU2NoZW1hID0gei5zdHJpbmcoKTtcbmNvbnN0IFJlcXVlc3RNZXRhU2NoZW1hID0gelxuICAgIC5vYmplY3Qoe1xuICAgIC8qKlxuICAgICAqIElmIHNwZWNpZmllZCwgdGhlIGNhbGxlciBpcyByZXF1ZXN0aW5nIG91dC1vZi1iYW5kIHByb2dyZXNzIG5vdGlmaWNhdGlvbnMgZm9yIHRoaXMgcmVxdWVzdCAoYXMgcmVwcmVzZW50ZWQgYnkgbm90aWZpY2F0aW9ucy9wcm9ncmVzcykuIFRoZSB2YWx1ZSBvZiB0aGlzIHBhcmFtZXRlciBpcyBhbiBvcGFxdWUgdG9rZW4gdGhhdCB3aWxsIGJlIGF0dGFjaGVkIHRvIGFueSBzdWJzZXF1ZW50IG5vdGlmaWNhdGlvbnMuIFRoZSByZWNlaXZlciBpcyBub3Qgb2JsaWdhdGVkIHRvIHByb3ZpZGUgdGhlc2Ugbm90aWZpY2F0aW9ucy5cbiAgICAgKi9cbiAgICBwcm9ncmVzc1Rva2VuOiB6Lm9wdGlvbmFsKFByb2dyZXNzVG9rZW5TY2hlbWEpLFxufSlcbiAgICAucGFzc3Rocm91Z2goKTtcbmNvbnN0IEJhc2VSZXF1ZXN0UGFyYW1zU2NoZW1hID0gelxuICAgIC5vYmplY3Qoe1xuICAgIF9tZXRhOiB6Lm9wdGlvbmFsKFJlcXVlc3RNZXRhU2NoZW1hKSxcbn0pXG4gICAgLnBhc3N0aHJvdWdoKCk7XG5leHBvcnQgY29uc3QgUmVxdWVzdFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICBtZXRob2Q6IHouc3RyaW5nKCksXG4gICAgcGFyYW1zOiB6Lm9wdGlvbmFsKEJhc2VSZXF1ZXN0UGFyYW1zU2NoZW1hKSxcbn0pO1xuY29uc3QgQmFzZU5vdGlmaWNhdGlvblBhcmFtc1NjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICAvKipcbiAgICAgKiBTZWUgW01DUCBzcGVjaWZpY2F0aW9uXShodHRwczovL2dpdGh1Yi5jb20vbW9kZWxjb250ZXh0cHJvdG9jb2wvbW9kZWxjb250ZXh0cHJvdG9jb2wvYmxvYi80NzMzOWMwM2MxNDNiYjRlYzAxYTI2ZTcyMWExYjhmZTY2NjM0ZWJlL2RvY3Mvc3BlY2lmaWNhdGlvbi9kcmFmdC9iYXNpYy9pbmRleC5tZHgjZ2VuZXJhbC1maWVsZHMpXG4gICAgICogZm9yIG5vdGVzIG9uIF9tZXRhIHVzYWdlLlxuICAgICAqL1xuICAgIF9tZXRhOiB6Lm9wdGlvbmFsKHoub2JqZWN0KHt9KS5wYXNzdGhyb3VnaCgpKSxcbn0pXG4gICAgLnBhc3N0aHJvdWdoKCk7XG5leHBvcnQgY29uc3QgTm90aWZpY2F0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xuICAgIG1ldGhvZDogei5zdHJpbmcoKSxcbiAgICBwYXJhbXM6IHoub3B0aW9uYWwoQmFzZU5vdGlmaWNhdGlvblBhcmFtc1NjaGVtYSksXG59KTtcbmV4cG9ydCBjb25zdCBSZXN1bHRTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgLyoqXG4gICAgICogU2VlIFtNQ1Agc3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL21vZGVsY29udGV4dHByb3RvY29sL21vZGVsY29udGV4dHByb3RvY29sL2Jsb2IvNDczMzljMDNjMTQzYmI0ZWMwMWEyNmU3MjFhMWI4ZmU2NjYzNGViZS9kb2NzL3NwZWNpZmljYXRpb24vZHJhZnQvYmFzaWMvaW5kZXgubWR4I2dlbmVyYWwtZmllbGRzKVxuICAgICAqIGZvciBub3RlcyBvbiBfbWV0YSB1c2FnZS5cbiAgICAgKi9cbiAgICBfbWV0YTogei5vcHRpb25hbCh6Lm9iamVjdCh7fSkucGFzc3Rocm91Z2goKSksXG59KVxuICAgIC5wYXNzdGhyb3VnaCgpO1xuLyoqXG4gKiBBIHVuaXF1ZWx5IGlkZW50aWZ5aW5nIElEIGZvciBhIHJlcXVlc3QgaW4gSlNPTi1SUEMuXG4gKi9cbmV4cG9ydCBjb25zdCBSZXF1ZXN0SWRTY2hlbWEgPSB6LnVuaW9uKFt6LnN0cmluZygpLCB6Lm51bWJlcigpLmludCgpXSk7XG4vKipcbiAqIEEgcmVxdWVzdCB0aGF0IGV4cGVjdHMgYSByZXNwb25zZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEpTT05SUENSZXF1ZXN0U2NoZW1hID0gelxuICAgIC5vYmplY3Qoe1xuICAgIGpzb25ycGM6IHoubGl0ZXJhbChKU09OUlBDX1ZFUlNJT04pLFxuICAgIGlkOiBSZXF1ZXN0SWRTY2hlbWEsXG59KVxuICAgIC5tZXJnZShSZXF1ZXN0U2NoZW1hKVxuICAgIC5zdHJpY3QoKTtcbmV4cG9ydCBjb25zdCBpc0pTT05SUENSZXF1ZXN0ID0gKHZhbHVlKSA9PiBKU09OUlBDUmVxdWVzdFNjaGVtYS5zYWZlUGFyc2UodmFsdWUpLnN1Y2Nlc3M7XG4vKipcbiAqIEEgbm90aWZpY2F0aW9uIHdoaWNoIGRvZXMgbm90IGV4cGVjdCBhIHJlc3BvbnNlLlxuICovXG5leHBvcnQgY29uc3QgSlNPTlJQQ05vdGlmaWNhdGlvblNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICBqc29ucnBjOiB6LmxpdGVyYWwoSlNPTlJQQ19WRVJTSU9OKSxcbn0pXG4gICAgLm1lcmdlKE5vdGlmaWNhdGlvblNjaGVtYSlcbiAgICAuc3RyaWN0KCk7XG5leHBvcnQgY29uc3QgaXNKU09OUlBDTm90aWZpY2F0aW9uID0gKHZhbHVlKSA9PiBKU09OUlBDTm90aWZpY2F0aW9uU2NoZW1hLnNhZmVQYXJzZSh2YWx1ZSkuc3VjY2Vzcztcbi8qKlxuICogQSBzdWNjZXNzZnVsIChub24tZXJyb3IpIHJlc3BvbnNlIHRvIGEgcmVxdWVzdC5cbiAqL1xuZXhwb3J0IGNvbnN0IEpTT05SUENSZXNwb25zZVNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICBqc29ucnBjOiB6LmxpdGVyYWwoSlNPTlJQQ19WRVJTSU9OKSxcbiAgICBpZDogUmVxdWVzdElkU2NoZW1hLFxuICAgIHJlc3VsdDogUmVzdWx0U2NoZW1hLFxufSlcbiAgICAuc3RyaWN0KCk7XG5leHBvcnQgY29uc3QgaXNKU09OUlBDUmVzcG9uc2UgPSAodmFsdWUpID0+IEpTT05SUENSZXNwb25zZVNjaGVtYS5zYWZlUGFyc2UodmFsdWUpLnN1Y2Nlc3M7XG4vKipcbiAqIEVycm9yIGNvZGVzIGRlZmluZWQgYnkgdGhlIEpTT04tUlBDIHNwZWNpZmljYXRpb24uXG4gKi9cbmV4cG9ydCB2YXIgRXJyb3JDb2RlO1xuKGZ1bmN0aW9uIChFcnJvckNvZGUpIHtcbiAgICAvLyBTREsgZXJyb3IgY29kZXNcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiQ29ubmVjdGlvbkNsb3NlZFwiXSA9IC0zMjAwMF0gPSBcIkNvbm5lY3Rpb25DbG9zZWRcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiUmVxdWVzdFRpbWVvdXRcIl0gPSAtMzIwMDFdID0gXCJSZXF1ZXN0VGltZW91dFwiO1xuICAgIC8vIFN0YW5kYXJkIEpTT04tUlBDIGVycm9yIGNvZGVzXG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIlBhcnNlRXJyb3JcIl0gPSAtMzI3MDBdID0gXCJQYXJzZUVycm9yXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIkludmFsaWRSZXF1ZXN0XCJdID0gLTMyNjAwXSA9IFwiSW52YWxpZFJlcXVlc3RcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiTWV0aG9kTm90Rm91bmRcIl0gPSAtMzI2MDFdID0gXCJNZXRob2ROb3RGb3VuZFwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJJbnZhbGlkUGFyYW1zXCJdID0gLTMyNjAyXSA9IFwiSW52YWxpZFBhcmFtc1wiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJJbnRlcm5hbEVycm9yXCJdID0gLTMyNjAzXSA9IFwiSW50ZXJuYWxFcnJvclwiO1xufSkoRXJyb3JDb2RlIHx8IChFcnJvckNvZGUgPSB7fSkpO1xuLyoqXG4gKiBBIHJlc3BvbnNlIHRvIGEgcmVxdWVzdCB0aGF0IGluZGljYXRlcyBhbiBlcnJvciBvY2N1cnJlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IEpTT05SUENFcnJvclNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICBqc29ucnBjOiB6LmxpdGVyYWwoSlNPTlJQQ19WRVJTSU9OKSxcbiAgICBpZDogUmVxdWVzdElkU2NoZW1hLFxuICAgIGVycm9yOiB6Lm9iamVjdCh7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZXJyb3IgdHlwZSB0aGF0IG9jY3VycmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgY29kZTogei5udW1iZXIoKS5pbnQoKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgc2hvcnQgZGVzY3JpcHRpb24gb2YgdGhlIGVycm9yLiBUaGUgbWVzc2FnZSBTSE9VTEQgYmUgbGltaXRlZCB0byBhIGNvbmNpc2Ugc2luZ2xlIHNlbnRlbmNlLlxuICAgICAgICAgKi9cbiAgICAgICAgbWVzc2FnZTogei5zdHJpbmcoKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGVycm9yLiBUaGUgdmFsdWUgb2YgdGhpcyBtZW1iZXIgaXMgZGVmaW5lZCBieSB0aGUgc2VuZGVyIChlLmcuIGRldGFpbGVkIGVycm9yIGluZm9ybWF0aW9uLCBuZXN0ZWQgZXJyb3JzIGV0Yy4pLlxuICAgICAgICAgKi9cbiAgICAgICAgZGF0YTogei5vcHRpb25hbCh6LnVua25vd24oKSksXG4gICAgfSksXG59KVxuICAgIC5zdHJpY3QoKTtcbmV4cG9ydCBjb25zdCBpc0pTT05SUENFcnJvciA9ICh2YWx1ZSkgPT4gSlNPTlJQQ0Vycm9yU2NoZW1hLnNhZmVQYXJzZSh2YWx1ZSkuc3VjY2VzcztcbmV4cG9ydCBjb25zdCBKU09OUlBDTWVzc2FnZVNjaGVtYSA9IHoudW5pb24oW1xuICAgIEpTT05SUENSZXF1ZXN0U2NoZW1hLFxuICAgIEpTT05SUENOb3RpZmljYXRpb25TY2hlbWEsXG4gICAgSlNPTlJQQ1Jlc3BvbnNlU2NoZW1hLFxuICAgIEpTT05SUENFcnJvclNjaGVtYSxcbl0pO1xuLyogRW1wdHkgcmVzdWx0ICovXG4vKipcbiAqIEEgcmVzcG9uc2UgdGhhdCBpbmRpY2F0ZXMgc3VjY2VzcyBidXQgY2FycmllcyBubyBkYXRhLlxuICovXG5leHBvcnQgY29uc3QgRW1wdHlSZXN1bHRTY2hlbWEgPSBSZXN1bHRTY2hlbWEuc3RyaWN0KCk7XG4vKiBDYW5jZWxsYXRpb24gKi9cbi8qKlxuICogVGhpcyBub3RpZmljYXRpb24gY2FuIGJlIHNlbnQgYnkgZWl0aGVyIHNpZGUgdG8gaW5kaWNhdGUgdGhhdCBpdCBpcyBjYW5jZWxsaW5nIGEgcHJldmlvdXNseS1pc3N1ZWQgcmVxdWVzdC5cbiAqXG4gKiBUaGUgcmVxdWVzdCBTSE9VTEQgc3RpbGwgYmUgaW4tZmxpZ2h0LCBidXQgZHVlIHRvIGNvbW11bmljYXRpb24gbGF0ZW5jeSwgaXQgaXMgYWx3YXlzIHBvc3NpYmxlIHRoYXQgdGhpcyBub3RpZmljYXRpb24gTUFZIGFycml2ZSBhZnRlciB0aGUgcmVxdWVzdCBoYXMgYWxyZWFkeSBmaW5pc2hlZC5cbiAqXG4gKiBUaGlzIG5vdGlmaWNhdGlvbiBpbmRpY2F0ZXMgdGhhdCB0aGUgcmVzdWx0IHdpbGwgYmUgdW51c2VkLCBzbyBhbnkgYXNzb2NpYXRlZCBwcm9jZXNzaW5nIFNIT1VMRCBjZWFzZS5cbiAqXG4gKiBBIGNsaWVudCBNVVNUIE5PVCBhdHRlbXB0IHRvIGNhbmNlbCBpdHMgYGluaXRpYWxpemVgIHJlcXVlc3QuXG4gKi9cbmV4cG9ydCBjb25zdCBDYW5jZWxsZWROb3RpZmljYXRpb25TY2hlbWEgPSBOb3RpZmljYXRpb25TY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbChcIm5vdGlmaWNhdGlvbnMvY2FuY2VsbGVkXCIpLFxuICAgIHBhcmFtczogQmFzZU5vdGlmaWNhdGlvblBhcmFtc1NjaGVtYS5leHRlbmQoe1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIElEIG9mIHRoZSByZXF1ZXN0IHRvIGNhbmNlbC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBNVVNUIGNvcnJlc3BvbmQgdG8gdGhlIElEIG9mIGEgcmVxdWVzdCBwcmV2aW91c2x5IGlzc3VlZCBpbiB0aGUgc2FtZSBkaXJlY3Rpb24uXG4gICAgICAgICAqL1xuICAgICAgICByZXF1ZXN0SWQ6IFJlcXVlc3RJZFNjaGVtYSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIG9wdGlvbmFsIHN0cmluZyBkZXNjcmliaW5nIHRoZSByZWFzb24gZm9yIHRoZSBjYW5jZWxsYXRpb24uIFRoaXMgTUFZIGJlIGxvZ2dlZCBvciBwcmVzZW50ZWQgdG8gdGhlIHVzZXIuXG4gICAgICAgICAqL1xuICAgICAgICByZWFzb246IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICB9KSxcbn0pO1xuLyogQmFzZSBNZXRhZGF0YSAqL1xuLyoqXG4gKiBCYXNlIG1ldGFkYXRhIGludGVyZmFjZSBmb3IgY29tbW9uIHByb3BlcnRpZXMgYWNyb3NzIHJlc291cmNlcywgdG9vbHMsIHByb21wdHMsIGFuZCBpbXBsZW1lbnRhdGlvbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBCYXNlTWV0YWRhdGFTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgLyoqIEludGVuZGVkIGZvciBwcm9ncmFtbWF0aWMgb3IgbG9naWNhbCB1c2UsIGJ1dCB1c2VkIGFzIGEgZGlzcGxheSBuYW1lIGluIHBhc3Qgc3BlY3Mgb3IgZmFsbGJhY2sgKi9cbiAgICBuYW1lOiB6LnN0cmluZygpLFxuICAgIC8qKlxuICAgICogSW50ZW5kZWQgZm9yIFVJIGFuZCBlbmQtdXNlciBjb250ZXh0cyDigJQgb3B0aW1pemVkIHRvIGJlIGh1bWFuLXJlYWRhYmxlIGFuZCBlYXNpbHkgdW5kZXJzdG9vZCxcbiAgICAqIGV2ZW4gYnkgdGhvc2UgdW5mYW1pbGlhciB3aXRoIGRvbWFpbi1zcGVjaWZpYyB0ZXJtaW5vbG9neS5cbiAgICAqXG4gICAgKiBJZiBub3QgcHJvdmlkZWQsIHRoZSBuYW1lIHNob3VsZCBiZSB1c2VkIGZvciBkaXNwbGF5IChleGNlcHQgZm9yIFRvb2wsXG4gICAgKiB3aGVyZSBgYW5ub3RhdGlvbnMudGl0bGVgIHNob3VsZCBiZSBnaXZlbiBwcmVjZWRlbmNlIG92ZXIgdXNpbmcgYG5hbWVgLFxuICAgICogaWYgcHJlc2VudCkuXG4gICAgKi9cbiAgICB0aXRsZTogei5vcHRpb25hbCh6LnN0cmluZygpKSxcbn0pXG4gICAgLnBhc3N0aHJvdWdoKCk7XG4vKiBJbml0aWFsaXphdGlvbiAqL1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG5hbWUgYW5kIHZlcnNpb24gb2YgYW4gTUNQIGltcGxlbWVudGF0aW9uLlxuICovXG5leHBvcnQgY29uc3QgSW1wbGVtZW50YXRpb25TY2hlbWEgPSBCYXNlTWV0YWRhdGFTY2hlbWEuZXh0ZW5kKHtcbiAgICB2ZXJzaW9uOiB6LnN0cmluZygpLFxufSk7XG4vKipcbiAqIENhcGFiaWxpdGllcyBhIGNsaWVudCBtYXkgc3VwcG9ydC4gS25vd24gY2FwYWJpbGl0aWVzIGFyZSBkZWZpbmVkIGhlcmUsIGluIHRoaXMgc2NoZW1hLCBidXQgdGhpcyBpcyBub3QgYSBjbG9zZWQgc2V0OiBhbnkgY2xpZW50IGNhbiBkZWZpbmUgaXRzIG93biwgYWRkaXRpb25hbCBjYXBhYmlsaXRpZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBDbGllbnRDYXBhYmlsaXRpZXNTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgLyoqXG4gICAgICogRXhwZXJpbWVudGFsLCBub24tc3RhbmRhcmQgY2FwYWJpbGl0aWVzIHRoYXQgdGhlIGNsaWVudCBzdXBwb3J0cy5cbiAgICAgKi9cbiAgICBleHBlcmltZW50YWw6IHoub3B0aW9uYWwoei5vYmplY3Qoe30pLnBhc3N0aHJvdWdoKCkpLFxuICAgIC8qKlxuICAgICAqIFByZXNlbnQgaWYgdGhlIGNsaWVudCBzdXBwb3J0cyBzYW1wbGluZyBmcm9tIGFuIExMTS5cbiAgICAgKi9cbiAgICBzYW1wbGluZzogei5vcHRpb25hbCh6Lm9iamVjdCh7fSkucGFzc3Rocm91Z2goKSksXG4gICAgLyoqXG4gICAgICogUHJlc2VudCBpZiB0aGUgY2xpZW50IHN1cHBvcnRzIGVsaWNpdGluZyB1c2VyIGlucHV0LlxuICAgICAqL1xuICAgIGVsaWNpdGF0aW9uOiB6Lm9wdGlvbmFsKHoub2JqZWN0KHt9KS5wYXNzdGhyb3VnaCgpKSxcbiAgICAvKipcbiAgICAgKiBQcmVzZW50IGlmIHRoZSBjbGllbnQgc3VwcG9ydHMgbGlzdGluZyByb290cy5cbiAgICAgKi9cbiAgICByb290czogei5vcHRpb25hbCh6XG4gICAgICAgIC5vYmplY3Qoe1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGUgY2xpZW50IHN1cHBvcnRzIGlzc3Vpbmcgbm90aWZpY2F0aW9ucyBmb3IgY2hhbmdlcyB0byB0aGUgcm9vdHMgbGlzdC5cbiAgICAgICAgICovXG4gICAgICAgIGxpc3RDaGFuZ2VkOiB6Lm9wdGlvbmFsKHouYm9vbGVhbigpKSxcbiAgICB9KVxuICAgICAgICAucGFzc3Rocm91Z2goKSksXG59KVxuICAgIC5wYXNzdGhyb3VnaCgpO1xuLyoqXG4gKiBUaGlzIHJlcXVlc3QgaXMgc2VudCBmcm9tIHRoZSBjbGllbnQgdG8gdGhlIHNlcnZlciB3aGVuIGl0IGZpcnN0IGNvbm5lY3RzLCBhc2tpbmcgaXQgdG8gYmVnaW4gaW5pdGlhbGl6YXRpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBJbml0aWFsaXplUmVxdWVzdFNjaGVtYSA9IFJlcXVlc3RTY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbChcImluaXRpYWxpemVcIiksXG4gICAgcGFyYW1zOiBCYXNlUmVxdWVzdFBhcmFtc1NjaGVtYS5leHRlbmQoe1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxhdGVzdCB2ZXJzaW9uIG9mIHRoZSBNb2RlbCBDb250ZXh0IFByb3RvY29sIHRoYXQgdGhlIGNsaWVudCBzdXBwb3J0cy4gVGhlIGNsaWVudCBNQVkgZGVjaWRlIHRvIHN1cHBvcnQgb2xkZXIgdmVyc2lvbnMgYXMgd2VsbC5cbiAgICAgICAgICovXG4gICAgICAgIHByb3RvY29sVmVyc2lvbjogei5zdHJpbmcoKSxcbiAgICAgICAgY2FwYWJpbGl0aWVzOiBDbGllbnRDYXBhYmlsaXRpZXNTY2hlbWEsXG4gICAgICAgIGNsaWVudEluZm86IEltcGxlbWVudGF0aW9uU2NoZW1hLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgaXNJbml0aWFsaXplUmVxdWVzdCA9ICh2YWx1ZSkgPT4gSW5pdGlhbGl6ZVJlcXVlc3RTY2hlbWEuc2FmZVBhcnNlKHZhbHVlKS5zdWNjZXNzO1xuLyoqXG4gKiBDYXBhYmlsaXRpZXMgdGhhdCBhIHNlcnZlciBtYXkgc3VwcG9ydC4gS25vd24gY2FwYWJpbGl0aWVzIGFyZSBkZWZpbmVkIGhlcmUsIGluIHRoaXMgc2NoZW1hLCBidXQgdGhpcyBpcyBub3QgYSBjbG9zZWQgc2V0OiBhbnkgc2VydmVyIGNhbiBkZWZpbmUgaXRzIG93biwgYWRkaXRpb25hbCBjYXBhYmlsaXRpZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBTZXJ2ZXJDYXBhYmlsaXRpZXNTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgLyoqXG4gICAgICogRXhwZXJpbWVudGFsLCBub24tc3RhbmRhcmQgY2FwYWJpbGl0aWVzIHRoYXQgdGhlIHNlcnZlciBzdXBwb3J0cy5cbiAgICAgKi9cbiAgICBleHBlcmltZW50YWw6IHoub3B0aW9uYWwoei5vYmplY3Qoe30pLnBhc3N0aHJvdWdoKCkpLFxuICAgIC8qKlxuICAgICAqIFByZXNlbnQgaWYgdGhlIHNlcnZlciBzdXBwb3J0cyBzZW5kaW5nIGxvZyBtZXNzYWdlcyB0byB0aGUgY2xpZW50LlxuICAgICAqL1xuICAgIGxvZ2dpbmc6IHoub3B0aW9uYWwoei5vYmplY3Qoe30pLnBhc3N0aHJvdWdoKCkpLFxuICAgIC8qKlxuICAgICAqIFByZXNlbnQgaWYgdGhlIHNlcnZlciBzdXBwb3J0cyBzZW5kaW5nIGNvbXBsZXRpb25zIHRvIHRoZSBjbGllbnQuXG4gICAgICovXG4gICAgY29tcGxldGlvbnM6IHoub3B0aW9uYWwoei5vYmplY3Qoe30pLnBhc3N0aHJvdWdoKCkpLFxuICAgIC8qKlxuICAgICAqIFByZXNlbnQgaWYgdGhlIHNlcnZlciBvZmZlcnMgYW55IHByb21wdCB0ZW1wbGF0ZXMuXG4gICAgICovXG4gICAgcHJvbXB0czogei5vcHRpb25hbCh6XG4gICAgICAgIC5vYmplY3Qoe1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGlzIHNlcnZlciBzdXBwb3J0cyBpc3N1aW5nIG5vdGlmaWNhdGlvbnMgZm9yIGNoYW5nZXMgdG8gdGhlIHByb21wdCBsaXN0LlxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdENoYW5nZWQ6IHoub3B0aW9uYWwoei5ib29sZWFuKCkpLFxuICAgIH0pXG4gICAgICAgIC5wYXNzdGhyb3VnaCgpKSxcbiAgICAvKipcbiAgICAgKiBQcmVzZW50IGlmIHRoZSBzZXJ2ZXIgb2ZmZXJzIGFueSByZXNvdXJjZXMgdG8gcmVhZC5cbiAgICAgKi9cbiAgICByZXNvdXJjZXM6IHoub3B0aW9uYWwoelxuICAgICAgICAub2JqZWN0KHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhpcyBzZXJ2ZXIgc3VwcG9ydHMgY2xpZW50cyBzdWJzY3JpYmluZyB0byByZXNvdXJjZSB1cGRhdGVzLlxuICAgICAgICAgKi9cbiAgICAgICAgc3Vic2NyaWJlOiB6Lm9wdGlvbmFsKHouYm9vbGVhbigpKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhpcyBzZXJ2ZXIgc3VwcG9ydHMgaXNzdWluZyBub3RpZmljYXRpb25zIGZvciBjaGFuZ2VzIHRvIHRoZSByZXNvdXJjZSBsaXN0LlxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdENoYW5nZWQ6IHoub3B0aW9uYWwoei5ib29sZWFuKCkpLFxuICAgIH0pXG4gICAgICAgIC5wYXNzdGhyb3VnaCgpKSxcbiAgICAvKipcbiAgICAgKiBQcmVzZW50IGlmIHRoZSBzZXJ2ZXIgb2ZmZXJzIGFueSB0b29scyB0byBjYWxsLlxuICAgICAqL1xuICAgIHRvb2xzOiB6Lm9wdGlvbmFsKHpcbiAgICAgICAgLm9iamVjdCh7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoaXMgc2VydmVyIHN1cHBvcnRzIGlzc3Vpbmcgbm90aWZpY2F0aW9ucyBmb3IgY2hhbmdlcyB0byB0aGUgdG9vbCBsaXN0LlxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdENoYW5nZWQ6IHoub3B0aW9uYWwoei5ib29sZWFuKCkpLFxuICAgIH0pXG4gICAgICAgIC5wYXNzdGhyb3VnaCgpKSxcbn0pXG4gICAgLnBhc3N0aHJvdWdoKCk7XG4vKipcbiAqIEFmdGVyIHJlY2VpdmluZyBhbiBpbml0aWFsaXplIHJlcXVlc3QgZnJvbSB0aGUgY2xpZW50LCB0aGUgc2VydmVyIHNlbmRzIHRoaXMgcmVzcG9uc2UuXG4gKi9cbmV4cG9ydCBjb25zdCBJbml0aWFsaXplUmVzdWx0U2NoZW1hID0gUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gICAgLyoqXG4gICAgICogVGhlIHZlcnNpb24gb2YgdGhlIE1vZGVsIENvbnRleHQgUHJvdG9jb2wgdGhhdCB0aGUgc2VydmVyIHdhbnRzIHRvIHVzZS4gVGhpcyBtYXkgbm90IG1hdGNoIHRoZSB2ZXJzaW9uIHRoYXQgdGhlIGNsaWVudCByZXF1ZXN0ZWQuIElmIHRoZSBjbGllbnQgY2Fubm90IHN1cHBvcnQgdGhpcyB2ZXJzaW9uLCBpdCBNVVNUIGRpc2Nvbm5lY3QuXG4gICAgICovXG4gICAgcHJvdG9jb2xWZXJzaW9uOiB6LnN0cmluZygpLFxuICAgIGNhcGFiaWxpdGllczogU2VydmVyQ2FwYWJpbGl0aWVzU2NoZW1hLFxuICAgIHNlcnZlckluZm86IEltcGxlbWVudGF0aW9uU2NoZW1hLFxuICAgIC8qKlxuICAgICAqIEluc3RydWN0aW9ucyBkZXNjcmliaW5nIGhvdyB0byB1c2UgdGhlIHNlcnZlciBhbmQgaXRzIGZlYXR1cmVzLlxuICAgICAqXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZCBieSBjbGllbnRzIHRvIGltcHJvdmUgdGhlIExMTSdzIHVuZGVyc3RhbmRpbmcgb2YgYXZhaWxhYmxlIHRvb2xzLCByZXNvdXJjZXMsIGV0Yy4gSXQgY2FuIGJlIHRob3VnaHQgb2YgbGlrZSBhIFwiaGludFwiIHRvIHRoZSBtb2RlbC4gRm9yIGV4YW1wbGUsIHRoaXMgaW5mb3JtYXRpb24gTUFZIGJlIGFkZGVkIHRvIHRoZSBzeXN0ZW0gcHJvbXB0LlxuICAgICAqL1xuICAgIGluc3RydWN0aW9uczogei5vcHRpb25hbCh6LnN0cmluZygpKSxcbn0pO1xuLyoqXG4gKiBUaGlzIG5vdGlmaWNhdGlvbiBpcyBzZW50IGZyb20gdGhlIGNsaWVudCB0byB0aGUgc2VydmVyIGFmdGVyIGluaXRpYWxpemF0aW9uIGhhcyBmaW5pc2hlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IEluaXRpYWxpemVkTm90aWZpY2F0aW9uU2NoZW1hID0gTm90aWZpY2F0aW9uU2NoZW1hLmV4dGVuZCh7XG4gICAgbWV0aG9kOiB6LmxpdGVyYWwoXCJub3RpZmljYXRpb25zL2luaXRpYWxpemVkXCIpLFxufSk7XG5leHBvcnQgY29uc3QgaXNJbml0aWFsaXplZE5vdGlmaWNhdGlvbiA9ICh2YWx1ZSkgPT4gSW5pdGlhbGl6ZWROb3RpZmljYXRpb25TY2hlbWEuc2FmZVBhcnNlKHZhbHVlKS5zdWNjZXNzO1xuLyogUGluZyAqL1xuLyoqXG4gKiBBIHBpbmcsIGlzc3VlZCBieSBlaXRoZXIgdGhlIHNlcnZlciBvciB0aGUgY2xpZW50LCB0byBjaGVjayB0aGF0IHRoZSBvdGhlciBwYXJ0eSBpcyBzdGlsbCBhbGl2ZS4gVGhlIHJlY2VpdmVyIG11c3QgcHJvbXB0bHkgcmVzcG9uZCwgb3IgZWxzZSBtYXkgYmUgZGlzY29ubmVjdGVkLlxuICovXG5leHBvcnQgY29uc3QgUGluZ1JlcXVlc3RTY2hlbWEgPSBSZXF1ZXN0U2NoZW1hLmV4dGVuZCh7XG4gICAgbWV0aG9kOiB6LmxpdGVyYWwoXCJwaW5nXCIpLFxufSk7XG4vKiBQcm9ncmVzcyBub3RpZmljYXRpb25zICovXG5leHBvcnQgY29uc3QgUHJvZ3Jlc3NTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgLyoqXG4gICAgICogVGhlIHByb2dyZXNzIHRodXMgZmFyLiBUaGlzIHNob3VsZCBpbmNyZWFzZSBldmVyeSB0aW1lIHByb2dyZXNzIGlzIG1hZGUsIGV2ZW4gaWYgdGhlIHRvdGFsIGlzIHVua25vd24uXG4gICAgICovXG4gICAgcHJvZ3Jlc3M6IHoubnVtYmVyKCksXG4gICAgLyoqXG4gICAgICogVG90YWwgbnVtYmVyIG9mIGl0ZW1zIHRvIHByb2Nlc3MgKG9yIHRvdGFsIHByb2dyZXNzIHJlcXVpcmVkKSwgaWYga25vd24uXG4gICAgICovXG4gICAgdG90YWw6IHoub3B0aW9uYWwoei5udW1iZXIoKSksXG4gICAgLyoqXG4gICAgICogQW4gb3B0aW9uYWwgbWVzc2FnZSBkZXNjcmliaW5nIHRoZSBjdXJyZW50IHByb2dyZXNzLlxuICAgICAqL1xuICAgIG1lc3NhZ2U6IHoub3B0aW9uYWwoei5zdHJpbmcoKSksXG59KVxuICAgIC5wYXNzdGhyb3VnaCgpO1xuLyoqXG4gKiBBbiBvdXQtb2YtYmFuZCBub3RpZmljYXRpb24gdXNlZCB0byBpbmZvcm0gdGhlIHJlY2VpdmVyIG9mIGEgcHJvZ3Jlc3MgdXBkYXRlIGZvciBhIGxvbmctcnVubmluZyByZXF1ZXN0LlxuICovXG5leHBvcnQgY29uc3QgUHJvZ3Jlc3NOb3RpZmljYXRpb25TY2hlbWEgPSBOb3RpZmljYXRpb25TY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbChcIm5vdGlmaWNhdGlvbnMvcHJvZ3Jlc3NcIiksXG4gICAgcGFyYW1zOiBCYXNlTm90aWZpY2F0aW9uUGFyYW1zU2NoZW1hLm1lcmdlKFByb2dyZXNzU2NoZW1hKS5leHRlbmQoe1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHByb2dyZXNzIHRva2VuIHdoaWNoIHdhcyBnaXZlbiBpbiB0aGUgaW5pdGlhbCByZXF1ZXN0LCB1c2VkIHRvIGFzc29jaWF0ZSB0aGlzIG5vdGlmaWNhdGlvbiB3aXRoIHRoZSByZXF1ZXN0IHRoYXQgaXMgcHJvY2VlZGluZy5cbiAgICAgICAgICovXG4gICAgICAgIHByb2dyZXNzVG9rZW46IFByb2dyZXNzVG9rZW5TY2hlbWEsXG4gICAgfSksXG59KTtcbi8qIFBhZ2luYXRpb24gKi9cbmV4cG9ydCBjb25zdCBQYWdpbmF0ZWRSZXF1ZXN0U2NoZW1hID0gUmVxdWVzdFNjaGVtYS5leHRlbmQoe1xuICAgIHBhcmFtczogQmFzZVJlcXVlc3RQYXJhbXNTY2hlbWEuZXh0ZW5kKHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIG9wYXF1ZSB0b2tlbiByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgcGFnaW5hdGlvbiBwb3NpdGlvbi5cbiAgICAgICAgICogSWYgcHJvdmlkZWQsIHRoZSBzZXJ2ZXIgc2hvdWxkIHJldHVybiByZXN1bHRzIHN0YXJ0aW5nIGFmdGVyIHRoaXMgY3Vyc29yLlxuICAgICAgICAgKi9cbiAgICAgICAgY3Vyc29yOiB6Lm9wdGlvbmFsKEN1cnNvclNjaGVtYSksXG4gICAgfSkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IFBhZ2luYXRlZFJlc3VsdFNjaGVtYSA9IFJlc3VsdFNjaGVtYS5leHRlbmQoe1xuICAgIC8qKlxuICAgICAqIEFuIG9wYXF1ZSB0b2tlbiByZXByZXNlbnRpbmcgdGhlIHBhZ2luYXRpb24gcG9zaXRpb24gYWZ0ZXIgdGhlIGxhc3QgcmV0dXJuZWQgcmVzdWx0LlxuICAgICAqIElmIHByZXNlbnQsIHRoZXJlIG1heSBiZSBtb3JlIHJlc3VsdHMgYXZhaWxhYmxlLlxuICAgICAqL1xuICAgIG5leHRDdXJzb3I6IHoub3B0aW9uYWwoQ3Vyc29yU2NoZW1hKSxcbn0pO1xuLyogUmVzb3VyY2VzICovXG4vKipcbiAqIFRoZSBjb250ZW50cyBvZiBhIHNwZWNpZmljIHJlc291cmNlIG9yIHN1Yi1yZXNvdXJjZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFJlc291cmNlQ29udGVudHNTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgLyoqXG4gICAgICogVGhlIFVSSSBvZiB0aGlzIHJlc291cmNlLlxuICAgICAqL1xuICAgIHVyaTogei5zdHJpbmcoKSxcbiAgICAvKipcbiAgICAgKiBUaGUgTUlNRSB0eXBlIG9mIHRoaXMgcmVzb3VyY2UsIGlmIGtub3duLlxuICAgICAqL1xuICAgIG1pbWVUeXBlOiB6Lm9wdGlvbmFsKHouc3RyaW5nKCkpLFxuICAgIC8qKlxuICAgICAqIFNlZSBbTUNQIHNwZWNpZmljYXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9tb2RlbGNvbnRleHRwcm90b2NvbC9tb2RlbGNvbnRleHRwcm90b2NvbC9ibG9iLzQ3MzM5YzAzYzE0M2JiNGVjMDFhMjZlNzIxYTFiOGZlNjY2MzRlYmUvZG9jcy9zcGVjaWZpY2F0aW9uL2RyYWZ0L2Jhc2ljL2luZGV4Lm1keCNnZW5lcmFsLWZpZWxkcylcbiAgICAgKiBmb3Igbm90ZXMgb24gX21ldGEgdXNhZ2UuXG4gICAgICovXG4gICAgX21ldGE6IHoub3B0aW9uYWwoei5vYmplY3Qoe30pLnBhc3N0aHJvdWdoKCkpLFxufSlcbiAgICAucGFzc3Rocm91Z2goKTtcbmV4cG9ydCBjb25zdCBUZXh0UmVzb3VyY2VDb250ZW50c1NjaGVtYSA9IFJlc291cmNlQ29udGVudHNTY2hlbWEuZXh0ZW5kKHtcbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dCBvZiB0aGUgaXRlbS4gVGhpcyBtdXN0IG9ubHkgYmUgc2V0IGlmIHRoZSBpdGVtIGNhbiBhY3R1YWxseSBiZSByZXByZXNlbnRlZCBhcyB0ZXh0IChub3QgYmluYXJ5IGRhdGEpLlxuICAgICAqL1xuICAgIHRleHQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCBCbG9iUmVzb3VyY2VDb250ZW50c1NjaGVtYSA9IFJlc291cmNlQ29udGVudHNTY2hlbWEuZXh0ZW5kKHtcbiAgICAvKipcbiAgICAgKiBBIGJhc2U2NC1lbmNvZGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGJpbmFyeSBkYXRhIG9mIHRoZSBpdGVtLlxuICAgICAqL1xuICAgIGJsb2I6IHouc3RyaW5nKCkuYmFzZTY0KCksXG59KTtcbi8qKlxuICogQSBrbm93biByZXNvdXJjZSB0aGF0IHRoZSBzZXJ2ZXIgaXMgY2FwYWJsZSBvZiByZWFkaW5nLlxuICovXG5leHBvcnQgY29uc3QgUmVzb3VyY2VTY2hlbWEgPSBCYXNlTWV0YWRhdGFTY2hlbWEuZXh0ZW5kKHtcbiAgICAvKipcbiAgICAgKiBUaGUgVVJJIG9mIHRoaXMgcmVzb3VyY2UuXG4gICAgICovXG4gICAgdXJpOiB6LnN0cmluZygpLFxuICAgIC8qKlxuICAgICAqIEEgZGVzY3JpcHRpb24gb2Ygd2hhdCB0aGlzIHJlc291cmNlIHJlcHJlc2VudHMuXG4gICAgICpcbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VkIGJ5IGNsaWVudHMgdG8gaW1wcm92ZSB0aGUgTExNJ3MgdW5kZXJzdGFuZGluZyBvZiBhdmFpbGFibGUgcmVzb3VyY2VzLiBJdCBjYW4gYmUgdGhvdWdodCBvZiBsaWtlIGEgXCJoaW50XCIgdG8gdGhlIG1vZGVsLlxuICAgICAqL1xuICAgIGRlc2NyaXB0aW9uOiB6Lm9wdGlvbmFsKHouc3RyaW5nKCkpLFxuICAgIC8qKlxuICAgICAqIFRoZSBNSU1FIHR5cGUgb2YgdGhpcyByZXNvdXJjZSwgaWYga25vd24uXG4gICAgICovXG4gICAgbWltZVR5cGU6IHoub3B0aW9uYWwoei5zdHJpbmcoKSksXG4gICAgLyoqXG4gICAgICogU2VlIFtNQ1Agc3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL21vZGVsY29udGV4dHByb3RvY29sL21vZGVsY29udGV4dHByb3RvY29sL2Jsb2IvNDczMzljMDNjMTQzYmI0ZWMwMWEyNmU3MjFhMWI4ZmU2NjYzNGViZS9kb2NzL3NwZWNpZmljYXRpb24vZHJhZnQvYmFzaWMvaW5kZXgubWR4I2dlbmVyYWwtZmllbGRzKVxuICAgICAqIGZvciBub3RlcyBvbiBfbWV0YSB1c2FnZS5cbiAgICAgKi9cbiAgICBfbWV0YTogei5vcHRpb25hbCh6Lm9iamVjdCh7fSkucGFzc3Rocm91Z2goKSksXG59KTtcbi8qKlxuICogQSB0ZW1wbGF0ZSBkZXNjcmlwdGlvbiBmb3IgcmVzb3VyY2VzIGF2YWlsYWJsZSBvbiB0aGUgc2VydmVyLlxuICovXG5leHBvcnQgY29uc3QgUmVzb3VyY2VUZW1wbGF0ZVNjaGVtYSA9IEJhc2VNZXRhZGF0YVNjaGVtYS5leHRlbmQoe1xuICAgIC8qKlxuICAgICAqIEEgVVJJIHRlbXBsYXRlIChhY2NvcmRpbmcgdG8gUkZDIDY1NzApIHRoYXQgY2FuIGJlIHVzZWQgdG8gY29uc3RydWN0IHJlc291cmNlIFVSSXMuXG4gICAgICovXG4gICAgdXJpVGVtcGxhdGU6IHouc3RyaW5nKCksXG4gICAgLyoqXG4gICAgICogQSBkZXNjcmlwdGlvbiBvZiB3aGF0IHRoaXMgdGVtcGxhdGUgaXMgZm9yLlxuICAgICAqXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZCBieSBjbGllbnRzIHRvIGltcHJvdmUgdGhlIExMTSdzIHVuZGVyc3RhbmRpbmcgb2YgYXZhaWxhYmxlIHJlc291cmNlcy4gSXQgY2FuIGJlIHRob3VnaHQgb2YgbGlrZSBhIFwiaGludFwiIHRvIHRoZSBtb2RlbC5cbiAgICAgKi9cbiAgICBkZXNjcmlwdGlvbjogei5vcHRpb25hbCh6LnN0cmluZygpKSxcbiAgICAvKipcbiAgICAgKiBUaGUgTUlNRSB0eXBlIGZvciBhbGwgcmVzb3VyY2VzIHRoYXQgbWF0Y2ggdGhpcyB0ZW1wbGF0ZS4gVGhpcyBzaG91bGQgb25seSBiZSBpbmNsdWRlZCBpZiBhbGwgcmVzb3VyY2VzIG1hdGNoaW5nIHRoaXMgdGVtcGxhdGUgaGF2ZSB0aGUgc2FtZSB0eXBlLlxuICAgICAqL1xuICAgIG1pbWVUeXBlOiB6Lm9wdGlvbmFsKHouc3RyaW5nKCkpLFxuICAgIC8qKlxuICAgICAqIFNlZSBbTUNQIHNwZWNpZmljYXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9tb2RlbGNvbnRleHRwcm90b2NvbC9tb2RlbGNvbnRleHRwcm90b2NvbC9ibG9iLzQ3MzM5YzAzYzE0M2JiNGVjMDFhMjZlNzIxYTFiOGZlNjY2MzRlYmUvZG9jcy9zcGVjaWZpY2F0aW9uL2RyYWZ0L2Jhc2ljL2luZGV4Lm1keCNnZW5lcmFsLWZpZWxkcylcbiAgICAgKiBmb3Igbm90ZXMgb24gX21ldGEgdXNhZ2UuXG4gICAgICovXG4gICAgX21ldGE6IHoub3B0aW9uYWwoei5vYmplY3Qoe30pLnBhc3N0aHJvdWdoKCkpLFxufSk7XG4vKipcbiAqIFNlbnQgZnJvbSB0aGUgY2xpZW50IHRvIHJlcXVlc3QgYSBsaXN0IG9mIHJlc291cmNlcyB0aGUgc2VydmVyIGhhcy5cbiAqL1xuZXhwb3J0IGNvbnN0IExpc3RSZXNvdXJjZXNSZXF1ZXN0U2NoZW1hID0gUGFnaW5hdGVkUmVxdWVzdFNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKFwicmVzb3VyY2VzL2xpc3RcIiksXG59KTtcbi8qKlxuICogVGhlIHNlcnZlcidzIHJlc3BvbnNlIHRvIGEgcmVzb3VyY2VzL2xpc3QgcmVxdWVzdCBmcm9tIHRoZSBjbGllbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBMaXN0UmVzb3VyY2VzUmVzdWx0U2NoZW1hID0gUGFnaW5hdGVkUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gICAgcmVzb3VyY2VzOiB6LmFycmF5KFJlc291cmNlU2NoZW1hKSxcbn0pO1xuLyoqXG4gKiBTZW50IGZyb20gdGhlIGNsaWVudCB0byByZXF1ZXN0IGEgbGlzdCBvZiByZXNvdXJjZSB0ZW1wbGF0ZXMgdGhlIHNlcnZlciBoYXMuXG4gKi9cbmV4cG9ydCBjb25zdCBMaXN0UmVzb3VyY2VUZW1wbGF0ZXNSZXF1ZXN0U2NoZW1hID0gUGFnaW5hdGVkUmVxdWVzdFNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKFwicmVzb3VyY2VzL3RlbXBsYXRlcy9saXN0XCIpLFxufSk7XG4vKipcbiAqIFRoZSBzZXJ2ZXIncyByZXNwb25zZSB0byBhIHJlc291cmNlcy90ZW1wbGF0ZXMvbGlzdCByZXF1ZXN0IGZyb20gdGhlIGNsaWVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IExpc3RSZXNvdXJjZVRlbXBsYXRlc1Jlc3VsdFNjaGVtYSA9IFBhZ2luYXRlZFJlc3VsdFNjaGVtYS5leHRlbmQoe1xuICAgIHJlc291cmNlVGVtcGxhdGVzOiB6LmFycmF5KFJlc291cmNlVGVtcGxhdGVTY2hlbWEpLFxufSk7XG4vKipcbiAqIFNlbnQgZnJvbSB0aGUgY2xpZW50IHRvIHRoZSBzZXJ2ZXIsIHRvIHJlYWQgYSBzcGVjaWZpYyByZXNvdXJjZSBVUkkuXG4gKi9cbmV4cG9ydCBjb25zdCBSZWFkUmVzb3VyY2VSZXF1ZXN0U2NoZW1hID0gUmVxdWVzdFNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKFwicmVzb3VyY2VzL3JlYWRcIiksXG4gICAgcGFyYW1zOiBCYXNlUmVxdWVzdFBhcmFtc1NjaGVtYS5leHRlbmQoe1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFVSSSBvZiB0aGUgcmVzb3VyY2UgdG8gcmVhZC4gVGhlIFVSSSBjYW4gdXNlIGFueSBwcm90b2NvbDsgaXQgaXMgdXAgdG8gdGhlIHNlcnZlciBob3cgdG8gaW50ZXJwcmV0IGl0LlxuICAgICAgICAgKi9cbiAgICAgICAgdXJpOiB6LnN0cmluZygpLFxuICAgIH0pLFxufSk7XG4vKipcbiAqIFRoZSBzZXJ2ZXIncyByZXNwb25zZSB0byBhIHJlc291cmNlcy9yZWFkIHJlcXVlc3QgZnJvbSB0aGUgY2xpZW50LlxuICovXG5leHBvcnQgY29uc3QgUmVhZFJlc291cmNlUmVzdWx0U2NoZW1hID0gUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gICAgY29udGVudHM6IHouYXJyYXkoei51bmlvbihbVGV4dFJlc291cmNlQ29udGVudHNTY2hlbWEsIEJsb2JSZXNvdXJjZUNvbnRlbnRzU2NoZW1hXSkpLFxufSk7XG4vKipcbiAqIEFuIG9wdGlvbmFsIG5vdGlmaWNhdGlvbiBmcm9tIHRoZSBzZXJ2ZXIgdG8gdGhlIGNsaWVudCwgaW5mb3JtaW5nIGl0IHRoYXQgdGhlIGxpc3Qgb2YgcmVzb3VyY2VzIGl0IGNhbiByZWFkIGZyb20gaGFzIGNoYW5nZWQuIFRoaXMgbWF5IGJlIGlzc3VlZCBieSBzZXJ2ZXJzIHdpdGhvdXQgYW55IHByZXZpb3VzIHN1YnNjcmlwdGlvbiBmcm9tIHRoZSBjbGllbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBSZXNvdXJjZUxpc3RDaGFuZ2VkTm90aWZpY2F0aW9uU2NoZW1hID0gTm90aWZpY2F0aW9uU2NoZW1hLmV4dGVuZCh7XG4gICAgbWV0aG9kOiB6LmxpdGVyYWwoXCJub3RpZmljYXRpb25zL3Jlc291cmNlcy9saXN0X2NoYW5nZWRcIiksXG59KTtcbi8qKlxuICogU2VudCBmcm9tIHRoZSBjbGllbnQgdG8gcmVxdWVzdCByZXNvdXJjZXMvdXBkYXRlZCBub3RpZmljYXRpb25zIGZyb20gdGhlIHNlcnZlciB3aGVuZXZlciBhIHBhcnRpY3VsYXIgcmVzb3VyY2UgY2hhbmdlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IFN1YnNjcmliZVJlcXVlc3RTY2hlbWEgPSBSZXF1ZXN0U2NoZW1hLmV4dGVuZCh7XG4gICAgbWV0aG9kOiB6LmxpdGVyYWwoXCJyZXNvdXJjZXMvc3Vic2NyaWJlXCIpLFxuICAgIHBhcmFtczogQmFzZVJlcXVlc3RQYXJhbXNTY2hlbWEuZXh0ZW5kKHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBVUkkgb2YgdGhlIHJlc291cmNlIHRvIHN1YnNjcmliZSB0by4gVGhlIFVSSSBjYW4gdXNlIGFueSBwcm90b2NvbDsgaXQgaXMgdXAgdG8gdGhlIHNlcnZlciBob3cgdG8gaW50ZXJwcmV0IGl0LlxuICAgICAgICAgKi9cbiAgICAgICAgdXJpOiB6LnN0cmluZygpLFxuICAgIH0pLFxufSk7XG4vKipcbiAqIFNlbnQgZnJvbSB0aGUgY2xpZW50IHRvIHJlcXVlc3QgY2FuY2VsbGF0aW9uIG9mIHJlc291cmNlcy91cGRhdGVkIG5vdGlmaWNhdGlvbnMgZnJvbSB0aGUgc2VydmVyLiBUaGlzIHNob3VsZCBmb2xsb3cgYSBwcmV2aW91cyByZXNvdXJjZXMvc3Vic2NyaWJlIHJlcXVlc3QuXG4gKi9cbmV4cG9ydCBjb25zdCBVbnN1YnNjcmliZVJlcXVlc3RTY2hlbWEgPSBSZXF1ZXN0U2NoZW1hLmV4dGVuZCh7XG4gICAgbWV0aG9kOiB6LmxpdGVyYWwoXCJyZXNvdXJjZXMvdW5zdWJzY3JpYmVcIiksXG4gICAgcGFyYW1zOiBCYXNlUmVxdWVzdFBhcmFtc1NjaGVtYS5leHRlbmQoe1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFVSSSBvZiB0aGUgcmVzb3VyY2UgdG8gdW5zdWJzY3JpYmUgZnJvbS5cbiAgICAgICAgICovXG4gICAgICAgIHVyaTogei5zdHJpbmcoKSxcbiAgICB9KSxcbn0pO1xuLyoqXG4gKiBBIG5vdGlmaWNhdGlvbiBmcm9tIHRoZSBzZXJ2ZXIgdG8gdGhlIGNsaWVudCwgaW5mb3JtaW5nIGl0IHRoYXQgYSByZXNvdXJjZSBoYXMgY2hhbmdlZCBhbmQgbWF5IG5lZWQgdG8gYmUgcmVhZCBhZ2Fpbi4gVGhpcyBzaG91bGQgb25seSBiZSBzZW50IGlmIHRoZSBjbGllbnQgcHJldmlvdXNseSBzZW50IGEgcmVzb3VyY2VzL3N1YnNjcmliZSByZXF1ZXN0LlxuICovXG5leHBvcnQgY29uc3QgUmVzb3VyY2VVcGRhdGVkTm90aWZpY2F0aW9uU2NoZW1hID0gTm90aWZpY2F0aW9uU2NoZW1hLmV4dGVuZCh7XG4gICAgbWV0aG9kOiB6LmxpdGVyYWwoXCJub3RpZmljYXRpb25zL3Jlc291cmNlcy91cGRhdGVkXCIpLFxuICAgIHBhcmFtczogQmFzZU5vdGlmaWNhdGlvblBhcmFtc1NjaGVtYS5leHRlbmQoe1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFVSSSBvZiB0aGUgcmVzb3VyY2UgdGhhdCBoYXMgYmVlbiB1cGRhdGVkLiBUaGlzIG1pZ2h0IGJlIGEgc3ViLXJlc291cmNlIG9mIHRoZSBvbmUgdGhhdCB0aGUgY2xpZW50IGFjdHVhbGx5IHN1YnNjcmliZWQgdG8uXG4gICAgICAgICAqL1xuICAgICAgICB1cmk6IHouc3RyaW5nKCksXG4gICAgfSksXG59KTtcbi8qIFByb21wdHMgKi9cbi8qKlxuICogRGVzY3JpYmVzIGFuIGFyZ3VtZW50IHRoYXQgYSBwcm9tcHQgY2FuIGFjY2VwdC5cbiAqL1xuZXhwb3J0IGNvbnN0IFByb21wdEFyZ3VtZW50U2NoZW1hID0gelxuICAgIC5vYmplY3Qoe1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBhcmd1bWVudC5cbiAgICAgKi9cbiAgICBuYW1lOiB6LnN0cmluZygpLFxuICAgIC8qKlxuICAgICAqIEEgaHVtYW4tcmVhZGFibGUgZGVzY3JpcHRpb24gb2YgdGhlIGFyZ3VtZW50LlxuICAgICAqL1xuICAgIGRlc2NyaXB0aW9uOiB6Lm9wdGlvbmFsKHouc3RyaW5nKCkpLFxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyBhcmd1bWVudCBtdXN0IGJlIHByb3ZpZGVkLlxuICAgICAqL1xuICAgIHJlcXVpcmVkOiB6Lm9wdGlvbmFsKHouYm9vbGVhbigpKSxcbn0pXG4gICAgLnBhc3N0aHJvdWdoKCk7XG4vKipcbiAqIEEgcHJvbXB0IG9yIHByb21wdCB0ZW1wbGF0ZSB0aGF0IHRoZSBzZXJ2ZXIgb2ZmZXJzLlxuICovXG5leHBvcnQgY29uc3QgUHJvbXB0U2NoZW1hID0gQmFzZU1ldGFkYXRhU2NoZW1hLmV4dGVuZCh7XG4gICAgLyoqXG4gICAgICogQW4gb3B0aW9uYWwgZGVzY3JpcHRpb24gb2Ygd2hhdCB0aGlzIHByb21wdCBwcm92aWRlc1xuICAgICAqL1xuICAgIGRlc2NyaXB0aW9uOiB6Lm9wdGlvbmFsKHouc3RyaW5nKCkpLFxuICAgIC8qKlxuICAgICAqIEEgbGlzdCBvZiBhcmd1bWVudHMgdG8gdXNlIGZvciB0ZW1wbGF0aW5nIHRoZSBwcm9tcHQuXG4gICAgICovXG4gICAgYXJndW1lbnRzOiB6Lm9wdGlvbmFsKHouYXJyYXkoUHJvbXB0QXJndW1lbnRTY2hlbWEpKSxcbiAgICAvKipcbiAgICAgKiBTZWUgW01DUCBzcGVjaWZpY2F0aW9uXShodHRwczovL2dpdGh1Yi5jb20vbW9kZWxjb250ZXh0cHJvdG9jb2wvbW9kZWxjb250ZXh0cHJvdG9jb2wvYmxvYi80NzMzOWMwM2MxNDNiYjRlYzAxYTI2ZTcyMWExYjhmZTY2NjM0ZWJlL2RvY3Mvc3BlY2lmaWNhdGlvbi9kcmFmdC9iYXNpYy9pbmRleC5tZHgjZ2VuZXJhbC1maWVsZHMpXG4gICAgICogZm9yIG5vdGVzIG9uIF9tZXRhIHVzYWdlLlxuICAgICAqL1xuICAgIF9tZXRhOiB6Lm9wdGlvbmFsKHoub2JqZWN0KHt9KS5wYXNzdGhyb3VnaCgpKSxcbn0pO1xuLyoqXG4gKiBTZW50IGZyb20gdGhlIGNsaWVudCB0byByZXF1ZXN0IGEgbGlzdCBvZiBwcm9tcHRzIGFuZCBwcm9tcHQgdGVtcGxhdGVzIHRoZSBzZXJ2ZXIgaGFzLlxuICovXG5leHBvcnQgY29uc3QgTGlzdFByb21wdHNSZXF1ZXN0U2NoZW1hID0gUGFnaW5hdGVkUmVxdWVzdFNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKFwicHJvbXB0cy9saXN0XCIpLFxufSk7XG4vKipcbiAqIFRoZSBzZXJ2ZXIncyByZXNwb25zZSB0byBhIHByb21wdHMvbGlzdCByZXF1ZXN0IGZyb20gdGhlIGNsaWVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IExpc3RQcm9tcHRzUmVzdWx0U2NoZW1hID0gUGFnaW5hdGVkUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gICAgcHJvbXB0czogei5hcnJheShQcm9tcHRTY2hlbWEpLFxufSk7XG4vKipcbiAqIFVzZWQgYnkgdGhlIGNsaWVudCB0byBnZXQgYSBwcm9tcHQgcHJvdmlkZWQgYnkgdGhlIHNlcnZlci5cbiAqL1xuZXhwb3J0IGNvbnN0IEdldFByb21wdFJlcXVlc3RTY2hlbWEgPSBSZXF1ZXN0U2NoZW1hLmV4dGVuZCh7XG4gICAgbWV0aG9kOiB6LmxpdGVyYWwoXCJwcm9tcHRzL2dldFwiKSxcbiAgICBwYXJhbXM6IEJhc2VSZXF1ZXN0UGFyYW1zU2NoZW1hLmV4dGVuZCh7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgcHJvbXB0IG9yIHByb21wdCB0ZW1wbGF0ZS5cbiAgICAgICAgICovXG4gICAgICAgIG5hbWU6IHouc3RyaW5nKCksXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBcmd1bWVudHMgdG8gdXNlIGZvciB0ZW1wbGF0aW5nIHRoZSBwcm9tcHQuXG4gICAgICAgICAqL1xuICAgICAgICBhcmd1bWVudHM6IHoub3B0aW9uYWwoei5yZWNvcmQoei5zdHJpbmcoKSkpLFxuICAgIH0pLFxufSk7XG4vKipcbiAqIFRleHQgcHJvdmlkZWQgdG8gb3IgZnJvbSBhbiBMTE0uXG4gKi9cbmV4cG9ydCBjb25zdCBUZXh0Q29udGVudFNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoXCJ0ZXh0XCIpLFxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0IGNvbnRlbnQgb2YgdGhlIG1lc3NhZ2UuXG4gICAgICovXG4gICAgdGV4dDogei5zdHJpbmcoKSxcbiAgICAvKipcbiAgICAgKiBTZWUgW01DUCBzcGVjaWZpY2F0aW9uXShodHRwczovL2dpdGh1Yi5jb20vbW9kZWxjb250ZXh0cHJvdG9jb2wvbW9kZWxjb250ZXh0cHJvdG9jb2wvYmxvYi80NzMzOWMwM2MxNDNiYjRlYzAxYTI2ZTcyMWExYjhmZTY2NjM0ZWJlL2RvY3Mvc3BlY2lmaWNhdGlvbi9kcmFmdC9iYXNpYy9pbmRleC5tZHgjZ2VuZXJhbC1maWVsZHMpXG4gICAgICogZm9yIG5vdGVzIG9uIF9tZXRhIHVzYWdlLlxuICAgICAqL1xuICAgIF9tZXRhOiB6Lm9wdGlvbmFsKHoub2JqZWN0KHt9KS5wYXNzdGhyb3VnaCgpKSxcbn0pXG4gICAgLnBhc3N0aHJvdWdoKCk7XG4vKipcbiAqIEFuIGltYWdlIHByb3ZpZGVkIHRvIG9yIGZyb20gYW4gTExNLlxuICovXG5leHBvcnQgY29uc3QgSW1hZ2VDb250ZW50U2NoZW1hID0gelxuICAgIC5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbChcImltYWdlXCIpLFxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlNjQtZW5jb2RlZCBpbWFnZSBkYXRhLlxuICAgICAqL1xuICAgIGRhdGE6IHouc3RyaW5nKCkuYmFzZTY0KCksXG4gICAgLyoqXG4gICAgICogVGhlIE1JTUUgdHlwZSBvZiB0aGUgaW1hZ2UuIERpZmZlcmVudCBwcm92aWRlcnMgbWF5IHN1cHBvcnQgZGlmZmVyZW50IGltYWdlIHR5cGVzLlxuICAgICAqL1xuICAgIG1pbWVUeXBlOiB6LnN0cmluZygpLFxuICAgIC8qKlxuICAgICAqIFNlZSBbTUNQIHNwZWNpZmljYXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9tb2RlbGNvbnRleHRwcm90b2NvbC9tb2RlbGNvbnRleHRwcm90b2NvbC9ibG9iLzQ3MzM5YzAzYzE0M2JiNGVjMDFhMjZlNzIxYTFiOGZlNjY2MzRlYmUvZG9jcy9zcGVjaWZpY2F0aW9uL2RyYWZ0L2Jhc2ljL2luZGV4Lm1keCNnZW5lcmFsLWZpZWxkcylcbiAgICAgKiBmb3Igbm90ZXMgb24gX21ldGEgdXNhZ2UuXG4gICAgICovXG4gICAgX21ldGE6IHoub3B0aW9uYWwoei5vYmplY3Qoe30pLnBhc3N0aHJvdWdoKCkpLFxufSlcbiAgICAucGFzc3Rocm91Z2goKTtcbi8qKlxuICogQW4gQXVkaW8gcHJvdmlkZWQgdG8gb3IgZnJvbSBhbiBMTE0uXG4gKi9cbmV4cG9ydCBjb25zdCBBdWRpb0NvbnRlbnRTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKFwiYXVkaW9cIiksXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2U2NC1lbmNvZGVkIGF1ZGlvIGRhdGEuXG4gICAgICovXG4gICAgZGF0YTogei5zdHJpbmcoKS5iYXNlNjQoKSxcbiAgICAvKipcbiAgICAgKiBUaGUgTUlNRSB0eXBlIG9mIHRoZSBhdWRpby4gRGlmZmVyZW50IHByb3ZpZGVycyBtYXkgc3VwcG9ydCBkaWZmZXJlbnQgYXVkaW8gdHlwZXMuXG4gICAgICovXG4gICAgbWltZVR5cGU6IHouc3RyaW5nKCksXG4gICAgLyoqXG4gICAgICogU2VlIFtNQ1Agc3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL21vZGVsY29udGV4dHByb3RvY29sL21vZGVsY29udGV4dHByb3RvY29sL2Jsb2IvNDczMzljMDNjMTQzYmI0ZWMwMWEyNmU3MjFhMWI4ZmU2NjYzNGViZS9kb2NzL3NwZWNpZmljYXRpb24vZHJhZnQvYmFzaWMvaW5kZXgubWR4I2dlbmVyYWwtZmllbGRzKVxuICAgICAqIGZvciBub3RlcyBvbiBfbWV0YSB1c2FnZS5cbiAgICAgKi9cbiAgICBfbWV0YTogei5vcHRpb25hbCh6Lm9iamVjdCh7fSkucGFzc3Rocm91Z2goKSksXG59KVxuICAgIC5wYXNzdGhyb3VnaCgpO1xuLyoqXG4gKiBUaGUgY29udGVudHMgb2YgYSByZXNvdXJjZSwgZW1iZWRkZWQgaW50byBhIHByb21wdCBvciB0b29sIGNhbGwgcmVzdWx0LlxuICovXG5leHBvcnQgY29uc3QgRW1iZWRkZWRSZXNvdXJjZVNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoXCJyZXNvdXJjZVwiKSxcbiAgICByZXNvdXJjZTogei51bmlvbihbVGV4dFJlc291cmNlQ29udGVudHNTY2hlbWEsIEJsb2JSZXNvdXJjZUNvbnRlbnRzU2NoZW1hXSksXG4gICAgLyoqXG4gICAgICogU2VlIFtNQ1Agc3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL21vZGVsY29udGV4dHByb3RvY29sL21vZGVsY29udGV4dHByb3RvY29sL2Jsb2IvNDczMzljMDNjMTQzYmI0ZWMwMWEyNmU3MjFhMWI4ZmU2NjYzNGViZS9kb2NzL3NwZWNpZmljYXRpb24vZHJhZnQvYmFzaWMvaW5kZXgubWR4I2dlbmVyYWwtZmllbGRzKVxuICAgICAqIGZvciBub3RlcyBvbiBfbWV0YSB1c2FnZS5cbiAgICAgKi9cbiAgICBfbWV0YTogei5vcHRpb25hbCh6Lm9iamVjdCh7fSkucGFzc3Rocm91Z2goKSksXG59KVxuICAgIC5wYXNzdGhyb3VnaCgpO1xuLyoqXG4gKiBBIHJlc291cmNlIHRoYXQgdGhlIHNlcnZlciBpcyBjYXBhYmxlIG9mIHJlYWRpbmcsIGluY2x1ZGVkIGluIGEgcHJvbXB0IG9yIHRvb2wgY2FsbCByZXN1bHQuXG4gKlxuICogTm90ZTogcmVzb3VyY2UgbGlua3MgcmV0dXJuZWQgYnkgdG9vbHMgYXJlIG5vdCBndWFyYW50ZWVkIHRvIGFwcGVhciBpbiB0aGUgcmVzdWx0cyBvZiBgcmVzb3VyY2VzL2xpc3RgIHJlcXVlc3RzLlxuICovXG5leHBvcnQgY29uc3QgUmVzb3VyY2VMaW5rU2NoZW1hID0gUmVzb3VyY2VTY2hlbWEuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoXCJyZXNvdXJjZV9saW5rXCIpLFxufSk7XG4vKipcbiAqIEEgY29udGVudCBibG9jayB0aGF0IGNhbiBiZSB1c2VkIGluIHByb21wdHMgYW5kIHRvb2wgcmVzdWx0cy5cbiAqL1xuZXhwb3J0IGNvbnN0IENvbnRlbnRCbG9ja1NjaGVtYSA9IHoudW5pb24oW1xuICAgIFRleHRDb250ZW50U2NoZW1hLFxuICAgIEltYWdlQ29udGVudFNjaGVtYSxcbiAgICBBdWRpb0NvbnRlbnRTY2hlbWEsXG4gICAgUmVzb3VyY2VMaW5rU2NoZW1hLFxuICAgIEVtYmVkZGVkUmVzb3VyY2VTY2hlbWEsXG5dKTtcbi8qKlxuICogRGVzY3JpYmVzIGEgbWVzc2FnZSByZXR1cm5lZCBhcyBwYXJ0IG9mIGEgcHJvbXB0LlxuICovXG5leHBvcnQgY29uc3QgUHJvbXB0TWVzc2FnZVNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICByb2xlOiB6LmVudW0oW1widXNlclwiLCBcImFzc2lzdGFudFwiXSksXG4gICAgY29udGVudDogQ29udGVudEJsb2NrU2NoZW1hLFxufSlcbiAgICAucGFzc3Rocm91Z2goKTtcbi8qKlxuICogVGhlIHNlcnZlcidzIHJlc3BvbnNlIHRvIGEgcHJvbXB0cy9nZXQgcmVxdWVzdCBmcm9tIHRoZSBjbGllbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBHZXRQcm9tcHRSZXN1bHRTY2hlbWEgPSBSZXN1bHRTY2hlbWEuZXh0ZW5kKHtcbiAgICAvKipcbiAgICAgKiBBbiBvcHRpb25hbCBkZXNjcmlwdGlvbiBmb3IgdGhlIHByb21wdC5cbiAgICAgKi9cbiAgICBkZXNjcmlwdGlvbjogei5vcHRpb25hbCh6LnN0cmluZygpKSxcbiAgICBtZXNzYWdlczogei5hcnJheShQcm9tcHRNZXNzYWdlU2NoZW1hKSxcbn0pO1xuLyoqXG4gKiBBbiBvcHRpb25hbCBub3RpZmljYXRpb24gZnJvbSB0aGUgc2VydmVyIHRvIHRoZSBjbGllbnQsIGluZm9ybWluZyBpdCB0aGF0IHRoZSBsaXN0IG9mIHByb21wdHMgaXQgb2ZmZXJzIGhhcyBjaGFuZ2VkLiBUaGlzIG1heSBiZSBpc3N1ZWQgYnkgc2VydmVycyB3aXRob3V0IGFueSBwcmV2aW91cyBzdWJzY3JpcHRpb24gZnJvbSB0aGUgY2xpZW50LlxuICovXG5leHBvcnQgY29uc3QgUHJvbXB0TGlzdENoYW5nZWROb3RpZmljYXRpb25TY2hlbWEgPSBOb3RpZmljYXRpb25TY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbChcIm5vdGlmaWNhdGlvbnMvcHJvbXB0cy9saXN0X2NoYW5nZWRcIiksXG59KTtcbi8qIFRvb2xzICovXG4vKipcbiAqIEFkZGl0aW9uYWwgcHJvcGVydGllcyBkZXNjcmliaW5nIGEgVG9vbCB0byBjbGllbnRzLlxuICpcbiAqIE5PVEU6IGFsbCBwcm9wZXJ0aWVzIGluIFRvb2xBbm5vdGF0aW9ucyBhcmUgKipoaW50cyoqLlxuICogVGhleSBhcmUgbm90IGd1YXJhbnRlZWQgdG8gcHJvdmlkZSBhIGZhaXRoZnVsIGRlc2NyaXB0aW9uIG9mXG4gKiB0b29sIGJlaGF2aW9yIChpbmNsdWRpbmcgZGVzY3JpcHRpdmUgcHJvcGVydGllcyBsaWtlIGB0aXRsZWApLlxuICpcbiAqIENsaWVudHMgc2hvdWxkIG5ldmVyIG1ha2UgdG9vbCB1c2UgZGVjaXNpb25zIGJhc2VkIG9uIFRvb2xBbm5vdGF0aW9uc1xuICogcmVjZWl2ZWQgZnJvbSB1bnRydXN0ZWQgc2VydmVycy5cbiAqL1xuZXhwb3J0IGNvbnN0IFRvb2xBbm5vdGF0aW9uc1NjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICAvKipcbiAgICAgKiBBIGh1bWFuLXJlYWRhYmxlIHRpdGxlIGZvciB0aGUgdG9vbC5cbiAgICAgKi9cbiAgICB0aXRsZTogei5vcHRpb25hbCh6LnN0cmluZygpKSxcbiAgICAvKipcbiAgICAgKiBJZiB0cnVlLCB0aGUgdG9vbCBkb2VzIG5vdCBtb2RpZnkgaXRzIGVudmlyb25tZW50LlxuICAgICAqXG4gICAgICogRGVmYXVsdDogZmFsc2VcbiAgICAgKi9cbiAgICByZWFkT25seUhpbnQ6IHoub3B0aW9uYWwoei5ib29sZWFuKCkpLFxuICAgIC8qKlxuICAgICAqIElmIHRydWUsIHRoZSB0b29sIG1heSBwZXJmb3JtIGRlc3RydWN0aXZlIHVwZGF0ZXMgdG8gaXRzIGVudmlyb25tZW50LlxuICAgICAqIElmIGZhbHNlLCB0aGUgdG9vbCBwZXJmb3JtcyBvbmx5IGFkZGl0aXZlIHVwZGF0ZXMuXG4gICAgICpcbiAgICAgKiAoVGhpcyBwcm9wZXJ0eSBpcyBtZWFuaW5nZnVsIG9ubHkgd2hlbiBgcmVhZE9ubHlIaW50ID09IGZhbHNlYClcbiAgICAgKlxuICAgICAqIERlZmF1bHQ6IHRydWVcbiAgICAgKi9cbiAgICBkZXN0cnVjdGl2ZUhpbnQ6IHoub3B0aW9uYWwoei5ib29sZWFuKCkpLFxuICAgIC8qKlxuICAgICAqIElmIHRydWUsIGNhbGxpbmcgdGhlIHRvb2wgcmVwZWF0ZWRseSB3aXRoIHRoZSBzYW1lIGFyZ3VtZW50c1xuICAgICAqIHdpbGwgaGF2ZSBubyBhZGRpdGlvbmFsIGVmZmVjdCBvbiB0aGUgaXRzIGVudmlyb25tZW50LlxuICAgICAqXG4gICAgICogKFRoaXMgcHJvcGVydHkgaXMgbWVhbmluZ2Z1bCBvbmx5IHdoZW4gYHJlYWRPbmx5SGludCA9PSBmYWxzZWApXG4gICAgICpcbiAgICAgKiBEZWZhdWx0OiBmYWxzZVxuICAgICAqL1xuICAgIGlkZW1wb3RlbnRIaW50OiB6Lm9wdGlvbmFsKHouYm9vbGVhbigpKSxcbiAgICAvKipcbiAgICAgKiBJZiB0cnVlLCB0aGlzIHRvb2wgbWF5IGludGVyYWN0IHdpdGggYW4gXCJvcGVuIHdvcmxkXCIgb2YgZXh0ZXJuYWxcbiAgICAgKiBlbnRpdGllcy4gSWYgZmFsc2UsIHRoZSB0b29sJ3MgZG9tYWluIG9mIGludGVyYWN0aW9uIGlzIGNsb3NlZC5cbiAgICAgKiBGb3IgZXhhbXBsZSwgdGhlIHdvcmxkIG9mIGEgd2ViIHNlYXJjaCB0b29sIGlzIG9wZW4sIHdoZXJlYXMgdGhhdFxuICAgICAqIG9mIGEgbWVtb3J5IHRvb2wgaXMgbm90LlxuICAgICAqXG4gICAgICogRGVmYXVsdDogdHJ1ZVxuICAgICAqL1xuICAgIG9wZW5Xb3JsZEhpbnQ6IHoub3B0aW9uYWwoei5ib29sZWFuKCkpLFxufSlcbiAgICAucGFzc3Rocm91Z2goKTtcbi8qKlxuICogRGVmaW5pdGlvbiBmb3IgYSB0b29sIHRoZSBjbGllbnQgY2FuIGNhbGwuXG4gKi9cbmV4cG9ydCBjb25zdCBUb29sU2NoZW1hID0gQmFzZU1ldGFkYXRhU2NoZW1hLmV4dGVuZCh7XG4gICAgLyoqXG4gICAgICogQSBodW1hbi1yZWFkYWJsZSBkZXNjcmlwdGlvbiBvZiB0aGUgdG9vbC5cbiAgICAgKi9cbiAgICBkZXNjcmlwdGlvbjogei5vcHRpb25hbCh6LnN0cmluZygpKSxcbiAgICAvKipcbiAgICAgKiBBIEpTT04gU2NoZW1hIG9iamVjdCBkZWZpbmluZyB0aGUgZXhwZWN0ZWQgcGFyYW1ldGVycyBmb3IgdGhlIHRvb2wuXG4gICAgICovXG4gICAgaW5wdXRTY2hlbWE6IHpcbiAgICAgICAgLm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbChcIm9iamVjdFwiKSxcbiAgICAgICAgcHJvcGVydGllczogei5vcHRpb25hbCh6Lm9iamVjdCh7fSkucGFzc3Rocm91Z2goKSksXG4gICAgICAgIHJlcXVpcmVkOiB6Lm9wdGlvbmFsKHouYXJyYXkoei5zdHJpbmcoKSkpLFxuICAgIH0pXG4gICAgICAgIC5wYXNzdGhyb3VnaCgpLFxuICAgIC8qKlxuICAgICAqIEFuIG9wdGlvbmFsIEpTT04gU2NoZW1hIG9iamVjdCBkZWZpbmluZyB0aGUgc3RydWN0dXJlIG9mIHRoZSB0b29sJ3Mgb3V0cHV0IHJldHVybmVkIGluXG4gICAgICogdGhlIHN0cnVjdHVyZWRDb250ZW50IGZpZWxkIG9mIGEgQ2FsbFRvb2xSZXN1bHQuXG4gICAgICovXG4gICAgb3V0cHV0U2NoZW1hOiB6Lm9wdGlvbmFsKHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKFwib2JqZWN0XCIpLFxuICAgICAgICBwcm9wZXJ0aWVzOiB6Lm9wdGlvbmFsKHoub2JqZWN0KHt9KS5wYXNzdGhyb3VnaCgpKSxcbiAgICAgICAgcmVxdWlyZWQ6IHoub3B0aW9uYWwoei5hcnJheSh6LnN0cmluZygpKSksXG4gICAgfSlcbiAgICAgICAgLnBhc3N0aHJvdWdoKCkpLFxuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIGFkZGl0aW9uYWwgdG9vbCBpbmZvcm1hdGlvbi5cbiAgICAgKi9cbiAgICBhbm5vdGF0aW9uczogei5vcHRpb25hbChUb29sQW5ub3RhdGlvbnNTY2hlbWEpLFxuICAgIC8qKlxuICAgICAqIFNlZSBbTUNQIHNwZWNpZmljYXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9tb2RlbGNvbnRleHRwcm90b2NvbC9tb2RlbGNvbnRleHRwcm90b2NvbC9ibG9iLzQ3MzM5YzAzYzE0M2JiNGVjMDFhMjZlNzIxYTFiOGZlNjY2MzRlYmUvZG9jcy9zcGVjaWZpY2F0aW9uL2RyYWZ0L2Jhc2ljL2luZGV4Lm1keCNnZW5lcmFsLWZpZWxkcylcbiAgICAgKiBmb3Igbm90ZXMgb24gX21ldGEgdXNhZ2UuXG4gICAgICovXG4gICAgX21ldGE6IHoub3B0aW9uYWwoei5vYmplY3Qoe30pLnBhc3N0aHJvdWdoKCkpLFxufSk7XG4vKipcbiAqIFNlbnQgZnJvbSB0aGUgY2xpZW50IHRvIHJlcXVlc3QgYSBsaXN0IG9mIHRvb2xzIHRoZSBzZXJ2ZXIgaGFzLlxuICovXG5leHBvcnQgY29uc3QgTGlzdFRvb2xzUmVxdWVzdFNjaGVtYSA9IFBhZ2luYXRlZFJlcXVlc3RTY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbChcInRvb2xzL2xpc3RcIiksXG59KTtcbi8qKlxuICogVGhlIHNlcnZlcidzIHJlc3BvbnNlIHRvIGEgdG9vbHMvbGlzdCByZXF1ZXN0IGZyb20gdGhlIGNsaWVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IExpc3RUb29sc1Jlc3VsdFNjaGVtYSA9IFBhZ2luYXRlZFJlc3VsdFNjaGVtYS5leHRlbmQoe1xuICAgIHRvb2xzOiB6LmFycmF5KFRvb2xTY2hlbWEpLFxufSk7XG4vKipcbiAqIFRoZSBzZXJ2ZXIncyByZXNwb25zZSB0byBhIHRvb2wgY2FsbC5cbiAqL1xuZXhwb3J0IGNvbnN0IENhbGxUb29sUmVzdWx0U2NoZW1hID0gUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gICAgLyoqXG4gICAgICogQSBsaXN0IG9mIGNvbnRlbnQgb2JqZWN0cyB0aGF0IHJlcHJlc2VudCB0aGUgcmVzdWx0IG9mIHRoZSB0b29sIGNhbGwuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgVG9vbCBkb2VzIG5vdCBkZWZpbmUgYW4gb3V0cHV0U2NoZW1hLCB0aGlzIGZpZWxkIE1VU1QgYmUgcHJlc2VudCBpbiB0aGUgcmVzdWx0LlxuICAgICAqIEZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSwgdGhpcyBmaWVsZCBpcyBhbHdheXMgcHJlc2VudCwgYnV0IGl0IG1heSBiZSBlbXB0eS5cbiAgICAgKi9cbiAgICBjb250ZW50OiB6LmFycmF5KENvbnRlbnRCbG9ja1NjaGVtYSkuZGVmYXVsdChbXSksXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IGNvbnRhaW5pbmcgc3RydWN0dXJlZCB0b29sIG91dHB1dC5cbiAgICAgKlxuICAgICAqIElmIHRoZSBUb29sIGRlZmluZXMgYW4gb3V0cHV0U2NoZW1hLCB0aGlzIGZpZWxkIE1VU1QgYmUgcHJlc2VudCBpbiB0aGUgcmVzdWx0LCBhbmQgY29udGFpbiBhIEpTT04gb2JqZWN0IHRoYXQgbWF0Y2hlcyB0aGUgc2NoZW1hLlxuICAgICAqL1xuICAgIHN0cnVjdHVyZWRDb250ZW50OiB6Lm9iamVjdCh7fSkucGFzc3Rocm91Z2goKS5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHRvb2wgY2FsbCBlbmRlZCBpbiBhbiBlcnJvci5cbiAgICAgKlxuICAgICAqIElmIG5vdCBzZXQsIHRoaXMgaXMgYXNzdW1lZCB0byBiZSBmYWxzZSAodGhlIGNhbGwgd2FzIHN1Y2Nlc3NmdWwpLlxuICAgICAqXG4gICAgICogQW55IGVycm9ycyB0aGF0IG9yaWdpbmF0ZSBmcm9tIHRoZSB0b29sIFNIT1VMRCBiZSByZXBvcnRlZCBpbnNpZGUgdGhlIHJlc3VsdFxuICAgICAqIG9iamVjdCwgd2l0aCBgaXNFcnJvcmAgc2V0IHRvIHRydWUsIF9ub3RfIGFzIGFuIE1DUCBwcm90b2NvbC1sZXZlbCBlcnJvclxuICAgICAqIHJlc3BvbnNlLiBPdGhlcndpc2UsIHRoZSBMTE0gd291bGQgbm90IGJlIGFibGUgdG8gc2VlIHRoYXQgYW4gZXJyb3Igb2NjdXJyZWRcbiAgICAgKiBhbmQgc2VsZi1jb3JyZWN0LlxuICAgICAqXG4gICAgICogSG93ZXZlciwgYW55IGVycm9ycyBpbiBfZmluZGluZ18gdGhlIHRvb2wsIGFuIGVycm9yIGluZGljYXRpbmcgdGhhdCB0aGVcbiAgICAgKiBzZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCB0b29sIGNhbGxzLCBvciBhbnkgb3RoZXIgZXhjZXB0aW9uYWwgY29uZGl0aW9ucyxcbiAgICAgKiBzaG91bGQgYmUgcmVwb3J0ZWQgYXMgYW4gTUNQIGVycm9yIHJlc3BvbnNlLlxuICAgICAqL1xuICAgIGlzRXJyb3I6IHoub3B0aW9uYWwoei5ib29sZWFuKCkpLFxufSk7XG4vKipcbiAqIENhbGxUb29sUmVzdWx0U2NoZW1hIGV4dGVuZGVkIHdpdGggYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgdG8gcHJvdG9jb2wgdmVyc2lvbiAyMDI0LTEwLTA3LlxuICovXG5leHBvcnQgY29uc3QgQ29tcGF0aWJpbGl0eUNhbGxUb29sUmVzdWx0U2NoZW1hID0gQ2FsbFRvb2xSZXN1bHRTY2hlbWEub3IoUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gICAgdG9vbFJlc3VsdDogei51bmtub3duKCksXG59KSk7XG4vKipcbiAqIFVzZWQgYnkgdGhlIGNsaWVudCB0byBpbnZva2UgYSB0b29sIHByb3ZpZGVkIGJ5IHRoZSBzZXJ2ZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBDYWxsVG9vbFJlcXVlc3RTY2hlbWEgPSBSZXF1ZXN0U2NoZW1hLmV4dGVuZCh7XG4gICAgbWV0aG9kOiB6LmxpdGVyYWwoXCJ0b29scy9jYWxsXCIpLFxuICAgIHBhcmFtczogQmFzZVJlcXVlc3RQYXJhbXNTY2hlbWEuZXh0ZW5kKHtcbiAgICAgICAgbmFtZTogei5zdHJpbmcoKSxcbiAgICAgICAgYXJndW1lbnRzOiB6Lm9wdGlvbmFsKHoucmVjb3JkKHoudW5rbm93bigpKSksXG4gICAgfSksXG59KTtcbi8qKlxuICogQW4gb3B0aW9uYWwgbm90aWZpY2F0aW9uIGZyb20gdGhlIHNlcnZlciB0byB0aGUgY2xpZW50LCBpbmZvcm1pbmcgaXQgdGhhdCB0aGUgbGlzdCBvZiB0b29scyBpdCBvZmZlcnMgaGFzIGNoYW5nZWQuIFRoaXMgbWF5IGJlIGlzc3VlZCBieSBzZXJ2ZXJzIHdpdGhvdXQgYW55IHByZXZpb3VzIHN1YnNjcmlwdGlvbiBmcm9tIHRoZSBjbGllbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBUb29sTGlzdENoYW5nZWROb3RpZmljYXRpb25TY2hlbWEgPSBOb3RpZmljYXRpb25TY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbChcIm5vdGlmaWNhdGlvbnMvdG9vbHMvbGlzdF9jaGFuZ2VkXCIpLFxufSk7XG4vKiBMb2dnaW5nICovXG4vKipcbiAqIFRoZSBzZXZlcml0eSBvZiBhIGxvZyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgTG9nZ2luZ0xldmVsU2NoZW1hID0gei5lbnVtKFtcbiAgICBcImRlYnVnXCIsXG4gICAgXCJpbmZvXCIsXG4gICAgXCJub3RpY2VcIixcbiAgICBcIndhcm5pbmdcIixcbiAgICBcImVycm9yXCIsXG4gICAgXCJjcml0aWNhbFwiLFxuICAgIFwiYWxlcnRcIixcbiAgICBcImVtZXJnZW5jeVwiLFxuXSk7XG4vKipcbiAqIEEgcmVxdWVzdCBmcm9tIHRoZSBjbGllbnQgdG8gdGhlIHNlcnZlciwgdG8gZW5hYmxlIG9yIGFkanVzdCBsb2dnaW5nLlxuICovXG5leHBvcnQgY29uc3QgU2V0TGV2ZWxSZXF1ZXN0U2NoZW1hID0gUmVxdWVzdFNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKFwibG9nZ2luZy9zZXRMZXZlbFwiKSxcbiAgICBwYXJhbXM6IEJhc2VSZXF1ZXN0UGFyYW1zU2NoZW1hLmV4dGVuZCh7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGV2ZWwgb2YgbG9nZ2luZyB0aGF0IHRoZSBjbGllbnQgd2FudHMgdG8gcmVjZWl2ZSBmcm9tIHRoZSBzZXJ2ZXIuIFRoZSBzZXJ2ZXIgc2hvdWxkIHNlbmQgYWxsIGxvZ3MgYXQgdGhpcyBsZXZlbCBhbmQgaGlnaGVyIChpLmUuLCBtb3JlIHNldmVyZSkgdG8gdGhlIGNsaWVudCBhcyBub3RpZmljYXRpb25zL2xvZ2dpbmcvbWVzc2FnZS5cbiAgICAgICAgICovXG4gICAgICAgIGxldmVsOiBMb2dnaW5nTGV2ZWxTY2hlbWEsXG4gICAgfSksXG59KTtcbi8qKlxuICogTm90aWZpY2F0aW9uIG9mIGEgbG9nIG1lc3NhZ2UgcGFzc2VkIGZyb20gc2VydmVyIHRvIGNsaWVudC4gSWYgbm8gbG9nZ2luZy9zZXRMZXZlbCByZXF1ZXN0IGhhcyBiZWVuIHNlbnQgZnJvbSB0aGUgY2xpZW50LCB0aGUgc2VydmVyIE1BWSBkZWNpZGUgd2hpY2ggbWVzc2FnZXMgdG8gc2VuZCBhdXRvbWF0aWNhbGx5LlxuICovXG5leHBvcnQgY29uc3QgTG9nZ2luZ01lc3NhZ2VOb3RpZmljYXRpb25TY2hlbWEgPSBOb3RpZmljYXRpb25TY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbChcIm5vdGlmaWNhdGlvbnMvbWVzc2FnZVwiKSxcbiAgICBwYXJhbXM6IEJhc2VOb3RpZmljYXRpb25QYXJhbXNTY2hlbWEuZXh0ZW5kKHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzZXZlcml0eSBvZiB0aGlzIGxvZyBtZXNzYWdlLlxuICAgICAgICAgKi9cbiAgICAgICAgbGV2ZWw6IExvZ2dpbmdMZXZlbFNjaGVtYSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIG9wdGlvbmFsIG5hbWUgb2YgdGhlIGxvZ2dlciBpc3N1aW5nIHRoaXMgbWVzc2FnZS5cbiAgICAgICAgICovXG4gICAgICAgIGxvZ2dlcjogei5vcHRpb25hbCh6LnN0cmluZygpKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIHRvIGJlIGxvZ2dlZCwgc3VjaCBhcyBhIHN0cmluZyBtZXNzYWdlIG9yIGFuIG9iamVjdC4gQW55IEpTT04gc2VyaWFsaXphYmxlIHR5cGUgaXMgYWxsb3dlZCBoZXJlLlxuICAgICAgICAgKi9cbiAgICAgICAgZGF0YTogei51bmtub3duKCksXG4gICAgfSksXG59KTtcbi8qIFNhbXBsaW5nICovXG4vKipcbiAqIEhpbnRzIHRvIHVzZSBmb3IgbW9kZWwgc2VsZWN0aW9uLlxuICovXG5leHBvcnQgY29uc3QgTW9kZWxIaW50U2NoZW1hID0gelxuICAgIC5vYmplY3Qoe1xuICAgIC8qKlxuICAgICAqIEEgaGludCBmb3IgYSBtb2RlbCBuYW1lLlxuICAgICAqL1xuICAgIG5hbWU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pXG4gICAgLnBhc3N0aHJvdWdoKCk7XG4vKipcbiAqIFRoZSBzZXJ2ZXIncyBwcmVmZXJlbmNlcyBmb3IgbW9kZWwgc2VsZWN0aW9uLCByZXF1ZXN0ZWQgb2YgdGhlIGNsaWVudCBkdXJpbmcgc2FtcGxpbmcuXG4gKi9cbmV4cG9ydCBjb25zdCBNb2RlbFByZWZlcmVuY2VzU2NoZW1hID0gelxuICAgIC5vYmplY3Qoe1xuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIGhpbnRzIHRvIHVzZSBmb3IgbW9kZWwgc2VsZWN0aW9uLlxuICAgICAqL1xuICAgIGhpbnRzOiB6Lm9wdGlvbmFsKHouYXJyYXkoTW9kZWxIaW50U2NoZW1hKSksXG4gICAgLyoqXG4gICAgICogSG93IG11Y2ggdG8gcHJpb3JpdGl6ZSBjb3N0IHdoZW4gc2VsZWN0aW5nIGEgbW9kZWwuXG4gICAgICovXG4gICAgY29zdFByaW9yaXR5OiB6Lm9wdGlvbmFsKHoubnVtYmVyKCkubWluKDApLm1heCgxKSksXG4gICAgLyoqXG4gICAgICogSG93IG11Y2ggdG8gcHJpb3JpdGl6ZSBzYW1wbGluZyBzcGVlZCAobGF0ZW5jeSkgd2hlbiBzZWxlY3RpbmcgYSBtb2RlbC5cbiAgICAgKi9cbiAgICBzcGVlZFByaW9yaXR5OiB6Lm9wdGlvbmFsKHoubnVtYmVyKCkubWluKDApLm1heCgxKSksXG4gICAgLyoqXG4gICAgICogSG93IG11Y2ggdG8gcHJpb3JpdGl6ZSBpbnRlbGxpZ2VuY2UgYW5kIGNhcGFiaWxpdGllcyB3aGVuIHNlbGVjdGluZyBhIG1vZGVsLlxuICAgICAqL1xuICAgIGludGVsbGlnZW5jZVByaW9yaXR5OiB6Lm9wdGlvbmFsKHoubnVtYmVyKCkubWluKDApLm1heCgxKSksXG59KVxuICAgIC5wYXNzdGhyb3VnaCgpO1xuLyoqXG4gKiBEZXNjcmliZXMgYSBtZXNzYWdlIGlzc3VlZCB0byBvciByZWNlaXZlZCBmcm9tIGFuIExMTSBBUEkuXG4gKi9cbmV4cG9ydCBjb25zdCBTYW1wbGluZ01lc3NhZ2VTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgcm9sZTogei5lbnVtKFtcInVzZXJcIiwgXCJhc3Npc3RhbnRcIl0pLFxuICAgIGNvbnRlbnQ6IHoudW5pb24oW1RleHRDb250ZW50U2NoZW1hLCBJbWFnZUNvbnRlbnRTY2hlbWEsIEF1ZGlvQ29udGVudFNjaGVtYV0pLFxufSlcbiAgICAucGFzc3Rocm91Z2goKTtcbi8qKlxuICogQSByZXF1ZXN0IGZyb20gdGhlIHNlcnZlciB0byBzYW1wbGUgYW4gTExNIHZpYSB0aGUgY2xpZW50LiBUaGUgY2xpZW50IGhhcyBmdWxsIGRpc2NyZXRpb24gb3ZlciB3aGljaCBtb2RlbCB0byBzZWxlY3QuIFRoZSBjbGllbnQgc2hvdWxkIGFsc28gaW5mb3JtIHRoZSB1c2VyIGJlZm9yZSBiZWdpbm5pbmcgc2FtcGxpbmcsIHRvIGFsbG93IHRoZW0gdG8gaW5zcGVjdCB0aGUgcmVxdWVzdCAoaHVtYW4gaW4gdGhlIGxvb3ApIGFuZCBkZWNpZGUgd2hldGhlciB0byBhcHByb3ZlIGl0LlxuICovXG5leHBvcnQgY29uc3QgQ3JlYXRlTWVzc2FnZVJlcXVlc3RTY2hlbWEgPSBSZXF1ZXN0U2NoZW1hLmV4dGVuZCh7XG4gICAgbWV0aG9kOiB6LmxpdGVyYWwoXCJzYW1wbGluZy9jcmVhdGVNZXNzYWdlXCIpLFxuICAgIHBhcmFtczogQmFzZVJlcXVlc3RQYXJhbXNTY2hlbWEuZXh0ZW5kKHtcbiAgICAgICAgbWVzc2FnZXM6IHouYXJyYXkoU2FtcGxpbmdNZXNzYWdlU2NoZW1hKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIG9wdGlvbmFsIHN5c3RlbSBwcm9tcHQgdGhlIHNlcnZlciB3YW50cyB0byB1c2UgZm9yIHNhbXBsaW5nLiBUaGUgY2xpZW50IE1BWSBtb2RpZnkgb3Igb21pdCB0aGlzIHByb21wdC5cbiAgICAgICAgICovXG4gICAgICAgIHN5c3RlbVByb21wdDogei5vcHRpb25hbCh6LnN0cmluZygpKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVxdWVzdCB0byBpbmNsdWRlIGNvbnRleHQgZnJvbSBvbmUgb3IgbW9yZSBNQ1Agc2VydmVycyAoaW5jbHVkaW5nIHRoZSBjYWxsZXIpLCB0byBiZSBhdHRhY2hlZCB0byB0aGUgcHJvbXB0LiBUaGUgY2xpZW50IE1BWSBpZ25vcmUgdGhpcyByZXF1ZXN0LlxuICAgICAgICAgKi9cbiAgICAgICAgaW5jbHVkZUNvbnRleHQ6IHoub3B0aW9uYWwoei5lbnVtKFtcIm5vbmVcIiwgXCJ0aGlzU2VydmVyXCIsIFwiYWxsU2VydmVyc1wiXSkpLFxuICAgICAgICB0ZW1wZXJhdHVyZTogei5vcHRpb25hbCh6Lm51bWJlcigpKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiB0b2tlbnMgdG8gc2FtcGxlLCBhcyByZXF1ZXN0ZWQgYnkgdGhlIHNlcnZlci4gVGhlIGNsaWVudCBNQVkgY2hvb3NlIHRvIHNhbXBsZSBmZXdlciB0b2tlbnMgdGhhbiByZXF1ZXN0ZWQuXG4gICAgICAgICAqL1xuICAgICAgICBtYXhUb2tlbnM6IHoubnVtYmVyKCkuaW50KCksXG4gICAgICAgIHN0b3BTZXF1ZW5jZXM6IHoub3B0aW9uYWwoei5hcnJheSh6LnN0cmluZygpKSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPcHRpb25hbCBtZXRhZGF0YSB0byBwYXNzIHRocm91Z2ggdG8gdGhlIExMTSBwcm92aWRlci4gVGhlIGZvcm1hdCBvZiB0aGlzIG1ldGFkYXRhIGlzIHByb3ZpZGVyLXNwZWNpZmljLlxuICAgICAgICAgKi9cbiAgICAgICAgbWV0YWRhdGE6IHoub3B0aW9uYWwoei5vYmplY3Qoe30pLnBhc3N0aHJvdWdoKCkpLFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNlcnZlcidzIHByZWZlcmVuY2VzIGZvciB3aGljaCBtb2RlbCB0byBzZWxlY3QuXG4gICAgICAgICAqL1xuICAgICAgICBtb2RlbFByZWZlcmVuY2VzOiB6Lm9wdGlvbmFsKE1vZGVsUHJlZmVyZW5jZXNTY2hlbWEpLFxuICAgIH0pLFxufSk7XG4vKipcbiAqIFRoZSBjbGllbnQncyByZXNwb25zZSB0byBhIHNhbXBsaW5nL2NyZWF0ZV9tZXNzYWdlIHJlcXVlc3QgZnJvbSB0aGUgc2VydmVyLiBUaGUgY2xpZW50IHNob3VsZCBpbmZvcm0gdGhlIHVzZXIgYmVmb3JlIHJldHVybmluZyB0aGUgc2FtcGxlZCBtZXNzYWdlLCB0byBhbGxvdyB0aGVtIHRvIGluc3BlY3QgdGhlIHJlc3BvbnNlIChodW1hbiBpbiB0aGUgbG9vcCkgYW5kIGRlY2lkZSB3aGV0aGVyIHRvIGFsbG93IHRoZSBzZXJ2ZXIgdG8gc2VlIGl0LlxuICovXG5leHBvcnQgY29uc3QgQ3JlYXRlTWVzc2FnZVJlc3VsdFNjaGVtYSA9IFJlc3VsdFNjaGVtYS5leHRlbmQoe1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBtb2RlbCB0aGF0IGdlbmVyYXRlZCB0aGUgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBtb2RlbDogei5zdHJpbmcoKSxcbiAgICAvKipcbiAgICAgKiBUaGUgcmVhc29uIHdoeSBzYW1wbGluZyBzdG9wcGVkLlxuICAgICAqL1xuICAgIHN0b3BSZWFzb246IHoub3B0aW9uYWwoei5lbnVtKFtcImVuZFR1cm5cIiwgXCJzdG9wU2VxdWVuY2VcIiwgXCJtYXhUb2tlbnNcIl0pLm9yKHouc3RyaW5nKCkpKSxcbiAgICByb2xlOiB6LmVudW0oW1widXNlclwiLCBcImFzc2lzdGFudFwiXSksXG4gICAgY29udGVudDogei5kaXNjcmltaW5hdGVkVW5pb24oXCJ0eXBlXCIsIFtcbiAgICAgICAgVGV4dENvbnRlbnRTY2hlbWEsXG4gICAgICAgIEltYWdlQ29udGVudFNjaGVtYSxcbiAgICAgICAgQXVkaW9Db250ZW50U2NoZW1hXG4gICAgXSksXG59KTtcbi8qIEVsaWNpdGF0aW9uICovXG4vKipcbiAqIFByaW1pdGl2ZSBzY2hlbWEgZGVmaW5pdGlvbiBmb3IgYm9vbGVhbiBmaWVsZHMuXG4gKi9cbmV4cG9ydCBjb25zdCBCb29sZWFuU2NoZW1hU2NoZW1hID0gelxuICAgIC5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbChcImJvb2xlYW5cIiksXG4gICAgdGl0bGU6IHoub3B0aW9uYWwoei5zdHJpbmcoKSksXG4gICAgZGVzY3JpcHRpb246IHoub3B0aW9uYWwoei5zdHJpbmcoKSksXG4gICAgZGVmYXVsdDogei5vcHRpb25hbCh6LmJvb2xlYW4oKSksXG59KVxuICAgIC5wYXNzdGhyb3VnaCgpO1xuLyoqXG4gKiBQcmltaXRpdmUgc2NoZW1hIGRlZmluaXRpb24gZm9yIHN0cmluZyBmaWVsZHMuXG4gKi9cbmV4cG9ydCBjb25zdCBTdHJpbmdTY2hlbWFTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKFwic3RyaW5nXCIpLFxuICAgIHRpdGxlOiB6Lm9wdGlvbmFsKHouc3RyaW5nKCkpLFxuICAgIGRlc2NyaXB0aW9uOiB6Lm9wdGlvbmFsKHouc3RyaW5nKCkpLFxuICAgIG1pbkxlbmd0aDogei5vcHRpb25hbCh6Lm51bWJlcigpKSxcbiAgICBtYXhMZW5ndGg6IHoub3B0aW9uYWwoei5udW1iZXIoKSksXG4gICAgZm9ybWF0OiB6Lm9wdGlvbmFsKHouZW51bShbXCJlbWFpbFwiLCBcInVyaVwiLCBcImRhdGVcIiwgXCJkYXRlLXRpbWVcIl0pKSxcbn0pXG4gICAgLnBhc3N0aHJvdWdoKCk7XG4vKipcbiAqIFByaW1pdGl2ZSBzY2hlbWEgZGVmaW5pdGlvbiBmb3IgbnVtYmVyIGZpZWxkcy5cbiAqL1xuZXhwb3J0IGNvbnN0IE51bWJlclNjaGVtYVNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICB0eXBlOiB6LmVudW0oW1wibnVtYmVyXCIsIFwiaW50ZWdlclwiXSksXG4gICAgdGl0bGU6IHoub3B0aW9uYWwoei5zdHJpbmcoKSksXG4gICAgZGVzY3JpcHRpb246IHoub3B0aW9uYWwoei5zdHJpbmcoKSksXG4gICAgbWluaW11bTogei5vcHRpb25hbCh6Lm51bWJlcigpKSxcbiAgICBtYXhpbXVtOiB6Lm9wdGlvbmFsKHoubnVtYmVyKCkpLFxufSlcbiAgICAucGFzc3Rocm91Z2goKTtcbi8qKlxuICogUHJpbWl0aXZlIHNjaGVtYSBkZWZpbml0aW9uIGZvciBlbnVtIGZpZWxkcy5cbiAqL1xuZXhwb3J0IGNvbnN0IEVudW1TY2hlbWFTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKFwic3RyaW5nXCIpLFxuICAgIHRpdGxlOiB6Lm9wdGlvbmFsKHouc3RyaW5nKCkpLFxuICAgIGRlc2NyaXB0aW9uOiB6Lm9wdGlvbmFsKHouc3RyaW5nKCkpLFxuICAgIGVudW06IHouYXJyYXkoei5zdHJpbmcoKSksXG4gICAgZW51bU5hbWVzOiB6Lm9wdGlvbmFsKHouYXJyYXkoei5zdHJpbmcoKSkpLFxufSlcbiAgICAucGFzc3Rocm91Z2goKTtcbi8qKlxuICogVW5pb24gb2YgYWxsIHByaW1pdGl2ZSBzY2hlbWEgZGVmaW5pdGlvbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBQcmltaXRpdmVTY2hlbWFEZWZpbml0aW9uU2NoZW1hID0gei51bmlvbihbXG4gICAgQm9vbGVhblNjaGVtYVNjaGVtYSxcbiAgICBTdHJpbmdTY2hlbWFTY2hlbWEsXG4gICAgTnVtYmVyU2NoZW1hU2NoZW1hLFxuICAgIEVudW1TY2hlbWFTY2hlbWEsXG5dKTtcbi8qKlxuICogQSByZXF1ZXN0IGZyb20gdGhlIHNlcnZlciB0byBlbGljaXQgdXNlciBpbnB1dCB2aWEgdGhlIGNsaWVudC5cbiAqIFRoZSBjbGllbnQgc2hvdWxkIHByZXNlbnQgdGhlIG1lc3NhZ2UgYW5kIGZvcm0gZmllbGRzIHRvIHRoZSB1c2VyLlxuICovXG5leHBvcnQgY29uc3QgRWxpY2l0UmVxdWVzdFNjaGVtYSA9IFJlcXVlc3RTY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbChcImVsaWNpdGF0aW9uL2NyZWF0ZVwiKSxcbiAgICBwYXJhbXM6IEJhc2VSZXF1ZXN0UGFyYW1zU2NoZW1hLmV4dGVuZCh7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWVzc2FnZSB0byBwcmVzZW50IHRvIHRoZSB1c2VyLlxuICAgICAgICAgKi9cbiAgICAgICAgbWVzc2FnZTogei5zdHJpbmcoKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2hlbWEgZm9yIHRoZSByZXF1ZXN0ZWQgdXNlciBpbnB1dC5cbiAgICAgICAgICovXG4gICAgICAgIHJlcXVlc3RlZFNjaGVtYTogelxuICAgICAgICAgICAgLm9iamVjdCh7XG4gICAgICAgICAgICB0eXBlOiB6LmxpdGVyYWwoXCJvYmplY3RcIiksXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiB6LnJlY29yZCh6LnN0cmluZygpLCBQcmltaXRpdmVTY2hlbWFEZWZpbml0aW9uU2NoZW1hKSxcbiAgICAgICAgICAgIHJlcXVpcmVkOiB6Lm9wdGlvbmFsKHouYXJyYXkoei5zdHJpbmcoKSkpLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLnBhc3N0aHJvdWdoKCksXG4gICAgfSksXG59KTtcbi8qKlxuICogVGhlIGNsaWVudCdzIHJlc3BvbnNlIHRvIGFuIGVsaWNpdGF0aW9uL2NyZWF0ZSByZXF1ZXN0IGZyb20gdGhlIHNlcnZlci5cbiAqL1xuZXhwb3J0IGNvbnN0IEVsaWNpdFJlc3VsdFNjaGVtYSA9IFJlc3VsdFNjaGVtYS5leHRlbmQoe1xuICAgIC8qKlxuICAgICAqIFRoZSB1c2VyJ3MgcmVzcG9uc2UgYWN0aW9uLlxuICAgICAqL1xuICAgIGFjdGlvbjogei5lbnVtKFtcImFjY2VwdFwiLCBcImRlY2xpbmVcIiwgXCJjYW5jZWxcIl0pLFxuICAgIC8qKlxuICAgICAqIFRoZSBjb2xsZWN0ZWQgdXNlciBpbnB1dCBjb250ZW50IChvbmx5IHByZXNlbnQgaWYgYWN0aW9uIGlzIFwiYWNjZXB0XCIpLlxuICAgICAqL1xuICAgIGNvbnRlbnQ6IHoub3B0aW9uYWwoei5yZWNvcmQoei5zdHJpbmcoKSwgei51bmtub3duKCkpKSxcbn0pO1xuLyogQXV0b2NvbXBsZXRlICovXG4vKipcbiAqIEEgcmVmZXJlbmNlIHRvIGEgcmVzb3VyY2Ugb3IgcmVzb3VyY2UgdGVtcGxhdGUgZGVmaW5pdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IFJlc291cmNlVGVtcGxhdGVSZWZlcmVuY2VTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKFwicmVmL3Jlc291cmNlXCIpLFxuICAgIC8qKlxuICAgICAqIFRoZSBVUkkgb3IgVVJJIHRlbXBsYXRlIG9mIHRoZSByZXNvdXJjZS5cbiAgICAgKi9cbiAgICB1cmk6IHouc3RyaW5nKCksXG59KVxuICAgIC5wYXNzdGhyb3VnaCgpO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgUmVzb3VyY2VUZW1wbGF0ZVJlZmVyZW5jZVNjaGVtYSBpbnN0ZWFkXG4gKi9cbmV4cG9ydCBjb25zdCBSZXNvdXJjZVJlZmVyZW5jZVNjaGVtYSA9IFJlc291cmNlVGVtcGxhdGVSZWZlcmVuY2VTY2hlbWE7XG4vKipcbiAqIElkZW50aWZpZXMgYSBwcm9tcHQuXG4gKi9cbmV4cG9ydCBjb25zdCBQcm9tcHRSZWZlcmVuY2VTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKFwicmVmL3Byb21wdFwiKSxcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgcHJvbXB0IG9yIHByb21wdCB0ZW1wbGF0ZVxuICAgICAqL1xuICAgIG5hbWU6IHouc3RyaW5nKCksXG59KVxuICAgIC5wYXNzdGhyb3VnaCgpO1xuLyoqXG4gKiBBIHJlcXVlc3QgZnJvbSB0aGUgY2xpZW50IHRvIHRoZSBzZXJ2ZXIsIHRvIGFzayBmb3IgY29tcGxldGlvbiBvcHRpb25zLlxuICovXG5leHBvcnQgY29uc3QgQ29tcGxldGVSZXF1ZXN0U2NoZW1hID0gUmVxdWVzdFNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKFwiY29tcGxldGlvbi9jb21wbGV0ZVwiKSxcbiAgICBwYXJhbXM6IEJhc2VSZXF1ZXN0UGFyYW1zU2NoZW1hLmV4dGVuZCh7XG4gICAgICAgIHJlZjogei51bmlvbihbUHJvbXB0UmVmZXJlbmNlU2NoZW1hLCBSZXNvdXJjZVRlbXBsYXRlUmVmZXJlbmNlU2NoZW1hXSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJndW1lbnQncyBpbmZvcm1hdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgYXJndW1lbnQ6IHpcbiAgICAgICAgICAgIC5vYmplY3Qoe1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgYXJndW1lbnRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbmFtZTogei5zdHJpbmcoKSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGhlIHZhbHVlIG9mIHRoZSBhcmd1bWVudCB0byB1c2UgZm9yIGNvbXBsZXRpb24gbWF0Y2hpbmcuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZhbHVlOiB6LnN0cmluZygpLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLnBhc3N0aHJvdWdoKCksXG4gICAgICAgIGNvbnRleHQ6IHoub3B0aW9uYWwoei5vYmplY3Qoe1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQcmV2aW91c2x5LXJlc29sdmVkIHZhcmlhYmxlcyBpbiBhIFVSSSB0ZW1wbGF0ZSBvciBwcm9tcHQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGFyZ3VtZW50czogei5vcHRpb25hbCh6LnJlY29yZCh6LnN0cmluZygpLCB6LnN0cmluZygpKSksXG4gICAgICAgIH0pKSxcbiAgICB9KSxcbn0pO1xuLyoqXG4gKiBUaGUgc2VydmVyJ3MgcmVzcG9uc2UgdG8gYSBjb21wbGV0aW9uL2NvbXBsZXRlIHJlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IENvbXBsZXRlUmVzdWx0U2NoZW1hID0gUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gICAgY29tcGxldGlvbjogelxuICAgICAgICAub2JqZWN0KHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIGNvbXBsZXRpb24gdmFsdWVzLiBNdXN0IG5vdCBleGNlZWQgMTAwIGl0ZW1zLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFsdWVzOiB6LmFycmF5KHouc3RyaW5nKCkpLm1heCgxMDApLFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRvdGFsIG51bWJlciBvZiBjb21wbGV0aW9uIG9wdGlvbnMgYXZhaWxhYmxlLiBUaGlzIGNhbiBleGNlZWQgdGhlIG51bWJlciBvZiB2YWx1ZXMgYWN0dWFsbHkgc2VudCBpbiB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAqL1xuICAgICAgICB0b3RhbDogei5vcHRpb25hbCh6Lm51bWJlcigpLmludCgpKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZXJlIGFyZSBhZGRpdGlvbmFsIGNvbXBsZXRpb24gb3B0aW9ucyBiZXlvbmQgdGhvc2UgcHJvdmlkZWQgaW4gdGhlIGN1cnJlbnQgcmVzcG9uc2UsIGV2ZW4gaWYgdGhlIGV4YWN0IHRvdGFsIGlzIHVua25vd24uXG4gICAgICAgICAqL1xuICAgICAgICBoYXNNb3JlOiB6Lm9wdGlvbmFsKHouYm9vbGVhbigpKSxcbiAgICB9KVxuICAgICAgICAucGFzc3Rocm91Z2goKSxcbn0pO1xuLyogUm9vdHMgKi9cbi8qKlxuICogUmVwcmVzZW50cyBhIHJvb3QgZGlyZWN0b3J5IG9yIGZpbGUgdGhhdCB0aGUgc2VydmVyIGNhbiBvcGVyYXRlIG9uLlxuICovXG5leHBvcnQgY29uc3QgUm9vdFNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICAvKipcbiAgICAgKiBUaGUgVVJJIGlkZW50aWZ5aW5nIHRoZSByb290LiBUaGlzICptdXN0KiBzdGFydCB3aXRoIGZpbGU6Ly8gZm9yIG5vdy5cbiAgICAgKi9cbiAgICB1cmk6IHouc3RyaW5nKCkuc3RhcnRzV2l0aChcImZpbGU6Ly9cIiksXG4gICAgLyoqXG4gICAgICogQW4gb3B0aW9uYWwgbmFtZSBmb3IgdGhlIHJvb3QuXG4gICAgICovXG4gICAgbmFtZTogei5vcHRpb25hbCh6LnN0cmluZygpKSxcbiAgICAvKipcbiAgICAgKiBTZWUgW01DUCBzcGVjaWZpY2F0aW9uXShodHRwczovL2dpdGh1Yi5jb20vbW9kZWxjb250ZXh0cHJvdG9jb2wvbW9kZWxjb250ZXh0cHJvdG9jb2wvYmxvYi80NzMzOWMwM2MxNDNiYjRlYzAxYTI2ZTcyMWExYjhmZTY2NjM0ZWJlL2RvY3Mvc3BlY2lmaWNhdGlvbi9kcmFmdC9iYXNpYy9pbmRleC5tZHgjZ2VuZXJhbC1maWVsZHMpXG4gICAgICogZm9yIG5vdGVzIG9uIF9tZXRhIHVzYWdlLlxuICAgICAqL1xuICAgIF9tZXRhOiB6Lm9wdGlvbmFsKHoub2JqZWN0KHt9KS5wYXNzdGhyb3VnaCgpKSxcbn0pXG4gICAgLnBhc3N0aHJvdWdoKCk7XG4vKipcbiAqIFNlbnQgZnJvbSB0aGUgc2VydmVyIHRvIHJlcXVlc3QgYSBsaXN0IG9mIHJvb3QgVVJJcyBmcm9tIHRoZSBjbGllbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBMaXN0Um9vdHNSZXF1ZXN0U2NoZW1hID0gUmVxdWVzdFNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKFwicm9vdHMvbGlzdFwiKSxcbn0pO1xuLyoqXG4gKiBUaGUgY2xpZW50J3MgcmVzcG9uc2UgdG8gYSByb290cy9saXN0IHJlcXVlc3QgZnJvbSB0aGUgc2VydmVyLlxuICovXG5leHBvcnQgY29uc3QgTGlzdFJvb3RzUmVzdWx0U2NoZW1hID0gUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gICAgcm9vdHM6IHouYXJyYXkoUm9vdFNjaGVtYSksXG59KTtcbi8qKlxuICogQSBub3RpZmljYXRpb24gZnJvbSB0aGUgY2xpZW50IHRvIHRoZSBzZXJ2ZXIsIGluZm9ybWluZyBpdCB0aGF0IHRoZSBsaXN0IG9mIHJvb3RzIGhhcyBjaGFuZ2VkLlxuICovXG5leHBvcnQgY29uc3QgUm9vdHNMaXN0Q2hhbmdlZE5vdGlmaWNhdGlvblNjaGVtYSA9IE5vdGlmaWNhdGlvblNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKFwibm90aWZpY2F0aW9ucy9yb290cy9saXN0X2NoYW5nZWRcIiksXG59KTtcbi8qIENsaWVudCBtZXNzYWdlcyAqL1xuZXhwb3J0IGNvbnN0IENsaWVudFJlcXVlc3RTY2hlbWEgPSB6LnVuaW9uKFtcbiAgICBQaW5nUmVxdWVzdFNjaGVtYSxcbiAgICBJbml0aWFsaXplUmVxdWVzdFNjaGVtYSxcbiAgICBDb21wbGV0ZVJlcXVlc3RTY2hlbWEsXG4gICAgU2V0TGV2ZWxSZXF1ZXN0U2NoZW1hLFxuICAgIEdldFByb21wdFJlcXVlc3RTY2hlbWEsXG4gICAgTGlzdFByb21wdHNSZXF1ZXN0U2NoZW1hLFxuICAgIExpc3RSZXNvdXJjZXNSZXF1ZXN0U2NoZW1hLFxuICAgIExpc3RSZXNvdXJjZVRlbXBsYXRlc1JlcXVlc3RTY2hlbWEsXG4gICAgUmVhZFJlc291cmNlUmVxdWVzdFNjaGVtYSxcbiAgICBTdWJzY3JpYmVSZXF1ZXN0U2NoZW1hLFxuICAgIFVuc3Vic2NyaWJlUmVxdWVzdFNjaGVtYSxcbiAgICBDYWxsVG9vbFJlcXVlc3RTY2hlbWEsXG4gICAgTGlzdFRvb2xzUmVxdWVzdFNjaGVtYSxcbl0pO1xuZXhwb3J0IGNvbnN0IENsaWVudE5vdGlmaWNhdGlvblNjaGVtYSA9IHoudW5pb24oW1xuICAgIENhbmNlbGxlZE5vdGlmaWNhdGlvblNjaGVtYSxcbiAgICBQcm9ncmVzc05vdGlmaWNhdGlvblNjaGVtYSxcbiAgICBJbml0aWFsaXplZE5vdGlmaWNhdGlvblNjaGVtYSxcbiAgICBSb290c0xpc3RDaGFuZ2VkTm90aWZpY2F0aW9uU2NoZW1hLFxuXSk7XG5leHBvcnQgY29uc3QgQ2xpZW50UmVzdWx0U2NoZW1hID0gei51bmlvbihbXG4gICAgRW1wdHlSZXN1bHRTY2hlbWEsXG4gICAgQ3JlYXRlTWVzc2FnZVJlc3VsdFNjaGVtYSxcbiAgICBFbGljaXRSZXN1bHRTY2hlbWEsXG4gICAgTGlzdFJvb3RzUmVzdWx0U2NoZW1hLFxuXSk7XG4vKiBTZXJ2ZXIgbWVzc2FnZXMgKi9cbmV4cG9ydCBjb25zdCBTZXJ2ZXJSZXF1ZXN0U2NoZW1hID0gei51bmlvbihbXG4gICAgUGluZ1JlcXVlc3RTY2hlbWEsXG4gICAgQ3JlYXRlTWVzc2FnZVJlcXVlc3RTY2hlbWEsXG4gICAgRWxpY2l0UmVxdWVzdFNjaGVtYSxcbiAgICBMaXN0Um9vdHNSZXF1ZXN0U2NoZW1hLFxuXSk7XG5leHBvcnQgY29uc3QgU2VydmVyTm90aWZpY2F0aW9uU2NoZW1hID0gei51bmlvbihbXG4gICAgQ2FuY2VsbGVkTm90aWZpY2F0aW9uU2NoZW1hLFxuICAgIFByb2dyZXNzTm90aWZpY2F0aW9uU2NoZW1hLFxuICAgIExvZ2dpbmdNZXNzYWdlTm90aWZpY2F0aW9uU2NoZW1hLFxuICAgIFJlc291cmNlVXBkYXRlZE5vdGlmaWNhdGlvblNjaGVtYSxcbiAgICBSZXNvdXJjZUxpc3RDaGFuZ2VkTm90aWZpY2F0aW9uU2NoZW1hLFxuICAgIFRvb2xMaXN0Q2hhbmdlZE5vdGlmaWNhdGlvblNjaGVtYSxcbiAgICBQcm9tcHRMaXN0Q2hhbmdlZE5vdGlmaWNhdGlvblNjaGVtYSxcbl0pO1xuZXhwb3J0IGNvbnN0IFNlcnZlclJlc3VsdFNjaGVtYSA9IHoudW5pb24oW1xuICAgIEVtcHR5UmVzdWx0U2NoZW1hLFxuICAgIEluaXRpYWxpemVSZXN1bHRTY2hlbWEsXG4gICAgQ29tcGxldGVSZXN1bHRTY2hlbWEsXG4gICAgR2V0UHJvbXB0UmVzdWx0U2NoZW1hLFxuICAgIExpc3RQcm9tcHRzUmVzdWx0U2NoZW1hLFxuICAgIExpc3RSZXNvdXJjZXNSZXN1bHRTY2hlbWEsXG4gICAgTGlzdFJlc291cmNlVGVtcGxhdGVzUmVzdWx0U2NoZW1hLFxuICAgIFJlYWRSZXNvdXJjZVJlc3VsdFNjaGVtYSxcbiAgICBDYWxsVG9vbFJlc3VsdFNjaGVtYSxcbiAgICBMaXN0VG9vbHNSZXN1bHRTY2hlbWEsXG5dKTtcbmV4cG9ydCBjbGFzcyBNY3BFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcihjb2RlLCBtZXNzYWdlLCBkYXRhKSB7XG4gICAgICAgIHN1cGVyKGBNQ1AgZXJyb3IgJHtjb2RlfTogJHttZXNzYWdlfWApO1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIk1jcEVycm9yXCI7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZXMuanMubWFwIiwiaW1wb3J0IHsgQ2FuY2VsbGVkTm90aWZpY2F0aW9uU2NoZW1hLCBFcnJvckNvZGUsIGlzSlNPTlJQQ0Vycm9yLCBpc0pTT05SUENSZXF1ZXN0LCBpc0pTT05SUENSZXNwb25zZSwgaXNKU09OUlBDTm90aWZpY2F0aW9uLCBNY3BFcnJvciwgUGluZ1JlcXVlc3RTY2hlbWEsIFByb2dyZXNzTm90aWZpY2F0aW9uU2NoZW1hLCB9IGZyb20gXCIuLi90eXBlcy5qc1wiO1xuLyoqXG4gKiBUaGUgZGVmYXVsdCByZXF1ZXN0IHRpbWVvdXQsIGluIG1pbGlzZWNvbmRzLlxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9SRVFVRVNUX1RJTUVPVVRfTVNFQyA9IDYwMDAwO1xuLyoqXG4gKiBJbXBsZW1lbnRzIE1DUCBwcm90b2NvbCBmcmFtaW5nIG9uIHRvcCBvZiBhIHBsdWdnYWJsZSB0cmFuc3BvcnQsIGluY2x1ZGluZ1xuICogZmVhdHVyZXMgbGlrZSByZXF1ZXN0L3Jlc3BvbnNlIGxpbmtpbmcsIG5vdGlmaWNhdGlvbnMsIGFuZCBwcm9ncmVzcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFByb3RvY29sIHtcbiAgICBjb25zdHJ1Y3Rvcihfb3B0aW9ucykge1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gX29wdGlvbnM7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RNZXNzYWdlSWQgPSAwO1xuICAgICAgICB0aGlzLl9yZXF1ZXN0SGFuZGxlcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RIYW5kbGVyQWJvcnRDb250cm9sbGVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fbm90aWZpY2F0aW9uSGFuZGxlcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX3Jlc3BvbnNlSGFuZGxlcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX3Byb2dyZXNzSGFuZGxlcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX3RpbWVvdXRJbmZvID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9wZW5kaW5nRGVib3VuY2VkTm90aWZpY2F0aW9ucyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5zZXROb3RpZmljYXRpb25IYW5kbGVyKENhbmNlbGxlZE5vdGlmaWNhdGlvblNjaGVtYSwgKG5vdGlmaWNhdGlvbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29udHJvbGxlciA9IHRoaXMuX3JlcXVlc3RIYW5kbGVyQWJvcnRDb250cm9sbGVycy5nZXQobm90aWZpY2F0aW9uLnBhcmFtcy5yZXF1ZXN0SWQpO1xuICAgICAgICAgICAgY29udHJvbGxlciA9PT0gbnVsbCB8fCBjb250cm9sbGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb250cm9sbGVyLmFib3J0KG5vdGlmaWNhdGlvbi5wYXJhbXMucmVhc29uKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2V0Tm90aWZpY2F0aW9uSGFuZGxlcihQcm9ncmVzc05vdGlmaWNhdGlvblNjaGVtYSwgKG5vdGlmaWNhdGlvbikgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25wcm9ncmVzcyhub3RpZmljYXRpb24pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXRSZXF1ZXN0SGFuZGxlcihQaW5nUmVxdWVzdFNjaGVtYSwgXG4gICAgICAgIC8vIEF1dG9tYXRpYyBwb25nIGJ5IGRlZmF1bHQuXG4gICAgICAgIChfcmVxdWVzdCkgPT4gKHt9KSk7XG4gICAgfVxuICAgIF9zZXR1cFRpbWVvdXQobWVzc2FnZUlkLCB0aW1lb3V0LCBtYXhUb3RhbFRpbWVvdXQsIG9uVGltZW91dCwgcmVzZXRUaW1lb3V0T25Qcm9ncmVzcyA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuX3RpbWVvdXRJbmZvLnNldChtZXNzYWdlSWQsIHtcbiAgICAgICAgICAgIHRpbWVvdXRJZDogc2V0VGltZW91dChvblRpbWVvdXQsIHRpbWVvdXQpLFxuICAgICAgICAgICAgc3RhcnRUaW1lOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgdGltZW91dCxcbiAgICAgICAgICAgIG1heFRvdGFsVGltZW91dCxcbiAgICAgICAgICAgIHJlc2V0VGltZW91dE9uUHJvZ3Jlc3MsXG4gICAgICAgICAgICBvblRpbWVvdXRcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9yZXNldFRpbWVvdXQobWVzc2FnZUlkKSB7XG4gICAgICAgIGNvbnN0IGluZm8gPSB0aGlzLl90aW1lb3V0SW5mby5nZXQobWVzc2FnZUlkKTtcbiAgICAgICAgaWYgKCFpbmZvKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb25zdCB0b3RhbEVsYXBzZWQgPSBEYXRlLm5vdygpIC0gaW5mby5zdGFydFRpbWU7XG4gICAgICAgIGlmIChpbmZvLm1heFRvdGFsVGltZW91dCAmJiB0b3RhbEVsYXBzZWQgPj0gaW5mby5tYXhUb3RhbFRpbWVvdXQpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVvdXRJbmZvLmRlbGV0ZShtZXNzYWdlSWQpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1jcEVycm9yKEVycm9yQ29kZS5SZXF1ZXN0VGltZW91dCwgXCJNYXhpbXVtIHRvdGFsIHRpbWVvdXQgZXhjZWVkZWRcIiwgeyBtYXhUb3RhbFRpbWVvdXQ6IGluZm8ubWF4VG90YWxUaW1lb3V0LCB0b3RhbEVsYXBzZWQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJUaW1lb3V0KGluZm8udGltZW91dElkKTtcbiAgICAgICAgaW5mby50aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGluZm8ub25UaW1lb3V0LCBpbmZvLnRpbWVvdXQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgX2NsZWFudXBUaW1lb3V0KG1lc3NhZ2VJZCkge1xuICAgICAgICBjb25zdCBpbmZvID0gdGhpcy5fdGltZW91dEluZm8uZ2V0KG1lc3NhZ2VJZCk7XG4gICAgICAgIGlmIChpbmZvKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoaW5mby50aW1lb3V0SWQpO1xuICAgICAgICAgICAgdGhpcy5fdGltZW91dEluZm8uZGVsZXRlKG1lc3NhZ2VJZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgdG8gdGhlIGdpdmVuIHRyYW5zcG9ydCwgc3RhcnRzIGl0LCBhbmQgc3RhcnRzIGxpc3RlbmluZyBmb3IgbWVzc2FnZXMuXG4gICAgICpcbiAgICAgKiBUaGUgUHJvdG9jb2wgb2JqZWN0IGFzc3VtZXMgb3duZXJzaGlwIG9mIHRoZSBUcmFuc3BvcnQsIHJlcGxhY2luZyBhbnkgY2FsbGJhY2tzIHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gc2V0LCBhbmQgZXhwZWN0cyB0aGF0IGl0IGlzIHRoZSBvbmx5IHVzZXIgb2YgdGhlIFRyYW5zcG9ydCBpbnN0YW5jZSBnb2luZyBmb3J3YXJkLlxuICAgICAqL1xuICAgIGFzeW5jIGNvbm5lY3QodHJhbnNwb3J0KSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICB0aGlzLl90cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XG4gICAgICAgIGNvbnN0IF9vbmNsb3NlID0gKF9hID0gdGhpcy50cmFuc3BvcnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vbmNsb3NlO1xuICAgICAgICB0aGlzLl90cmFuc3BvcnQub25jbG9zZSA9ICgpID0+IHtcbiAgICAgICAgICAgIF9vbmNsb3NlID09PSBudWxsIHx8IF9vbmNsb3NlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb25jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fb25jbG9zZSgpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBfb25lcnJvciA9IChfYiA9IHRoaXMudHJhbnNwb3J0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iub25lcnJvcjtcbiAgICAgICAgdGhpcy5fdHJhbnNwb3J0Lm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIF9vbmVycm9yID09PSBudWxsIHx8IF9vbmVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb25lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB0aGlzLl9vbmVycm9yKGVycm9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgX29ubWVzc2FnZSA9IChfYyA9IHRoaXMuX3RyYW5zcG9ydCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLm9ubWVzc2FnZTtcbiAgICAgICAgdGhpcy5fdHJhbnNwb3J0Lm9ubWVzc2FnZSA9IChtZXNzYWdlLCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgX29ubWVzc2FnZSA9PT0gbnVsbCB8fCBfb25tZXNzYWdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb25tZXNzYWdlKG1lc3NhZ2UsIGV4dHJhKTtcbiAgICAgICAgICAgIGlmIChpc0pTT05SUENSZXNwb25zZShtZXNzYWdlKSB8fCBpc0pTT05SUENFcnJvcihtZXNzYWdlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29ucmVzcG9uc2UobWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0pTT05SUENSZXF1ZXN0KG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25yZXF1ZXN0KG1lc3NhZ2UsIGV4dHJhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzSlNPTlJQQ05vdGlmaWNhdGlvbihtZXNzYWdlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29ubm90aWZpY2F0aW9uKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25lcnJvcihuZXcgRXJyb3IoYFVua25vd24gbWVzc2FnZSB0eXBlOiAke0pTT04uc3RyaW5naWZ5KG1lc3NhZ2UpfWApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgYXdhaXQgdGhpcy5fdHJhbnNwb3J0LnN0YXJ0KCk7XG4gICAgfVxuICAgIF9vbmNsb3NlKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlSGFuZGxlcnMgPSB0aGlzLl9yZXNwb25zZUhhbmRsZXJzO1xuICAgICAgICB0aGlzLl9yZXNwb25zZUhhbmRsZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9wcm9ncmVzc0hhbmRsZXJzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdEZWJvdW5jZWROb3RpZmljYXRpb25zLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX3RyYW5zcG9ydCA9IHVuZGVmaW5lZDtcbiAgICAgICAgKF9hID0gdGhpcy5vbmNsb3NlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0aGlzKTtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgTWNwRXJyb3IoRXJyb3JDb2RlLkNvbm5lY3Rpb25DbG9zZWQsIFwiQ29ubmVjdGlvbiBjbG9zZWRcIik7XG4gICAgICAgIGZvciAoY29uc3QgaGFuZGxlciBvZiByZXNwb25zZUhhbmRsZXJzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBoYW5kbGVyKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfb25lcnJvcihlcnJvcikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMub25lcnJvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcywgZXJyb3IpO1xuICAgIH1cbiAgICBfb25ub3RpZmljYXRpb24obm90aWZpY2F0aW9uKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IChfYSA9IHRoaXMuX25vdGlmaWNhdGlvbkhhbmRsZXJzLmdldChub3RpZmljYXRpb24ubWV0aG9kKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdGhpcy5mYWxsYmFja05vdGlmaWNhdGlvbkhhbmRsZXI7XG4gICAgICAgIC8vIElnbm9yZSBub3RpZmljYXRpb25zIG5vdCBiZWluZyBzdWJzY3JpYmVkIHRvLlxuICAgICAgICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RhcnRpbmcgd2l0aCBQcm9taXNlLnJlc29sdmUoKSBwdXRzIGFueSBzeW5jaHJvbm91cyBlcnJvcnMgaW50byB0aGUgbW9uYWQgYXMgd2VsbC5cbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IGhhbmRsZXIobm90aWZpY2F0aW9uKSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHRoaXMuX29uZXJyb3IobmV3IEVycm9yKGBVbmNhdWdodCBlcnJvciBpbiBub3RpZmljYXRpb24gaGFuZGxlcjogJHtlcnJvcn1gKSkpO1xuICAgIH1cbiAgICBfb25yZXF1ZXN0KHJlcXVlc3QsIGV4dHJhKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IChfYSA9IHRoaXMuX3JlcXVlc3RIYW5kbGVycy5nZXQocmVxdWVzdC5tZXRob2QpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLmZhbGxiYWNrUmVxdWVzdEhhbmRsZXI7XG4gICAgICAgIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIChfYiA9IHRoaXMuX3RyYW5zcG9ydCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNlbmQoe1xuICAgICAgICAgICAgICAgIGpzb25ycGM6IFwiMi4wXCIsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogRXJyb3JDb2RlLk1ldGhvZE5vdEZvdW5kLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk1ldGhvZCBub3QgZm91bmRcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB0aGlzLl9vbmVycm9yKG5ldyBFcnJvcihgRmFpbGVkIHRvIHNlbmQgYW4gZXJyb3IgcmVzcG9uc2U6ICR7ZXJyb3J9YCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RIYW5kbGVyQWJvcnRDb250cm9sbGVycy5zZXQocmVxdWVzdC5pZCwgYWJvcnRDb250cm9sbGVyKTtcbiAgICAgICAgY29uc3QgZnVsbEV4dHJhID0ge1xuICAgICAgICAgICAgc2lnbmFsOiBhYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgICAgICAgc2Vzc2lvbklkOiAoX2MgPSB0aGlzLl90cmFuc3BvcnQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5zZXNzaW9uSWQsXG4gICAgICAgICAgICBfbWV0YTogKF9kID0gcmVxdWVzdC5wYXJhbXMpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5fbWV0YSxcbiAgICAgICAgICAgIHNlbmROb3RpZmljYXRpb246IChub3RpZmljYXRpb24pID0+IHRoaXMubm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbiwgeyByZWxhdGVkUmVxdWVzdElkOiByZXF1ZXN0LmlkIH0pLFxuICAgICAgICAgICAgc2VuZFJlcXVlc3Q6IChyLCByZXN1bHRTY2hlbWEsIG9wdGlvbnMpID0+IHRoaXMucmVxdWVzdChyLCByZXN1bHRTY2hlbWEsIHsgLi4ub3B0aW9ucywgcmVsYXRlZFJlcXVlc3RJZDogcmVxdWVzdC5pZCB9KSxcbiAgICAgICAgICAgIGF1dGhJbmZvOiBleHRyYSA9PT0gbnVsbCB8fCBleHRyYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXh0cmEuYXV0aEluZm8sXG4gICAgICAgICAgICByZXF1ZXN0SWQ6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICByZXF1ZXN0SW5mbzogZXh0cmEgPT09IG51bGwgfHwgZXh0cmEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGV4dHJhLnJlcXVlc3RJbmZvXG4gICAgICAgIH07XG4gICAgICAgIC8vIFN0YXJ0aW5nIHdpdGggUHJvbWlzZS5yZXNvbHZlKCkgcHV0cyBhbnkgc3luY2hyb25vdXMgZXJyb3JzIGludG8gdGhlIG1vbmFkIGFzIHdlbGwuXG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgICAgICAudGhlbigoKSA9PiBoYW5kbGVyKHJlcXVlc3QsIGZ1bGxFeHRyYSkpXG4gICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAoYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMuX3RyYW5zcG9ydCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNlbmQoe1xuICAgICAgICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICAgICAgICBqc29ucnBjOiBcIjIuMFwiLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIGlmIChhYm9ydENvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5fdHJhbnNwb3J0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2VuZCh7XG4gICAgICAgICAgICAgICAganNvbnJwYzogXCIyLjBcIixcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBOdW1iZXIuaXNTYWZlSW50ZWdlcihlcnJvcltcImNvZGVcIl0pXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGVycm9yW1wiY29kZVwiXVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBFcnJvckNvZGUuSW50ZXJuYWxFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogKF9iID0gZXJyb3IubWVzc2FnZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogXCJJbnRlcm5hbCBlcnJvclwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHRoaXMuX29uZXJyb3IobmV3IEVycm9yKGBGYWlsZWQgdG8gc2VuZCByZXNwb25zZTogJHtlcnJvcn1gKSkpXG4gICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SGFuZGxlckFib3J0Q29udHJvbGxlcnMuZGVsZXRlKHJlcXVlc3QuaWQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX29ucHJvZ3Jlc3Mobm90aWZpY2F0aW9uKSB7XG4gICAgICAgIGNvbnN0IHsgcHJvZ3Jlc3NUb2tlbiwgLi4ucGFyYW1zIH0gPSBub3RpZmljYXRpb24ucGFyYW1zO1xuICAgICAgICBjb25zdCBtZXNzYWdlSWQgPSBOdW1iZXIocHJvZ3Jlc3NUb2tlbik7XG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLl9wcm9ncmVzc0hhbmRsZXJzLmdldChtZXNzYWdlSWQpO1xuICAgICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX29uZXJyb3IobmV3IEVycm9yKGBSZWNlaXZlZCBhIHByb2dyZXNzIG5vdGlmaWNhdGlvbiBmb3IgYW4gdW5rbm93biB0b2tlbjogJHtKU09OLnN0cmluZ2lmeShub3RpZmljYXRpb24pfWApKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZUhhbmRsZXIgPSB0aGlzLl9yZXNwb25zZUhhbmRsZXJzLmdldChtZXNzYWdlSWQpO1xuICAgICAgICBjb25zdCB0aW1lb3V0SW5mbyA9IHRoaXMuX3RpbWVvdXRJbmZvLmdldChtZXNzYWdlSWQpO1xuICAgICAgICBpZiAodGltZW91dEluZm8gJiYgcmVzcG9uc2VIYW5kbGVyICYmIHRpbWVvdXRJbmZvLnJlc2V0VGltZW91dE9uUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzZXRUaW1lb3V0KG1lc3NhZ2VJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZUhhbmRsZXIoZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBoYW5kbGVyKHBhcmFtcyk7XG4gICAgfVxuICAgIF9vbnJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VJZCA9IE51bWJlcihyZXNwb25zZS5pZCk7XG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLl9yZXNwb25zZUhhbmRsZXJzLmdldChtZXNzYWdlSWQpO1xuICAgICAgICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9vbmVycm9yKG5ldyBFcnJvcihgUmVjZWl2ZWQgYSByZXNwb25zZSBmb3IgYW4gdW5rbm93biBtZXNzYWdlIElEOiAke0pTT04uc3RyaW5naWZ5KHJlc3BvbnNlKX1gKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVzcG9uc2VIYW5kbGVycy5kZWxldGUobWVzc2FnZUlkKTtcbiAgICAgICAgdGhpcy5fcHJvZ3Jlc3NIYW5kbGVycy5kZWxldGUobWVzc2FnZUlkKTtcbiAgICAgICAgdGhpcy5fY2xlYW51cFRpbWVvdXQobWVzc2FnZUlkKTtcbiAgICAgICAgaWYgKGlzSlNPTlJQQ1Jlc3BvbnNlKHJlc3BvbnNlKSkge1xuICAgICAgICAgICAgaGFuZGxlcihyZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBNY3BFcnJvcihyZXNwb25zZS5lcnJvci5jb2RlLCByZXNwb25zZS5lcnJvci5tZXNzYWdlLCByZXNwb25zZS5lcnJvci5kYXRhKTtcbiAgICAgICAgICAgIGhhbmRsZXIoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCB0cmFuc3BvcnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFuc3BvcnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlcyB0aGUgY29ubmVjdGlvbi5cbiAgICAgKi9cbiAgICBhc3luYyBjbG9zZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBhd2FpdCAoKF9hID0gdGhpcy5fdHJhbnNwb3J0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xvc2UoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGEgcmVxdWVzdCBhbmQgd2FpdCBmb3IgYSByZXNwb25zZS5cbiAgICAgKlxuICAgICAqIERvIG5vdCB1c2UgdGhpcyBtZXRob2QgdG8gZW1pdCBub3RpZmljYXRpb25zISBVc2Ugbm90aWZpY2F0aW9uKCkgaW5zdGVhZC5cbiAgICAgKi9cbiAgICByZXF1ZXN0KHJlcXVlc3QsIHJlc3VsdFNjaGVtYSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IHJlbGF0ZWRSZXF1ZXN0SWQsIHJlc3VtcHRpb25Ub2tlbiwgb25yZXN1bXB0aW9udG9rZW4gfSA9IG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucyAhPT0gdm9pZCAwID8gb3B0aW9ucyA6IHt9O1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3RyYW5zcG9ydCkge1xuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJOb3QgY29ubmVjdGVkXCIpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKChfYSA9IHRoaXMuX29wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbmZvcmNlU3RyaWN0Q2FwYWJpbGl0aWVzKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0Q2FwYWJpbGl0eUZvck1ldGhvZChyZXF1ZXN0Lm1ldGhvZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAoX2IgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuc2lnbmFsKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudGhyb3dJZkFib3J0ZWQoKTtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VJZCA9IHRoaXMuX3JlcXVlc3RNZXNzYWdlSWQrKztcbiAgICAgICAgICAgIGNvbnN0IGpzb25ycGNSZXF1ZXN0ID0ge1xuICAgICAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgICAgICAgICAganNvbnJwYzogXCIyLjBcIixcbiAgICAgICAgICAgICAgICBpZDogbWVzc2FnZUlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMub25wcm9ncmVzcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Byb2dyZXNzSGFuZGxlcnMuc2V0KG1lc3NhZ2VJZCwgb3B0aW9ucy5vbnByb2dyZXNzKTtcbiAgICAgICAgICAgICAgICBqc29ucnBjUmVxdWVzdC5wYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnJlcXVlc3QucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICBfbWV0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uKCgoX2MgPSByZXF1ZXN0LnBhcmFtcykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLl9tZXRhKSB8fCB7fSksXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc1Rva2VuOiBtZXNzYWdlSWRcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2FuY2VsID0gKHJlYXNvbikgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNwb25zZUhhbmRsZXJzLmRlbGV0ZShtZXNzYWdlSWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Byb2dyZXNzSGFuZGxlcnMuZGVsZXRlKG1lc3NhZ2VJZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2xlYW51cFRpbWVvdXQobWVzc2FnZUlkKTtcbiAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLl90cmFuc3BvcnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAganNvbnJwYzogXCIyLjBcIixcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIm5vdGlmaWNhdGlvbnMvY2FuY2VsbGVkXCIsXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdElkOiBtZXNzYWdlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFzb246IFN0cmluZyhyZWFzb24pLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sIHsgcmVsYXRlZFJlcXVlc3RJZCwgcmVzdW1wdGlvblRva2VuLCBvbnJlc3VtcHRpb250b2tlbiB9KS5jYXRjaCgoZXJyb3IpID0+IHRoaXMuX29uZXJyb3IobmV3IEVycm9yKGBGYWlsZWQgdG8gc2VuZCBjYW5jZWxsYXRpb246ICR7ZXJyb3J9YCkpKTtcbiAgICAgICAgICAgICAgICByZWplY3QocmVhc29uKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9yZXNwb25zZUhhbmRsZXJzLnNldChtZXNzYWdlSWQsIChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBpZiAoKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnNpZ25hbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVzdWx0U2NoZW1hLnBhcnNlKHJlc3BvbnNlLnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAoX2QgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuc2lnbmFsKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgY2FuY2VsKChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5zaWduYWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZWFzb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCB0aW1lb3V0ID0gKF9lID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnRpbWVvdXQpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IERFRkFVTFRfUkVRVUVTVF9USU1FT1VUX01TRUM7XG4gICAgICAgICAgICBjb25zdCB0aW1lb3V0SGFuZGxlciA9ICgpID0+IGNhbmNlbChuZXcgTWNwRXJyb3IoRXJyb3JDb2RlLlJlcXVlc3RUaW1lb3V0LCBcIlJlcXVlc3QgdGltZWQgb3V0XCIsIHsgdGltZW91dCB9KSk7XG4gICAgICAgICAgICB0aGlzLl9zZXR1cFRpbWVvdXQobWVzc2FnZUlkLCB0aW1lb3V0LCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubWF4VG90YWxUaW1lb3V0LCB0aW1lb3V0SGFuZGxlciwgKF9mID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJlc2V0VGltZW91dE9uUHJvZ3Jlc3MpICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6IGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zcG9ydC5zZW5kKGpzb25ycGNSZXF1ZXN0LCB7IHJlbGF0ZWRSZXF1ZXN0SWQsIHJlc3VtcHRpb25Ub2tlbiwgb25yZXN1bXB0aW9udG9rZW4gfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2xlYW51cFRpbWVvdXQobWVzc2FnZUlkKTtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbWl0cyBhIG5vdGlmaWNhdGlvbiwgd2hpY2ggaXMgYSBvbmUtd2F5IG1lc3NhZ2UgdGhhdCBkb2VzIG5vdCBleHBlY3QgYSByZXNwb25zZS5cbiAgICAgKi9cbiAgICBhc3luYyBub3RpZmljYXRpb24obm90aWZpY2F0aW9uLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICghdGhpcy5fdHJhbnNwb3J0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgY29ubmVjdGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXNzZXJ0Tm90aWZpY2F0aW9uQ2FwYWJpbGl0eShub3RpZmljYXRpb24ubWV0aG9kKTtcbiAgICAgICAgY29uc3QgZGVib3VuY2VkTWV0aG9kcyA9IChfYiA9IChfYSA9IHRoaXMuX29wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZWJvdW5jZWROb3RpZmljYXRpb25NZXRob2RzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXTtcbiAgICAgICAgLy8gQSBub3RpZmljYXRpb24gY2FuIG9ubHkgYmUgZGVib3VuY2VkIGlmIGl0J3MgaW4gdGhlIGxpc3QgQU5EIGl0J3MgXCJzaW1wbGVcIlxuICAgICAgICAvLyAoaS5lLiwgaGFzIG5vIHBhcmFtZXRlcnMgYW5kIG5vIHJlbGF0ZWQgcmVxdWVzdCBJRCB0aGF0IGNvdWxkIGJlIGxvc3QpLlxuICAgICAgICBjb25zdCBjYW5EZWJvdW5jZSA9IGRlYm91bmNlZE1ldGhvZHMuaW5jbHVkZXMobm90aWZpY2F0aW9uLm1ldGhvZClcbiAgICAgICAgICAgICYmICFub3RpZmljYXRpb24ucGFyYW1zXG4gICAgICAgICAgICAmJiAhKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yZWxhdGVkUmVxdWVzdElkKTtcbiAgICAgICAgaWYgKGNhbkRlYm91bmNlKSB7XG4gICAgICAgICAgICAvLyBJZiBhIG5vdGlmaWNhdGlvbiBvZiB0aGlzIHR5cGUgaXMgYWxyZWFkeSBzY2hlZHVsZWQsIGRvIG5vdGhpbmcuXG4gICAgICAgICAgICBpZiAodGhpcy5fcGVuZGluZ0RlYm91bmNlZE5vdGlmaWNhdGlvbnMuaGFzKG5vdGlmaWNhdGlvbi5tZXRob2QpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWFyayB0aGlzIG5vdGlmaWNhdGlvbiB0eXBlIGFzIHBlbmRpbmcuXG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nRGVib3VuY2VkTm90aWZpY2F0aW9ucy5hZGQobm90aWZpY2F0aW9uLm1ldGhvZCk7XG4gICAgICAgICAgICAvLyBTY2hlZHVsZSB0aGUgYWN0dWFsIHNlbmQgdG8gaGFwcGVuIGluIHRoZSBuZXh0IG1pY3JvdGFzay5cbiAgICAgICAgICAgIC8vIFRoaXMgYWxsb3dzIGFsbCBzeW5jaHJvbm91cyBjYWxscyBpbiB0aGUgY3VycmVudCBldmVudCBsb29wIHRpY2sgdG8gYmUgY29hbGVzY2VkLlxuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIC8vIFVuLW1hcmsgdGhlIG5vdGlmaWNhdGlvbiBzbyB0aGUgbmV4dCBvbmUgY2FuIGJlIHNjaGVkdWxlZC5cbiAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nRGVib3VuY2VkTm90aWZpY2F0aW9ucy5kZWxldGUobm90aWZpY2F0aW9uLm1ldGhvZCk7XG4gICAgICAgICAgICAgICAgLy8gU0FGRVRZIENIRUNLOiBJZiB0aGUgY29ubmVjdGlvbiB3YXMgY2xvc2VkIHdoaWxlIHRoaXMgd2FzIHBlbmRpbmcsIGFib3J0LlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fdHJhbnNwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QganNvbnJwY05vdGlmaWNhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4ubm90aWZpY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgICBqc29ucnBjOiBcIjIuMFwiLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gU2VuZCB0aGUgbm90aWZpY2F0aW9uLCBidXQgZG9uJ3QgYXdhaXQgaXQgaGVyZSB0byBhdm9pZCBibG9ja2luZy5cbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgcG90ZW50aWFsIGVycm9ycyB3aXRoIGEgLmNhdGNoKCkuXG4gICAgICAgICAgICAgICAgKF9hID0gdGhpcy5fdHJhbnNwb3J0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2VuZChqc29ucnBjTm90aWZpY2F0aW9uLCBvcHRpb25zKS5jYXRjaChlcnJvciA9PiB0aGlzLl9vbmVycm9yKGVycm9yKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIFJldHVybiBpbW1lZGlhdGVseS5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBqc29ucnBjTm90aWZpY2F0aW9uID0ge1xuICAgICAgICAgICAgLi4ubm90aWZpY2F0aW9uLFxuICAgICAgICAgICAganNvbnJwYzogXCIyLjBcIixcbiAgICAgICAgfTtcbiAgICAgICAgYXdhaXQgdGhpcy5fdHJhbnNwb3J0LnNlbmQoanNvbnJwY05vdGlmaWNhdGlvbiwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIGhhbmRsZXIgdG8gaW52b2tlIHdoZW4gdGhpcyBwcm90b2NvbCBvYmplY3QgcmVjZWl2ZXMgYSByZXF1ZXN0IHdpdGggdGhlIGdpdmVuIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCB0aGlzIHdpbGwgcmVwbGFjZSBhbnkgcHJldmlvdXMgcmVxdWVzdCBoYW5kbGVyIGZvciB0aGUgc2FtZSBtZXRob2QuXG4gICAgICovXG4gICAgc2V0UmVxdWVzdEhhbmRsZXIocmVxdWVzdFNjaGVtYSwgaGFuZGxlcikge1xuICAgICAgICBjb25zdCBtZXRob2QgPSByZXF1ZXN0U2NoZW1hLnNoYXBlLm1ldGhvZC52YWx1ZTtcbiAgICAgICAgdGhpcy5hc3NlcnRSZXF1ZXN0SGFuZGxlckNhcGFiaWxpdHkobWV0aG9kKTtcbiAgICAgICAgdGhpcy5fcmVxdWVzdEhhbmRsZXJzLnNldChtZXRob2QsIChyZXF1ZXN0LCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShoYW5kbGVyKHJlcXVlc3RTY2hlbWEucGFyc2UocmVxdWVzdCksIGV4dHJhKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSByZXF1ZXN0IGhhbmRsZXIgZm9yIHRoZSBnaXZlbiBtZXRob2QuXG4gICAgICovXG4gICAgcmVtb3ZlUmVxdWVzdEhhbmRsZXIobWV0aG9kKSB7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RIYW5kbGVycy5kZWxldGUobWV0aG9kKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXNzZXJ0cyB0aGF0IGEgcmVxdWVzdCBoYW5kbGVyIGhhcyBub3QgYWxyZWFkeSBiZWVuIHNldCBmb3IgdGhlIGdpdmVuIG1ldGhvZCwgaW4gcHJlcGFyYXRpb24gZm9yIGEgbmV3IG9uZSBiZWluZyBhdXRvbWF0aWNhbGx5IGluc3RhbGxlZC5cbiAgICAgKi9cbiAgICBhc3NlcnRDYW5TZXRSZXF1ZXN0SGFuZGxlcihtZXRob2QpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RIYW5kbGVycy5oYXMobWV0aG9kKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBIHJlcXVlc3QgaGFuZGxlciBmb3IgJHttZXRob2R9IGFscmVhZHkgZXhpc3RzLCB3aGljaCB3b3VsZCBiZSBvdmVycmlkZGVuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgaGFuZGxlciB0byBpbnZva2Ugd2hlbiB0aGlzIHByb3RvY29sIG9iamVjdCByZWNlaXZlcyBhIG5vdGlmaWNhdGlvbiB3aXRoIHRoZSBnaXZlbiBtZXRob2QuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgdGhpcyB3aWxsIHJlcGxhY2UgYW55IHByZXZpb3VzIG5vdGlmaWNhdGlvbiBoYW5kbGVyIGZvciB0aGUgc2FtZSBtZXRob2QuXG4gICAgICovXG4gICAgc2V0Tm90aWZpY2F0aW9uSGFuZGxlcihub3RpZmljYXRpb25TY2hlbWEsIGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fbm90aWZpY2F0aW9uSGFuZGxlcnMuc2V0KG5vdGlmaWNhdGlvblNjaGVtYS5zaGFwZS5tZXRob2QudmFsdWUsIChub3RpZmljYXRpb24pID0+IFByb21pc2UucmVzb2x2ZShoYW5kbGVyKG5vdGlmaWNhdGlvblNjaGVtYS5wYXJzZShub3RpZmljYXRpb24pKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBub3RpZmljYXRpb24gaGFuZGxlciBmb3IgdGhlIGdpdmVuIG1ldGhvZC5cbiAgICAgKi9cbiAgICByZW1vdmVOb3RpZmljYXRpb25IYW5kbGVyKG1ldGhvZCkge1xuICAgICAgICB0aGlzLl9ub3RpZmljYXRpb25IYW5kbGVycy5kZWxldGUobWV0aG9kKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VDYXBhYmlsaXRpZXMoYmFzZSwgYWRkaXRpb25hbCkge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhhZGRpdGlvbmFsKS5yZWR1Y2UoKGFjYywgW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIGFjY1trZXldID0gYWNjW2tleV0gPyB7IC4uLmFjY1trZXldLCAuLi52YWx1ZSB9IDogdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgeyAuLi5iYXNlIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvdG9jb2wuanMubWFwIiwiLyoqIEBsaWNlbnNlIFVSSS5qcyB2NC40LjEgKGMpIDIwMTEgR2FyeSBDb3VydC4gTGljZW5zZTogaHR0cDovL2dpdGh1Yi5jb20vZ2FyeWNvdXJ0L3VyaS1qcyAqL1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0dHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gZmFjdG9yeShleHBvcnRzKSA6XG5cdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2V4cG9ydHMnXSwgZmFjdG9yeSkgOlxuXHQoZmFjdG9yeSgoZ2xvYmFsLlVSSSA9IGdsb2JhbC5VUkkgfHwge30pKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoZXhwb3J0cykgeyAndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIG1lcmdlKCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBzZXRzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIHNldHNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgaWYgKHNldHMubGVuZ3RoID4gMSkge1xuICAgICAgICBzZXRzWzBdID0gc2V0c1swXS5zbGljZSgwLCAtMSk7XG4gICAgICAgIHZhciB4bCA9IHNldHMubGVuZ3RoIC0gMTtcbiAgICAgICAgZm9yICh2YXIgeCA9IDE7IHggPCB4bDsgKyt4KSB7XG4gICAgICAgICAgICBzZXRzW3hdID0gc2V0c1t4XS5zbGljZSgxLCAtMSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0c1t4bF0gPSBzZXRzW3hsXS5zbGljZSgxKTtcbiAgICAgICAgcmV0dXJuIHNldHMuam9pbignJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNldHNbMF07XG4gICAgfVxufVxuZnVuY3Rpb24gc3ViZXhwKHN0cikge1xuICAgIHJldHVybiBcIig/OlwiICsgc3RyICsgXCIpXCI7XG59XG5mdW5jdGlvbiB0eXBlT2Yobykge1xuICAgIHJldHVybiBvID09PSB1bmRlZmluZWQgPyBcInVuZGVmaW5lZFwiIDogbyA9PT0gbnVsbCA/IFwibnVsbFwiIDogT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNwbGl0KFwiIFwiKS5wb3AoKS5zcGxpdChcIl1cIikuc2hpZnQoKS50b0xvd2VyQ2FzZSgpO1xufVxuZnVuY3Rpb24gdG9VcHBlckNhc2Uoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci50b1VwcGVyQ2FzZSgpO1xufVxuZnVuY3Rpb24gdG9BcnJheShvYmopIHtcbiAgICByZXR1cm4gb2JqICE9PSB1bmRlZmluZWQgJiYgb2JqICE9PSBudWxsID8gb2JqIGluc3RhbmNlb2YgQXJyYXkgPyBvYmogOiB0eXBlb2Ygb2JqLmxlbmd0aCAhPT0gXCJudW1iZXJcIiB8fCBvYmouc3BsaXQgfHwgb2JqLnNldEludGVydmFsIHx8IG9iai5jYWxsID8gW29ial0gOiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChvYmopIDogW107XG59XG5mdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2UpIHtcbiAgICB2YXIgb2JqID0gdGFyZ2V0O1xuICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgb2JqW2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBidWlsZEV4cHMoaXNJUkkpIHtcbiAgICB2YXIgQUxQSEEkJCA9IFwiW0EtWmEtel1cIixcbiAgICAgICAgQ1IkID0gXCJbXFxcXHgwRF1cIixcbiAgICAgICAgRElHSVQkJCA9IFwiWzAtOV1cIixcbiAgICAgICAgRFFVT1RFJCQgPSBcIltcXFxceDIyXVwiLFxuICAgICAgICBIRVhESUckJCA9IG1lcmdlKERJR0lUJCQsIFwiW0EtRmEtZl1cIiksXG4gICAgICAgIC8vY2FzZS1pbnNlbnNpdGl2ZVxuICAgIExGJCQgPSBcIltcXFxceDBBXVwiLFxuICAgICAgICBTUCQkID0gXCJbXFxcXHgyMF1cIixcbiAgICAgICAgUENUX0VOQ09ERUQkID0gc3ViZXhwKHN1YmV4cChcIiVbRUZlZl1cIiArIEhFWERJRyQkICsgXCIlXCIgKyBIRVhESUckJCArIEhFWERJRyQkICsgXCIlXCIgKyBIRVhESUckJCArIEhFWERJRyQkKSArIFwifFwiICsgc3ViZXhwKFwiJVs4OUEtRmEtZl1cIiArIEhFWERJRyQkICsgXCIlXCIgKyBIRVhESUckJCArIEhFWERJRyQkKSArIFwifFwiICsgc3ViZXhwKFwiJVwiICsgSEVYRElHJCQgKyBIRVhESUckJCkpLFxuICAgICAgICAvL2V4cGFuZGVkXG4gICAgR0VOX0RFTElNUyQkID0gXCJbXFxcXDpcXFxcL1xcXFw/XFxcXCNcXFxcW1xcXFxdXFxcXEBdXCIsXG4gICAgICAgIFNVQl9ERUxJTVMkJCA9IFwiW1xcXFwhXFxcXCRcXFxcJlxcXFwnXFxcXChcXFxcKVxcXFwqXFxcXCtcXFxcLFxcXFw7XFxcXD1dXCIsXG4gICAgICAgIFJFU0VSVkVEJCQgPSBtZXJnZShHRU5fREVMSU1TJCQsIFNVQl9ERUxJTVMkJCksXG4gICAgICAgIFVDU0NIQVIkJCA9IGlzSVJJID8gXCJbXFxcXHhBMC1cXFxcdTIwMERcXFxcdTIwMTAtXFxcXHUyMDI5XFxcXHUyMDJGLVxcXFx1RDdGRlxcXFx1RjkwMC1cXFxcdUZEQ0ZcXFxcdUZERjAtXFxcXHVGRkVGXVwiIDogXCJbXVwiLFxuICAgICAgICAvL3N1YnNldCwgZXhjbHVkZXMgYmlkaSBjb250cm9sIGNoYXJhY3RlcnNcbiAgICBJUFJJVkFURSQkID0gaXNJUkkgPyBcIltcXFxcdUUwMDAtXFxcXHVGOEZGXVwiIDogXCJbXVwiLFxuICAgICAgICAvL3N1YnNldFxuICAgIFVOUkVTRVJWRUQkJCA9IG1lcmdlKEFMUEhBJCQsIERJR0lUJCQsIFwiW1xcXFwtXFxcXC5cXFxcX1xcXFx+XVwiLCBVQ1NDSEFSJCQpLFxuICAgICAgICBTQ0hFTUUkID0gc3ViZXhwKEFMUEhBJCQgKyBtZXJnZShBTFBIQSQkLCBESUdJVCQkLCBcIltcXFxcK1xcXFwtXFxcXC5dXCIpICsgXCIqXCIpLFxuICAgICAgICBVU0VSSU5GTyQgPSBzdWJleHAoc3ViZXhwKFBDVF9FTkNPREVEJCArIFwifFwiICsgbWVyZ2UoVU5SRVNFUlZFRCQkLCBTVUJfREVMSU1TJCQsIFwiW1xcXFw6XVwiKSkgKyBcIipcIiksXG4gICAgICAgIERFQ19PQ1RFVCQgPSBzdWJleHAoc3ViZXhwKFwiMjVbMC01XVwiKSArIFwifFwiICsgc3ViZXhwKFwiMlswLTRdXCIgKyBESUdJVCQkKSArIFwifFwiICsgc3ViZXhwKFwiMVwiICsgRElHSVQkJCArIERJR0lUJCQpICsgXCJ8XCIgKyBzdWJleHAoXCJbMS05XVwiICsgRElHSVQkJCkgKyBcInxcIiArIERJR0lUJCQpLFxuICAgICAgICBERUNfT0NURVRfUkVMQVhFRCQgPSBzdWJleHAoc3ViZXhwKFwiMjVbMC01XVwiKSArIFwifFwiICsgc3ViZXhwKFwiMlswLTRdXCIgKyBESUdJVCQkKSArIFwifFwiICsgc3ViZXhwKFwiMVwiICsgRElHSVQkJCArIERJR0lUJCQpICsgXCJ8XCIgKyBzdWJleHAoXCIwP1sxLTldXCIgKyBESUdJVCQkKSArIFwifDA/MD9cIiArIERJR0lUJCQpLFxuICAgICAgICAvL3JlbGF4ZWQgcGFyc2luZyBydWxlc1xuICAgIElQVjRBRERSRVNTJCA9IHN1YmV4cChERUNfT0NURVRfUkVMQVhFRCQgKyBcIlxcXFwuXCIgKyBERUNfT0NURVRfUkVMQVhFRCQgKyBcIlxcXFwuXCIgKyBERUNfT0NURVRfUkVMQVhFRCQgKyBcIlxcXFwuXCIgKyBERUNfT0NURVRfUkVMQVhFRCQpLFxuICAgICAgICBIMTYkID0gc3ViZXhwKEhFWERJRyQkICsgXCJ7MSw0fVwiKSxcbiAgICAgICAgTFMzMiQgPSBzdWJleHAoc3ViZXhwKEgxNiQgKyBcIlxcXFw6XCIgKyBIMTYkKSArIFwifFwiICsgSVBWNEFERFJFU1MkKSxcbiAgICAgICAgSVBWNkFERFJFU1MxJCA9IHN1YmV4cChzdWJleHAoSDE2JCArIFwiXFxcXDpcIikgKyBcIns2fVwiICsgTFMzMiQpLFxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgIDYoIGgxNiBcIjpcIiApIGxzMzJcbiAgICBJUFY2QUREUkVTUzIkID0gc3ViZXhwKFwiXFxcXDpcXFxcOlwiICsgc3ViZXhwKEgxNiQgKyBcIlxcXFw6XCIpICsgXCJ7NX1cIiArIExTMzIkKSxcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgXCI6OlwiIDUoIGgxNiBcIjpcIiApIGxzMzJcbiAgICBJUFY2QUREUkVTUzMkID0gc3ViZXhwKHN1YmV4cChIMTYkKSArIFwiP1xcXFw6XFxcXDpcIiArIHN1YmV4cChIMTYkICsgXCJcXFxcOlwiKSArIFwiezR9XCIgKyBMUzMyJCksXG4gICAgICAgIC8vWyAgICAgICAgICAgICAgIGgxNiBdIFwiOjpcIiA0KCBoMTYgXCI6XCIgKSBsczMyXG4gICAgSVBWNkFERFJFU1M0JCA9IHN1YmV4cChzdWJleHAoc3ViZXhwKEgxNiQgKyBcIlxcXFw6XCIpICsgXCJ7MCwxfVwiICsgSDE2JCkgKyBcIj9cXFxcOlxcXFw6XCIgKyBzdWJleHAoSDE2JCArIFwiXFxcXDpcIikgKyBcInszfVwiICsgTFMzMiQpLFxuICAgICAgICAvL1sgKjEoIGgxNiBcIjpcIiApIGgxNiBdIFwiOjpcIiAzKCBoMTYgXCI6XCIgKSBsczMyXG4gICAgSVBWNkFERFJFU1M1JCA9IHN1YmV4cChzdWJleHAoc3ViZXhwKEgxNiQgKyBcIlxcXFw6XCIpICsgXCJ7MCwyfVwiICsgSDE2JCkgKyBcIj9cXFxcOlxcXFw6XCIgKyBzdWJleHAoSDE2JCArIFwiXFxcXDpcIikgKyBcInsyfVwiICsgTFMzMiQpLFxuICAgICAgICAvL1sgKjIoIGgxNiBcIjpcIiApIGgxNiBdIFwiOjpcIiAyKCBoMTYgXCI6XCIgKSBsczMyXG4gICAgSVBWNkFERFJFU1M2JCA9IHN1YmV4cChzdWJleHAoc3ViZXhwKEgxNiQgKyBcIlxcXFw6XCIpICsgXCJ7MCwzfVwiICsgSDE2JCkgKyBcIj9cXFxcOlxcXFw6XCIgKyBIMTYkICsgXCJcXFxcOlwiICsgTFMzMiQpLFxuICAgICAgICAvL1sgKjMoIGgxNiBcIjpcIiApIGgxNiBdIFwiOjpcIiAgICBoMTYgXCI6XCIgICBsczMyXG4gICAgSVBWNkFERFJFU1M3JCA9IHN1YmV4cChzdWJleHAoc3ViZXhwKEgxNiQgKyBcIlxcXFw6XCIpICsgXCJ7MCw0fVwiICsgSDE2JCkgKyBcIj9cXFxcOlxcXFw6XCIgKyBMUzMyJCksXG4gICAgICAgIC8vWyAqNCggaDE2IFwiOlwiICkgaDE2IF0gXCI6OlwiICAgICAgICAgICAgICBsczMyXG4gICAgSVBWNkFERFJFU1M4JCA9IHN1YmV4cChzdWJleHAoc3ViZXhwKEgxNiQgKyBcIlxcXFw6XCIpICsgXCJ7MCw1fVwiICsgSDE2JCkgKyBcIj9cXFxcOlxcXFw6XCIgKyBIMTYkKSxcbiAgICAgICAgLy9bICo1KCBoMTYgXCI6XCIgKSBoMTYgXSBcIjo6XCIgICAgICAgICAgICAgIGgxNlxuICAgIElQVjZBRERSRVNTOSQgPSBzdWJleHAoc3ViZXhwKHN1YmV4cChIMTYkICsgXCJcXFxcOlwiKSArIFwiezAsNn1cIiArIEgxNiQpICsgXCI/XFxcXDpcXFxcOlwiKSxcbiAgICAgICAgLy9bICo2KCBoMTYgXCI6XCIgKSBoMTYgXSBcIjo6XCJcbiAgICBJUFY2QUREUkVTUyQgPSBzdWJleHAoW0lQVjZBRERSRVNTMSQsIElQVjZBRERSRVNTMiQsIElQVjZBRERSRVNTMyQsIElQVjZBRERSRVNTNCQsIElQVjZBRERSRVNTNSQsIElQVjZBRERSRVNTNiQsIElQVjZBRERSRVNTNyQsIElQVjZBRERSRVNTOCQsIElQVjZBRERSRVNTOSRdLmpvaW4oXCJ8XCIpKSxcbiAgICAgICAgWk9ORUlEJCA9IHN1YmV4cChzdWJleHAoVU5SRVNFUlZFRCQkICsgXCJ8XCIgKyBQQ1RfRU5DT0RFRCQpICsgXCIrXCIpLFxuICAgICAgICAvL1JGQyA2ODc0XG4gICAgSVBWNkFERFJaJCA9IHN1YmV4cChJUFY2QUREUkVTUyQgKyBcIlxcXFwlMjVcIiArIFpPTkVJRCQpLFxuICAgICAgICAvL1JGQyA2ODc0XG4gICAgSVBWNkFERFJaX1JFTEFYRUQkID0gc3ViZXhwKElQVjZBRERSRVNTJCArIHN1YmV4cChcIlxcXFwlMjV8XFxcXCUoPyFcIiArIEhFWERJRyQkICsgXCJ7Mn0pXCIpICsgWk9ORUlEJCksXG4gICAgICAgIC8vUkZDIDY4NzQsIHdpdGggcmVsYXhlZCBwYXJzaW5nIHJ1bGVzXG4gICAgSVBWRlVUVVJFJCA9IHN1YmV4cChcIlt2Vl1cIiArIEhFWERJRyQkICsgXCIrXFxcXC5cIiArIG1lcmdlKFVOUkVTRVJWRUQkJCwgU1VCX0RFTElNUyQkLCBcIltcXFxcOl1cIikgKyBcIitcIiksXG4gICAgICAgIElQX0xJVEVSQUwkID0gc3ViZXhwKFwiXFxcXFtcIiArIHN1YmV4cChJUFY2QUREUlpfUkVMQVhFRCQgKyBcInxcIiArIElQVjZBRERSRVNTJCArIFwifFwiICsgSVBWRlVUVVJFJCkgKyBcIlxcXFxdXCIpLFxuICAgICAgICAvL1JGQyA2ODc0XG4gICAgUkVHX05BTUUkID0gc3ViZXhwKHN1YmV4cChQQ1RfRU5DT0RFRCQgKyBcInxcIiArIG1lcmdlKFVOUkVTRVJWRUQkJCwgU1VCX0RFTElNUyQkKSkgKyBcIipcIiksXG4gICAgICAgIEhPU1QkID0gc3ViZXhwKElQX0xJVEVSQUwkICsgXCJ8XCIgKyBJUFY0QUREUkVTUyQgKyBcIig/IVwiICsgUkVHX05BTUUkICsgXCIpXCIgKyBcInxcIiArIFJFR19OQU1FJCksXG4gICAgICAgIFBPUlQkID0gc3ViZXhwKERJR0lUJCQgKyBcIipcIiksXG4gICAgICAgIEFVVEhPUklUWSQgPSBzdWJleHAoc3ViZXhwKFVTRVJJTkZPJCArIFwiQFwiKSArIFwiP1wiICsgSE9TVCQgKyBzdWJleHAoXCJcXFxcOlwiICsgUE9SVCQpICsgXCI/XCIpLFxuICAgICAgICBQQ0hBUiQgPSBzdWJleHAoUENUX0VOQ09ERUQkICsgXCJ8XCIgKyBtZXJnZShVTlJFU0VSVkVEJCQsIFNVQl9ERUxJTVMkJCwgXCJbXFxcXDpcXFxcQF1cIikpLFxuICAgICAgICBTRUdNRU5UJCA9IHN1YmV4cChQQ0hBUiQgKyBcIipcIiksXG4gICAgICAgIFNFR01FTlRfTlokID0gc3ViZXhwKFBDSEFSJCArIFwiK1wiKSxcbiAgICAgICAgU0VHTUVOVF9OWl9OQyQgPSBzdWJleHAoc3ViZXhwKFBDVF9FTkNPREVEJCArIFwifFwiICsgbWVyZ2UoVU5SRVNFUlZFRCQkLCBTVUJfREVMSU1TJCQsIFwiW1xcXFxAXVwiKSkgKyBcIitcIiksXG4gICAgICAgIFBBVEhfQUJFTVBUWSQgPSBzdWJleHAoc3ViZXhwKFwiXFxcXC9cIiArIFNFR01FTlQkKSArIFwiKlwiKSxcbiAgICAgICAgUEFUSF9BQlNPTFVURSQgPSBzdWJleHAoXCJcXFxcL1wiICsgc3ViZXhwKFNFR01FTlRfTlokICsgUEFUSF9BQkVNUFRZJCkgKyBcIj9cIiksXG4gICAgICAgIC8vc2ltcGxpZmllZFxuICAgIFBBVEhfTk9TQ0hFTUUkID0gc3ViZXhwKFNFR01FTlRfTlpfTkMkICsgUEFUSF9BQkVNUFRZJCksXG4gICAgICAgIC8vc2ltcGxpZmllZFxuICAgIFBBVEhfUk9PVExFU1MkID0gc3ViZXhwKFNFR01FTlRfTlokICsgUEFUSF9BQkVNUFRZJCksXG4gICAgICAgIC8vc2ltcGxpZmllZFxuICAgIFBBVEhfRU1QVFkkID0gXCIoPyFcIiArIFBDSEFSJCArIFwiKVwiLFxuICAgICAgICBQQVRIJCA9IHN1YmV4cChQQVRIX0FCRU1QVFkkICsgXCJ8XCIgKyBQQVRIX0FCU09MVVRFJCArIFwifFwiICsgUEFUSF9OT1NDSEVNRSQgKyBcInxcIiArIFBBVEhfUk9PVExFU1MkICsgXCJ8XCIgKyBQQVRIX0VNUFRZJCksXG4gICAgICAgIFFVRVJZJCA9IHN1YmV4cChzdWJleHAoUENIQVIkICsgXCJ8XCIgKyBtZXJnZShcIltcXFxcL1xcXFw/XVwiLCBJUFJJVkFURSQkKSkgKyBcIipcIiksXG4gICAgICAgIEZSQUdNRU5UJCA9IHN1YmV4cChzdWJleHAoUENIQVIkICsgXCJ8W1xcXFwvXFxcXD9dXCIpICsgXCIqXCIpLFxuICAgICAgICBISUVSX1BBUlQkID0gc3ViZXhwKHN1YmV4cChcIlxcXFwvXFxcXC9cIiArIEFVVEhPUklUWSQgKyBQQVRIX0FCRU1QVFkkKSArIFwifFwiICsgUEFUSF9BQlNPTFVURSQgKyBcInxcIiArIFBBVEhfUk9PVExFU1MkICsgXCJ8XCIgKyBQQVRIX0VNUFRZJCksXG4gICAgICAgIFVSSSQgPSBzdWJleHAoU0NIRU1FJCArIFwiXFxcXDpcIiArIEhJRVJfUEFSVCQgKyBzdWJleHAoXCJcXFxcP1wiICsgUVVFUlkkKSArIFwiP1wiICsgc3ViZXhwKFwiXFxcXCNcIiArIEZSQUdNRU5UJCkgKyBcIj9cIiksXG4gICAgICAgIFJFTEFUSVZFX1BBUlQkID0gc3ViZXhwKHN1YmV4cChcIlxcXFwvXFxcXC9cIiArIEFVVEhPUklUWSQgKyBQQVRIX0FCRU1QVFkkKSArIFwifFwiICsgUEFUSF9BQlNPTFVURSQgKyBcInxcIiArIFBBVEhfTk9TQ0hFTUUkICsgXCJ8XCIgKyBQQVRIX0VNUFRZJCksXG4gICAgICAgIFJFTEFUSVZFJCA9IHN1YmV4cChSRUxBVElWRV9QQVJUJCArIHN1YmV4cChcIlxcXFw/XCIgKyBRVUVSWSQpICsgXCI/XCIgKyBzdWJleHAoXCJcXFxcI1wiICsgRlJBR01FTlQkKSArIFwiP1wiKSxcbiAgICAgICAgVVJJX1JFRkVSRU5DRSQgPSBzdWJleHAoVVJJJCArIFwifFwiICsgUkVMQVRJVkUkKSxcbiAgICAgICAgQUJTT0xVVEVfVVJJJCA9IHN1YmV4cChTQ0hFTUUkICsgXCJcXFxcOlwiICsgSElFUl9QQVJUJCArIHN1YmV4cChcIlxcXFw/XCIgKyBRVUVSWSQpICsgXCI/XCIpLFxuICAgICAgICBHRU5FUklDX1JFRiQgPSBcIl4oXCIgKyBTQ0hFTUUkICsgXCIpXFxcXDpcIiArIHN1YmV4cChzdWJleHAoXCJcXFxcL1xcXFwvKFwiICsgc3ViZXhwKFwiKFwiICsgVVNFUklORk8kICsgXCIpQFwiKSArIFwiPyhcIiArIEhPU1QkICsgXCIpXCIgKyBzdWJleHAoXCJcXFxcOihcIiArIFBPUlQkICsgXCIpXCIpICsgXCI/KVwiKSArIFwiPyhcIiArIFBBVEhfQUJFTVBUWSQgKyBcInxcIiArIFBBVEhfQUJTT0xVVEUkICsgXCJ8XCIgKyBQQVRIX1JPT1RMRVNTJCArIFwifFwiICsgUEFUSF9FTVBUWSQgKyBcIilcIikgKyBzdWJleHAoXCJcXFxcPyhcIiArIFFVRVJZJCArIFwiKVwiKSArIFwiP1wiICsgc3ViZXhwKFwiXFxcXCMoXCIgKyBGUkFHTUVOVCQgKyBcIilcIikgKyBcIj8kXCIsXG4gICAgICAgIFJFTEFUSVZFX1JFRiQgPSBcIl4oKXswfVwiICsgc3ViZXhwKHN1YmV4cChcIlxcXFwvXFxcXC8oXCIgKyBzdWJleHAoXCIoXCIgKyBVU0VSSU5GTyQgKyBcIilAXCIpICsgXCI/KFwiICsgSE9TVCQgKyBcIilcIiArIHN1YmV4cChcIlxcXFw6KFwiICsgUE9SVCQgKyBcIilcIikgKyBcIj8pXCIpICsgXCI/KFwiICsgUEFUSF9BQkVNUFRZJCArIFwifFwiICsgUEFUSF9BQlNPTFVURSQgKyBcInxcIiArIFBBVEhfTk9TQ0hFTUUkICsgXCJ8XCIgKyBQQVRIX0VNUFRZJCArIFwiKVwiKSArIHN1YmV4cChcIlxcXFw/KFwiICsgUVVFUlkkICsgXCIpXCIpICsgXCI/XCIgKyBzdWJleHAoXCJcXFxcIyhcIiArIEZSQUdNRU5UJCArIFwiKVwiKSArIFwiPyRcIixcbiAgICAgICAgQUJTT0xVVEVfUkVGJCA9IFwiXihcIiArIFNDSEVNRSQgKyBcIilcXFxcOlwiICsgc3ViZXhwKHN1YmV4cChcIlxcXFwvXFxcXC8oXCIgKyBzdWJleHAoXCIoXCIgKyBVU0VSSU5GTyQgKyBcIilAXCIpICsgXCI/KFwiICsgSE9TVCQgKyBcIilcIiArIHN1YmV4cChcIlxcXFw6KFwiICsgUE9SVCQgKyBcIilcIikgKyBcIj8pXCIpICsgXCI/KFwiICsgUEFUSF9BQkVNUFRZJCArIFwifFwiICsgUEFUSF9BQlNPTFVURSQgKyBcInxcIiArIFBBVEhfUk9PVExFU1MkICsgXCJ8XCIgKyBQQVRIX0VNUFRZJCArIFwiKVwiKSArIHN1YmV4cChcIlxcXFw/KFwiICsgUVVFUlkkICsgXCIpXCIpICsgXCI/JFwiLFxuICAgICAgICBTQU1FRE9DX1JFRiQgPSBcIl5cIiArIHN1YmV4cChcIlxcXFwjKFwiICsgRlJBR01FTlQkICsgXCIpXCIpICsgXCI/JFwiLFxuICAgICAgICBBVVRIT1JJVFlfUkVGJCA9IFwiXlwiICsgc3ViZXhwKFwiKFwiICsgVVNFUklORk8kICsgXCIpQFwiKSArIFwiPyhcIiArIEhPU1QkICsgXCIpXCIgKyBzdWJleHAoXCJcXFxcOihcIiArIFBPUlQkICsgXCIpXCIpICsgXCI/JFwiO1xuICAgIHJldHVybiB7XG4gICAgICAgIE5PVF9TQ0hFTUU6IG5ldyBSZWdFeHAobWVyZ2UoXCJbXl1cIiwgQUxQSEEkJCwgRElHSVQkJCwgXCJbXFxcXCtcXFxcLVxcXFwuXVwiKSwgXCJnXCIpLFxuICAgICAgICBOT1RfVVNFUklORk86IG5ldyBSZWdFeHAobWVyZ2UoXCJbXlxcXFwlXFxcXDpdXCIsIFVOUkVTRVJWRUQkJCwgU1VCX0RFTElNUyQkKSwgXCJnXCIpLFxuICAgICAgICBOT1RfSE9TVDogbmV3IFJlZ0V4cChtZXJnZShcIlteXFxcXCVcXFxcW1xcXFxdXFxcXDpdXCIsIFVOUkVTRVJWRUQkJCwgU1VCX0RFTElNUyQkKSwgXCJnXCIpLFxuICAgICAgICBOT1RfUEFUSDogbmV3IFJlZ0V4cChtZXJnZShcIlteXFxcXCVcXFxcL1xcXFw6XFxcXEBdXCIsIFVOUkVTRVJWRUQkJCwgU1VCX0RFTElNUyQkKSwgXCJnXCIpLFxuICAgICAgICBOT1RfUEFUSF9OT1NDSEVNRTogbmV3IFJlZ0V4cChtZXJnZShcIlteXFxcXCVcXFxcL1xcXFxAXVwiLCBVTlJFU0VSVkVEJCQsIFNVQl9ERUxJTVMkJCksIFwiZ1wiKSxcbiAgICAgICAgTk9UX1FVRVJZOiBuZXcgUmVnRXhwKG1lcmdlKFwiW15cXFxcJV1cIiwgVU5SRVNFUlZFRCQkLCBTVUJfREVMSU1TJCQsIFwiW1xcXFw6XFxcXEBcXFxcL1xcXFw/XVwiLCBJUFJJVkFURSQkKSwgXCJnXCIpLFxuICAgICAgICBOT1RfRlJBR01FTlQ6IG5ldyBSZWdFeHAobWVyZ2UoXCJbXlxcXFwlXVwiLCBVTlJFU0VSVkVEJCQsIFNVQl9ERUxJTVMkJCwgXCJbXFxcXDpcXFxcQFxcXFwvXFxcXD9dXCIpLCBcImdcIiksXG4gICAgICAgIEVTQ0FQRTogbmV3IFJlZ0V4cChtZXJnZShcIlteXVwiLCBVTlJFU0VSVkVEJCQsIFNVQl9ERUxJTVMkJCksIFwiZ1wiKSxcbiAgICAgICAgVU5SRVNFUlZFRDogbmV3IFJlZ0V4cChVTlJFU0VSVkVEJCQsIFwiZ1wiKSxcbiAgICAgICAgT1RIRVJfQ0hBUlM6IG5ldyBSZWdFeHAobWVyZ2UoXCJbXlxcXFwlXVwiLCBVTlJFU0VSVkVEJCQsIFJFU0VSVkVEJCQpLCBcImdcIiksXG4gICAgICAgIFBDVF9FTkNPREVEOiBuZXcgUmVnRXhwKFBDVF9FTkNPREVEJCwgXCJnXCIpLFxuICAgICAgICBJUFY0QUREUkVTUzogbmV3IFJlZ0V4cChcIl4oXCIgKyBJUFY0QUREUkVTUyQgKyBcIikkXCIpLFxuICAgICAgICBJUFY2QUREUkVTUzogbmV3IFJlZ0V4cChcIl5cXFxcWz8oXCIgKyBJUFY2QUREUkVTUyQgKyBcIilcIiArIHN1YmV4cChzdWJleHAoXCJcXFxcJTI1fFxcXFwlKD8hXCIgKyBIRVhESUckJCArIFwiezJ9KVwiKSArIFwiKFwiICsgWk9ORUlEJCArIFwiKVwiKSArIFwiP1xcXFxdPyRcIikgLy9SRkMgNjg3NCwgd2l0aCByZWxheGVkIHBhcnNpbmcgcnVsZXNcbiAgICB9O1xufVxudmFyIFVSSV9QUk9UT0NPTCA9IGJ1aWxkRXhwcyhmYWxzZSk7XG5cbnZhciBJUklfUFJPVE9DT0wgPSBidWlsZEV4cHModHJ1ZSk7XG5cbnZhciBzbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkge1xuICAgIHZhciBfYXJyID0gW107XG4gICAgdmFyIF9uID0gdHJ1ZTtcbiAgICB2YXIgX2QgPSBmYWxzZTtcbiAgICB2YXIgX2UgPSB1bmRlZmluZWQ7XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kID0gdHJ1ZTtcbiAgICAgIF9lID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdKSBfaVtcInJldHVyblwiXSgpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gX2FycjtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgICAgcmV0dXJuIGFycjtcbiAgICB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkge1xuICAgICAgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7XG4gICAgfVxuICB9O1xufSgpO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG52YXIgdG9Db25zdW1hYmxlQXJyYXkgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuXG4gICAgcmV0dXJuIGFycjI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oYXJyKTtcbiAgfVxufTtcblxuLyoqIEhpZ2hlc3QgcG9zaXRpdmUgc2lnbmVkIDMyLWJpdCBmbG9hdCB2YWx1ZSAqL1xuXG52YXIgbWF4SW50ID0gMjE0NzQ4MzY0NzsgLy8gYWthLiAweDdGRkZGRkZGIG9yIDJeMzEtMVxuXG4vKiogQm9vdHN0cmluZyBwYXJhbWV0ZXJzICovXG52YXIgYmFzZSA9IDM2O1xudmFyIHRNaW4gPSAxO1xudmFyIHRNYXggPSAyNjtcbnZhciBza2V3ID0gMzg7XG52YXIgZGFtcCA9IDcwMDtcbnZhciBpbml0aWFsQmlhcyA9IDcyO1xudmFyIGluaXRpYWxOID0gMTI4OyAvLyAweDgwXG52YXIgZGVsaW1pdGVyID0gJy0nOyAvLyAnXFx4MkQnXG5cbi8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovXG52YXIgcmVnZXhQdW55Y29kZSA9IC9eeG4tLS87XG52YXIgcmVnZXhOb25BU0NJSSA9IC9bXlxcMC1cXHg3RV0vOyAvLyBub24tQVNDSUkgY2hhcnNcbnZhciByZWdleFNlcGFyYXRvcnMgPSAvW1xceDJFXFx1MzAwMlxcdUZGMEVcXHVGRjYxXS9nOyAvLyBSRkMgMzQ5MCBzZXBhcmF0b3JzXG5cbi8qKiBFcnJvciBtZXNzYWdlcyAqL1xudmFyIGVycm9ycyA9IHtcblx0J292ZXJmbG93JzogJ092ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzJyxcblx0J25vdC1iYXNpYyc6ICdJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpJyxcblx0J2ludmFsaWQtaW5wdXQnOiAnSW52YWxpZCBpbnB1dCdcbn07XG5cbi8qKiBDb252ZW5pZW5jZSBzaG9ydGN1dHMgKi9cbnZhciBiYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW47XG52YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xudmFyIHN0cmluZ0Zyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGU7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4vKipcbiAqIEEgZ2VuZXJpYyBlcnJvciB1dGlsaXR5IGZ1bmN0aW9uLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLlxuICogQHJldHVybnMge0Vycm9yfSBUaHJvd3MgYSBgUmFuZ2VFcnJvcmAgd2l0aCB0aGUgYXBwbGljYWJsZSBlcnJvciBtZXNzYWdlLlxuICovXG5mdW5jdGlvbiBlcnJvciQxKHR5cGUpIHtcblx0dGhyb3cgbmV3IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTtcbn1cblxuLyoqXG4gKiBBIGdlbmVyaWMgYEFycmF5I21hcGAgdXRpbGl0eSBmdW5jdGlvbi5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5IGFycmF5XG4gKiBpdGVtLlxuICogQHJldHVybnMge0FycmF5fSBBIG5ldyBhcnJheSBvZiB2YWx1ZXMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBtYXAoYXJyYXksIGZuKSB7XG5cdHZhciByZXN1bHQgPSBbXTtcblx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0d2hpbGUgKGxlbmd0aC0tKSB7XG5cdFx0cmVzdWx0W2xlbmd0aF0gPSBmbihhcnJheVtsZW5ndGhdKTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEEgc2ltcGxlIGBBcnJheSNtYXBgLWxpa2Ugd3JhcHBlciB0byB3b3JrIHdpdGggZG9tYWluIG5hbWUgc3RyaW5ncyBvciBlbWFpbFxuICogYWRkcmVzc2VzLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnlcbiAqIGNoYXJhY3Rlci5cbiAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgc3RyaW5nIG9mIGNoYXJhY3RlcnMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrXG4gKiBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gbWFwRG9tYWluKHN0cmluZywgZm4pIHtcblx0dmFyIHBhcnRzID0gc3RyaW5nLnNwbGl0KCdAJyk7XG5cdHZhciByZXN1bHQgPSAnJztcblx0aWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcblx0XHQvLyBJbiBlbWFpbCBhZGRyZXNzZXMsIG9ubHkgdGhlIGRvbWFpbiBuYW1lIHNob3VsZCBiZSBwdW55Y29kZWQuIExlYXZlXG5cdFx0Ly8gdGhlIGxvY2FsIHBhcnQgKGkuZS4gZXZlcnl0aGluZyB1cCB0byBgQGApIGludGFjdC5cblx0XHRyZXN1bHQgPSBwYXJ0c1swXSArICdAJztcblx0XHRzdHJpbmcgPSBwYXJ0c1sxXTtcblx0fVxuXHQvLyBBdm9pZCBgc3BsaXQocmVnZXgpYCBmb3IgSUU4IGNvbXBhdGliaWxpdHkuIFNlZSAjMTcuXG5cdHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKHJlZ2V4U2VwYXJhdG9ycywgJ1xceDJFJyk7XG5cdHZhciBsYWJlbHMgPSBzdHJpbmcuc3BsaXQoJy4nKTtcblx0dmFyIGVuY29kZWQgPSBtYXAobGFiZWxzLCBmbikuam9pbignLicpO1xuXHRyZXR1cm4gcmVzdWx0ICsgZW5jb2RlZDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIG51bWVyaWMgY29kZSBwb2ludHMgb2YgZWFjaCBVbmljb2RlXG4gKiBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZy4gV2hpbGUgSmF2YVNjcmlwdCB1c2VzIFVDUy0yIGludGVybmFsbHksXG4gKiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udmVydCBhIHBhaXIgb2Ygc3Vycm9nYXRlIGhhbHZlcyAoZWFjaCBvZiB3aGljaFxuICogVUNTLTIgZXhwb3NlcyBhcyBzZXBhcmF0ZSBjaGFyYWN0ZXJzKSBpbnRvIGEgc2luZ2xlIGNvZGUgcG9pbnQsXG4gKiBtYXRjaGluZyBVVEYtMTYuXG4gKiBAc2VlIGBwdW55Y29kZS51Y3MyLmVuY29kZWBcbiAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcbiAqIEBuYW1lIGRlY29kZVxuICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyBUaGUgVW5pY29kZSBpbnB1dCBzdHJpbmcgKFVDUy0yKS5cbiAqIEByZXR1cm5zIHtBcnJheX0gVGhlIG5ldyBhcnJheSBvZiBjb2RlIHBvaW50cy5cbiAqL1xuZnVuY3Rpb24gdWNzMmRlY29kZShzdHJpbmcpIHtcblx0dmFyIG91dHB1dCA9IFtdO1xuXHR2YXIgY291bnRlciA9IDA7XG5cdHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuXHR3aGlsZSAoY291bnRlciA8IGxlbmd0aCkge1xuXHRcdHZhciB2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0aWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0Ly8gSXQncyBhIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3Rlci5cblx0XHRcdHZhciBleHRyYSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHtcblx0XHRcdFx0Ly8gTG93IHN1cnJvZ2F0ZS5cblx0XHRcdFx0b3V0cHV0LnB1c2goKCh2YWx1ZSAmIDB4M0ZGKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNGRikgKyAweDEwMDAwKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIEl0J3MgYW4gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlXG5cdFx0XHRcdC8vIG5leHQgY29kZSB1bml0IGlzIHRoZSBoaWdoIHN1cnJvZ2F0ZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyLlxuXHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdGNvdW50ZXItLTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gb3V0cHV0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBzdHJpbmcgYmFzZWQgb24gYW4gYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cbiAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYFxuICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcbiAqIEBuYW1lIGVuY29kZVxuICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS5cbiAqL1xudmFyIHVjczJlbmNvZGUgPSBmdW5jdGlvbiB1Y3MyZW5jb2RlKGFycmF5KSB7XG5cdHJldHVybiBTdHJpbmcuZnJvbUNvZGVQb2ludC5hcHBseShTdHJpbmcsIHRvQ29uc3VtYWJsZUFycmF5KGFycmF5KSk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgYmFzaWMgY29kZSBwb2ludCBpbnRvIGEgZGlnaXQvaW50ZWdlci5cbiAqIEBzZWUgYGRpZ2l0VG9CYXNpYygpYFxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlUG9pbnQgVGhlIGJhc2ljIG51bWVyaWMgY29kZSBwb2ludCB2YWx1ZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludCAoZm9yIHVzZSBpblxuICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpbiB0aGUgcmFuZ2UgYDBgIHRvIGBiYXNlIC0gMWAsIG9yIGBiYXNlYCBpZlxuICogdGhlIGNvZGUgcG9pbnQgZG9lcyBub3QgcmVwcmVzZW50IGEgdmFsdWUuXG4gKi9cbnZhciBiYXNpY1RvRGlnaXQgPSBmdW5jdGlvbiBiYXNpY1RvRGlnaXQoY29kZVBvaW50KSB7XG5cdGlmIChjb2RlUG9pbnQgLSAweDMwIDwgMHgwQSkge1xuXHRcdHJldHVybiBjb2RlUG9pbnQgLSAweDE2O1xuXHR9XG5cdGlmIChjb2RlUG9pbnQgLSAweDQxIDwgMHgxQSkge1xuXHRcdHJldHVybiBjb2RlUG9pbnQgLSAweDQxO1xuXHR9XG5cdGlmIChjb2RlUG9pbnQgLSAweDYxIDwgMHgxQSkge1xuXHRcdHJldHVybiBjb2RlUG9pbnQgLSAweDYxO1xuXHR9XG5cdHJldHVybiBiYXNlO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuXG4gKiBAc2VlIGBiYXNpY1RvRGlnaXQoKWBcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LlxuICogQHJldHVybnMge051bWJlcn0gVGhlIGJhc2ljIGNvZGUgcG9pbnQgd2hvc2UgdmFsdWUgKHdoZW4gdXNlZCBmb3JcbiAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlXG4gKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXNcbiAqIHVzZWQ7IGVsc2UsIHRoZSBsb3dlcmNhc2UgZm9ybSBpcyB1c2VkLiBUaGUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkXG4gKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLlxuICovXG52YXIgZGlnaXRUb0Jhc2ljID0gZnVuY3Rpb24gZGlnaXRUb0Jhc2ljKGRpZ2l0LCBmbGFnKSB7XG5cdC8vICAwLi4yNSBtYXAgdG8gQVNDSUkgYS4ueiBvciBBLi5aXG5cdC8vIDI2Li4zNSBtYXAgdG8gQVNDSUkgMC4uOVxuXHRyZXR1cm4gZGlnaXQgKyAyMiArIDc1ICogKGRpZ2l0IDwgMjYpIC0gKChmbGFnICE9IDApIDw8IDUpO1xufTtcblxuLyoqXG4gKiBCaWFzIGFkYXB0YXRpb24gZnVuY3Rpb24gYXMgcGVyIHNlY3Rpb24gMy40IG9mIFJGQyAzNDkyLlxuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0OTIjc2VjdGlvbi0zLjRcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBhZGFwdCA9IGZ1bmN0aW9uIGFkYXB0KGRlbHRhLCBudW1Qb2ludHMsIGZpcnN0VGltZSkge1xuXHR2YXIgayA9IDA7XG5cdGRlbHRhID0gZmlyc3RUaW1lID8gZmxvb3IoZGVsdGEgLyBkYW1wKSA6IGRlbHRhID4+IDE7XG5cdGRlbHRhICs9IGZsb29yKGRlbHRhIC8gbnVtUG9pbnRzKTtcblx0Zm9yICg7IC8qIG5vIGluaXRpYWxpemF0aW9uICovZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxOyBrICs9IGJhc2UpIHtcblx0XHRkZWx0YSA9IGZsb29yKGRlbHRhIC8gYmFzZU1pbnVzVE1pbik7XG5cdH1cblx0cmV0dXJuIGZsb29yKGsgKyAoYmFzZU1pbnVzVE1pbiArIDEpICogZGVsdGEgLyAoZGVsdGEgKyBza2V3KSk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scyB0byBhIHN0cmluZyBvZiBVbmljb2RlXG4gKiBzeW1ib2xzLlxuICogQG1lbWJlck9mIHB1bnljb2RlXG4gKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG4gKi9cbnZhciBkZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUoaW5wdXQpIHtcblx0Ly8gRG9uJ3QgdXNlIFVDUy0yLlxuXHR2YXIgb3V0cHV0ID0gW107XG5cdHZhciBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcblx0dmFyIGkgPSAwO1xuXHR2YXIgbiA9IGluaXRpYWxOO1xuXHR2YXIgYmlhcyA9IGluaXRpYWxCaWFzO1xuXG5cdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHM6IGxldCBgYmFzaWNgIGJlIHRoZSBudW1iZXIgb2YgaW5wdXQgY29kZVxuXHQvLyBwb2ludHMgYmVmb3JlIHRoZSBsYXN0IGRlbGltaXRlciwgb3IgYDBgIGlmIHRoZXJlIGlzIG5vbmUsIHRoZW4gY29weVxuXHQvLyB0aGUgZmlyc3QgYmFzaWMgY29kZSBwb2ludHMgdG8gdGhlIG91dHB1dC5cblxuXHR2YXIgYmFzaWMgPSBpbnB1dC5sYXN0SW5kZXhPZihkZWxpbWl0ZXIpO1xuXHRpZiAoYmFzaWMgPCAwKSB7XG5cdFx0YmFzaWMgPSAwO1xuXHR9XG5cblx0Zm9yICh2YXIgaiA9IDA7IGogPCBiYXNpYzsgKytqKSB7XG5cdFx0Ly8gaWYgaXQncyBub3QgYSBiYXNpYyBjb2RlIHBvaW50XG5cdFx0aWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkge1xuXHRcdFx0ZXJyb3IkMSgnbm90LWJhc2ljJyk7XG5cdFx0fVxuXHRcdG91dHB1dC5wdXNoKGlucHV0LmNoYXJDb2RlQXQoaikpO1xuXHR9XG5cblx0Ly8gTWFpbiBkZWNvZGluZyBsb29wOiBzdGFydCBqdXN0IGFmdGVyIHRoZSBsYXN0IGRlbGltaXRlciBpZiBhbnkgYmFzaWMgY29kZVxuXHQvLyBwb2ludHMgd2VyZSBjb3BpZWQ7IHN0YXJ0IGF0IHRoZSBiZWdpbm5pbmcgb3RoZXJ3aXNlLlxuXG5cdGZvciAodmFyIGluZGV4ID0gYmFzaWMgPiAwID8gYmFzaWMgKyAxIDogMDsgaW5kZXggPCBpbnB1dExlbmd0aDspIC8qIG5vIGZpbmFsIGV4cHJlc3Npb24gKi97XG5cblx0XHQvLyBgaW5kZXhgIGlzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBjaGFyYWN0ZXIgdG8gYmUgY29uc3VtZWQuXG5cdFx0Ly8gRGVjb2RlIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXIgaW50byBgZGVsdGFgLFxuXHRcdC8vIHdoaWNoIGdldHMgYWRkZWQgdG8gYGlgLiBUaGUgb3ZlcmZsb3cgY2hlY2tpbmcgaXMgZWFzaWVyXG5cdFx0Ly8gaWYgd2UgaW5jcmVhc2UgYGlgIGFzIHdlIGdvLCB0aGVuIHN1YnRyYWN0IG9mZiBpdHMgc3RhcnRpbmdcblx0XHQvLyB2YWx1ZSBhdCB0aGUgZW5kIHRvIG9idGFpbiBgZGVsdGFgLlxuXHRcdHZhciBvbGRpID0gaTtcblx0XHRmb3IgKHZhciB3ID0gMSwgayA9IGJhc2U7OyAvKiBubyBjb25kaXRpb24gKi9rICs9IGJhc2UpIHtcblxuXHRcdFx0aWYgKGluZGV4ID49IGlucHV0TGVuZ3RoKSB7XG5cdFx0XHRcdGVycm9yJDEoJ2ludmFsaWQtaW5wdXQnKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGRpZ2l0ID0gYmFzaWNUb0RpZ2l0KGlucHV0LmNoYXJDb2RlQXQoaW5kZXgrKykpO1xuXG5cdFx0XHRpZiAoZGlnaXQgPj0gYmFzZSB8fCBkaWdpdCA+IGZsb29yKChtYXhJbnQgLSBpKSAvIHcpKSB7XG5cdFx0XHRcdGVycm9yJDEoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdGkgKz0gZGlnaXQgKiB3O1xuXHRcdFx0dmFyIHQgPSBrIDw9IGJpYXMgPyB0TWluIDogayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcztcblxuXHRcdFx0aWYgKGRpZ2l0IDwgdCkge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblxuXHRcdFx0dmFyIGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdGlmICh3ID4gZmxvb3IobWF4SW50IC8gYmFzZU1pbnVzVCkpIHtcblx0XHRcdFx0ZXJyb3IkMSgnb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0dyAqPSBiYXNlTWludXNUO1xuXHRcdH1cblxuXHRcdHZhciBvdXQgPSBvdXRwdXQubGVuZ3RoICsgMTtcblx0XHRiaWFzID0gYWRhcHQoaSAtIG9sZGksIG91dCwgb2xkaSA9PSAwKTtcblxuXHRcdC8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsXG5cdFx0Ly8gaW5jcmVtZW50aW5nIGBuYCBlYWNoIHRpbWUsIHNvIHdlJ2xsIGZpeCB0aGF0IG5vdzpcblx0XHRpZiAoZmxvb3IoaSAvIG91dCkgPiBtYXhJbnQgLSBuKSB7XG5cdFx0XHRlcnJvciQxKCdvdmVyZmxvdycpO1xuXHRcdH1cblxuXHRcdG4gKz0gZmxvb3IoaSAvIG91dCk7XG5cdFx0aSAlPSBvdXQ7XG5cblx0XHQvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0LlxuXHRcdG91dHB1dC5zcGxpY2UoaSsrLCAwLCBuKTtcblx0fVxuXG5cdHJldHVybiBTdHJpbmcuZnJvbUNvZGVQb2ludC5hcHBseShTdHJpbmcsIG91dHB1dCk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scyAoZS5nLiBhIGRvbWFpbiBuYW1lIGxhYmVsKSB0byBhXG4gKiBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuICogQG1lbWJlck9mIHB1bnljb2RlXG4gKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG4gKi9cbnZhciBlbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUoaW5wdXQpIHtcblx0dmFyIG91dHB1dCA9IFtdO1xuXG5cdC8vIENvbnZlcnQgdGhlIGlucHV0IGluIFVDUy0yIHRvIGFuIGFycmF5IG9mIFVuaWNvZGUgY29kZSBwb2ludHMuXG5cdGlucHV0ID0gdWNzMmRlY29kZShpbnB1dCk7XG5cblx0Ly8gQ2FjaGUgdGhlIGxlbmd0aC5cblx0dmFyIGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuXG5cdC8vIEluaXRpYWxpemUgdGhlIHN0YXRlLlxuXHR2YXIgbiA9IGluaXRpYWxOO1xuXHR2YXIgZGVsdGEgPSAwO1xuXHR2YXIgYmlhcyA9IGluaXRpYWxCaWFzO1xuXG5cdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHMuXG5cdHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0dmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuXHR0cnkge1xuXHRcdGZvciAodmFyIF9pdGVyYXRvciA9IGlucHV0W1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuXHRcdFx0dmFyIF9jdXJyZW50VmFsdWUyID0gX3N0ZXAudmFsdWU7XG5cblx0XHRcdGlmIChfY3VycmVudFZhbHVlMiA8IDB4ODApIHtcblx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKF9jdXJyZW50VmFsdWUyKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG5cdFx0X2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG5cdH0gZmluYWxseSB7XG5cdFx0dHJ5IHtcblx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG5cdFx0XHRcdF9pdGVyYXRvci5yZXR1cm4oKTtcblx0XHRcdH1cblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0aWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG5cdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHZhciBiYXNpY0xlbmd0aCA9IG91dHB1dC5sZW5ndGg7XG5cdHZhciBoYW5kbGVkQ1BDb3VudCA9IGJhc2ljTGVuZ3RoO1xuXG5cdC8vIGBoYW5kbGVkQ1BDb3VudGAgaXMgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyB0aGF0IGhhdmUgYmVlbiBoYW5kbGVkO1xuXHQvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuXG5cblx0Ly8gRmluaXNoIHRoZSBiYXNpYyBzdHJpbmcgd2l0aCBhIGRlbGltaXRlciB1bmxlc3MgaXQncyBlbXB0eS5cblx0aWYgKGJhc2ljTGVuZ3RoKSB7XG5cdFx0b3V0cHV0LnB1c2goZGVsaW1pdGVyKTtcblx0fVxuXG5cdC8vIE1haW4gZW5jb2RpbmcgbG9vcDpcblx0d2hpbGUgKGhhbmRsZWRDUENvdW50IDwgaW5wdXRMZW5ndGgpIHtcblxuXHRcdC8vIEFsbCBub24tYmFzaWMgY29kZSBwb2ludHMgPCBuIGhhdmUgYmVlbiBoYW5kbGVkIGFscmVhZHkuIEZpbmQgdGhlIG5leHRcblx0XHQvLyBsYXJnZXIgb25lOlxuXHRcdHZhciBtID0gbWF4SW50O1xuXHRcdHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG5cdFx0dmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuXHRcdHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cblx0XHR0cnkge1xuXHRcdFx0Zm9yICh2YXIgX2l0ZXJhdG9yMiA9IGlucHV0W1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG5cdFx0XHRcdHZhciBjdXJyZW50VmFsdWUgPSBfc3RlcDIudmFsdWU7XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA+PSBuICYmIGN1cnJlbnRWYWx1ZSA8IG0pIHtcblx0XHRcdFx0XHRtID0gY3VycmVudFZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEluY3JlYXNlIGBkZWx0YWAgZW5vdWdoIHRvIGFkdmFuY2UgdGhlIGRlY29kZXIncyA8bixpPiBzdGF0ZSB0byA8bSwwPixcblx0XHRcdC8vIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93LlxuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcblx0XHRcdF9pdGVyYXRvckVycm9yMiA9IGVycjtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuXHRcdFx0XHRcdF9pdGVyYXRvcjIucmV0dXJuKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcblx0XHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHR2YXIgaGFuZGxlZENQQ291bnRQbHVzT25lID0gaGFuZGxlZENQQ291bnQgKyAxO1xuXHRcdGlmIChtIC0gbiA+IGZsb29yKChtYXhJbnQgLSBkZWx0YSkgLyBoYW5kbGVkQ1BDb3VudFBsdXNPbmUpKSB7XG5cdFx0XHRlcnJvciQxKCdvdmVyZmxvdycpO1xuXHRcdH1cblxuXHRcdGRlbHRhICs9IChtIC0gbikgKiBoYW5kbGVkQ1BDb3VudFBsdXNPbmU7XG5cdFx0biA9IG07XG5cblx0XHR2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xuXHRcdHZhciBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcblx0XHR2YXIgX2l0ZXJhdG9yRXJyb3IzID0gdW5kZWZpbmVkO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGZvciAodmFyIF9pdGVyYXRvcjMgPSBpbnB1dFtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMzsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IChfc3RlcDMgPSBfaXRlcmF0b3IzLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZSkge1xuXHRcdFx0XHR2YXIgX2N1cnJlbnRWYWx1ZSA9IF9zdGVwMy52YWx1ZTtcblxuXHRcdFx0XHRpZiAoX2N1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkge1xuXHRcdFx0XHRcdGVycm9yJDEoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKF9jdXJyZW50VmFsdWUgPT0gbikge1xuXHRcdFx0XHRcdC8vIFJlcHJlc2VudCBkZWx0YSBhcyBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyLlxuXHRcdFx0XHRcdHZhciBxID0gZGVsdGE7XG5cdFx0XHRcdFx0Zm9yICh2YXIgayA9IGJhc2U7OyAvKiBubyBjb25kaXRpb24gKi9rICs9IGJhc2UpIHtcblx0XHRcdFx0XHRcdHZhciB0ID0gayA8PSBiaWFzID8gdE1pbiA6IGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXM7XG5cdFx0XHRcdFx0XHRpZiAocSA8IHQpIHtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR2YXIgcU1pbnVzVCA9IHEgLSB0O1xuXHRcdFx0XHRcdFx0dmFyIGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSkpO1xuXHRcdFx0XHRcdFx0cSA9IGZsb29yKHFNaW51c1QgLyBiYXNlTWludXNUKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHEsIDApKSk7XG5cdFx0XHRcdFx0YmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTtcblx0XHRcdFx0XHRkZWx0YSA9IDA7XG5cdFx0XHRcdFx0KytoYW5kbGVkQ1BDb3VudDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTtcblx0XHRcdF9pdGVyYXRvckVycm9yMyA9IGVycjtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzLnJldHVybikge1xuXHRcdFx0XHRcdF9pdGVyYXRvcjMucmV0dXJuKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdGlmIChfZGlkSXRlcmF0b3JFcnJvcjMpIHtcblx0XHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjM7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQrK2RlbHRhO1xuXHRcdCsrbjtcblx0fVxuXHRyZXR1cm4gb3V0cHV0LmpvaW4oJycpO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzXG4gKiB0byBVbmljb2RlLiBPbmx5IHRoZSBQdW55Y29kZWQgcGFydHMgb2YgdGhlIGlucHV0IHdpbGwgYmUgY29udmVydGVkLCBpLmUuXG4gKiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCBvbiBhIHN0cmluZyB0aGF0IGhhcyBhbHJlYWR5IGJlZW5cbiAqIGNvbnZlcnRlZCB0byBVbmljb2RlLlxuICogQG1lbWJlck9mIHB1bnljb2RlXG4gKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlZCBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvXG4gKiBjb252ZXJ0IHRvIFVuaWNvZGUuXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgVW5pY29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gUHVueWNvZGVcbiAqIHN0cmluZy5cbiAqL1xudmFyIHRvVW5pY29kZSA9IGZ1bmN0aW9uIHRvVW5pY29kZShpbnB1dCkge1xuXHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbiAoc3RyaW5nKSB7XG5cdFx0cmV0dXJuIHJlZ2V4UHVueWNvZGUudGVzdChzdHJpbmcpID8gZGVjb2RlKHN0cmluZy5zbGljZSg0KS50b0xvd2VyQ2FzZSgpKSA6IHN0cmluZztcblx0fSk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgVW5pY29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzcyB0b1xuICogUHVueWNvZGUuIE9ubHkgdGhlIG5vbi1BU0NJSSBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgd2lsbCBiZSBjb252ZXJ0ZWQsXG4gKiBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCdzIGFscmVhZHkgaW5cbiAqIEFTQ0lJLlxuICogQG1lbWJlck9mIHB1bnljb2RlXG4gKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8gY29udmVydCwgYXMgYVxuICogVW5pY29kZSBzdHJpbmcuXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgUHVueWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIGRvbWFpbiBuYW1lIG9yXG4gKiBlbWFpbCBhZGRyZXNzLlxuICovXG52YXIgdG9BU0NJSSA9IGZ1bmN0aW9uIHRvQVNDSUkoaW5wdXQpIHtcblx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24gKHN0cmluZykge1xuXHRcdHJldHVybiByZWdleE5vbkFTQ0lJLnRlc3Qoc3RyaW5nKSA/ICd4bi0tJyArIGVuY29kZShzdHJpbmcpIDogc3RyaW5nO1xuXHR9KTtcbn07XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4vKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovXG52YXIgcHVueWNvZGUgPSB7XG5cdC8qKlxuICAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBQdW55Y29kZS5qcyB2ZXJzaW9uIG51bWJlci5cbiAgKiBAbWVtYmVyT2YgcHVueWNvZGVcbiAgKiBAdHlwZSBTdHJpbmdcbiAgKi9cblx0J3ZlcnNpb24nOiAnMi4xLjAnLFxuXHQvKipcbiAgKiBBbiBvYmplY3Qgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGZyb20gSmF2YVNjcmlwdCdzIGludGVybmFsIGNoYXJhY3RlclxuICAqIHJlcHJlc2VudGF0aW9uIChVQ1MtMikgdG8gVW5pY29kZSBjb2RlIHBvaW50cywgYW5kIGJhY2suXG4gICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG4gICogQG1lbWJlck9mIHB1bnljb2RlXG4gICogQHR5cGUgT2JqZWN0XG4gICovXG5cdCd1Y3MyJzoge1xuXHRcdCdkZWNvZGUnOiB1Y3MyZGVjb2RlLFxuXHRcdCdlbmNvZGUnOiB1Y3MyZW5jb2RlXG5cdH0sXG5cdCdkZWNvZGUnOiBkZWNvZGUsXG5cdCdlbmNvZGUnOiBlbmNvZGUsXG5cdCd0b0FTQ0lJJzogdG9BU0NJSSxcblx0J3RvVW5pY29kZSc6IHRvVW5pY29kZVxufTtcblxuLyoqXG4gKiBVUkkuanNcbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IEFuIFJGQyAzOTg2IGNvbXBsaWFudCwgc2NoZW1lIGV4dGVuZGFibGUgVVJJIHBhcnNpbmcvdmFsaWRhdGluZy9yZXNvbHZpbmcgbGlicmFyeSBmb3IgSmF2YVNjcmlwdC5cbiAqIEBhdXRob3IgPGEgaHJlZj1cIm1haWx0bzpnYXJ5LmNvdXJ0QGdtYWlsLmNvbVwiPkdhcnkgQ291cnQ8L2E+XG4gKiBAc2VlIGh0dHA6Ly9naXRodWIuY29tL2dhcnljb3VydC91cmktanNcbiAqL1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAxMSBHYXJ5IENvdXJ0LiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sIGFyZVxuICogcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG4gKlxuICogICAgMS4gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2ZcbiAqICAgICAgIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqXG4gKiAgICAyLiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdFxuICogICAgICAgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHNcbiAqICAgICAgIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqXG4gKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIEdBUlkgQ09VUlQgYGBBUyBJUycnIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEXG4gKiBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgR0FSWSBDT1VSVCBPUlxuICogQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1JcbiAqIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1JcbiAqIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT05cbiAqIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkdcbiAqIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRlxuICogQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKlxuICogVGhlIHZpZXdzIGFuZCBjb25jbHVzaW9ucyBjb250YWluZWQgaW4gdGhlIHNvZnR3YXJlIGFuZCBkb2N1bWVudGF0aW9uIGFyZSB0aG9zZSBvZiB0aGVcbiAqIGF1dGhvcnMgYW5kIHNob3VsZCBub3QgYmUgaW50ZXJwcmV0ZWQgYXMgcmVwcmVzZW50aW5nIG9mZmljaWFsIHBvbGljaWVzLCBlaXRoZXIgZXhwcmVzc2VkXG4gKiBvciBpbXBsaWVkLCBvZiBHYXJ5IENvdXJ0LlxuICovXG52YXIgU0NIRU1FUyA9IHt9O1xuZnVuY3Rpb24gcGN0RW5jQ2hhcihjaHIpIHtcbiAgICB2YXIgYyA9IGNoci5jaGFyQ29kZUF0KDApO1xuICAgIHZhciBlID0gdm9pZCAwO1xuICAgIGlmIChjIDwgMTYpIGUgPSBcIiUwXCIgKyBjLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO2Vsc2UgaWYgKGMgPCAxMjgpIGUgPSBcIiVcIiArIGMudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7ZWxzZSBpZiAoYyA8IDIwNDgpIGUgPSBcIiVcIiArIChjID4+IDYgfCAxOTIpLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpICsgXCIlXCIgKyAoYyAmIDYzIHwgMTI4KS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtlbHNlIGUgPSBcIiVcIiArIChjID4+IDEyIHwgMjI0KS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKSArIFwiJVwiICsgKGMgPj4gNiAmIDYzIHwgMTI4KS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKSArIFwiJVwiICsgKGMgJiA2MyB8IDEyOCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG4gICAgcmV0dXJuIGU7XG59XG5mdW5jdGlvbiBwY3REZWNDaGFycyhzdHIpIHtcbiAgICB2YXIgbmV3U3RyID0gXCJcIjtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGlsID0gc3RyLmxlbmd0aDtcbiAgICB3aGlsZSAoaSA8IGlsKSB7XG4gICAgICAgIHZhciBjID0gcGFyc2VJbnQoc3RyLnN1YnN0cihpICsgMSwgMiksIDE2KTtcbiAgICAgICAgaWYgKGMgPCAxMjgpIHtcbiAgICAgICAgICAgIG5ld1N0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMpO1xuICAgICAgICAgICAgaSArPSAzO1xuICAgICAgICB9IGVsc2UgaWYgKGMgPj0gMTk0ICYmIGMgPCAyMjQpIHtcbiAgICAgICAgICAgIGlmIChpbCAtIGkgPj0gNikge1xuICAgICAgICAgICAgICAgIHZhciBjMiA9IHBhcnNlSW50KHN0ci5zdWJzdHIoaSArIDQsIDIpLCAxNik7XG4gICAgICAgICAgICAgICAgbmV3U3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKGMgJiAzMSkgPDwgNiB8IGMyICYgNjMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdTdHIgKz0gc3RyLnN1YnN0cihpLCA2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkgKz0gNjtcbiAgICAgICAgfSBlbHNlIGlmIChjID49IDIyNCkge1xuICAgICAgICAgICAgaWYgKGlsIC0gaSA+PSA5KSB7XG4gICAgICAgICAgICAgICAgdmFyIF9jID0gcGFyc2VJbnQoc3RyLnN1YnN0cihpICsgNCwgMiksIDE2KTtcbiAgICAgICAgICAgICAgICB2YXIgYzMgPSBwYXJzZUludChzdHIuc3Vic3RyKGkgKyA3LCAyKSwgMTYpO1xuICAgICAgICAgICAgICAgIG5ld1N0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChjICYgMTUpIDw8IDEyIHwgKF9jICYgNjMpIDw8IDYgfCBjMyAmIDYzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3U3RyICs9IHN0ci5zdWJzdHIoaSwgOSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpICs9IDk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdTdHIgKz0gc3RyLnN1YnN0cihpLCAzKTtcbiAgICAgICAgICAgIGkgKz0gMztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3U3RyO1xufVxuZnVuY3Rpb24gX25vcm1hbGl6ZUNvbXBvbmVudEVuY29kaW5nKGNvbXBvbmVudHMsIHByb3RvY29sKSB7XG4gICAgZnVuY3Rpb24gZGVjb2RlVW5yZXNlcnZlZChzdHIpIHtcbiAgICAgICAgdmFyIGRlY1N0ciA9IHBjdERlY0NoYXJzKHN0cik7XG4gICAgICAgIHJldHVybiAhZGVjU3RyLm1hdGNoKHByb3RvY29sLlVOUkVTRVJWRUQpID8gc3RyIDogZGVjU3RyO1xuICAgIH1cbiAgICBpZiAoY29tcG9uZW50cy5zY2hlbWUpIGNvbXBvbmVudHMuc2NoZW1lID0gU3RyaW5nKGNvbXBvbmVudHMuc2NoZW1lKS5yZXBsYWNlKHByb3RvY29sLlBDVF9FTkNPREVELCBkZWNvZGVVbnJlc2VydmVkKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UocHJvdG9jb2wuTk9UX1NDSEVNRSwgXCJcIik7XG4gICAgaWYgKGNvbXBvbmVudHMudXNlcmluZm8gIT09IHVuZGVmaW5lZCkgY29tcG9uZW50cy51c2VyaW5mbyA9IFN0cmluZyhjb21wb25lbnRzLnVzZXJpbmZvKS5yZXBsYWNlKHByb3RvY29sLlBDVF9FTkNPREVELCBkZWNvZGVVbnJlc2VydmVkKS5yZXBsYWNlKHByb3RvY29sLk5PVF9VU0VSSU5GTywgcGN0RW5jQ2hhcikucmVwbGFjZShwcm90b2NvbC5QQ1RfRU5DT0RFRCwgdG9VcHBlckNhc2UpO1xuICAgIGlmIChjb21wb25lbnRzLmhvc3QgIT09IHVuZGVmaW5lZCkgY29tcG9uZW50cy5ob3N0ID0gU3RyaW5nKGNvbXBvbmVudHMuaG9zdCkucmVwbGFjZShwcm90b2NvbC5QQ1RfRU5DT0RFRCwgZGVjb2RlVW5yZXNlcnZlZCkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKHByb3RvY29sLk5PVF9IT1NULCBwY3RFbmNDaGFyKS5yZXBsYWNlKHByb3RvY29sLlBDVF9FTkNPREVELCB0b1VwcGVyQ2FzZSk7XG4gICAgaWYgKGNvbXBvbmVudHMucGF0aCAhPT0gdW5kZWZpbmVkKSBjb21wb25lbnRzLnBhdGggPSBTdHJpbmcoY29tcG9uZW50cy5wYXRoKS5yZXBsYWNlKHByb3RvY29sLlBDVF9FTkNPREVELCBkZWNvZGVVbnJlc2VydmVkKS5yZXBsYWNlKGNvbXBvbmVudHMuc2NoZW1lID8gcHJvdG9jb2wuTk9UX1BBVEggOiBwcm90b2NvbC5OT1RfUEFUSF9OT1NDSEVNRSwgcGN0RW5jQ2hhcikucmVwbGFjZShwcm90b2NvbC5QQ1RfRU5DT0RFRCwgdG9VcHBlckNhc2UpO1xuICAgIGlmIChjb21wb25lbnRzLnF1ZXJ5ICE9PSB1bmRlZmluZWQpIGNvbXBvbmVudHMucXVlcnkgPSBTdHJpbmcoY29tcG9uZW50cy5xdWVyeSkucmVwbGFjZShwcm90b2NvbC5QQ1RfRU5DT0RFRCwgZGVjb2RlVW5yZXNlcnZlZCkucmVwbGFjZShwcm90b2NvbC5OT1RfUVVFUlksIHBjdEVuY0NoYXIpLnJlcGxhY2UocHJvdG9jb2wuUENUX0VOQ09ERUQsIHRvVXBwZXJDYXNlKTtcbiAgICBpZiAoY29tcG9uZW50cy5mcmFnbWVudCAhPT0gdW5kZWZpbmVkKSBjb21wb25lbnRzLmZyYWdtZW50ID0gU3RyaW5nKGNvbXBvbmVudHMuZnJhZ21lbnQpLnJlcGxhY2UocHJvdG9jb2wuUENUX0VOQ09ERUQsIGRlY29kZVVucmVzZXJ2ZWQpLnJlcGxhY2UocHJvdG9jb2wuTk9UX0ZSQUdNRU5ULCBwY3RFbmNDaGFyKS5yZXBsYWNlKHByb3RvY29sLlBDVF9FTkNPREVELCB0b1VwcGVyQ2FzZSk7XG4gICAgcmV0dXJuIGNvbXBvbmVudHM7XG59XG5cbmZ1bmN0aW9uIF9zdHJpcExlYWRpbmdaZXJvcyhzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL14wKiguKikvLCBcIiQxXCIpIHx8IFwiMFwiO1xufVxuZnVuY3Rpb24gX25vcm1hbGl6ZUlQdjQoaG9zdCwgcHJvdG9jb2wpIHtcbiAgICB2YXIgbWF0Y2hlcyA9IGhvc3QubWF0Y2gocHJvdG9jb2wuSVBWNEFERFJFU1MpIHx8IFtdO1xuXG4gICAgdmFyIF9tYXRjaGVzID0gc2xpY2VkVG9BcnJheShtYXRjaGVzLCAyKSxcbiAgICAgICAgYWRkcmVzcyA9IF9tYXRjaGVzWzFdO1xuXG4gICAgaWYgKGFkZHJlc3MpIHtcbiAgICAgICAgcmV0dXJuIGFkZHJlc3Muc3BsaXQoXCIuXCIpLm1hcChfc3RyaXBMZWFkaW5nWmVyb3MpLmpvaW4oXCIuXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBob3N0O1xuICAgIH1cbn1cbmZ1bmN0aW9uIF9ub3JtYWxpemVJUHY2KGhvc3QsIHByb3RvY29sKSB7XG4gICAgdmFyIG1hdGNoZXMgPSBob3N0Lm1hdGNoKHByb3RvY29sLklQVjZBRERSRVNTKSB8fCBbXTtcblxuICAgIHZhciBfbWF0Y2hlczIgPSBzbGljZWRUb0FycmF5KG1hdGNoZXMsIDMpLFxuICAgICAgICBhZGRyZXNzID0gX21hdGNoZXMyWzFdLFxuICAgICAgICB6b25lID0gX21hdGNoZXMyWzJdO1xuXG4gICAgaWYgKGFkZHJlc3MpIHtcbiAgICAgICAgdmFyIF9hZGRyZXNzJHRvTG93ZXJDYXNlJCA9IGFkZHJlc3MudG9Mb3dlckNhc2UoKS5zcGxpdCgnOjonKS5yZXZlcnNlKCksXG4gICAgICAgICAgICBfYWRkcmVzcyR0b0xvd2VyQ2FzZSQyID0gc2xpY2VkVG9BcnJheShfYWRkcmVzcyR0b0xvd2VyQ2FzZSQsIDIpLFxuICAgICAgICAgICAgbGFzdCA9IF9hZGRyZXNzJHRvTG93ZXJDYXNlJDJbMF0sXG4gICAgICAgICAgICBmaXJzdCA9IF9hZGRyZXNzJHRvTG93ZXJDYXNlJDJbMV07XG5cbiAgICAgICAgdmFyIGZpcnN0RmllbGRzID0gZmlyc3QgPyBmaXJzdC5zcGxpdChcIjpcIikubWFwKF9zdHJpcExlYWRpbmdaZXJvcykgOiBbXTtcbiAgICAgICAgdmFyIGxhc3RGaWVsZHMgPSBsYXN0LnNwbGl0KFwiOlwiKS5tYXAoX3N0cmlwTGVhZGluZ1plcm9zKTtcbiAgICAgICAgdmFyIGlzTGFzdEZpZWxkSVB2NEFkZHJlc3MgPSBwcm90b2NvbC5JUFY0QUREUkVTUy50ZXN0KGxhc3RGaWVsZHNbbGFzdEZpZWxkcy5sZW5ndGggLSAxXSk7XG4gICAgICAgIHZhciBmaWVsZENvdW50ID0gaXNMYXN0RmllbGRJUHY0QWRkcmVzcyA/IDcgOiA4O1xuICAgICAgICB2YXIgbGFzdEZpZWxkc1N0YXJ0ID0gbGFzdEZpZWxkcy5sZW5ndGggLSBmaWVsZENvdW50O1xuICAgICAgICB2YXIgZmllbGRzID0gQXJyYXkoZmllbGRDb3VudCk7XG4gICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgZmllbGRDb3VudDsgKyt4KSB7XG4gICAgICAgICAgICBmaWVsZHNbeF0gPSBmaXJzdEZpZWxkc1t4XSB8fCBsYXN0RmllbGRzW2xhc3RGaWVsZHNTdGFydCArIHhdIHx8ICcnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0xhc3RGaWVsZElQdjRBZGRyZXNzKSB7XG4gICAgICAgICAgICBmaWVsZHNbZmllbGRDb3VudCAtIDFdID0gX25vcm1hbGl6ZUlQdjQoZmllbGRzW2ZpZWxkQ291bnQgLSAxXSwgcHJvdG9jb2wpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhbGxaZXJvRmllbGRzID0gZmllbGRzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBmaWVsZCwgaW5kZXgpIHtcbiAgICAgICAgICAgIGlmICghZmllbGQgfHwgZmllbGQgPT09IFwiMFwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxhc3RMb25nZXN0ID0gYWNjW2FjYy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdExvbmdlc3QgJiYgbGFzdExvbmdlc3QuaW5kZXggKyBsYXN0TG9uZ2VzdC5sZW5ndGggPT09IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RMb25nZXN0Lmxlbmd0aCsrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFjYy5wdXNoKHsgaW5kZXg6IGluZGV4LCBsZW5ndGg6IDEgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwgW10pO1xuICAgICAgICB2YXIgbG9uZ2VzdFplcm9GaWVsZHMgPSBhbGxaZXJvRmllbGRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBiLmxlbmd0aCAtIGEubGVuZ3RoO1xuICAgICAgICB9KVswXTtcbiAgICAgICAgdmFyIG5ld0hvc3QgPSB2b2lkIDA7XG4gICAgICAgIGlmIChsb25nZXN0WmVyb0ZpZWxkcyAmJiBsb25nZXN0WmVyb0ZpZWxkcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB2YXIgbmV3Rmlyc3QgPSBmaWVsZHMuc2xpY2UoMCwgbG9uZ2VzdFplcm9GaWVsZHMuaW5kZXgpO1xuICAgICAgICAgICAgdmFyIG5ld0xhc3QgPSBmaWVsZHMuc2xpY2UobG9uZ2VzdFplcm9GaWVsZHMuaW5kZXggKyBsb25nZXN0WmVyb0ZpZWxkcy5sZW5ndGgpO1xuICAgICAgICAgICAgbmV3SG9zdCA9IG5ld0ZpcnN0LmpvaW4oXCI6XCIpICsgXCI6OlwiICsgbmV3TGFzdC5qb2luKFwiOlwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld0hvc3QgPSBmaWVsZHMuam9pbihcIjpcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHpvbmUpIHtcbiAgICAgICAgICAgIG5ld0hvc3QgKz0gXCIlXCIgKyB6b25lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdIb3N0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBob3N0O1xuICAgIH1cbn1cbnZhciBVUklfUEFSU0UgPSAvXig/OihbXjpcXC8/I10rKTopPyg/OlxcL1xcLygoPzooW15cXC8/I0BdKilAKT8oXFxbW15cXC8/I1xcXV0rXFxdfFteXFwvPyM6XSopKD86XFw6KFxcZCopKT8pKT8oW14/I10qKSg/OlxcPyhbXiNdKikpPyg/OiMoKD86LnxcXG58XFxyKSopKT8vaTtcbnZhciBOT19NQVRDSF9JU19VTkRFRklORUQgPSBcIlwiLm1hdGNoKC8oKXswfS8pWzFdID09PSB1bmRlZmluZWQ7XG5mdW5jdGlvbiBwYXJzZSh1cmlTdHJpbmcpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICB2YXIgY29tcG9uZW50cyA9IHt9O1xuICAgIHZhciBwcm90b2NvbCA9IG9wdGlvbnMuaXJpICE9PSBmYWxzZSA/IElSSV9QUk9UT0NPTCA6IFVSSV9QUk9UT0NPTDtcbiAgICBpZiAob3B0aW9ucy5yZWZlcmVuY2UgPT09IFwic3VmZml4XCIpIHVyaVN0cmluZyA9IChvcHRpb25zLnNjaGVtZSA/IG9wdGlvbnMuc2NoZW1lICsgXCI6XCIgOiBcIlwiKSArIFwiLy9cIiArIHVyaVN0cmluZztcbiAgICB2YXIgbWF0Y2hlcyA9IHVyaVN0cmluZy5tYXRjaChVUklfUEFSU0UpO1xuICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgIGlmIChOT19NQVRDSF9JU19VTkRFRklORUQpIHtcbiAgICAgICAgICAgIC8vc3RvcmUgZWFjaCBjb21wb25lbnRcbiAgICAgICAgICAgIGNvbXBvbmVudHMuc2NoZW1lID0gbWF0Y2hlc1sxXTtcbiAgICAgICAgICAgIGNvbXBvbmVudHMudXNlcmluZm8gPSBtYXRjaGVzWzNdO1xuICAgICAgICAgICAgY29tcG9uZW50cy5ob3N0ID0gbWF0Y2hlc1s0XTtcbiAgICAgICAgICAgIGNvbXBvbmVudHMucG9ydCA9IHBhcnNlSW50KG1hdGNoZXNbNV0sIDEwKTtcbiAgICAgICAgICAgIGNvbXBvbmVudHMucGF0aCA9IG1hdGNoZXNbNl0gfHwgXCJcIjtcbiAgICAgICAgICAgIGNvbXBvbmVudHMucXVlcnkgPSBtYXRjaGVzWzddO1xuICAgICAgICAgICAgY29tcG9uZW50cy5mcmFnbWVudCA9IG1hdGNoZXNbOF07XG4gICAgICAgICAgICAvL2ZpeCBwb3J0IG51bWJlclxuICAgICAgICAgICAgaWYgKGlzTmFOKGNvbXBvbmVudHMucG9ydCkpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzLnBvcnQgPSBtYXRjaGVzWzVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9JRSBGSVggZm9yIGltcHJvcGVyIFJlZ0V4cCBtYXRjaGluZ1xuICAgICAgICAgICAgLy9zdG9yZSBlYWNoIGNvbXBvbmVudFxuICAgICAgICAgICAgY29tcG9uZW50cy5zY2hlbWUgPSBtYXRjaGVzWzFdIHx8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbXBvbmVudHMudXNlcmluZm8gPSB1cmlTdHJpbmcuaW5kZXhPZihcIkBcIikgIT09IC0xID8gbWF0Y2hlc1szXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbXBvbmVudHMuaG9zdCA9IHVyaVN0cmluZy5pbmRleE9mKFwiLy9cIikgIT09IC0xID8gbWF0Y2hlc1s0XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbXBvbmVudHMucG9ydCA9IHBhcnNlSW50KG1hdGNoZXNbNV0sIDEwKTtcbiAgICAgICAgICAgIGNvbXBvbmVudHMucGF0aCA9IG1hdGNoZXNbNl0gfHwgXCJcIjtcbiAgICAgICAgICAgIGNvbXBvbmVudHMucXVlcnkgPSB1cmlTdHJpbmcuaW5kZXhPZihcIj9cIikgIT09IC0xID8gbWF0Y2hlc1s3XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbXBvbmVudHMuZnJhZ21lbnQgPSB1cmlTdHJpbmcuaW5kZXhPZihcIiNcIikgIT09IC0xID8gbWF0Y2hlc1s4XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIC8vZml4IHBvcnQgbnVtYmVyXG4gICAgICAgICAgICBpZiAoaXNOYU4oY29tcG9uZW50cy5wb3J0KSkge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudHMucG9ydCA9IHVyaVN0cmluZy5tYXRjaCgvXFwvXFwvKD86LnxcXG4pKlxcOig/OlxcL3xcXD98XFwjfCQpLykgPyBtYXRjaGVzWzRdIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wb25lbnRzLmhvc3QpIHtcbiAgICAgICAgICAgIC8vbm9ybWFsaXplIElQIGhvc3RzXG4gICAgICAgICAgICBjb21wb25lbnRzLmhvc3QgPSBfbm9ybWFsaXplSVB2Nihfbm9ybWFsaXplSVB2NChjb21wb25lbnRzLmhvc3QsIHByb3RvY29sKSwgcHJvdG9jb2wpO1xuICAgICAgICB9XG4gICAgICAgIC8vZGV0ZXJtaW5lIHJlZmVyZW5jZSB0eXBlXG4gICAgICAgIGlmIChjb21wb25lbnRzLnNjaGVtZSA9PT0gdW5kZWZpbmVkICYmIGNvbXBvbmVudHMudXNlcmluZm8gPT09IHVuZGVmaW5lZCAmJiBjb21wb25lbnRzLmhvc3QgPT09IHVuZGVmaW5lZCAmJiBjb21wb25lbnRzLnBvcnQgPT09IHVuZGVmaW5lZCAmJiAhY29tcG9uZW50cy5wYXRoICYmIGNvbXBvbmVudHMucXVlcnkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29tcG9uZW50cy5yZWZlcmVuY2UgPSBcInNhbWUtZG9jdW1lbnRcIjtcbiAgICAgICAgfSBlbHNlIGlmIChjb21wb25lbnRzLnNjaGVtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb21wb25lbnRzLnJlZmVyZW5jZSA9IFwicmVsYXRpdmVcIjtcbiAgICAgICAgfSBlbHNlIGlmIChjb21wb25lbnRzLmZyYWdtZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudHMucmVmZXJlbmNlID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29tcG9uZW50cy5yZWZlcmVuY2UgPSBcInVyaVwiO1xuICAgICAgICB9XG4gICAgICAgIC8vY2hlY2sgZm9yIHJlZmVyZW5jZSBlcnJvcnNcbiAgICAgICAgaWYgKG9wdGlvbnMucmVmZXJlbmNlICYmIG9wdGlvbnMucmVmZXJlbmNlICE9PSBcInN1ZmZpeFwiICYmIG9wdGlvbnMucmVmZXJlbmNlICE9PSBjb21wb25lbnRzLnJlZmVyZW5jZSkge1xuICAgICAgICAgICAgY29tcG9uZW50cy5lcnJvciA9IGNvbXBvbmVudHMuZXJyb3IgfHwgXCJVUkkgaXMgbm90IGEgXCIgKyBvcHRpb25zLnJlZmVyZW5jZSArIFwiIHJlZmVyZW5jZS5cIjtcbiAgICAgICAgfVxuICAgICAgICAvL2ZpbmQgc2NoZW1lIGhhbmRsZXJcbiAgICAgICAgdmFyIHNjaGVtZUhhbmRsZXIgPSBTQ0hFTUVTWyhvcHRpb25zLnNjaGVtZSB8fCBjb21wb25lbnRzLnNjaGVtZSB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgLy9jaGVjayBpZiBzY2hlbWUgY2FuJ3QgaGFuZGxlIElSSXNcbiAgICAgICAgaWYgKCFvcHRpb25zLnVuaWNvZGVTdXBwb3J0ICYmICghc2NoZW1lSGFuZGxlciB8fCAhc2NoZW1lSGFuZGxlci51bmljb2RlU3VwcG9ydCkpIHtcbiAgICAgICAgICAgIC8vaWYgaG9zdCBjb21wb25lbnQgaXMgYSBkb21haW4gbmFtZVxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudHMuaG9zdCAmJiAob3B0aW9ucy5kb21haW5Ib3N0IHx8IHNjaGVtZUhhbmRsZXIgJiYgc2NoZW1lSGFuZGxlci5kb21haW5Ib3N0KSkge1xuICAgICAgICAgICAgICAgIC8vY29udmVydCBVbmljb2RlIElETiAtPiBBU0NJSSBJRE5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzLmhvc3QgPSBwdW55Y29kZS50b0FTQ0lJKGNvbXBvbmVudHMuaG9zdC5yZXBsYWNlKHByb3RvY29sLlBDVF9FTkNPREVELCBwY3REZWNDaGFycykudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzLmVycm9yID0gY29tcG9uZW50cy5lcnJvciB8fCBcIkhvc3QncyBkb21haW4gbmFtZSBjYW4gbm90IGJlIGNvbnZlcnRlZCB0byBBU0NJSSB2aWEgcHVueWNvZGU6IFwiICsgZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2NvbnZlcnQgSVJJIC0+IFVSSVxuICAgICAgICAgICAgX25vcm1hbGl6ZUNvbXBvbmVudEVuY29kaW5nKGNvbXBvbmVudHMsIFVSSV9QUk9UT0NPTCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL25vcm1hbGl6ZSBlbmNvZGluZ3NcbiAgICAgICAgICAgIF9ub3JtYWxpemVDb21wb25lbnRFbmNvZGluZyhjb21wb25lbnRzLCBwcm90b2NvbCk7XG4gICAgICAgIH1cbiAgICAgICAgLy9wZXJmb3JtIHNjaGVtZSBzcGVjaWZpYyBwYXJzaW5nXG4gICAgICAgIGlmIChzY2hlbWVIYW5kbGVyICYmIHNjaGVtZUhhbmRsZXIucGFyc2UpIHtcbiAgICAgICAgICAgIHNjaGVtZUhhbmRsZXIucGFyc2UoY29tcG9uZW50cywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBjb21wb25lbnRzLmVycm9yID0gY29tcG9uZW50cy5lcnJvciB8fCBcIlVSSSBjYW4gbm90IGJlIHBhcnNlZC5cIjtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXBvbmVudHM7XG59XG5cbmZ1bmN0aW9uIF9yZWNvbXBvc2VBdXRob3JpdHkoY29tcG9uZW50cywgb3B0aW9ucykge1xuICAgIHZhciBwcm90b2NvbCA9IG9wdGlvbnMuaXJpICE9PSBmYWxzZSA/IElSSV9QUk9UT0NPTCA6IFVSSV9QUk9UT0NPTDtcbiAgICB2YXIgdXJpVG9rZW5zID0gW107XG4gICAgaWYgKGNvbXBvbmVudHMudXNlcmluZm8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cmlUb2tlbnMucHVzaChjb21wb25lbnRzLnVzZXJpbmZvKTtcbiAgICAgICAgdXJpVG9rZW5zLnB1c2goXCJAXCIpO1xuICAgIH1cbiAgICBpZiAoY29tcG9uZW50cy5ob3N0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy9ub3JtYWxpemUgSVAgaG9zdHMsIGFkZCBicmFja2V0cyBhbmQgZXNjYXBlIHpvbmUgc2VwYXJhdG9yIGZvciBJUHY2XG4gICAgICAgIHVyaVRva2Vucy5wdXNoKF9ub3JtYWxpemVJUHY2KF9ub3JtYWxpemVJUHY0KFN0cmluZyhjb21wb25lbnRzLmhvc3QpLCBwcm90b2NvbCksIHByb3RvY29sKS5yZXBsYWNlKHByb3RvY29sLklQVjZBRERSRVNTLCBmdW5jdGlvbiAoXywgJDEsICQyKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJbXCIgKyAkMSArICgkMiA/IFwiJTI1XCIgKyAkMiA6IFwiXCIpICsgXCJdXCI7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb21wb25lbnRzLnBvcnQgPT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIGNvbXBvbmVudHMucG9ydCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICB1cmlUb2tlbnMucHVzaChcIjpcIik7XG4gICAgICAgIHVyaVRva2Vucy5wdXNoKFN0cmluZyhjb21wb25lbnRzLnBvcnQpKTtcbiAgICB9XG4gICAgcmV0dXJuIHVyaVRva2Vucy5sZW5ndGggPyB1cmlUb2tlbnMuam9pbihcIlwiKSA6IHVuZGVmaW5lZDtcbn1cblxudmFyIFJEUzEgPSAvXlxcLlxcLj9cXC8vO1xudmFyIFJEUzIgPSAvXlxcL1xcLihcXC98JCkvO1xudmFyIFJEUzMgPSAvXlxcL1xcLlxcLihcXC98JCkvO1xudmFyIFJEUzUgPSAvXlxcLz8oPzoufFxcbikqPyg/PVxcL3wkKS87XG5mdW5jdGlvbiByZW1vdmVEb3RTZWdtZW50cyhpbnB1dCkge1xuICAgIHZhciBvdXRwdXQgPSBbXTtcbiAgICB3aGlsZSAoaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgIGlmIChpbnB1dC5tYXRjaChSRFMxKSkge1xuICAgICAgICAgICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKFJEUzEsIFwiXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0Lm1hdGNoKFJEUzIpKSB7XG4gICAgICAgICAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoUkRTMiwgXCIvXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0Lm1hdGNoKFJEUzMpKSB7XG4gICAgICAgICAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoUkRTMywgXCIvXCIpO1xuICAgICAgICAgICAgb3V0cHV0LnBvcCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0ID09PSBcIi5cIiB8fCBpbnB1dCA9PT0gXCIuLlwiKSB7XG4gICAgICAgICAgICBpbnB1dCA9IFwiXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgaW0gPSBpbnB1dC5tYXRjaChSRFM1KTtcbiAgICAgICAgICAgIGlmIChpbSkge1xuICAgICAgICAgICAgICAgIHZhciBzID0gaW1bMF07XG4gICAgICAgICAgICAgICAgaW5wdXQgPSBpbnB1dC5zbGljZShzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2gocyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgZG90IHNlZ21lbnQgY29uZGl0aW9uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQuam9pbihcIlwiKTtcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplKGNvbXBvbmVudHMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICB2YXIgcHJvdG9jb2wgPSBvcHRpb25zLmlyaSA/IElSSV9QUk9UT0NPTCA6IFVSSV9QUk9UT0NPTDtcbiAgICB2YXIgdXJpVG9rZW5zID0gW107XG4gICAgLy9maW5kIHNjaGVtZSBoYW5kbGVyXG4gICAgdmFyIHNjaGVtZUhhbmRsZXIgPSBTQ0hFTUVTWyhvcHRpb25zLnNjaGVtZSB8fCBjb21wb25lbnRzLnNjaGVtZSB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpXTtcbiAgICAvL3BlcmZvcm0gc2NoZW1lIHNwZWNpZmljIHNlcmlhbGl6YXRpb25cbiAgICBpZiAoc2NoZW1lSGFuZGxlciAmJiBzY2hlbWVIYW5kbGVyLnNlcmlhbGl6ZSkgc2NoZW1lSGFuZGxlci5zZXJpYWxpemUoY29tcG9uZW50cywgb3B0aW9ucyk7XG4gICAgaWYgKGNvbXBvbmVudHMuaG9zdCkge1xuICAgICAgICAvL2lmIGhvc3QgY29tcG9uZW50IGlzIGFuIElQdjYgYWRkcmVzc1xuICAgICAgICBpZiAocHJvdG9jb2wuSVBWNkFERFJFU1MudGVzdChjb21wb25lbnRzLmhvc3QpKSB7fVxuICAgICAgICAvL1RPRE86IG5vcm1hbGl6ZSBJUHY2IGFkZHJlc3MgYXMgcGVyIFJGQyA1OTUyXG5cbiAgICAgICAgLy9pZiBob3N0IGNvbXBvbmVudCBpcyBhIGRvbWFpbiBuYW1lXG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnMuZG9tYWluSG9zdCB8fCBzY2hlbWVIYW5kbGVyICYmIHNjaGVtZUhhbmRsZXIuZG9tYWluSG9zdCkge1xuICAgICAgICAgICAgICAgIC8vY29udmVydCBJRE4gdmlhIHB1bnljb2RlXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50cy5ob3N0ID0gIW9wdGlvbnMuaXJpID8gcHVueWNvZGUudG9BU0NJSShjb21wb25lbnRzLmhvc3QucmVwbGFjZShwcm90b2NvbC5QQ1RfRU5DT0RFRCwgcGN0RGVjQ2hhcnMpLnRvTG93ZXJDYXNlKCkpIDogcHVueWNvZGUudG9Vbmljb2RlKGNvbXBvbmVudHMuaG9zdCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzLmVycm9yID0gY29tcG9uZW50cy5lcnJvciB8fCBcIkhvc3QncyBkb21haW4gbmFtZSBjYW4gbm90IGJlIGNvbnZlcnRlZCB0byBcIiArICghb3B0aW9ucy5pcmkgPyBcIkFTQ0lJXCIgOiBcIlVuaWNvZGVcIikgKyBcIiB2aWEgcHVueWNvZGU6IFwiICsgZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgfVxuICAgIC8vbm9ybWFsaXplIGVuY29kaW5nXG4gICAgX25vcm1hbGl6ZUNvbXBvbmVudEVuY29kaW5nKGNvbXBvbmVudHMsIHByb3RvY29sKTtcbiAgICBpZiAob3B0aW9ucy5yZWZlcmVuY2UgIT09IFwic3VmZml4XCIgJiYgY29tcG9uZW50cy5zY2hlbWUpIHtcbiAgICAgICAgdXJpVG9rZW5zLnB1c2goY29tcG9uZW50cy5zY2hlbWUpO1xuICAgICAgICB1cmlUb2tlbnMucHVzaChcIjpcIik7XG4gICAgfVxuICAgIHZhciBhdXRob3JpdHkgPSBfcmVjb21wb3NlQXV0aG9yaXR5KGNvbXBvbmVudHMsIG9wdGlvbnMpO1xuICAgIGlmIChhdXRob3JpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAob3B0aW9ucy5yZWZlcmVuY2UgIT09IFwic3VmZml4XCIpIHtcbiAgICAgICAgICAgIHVyaVRva2Vucy5wdXNoKFwiLy9cIik7XG4gICAgICAgIH1cbiAgICAgICAgdXJpVG9rZW5zLnB1c2goYXV0aG9yaXR5KTtcbiAgICAgICAgaWYgKGNvbXBvbmVudHMucGF0aCAmJiBjb21wb25lbnRzLnBhdGguY2hhckF0KDApICE9PSBcIi9cIikge1xuICAgICAgICAgICAgdXJpVG9rZW5zLnB1c2goXCIvXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjb21wb25lbnRzLnBhdGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgcyA9IGNvbXBvbmVudHMucGF0aDtcbiAgICAgICAgaWYgKCFvcHRpb25zLmFic29sdXRlUGF0aCAmJiAoIXNjaGVtZUhhbmRsZXIgfHwgIXNjaGVtZUhhbmRsZXIuYWJzb2x1dGVQYXRoKSkge1xuICAgICAgICAgICAgcyA9IHJlbW92ZURvdFNlZ21lbnRzKHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdXRob3JpdHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcyA9IHMucmVwbGFjZSgvXlxcL1xcLy8sIFwiLyUyRlwiKTsgLy9kb24ndCBhbGxvdyB0aGUgcGF0aCB0byBzdGFydCB3aXRoIFwiLy9cIlxuICAgICAgICB9XG4gICAgICAgIHVyaVRva2Vucy5wdXNoKHMpO1xuICAgIH1cbiAgICBpZiAoY29tcG9uZW50cy5xdWVyeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVyaVRva2Vucy5wdXNoKFwiP1wiKTtcbiAgICAgICAgdXJpVG9rZW5zLnB1c2goY29tcG9uZW50cy5xdWVyeSk7XG4gICAgfVxuICAgIGlmIChjb21wb25lbnRzLmZyYWdtZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXJpVG9rZW5zLnB1c2goXCIjXCIpO1xuICAgICAgICB1cmlUb2tlbnMucHVzaChjb21wb25lbnRzLmZyYWdtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHVyaVRva2Vucy5qb2luKFwiXCIpOyAvL21lcmdlIHRva2VucyBpbnRvIGEgc3RyaW5nXG59XG5cbmZ1bmN0aW9uIHJlc29sdmVDb21wb25lbnRzKGJhc2UsIHJlbGF0aXZlKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgIHZhciBza2lwTm9ybWFsaXphdGlvbiA9IGFyZ3VtZW50c1szXTtcblxuICAgIHZhciB0YXJnZXQgPSB7fTtcbiAgICBpZiAoIXNraXBOb3JtYWxpemF0aW9uKSB7XG4gICAgICAgIGJhc2UgPSBwYXJzZShzZXJpYWxpemUoYmFzZSwgb3B0aW9ucyksIG9wdGlvbnMpOyAvL25vcm1hbGl6ZSBiYXNlIGNvbXBvbmVudHNcbiAgICAgICAgcmVsYXRpdmUgPSBwYXJzZShzZXJpYWxpemUocmVsYXRpdmUsIG9wdGlvbnMpLCBvcHRpb25zKTsgLy9ub3JtYWxpemUgcmVsYXRpdmUgY29tcG9uZW50c1xuICAgIH1cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBpZiAoIW9wdGlvbnMudG9sZXJhbnQgJiYgcmVsYXRpdmUuc2NoZW1lKSB7XG4gICAgICAgIHRhcmdldC5zY2hlbWUgPSByZWxhdGl2ZS5zY2hlbWU7XG4gICAgICAgIC8vdGFyZ2V0LmF1dGhvcml0eSA9IHJlbGF0aXZlLmF1dGhvcml0eTtcbiAgICAgICAgdGFyZ2V0LnVzZXJpbmZvID0gcmVsYXRpdmUudXNlcmluZm87XG4gICAgICAgIHRhcmdldC5ob3N0ID0gcmVsYXRpdmUuaG9zdDtcbiAgICAgICAgdGFyZ2V0LnBvcnQgPSByZWxhdGl2ZS5wb3J0O1xuICAgICAgICB0YXJnZXQucGF0aCA9IHJlbW92ZURvdFNlZ21lbnRzKHJlbGF0aXZlLnBhdGggfHwgXCJcIik7XG4gICAgICAgIHRhcmdldC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChyZWxhdGl2ZS51c2VyaW5mbyAhPT0gdW5kZWZpbmVkIHx8IHJlbGF0aXZlLmhvc3QgIT09IHVuZGVmaW5lZCB8fCByZWxhdGl2ZS5wb3J0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vdGFyZ2V0LmF1dGhvcml0eSA9IHJlbGF0aXZlLmF1dGhvcml0eTtcbiAgICAgICAgICAgIHRhcmdldC51c2VyaW5mbyA9IHJlbGF0aXZlLnVzZXJpbmZvO1xuICAgICAgICAgICAgdGFyZ2V0Lmhvc3QgPSByZWxhdGl2ZS5ob3N0O1xuICAgICAgICAgICAgdGFyZ2V0LnBvcnQgPSByZWxhdGl2ZS5wb3J0O1xuICAgICAgICAgICAgdGFyZ2V0LnBhdGggPSByZW1vdmVEb3RTZWdtZW50cyhyZWxhdGl2ZS5wYXRoIHx8IFwiXCIpO1xuICAgICAgICAgICAgdGFyZ2V0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXJlbGF0aXZlLnBhdGgpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQucGF0aCA9IGJhc2UucGF0aDtcbiAgICAgICAgICAgICAgICBpZiAocmVsYXRpdmUucXVlcnkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQucXVlcnkgPSBiYXNlLnF1ZXJ5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlbGF0aXZlLnBhdGguY2hhckF0KDApID09PSBcIi9cIikge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQucGF0aCA9IHJlbW92ZURvdFNlZ21lbnRzKHJlbGF0aXZlLnBhdGgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoYmFzZS51c2VyaW5mbyAhPT0gdW5kZWZpbmVkIHx8IGJhc2UuaG9zdCAhPT0gdW5kZWZpbmVkIHx8IGJhc2UucG9ydCAhPT0gdW5kZWZpbmVkKSAmJiAhYmFzZS5wYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQucGF0aCA9IFwiL1wiICsgcmVsYXRpdmUucGF0aDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghYmFzZS5wYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQucGF0aCA9IHJlbGF0aXZlLnBhdGg7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQucGF0aCA9IGJhc2UucGF0aC5zbGljZSgwLCBiYXNlLnBhdGgubGFzdEluZGV4T2YoXCIvXCIpICsgMSkgKyByZWxhdGl2ZS5wYXRoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5wYXRoID0gcmVtb3ZlRG90U2VnbWVudHModGFyZ2V0LnBhdGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0YXJnZXQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vdGFyZ2V0LmF1dGhvcml0eSA9IGJhc2UuYXV0aG9yaXR5O1xuICAgICAgICAgICAgdGFyZ2V0LnVzZXJpbmZvID0gYmFzZS51c2VyaW5mbztcbiAgICAgICAgICAgIHRhcmdldC5ob3N0ID0gYmFzZS5ob3N0O1xuICAgICAgICAgICAgdGFyZ2V0LnBvcnQgPSBiYXNlLnBvcnQ7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0LnNjaGVtZSA9IGJhc2Uuc2NoZW1lO1xuICAgIH1cbiAgICB0YXJnZXQuZnJhZ21lbnQgPSByZWxhdGl2ZS5mcmFnbWVudDtcbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiByZXNvbHZlKGJhc2VVUkksIHJlbGF0aXZlVVJJLCBvcHRpb25zKSB7XG4gICAgdmFyIHNjaGVtZWxlc3NPcHRpb25zID0gYXNzaWduKHsgc2NoZW1lOiAnbnVsbCcgfSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHNlcmlhbGl6ZShyZXNvbHZlQ29tcG9uZW50cyhwYXJzZShiYXNlVVJJLCBzY2hlbWVsZXNzT3B0aW9ucyksIHBhcnNlKHJlbGF0aXZlVVJJLCBzY2hlbWVsZXNzT3B0aW9ucyksIHNjaGVtZWxlc3NPcHRpb25zLCB0cnVlKSwgc2NoZW1lbGVzc09wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemUodXJpLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiB1cmkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdXJpID0gc2VyaWFsaXplKHBhcnNlKHVyaSwgb3B0aW9ucyksIG9wdGlvbnMpO1xuICAgIH0gZWxzZSBpZiAodHlwZU9mKHVyaSkgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgdXJpID0gcGFyc2Uoc2VyaWFsaXplKHVyaSwgb3B0aW9ucyksIG9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gdXJpO1xufVxuXG5mdW5jdGlvbiBlcXVhbCh1cmlBLCB1cmlCLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiB1cmlBID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHVyaUEgPSBzZXJpYWxpemUocGFyc2UodXJpQSwgb3B0aW9ucyksIG9wdGlvbnMpO1xuICAgIH0gZWxzZSBpZiAodHlwZU9mKHVyaUEpID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHVyaUEgPSBzZXJpYWxpemUodXJpQSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdXJpQiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICB1cmlCID0gc2VyaWFsaXplKHBhcnNlKHVyaUIsIG9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVPZih1cmlCKSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICB1cmlCID0gc2VyaWFsaXplKHVyaUIsIG9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gdXJpQSA9PT0gdXJpQjtcbn1cblxuZnVuY3Rpb24gZXNjYXBlQ29tcG9uZW50KHN0ciwgb3B0aW9ucykge1xuICAgIHJldHVybiBzdHIgJiYgc3RyLnRvU3RyaW5nKCkucmVwbGFjZSghb3B0aW9ucyB8fCAhb3B0aW9ucy5pcmkgPyBVUklfUFJPVE9DT0wuRVNDQVBFIDogSVJJX1BST1RPQ09MLkVTQ0FQRSwgcGN0RW5jQ2hhcik7XG59XG5cbmZ1bmN0aW9uIHVuZXNjYXBlQ29tcG9uZW50KHN0ciwgb3B0aW9ucykge1xuICAgIHJldHVybiBzdHIgJiYgc3RyLnRvU3RyaW5nKCkucmVwbGFjZSghb3B0aW9ucyB8fCAhb3B0aW9ucy5pcmkgPyBVUklfUFJPVE9DT0wuUENUX0VOQ09ERUQgOiBJUklfUFJPVE9DT0wuUENUX0VOQ09ERUQsIHBjdERlY0NoYXJzKTtcbn1cblxudmFyIGhhbmRsZXIgPSB7XG4gICAgc2NoZW1lOiBcImh0dHBcIixcbiAgICBkb21haW5Ib3N0OiB0cnVlLFxuICAgIHBhcnNlOiBmdW5jdGlvbiBwYXJzZShjb21wb25lbnRzLCBvcHRpb25zKSB7XG4gICAgICAgIC8vcmVwb3J0IG1pc3NpbmcgaG9zdFxuICAgICAgICBpZiAoIWNvbXBvbmVudHMuaG9zdCkge1xuICAgICAgICAgICAgY29tcG9uZW50cy5lcnJvciA9IGNvbXBvbmVudHMuZXJyb3IgfHwgXCJIVFRQIFVSSXMgbXVzdCBoYXZlIGEgaG9zdC5cIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29tcG9uZW50cztcbiAgICB9LFxuICAgIHNlcmlhbGl6ZTogZnVuY3Rpb24gc2VyaWFsaXplKGNvbXBvbmVudHMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHNlY3VyZSA9IFN0cmluZyhjb21wb25lbnRzLnNjaGVtZSkudG9Mb3dlckNhc2UoKSA9PT0gXCJodHRwc1wiO1xuICAgICAgICAvL25vcm1hbGl6ZSB0aGUgZGVmYXVsdCBwb3J0XG4gICAgICAgIGlmIChjb21wb25lbnRzLnBvcnQgPT09IChzZWN1cmUgPyA0NDMgOiA4MCkgfHwgY29tcG9uZW50cy5wb3J0ID09PSBcIlwiKSB7XG4gICAgICAgICAgICBjb21wb25lbnRzLnBvcnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy9ub3JtYWxpemUgdGhlIGVtcHR5IHBhdGhcbiAgICAgICAgaWYgKCFjb21wb25lbnRzLnBhdGgpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudHMucGF0aCA9IFwiL1wiO1xuICAgICAgICB9XG4gICAgICAgIC8vTk9URTogV2UgZG8gbm90IHBhcnNlIHF1ZXJ5IHN0cmluZ3MgZm9yIEhUVFAgVVJJc1xuICAgICAgICAvL2FzIFdXVyBGb3JtIFVybCBFbmNvZGVkIHF1ZXJ5IHN0cmluZ3MgYXJlIHBhcnQgb2YgdGhlIEhUTUw0KyBzcGVjLFxuICAgICAgICAvL2FuZCBub3QgdGhlIEhUVFAgc3BlYy5cbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudHM7XG4gICAgfVxufTtcblxudmFyIGhhbmRsZXIkMSA9IHtcbiAgICBzY2hlbWU6IFwiaHR0cHNcIixcbiAgICBkb21haW5Ib3N0OiBoYW5kbGVyLmRvbWFpbkhvc3QsXG4gICAgcGFyc2U6IGhhbmRsZXIucGFyc2UsXG4gICAgc2VyaWFsaXplOiBoYW5kbGVyLnNlcmlhbGl6ZVxufTtcblxuZnVuY3Rpb24gaXNTZWN1cmUod3NDb21wb25lbnRzKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB3c0NvbXBvbmVudHMuc2VjdXJlID09PSAnYm9vbGVhbicgPyB3c0NvbXBvbmVudHMuc2VjdXJlIDogU3RyaW5nKHdzQ29tcG9uZW50cy5zY2hlbWUpLnRvTG93ZXJDYXNlKCkgPT09IFwid3NzXCI7XG59XG4vL1JGQyA2NDU1XG52YXIgaGFuZGxlciQyID0ge1xuICAgIHNjaGVtZTogXCJ3c1wiLFxuICAgIGRvbWFpbkhvc3Q6IHRydWUsXG4gICAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKGNvbXBvbmVudHMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHdzQ29tcG9uZW50cyA9IGNvbXBvbmVudHM7XG4gICAgICAgIC8vaW5kaWNhdGUgaWYgdGhlIHNlY3VyZSBmbGFnIGlzIHNldFxuICAgICAgICB3c0NvbXBvbmVudHMuc2VjdXJlID0gaXNTZWN1cmUod3NDb21wb25lbnRzKTtcbiAgICAgICAgLy9jb25zdHJ1Y3QgcmVzb3VjZSBuYW1lXG4gICAgICAgIHdzQ29tcG9uZW50cy5yZXNvdXJjZU5hbWUgPSAod3NDb21wb25lbnRzLnBhdGggfHwgJy8nKSArICh3c0NvbXBvbmVudHMucXVlcnkgPyAnPycgKyB3c0NvbXBvbmVudHMucXVlcnkgOiAnJyk7XG4gICAgICAgIHdzQ29tcG9uZW50cy5wYXRoID0gdW5kZWZpbmVkO1xuICAgICAgICB3c0NvbXBvbmVudHMucXVlcnkgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiB3c0NvbXBvbmVudHM7XG4gICAgfSxcbiAgICBzZXJpYWxpemU6IGZ1bmN0aW9uIHNlcmlhbGl6ZSh3c0NvbXBvbmVudHMsIG9wdGlvbnMpIHtcbiAgICAgICAgLy9ub3JtYWxpemUgdGhlIGRlZmF1bHQgcG9ydFxuICAgICAgICBpZiAod3NDb21wb25lbnRzLnBvcnQgPT09IChpc1NlY3VyZSh3c0NvbXBvbmVudHMpID8gNDQzIDogODApIHx8IHdzQ29tcG9uZW50cy5wb3J0ID09PSBcIlwiKSB7XG4gICAgICAgICAgICB3c0NvbXBvbmVudHMucG9ydCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvL2Vuc3VyZSBzY2hlbWUgbWF0Y2hlcyBzZWN1cmUgZmxhZ1xuICAgICAgICBpZiAodHlwZW9mIHdzQ29tcG9uZW50cy5zZWN1cmUgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgd3NDb21wb25lbnRzLnNjaGVtZSA9IHdzQ29tcG9uZW50cy5zZWN1cmUgPyAnd3NzJyA6ICd3cyc7XG4gICAgICAgICAgICB3c0NvbXBvbmVudHMuc2VjdXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vcmVjb25zdHJ1Y3QgcGF0aCBmcm9tIHJlc291cmNlIG5hbWVcbiAgICAgICAgaWYgKHdzQ29tcG9uZW50cy5yZXNvdXJjZU5hbWUpIHtcbiAgICAgICAgICAgIHZhciBfd3NDb21wb25lbnRzJHJlc291cmMgPSB3c0NvbXBvbmVudHMucmVzb3VyY2VOYW1lLnNwbGl0KCc/JyksXG4gICAgICAgICAgICAgICAgX3dzQ29tcG9uZW50cyRyZXNvdXJjMiA9IHNsaWNlZFRvQXJyYXkoX3dzQ29tcG9uZW50cyRyZXNvdXJjLCAyKSxcbiAgICAgICAgICAgICAgICBwYXRoID0gX3dzQ29tcG9uZW50cyRyZXNvdXJjMlswXSxcbiAgICAgICAgICAgICAgICBxdWVyeSA9IF93c0NvbXBvbmVudHMkcmVzb3VyYzJbMV07XG5cbiAgICAgICAgICAgIHdzQ29tcG9uZW50cy5wYXRoID0gcGF0aCAmJiBwYXRoICE9PSAnLycgPyBwYXRoIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgd3NDb21wb25lbnRzLnF1ZXJ5ID0gcXVlcnk7XG4gICAgICAgICAgICB3c0NvbXBvbmVudHMucmVzb3VyY2VOYW1lID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vZm9yYmlkIGZyYWdtZW50IGNvbXBvbmVudFxuICAgICAgICB3c0NvbXBvbmVudHMuZnJhZ21lbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiB3c0NvbXBvbmVudHM7XG4gICAgfVxufTtcblxudmFyIGhhbmRsZXIkMyA9IHtcbiAgICBzY2hlbWU6IFwid3NzXCIsXG4gICAgZG9tYWluSG9zdDogaGFuZGxlciQyLmRvbWFpbkhvc3QsXG4gICAgcGFyc2U6IGhhbmRsZXIkMi5wYXJzZSxcbiAgICBzZXJpYWxpemU6IGhhbmRsZXIkMi5zZXJpYWxpemVcbn07XG5cbnZhciBPID0ge307XG52YXIgaXNJUkkgPSB0cnVlO1xuLy9SRkMgMzk4NlxudmFyIFVOUkVTRVJWRUQkJCA9IFwiW0EtWmEtejAtOVxcXFwtXFxcXC5cXFxcX1xcXFx+XCIgKyAoaXNJUkkgPyBcIlxcXFx4QTAtXFxcXHUyMDBEXFxcXHUyMDEwLVxcXFx1MjAyOVxcXFx1MjAyRi1cXFxcdUQ3RkZcXFxcdUY5MDAtXFxcXHVGRENGXFxcXHVGREYwLVxcXFx1RkZFRlwiIDogXCJcIikgKyBcIl1cIjtcbnZhciBIRVhESUckJCA9IFwiWzAtOUEtRmEtZl1cIjsgLy9jYXNlLWluc2Vuc2l0aXZlXG52YXIgUENUX0VOQ09ERUQkID0gc3ViZXhwKHN1YmV4cChcIiVbRUZlZl1cIiArIEhFWERJRyQkICsgXCIlXCIgKyBIRVhESUckJCArIEhFWERJRyQkICsgXCIlXCIgKyBIRVhESUckJCArIEhFWERJRyQkKSArIFwifFwiICsgc3ViZXhwKFwiJVs4OUEtRmEtZl1cIiArIEhFWERJRyQkICsgXCIlXCIgKyBIRVhESUckJCArIEhFWERJRyQkKSArIFwifFwiICsgc3ViZXhwKFwiJVwiICsgSEVYRElHJCQgKyBIRVhESUckJCkpOyAvL2V4cGFuZGVkXG4vL1JGQyA1MzIyLCBleGNlcHQgdGhlc2Ugc3ltYm9scyBhcyBwZXIgUkZDIDYwNjg6IEAgOiAvID8gIyBbIF0gJiA7ID1cbi8vY29uc3QgQVRFWFQkJCA9IFwiW0EtWmEtejAtOVxcXFwhXFxcXCNcXFxcJFxcXFwlXFxcXCZcXFxcJ1xcXFwqXFxcXCtcXFxcLVxcXFwvXFxcXD1cXFxcP1xcXFxeXFxcXF9cXFxcYFxcXFx7XFxcXHxcXFxcfVxcXFx+XVwiO1xuLy9jb25zdCBXU1AkJCA9IFwiW1xcXFx4MjBcXFxceDA5XVwiO1xuLy9jb25zdCBPQlNfUVRFWFQkJCA9IFwiW1xcXFx4MDEtXFxcXHgwOFxcXFx4MEJcXFxceDBDXFxcXHgwRS1cXFxceDFGXFxcXHg3Rl1cIjsgIC8vKCVkMS04IC8gJWQxMS0xMiAvICVkMTQtMzEgLyAlZDEyNylcbi8vY29uc3QgUVRFWFQkJCA9IG1lcmdlKFwiW1xcXFx4MjFcXFxceDIzLVxcXFx4NUJcXFxceDVELVxcXFx4N0VdXCIsIE9CU19RVEVYVCQkKTsgIC8vJWQzMyAvICVkMzUtOTEgLyAlZDkzLTEyNiAvIG9icy1xdGV4dFxuLy9jb25zdCBWQ0hBUiQkID0gXCJbXFxcXHgyMS1cXFxceDdFXVwiO1xuLy9jb25zdCBXU1AkJCA9IFwiW1xcXFx4MjBcXFxceDA5XVwiO1xuLy9jb25zdCBPQlNfUVAkID0gc3ViZXhwKFwiXFxcXFxcXFxcIiArIG1lcmdlKFwiW1xcXFx4MDBcXFxceDBEXFxcXHgwQV1cIiwgT0JTX1FURVhUJCQpKTsgIC8vJWQwIC8gQ1IgLyBMRiAvIG9icy1xdGV4dFxuLy9jb25zdCBGV1MkID0gc3ViZXhwKHN1YmV4cChXU1AkJCArIFwiKlwiICsgXCJcXFxceDBEXFxcXHgwQVwiKSArIFwiP1wiICsgV1NQJCQgKyBcIitcIik7XG4vL2NvbnN0IFFVT1RFRF9QQUlSJCA9IHN1YmV4cChzdWJleHAoXCJcXFxcXFxcXFwiICsgc3ViZXhwKFZDSEFSJCQgKyBcInxcIiArIFdTUCQkKSkgKyBcInxcIiArIE9CU19RUCQpO1xuLy9jb25zdCBRVU9URURfU1RSSU5HJCA9IHN1YmV4cCgnXFxcXFwiJyArIHN1YmV4cChGV1MkICsgXCI/XCIgKyBRQ09OVEVOVCQpICsgXCIqXCIgKyBGV1MkICsgXCI/XCIgKyAnXFxcXFwiJyk7XG52YXIgQVRFWFQkJCA9IFwiW0EtWmEtejAtOVxcXFwhXFxcXCRcXFxcJVxcXFwnXFxcXCpcXFxcK1xcXFwtXFxcXF5cXFxcX1xcXFxgXFxcXHtcXFxcfFxcXFx9XFxcXH5dXCI7XG52YXIgUVRFWFQkJCA9IFwiW1xcXFwhXFxcXCRcXFxcJVxcXFwnXFxcXChcXFxcKVxcXFwqXFxcXCtcXFxcLFxcXFwtXFxcXC4wLTlcXFxcPFxcXFw+QS1aXFxcXHg1RS1cXFxceDdFXVwiO1xudmFyIFZDSEFSJCQgPSBtZXJnZShRVEVYVCQkLCBcIltcXFxcXFxcIlxcXFxcXFxcXVwiKTtcbnZhciBTT01FX0RFTElNUyQkID0gXCJbXFxcXCFcXFxcJFxcXFwnXFxcXChcXFxcKVxcXFwqXFxcXCtcXFxcLFxcXFw7XFxcXDpcXFxcQF1cIjtcbnZhciBVTlJFU0VSVkVEID0gbmV3IFJlZ0V4cChVTlJFU0VSVkVEJCQsIFwiZ1wiKTtcbnZhciBQQ1RfRU5DT0RFRCA9IG5ldyBSZWdFeHAoUENUX0VOQ09ERUQkLCBcImdcIik7XG52YXIgTk9UX0xPQ0FMX1BBUlQgPSBuZXcgUmVnRXhwKG1lcmdlKFwiW15dXCIsIEFURVhUJCQsIFwiW1xcXFwuXVwiLCAnW1xcXFxcIl0nLCBWQ0hBUiQkKSwgXCJnXCIpO1xudmFyIE5PVF9IRk5BTUUgPSBuZXcgUmVnRXhwKG1lcmdlKFwiW15dXCIsIFVOUkVTRVJWRUQkJCwgU09NRV9ERUxJTVMkJCksIFwiZ1wiKTtcbnZhciBOT1RfSEZWQUxVRSA9IE5PVF9IRk5BTUU7XG5mdW5jdGlvbiBkZWNvZGVVbnJlc2VydmVkKHN0cikge1xuICAgIHZhciBkZWNTdHIgPSBwY3REZWNDaGFycyhzdHIpO1xuICAgIHJldHVybiAhZGVjU3RyLm1hdGNoKFVOUkVTRVJWRUQpID8gc3RyIDogZGVjU3RyO1xufVxudmFyIGhhbmRsZXIkNCA9IHtcbiAgICBzY2hlbWU6IFwibWFpbHRvXCIsXG4gICAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlJCQxKGNvbXBvbmVudHMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG1haWx0b0NvbXBvbmVudHMgPSBjb21wb25lbnRzO1xuICAgICAgICB2YXIgdG8gPSBtYWlsdG9Db21wb25lbnRzLnRvID0gbWFpbHRvQ29tcG9uZW50cy5wYXRoID8gbWFpbHRvQ29tcG9uZW50cy5wYXRoLnNwbGl0KFwiLFwiKSA6IFtdO1xuICAgICAgICBtYWlsdG9Db21wb25lbnRzLnBhdGggPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChtYWlsdG9Db21wb25lbnRzLnF1ZXJ5KSB7XG4gICAgICAgICAgICB2YXIgdW5rbm93bkhlYWRlcnMgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBoZWFkZXJzID0ge307XG4gICAgICAgICAgICB2YXIgaGZpZWxkcyA9IG1haWx0b0NvbXBvbmVudHMucXVlcnkuc3BsaXQoXCImXCIpO1xuICAgICAgICAgICAgZm9yICh2YXIgeCA9IDAsIHhsID0gaGZpZWxkcy5sZW5ndGg7IHggPCB4bDsgKyt4KSB7XG4gICAgICAgICAgICAgICAgdmFyIGhmaWVsZCA9IGhmaWVsZHNbeF0uc3BsaXQoXCI9XCIpO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoaGZpZWxkWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0b1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRvQWRkcnMgPSBoZmllbGRbMV0uc3BsaXQoXCIsXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX3ggPSAwLCBfeGwgPSB0b0FkZHJzLmxlbmd0aDsgX3ggPCBfeGw7ICsrX3gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0by5wdXNoKHRvQWRkcnNbX3hdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3ViamVjdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgbWFpbHRvQ29tcG9uZW50cy5zdWJqZWN0ID0gdW5lc2NhcGVDb21wb25lbnQoaGZpZWxkWzFdLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYm9keVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgbWFpbHRvQ29tcG9uZW50cy5ib2R5ID0gdW5lc2NhcGVDb21wb25lbnQoaGZpZWxkWzFdLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgdW5rbm93bkhlYWRlcnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1t1bmVzY2FwZUNvbXBvbmVudChoZmllbGRbMF0sIG9wdGlvbnMpXSA9IHVuZXNjYXBlQ29tcG9uZW50KGhmaWVsZFsxXSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodW5rbm93bkhlYWRlcnMpIG1haWx0b0NvbXBvbmVudHMuaGVhZGVycyA9IGhlYWRlcnM7XG4gICAgICAgIH1cbiAgICAgICAgbWFpbHRvQ29tcG9uZW50cy5xdWVyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yICh2YXIgX3gyID0gMCwgX3hsMiA9IHRvLmxlbmd0aDsgX3gyIDwgX3hsMjsgKytfeDIpIHtcbiAgICAgICAgICAgIHZhciBhZGRyID0gdG9bX3gyXS5zcGxpdChcIkBcIik7XG4gICAgICAgICAgICBhZGRyWzBdID0gdW5lc2NhcGVDb21wb25lbnQoYWRkclswXSk7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMudW5pY29kZVN1cHBvcnQpIHtcbiAgICAgICAgICAgICAgICAvL2NvbnZlcnQgVW5pY29kZSBJRE4gLT4gQVNDSUkgSUROXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYWRkclsxXSA9IHB1bnljb2RlLnRvQVNDSUkodW5lc2NhcGVDb21wb25lbnQoYWRkclsxXSwgb3B0aW9ucykudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBtYWlsdG9Db21wb25lbnRzLmVycm9yID0gbWFpbHRvQ29tcG9uZW50cy5lcnJvciB8fCBcIkVtYWlsIGFkZHJlc3MncyBkb21haW4gbmFtZSBjYW4gbm90IGJlIGNvbnZlcnRlZCB0byBBU0NJSSB2aWEgcHVueWNvZGU6IFwiICsgZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFkZHJbMV0gPSB1bmVzY2FwZUNvbXBvbmVudChhZGRyWzFdLCBvcHRpb25zKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9bX3gyXSA9IGFkZHIuam9pbihcIkBcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1haWx0b0NvbXBvbmVudHM7XG4gICAgfSxcbiAgICBzZXJpYWxpemU6IGZ1bmN0aW9uIHNlcmlhbGl6ZSQkMShtYWlsdG9Db21wb25lbnRzLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBjb21wb25lbnRzID0gbWFpbHRvQ29tcG9uZW50cztcbiAgICAgICAgdmFyIHRvID0gdG9BcnJheShtYWlsdG9Db21wb25lbnRzLnRvKTtcbiAgICAgICAgaWYgKHRvKSB7XG4gICAgICAgICAgICBmb3IgKHZhciB4ID0gMCwgeGwgPSB0by5sZW5ndGg7IHggPCB4bDsgKyt4KSB7XG4gICAgICAgICAgICAgICAgdmFyIHRvQWRkciA9IFN0cmluZyh0b1t4XSk7XG4gICAgICAgICAgICAgICAgdmFyIGF0SWR4ID0gdG9BZGRyLmxhc3RJbmRleE9mKFwiQFwiKTtcbiAgICAgICAgICAgICAgICB2YXIgbG9jYWxQYXJ0ID0gdG9BZGRyLnNsaWNlKDAsIGF0SWR4KS5yZXBsYWNlKFBDVF9FTkNPREVELCBkZWNvZGVVbnJlc2VydmVkKS5yZXBsYWNlKFBDVF9FTkNPREVELCB0b1VwcGVyQ2FzZSkucmVwbGFjZShOT1RfTE9DQUxfUEFSVCwgcGN0RW5jQ2hhcik7XG4gICAgICAgICAgICAgICAgdmFyIGRvbWFpbiA9IHRvQWRkci5zbGljZShhdElkeCArIDEpO1xuICAgICAgICAgICAgICAgIC8vY29udmVydCBJRE4gdmlhIHB1bnljb2RlXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZG9tYWluID0gIW9wdGlvbnMuaXJpID8gcHVueWNvZGUudG9BU0NJSSh1bmVzY2FwZUNvbXBvbmVudChkb21haW4sIG9wdGlvbnMpLnRvTG93ZXJDYXNlKCkpIDogcHVueWNvZGUudG9Vbmljb2RlKGRvbWFpbik7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzLmVycm9yID0gY29tcG9uZW50cy5lcnJvciB8fCBcIkVtYWlsIGFkZHJlc3MncyBkb21haW4gbmFtZSBjYW4gbm90IGJlIGNvbnZlcnRlZCB0byBcIiArICghb3B0aW9ucy5pcmkgPyBcIkFTQ0lJXCIgOiBcIlVuaWNvZGVcIikgKyBcIiB2aWEgcHVueWNvZGU6IFwiICsgZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9beF0gPSBsb2NhbFBhcnQgKyBcIkBcIiArIGRvbWFpbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXBvbmVudHMucGF0aCA9IHRvLmpvaW4oXCIsXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBoZWFkZXJzID0gbWFpbHRvQ29tcG9uZW50cy5oZWFkZXJzID0gbWFpbHRvQ29tcG9uZW50cy5oZWFkZXJzIHx8IHt9O1xuICAgICAgICBpZiAobWFpbHRvQ29tcG9uZW50cy5zdWJqZWN0KSBoZWFkZXJzW1wic3ViamVjdFwiXSA9IG1haWx0b0NvbXBvbmVudHMuc3ViamVjdDtcbiAgICAgICAgaWYgKG1haWx0b0NvbXBvbmVudHMuYm9keSkgaGVhZGVyc1tcImJvZHlcIl0gPSBtYWlsdG9Db21wb25lbnRzLmJvZHk7XG4gICAgICAgIHZhciBmaWVsZHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBoZWFkZXJzKSB7XG4gICAgICAgICAgICBpZiAoaGVhZGVyc1tuYW1lXSAhPT0gT1tuYW1lXSkge1xuICAgICAgICAgICAgICAgIGZpZWxkcy5wdXNoKG5hbWUucmVwbGFjZShQQ1RfRU5DT0RFRCwgZGVjb2RlVW5yZXNlcnZlZCkucmVwbGFjZShQQ1RfRU5DT0RFRCwgdG9VcHBlckNhc2UpLnJlcGxhY2UoTk9UX0hGTkFNRSwgcGN0RW5jQ2hhcikgKyBcIj1cIiArIGhlYWRlcnNbbmFtZV0ucmVwbGFjZShQQ1RfRU5DT0RFRCwgZGVjb2RlVW5yZXNlcnZlZCkucmVwbGFjZShQQ1RfRU5DT0RFRCwgdG9VcHBlckNhc2UpLnJlcGxhY2UoTk9UX0hGVkFMVUUsIHBjdEVuY0NoYXIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZmllbGRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29tcG9uZW50cy5xdWVyeSA9IGZpZWxkcy5qb2luKFwiJlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29tcG9uZW50cztcbiAgICB9XG59O1xuXG52YXIgVVJOX1BBUlNFID0gL14oW15cXDpdKylcXDooLiopLztcbi8vUkZDIDIxNDFcbnZhciBoYW5kbGVyJDUgPSB7XG4gICAgc2NoZW1lOiBcInVyblwiLFxuICAgIHBhcnNlOiBmdW5jdGlvbiBwYXJzZSQkMShjb21wb25lbnRzLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBtYXRjaGVzID0gY29tcG9uZW50cy5wYXRoICYmIGNvbXBvbmVudHMucGF0aC5tYXRjaChVUk5fUEFSU0UpO1xuICAgICAgICB2YXIgdXJuQ29tcG9uZW50cyA9IGNvbXBvbmVudHM7XG4gICAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgICAgICB2YXIgc2NoZW1lID0gb3B0aW9ucy5zY2hlbWUgfHwgdXJuQ29tcG9uZW50cy5zY2hlbWUgfHwgXCJ1cm5cIjtcbiAgICAgICAgICAgIHZhciBuaWQgPSBtYXRjaGVzWzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB2YXIgbnNzID0gbWF0Y2hlc1syXTtcbiAgICAgICAgICAgIHZhciB1cm5TY2hlbWUgPSBzY2hlbWUgKyBcIjpcIiArIChvcHRpb25zLm5pZCB8fCBuaWQpO1xuICAgICAgICAgICAgdmFyIHNjaGVtZUhhbmRsZXIgPSBTQ0hFTUVTW3VyblNjaGVtZV07XG4gICAgICAgICAgICB1cm5Db21wb25lbnRzLm5pZCA9IG5pZDtcbiAgICAgICAgICAgIHVybkNvbXBvbmVudHMubnNzID0gbnNzO1xuICAgICAgICAgICAgdXJuQ29tcG9uZW50cy5wYXRoID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKHNjaGVtZUhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICB1cm5Db21wb25lbnRzID0gc2NoZW1lSGFuZGxlci5wYXJzZSh1cm5Db21wb25lbnRzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVybkNvbXBvbmVudHMuZXJyb3IgPSB1cm5Db21wb25lbnRzLmVycm9yIHx8IFwiVVJOIGNhbiBub3QgYmUgcGFyc2VkLlwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cm5Db21wb25lbnRzO1xuICAgIH0sXG4gICAgc2VyaWFsaXplOiBmdW5jdGlvbiBzZXJpYWxpemUkJDEodXJuQ29tcG9uZW50cywgb3B0aW9ucykge1xuICAgICAgICB2YXIgc2NoZW1lID0gb3B0aW9ucy5zY2hlbWUgfHwgdXJuQ29tcG9uZW50cy5zY2hlbWUgfHwgXCJ1cm5cIjtcbiAgICAgICAgdmFyIG5pZCA9IHVybkNvbXBvbmVudHMubmlkO1xuICAgICAgICB2YXIgdXJuU2NoZW1lID0gc2NoZW1lICsgXCI6XCIgKyAob3B0aW9ucy5uaWQgfHwgbmlkKTtcbiAgICAgICAgdmFyIHNjaGVtZUhhbmRsZXIgPSBTQ0hFTUVTW3VyblNjaGVtZV07XG4gICAgICAgIGlmIChzY2hlbWVIYW5kbGVyKSB7XG4gICAgICAgICAgICB1cm5Db21wb25lbnRzID0gc2NoZW1lSGFuZGxlci5zZXJpYWxpemUodXJuQ29tcG9uZW50cywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVyaUNvbXBvbmVudHMgPSB1cm5Db21wb25lbnRzO1xuICAgICAgICB2YXIgbnNzID0gdXJuQ29tcG9uZW50cy5uc3M7XG4gICAgICAgIHVyaUNvbXBvbmVudHMucGF0aCA9IChuaWQgfHwgb3B0aW9ucy5uaWQpICsgXCI6XCIgKyBuc3M7XG4gICAgICAgIHJldHVybiB1cmlDb21wb25lbnRzO1xuICAgIH1cbn07XG5cbnZhciBVVUlEID0gL15bMC05QS1GYS1mXXs4fSg/OlxcLVswLTlBLUZhLWZdezR9KXszfVxcLVswLTlBLUZhLWZdezEyfSQvO1xuLy9SRkMgNDEyMlxudmFyIGhhbmRsZXIkNiA9IHtcbiAgICBzY2hlbWU6IFwidXJuOnV1aWRcIixcbiAgICBwYXJzZTogZnVuY3Rpb24gcGFyc2UodXJuQ29tcG9uZW50cywgb3B0aW9ucykge1xuICAgICAgICB2YXIgdXVpZENvbXBvbmVudHMgPSB1cm5Db21wb25lbnRzO1xuICAgICAgICB1dWlkQ29tcG9uZW50cy51dWlkID0gdXVpZENvbXBvbmVudHMubnNzO1xuICAgICAgICB1dWlkQ29tcG9uZW50cy5uc3MgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICghb3B0aW9ucy50b2xlcmFudCAmJiAoIXV1aWRDb21wb25lbnRzLnV1aWQgfHwgIXV1aWRDb21wb25lbnRzLnV1aWQubWF0Y2goVVVJRCkpKSB7XG4gICAgICAgICAgICB1dWlkQ29tcG9uZW50cy5lcnJvciA9IHV1aWRDb21wb25lbnRzLmVycm9yIHx8IFwiVVVJRCBpcyBub3QgdmFsaWQuXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHV1aWRDb21wb25lbnRzO1xuICAgIH0sXG4gICAgc2VyaWFsaXplOiBmdW5jdGlvbiBzZXJpYWxpemUodXVpZENvbXBvbmVudHMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHVybkNvbXBvbmVudHMgPSB1dWlkQ29tcG9uZW50cztcbiAgICAgICAgLy9ub3JtYWxpemUgVVVJRFxuICAgICAgICB1cm5Db21wb25lbnRzLm5zcyA9ICh1dWlkQ29tcG9uZW50cy51dWlkIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiB1cm5Db21wb25lbnRzO1xuICAgIH1cbn07XG5cblNDSEVNRVNbaGFuZGxlci5zY2hlbWVdID0gaGFuZGxlcjtcblNDSEVNRVNbaGFuZGxlciQxLnNjaGVtZV0gPSBoYW5kbGVyJDE7XG5TQ0hFTUVTW2hhbmRsZXIkMi5zY2hlbWVdID0gaGFuZGxlciQyO1xuU0NIRU1FU1toYW5kbGVyJDMuc2NoZW1lXSA9IGhhbmRsZXIkMztcblNDSEVNRVNbaGFuZGxlciQ0LnNjaGVtZV0gPSBoYW5kbGVyJDQ7XG5TQ0hFTUVTW2hhbmRsZXIkNS5zY2hlbWVdID0gaGFuZGxlciQ1O1xuU0NIRU1FU1toYW5kbGVyJDYuc2NoZW1lXSA9IGhhbmRsZXIkNjtcblxuZXhwb3J0cy5TQ0hFTUVTID0gU0NIRU1FUztcbmV4cG9ydHMucGN0RW5jQ2hhciA9IHBjdEVuY0NoYXI7XG5leHBvcnRzLnBjdERlY0NoYXJzID0gcGN0RGVjQ2hhcnM7XG5leHBvcnRzLnBhcnNlID0gcGFyc2U7XG5leHBvcnRzLnJlbW92ZURvdFNlZ21lbnRzID0gcmVtb3ZlRG90U2VnbWVudHM7XG5leHBvcnRzLnNlcmlhbGl6ZSA9IHNlcmlhbGl6ZTtcbmV4cG9ydHMucmVzb2x2ZUNvbXBvbmVudHMgPSByZXNvbHZlQ29tcG9uZW50cztcbmV4cG9ydHMucmVzb2x2ZSA9IHJlc29sdmU7XG5leHBvcnRzLm5vcm1hbGl6ZSA9IG5vcm1hbGl6ZTtcbmV4cG9ydHMuZXF1YWwgPSBlcXVhbDtcbmV4cG9ydHMuZXNjYXBlQ29tcG9uZW50ID0gZXNjYXBlQ29tcG9uZW50O1xuZXhwb3J0cy51bmVzY2FwZUNvbXBvbmVudCA9IHVuZXNjYXBlQ29tcG9uZW50O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG59KSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXJpLmFsbC5qcy5tYXBcbiIsIid1c2Ugc3RyaWN0JztcblxuLy8gZG8gbm90IGVkaXQgLmpzIGZpbGVzIGRpcmVjdGx5IC0gZWRpdCBzcmMvaW5kZXguanN0XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuXG4gIGlmIChhICYmIGIgJiYgdHlwZW9mIGEgPT0gJ29iamVjdCcgJiYgdHlwZW9mIGIgPT0gJ29iamVjdCcpIHtcbiAgICBpZiAoYS5jb25zdHJ1Y3RvciAhPT0gYi5jb25zdHJ1Y3RvcikgcmV0dXJuIGZhbHNlO1xuXG4gICAgdmFyIGxlbmd0aCwgaSwga2V5cztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoICE9IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspXG4gICAgICAgIGlmICghZXF1YWwoYVtpXSwgYltpXSkpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuXG5cbiAgICBpZiAoYS5jb25zdHJ1Y3RvciA9PT0gUmVnRXhwKSByZXR1cm4gYS5zb3VyY2UgPT09IGIuc291cmNlICYmIGEuZmxhZ3MgPT09IGIuZmxhZ3M7XG4gICAgaWYgKGEudmFsdWVPZiAhPT0gT2JqZWN0LnByb3RvdHlwZS52YWx1ZU9mKSByZXR1cm4gYS52YWx1ZU9mKCkgPT09IGIudmFsdWVPZigpO1xuICAgIGlmIChhLnRvU3RyaW5nICE9PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKSByZXR1cm4gYS50b1N0cmluZygpID09PSBiLnRvU3RyaW5nKCk7XG5cbiAgICBrZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gICAgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCAhPT0gT2JqZWN0LmtleXMoYikubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspXG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBrZXlzW2ldKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblxuICAgICAgaWYgKCFlcXVhbChhW2tleV0sIGJba2V5XSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIHRydWUgaWYgYm90aCBOYU4sIGZhbHNlIG90aGVyd2lzZVxuICByZXR1cm4gYSE9PWEgJiYgYiE9PWI7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZ1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Jlc3RpZWpzL3B1bnljb2RlLmpzIC0gcHVueWNvZGUudWNzMi5kZWNvZGVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdWNzMmxlbmd0aChzdHIpIHtcbiAgdmFyIGxlbmd0aCA9IDBcbiAgICAsIGxlbiA9IHN0ci5sZW5ndGhcbiAgICAsIHBvcyA9IDBcbiAgICAsIHZhbHVlO1xuICB3aGlsZSAocG9zIDwgbGVuKSB7XG4gICAgbGVuZ3RoKys7XG4gICAgdmFsdWUgPSBzdHIuY2hhckNvZGVBdChwb3MrKyk7XG4gICAgaWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgcG9zIDwgbGVuKSB7XG4gICAgICAvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXJcbiAgICAgIHZhbHVlID0gc3RyLmNoYXJDb2RlQXQocG9zKTtcbiAgICAgIGlmICgodmFsdWUgJiAweEZDMDApID09IDB4REMwMCkgcG9zKys7IC8vIGxvdyBzdXJyb2dhdGVcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxlbmd0aDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNvcHk6IGNvcHksXG4gIGNoZWNrRGF0YVR5cGU6IGNoZWNrRGF0YVR5cGUsXG4gIGNoZWNrRGF0YVR5cGVzOiBjaGVja0RhdGFUeXBlcyxcbiAgY29lcmNlVG9UeXBlczogY29lcmNlVG9UeXBlcyxcbiAgdG9IYXNoOiB0b0hhc2gsXG4gIGdldFByb3BlcnR5OiBnZXRQcm9wZXJ0eSxcbiAgZXNjYXBlUXVvdGVzOiBlc2NhcGVRdW90ZXMsXG4gIGVxdWFsOiByZXF1aXJlKCdmYXN0LWRlZXAtZXF1YWwnKSxcbiAgdWNzMmxlbmd0aDogcmVxdWlyZSgnLi91Y3MybGVuZ3RoJyksXG4gIHZhck9jY3VyZW5jZXM6IHZhck9jY3VyZW5jZXMsXG4gIHZhclJlcGxhY2U6IHZhclJlcGxhY2UsXG4gIHNjaGVtYUhhc1J1bGVzOiBzY2hlbWFIYXNSdWxlcyxcbiAgc2NoZW1hSGFzUnVsZXNFeGNlcHQ6IHNjaGVtYUhhc1J1bGVzRXhjZXB0LFxuICBzY2hlbWFVbmtub3duUnVsZXM6IHNjaGVtYVVua25vd25SdWxlcyxcbiAgdG9RdW90ZWRTdHJpbmc6IHRvUXVvdGVkU3RyaW5nLFxuICBnZXRQYXRoRXhwcjogZ2V0UGF0aEV4cHIsXG4gIGdldFBhdGg6IGdldFBhdGgsXG4gIGdldERhdGE6IGdldERhdGEsXG4gIHVuZXNjYXBlRnJhZ21lbnQ6IHVuZXNjYXBlRnJhZ21lbnQsXG4gIHVuZXNjYXBlSnNvblBvaW50ZXI6IHVuZXNjYXBlSnNvblBvaW50ZXIsXG4gIGVzY2FwZUZyYWdtZW50OiBlc2NhcGVGcmFnbWVudCxcbiAgZXNjYXBlSnNvblBvaW50ZXI6IGVzY2FwZUpzb25Qb2ludGVyXG59O1xuXG5cbmZ1bmN0aW9uIGNvcHkobywgdG8pIHtcbiAgdG8gPSB0byB8fCB7fTtcbiAgZm9yICh2YXIga2V5IGluIG8pIHRvW2tleV0gPSBvW2tleV07XG4gIHJldHVybiB0bztcbn1cblxuXG5mdW5jdGlvbiBjaGVja0RhdGFUeXBlKGRhdGFUeXBlLCBkYXRhLCBzdHJpY3ROdW1iZXJzLCBuZWdhdGUpIHtcbiAgdmFyIEVRVUFMID0gbmVnYXRlID8gJyAhPT0gJyA6ICcgPT09ICdcbiAgICAsIEFORCA9IG5lZ2F0ZSA/ICcgfHwgJyA6ICcgJiYgJ1xuICAgICwgT0sgPSBuZWdhdGUgPyAnIScgOiAnJ1xuICAgICwgTk9UID0gbmVnYXRlID8gJycgOiAnISc7XG4gIHN3aXRjaCAoZGF0YVR5cGUpIHtcbiAgICBjYXNlICdudWxsJzogcmV0dXJuIGRhdGEgKyBFUVVBTCArICdudWxsJztcbiAgICBjYXNlICdhcnJheSc6IHJldHVybiBPSyArICdBcnJheS5pc0FycmF5KCcgKyBkYXRhICsgJyknO1xuICAgIGNhc2UgJ29iamVjdCc6IHJldHVybiAnKCcgKyBPSyArIGRhdGEgKyBBTkQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAndHlwZW9mICcgKyBkYXRhICsgRVFVQUwgKyAnXCJvYmplY3RcIicgKyBBTkQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICBOT1QgKyAnQXJyYXkuaXNBcnJheSgnICsgZGF0YSArICcpKSc7XG4gICAgY2FzZSAnaW50ZWdlcic6IHJldHVybiAnKHR5cGVvZiAnICsgZGF0YSArIEVRVUFMICsgJ1wibnVtYmVyXCInICsgQU5EICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIE5PVCArICcoJyArIGRhdGEgKyAnICUgMSknICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIEFORCArIGRhdGEgKyBFUVVBTCArIGRhdGEgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0cmljdE51bWJlcnMgPyAoQU5EICsgT0sgKyAnaXNGaW5pdGUoJyArIGRhdGEgKyAnKScpIDogJycpICsgJyknO1xuICAgIGNhc2UgJ251bWJlcic6IHJldHVybiAnKHR5cGVvZiAnICsgZGF0YSArIEVRVUFMICsgJ1wiJyArIGRhdGFUeXBlICsgJ1wiJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChzdHJpY3ROdW1iZXJzID8gKEFORCArIE9LICsgJ2lzRmluaXRlKCcgKyBkYXRhICsgJyknKSA6ICcnKSArICcpJztcbiAgICBkZWZhdWx0OiByZXR1cm4gJ3R5cGVvZiAnICsgZGF0YSArIEVRVUFMICsgJ1wiJyArIGRhdGFUeXBlICsgJ1wiJztcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGNoZWNrRGF0YVR5cGVzKGRhdGFUeXBlcywgZGF0YSwgc3RyaWN0TnVtYmVycykge1xuICBzd2l0Y2ggKGRhdGFUeXBlcy5sZW5ndGgpIHtcbiAgICBjYXNlIDE6IHJldHVybiBjaGVja0RhdGFUeXBlKGRhdGFUeXBlc1swXSwgZGF0YSwgc3RyaWN0TnVtYmVycywgdHJ1ZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHZhciBjb2RlID0gJyc7XG4gICAgICB2YXIgdHlwZXMgPSB0b0hhc2goZGF0YVR5cGVzKTtcbiAgICAgIGlmICh0eXBlcy5hcnJheSAmJiB0eXBlcy5vYmplY3QpIHtcbiAgICAgICAgY29kZSA9IHR5cGVzLm51bGwgPyAnKCc6ICcoIScgKyBkYXRhICsgJyB8fCAnO1xuICAgICAgICBjb2RlICs9ICd0eXBlb2YgJyArIGRhdGEgKyAnICE9PSBcIm9iamVjdFwiKSc7XG4gICAgICAgIGRlbGV0ZSB0eXBlcy5udWxsO1xuICAgICAgICBkZWxldGUgdHlwZXMuYXJyYXk7XG4gICAgICAgIGRlbGV0ZSB0eXBlcy5vYmplY3Q7XG4gICAgICB9XG4gICAgICBpZiAodHlwZXMubnVtYmVyKSBkZWxldGUgdHlwZXMuaW50ZWdlcjtcbiAgICAgIGZvciAodmFyIHQgaW4gdHlwZXMpXG4gICAgICAgIGNvZGUgKz0gKGNvZGUgPyAnICYmICcgOiAnJyApICsgY2hlY2tEYXRhVHlwZSh0LCBkYXRhLCBzdHJpY3ROdW1iZXJzLCB0cnVlKTtcblxuICAgICAgcmV0dXJuIGNvZGU7XG4gIH1cbn1cblxuXG52YXIgQ09FUkNFX1RPX1RZUEVTID0gdG9IYXNoKFsgJ3N0cmluZycsICdudW1iZXInLCAnaW50ZWdlcicsICdib29sZWFuJywgJ251bGwnIF0pO1xuZnVuY3Rpb24gY29lcmNlVG9UeXBlcyhvcHRpb25Db2VyY2VUeXBlcywgZGF0YVR5cGVzKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGRhdGFUeXBlcykpIHtcbiAgICB2YXIgdHlwZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpPTA7IGk8ZGF0YVR5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdCA9IGRhdGFUeXBlc1tpXTtcbiAgICAgIGlmIChDT0VSQ0VfVE9fVFlQRVNbdF0pIHR5cGVzW3R5cGVzLmxlbmd0aF0gPSB0O1xuICAgICAgZWxzZSBpZiAob3B0aW9uQ29lcmNlVHlwZXMgPT09ICdhcnJheScgJiYgdCA9PT0gJ2FycmF5JykgdHlwZXNbdHlwZXMubGVuZ3RoXSA9IHQ7XG4gICAgfVxuICAgIGlmICh0eXBlcy5sZW5ndGgpIHJldHVybiB0eXBlcztcbiAgfSBlbHNlIGlmIChDT0VSQ0VfVE9fVFlQRVNbZGF0YVR5cGVzXSkge1xuICAgIHJldHVybiBbZGF0YVR5cGVzXTtcbiAgfSBlbHNlIGlmIChvcHRpb25Db2VyY2VUeXBlcyA9PT0gJ2FycmF5JyAmJiBkYXRhVHlwZXMgPT09ICdhcnJheScpIHtcbiAgICByZXR1cm4gWydhcnJheSddO1xuICB9XG59XG5cblxuZnVuY3Rpb24gdG9IYXNoKGFycikge1xuICB2YXIgaGFzaCA9IHt9O1xuICBmb3IgKHZhciBpPTA7IGk8YXJyLmxlbmd0aDsgaSsrKSBoYXNoW2FycltpXV0gPSB0cnVlO1xuICByZXR1cm4gaGFzaDtcbn1cblxuXG52YXIgSURFTlRJRklFUiA9IC9eW2EteiRfXVthLXokXzAtOV0qJC9pO1xudmFyIFNJTkdMRV9RVU9URSA9IC8nfFxcXFwvZztcbmZ1bmN0aW9uIGdldFByb3BlcnR5KGtleSkge1xuICByZXR1cm4gdHlwZW9mIGtleSA9PSAnbnVtYmVyJ1xuICAgICAgICAgID8gJ1snICsga2V5ICsgJ10nXG4gICAgICAgICAgOiBJREVOVElGSUVSLnRlc3Qoa2V5KVxuICAgICAgICAgICAgPyAnLicgKyBrZXlcbiAgICAgICAgICAgIDogXCJbJ1wiICsgZXNjYXBlUXVvdGVzKGtleSkgKyBcIiddXCI7XG59XG5cblxuZnVuY3Rpb24gZXNjYXBlUXVvdGVzKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoU0lOR0xFX1FVT1RFLCAnXFxcXCQmJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXG4vZywgJ1xcXFxuJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHIvZywgJ1xcXFxyJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXGYvZywgJ1xcXFxmJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHQvZywgJ1xcXFx0Jyk7XG59XG5cblxuZnVuY3Rpb24gdmFyT2NjdXJlbmNlcyhzdHIsIGRhdGFWYXIpIHtcbiAgZGF0YVZhciArPSAnW14wLTldJztcbiAgdmFyIG1hdGNoZXMgPSBzdHIubWF0Y2gobmV3IFJlZ0V4cChkYXRhVmFyLCAnZycpKTtcbiAgcmV0dXJuIG1hdGNoZXMgPyBtYXRjaGVzLmxlbmd0aCA6IDA7XG59XG5cblxuZnVuY3Rpb24gdmFyUmVwbGFjZShzdHIsIGRhdGFWYXIsIGV4cHIpIHtcbiAgZGF0YVZhciArPSAnKFteMC05XSknO1xuICBleHByID0gZXhwci5yZXBsYWNlKC9cXCQvZywgJyQkJCQnKTtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKG5ldyBSZWdFeHAoZGF0YVZhciwgJ2cnKSwgZXhwciArICckMScpO1xufVxuXG5cbmZ1bmN0aW9uIHNjaGVtYUhhc1J1bGVzKHNjaGVtYSwgcnVsZXMpIHtcbiAgaWYgKHR5cGVvZiBzY2hlbWEgPT0gJ2Jvb2xlYW4nKSByZXR1cm4gIXNjaGVtYTtcbiAgZm9yICh2YXIga2V5IGluIHNjaGVtYSkgaWYgKHJ1bGVzW2tleV0pIHJldHVybiB0cnVlO1xufVxuXG5cbmZ1bmN0aW9uIHNjaGVtYUhhc1J1bGVzRXhjZXB0KHNjaGVtYSwgcnVsZXMsIGV4Y2VwdEtleXdvcmQpIHtcbiAgaWYgKHR5cGVvZiBzY2hlbWEgPT0gJ2Jvb2xlYW4nKSByZXR1cm4gIXNjaGVtYSAmJiBleGNlcHRLZXl3b3JkICE9ICdub3QnO1xuICBmb3IgKHZhciBrZXkgaW4gc2NoZW1hKSBpZiAoa2V5ICE9IGV4Y2VwdEtleXdvcmQgJiYgcnVsZXNba2V5XSkgcmV0dXJuIHRydWU7XG59XG5cblxuZnVuY3Rpb24gc2NoZW1hVW5rbm93blJ1bGVzKHNjaGVtYSwgcnVsZXMpIHtcbiAgaWYgKHR5cGVvZiBzY2hlbWEgPT0gJ2Jvb2xlYW4nKSByZXR1cm47XG4gIGZvciAodmFyIGtleSBpbiBzY2hlbWEpIGlmICghcnVsZXNba2V5XSkgcmV0dXJuIGtleTtcbn1cblxuXG5mdW5jdGlvbiB0b1F1b3RlZFN0cmluZyhzdHIpIHtcbiAgcmV0dXJuICdcXCcnICsgZXNjYXBlUXVvdGVzKHN0cikgKyAnXFwnJztcbn1cblxuXG5mdW5jdGlvbiBnZXRQYXRoRXhwcihjdXJyZW50UGF0aCwgZXhwciwganNvblBvaW50ZXJzLCBpc051bWJlcikge1xuICB2YXIgcGF0aCA9IGpzb25Qb2ludGVycyAvLyBmYWxzZSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgID8gJ1xcJy9cXCcgKyAnICsgZXhwciArIChpc051bWJlciA/ICcnIDogJy5yZXBsYWNlKC9+L2csIFxcJ34wXFwnKS5yZXBsYWNlKC9cXFxcLy9nLCBcXCd+MVxcJyknKVxuICAgICAgICAgICAgICA6IChpc051bWJlciA/ICdcXCdbXFwnICsgJyArIGV4cHIgKyAnICsgXFwnXVxcJycgOiAnXFwnW1xcXFxcXCdcXCcgKyAnICsgZXhwciArICcgKyBcXCdcXFxcXFwnXVxcJycpO1xuICByZXR1cm4gam9pblBhdGhzKGN1cnJlbnRQYXRoLCBwYXRoKTtcbn1cblxuXG5mdW5jdGlvbiBnZXRQYXRoKGN1cnJlbnRQYXRoLCBwcm9wLCBqc29uUG9pbnRlcnMpIHtcbiAgdmFyIHBhdGggPSBqc29uUG9pbnRlcnMgLy8gZmFsc2UgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICA/IHRvUXVvdGVkU3RyaW5nKCcvJyArIGVzY2FwZUpzb25Qb2ludGVyKHByb3ApKVxuICAgICAgICAgICAgICA6IHRvUXVvdGVkU3RyaW5nKGdldFByb3BlcnR5KHByb3ApKTtcbiAgcmV0dXJuIGpvaW5QYXRocyhjdXJyZW50UGF0aCwgcGF0aCk7XG59XG5cblxudmFyIEpTT05fUE9JTlRFUiA9IC9eXFwvKD86W15+XXx+MHx+MSkqJC87XG52YXIgUkVMQVRJVkVfSlNPTl9QT0lOVEVSID0gL14oWzAtOV0rKSgjfFxcLyg/Oltefl18fjB8fjEpKik/JC87XG5mdW5jdGlvbiBnZXREYXRhKCRkYXRhLCBsdmwsIHBhdGhzKSB7XG4gIHZhciB1cCwganNvblBvaW50ZXIsIGRhdGEsIG1hdGNoZXM7XG4gIGlmICgkZGF0YSA9PT0gJycpIHJldHVybiAncm9vdERhdGEnO1xuICBpZiAoJGRhdGFbMF0gPT0gJy8nKSB7XG4gICAgaWYgKCFKU09OX1BPSU5URVIudGVzdCgkZGF0YSkpIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBKU09OLXBvaW50ZXI6ICcgKyAkZGF0YSk7XG4gICAganNvblBvaW50ZXIgPSAkZGF0YTtcbiAgICBkYXRhID0gJ3Jvb3REYXRhJztcbiAgfSBlbHNlIHtcbiAgICBtYXRjaGVzID0gJGRhdGEubWF0Y2goUkVMQVRJVkVfSlNPTl9QT0lOVEVSKTtcbiAgICBpZiAoIW1hdGNoZXMpIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBKU09OLXBvaW50ZXI6ICcgKyAkZGF0YSk7XG4gICAgdXAgPSArbWF0Y2hlc1sxXTtcbiAgICBqc29uUG9pbnRlciA9IG1hdGNoZXNbMl07XG4gICAgaWYgKGpzb25Qb2ludGVyID09ICcjJykge1xuICAgICAgaWYgKHVwID49IGx2bCkgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYWNjZXNzIHByb3BlcnR5L2luZGV4ICcgKyB1cCArICcgbGV2ZWxzIHVwLCBjdXJyZW50IGxldmVsIGlzICcgKyBsdmwpO1xuICAgICAgcmV0dXJuIHBhdGhzW2x2bCAtIHVwXTtcbiAgICB9XG5cbiAgICBpZiAodXAgPiBsdmwpIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFjY2VzcyBkYXRhICcgKyB1cCArICcgbGV2ZWxzIHVwLCBjdXJyZW50IGxldmVsIGlzICcgKyBsdmwpO1xuICAgIGRhdGEgPSAnZGF0YScgKyAoKGx2bCAtIHVwKSB8fCAnJyk7XG4gICAgaWYgKCFqc29uUG9pbnRlcikgcmV0dXJuIGRhdGE7XG4gIH1cblxuICB2YXIgZXhwciA9IGRhdGE7XG4gIHZhciBzZWdtZW50cyA9IGpzb25Qb2ludGVyLnNwbGl0KCcvJyk7XG4gIGZvciAodmFyIGk9MDsgaTxzZWdtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzZWdtZW50ID0gc2VnbWVudHNbaV07XG4gICAgaWYgKHNlZ21lbnQpIHtcbiAgICAgIGRhdGEgKz0gZ2V0UHJvcGVydHkodW5lc2NhcGVKc29uUG9pbnRlcihzZWdtZW50KSk7XG4gICAgICBleHByICs9ICcgJiYgJyArIGRhdGE7XG4gICAgfVxuICB9XG4gIHJldHVybiBleHByO1xufVxuXG5cbmZ1bmN0aW9uIGpvaW5QYXRocyAoYSwgYikge1xuICBpZiAoYSA9PSAnXCJcIicpIHJldHVybiBiO1xuICByZXR1cm4gKGEgKyAnICsgJyArIGIpLnJlcGxhY2UoLyhbXlxcXFxdKScgXFwrICcvZywgJyQxJyk7XG59XG5cblxuZnVuY3Rpb24gdW5lc2NhcGVGcmFnbWVudChzdHIpIHtcbiAgcmV0dXJuIHVuZXNjYXBlSnNvblBvaW50ZXIoZGVjb2RlVVJJQ29tcG9uZW50KHN0cikpO1xufVxuXG5cbmZ1bmN0aW9uIGVzY2FwZUZyYWdtZW50KHN0cikge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGVzY2FwZUpzb25Qb2ludGVyKHN0cikpO1xufVxuXG5cbmZ1bmN0aW9uIGVzY2FwZUpzb25Qb2ludGVyKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL34vZywgJ34wJykucmVwbGFjZSgvXFwvL2csICd+MScpO1xufVxuXG5cbmZ1bmN0aW9uIHVuZXNjYXBlSnNvblBvaW50ZXIoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvfjEvZywgJy8nKS5yZXBsYWNlKC9+MC9nLCAnficpO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNjaGVtYU9iamVjdDtcblxuZnVuY3Rpb24gU2NoZW1hT2JqZWN0KG9iaikge1xuICB1dGlsLmNvcHkob2JqLCB0aGlzKTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHRyYXZlcnNlID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc2NoZW1hLCBvcHRzLCBjYikge1xuICAvLyBMZWdhY3kgc3VwcG9ydCBmb3IgdjAuMy4xIGFuZCBlYXJsaWVyLlxuICBpZiAodHlwZW9mIG9wdHMgPT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cblxuICBjYiA9IG9wdHMuY2IgfHwgY2I7XG4gIHZhciBwcmUgPSAodHlwZW9mIGNiID09ICdmdW5jdGlvbicpID8gY2IgOiBjYi5wcmUgfHwgZnVuY3Rpb24oKSB7fTtcbiAgdmFyIHBvc3QgPSBjYi5wb3N0IHx8IGZ1bmN0aW9uKCkge307XG5cbiAgX3RyYXZlcnNlKG9wdHMsIHByZSwgcG9zdCwgc2NoZW1hLCAnJywgc2NoZW1hKTtcbn07XG5cblxudHJhdmVyc2Uua2V5d29yZHMgPSB7XG4gIGFkZGl0aW9uYWxJdGVtczogdHJ1ZSxcbiAgaXRlbXM6IHRydWUsXG4gIGNvbnRhaW5zOiB0cnVlLFxuICBhZGRpdGlvbmFsUHJvcGVydGllczogdHJ1ZSxcbiAgcHJvcGVydHlOYW1lczogdHJ1ZSxcbiAgbm90OiB0cnVlXG59O1xuXG50cmF2ZXJzZS5hcnJheUtleXdvcmRzID0ge1xuICBpdGVtczogdHJ1ZSxcbiAgYWxsT2Y6IHRydWUsXG4gIGFueU9mOiB0cnVlLFxuICBvbmVPZjogdHJ1ZVxufTtcblxudHJhdmVyc2UucHJvcHNLZXl3b3JkcyA9IHtcbiAgZGVmaW5pdGlvbnM6IHRydWUsXG4gIHByb3BlcnRpZXM6IHRydWUsXG4gIHBhdHRlcm5Qcm9wZXJ0aWVzOiB0cnVlLFxuICBkZXBlbmRlbmNpZXM6IHRydWVcbn07XG5cbnRyYXZlcnNlLnNraXBLZXl3b3JkcyA9IHtcbiAgZGVmYXVsdDogdHJ1ZSxcbiAgZW51bTogdHJ1ZSxcbiAgY29uc3Q6IHRydWUsXG4gIHJlcXVpcmVkOiB0cnVlLFxuICBtYXhpbXVtOiB0cnVlLFxuICBtaW5pbXVtOiB0cnVlLFxuICBleGNsdXNpdmVNYXhpbXVtOiB0cnVlLFxuICBleGNsdXNpdmVNaW5pbXVtOiB0cnVlLFxuICBtdWx0aXBsZU9mOiB0cnVlLFxuICBtYXhMZW5ndGg6IHRydWUsXG4gIG1pbkxlbmd0aDogdHJ1ZSxcbiAgcGF0dGVybjogdHJ1ZSxcbiAgZm9ybWF0OiB0cnVlLFxuICBtYXhJdGVtczogdHJ1ZSxcbiAgbWluSXRlbXM6IHRydWUsXG4gIHVuaXF1ZUl0ZW1zOiB0cnVlLFxuICBtYXhQcm9wZXJ0aWVzOiB0cnVlLFxuICBtaW5Qcm9wZXJ0aWVzOiB0cnVlXG59O1xuXG5cbmZ1bmN0aW9uIF90cmF2ZXJzZShvcHRzLCBwcmUsIHBvc3QsIHNjaGVtYSwganNvblB0ciwgcm9vdFNjaGVtYSwgcGFyZW50SnNvblB0ciwgcGFyZW50S2V5d29yZCwgcGFyZW50U2NoZW1hLCBrZXlJbmRleCkge1xuICBpZiAoc2NoZW1hICYmIHR5cGVvZiBzY2hlbWEgPT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoc2NoZW1hKSkge1xuICAgIHByZShzY2hlbWEsIGpzb25QdHIsIHJvb3RTY2hlbWEsIHBhcmVudEpzb25QdHIsIHBhcmVudEtleXdvcmQsIHBhcmVudFNjaGVtYSwga2V5SW5kZXgpO1xuICAgIGZvciAodmFyIGtleSBpbiBzY2hlbWEpIHtcbiAgICAgIHZhciBzY2ggPSBzY2hlbWFba2V5XTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjaCkpIHtcbiAgICAgICAgaWYgKGtleSBpbiB0cmF2ZXJzZS5hcnJheUtleXdvcmRzKSB7XG4gICAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNjaC5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIF90cmF2ZXJzZShvcHRzLCBwcmUsIHBvc3QsIHNjaFtpXSwganNvblB0ciArICcvJyArIGtleSArICcvJyArIGksIHJvb3RTY2hlbWEsIGpzb25QdHIsIGtleSwgc2NoZW1hLCBpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChrZXkgaW4gdHJhdmVyc2UucHJvcHNLZXl3b3Jkcykge1xuICAgICAgICBpZiAoc2NoICYmIHR5cGVvZiBzY2ggPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHNjaClcbiAgICAgICAgICAgIF90cmF2ZXJzZShvcHRzLCBwcmUsIHBvc3QsIHNjaFtwcm9wXSwganNvblB0ciArICcvJyArIGtleSArICcvJyArIGVzY2FwZUpzb25QdHIocHJvcCksIHJvb3RTY2hlbWEsIGpzb25QdHIsIGtleSwgc2NoZW1hLCBwcm9wKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChrZXkgaW4gdHJhdmVyc2Uua2V5d29yZHMgfHwgKG9wdHMuYWxsS2V5cyAmJiAhKGtleSBpbiB0cmF2ZXJzZS5za2lwS2V5d29yZHMpKSkge1xuICAgICAgICBfdHJhdmVyc2Uob3B0cywgcHJlLCBwb3N0LCBzY2gsIGpzb25QdHIgKyAnLycgKyBrZXksIHJvb3RTY2hlbWEsIGpzb25QdHIsIGtleSwgc2NoZW1hKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcG9zdChzY2hlbWEsIGpzb25QdHIsIHJvb3RTY2hlbWEsIHBhcmVudEpzb25QdHIsIHBhcmVudEtleXdvcmQsIHBhcmVudFNjaGVtYSwga2V5SW5kZXgpO1xuICB9XG59XG5cblxuZnVuY3Rpb24gZXNjYXBlSnNvblB0cihzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9+L2csICd+MCcpLnJlcGxhY2UoL1xcLy9nLCAnfjEnKTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFVSSSA9IHJlcXVpcmUoJ3VyaS1qcycpXG4gICwgZXF1YWwgPSByZXF1aXJlKCdmYXN0LWRlZXAtZXF1YWwnKVxuICAsIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKVxuICAsIFNjaGVtYU9iamVjdCA9IHJlcXVpcmUoJy4vc2NoZW1hX29iaicpXG4gICwgdHJhdmVyc2UgPSByZXF1aXJlKCdqc29uLXNjaGVtYS10cmF2ZXJzZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlc29sdmU7XG5cbnJlc29sdmUubm9ybWFsaXplSWQgPSBub3JtYWxpemVJZDtcbnJlc29sdmUuZnVsbFBhdGggPSBnZXRGdWxsUGF0aDtcbnJlc29sdmUudXJsID0gcmVzb2x2ZVVybDtcbnJlc29sdmUuaWRzID0gcmVzb2x2ZUlkcztcbnJlc29sdmUuaW5saW5lUmVmID0gaW5saW5lUmVmO1xucmVzb2x2ZS5zY2hlbWEgPSByZXNvbHZlU2NoZW1hO1xuXG4vKipcbiAqIFtyZXNvbHZlIGFuZCBjb21waWxlIHRoZSByZWZlcmVuY2VzICgkcmVmKV1cbiAqIEB0aGlzICAgQWp2XG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gY29tcGlsZSByZWZlcmVuY2UgdG8gc2NoZW1hIGNvbXBpbGF0aW9uIGZ1bmNpdG9uIChsb2NhbENvbXBpbGUpXG4gKiBAcGFyYW0gIHtPYmplY3R9IHJvb3Qgb2JqZWN0IHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIHJvb3Qgc2NoZW1hIGZvciB0aGUgY3VycmVudCBzY2hlbWFcbiAqIEBwYXJhbSAge1N0cmluZ30gcmVmIHJlZmVyZW5jZSB0byByZXNvbHZlXG4gKiBAcmV0dXJuIHtPYmplY3R8RnVuY3Rpb259IHNjaGVtYSBvYmplY3QgKGlmIHRoZSBzY2hlbWEgY2FuIGJlIGlubGluZWQpIG9yIHZhbGlkYXRpb24gZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZShjb21waWxlLCByb290LCByZWYpIHtcbiAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICB2YXIgcmVmVmFsID0gdGhpcy5fcmVmc1tyZWZdO1xuICBpZiAodHlwZW9mIHJlZlZhbCA9PSAnc3RyaW5nJykge1xuICAgIGlmICh0aGlzLl9yZWZzW3JlZlZhbF0pIHJlZlZhbCA9IHRoaXMuX3JlZnNbcmVmVmFsXTtcbiAgICBlbHNlIHJldHVybiByZXNvbHZlLmNhbGwodGhpcywgY29tcGlsZSwgcm9vdCwgcmVmVmFsKTtcbiAgfVxuXG4gIHJlZlZhbCA9IHJlZlZhbCB8fCB0aGlzLl9zY2hlbWFzW3JlZl07XG4gIGlmIChyZWZWYWwgaW5zdGFuY2VvZiBTY2hlbWFPYmplY3QpIHtcbiAgICByZXR1cm4gaW5saW5lUmVmKHJlZlZhbC5zY2hlbWEsIHRoaXMuX29wdHMuaW5saW5lUmVmcylcbiAgICAgICAgICAgID8gcmVmVmFsLnNjaGVtYVxuICAgICAgICAgICAgOiByZWZWYWwudmFsaWRhdGUgfHwgdGhpcy5fY29tcGlsZShyZWZWYWwpO1xuICB9XG5cbiAgdmFyIHJlcyA9IHJlc29sdmVTY2hlbWEuY2FsbCh0aGlzLCByb290LCByZWYpO1xuICB2YXIgc2NoZW1hLCB2LCBiYXNlSWQ7XG4gIGlmIChyZXMpIHtcbiAgICBzY2hlbWEgPSByZXMuc2NoZW1hO1xuICAgIHJvb3QgPSByZXMucm9vdDtcbiAgICBiYXNlSWQgPSByZXMuYmFzZUlkO1xuICB9XG5cbiAgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFNjaGVtYU9iamVjdCkge1xuICAgIHYgPSBzY2hlbWEudmFsaWRhdGUgfHwgY29tcGlsZS5jYWxsKHRoaXMsIHNjaGVtYS5zY2hlbWEsIHJvb3QsIHVuZGVmaW5lZCwgYmFzZUlkKTtcbiAgfSBlbHNlIGlmIChzY2hlbWEgIT09IHVuZGVmaW5lZCkge1xuICAgIHYgPSBpbmxpbmVSZWYoc2NoZW1hLCB0aGlzLl9vcHRzLmlubGluZVJlZnMpXG4gICAgICAgID8gc2NoZW1hXG4gICAgICAgIDogY29tcGlsZS5jYWxsKHRoaXMsIHNjaGVtYSwgcm9vdCwgdW5kZWZpbmVkLCBiYXNlSWQpO1xuICB9XG5cbiAgcmV0dXJuIHY7XG59XG5cblxuLyoqXG4gKiBSZXNvbHZlIHNjaGVtYSwgaXRzIHJvb3QgYW5kIGJhc2VJZFxuICogQHRoaXMgQWp2XG4gKiBAcGFyYW0gIHtPYmplY3R9IHJvb3Qgcm9vdCBvYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIHNjaGVtYSwgcmVmVmFsLCByZWZzXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHJlZiAgcmVmZXJlbmNlIHRvIHJlc29sdmVcbiAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHdpdGggcHJvcGVydGllcyBzY2hlbWEsIHJvb3QsIGJhc2VJZFxuICovXG5mdW5jdGlvbiByZXNvbHZlU2NoZW1hKHJvb3QsIHJlZikge1xuICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gIHZhciBwID0gVVJJLnBhcnNlKHJlZilcbiAgICAsIHJlZlBhdGggPSBfZ2V0RnVsbFBhdGgocClcbiAgICAsIGJhc2VJZCA9IGdldEZ1bGxQYXRoKHRoaXMuX2dldElkKHJvb3Quc2NoZW1hKSk7XG4gIGlmIChPYmplY3Qua2V5cyhyb290LnNjaGVtYSkubGVuZ3RoID09PSAwIHx8IHJlZlBhdGggIT09IGJhc2VJZCkge1xuICAgIHZhciBpZCA9IG5vcm1hbGl6ZUlkKHJlZlBhdGgpO1xuICAgIHZhciByZWZWYWwgPSB0aGlzLl9yZWZzW2lkXTtcbiAgICBpZiAodHlwZW9mIHJlZlZhbCA9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIHJlc29sdmVSZWN1cnNpdmUuY2FsbCh0aGlzLCByb290LCByZWZWYWwsIHApO1xuICAgIH0gZWxzZSBpZiAocmVmVmFsIGluc3RhbmNlb2YgU2NoZW1hT2JqZWN0KSB7XG4gICAgICBpZiAoIXJlZlZhbC52YWxpZGF0ZSkgdGhpcy5fY29tcGlsZShyZWZWYWwpO1xuICAgICAgcm9vdCA9IHJlZlZhbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVmVmFsID0gdGhpcy5fc2NoZW1hc1tpZF07XG4gICAgICBpZiAocmVmVmFsIGluc3RhbmNlb2YgU2NoZW1hT2JqZWN0KSB7XG4gICAgICAgIGlmICghcmVmVmFsLnZhbGlkYXRlKSB0aGlzLl9jb21waWxlKHJlZlZhbCk7XG4gICAgICAgIGlmIChpZCA9PSBub3JtYWxpemVJZChyZWYpKVxuICAgICAgICAgIHJldHVybiB7IHNjaGVtYTogcmVmVmFsLCByb290OiByb290LCBiYXNlSWQ6IGJhc2VJZCB9O1xuICAgICAgICByb290ID0gcmVmVmFsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXJvb3Quc2NoZW1hKSByZXR1cm47XG4gICAgYmFzZUlkID0gZ2V0RnVsbFBhdGgodGhpcy5fZ2V0SWQocm9vdC5zY2hlbWEpKTtcbiAgfVxuICByZXR1cm4gZ2V0SnNvblBvaW50ZXIuY2FsbCh0aGlzLCBwLCBiYXNlSWQsIHJvb3Quc2NoZW1hLCByb290KTtcbn1cblxuXG4vKiBAdGhpcyBBanYgKi9cbmZ1bmN0aW9uIHJlc29sdmVSZWN1cnNpdmUocm9vdCwgcmVmLCBwYXJzZWRSZWYpIHtcbiAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICB2YXIgcmVzID0gcmVzb2x2ZVNjaGVtYS5jYWxsKHRoaXMsIHJvb3QsIHJlZik7XG4gIGlmIChyZXMpIHtcbiAgICB2YXIgc2NoZW1hID0gcmVzLnNjaGVtYTtcbiAgICB2YXIgYmFzZUlkID0gcmVzLmJhc2VJZDtcbiAgICByb290ID0gcmVzLnJvb3Q7XG4gICAgdmFyIGlkID0gdGhpcy5fZ2V0SWQoc2NoZW1hKTtcbiAgICBpZiAoaWQpIGJhc2VJZCA9IHJlc29sdmVVcmwoYmFzZUlkLCBpZCk7XG4gICAgcmV0dXJuIGdldEpzb25Qb2ludGVyLmNhbGwodGhpcywgcGFyc2VkUmVmLCBiYXNlSWQsIHNjaGVtYSwgcm9vdCk7XG4gIH1cbn1cblxuXG52YXIgUFJFVkVOVF9TQ09QRV9DSEFOR0UgPSB1dGlsLnRvSGFzaChbJ3Byb3BlcnRpZXMnLCAncGF0dGVyblByb3BlcnRpZXMnLCAnZW51bScsICdkZXBlbmRlbmNpZXMnLCAnZGVmaW5pdGlvbnMnXSk7XG4vKiBAdGhpcyBBanYgKi9cbmZ1bmN0aW9uIGdldEpzb25Qb2ludGVyKHBhcnNlZFJlZiwgYmFzZUlkLCBzY2hlbWEsIHJvb3QpIHtcbiAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICBwYXJzZWRSZWYuZnJhZ21lbnQgPSBwYXJzZWRSZWYuZnJhZ21lbnQgfHwgJyc7XG4gIGlmIChwYXJzZWRSZWYuZnJhZ21lbnQuc2xpY2UoMCwxKSAhPSAnLycpIHJldHVybjtcbiAgdmFyIHBhcnRzID0gcGFyc2VkUmVmLmZyYWdtZW50LnNwbGl0KCcvJyk7XG5cbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBwYXJ0ID0gcGFydHNbaV07XG4gICAgaWYgKHBhcnQpIHtcbiAgICAgIHBhcnQgPSB1dGlsLnVuZXNjYXBlRnJhZ21lbnQocGFydCk7XG4gICAgICBzY2hlbWEgPSBzY2hlbWFbcGFydF07XG4gICAgICBpZiAoc2NoZW1hID09PSB1bmRlZmluZWQpIGJyZWFrO1xuICAgICAgdmFyIGlkO1xuICAgICAgaWYgKCFQUkVWRU5UX1NDT1BFX0NIQU5HRVtwYXJ0XSkge1xuICAgICAgICBpZCA9IHRoaXMuX2dldElkKHNjaGVtYSk7XG4gICAgICAgIGlmIChpZCkgYmFzZUlkID0gcmVzb2x2ZVVybChiYXNlSWQsIGlkKTtcbiAgICAgICAgaWYgKHNjaGVtYS4kcmVmKSB7XG4gICAgICAgICAgdmFyICRyZWYgPSByZXNvbHZlVXJsKGJhc2VJZCwgc2NoZW1hLiRyZWYpO1xuICAgICAgICAgIHZhciByZXMgPSByZXNvbHZlU2NoZW1hLmNhbGwodGhpcywgcm9vdCwgJHJlZik7XG4gICAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgc2NoZW1hID0gcmVzLnNjaGVtYTtcbiAgICAgICAgICAgIHJvb3QgPSByZXMucm9vdDtcbiAgICAgICAgICAgIGJhc2VJZCA9IHJlcy5iYXNlSWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChzY2hlbWEgIT09IHVuZGVmaW5lZCAmJiBzY2hlbWEgIT09IHJvb3Quc2NoZW1hKVxuICAgIHJldHVybiB7IHNjaGVtYTogc2NoZW1hLCByb290OiByb290LCBiYXNlSWQ6IGJhc2VJZCB9O1xufVxuXG5cbnZhciBTSU1QTEVfSU5MSU5FRCA9IHV0aWwudG9IYXNoKFtcbiAgJ3R5cGUnLCAnZm9ybWF0JywgJ3BhdHRlcm4nLFxuICAnbWF4TGVuZ3RoJywgJ21pbkxlbmd0aCcsXG4gICdtYXhQcm9wZXJ0aWVzJywgJ21pblByb3BlcnRpZXMnLFxuICAnbWF4SXRlbXMnLCAnbWluSXRlbXMnLFxuICAnbWF4aW11bScsICdtaW5pbXVtJyxcbiAgJ3VuaXF1ZUl0ZW1zJywgJ211bHRpcGxlT2YnLFxuICAncmVxdWlyZWQnLCAnZW51bSdcbl0pO1xuZnVuY3Rpb24gaW5saW5lUmVmKHNjaGVtYSwgbGltaXQpIHtcbiAgaWYgKGxpbWl0ID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuICBpZiAobGltaXQgPT09IHVuZGVmaW5lZCB8fCBsaW1pdCA9PT0gdHJ1ZSkgcmV0dXJuIGNoZWNrTm9SZWYoc2NoZW1hKTtcbiAgZWxzZSBpZiAobGltaXQpIHJldHVybiBjb3VudEtleXMoc2NoZW1hKSA8PSBsaW1pdDtcbn1cblxuXG5mdW5jdGlvbiBjaGVja05vUmVmKHNjaGVtYSkge1xuICB2YXIgaXRlbTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hKSkge1xuICAgIGZvciAodmFyIGk9MDsgaTxzY2hlbWEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGl0ZW0gPSBzY2hlbWFbaV07XG4gICAgICBpZiAodHlwZW9mIGl0ZW0gPT0gJ29iamVjdCcgJiYgIWNoZWNrTm9SZWYoaXRlbSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIga2V5IGluIHNjaGVtYSkge1xuICAgICAgaWYgKGtleSA9PSAnJHJlZicpIHJldHVybiBmYWxzZTtcbiAgICAgIGl0ZW0gPSBzY2hlbWFba2V5XTtcbiAgICAgIGlmICh0eXBlb2YgaXRlbSA9PSAnb2JqZWN0JyAmJiAhY2hlY2tOb1JlZihpdGVtKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuXG5mdW5jdGlvbiBjb3VudEtleXMoc2NoZW1hKSB7XG4gIHZhciBjb3VudCA9IDAsIGl0ZW07XG4gIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYSkpIHtcbiAgICBmb3IgKHZhciBpPTA7IGk8c2NoZW1hLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpdGVtID0gc2NoZW1hW2ldO1xuICAgICAgaWYgKHR5cGVvZiBpdGVtID09ICdvYmplY3QnKSBjb3VudCArPSBjb3VudEtleXMoaXRlbSk7XG4gICAgICBpZiAoY291bnQgPT0gSW5maW5pdHkpIHJldHVybiBJbmZpbml0eTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIga2V5IGluIHNjaGVtYSkge1xuICAgICAgaWYgKGtleSA9PSAnJHJlZicpIHJldHVybiBJbmZpbml0eTtcbiAgICAgIGlmIChTSU1QTEVfSU5MSU5FRFtrZXldKSB7XG4gICAgICAgIGNvdW50Kys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtID0gc2NoZW1hW2tleV07XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PSAnb2JqZWN0JykgY291bnQgKz0gY291bnRLZXlzKGl0ZW0pICsgMTtcbiAgICAgICAgaWYgKGNvdW50ID09IEluZmluaXR5KSByZXR1cm4gSW5maW5pdHk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBjb3VudDtcbn1cblxuXG5mdW5jdGlvbiBnZXRGdWxsUGF0aChpZCwgbm9ybWFsaXplKSB7XG4gIGlmIChub3JtYWxpemUgIT09IGZhbHNlKSBpZCA9IG5vcm1hbGl6ZUlkKGlkKTtcbiAgdmFyIHAgPSBVUkkucGFyc2UoaWQpO1xuICByZXR1cm4gX2dldEZ1bGxQYXRoKHApO1xufVxuXG5cbmZ1bmN0aW9uIF9nZXRGdWxsUGF0aChwKSB7XG4gIHJldHVybiBVUkkuc2VyaWFsaXplKHApLnNwbGl0KCcjJylbMF0gKyAnIyc7XG59XG5cblxudmFyIFRSQUlMSU5HX1NMQVNIX0hBU0ggPSAvI1xcLz8kLztcbmZ1bmN0aW9uIG5vcm1hbGl6ZUlkKGlkKSB7XG4gIHJldHVybiBpZCA/IGlkLnJlcGxhY2UoVFJBSUxJTkdfU0xBU0hfSEFTSCwgJycpIDogJyc7XG59XG5cblxuZnVuY3Rpb24gcmVzb2x2ZVVybChiYXNlSWQsIGlkKSB7XG4gIGlkID0gbm9ybWFsaXplSWQoaWQpO1xuICByZXR1cm4gVVJJLnJlc29sdmUoYmFzZUlkLCBpZCk7XG59XG5cblxuLyogQHRoaXMgQWp2ICovXG5mdW5jdGlvbiByZXNvbHZlSWRzKHNjaGVtYSkge1xuICB2YXIgc2NoZW1hSWQgPSBub3JtYWxpemVJZCh0aGlzLl9nZXRJZChzY2hlbWEpKTtcbiAgdmFyIGJhc2VJZHMgPSB7Jyc6IHNjaGVtYUlkfTtcbiAgdmFyIGZ1bGxQYXRocyA9IHsnJzogZ2V0RnVsbFBhdGgoc2NoZW1hSWQsIGZhbHNlKX07XG4gIHZhciBsb2NhbFJlZnMgPSB7fTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHRyYXZlcnNlKHNjaGVtYSwge2FsbEtleXM6IHRydWV9LCBmdW5jdGlvbihzY2gsIGpzb25QdHIsIHJvb3RTY2hlbWEsIHBhcmVudEpzb25QdHIsIHBhcmVudEtleXdvcmQsIHBhcmVudFNjaGVtYSwga2V5SW5kZXgpIHtcbiAgICBpZiAoanNvblB0ciA9PT0gJycpIHJldHVybjtcbiAgICB2YXIgaWQgPSBzZWxmLl9nZXRJZChzY2gpO1xuICAgIHZhciBiYXNlSWQgPSBiYXNlSWRzW3BhcmVudEpzb25QdHJdO1xuICAgIHZhciBmdWxsUGF0aCA9IGZ1bGxQYXRoc1twYXJlbnRKc29uUHRyXSArICcvJyArIHBhcmVudEtleXdvcmQ7XG4gICAgaWYgKGtleUluZGV4ICE9PSB1bmRlZmluZWQpXG4gICAgICBmdWxsUGF0aCArPSAnLycgKyAodHlwZW9mIGtleUluZGV4ID09ICdudW1iZXInID8ga2V5SW5kZXggOiB1dGlsLmVzY2FwZUZyYWdtZW50KGtleUluZGV4KSk7XG5cbiAgICBpZiAodHlwZW9mIGlkID09ICdzdHJpbmcnKSB7XG4gICAgICBpZCA9IGJhc2VJZCA9IG5vcm1hbGl6ZUlkKGJhc2VJZCA/IFVSSS5yZXNvbHZlKGJhc2VJZCwgaWQpIDogaWQpO1xuXG4gICAgICB2YXIgcmVmVmFsID0gc2VsZi5fcmVmc1tpZF07XG4gICAgICBpZiAodHlwZW9mIHJlZlZhbCA9PSAnc3RyaW5nJykgcmVmVmFsID0gc2VsZi5fcmVmc1tyZWZWYWxdO1xuICAgICAgaWYgKHJlZlZhbCAmJiByZWZWYWwuc2NoZW1hKSB7XG4gICAgICAgIGlmICghZXF1YWwoc2NoLCByZWZWYWwuc2NoZW1hKSlcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2lkIFwiJyArIGlkICsgJ1wiIHJlc29sdmVzIHRvIG1vcmUgdGhhbiBvbmUgc2NoZW1hJyk7XG4gICAgICB9IGVsc2UgaWYgKGlkICE9IG5vcm1hbGl6ZUlkKGZ1bGxQYXRoKSkge1xuICAgICAgICBpZiAoaWRbMF0gPT0gJyMnKSB7XG4gICAgICAgICAgaWYgKGxvY2FsUmVmc1tpZF0gJiYgIWVxdWFsKHNjaCwgbG9jYWxSZWZzW2lkXSkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2lkIFwiJyArIGlkICsgJ1wiIHJlc29sdmVzIHRvIG1vcmUgdGhhbiBvbmUgc2NoZW1hJyk7XG4gICAgICAgICAgbG9jYWxSZWZzW2lkXSA9IHNjaDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLl9yZWZzW2lkXSA9IGZ1bGxQYXRoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGJhc2VJZHNbanNvblB0cl0gPSBiYXNlSWQ7XG4gICAgZnVsbFBhdGhzW2pzb25QdHJdID0gZnVsbFBhdGg7XG4gIH0pO1xuXG4gIHJldHVybiBsb2NhbFJlZnM7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciByZXNvbHZlID0gcmVxdWlyZSgnLi9yZXNvbHZlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBWYWxpZGF0aW9uOiBlcnJvclN1YmNsYXNzKFZhbGlkYXRpb25FcnJvciksXG4gIE1pc3NpbmdSZWY6IGVycm9yU3ViY2xhc3MoTWlzc2luZ1JlZkVycm9yKVxufTtcblxuXG5mdW5jdGlvbiBWYWxpZGF0aW9uRXJyb3IoZXJyb3JzKSB7XG4gIHRoaXMubWVzc2FnZSA9ICd2YWxpZGF0aW9uIGZhaWxlZCc7XG4gIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICB0aGlzLmFqdiA9IHRoaXMudmFsaWRhdGlvbiA9IHRydWU7XG59XG5cblxuTWlzc2luZ1JlZkVycm9yLm1lc3NhZ2UgPSBmdW5jdGlvbiAoYmFzZUlkLCByZWYpIHtcbiAgcmV0dXJuICdjYW5cXCd0IHJlc29sdmUgcmVmZXJlbmNlICcgKyByZWYgKyAnIGZyb20gaWQgJyArIGJhc2VJZDtcbn07XG5cblxuZnVuY3Rpb24gTWlzc2luZ1JlZkVycm9yKGJhc2VJZCwgcmVmLCBtZXNzYWdlKSB7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2UgfHwgTWlzc2luZ1JlZkVycm9yLm1lc3NhZ2UoYmFzZUlkLCByZWYpO1xuICB0aGlzLm1pc3NpbmdSZWYgPSByZXNvbHZlLnVybChiYXNlSWQsIHJlZik7XG4gIHRoaXMubWlzc2luZ1NjaGVtYSA9IHJlc29sdmUubm9ybWFsaXplSWQocmVzb2x2ZS5mdWxsUGF0aCh0aGlzLm1pc3NpbmdSZWYpKTtcbn1cblxuXG5mdW5jdGlvbiBlcnJvclN1YmNsYXNzKFN1YmNsYXNzKSB7XG4gIFN1YmNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbiAgU3ViY2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3ViY2xhc3M7XG4gIHJldHVybiBTdWJjbGFzcztcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZGF0YSwgb3B0cykge1xuICAgIGlmICghb3B0cykgb3B0cyA9IHt9O1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykgb3B0cyA9IHsgY21wOiBvcHRzIH07XG4gICAgdmFyIGN5Y2xlcyA9ICh0eXBlb2Ygb3B0cy5jeWNsZXMgPT09ICdib29sZWFuJykgPyBvcHRzLmN5Y2xlcyA6IGZhbHNlO1xuXG4gICAgdmFyIGNtcCA9IG9wdHMuY21wICYmIChmdW5jdGlvbiAoZikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgIHZhciBhb2JqID0geyBrZXk6IGEsIHZhbHVlOiBub2RlW2FdIH07XG4gICAgICAgICAgICAgICAgdmFyIGJvYmogPSB7IGtleTogYiwgdmFsdWU6IG5vZGVbYl0gfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZihhb2JqLCBib2JqKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfSkob3B0cy5jbXApO1xuXG4gICAgdmFyIHNlZW4gPSBbXTtcbiAgICByZXR1cm4gKGZ1bmN0aW9uIHN0cmluZ2lmeSAobm9kZSkge1xuICAgICAgICBpZiAobm9kZSAmJiBub2RlLnRvSlNPTiAmJiB0eXBlb2Ygbm9kZS50b0pTT04gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnRvSlNPTigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5vZGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICBpZiAodHlwZW9mIG5vZGUgPT0gJ251bWJlcicpIHJldHVybiBpc0Zpbml0ZShub2RlKSA/ICcnICsgbm9kZSA6ICdudWxsJztcbiAgICAgICAgaWYgKHR5cGVvZiBub2RlICE9PSAnb2JqZWN0JykgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG5vZGUpO1xuXG4gICAgICAgIHZhciBpLCBvdXQ7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5vZGUpKSB7XG4gICAgICAgICAgICBvdXQgPSAnWyc7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpKSBvdXQgKz0gJywnO1xuICAgICAgICAgICAgICAgIG91dCArPSBzdHJpbmdpZnkobm9kZVtpXSkgfHwgJ251bGwnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dCArICddJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub2RlID09PSBudWxsKSByZXR1cm4gJ251bGwnO1xuXG4gICAgICAgIGlmIChzZWVuLmluZGV4T2Yobm9kZSkgIT09IC0xKSB7XG4gICAgICAgICAgICBpZiAoY3ljbGVzKSByZXR1cm4gSlNPTi5zdHJpbmdpZnkoJ19fY3ljbGVfXycpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ29udmVydGluZyBjaXJjdWxhciBzdHJ1Y3R1cmUgdG8gSlNPTicpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlZW5JbmRleCA9IHNlZW4ucHVzaChub2RlKSAtIDE7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMobm9kZSkuc29ydChjbXAgJiYgY21wKG5vZGUpKTtcbiAgICAgICAgb3V0ID0gJyc7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHN0cmluZ2lmeShub2RlW2tleV0pO1xuXG4gICAgICAgICAgICBpZiAoIXZhbHVlKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChvdXQpIG91dCArPSAnLCc7XG4gICAgICAgICAgICBvdXQgKz0gSlNPTi5zdHJpbmdpZnkoa2V5KSArICc6JyArIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHNlZW4uc3BsaWNlKHNlZW5JbmRleCwgMSk7XG4gICAgICAgIHJldHVybiAneycgKyBvdXQgKyAnfSc7XG4gICAgfSkoZGF0YSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZW5lcmF0ZV92YWxpZGF0ZShpdCwgJGtleXdvcmQsICRydWxlVHlwZSkge1xuICB2YXIgb3V0ID0gJyc7XG4gIHZhciAkYXN5bmMgPSBpdC5zY2hlbWEuJGFzeW5jID09PSB0cnVlLFxuICAgICRyZWZLZXl3b3JkcyA9IGl0LnV0aWwuc2NoZW1hSGFzUnVsZXNFeGNlcHQoaXQuc2NoZW1hLCBpdC5SVUxFUy5hbGwsICckcmVmJyksXG4gICAgJGlkID0gaXQuc2VsZi5fZ2V0SWQoaXQuc2NoZW1hKTtcbiAgaWYgKGl0Lm9wdHMuc3RyaWN0S2V5d29yZHMpIHtcbiAgICB2YXIgJHVua25vd25Ld2QgPSBpdC51dGlsLnNjaGVtYVVua25vd25SdWxlcyhpdC5zY2hlbWEsIGl0LlJVTEVTLmtleXdvcmRzKTtcbiAgICBpZiAoJHVua25vd25Ld2QpIHtcbiAgICAgIHZhciAka2V5d29yZHNNc2cgPSAndW5rbm93biBrZXl3b3JkOiAnICsgJHVua25vd25Ld2Q7XG4gICAgICBpZiAoaXQub3B0cy5zdHJpY3RLZXl3b3JkcyA9PT0gJ2xvZycpIGl0LmxvZ2dlci53YXJuKCRrZXl3b3Jkc01zZyk7XG4gICAgICBlbHNlIHRocm93IG5ldyBFcnJvcigka2V5d29yZHNNc2cpO1xuICAgIH1cbiAgfVxuICBpZiAoaXQuaXNUb3ApIHtcbiAgICBvdXQgKz0gJyB2YXIgdmFsaWRhdGUgPSAnO1xuICAgIGlmICgkYXN5bmMpIHtcbiAgICAgIGl0LmFzeW5jID0gdHJ1ZTtcbiAgICAgIG91dCArPSAnYXN5bmMgJztcbiAgICB9XG4gICAgb3V0ICs9ICdmdW5jdGlvbihkYXRhLCBkYXRhUGF0aCwgcGFyZW50RGF0YSwgcGFyZW50RGF0YVByb3BlcnR5LCByb290RGF0YSkgeyBcXCd1c2Ugc3RyaWN0XFwnOyAnO1xuICAgIGlmICgkaWQgJiYgKGl0Lm9wdHMuc291cmNlQ29kZSB8fCBpdC5vcHRzLnByb2Nlc3NDb2RlKSkge1xuICAgICAgb3V0ICs9ICcgJyArICgnL1xcKiMgc291cmNlVVJMPScgKyAkaWQgKyAnICovJykgKyAnICc7XG4gICAgfVxuICB9XG4gIGlmICh0eXBlb2YgaXQuc2NoZW1hID09ICdib29sZWFuJyB8fCAhKCRyZWZLZXl3b3JkcyB8fCBpdC5zY2hlbWEuJHJlZikpIHtcbiAgICB2YXIgJGtleXdvcmQgPSAnZmFsc2Ugc2NoZW1hJztcbiAgICB2YXIgJGx2bCA9IGl0LmxldmVsO1xuICAgIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgICB2YXIgJHNjaGVtYSA9IGl0LnNjaGVtYVska2V5d29yZF07XG4gICAgdmFyICRzY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArIGl0LnV0aWwuZ2V0UHJvcGVydHkoJGtleXdvcmQpO1xuICAgIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgICB2YXIgJGJyZWFrT25FcnJvciA9ICFpdC5vcHRzLmFsbEVycm9ycztcbiAgICB2YXIgJGVycm9yS2V5d29yZDtcbiAgICB2YXIgJGRhdGEgPSAnZGF0YScgKyAoJGRhdGFMdmwgfHwgJycpO1xuICAgIHZhciAkdmFsaWQgPSAndmFsaWQnICsgJGx2bDtcbiAgICBpZiAoaXQuc2NoZW1hID09PSBmYWxzZSkge1xuICAgICAgaWYgKGl0LmlzVG9wKSB7XG4gICAgICAgICRicmVha09uRXJyb3IgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJHZhbGlkKSArICcgPSBmYWxzZTsgJztcbiAgICAgIH1cbiAgICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAgICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICAgICAgb3V0ID0gJyc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJGVycm9yS2V5d29yZCB8fCAnZmFsc2Ugc2NoZW1hJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczoge30gJztcbiAgICAgICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdib29sZWFuIHNjaGVtYSBpcyBmYWxzZVxcJyAnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgICBvdXQgKz0gJyAsIHNjaGVtYTogZmFsc2UgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICAgIH1cbiAgICAgICAgb3V0ICs9ICcgfSAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcge30gJztcbiAgICAgIH1cbiAgICAgIHZhciBfX2VyciA9IG91dDtcbiAgICAgIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gICAgICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihbJyArIChfX2VycikgKyAnXSk7ICc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXQuaXNUb3ApIHtcbiAgICAgICAgaWYgKCRhc3luYykge1xuICAgICAgICAgIG91dCArPSAnIHJldHVybiBkYXRhOyAnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IG51bGw7IHJldHVybiB0cnVlOyAnO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJyB2YXIgJyArICgkdmFsaWQpICsgJyA9IHRydWU7ICc7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpdC5pc1RvcCkge1xuICAgICAgb3V0ICs9ICcgfTsgcmV0dXJuIHZhbGlkYXRlOyAnO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xuICB9XG4gIGlmIChpdC5pc1RvcCkge1xuICAgIHZhciAkdG9wID0gaXQuaXNUb3AsXG4gICAgICAkbHZsID0gaXQubGV2ZWwgPSAwLFxuICAgICAgJGRhdGFMdmwgPSBpdC5kYXRhTGV2ZWwgPSAwLFxuICAgICAgJGRhdGEgPSAnZGF0YSc7XG4gICAgaXQucm9vdElkID0gaXQucmVzb2x2ZS5mdWxsUGF0aChpdC5zZWxmLl9nZXRJZChpdC5yb290LnNjaGVtYSkpO1xuICAgIGl0LmJhc2VJZCA9IGl0LmJhc2VJZCB8fCBpdC5yb290SWQ7XG4gICAgZGVsZXRlIGl0LmlzVG9wO1xuICAgIGl0LmRhdGFQYXRoQXJyID0gW1wiXCJdO1xuICAgIGlmIChpdC5zY2hlbWEuZGVmYXVsdCAhPT0gdW5kZWZpbmVkICYmIGl0Lm9wdHMudXNlRGVmYXVsdHMgJiYgaXQub3B0cy5zdHJpY3REZWZhdWx0cykge1xuICAgICAgdmFyICRkZWZhdWx0TXNnID0gJ2RlZmF1bHQgaXMgaWdub3JlZCBpbiB0aGUgc2NoZW1hIHJvb3QnO1xuICAgICAgaWYgKGl0Lm9wdHMuc3RyaWN0RGVmYXVsdHMgPT09ICdsb2cnKSBpdC5sb2dnZXIud2FybigkZGVmYXVsdE1zZyk7XG4gICAgICBlbHNlIHRocm93IG5ldyBFcnJvcigkZGVmYXVsdE1zZyk7XG4gICAgfVxuICAgIG91dCArPSAnIHZhciB2RXJyb3JzID0gbnVsbDsgJztcbiAgICBvdXQgKz0gJyB2YXIgZXJyb3JzID0gMDsgICAgICc7XG4gICAgb3V0ICs9ICcgaWYgKHJvb3REYXRhID09PSB1bmRlZmluZWQpIHJvb3REYXRhID0gZGF0YTsgJztcbiAgfSBlbHNlIHtcbiAgICB2YXIgJGx2bCA9IGl0LmxldmVsLFxuICAgICAgJGRhdGFMdmwgPSBpdC5kYXRhTGV2ZWwsXG4gICAgICAkZGF0YSA9ICdkYXRhJyArICgkZGF0YUx2bCB8fCAnJyk7XG4gICAgaWYgKCRpZCkgaXQuYmFzZUlkID0gaXQucmVzb2x2ZS51cmwoaXQuYmFzZUlkLCAkaWQpO1xuICAgIGlmICgkYXN5bmMgJiYgIWl0LmFzeW5jKSB0aHJvdyBuZXcgRXJyb3IoJ2FzeW5jIHNjaGVtYSBpbiBzeW5jIHNjaGVtYScpO1xuICAgIG91dCArPSAnIHZhciBlcnJzXycgKyAoJGx2bCkgKyAnID0gZXJyb3JzOyc7XG4gIH1cbiAgdmFyICR2YWxpZCA9ICd2YWxpZCcgKyAkbHZsLFxuICAgICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnMsXG4gICAgJGNsb3NpbmdCcmFjZXMxID0gJycsXG4gICAgJGNsb3NpbmdCcmFjZXMyID0gJyc7XG4gIHZhciAkZXJyb3JLZXl3b3JkO1xuICB2YXIgJHR5cGVTY2hlbWEgPSBpdC5zY2hlbWEudHlwZSxcbiAgICAkdHlwZUlzQXJyYXkgPSBBcnJheS5pc0FycmF5KCR0eXBlU2NoZW1hKTtcbiAgaWYgKCR0eXBlU2NoZW1hICYmIGl0Lm9wdHMubnVsbGFibGUgJiYgaXQuc2NoZW1hLm51bGxhYmxlID09PSB0cnVlKSB7XG4gICAgaWYgKCR0eXBlSXNBcnJheSkge1xuICAgICAgaWYgKCR0eXBlU2NoZW1hLmluZGV4T2YoJ251bGwnKSA9PSAtMSkgJHR5cGVTY2hlbWEgPSAkdHlwZVNjaGVtYS5jb25jYXQoJ251bGwnKTtcbiAgICB9IGVsc2UgaWYgKCR0eXBlU2NoZW1hICE9ICdudWxsJykge1xuICAgICAgJHR5cGVTY2hlbWEgPSBbJHR5cGVTY2hlbWEsICdudWxsJ107XG4gICAgICAkdHlwZUlzQXJyYXkgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBpZiAoJHR5cGVJc0FycmF5ICYmICR0eXBlU2NoZW1hLmxlbmd0aCA9PSAxKSB7XG4gICAgJHR5cGVTY2hlbWEgPSAkdHlwZVNjaGVtYVswXTtcbiAgICAkdHlwZUlzQXJyYXkgPSBmYWxzZTtcbiAgfVxuICBpZiAoaXQuc2NoZW1hLiRyZWYgJiYgJHJlZktleXdvcmRzKSB7XG4gICAgaWYgKGl0Lm9wdHMuZXh0ZW5kUmVmcyA9PSAnZmFpbCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignJHJlZjogdmFsaWRhdGlvbiBrZXl3b3JkcyB1c2VkIGluIHNjaGVtYSBhdCBwYXRoIFwiJyArIGl0LmVyclNjaGVtYVBhdGggKyAnXCIgKHNlZSBvcHRpb24gZXh0ZW5kUmVmcyknKTtcbiAgICB9IGVsc2UgaWYgKGl0Lm9wdHMuZXh0ZW5kUmVmcyAhPT0gdHJ1ZSkge1xuICAgICAgJHJlZktleXdvcmRzID0gZmFsc2U7XG4gICAgICBpdC5sb2dnZXIud2FybignJHJlZjoga2V5d29yZHMgaWdub3JlZCBpbiBzY2hlbWEgYXQgcGF0aCBcIicgKyBpdC5lcnJTY2hlbWFQYXRoICsgJ1wiJyk7XG4gICAgfVxuICB9XG4gIGlmIChpdC5zY2hlbWEuJGNvbW1lbnQgJiYgaXQub3B0cy4kY29tbWVudCkge1xuICAgIG91dCArPSAnICcgKyAoaXQuUlVMRVMuYWxsLiRjb21tZW50LmNvZGUoaXQsICckY29tbWVudCcpKTtcbiAgfVxuICBpZiAoJHR5cGVTY2hlbWEpIHtcbiAgICBpZiAoaXQub3B0cy5jb2VyY2VUeXBlcykge1xuICAgICAgdmFyICRjb2VyY2VUb1R5cGVzID0gaXQudXRpbC5jb2VyY2VUb1R5cGVzKGl0Lm9wdHMuY29lcmNlVHlwZXMsICR0eXBlU2NoZW1hKTtcbiAgICB9XG4gICAgdmFyICRydWxlc0dyb3VwID0gaXQuUlVMRVMudHlwZXNbJHR5cGVTY2hlbWFdO1xuICAgIGlmICgkY29lcmNlVG9UeXBlcyB8fCAkdHlwZUlzQXJyYXkgfHwgJHJ1bGVzR3JvdXAgPT09IHRydWUgfHwgKCRydWxlc0dyb3VwICYmICEkc2hvdWxkVXNlR3JvdXAoJHJ1bGVzR3JvdXApKSkge1xuICAgICAgdmFyICRzY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArICcudHlwZScsXG4gICAgICAgICRlcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvdHlwZSc7XG4gICAgICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgJy50eXBlJyxcbiAgICAgICAgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy90eXBlJyxcbiAgICAgICAgJG1ldGhvZCA9ICR0eXBlSXNBcnJheSA/ICdjaGVja0RhdGFUeXBlcycgOiAnY2hlY2tEYXRhVHlwZSc7XG4gICAgICBvdXQgKz0gJyBpZiAoJyArIChpdC51dGlsWyRtZXRob2RdKCR0eXBlU2NoZW1hLCAkZGF0YSwgaXQub3B0cy5zdHJpY3ROdW1iZXJzLCB0cnVlKSkgKyAnKSB7ICc7XG4gICAgICBpZiAoJGNvZXJjZVRvVHlwZXMpIHtcbiAgICAgICAgdmFyICRkYXRhVHlwZSA9ICdkYXRhVHlwZScgKyAkbHZsLFxuICAgICAgICAgICRjb2VyY2VkID0gJ2NvZXJjZWQnICsgJGx2bDtcbiAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJGRhdGFUeXBlKSArICcgPSB0eXBlb2YgJyArICgkZGF0YSkgKyAnOyB2YXIgJyArICgkY29lcmNlZCkgKyAnID0gdW5kZWZpbmVkOyAnO1xuICAgICAgICBpZiAoaXQub3B0cy5jb2VyY2VUeXBlcyA9PSAnYXJyYXknKSB7XG4gICAgICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoJGRhdGFUeXBlKSArICcgPT0gXFwnb2JqZWN0XFwnICYmIEFycmF5LmlzQXJyYXkoJyArICgkZGF0YSkgKyAnKSAmJiAnICsgKCRkYXRhKSArICcubGVuZ3RoID09IDEpIHsgJyArICgkZGF0YSkgKyAnID0gJyArICgkZGF0YSkgKyAnWzBdOyAnICsgKCRkYXRhVHlwZSkgKyAnID0gdHlwZW9mICcgKyAoJGRhdGEpICsgJzsgaWYgKCcgKyAoaXQudXRpbC5jaGVja0RhdGFUeXBlKGl0LnNjaGVtYS50eXBlLCAkZGF0YSwgaXQub3B0cy5zdHJpY3ROdW1iZXJzKSkgKyAnKSAnICsgKCRjb2VyY2VkKSArICcgPSAnICsgKCRkYXRhKSArICc7IH0gJztcbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gJyBpZiAoJyArICgkY29lcmNlZCkgKyAnICE9PSB1bmRlZmluZWQpIDsgJztcbiAgICAgICAgdmFyIGFycjEgPSAkY29lcmNlVG9UeXBlcztcbiAgICAgICAgaWYgKGFycjEpIHtcbiAgICAgICAgICB2YXIgJHR5cGUsICRpID0gLTEsXG4gICAgICAgICAgICBsMSA9IGFycjEubGVuZ3RoIC0gMTtcbiAgICAgICAgICB3aGlsZSAoJGkgPCBsMSkge1xuICAgICAgICAgICAgJHR5cGUgPSBhcnIxWyRpICs9IDFdO1xuICAgICAgICAgICAgaWYgKCR0eXBlID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIGVsc2UgaWYgKCcgKyAoJGRhdGFUeXBlKSArICcgPT0gXFwnbnVtYmVyXFwnIHx8ICcgKyAoJGRhdGFUeXBlKSArICcgPT0gXFwnYm9vbGVhblxcJykgJyArICgkY29lcmNlZCkgKyAnID0gXFwnXFwnICsgJyArICgkZGF0YSkgKyAnOyBlbHNlIGlmICgnICsgKCRkYXRhKSArICcgPT09IG51bGwpICcgKyAoJGNvZXJjZWQpICsgJyA9IFxcJ1xcJzsgJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJHR5cGUgPT0gJ251bWJlcicgfHwgJHR5cGUgPT0gJ2ludGVnZXInKSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIGVsc2UgaWYgKCcgKyAoJGRhdGFUeXBlKSArICcgPT0gXFwnYm9vbGVhblxcJyB8fCAnICsgKCRkYXRhKSArICcgPT09IG51bGwgfHwgKCcgKyAoJGRhdGFUeXBlKSArICcgPT0gXFwnc3RyaW5nXFwnICYmICcgKyAoJGRhdGEpICsgJyAmJiAnICsgKCRkYXRhKSArICcgPT0gKycgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgICAgICAgICBpZiAoJHR5cGUgPT0gJ2ludGVnZXInKSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9ICcgJiYgISgnICsgKCRkYXRhKSArICcgJSAxKSc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgb3V0ICs9ICcpKSAnICsgKCRjb2VyY2VkKSArICcgPSArJyArICgkZGF0YSkgKyAnOyAnO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgkdHlwZSA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICcgZWxzZSBpZiAoJyArICgkZGF0YSkgKyAnID09PSBcXCdmYWxzZVxcJyB8fCAnICsgKCRkYXRhKSArICcgPT09IDAgfHwgJyArICgkZGF0YSkgKyAnID09PSBudWxsKSAnICsgKCRjb2VyY2VkKSArICcgPSBmYWxzZTsgZWxzZSBpZiAoJyArICgkZGF0YSkgKyAnID09PSBcXCd0cnVlXFwnIHx8ICcgKyAoJGRhdGEpICsgJyA9PT0gMSkgJyArICgkY29lcmNlZCkgKyAnID0gdHJ1ZTsgJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJHR5cGUgPT0gJ251bGwnKSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIGVsc2UgaWYgKCcgKyAoJGRhdGEpICsgJyA9PT0gXFwnXFwnIHx8ICcgKyAoJGRhdGEpICsgJyA9PT0gMCB8fCAnICsgKCRkYXRhKSArICcgPT09IGZhbHNlKSAnICsgKCRjb2VyY2VkKSArICcgPSBudWxsOyAnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpdC5vcHRzLmNvZXJjZVR5cGVzID09ICdhcnJheScgJiYgJHR5cGUgPT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICBvdXQgKz0gJyBlbHNlIGlmICgnICsgKCRkYXRhVHlwZSkgKyAnID09IFxcJ3N0cmluZ1xcJyB8fCAnICsgKCRkYXRhVHlwZSkgKyAnID09IFxcJ251bWJlclxcJyB8fCAnICsgKCRkYXRhVHlwZSkgKyAnID09IFxcJ2Jvb2xlYW5cXCcgfHwgJyArICgkZGF0YSkgKyAnID09IG51bGwpICcgKyAoJGNvZXJjZWQpICsgJyA9IFsnICsgKCRkYXRhKSArICddOyAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gJyBlbHNlIHsgICAnO1xuICAgICAgICB2YXIgJCRvdXRTdGFjayA9ICQkb3V0U3RhY2sgfHwgW107XG4gICAgICAgICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICAgICAgICBvdXQgPSAnJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJGVycm9yS2V5d29yZCB8fCAndHlwZScpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsgdHlwZTogXFwnJztcbiAgICAgICAgICBpZiAoJHR5cGVJc0FycmF5KSB7XG4gICAgICAgICAgICBvdXQgKz0gJycgKyAoJHR5cGVTY2hlbWEuam9pbihcIixcIikpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXQgKz0gJycgKyAoJHR5cGVTY2hlbWEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJ1xcJyB9ICc7XG4gICAgICAgICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBiZSAnO1xuICAgICAgICAgICAgaWYgKCR0eXBlSXNBcnJheSkge1xuICAgICAgICAgICAgICBvdXQgKz0gJycgKyAoJHR5cGVTY2hlbWEuam9pbihcIixcIikpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICcnICsgKCR0eXBlU2NoZW1hKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dCArPSAnXFwnICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgICAgIG91dCArPSAnICwgc2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICcgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIG91dCArPSAnIH0gJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvdXQgKz0gJyB7fSAnO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfX2VyciA9IG91dDtcbiAgICAgICAgb3V0ID0gJCRvdXRTdGFjay5wb3AoKTtcbiAgICAgICAgaWYgKCFpdC5jb21wb3NpdGVSdWxlICYmICRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgICAgICAgIG91dCArPSAnIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoWycgKyAoX19lcnIpICsgJ10pOyAnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSBbJyArIChfX2VycikgKyAnXTsgcmV0dXJuIGZhbHNlOyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvdXQgKz0gJyB2YXIgZXJyID0gJyArIChfX2VycikgKyAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gICAgICAgIH1cbiAgICAgICAgb3V0ICs9ICcgfSBpZiAoJyArICgkY29lcmNlZCkgKyAnICE9PSB1bmRlZmluZWQpIHsgICc7XG4gICAgICAgIHZhciAkcGFyZW50RGF0YSA9ICRkYXRhTHZsID8gJ2RhdGEnICsgKCgkZGF0YUx2bCAtIDEpIHx8ICcnKSA6ICdwYXJlbnREYXRhJyxcbiAgICAgICAgICAkcGFyZW50RGF0YVByb3BlcnR5ID0gJGRhdGFMdmwgPyBpdC5kYXRhUGF0aEFyclskZGF0YUx2bF0gOiAncGFyZW50RGF0YVByb3BlcnR5JztcbiAgICAgICAgb3V0ICs9ICcgJyArICgkZGF0YSkgKyAnID0gJyArICgkY29lcmNlZCkgKyAnOyAnO1xuICAgICAgICBpZiAoISRkYXRhTHZsKSB7XG4gICAgICAgICAgb3V0ICs9ICdpZiAoJyArICgkcGFyZW50RGF0YSkgKyAnICE9PSB1bmRlZmluZWQpJztcbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gJyAnICsgKCRwYXJlbnREYXRhKSArICdbJyArICgkcGFyZW50RGF0YVByb3BlcnR5KSArICddID0gJyArICgkY29lcmNlZCkgKyAnOyB9ICc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgJCRvdXRTdGFjayA9ICQkb3V0U3RhY2sgfHwgW107XG4gICAgICAgICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICAgICAgICBvdXQgPSAnJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJGVycm9yS2V5d29yZCB8fCAndHlwZScpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsgdHlwZTogXFwnJztcbiAgICAgICAgICBpZiAoJHR5cGVJc0FycmF5KSB7XG4gICAgICAgICAgICBvdXQgKz0gJycgKyAoJHR5cGVTY2hlbWEuam9pbihcIixcIikpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXQgKz0gJycgKyAoJHR5cGVTY2hlbWEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJ1xcJyB9ICc7XG4gICAgICAgICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBiZSAnO1xuICAgICAgICAgICAgaWYgKCR0eXBlSXNBcnJheSkge1xuICAgICAgICAgICAgICBvdXQgKz0gJycgKyAoJHR5cGVTY2hlbWEuam9pbihcIixcIikpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICcnICsgKCR0eXBlU2NoZW1hKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dCArPSAnXFwnICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgICAgIG91dCArPSAnICwgc2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICcgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIG91dCArPSAnIH0gJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvdXQgKz0gJyB7fSAnO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfX2VyciA9IG91dDtcbiAgICAgICAgb3V0ID0gJCRvdXRTdGFjay5wb3AoKTtcbiAgICAgICAgaWYgKCFpdC5jb21wb3NpdGVSdWxlICYmICRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgICAgICAgIG91dCArPSAnIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoWycgKyAoX19lcnIpICsgJ10pOyAnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSBbJyArIChfX2VycikgKyAnXTsgcmV0dXJuIGZhbHNlOyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvdXQgKz0gJyB2YXIgZXJyID0gJyArIChfX2VycikgKyAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG91dCArPSAnIH0gJztcbiAgICB9XG4gIH1cbiAgaWYgKGl0LnNjaGVtYS4kcmVmICYmICEkcmVmS2V5d29yZHMpIHtcbiAgICBvdXQgKz0gJyAnICsgKGl0LlJVTEVTLmFsbC4kcmVmLmNvZGUoaXQsICckcmVmJykpICsgJyAnO1xuICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICBvdXQgKz0gJyB9IGlmIChlcnJvcnMgPT09ICc7XG4gICAgICBpZiAoJHRvcCkge1xuICAgICAgICBvdXQgKz0gJzAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICdlcnJzXycgKyAoJGx2bCk7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJykgeyAnO1xuICAgICAgJGNsb3NpbmdCcmFjZXMyICs9ICd9JztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGFycjIgPSBpdC5SVUxFUztcbiAgICBpZiAoYXJyMikge1xuICAgICAgdmFyICRydWxlc0dyb3VwLCBpMiA9IC0xLFxuICAgICAgICBsMiA9IGFycjIubGVuZ3RoIC0gMTtcbiAgICAgIHdoaWxlIChpMiA8IGwyKSB7XG4gICAgICAgICRydWxlc0dyb3VwID0gYXJyMltpMiArPSAxXTtcbiAgICAgICAgaWYgKCRzaG91bGRVc2VHcm91cCgkcnVsZXNHcm91cCkpIHtcbiAgICAgICAgICBpZiAoJHJ1bGVzR3JvdXAudHlwZSkge1xuICAgICAgICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoaXQudXRpbC5jaGVja0RhdGFUeXBlKCRydWxlc0dyb3VwLnR5cGUsICRkYXRhLCBpdC5vcHRzLnN0cmljdE51bWJlcnMpKSArICcpIHsgJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGl0Lm9wdHMudXNlRGVmYXVsdHMpIHtcbiAgICAgICAgICAgIGlmICgkcnVsZXNHcm91cC50eXBlID09ICdvYmplY3QnICYmIGl0LnNjaGVtYS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgIHZhciAkc2NoZW1hID0gaXQuc2NoZW1hLnByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgJHNjaGVtYUtleXMgPSBPYmplY3Qua2V5cygkc2NoZW1hKTtcbiAgICAgICAgICAgICAgdmFyIGFycjMgPSAkc2NoZW1hS2V5cztcbiAgICAgICAgICAgICAgaWYgKGFycjMpIHtcbiAgICAgICAgICAgICAgICB2YXIgJHByb3BlcnR5S2V5LCBpMyA9IC0xLFxuICAgICAgICAgICAgICAgICAgbDMgPSBhcnIzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGkzIDwgbDMpIHtcbiAgICAgICAgICAgICAgICAgICRwcm9wZXJ0eUtleSA9IGFycjNbaTMgKz0gMV07XG4gICAgICAgICAgICAgICAgICB2YXIgJHNjaCA9ICRzY2hlbWFbJHByb3BlcnR5S2V5XTtcbiAgICAgICAgICAgICAgICAgIGlmICgkc2NoLmRlZmF1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgJHBhc3NEYXRhID0gJGRhdGEgKyBpdC51dGlsLmdldFByb3BlcnR5KCRwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdC5jb21wb3NpdGVSdWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGl0Lm9wdHMuc3RyaWN0RGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkZGVmYXVsdE1zZyA9ICdkZWZhdWx0IGlzIGlnbm9yZWQgZm9yOiAnICsgJHBhc3NEYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0Lm9wdHMuc3RyaWN0RGVmYXVsdHMgPT09ICdsb2cnKSBpdC5sb2dnZXIud2FybigkZGVmYXVsdE1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcigkZGVmYXVsdE1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIG91dCArPSAnIGlmICgnICsgKCRwYXNzRGF0YSkgKyAnID09PSB1bmRlZmluZWQgJztcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaXQub3B0cy51c2VEZWZhdWx0cyA9PSAnZW1wdHknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXQgKz0gJyB8fCAnICsgKCRwYXNzRGF0YSkgKyAnID09PSBudWxsIHx8ICcgKyAoJHBhc3NEYXRhKSArICcgPT09IFxcJ1xcJyAnO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBvdXQgKz0gJyApICcgKyAoJHBhc3NEYXRhKSArICcgPSAnO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChpdC5vcHRzLnVzZURlZmF1bHRzID09ICdzaGFyZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXQgKz0gJyAnICsgKGl0LnVzZURlZmF1bHQoJHNjaC5kZWZhdWx0KSkgKyAnICc7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dCArPSAnICcgKyAoSlNPTi5zdHJpbmdpZnkoJHNjaC5kZWZhdWx0KSkgKyAnICc7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIG91dCArPSAnOyAnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCRydWxlc0dyb3VwLnR5cGUgPT0gJ2FycmF5JyAmJiBBcnJheS5pc0FycmF5KGl0LnNjaGVtYS5pdGVtcykpIHtcbiAgICAgICAgICAgICAgdmFyIGFycjQgPSBpdC5zY2hlbWEuaXRlbXM7XG4gICAgICAgICAgICAgIGlmIChhcnI0KSB7XG4gICAgICAgICAgICAgICAgdmFyICRzY2gsICRpID0gLTEsXG4gICAgICAgICAgICAgICAgICBsNCA9IGFycjQubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoJGkgPCBsNCkge1xuICAgICAgICAgICAgICAgICAgJHNjaCA9IGFycjRbJGkgKz0gMV07XG4gICAgICAgICAgICAgICAgICBpZiAoJHNjaC5kZWZhdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRwYXNzRGF0YSA9ICRkYXRhICsgJ1snICsgJGkgKyAnXSc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdC5jb21wb3NpdGVSdWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGl0Lm9wdHMuc3RyaWN0RGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkZGVmYXVsdE1zZyA9ICdkZWZhdWx0IGlzIGlnbm9yZWQgZm9yOiAnICsgJHBhc3NEYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0Lm9wdHMuc3RyaWN0RGVmYXVsdHMgPT09ICdsb2cnKSBpdC5sb2dnZXIud2FybigkZGVmYXVsdE1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcigkZGVmYXVsdE1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIG91dCArPSAnIGlmICgnICsgKCRwYXNzRGF0YSkgKyAnID09PSB1bmRlZmluZWQgJztcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaXQub3B0cy51c2VEZWZhdWx0cyA9PSAnZW1wdHknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXQgKz0gJyB8fCAnICsgKCRwYXNzRGF0YSkgKyAnID09PSBudWxsIHx8ICcgKyAoJHBhc3NEYXRhKSArICcgPT09IFxcJ1xcJyAnO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBvdXQgKz0gJyApICcgKyAoJHBhc3NEYXRhKSArICcgPSAnO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChpdC5vcHRzLnVzZURlZmF1bHRzID09ICdzaGFyZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXQgKz0gJyAnICsgKGl0LnVzZURlZmF1bHQoJHNjaC5kZWZhdWx0KSkgKyAnICc7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dCArPSAnICcgKyAoSlNPTi5zdHJpbmdpZnkoJHNjaC5kZWZhdWx0KSkgKyAnICc7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIG91dCArPSAnOyAnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBhcnI1ID0gJHJ1bGVzR3JvdXAucnVsZXM7XG4gICAgICAgICAgaWYgKGFycjUpIHtcbiAgICAgICAgICAgIHZhciAkcnVsZSwgaTUgPSAtMSxcbiAgICAgICAgICAgICAgbDUgPSBhcnI1Lmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB3aGlsZSAoaTUgPCBsNSkge1xuICAgICAgICAgICAgICAkcnVsZSA9IGFycjVbaTUgKz0gMV07XG4gICAgICAgICAgICAgIGlmICgkc2hvdWxkVXNlUnVsZSgkcnVsZSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgJGNvZGUgPSAkcnVsZS5jb2RlKGl0LCAkcnVsZS5rZXl3b3JkLCAkcnVsZXNHcm91cC50eXBlKTtcbiAgICAgICAgICAgICAgICBpZiAoJGNvZGUpIHtcbiAgICAgICAgICAgICAgICAgIG91dCArPSAnICcgKyAoJGNvZGUpICsgJyAnO1xuICAgICAgICAgICAgICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgJGNsb3NpbmdCcmFjZXMxICs9ICd9JztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAgIG91dCArPSAnICcgKyAoJGNsb3NpbmdCcmFjZXMxKSArICcgJztcbiAgICAgICAgICAgICRjbG9zaW5nQnJhY2VzMSA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoJHJ1bGVzR3JvdXAudHlwZSkge1xuICAgICAgICAgICAgb3V0ICs9ICcgfSAnO1xuICAgICAgICAgICAgaWYgKCR0eXBlU2NoZW1hICYmICR0eXBlU2NoZW1hID09PSAkcnVsZXNHcm91cC50eXBlICYmICEkY29lcmNlVG9UeXBlcykge1xuICAgICAgICAgICAgICBvdXQgKz0gJyBlbHNlIHsgJztcbiAgICAgICAgICAgICAgdmFyICRzY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArICcudHlwZScsXG4gICAgICAgICAgICAgICAgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy90eXBlJztcbiAgICAgICAgICAgICAgdmFyICQkb3V0U3RhY2sgPSAkJG91dFN0YWNrIHx8IFtdO1xuICAgICAgICAgICAgICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgICAgICAgICAgICAgb3V0ID0gJyc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICAgIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCRlcnJvcktleXdvcmQgfHwgJ3R5cGUnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IHR5cGU6IFxcJyc7XG4gICAgICAgICAgICAgICAgaWYgKCR0eXBlSXNBcnJheSkge1xuICAgICAgICAgICAgICAgICAgb3V0ICs9ICcnICsgKCR0eXBlU2NoZW1hLmpvaW4oXCIsXCIpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgb3V0ICs9ICcnICsgKCR0eXBlU2NoZW1hKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3V0ICs9ICdcXCcgfSAnO1xuICAgICAgICAgICAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgYmUgJztcbiAgICAgICAgICAgICAgICAgIGlmICgkdHlwZUlzQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9ICcnICsgKCR0eXBlU2NoZW1hLmpvaW4oXCIsXCIpKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG91dCArPSAnJyArICgkdHlwZVNjaGVtYSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBvdXQgKz0gJ1xcJyAnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgICAgICAgICAgICBvdXQgKz0gJyAsIHNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9ICcge30gJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2YXIgX19lcnIgPSBvdXQ7XG4gICAgICAgICAgICAgIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICAgICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICAgICAgICAgICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG91dCArPSAnIH0gJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAgIG91dCArPSAnIGlmIChlcnJvcnMgPT09ICc7XG4gICAgICAgICAgICBpZiAoJHRvcCkge1xuICAgICAgICAgICAgICBvdXQgKz0gJzAnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICdlcnJzXycgKyAoJGx2bCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQgKz0gJykgeyAnO1xuICAgICAgICAgICAgJGNsb3NpbmdCcmFjZXMyICs9ICd9JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICBvdXQgKz0gJyAnICsgKCRjbG9zaW5nQnJhY2VzMikgKyAnICc7XG4gIH1cbiAgaWYgKCR0b3ApIHtcbiAgICBpZiAoJGFzeW5jKSB7XG4gICAgICBvdXQgKz0gJyBpZiAoZXJyb3JzID09PSAwKSByZXR1cm4gZGF0YTsgICAgICAgICAgICc7XG4gICAgICBvdXQgKz0gJyBlbHNlIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IodkVycm9ycyk7ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IHZFcnJvcnM7ICc7XG4gICAgICBvdXQgKz0gJyByZXR1cm4gZXJyb3JzID09PSAwOyAgICAgICAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyB9OyByZXR1cm4gdmFsaWRhdGU7JztcbiAgfSBlbHNlIHtcbiAgICBvdXQgKz0gJyB2YXIgJyArICgkdmFsaWQpICsgJyA9IGVycm9ycyA9PT0gZXJyc18nICsgKCRsdmwpICsgJzsnO1xuICB9XG5cbiAgZnVuY3Rpb24gJHNob3VsZFVzZUdyb3VwKCRydWxlc0dyb3VwKSB7XG4gICAgdmFyIHJ1bGVzID0gJHJ1bGVzR3JvdXAucnVsZXM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7IGkrKylcbiAgICAgIGlmICgkc2hvdWxkVXNlUnVsZShydWxlc1tpXSkpIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gJHNob3VsZFVzZVJ1bGUoJHJ1bGUpIHtcbiAgICByZXR1cm4gaXQuc2NoZW1hWyRydWxlLmtleXdvcmRdICE9PSB1bmRlZmluZWQgfHwgKCRydWxlLmltcGxlbWVudHMgJiYgJHJ1bGVJbXBsZW1lbnRzU29tZUtleXdvcmQoJHJ1bGUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uICRydWxlSW1wbGVtZW50c1NvbWVLZXl3b3JkKCRydWxlKSB7XG4gICAgdmFyIGltcGwgPSAkcnVsZS5pbXBsZW1lbnRzO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1wbC5sZW5ndGg7IGkrKylcbiAgICAgIGlmIChpdC5zY2hlbWFbaW1wbFtpXV0gIT09IHVuZGVmaW5lZCkgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHJlc29sdmUgPSByZXF1aXJlKCcuL3Jlc29sdmUnKVxuICAsIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKVxuICAsIGVycm9yQ2xhc3NlcyA9IHJlcXVpcmUoJy4vZXJyb3JfY2xhc3NlcycpXG4gICwgc3RhYmxlU3RyaW5naWZ5ID0gcmVxdWlyZSgnZmFzdC1qc29uLXN0YWJsZS1zdHJpbmdpZnknKTtcblxudmFyIHZhbGlkYXRlR2VuZXJhdG9yID0gcmVxdWlyZSgnLi4vZG90anMvdmFsaWRhdGUnKTtcblxuLyoqXG4gKiBGdW5jdGlvbnMgYmVsb3cgYXJlIHVzZWQgaW5zaWRlIGNvbXBpbGVkIHZhbGlkYXRpb25zIGZ1bmN0aW9uXG4gKi9cblxudmFyIHVjczJsZW5ndGggPSB1dGlsLnVjczJsZW5ndGg7XG52YXIgZXF1YWwgPSByZXF1aXJlKCdmYXN0LWRlZXAtZXF1YWwnKTtcblxuLy8gdGhpcyBlcnJvciBpcyB0aHJvd24gYnkgYXN5bmMgc2NoZW1hcyB0byByZXR1cm4gdmFsaWRhdGlvbiBlcnJvcnMgdmlhIGV4Y2VwdGlvblxudmFyIFZhbGlkYXRpb25FcnJvciA9IGVycm9yQ2xhc3Nlcy5WYWxpZGF0aW9uO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbXBpbGU7XG5cblxuLyoqXG4gKiBDb21waWxlcyBzY2hlbWEgdG8gdmFsaWRhdGlvbiBmdW5jdGlvblxuICogQHRoaXMgICBBanZcbiAqIEBwYXJhbSAge09iamVjdH0gc2NoZW1hIHNjaGVtYSBvYmplY3RcbiAqIEBwYXJhbSAge09iamVjdH0gcm9vdCBvYmplY3Qgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcm9vdCBzY2hlbWEgZm9yIHRoaXMgc2NoZW1hXG4gKiBAcGFyYW0gIHtPYmplY3R9IGxvY2FsUmVmcyB0aGUgaGFzaCBvZiBsb2NhbCByZWZlcmVuY2VzIGluc2lkZSB0aGUgc2NoZW1hIChjcmVhdGVkIGJ5IHJlc29sdmUuaWQpLCB1c2VkIGZvciBpbmxpbmUgcmVzb2x1dGlvblxuICogQHBhcmFtICB7U3RyaW5nfSBiYXNlSWQgYmFzZSBJRCBmb3IgSURzIGluIHRoZSBzY2hlbWFcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSB2YWxpZGF0aW9uIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGUoc2NoZW1hLCByb290LCBsb2NhbFJlZnMsIGJhc2VJZCkge1xuICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlLCBldmlsOiB0cnVlICovXG4gIC8qIGVzbGludCBuby1zaGFkb3c6IDAgKi9cbiAgdmFyIHNlbGYgPSB0aGlzXG4gICAgLCBvcHRzID0gdGhpcy5fb3B0c1xuICAgICwgcmVmVmFsID0gWyB1bmRlZmluZWQgXVxuICAgICwgcmVmcyA9IHt9XG4gICAgLCBwYXR0ZXJucyA9IFtdXG4gICAgLCBwYXR0ZXJuc0hhc2ggPSB7fVxuICAgICwgZGVmYXVsdHMgPSBbXVxuICAgICwgZGVmYXVsdHNIYXNoID0ge31cbiAgICAsIGN1c3RvbVJ1bGVzID0gW107XG5cbiAgcm9vdCA9IHJvb3QgfHwgeyBzY2hlbWE6IHNjaGVtYSwgcmVmVmFsOiByZWZWYWwsIHJlZnM6IHJlZnMgfTtcblxuICB2YXIgYyA9IGNoZWNrQ29tcGlsaW5nLmNhbGwodGhpcywgc2NoZW1hLCByb290LCBiYXNlSWQpO1xuICB2YXIgY29tcGlsYXRpb24gPSB0aGlzLl9jb21waWxhdGlvbnNbYy5pbmRleF07XG4gIGlmIChjLmNvbXBpbGluZykgcmV0dXJuIChjb21waWxhdGlvbi5jYWxsVmFsaWRhdGUgPSBjYWxsVmFsaWRhdGUpO1xuXG4gIHZhciBmb3JtYXRzID0gdGhpcy5fZm9ybWF0cztcbiAgdmFyIFJVTEVTID0gdGhpcy5SVUxFUztcblxuICB0cnkge1xuICAgIHZhciB2ID0gbG9jYWxDb21waWxlKHNjaGVtYSwgcm9vdCwgbG9jYWxSZWZzLCBiYXNlSWQpO1xuICAgIGNvbXBpbGF0aW9uLnZhbGlkYXRlID0gdjtcbiAgICB2YXIgY3YgPSBjb21waWxhdGlvbi5jYWxsVmFsaWRhdGU7XG4gICAgaWYgKGN2KSB7XG4gICAgICBjdi5zY2hlbWEgPSB2LnNjaGVtYTtcbiAgICAgIGN2LmVycm9ycyA9IG51bGw7XG4gICAgICBjdi5yZWZzID0gdi5yZWZzO1xuICAgICAgY3YucmVmVmFsID0gdi5yZWZWYWw7XG4gICAgICBjdi5yb290ID0gdi5yb290O1xuICAgICAgY3YuJGFzeW5jID0gdi4kYXN5bmM7XG4gICAgICBpZiAob3B0cy5zb3VyY2VDb2RlKSBjdi5zb3VyY2UgPSB2LnNvdXJjZTtcbiAgICB9XG4gICAgcmV0dXJuIHY7XG4gIH0gZmluYWxseSB7XG4gICAgZW5kQ29tcGlsaW5nLmNhbGwodGhpcywgc2NoZW1hLCByb290LCBiYXNlSWQpO1xuICB9XG5cbiAgLyogQHRoaXMgICB7Kn0gLSBjdXN0b20gY29udGV4dCwgc2VlIHBhc3NDb250ZXh0IG9wdGlvbiAqL1xuICBmdW5jdGlvbiBjYWxsVmFsaWRhdGUoKSB7XG4gICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICAgIHZhciB2YWxpZGF0ZSA9IGNvbXBpbGF0aW9uLnZhbGlkYXRlO1xuICAgIHZhciByZXN1bHQgPSB2YWxpZGF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGNhbGxWYWxpZGF0ZS5lcnJvcnMgPSB2YWxpZGF0ZS5lcnJvcnM7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvY2FsQ29tcGlsZShfc2NoZW1hLCBfcm9vdCwgbG9jYWxSZWZzLCBiYXNlSWQpIHtcbiAgICB2YXIgaXNSb290ID0gIV9yb290IHx8IChfcm9vdCAmJiBfcm9vdC5zY2hlbWEgPT0gX3NjaGVtYSk7XG4gICAgaWYgKF9yb290LnNjaGVtYSAhPSByb290LnNjaGVtYSlcbiAgICAgIHJldHVybiBjb21waWxlLmNhbGwoc2VsZiwgX3NjaGVtYSwgX3Jvb3QsIGxvY2FsUmVmcywgYmFzZUlkKTtcblxuICAgIHZhciAkYXN5bmMgPSBfc2NoZW1hLiRhc3luYyA9PT0gdHJ1ZTtcblxuICAgIHZhciBzb3VyY2VDb2RlID0gdmFsaWRhdGVHZW5lcmF0b3Ioe1xuICAgICAgaXNUb3A6IHRydWUsXG4gICAgICBzY2hlbWE6IF9zY2hlbWEsXG4gICAgICBpc1Jvb3Q6IGlzUm9vdCxcbiAgICAgIGJhc2VJZDogYmFzZUlkLFxuICAgICAgcm9vdDogX3Jvb3QsXG4gICAgICBzY2hlbWFQYXRoOiAnJyxcbiAgICAgIGVyclNjaGVtYVBhdGg6ICcjJyxcbiAgICAgIGVycm9yUGF0aDogJ1wiXCInLFxuICAgICAgTWlzc2luZ1JlZkVycm9yOiBlcnJvckNsYXNzZXMuTWlzc2luZ1JlZixcbiAgICAgIFJVTEVTOiBSVUxFUyxcbiAgICAgIHZhbGlkYXRlOiB2YWxpZGF0ZUdlbmVyYXRvcixcbiAgICAgIHV0aWw6IHV0aWwsXG4gICAgICByZXNvbHZlOiByZXNvbHZlLFxuICAgICAgcmVzb2x2ZVJlZjogcmVzb2x2ZVJlZixcbiAgICAgIHVzZVBhdHRlcm46IHVzZVBhdHRlcm4sXG4gICAgICB1c2VEZWZhdWx0OiB1c2VEZWZhdWx0LFxuICAgICAgdXNlQ3VzdG9tUnVsZTogdXNlQ3VzdG9tUnVsZSxcbiAgICAgIG9wdHM6IG9wdHMsXG4gICAgICBmb3JtYXRzOiBmb3JtYXRzLFxuICAgICAgbG9nZ2VyOiBzZWxmLmxvZ2dlcixcbiAgICAgIHNlbGY6IHNlbGZcbiAgICB9KTtcblxuICAgIHNvdXJjZUNvZGUgPSB2YXJzKHJlZlZhbCwgcmVmVmFsQ29kZSkgKyB2YXJzKHBhdHRlcm5zLCBwYXR0ZXJuQ29kZSlcbiAgICAgICAgICAgICAgICAgICArIHZhcnMoZGVmYXVsdHMsIGRlZmF1bHRDb2RlKSArIHZhcnMoY3VzdG9tUnVsZXMsIGN1c3RvbVJ1bGVDb2RlKVxuICAgICAgICAgICAgICAgICAgICsgc291cmNlQ29kZTtcblxuICAgIGlmIChvcHRzLnByb2Nlc3NDb2RlKSBzb3VyY2VDb2RlID0gb3B0cy5wcm9jZXNzQ29kZShzb3VyY2VDb2RlLCBfc2NoZW1hKTtcbiAgICAvLyBjb25zb2xlLmxvZygnXFxuXFxuXFxuICoqKiBcXG4nLCBKU09OLnN0cmluZ2lmeShzb3VyY2VDb2RlKSk7XG4gICAgdmFyIHZhbGlkYXRlO1xuICAgIHRyeSB7XG4gICAgICB2YXIgbWFrZVZhbGlkYXRlID0gbmV3IEZ1bmN0aW9uKFxuICAgICAgICAnc2VsZicsXG4gICAgICAgICdSVUxFUycsXG4gICAgICAgICdmb3JtYXRzJyxcbiAgICAgICAgJ3Jvb3QnLFxuICAgICAgICAncmVmVmFsJyxcbiAgICAgICAgJ2RlZmF1bHRzJyxcbiAgICAgICAgJ2N1c3RvbVJ1bGVzJyxcbiAgICAgICAgJ2VxdWFsJyxcbiAgICAgICAgJ3VjczJsZW5ndGgnLFxuICAgICAgICAnVmFsaWRhdGlvbkVycm9yJyxcbiAgICAgICAgc291cmNlQ29kZVxuICAgICAgKTtcblxuICAgICAgdmFsaWRhdGUgPSBtYWtlVmFsaWRhdGUoXG4gICAgICAgIHNlbGYsXG4gICAgICAgIFJVTEVTLFxuICAgICAgICBmb3JtYXRzLFxuICAgICAgICByb290LFxuICAgICAgICByZWZWYWwsXG4gICAgICAgIGRlZmF1bHRzLFxuICAgICAgICBjdXN0b21SdWxlcyxcbiAgICAgICAgZXF1YWwsXG4gICAgICAgIHVjczJsZW5ndGgsXG4gICAgICAgIFZhbGlkYXRpb25FcnJvclxuICAgICAgKTtcblxuICAgICAgcmVmVmFsWzBdID0gdmFsaWRhdGU7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICBzZWxmLmxvZ2dlci5lcnJvcignRXJyb3IgY29tcGlsaW5nIHNjaGVtYSwgZnVuY3Rpb24gY29kZTonLCBzb3VyY2VDb2RlKTtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuXG4gICAgdmFsaWRhdGUuc2NoZW1hID0gX3NjaGVtYTtcbiAgICB2YWxpZGF0ZS5lcnJvcnMgPSBudWxsO1xuICAgIHZhbGlkYXRlLnJlZnMgPSByZWZzO1xuICAgIHZhbGlkYXRlLnJlZlZhbCA9IHJlZlZhbDtcbiAgICB2YWxpZGF0ZS5yb290ID0gaXNSb290ID8gdmFsaWRhdGUgOiBfcm9vdDtcbiAgICBpZiAoJGFzeW5jKSB2YWxpZGF0ZS4kYXN5bmMgPSB0cnVlO1xuICAgIGlmIChvcHRzLnNvdXJjZUNvZGUgPT09IHRydWUpIHtcbiAgICAgIHZhbGlkYXRlLnNvdXJjZSA9IHtcbiAgICAgICAgY29kZTogc291cmNlQ29kZSxcbiAgICAgICAgcGF0dGVybnM6IHBhdHRlcm5zLFxuICAgICAgICBkZWZhdWx0czogZGVmYXVsdHNcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbGlkYXRlO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZVJlZihiYXNlSWQsIHJlZiwgaXNSb290KSB7XG4gICAgcmVmID0gcmVzb2x2ZS51cmwoYmFzZUlkLCByZWYpO1xuICAgIHZhciByZWZJbmRleCA9IHJlZnNbcmVmXTtcbiAgICB2YXIgX3JlZlZhbCwgcmVmQ29kZTtcbiAgICBpZiAocmVmSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgX3JlZlZhbCA9IHJlZlZhbFtyZWZJbmRleF07XG4gICAgICByZWZDb2RlID0gJ3JlZlZhbFsnICsgcmVmSW5kZXggKyAnXSc7XG4gICAgICByZXR1cm4gcmVzb2x2ZWRSZWYoX3JlZlZhbCwgcmVmQ29kZSk7XG4gICAgfVxuICAgIGlmICghaXNSb290ICYmIHJvb3QucmVmcykge1xuICAgICAgdmFyIHJvb3RSZWZJZCA9IHJvb3QucmVmc1tyZWZdO1xuICAgICAgaWYgKHJvb3RSZWZJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIF9yZWZWYWwgPSByb290LnJlZlZhbFtyb290UmVmSWRdO1xuICAgICAgICByZWZDb2RlID0gYWRkTG9jYWxSZWYocmVmLCBfcmVmVmFsKTtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVkUmVmKF9yZWZWYWwsIHJlZkNvZGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJlZkNvZGUgPSBhZGRMb2NhbFJlZihyZWYpO1xuICAgIHZhciB2ID0gcmVzb2x2ZS5jYWxsKHNlbGYsIGxvY2FsQ29tcGlsZSwgcm9vdCwgcmVmKTtcbiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgbG9jYWxTY2hlbWEgPSBsb2NhbFJlZnMgJiYgbG9jYWxSZWZzW3JlZl07XG4gICAgICBpZiAobG9jYWxTY2hlbWEpIHtcbiAgICAgICAgdiA9IHJlc29sdmUuaW5saW5lUmVmKGxvY2FsU2NoZW1hLCBvcHRzLmlubGluZVJlZnMpXG4gICAgICAgICAgICA/IGxvY2FsU2NoZW1hXG4gICAgICAgICAgICA6IGNvbXBpbGUuY2FsbChzZWxmLCBsb2NhbFNjaGVtYSwgcm9vdCwgbG9jYWxSZWZzLCBiYXNlSWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJlbW92ZUxvY2FsUmVmKHJlZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcGxhY2VMb2NhbFJlZihyZWYsIHYpO1xuICAgICAgcmV0dXJuIHJlc29sdmVkUmVmKHYsIHJlZkNvZGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZExvY2FsUmVmKHJlZiwgdikge1xuICAgIHZhciByZWZJZCA9IHJlZlZhbC5sZW5ndGg7XG4gICAgcmVmVmFsW3JlZklkXSA9IHY7XG4gICAgcmVmc1tyZWZdID0gcmVmSWQ7XG4gICAgcmV0dXJuICdyZWZWYWwnICsgcmVmSWQ7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVMb2NhbFJlZihyZWYpIHtcbiAgICBkZWxldGUgcmVmc1tyZWZdO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVwbGFjZUxvY2FsUmVmKHJlZiwgdikge1xuICAgIHZhciByZWZJZCA9IHJlZnNbcmVmXTtcbiAgICByZWZWYWxbcmVmSWRdID0gdjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc29sdmVkUmVmKHJlZlZhbCwgY29kZSkge1xuICAgIHJldHVybiB0eXBlb2YgcmVmVmFsID09ICdvYmplY3QnIHx8IHR5cGVvZiByZWZWYWwgPT0gJ2Jvb2xlYW4nXG4gICAgICAgICAgICA/IHsgY29kZTogY29kZSwgc2NoZW1hOiByZWZWYWwsIGlubGluZTogdHJ1ZSB9XG4gICAgICAgICAgICA6IHsgY29kZTogY29kZSwgJGFzeW5jOiByZWZWYWwgJiYgISFyZWZWYWwuJGFzeW5jIH07XG4gIH1cblxuICBmdW5jdGlvbiB1c2VQYXR0ZXJuKHJlZ2V4U3RyKSB7XG4gICAgdmFyIGluZGV4ID0gcGF0dGVybnNIYXNoW3JlZ2V4U3RyXTtcbiAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgaW5kZXggPSBwYXR0ZXJuc0hhc2hbcmVnZXhTdHJdID0gcGF0dGVybnMubGVuZ3RoO1xuICAgICAgcGF0dGVybnNbaW5kZXhdID0gcmVnZXhTdHI7XG4gICAgfVxuICAgIHJldHVybiAncGF0dGVybicgKyBpbmRleDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVzZURlZmF1bHQodmFsdWUpIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICByZXR1cm4gJycgKyB2YWx1ZTtcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIHJldHVybiB1dGlsLnRvUXVvdGVkU3RyaW5nKHZhbHVlKTtcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuICdudWxsJztcbiAgICAgICAgdmFyIHZhbHVlU3RyID0gc3RhYmxlU3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgdmFyIGluZGV4ID0gZGVmYXVsdHNIYXNoW3ZhbHVlU3RyXTtcbiAgICAgICAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpbmRleCA9IGRlZmF1bHRzSGFzaFt2YWx1ZVN0cl0gPSBkZWZhdWx0cy5sZW5ndGg7XG4gICAgICAgICAgZGVmYXVsdHNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdkZWZhdWx0JyArIGluZGV4O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVzZUN1c3RvbVJ1bGUocnVsZSwgc2NoZW1hLCBwYXJlbnRTY2hlbWEsIGl0KSB7XG4gICAgaWYgKHNlbGYuX29wdHMudmFsaWRhdGVTY2hlbWEgIT09IGZhbHNlKSB7XG4gICAgICB2YXIgZGVwcyA9IHJ1bGUuZGVmaW5pdGlvbi5kZXBlbmRlbmNpZXM7XG4gICAgICBpZiAoZGVwcyAmJiAhZGVwcy5ldmVyeShmdW5jdGlvbihrZXl3b3JkKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50U2NoZW1hLCBrZXl3b3JkKTtcbiAgICAgIH0pKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BhcmVudCBzY2hlbWEgbXVzdCBoYXZlIGFsbCByZXF1aXJlZCBrZXl3b3JkczogJyArIGRlcHMuam9pbignLCcpKTtcblxuICAgICAgdmFyIHZhbGlkYXRlU2NoZW1hID0gcnVsZS5kZWZpbml0aW9uLnZhbGlkYXRlU2NoZW1hO1xuICAgICAgaWYgKHZhbGlkYXRlU2NoZW1hKSB7XG4gICAgICAgIHZhciB2YWxpZCA9IHZhbGlkYXRlU2NoZW1hKHNjaGVtYSk7XG4gICAgICAgIGlmICghdmFsaWQpIHtcbiAgICAgICAgICB2YXIgbWVzc2FnZSA9ICdrZXl3b3JkIHNjaGVtYSBpcyBpbnZhbGlkOiAnICsgc2VsZi5lcnJvcnNUZXh0KHZhbGlkYXRlU2NoZW1hLmVycm9ycyk7XG4gICAgICAgICAgaWYgKHNlbGYuX29wdHMudmFsaWRhdGVTY2hlbWEgPT0gJ2xvZycpIHNlbGYubG9nZ2VyLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGNvbXBpbGUgPSBydWxlLmRlZmluaXRpb24uY29tcGlsZVxuICAgICAgLCBpbmxpbmUgPSBydWxlLmRlZmluaXRpb24uaW5saW5lXG4gICAgICAsIG1hY3JvID0gcnVsZS5kZWZpbml0aW9uLm1hY3JvO1xuXG4gICAgdmFyIHZhbGlkYXRlO1xuICAgIGlmIChjb21waWxlKSB7XG4gICAgICB2YWxpZGF0ZSA9IGNvbXBpbGUuY2FsbChzZWxmLCBzY2hlbWEsIHBhcmVudFNjaGVtYSwgaXQpO1xuICAgIH0gZWxzZSBpZiAobWFjcm8pIHtcbiAgICAgIHZhbGlkYXRlID0gbWFjcm8uY2FsbChzZWxmLCBzY2hlbWEsIHBhcmVudFNjaGVtYSwgaXQpO1xuICAgICAgaWYgKG9wdHMudmFsaWRhdGVTY2hlbWEgIT09IGZhbHNlKSBzZWxmLnZhbGlkYXRlU2NoZW1hKHZhbGlkYXRlLCB0cnVlKTtcbiAgICB9IGVsc2UgaWYgKGlubGluZSkge1xuICAgICAgdmFsaWRhdGUgPSBpbmxpbmUuY2FsbChzZWxmLCBpdCwgcnVsZS5rZXl3b3JkLCBzY2hlbWEsIHBhcmVudFNjaGVtYSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbGlkYXRlID0gcnVsZS5kZWZpbml0aW9uLnZhbGlkYXRlO1xuICAgICAgaWYgKCF2YWxpZGF0ZSkgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh2YWxpZGF0ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjdXN0b20ga2V5d29yZCBcIicgKyBydWxlLmtleXdvcmQgKyAnXCJmYWlsZWQgdG8gY29tcGlsZScpO1xuXG4gICAgdmFyIGluZGV4ID0gY3VzdG9tUnVsZXMubGVuZ3RoO1xuICAgIGN1c3RvbVJ1bGVzW2luZGV4XSA9IHZhbGlkYXRlO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGNvZGU6ICdjdXN0b21SdWxlJyArIGluZGV4LFxuICAgICAgdmFsaWRhdGU6IHZhbGlkYXRlXG4gICAgfTtcbiAgfVxufVxuXG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBzY2hlbWEgaXMgY3VycmVudGx5IGNvbXBpbGVkXG4gKiBAdGhpcyAgIEFqdlxuICogQHBhcmFtICB7T2JqZWN0fSBzY2hlbWEgc2NoZW1hIHRvIGNvbXBpbGVcbiAqIEBwYXJhbSAge09iamVjdH0gcm9vdCByb290IG9iamVjdFxuICogQHBhcmFtICB7U3RyaW5nfSBiYXNlSWQgYmFzZSBzY2hlbWEgSURcbiAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHdpdGggcHJvcGVydGllcyBcImluZGV4XCIgKGNvbXBpbGF0aW9uIGluZGV4KSBhbmQgXCJjb21waWxpbmdcIiAoYm9vbGVhbilcbiAqL1xuZnVuY3Rpb24gY2hlY2tDb21waWxpbmcoc2NoZW1hLCByb290LCBiYXNlSWQpIHtcbiAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICB2YXIgaW5kZXggPSBjb21wSW5kZXguY2FsbCh0aGlzLCBzY2hlbWEsIHJvb3QsIGJhc2VJZCk7XG4gIGlmIChpbmRleCA+PSAwKSByZXR1cm4geyBpbmRleDogaW5kZXgsIGNvbXBpbGluZzogdHJ1ZSB9O1xuICBpbmRleCA9IHRoaXMuX2NvbXBpbGF0aW9ucy5sZW5ndGg7XG4gIHRoaXMuX2NvbXBpbGF0aW9uc1tpbmRleF0gPSB7XG4gICAgc2NoZW1hOiBzY2hlbWEsXG4gICAgcm9vdDogcm9vdCxcbiAgICBiYXNlSWQ6IGJhc2VJZFxuICB9O1xuICByZXR1cm4geyBpbmRleDogaW5kZXgsIGNvbXBpbGluZzogZmFsc2UgfTtcbn1cblxuXG4vKipcbiAqIFJlbW92ZXMgdGhlIHNjaGVtYSBmcm9tIHRoZSBjdXJyZW50bHkgY29tcGlsZWQgbGlzdFxuICogQHRoaXMgICBBanZcbiAqIEBwYXJhbSAge09iamVjdH0gc2NoZW1hIHNjaGVtYSB0byBjb21waWxlXG4gKiBAcGFyYW0gIHtPYmplY3R9IHJvb3Qgcm9vdCBvYmplY3RcbiAqIEBwYXJhbSAge1N0cmluZ30gYmFzZUlkIGJhc2Ugc2NoZW1hIElEXG4gKi9cbmZ1bmN0aW9uIGVuZENvbXBpbGluZyhzY2hlbWEsIHJvb3QsIGJhc2VJZCkge1xuICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gIHZhciBpID0gY29tcEluZGV4LmNhbGwodGhpcywgc2NoZW1hLCByb290LCBiYXNlSWQpO1xuICBpZiAoaSA+PSAwKSB0aGlzLl9jb21waWxhdGlvbnMuc3BsaWNlKGksIDEpO1xufVxuXG5cbi8qKlxuICogSW5kZXggb2Ygc2NoZW1hIGNvbXBpbGF0aW9uIGluIHRoZSBjdXJyZW50bHkgY29tcGlsZWQgbGlzdFxuICogQHRoaXMgICBBanZcbiAqIEBwYXJhbSAge09iamVjdH0gc2NoZW1hIHNjaGVtYSB0byBjb21waWxlXG4gKiBAcGFyYW0gIHtPYmplY3R9IHJvb3Qgcm9vdCBvYmplY3RcbiAqIEBwYXJhbSAge1N0cmluZ30gYmFzZUlkIGJhc2Ugc2NoZW1hIElEXG4gKiBAcmV0dXJuIHtJbnRlZ2VyfSBjb21waWxhdGlvbiBpbmRleFxuICovXG5mdW5jdGlvbiBjb21wSW5kZXgoc2NoZW1hLCByb290LCBiYXNlSWQpIHtcbiAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICBmb3IgKHZhciBpPTA7IGk8dGhpcy5fY29tcGlsYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGMgPSB0aGlzLl9jb21waWxhdGlvbnNbaV07XG4gICAgaWYgKGMuc2NoZW1hID09IHNjaGVtYSAmJiBjLnJvb3QgPT0gcm9vdCAmJiBjLmJhc2VJZCA9PSBiYXNlSWQpIHJldHVybiBpO1xuICB9XG4gIHJldHVybiAtMTtcbn1cblxuXG5mdW5jdGlvbiBwYXR0ZXJuQ29kZShpLCBwYXR0ZXJucykge1xuICByZXR1cm4gJ3ZhciBwYXR0ZXJuJyArIGkgKyAnID0gbmV3IFJlZ0V4cCgnICsgdXRpbC50b1F1b3RlZFN0cmluZyhwYXR0ZXJuc1tpXSkgKyAnKTsnO1xufVxuXG5cbmZ1bmN0aW9uIGRlZmF1bHRDb2RlKGkpIHtcbiAgcmV0dXJuICd2YXIgZGVmYXVsdCcgKyBpICsgJyA9IGRlZmF1bHRzWycgKyBpICsgJ107Jztcbn1cblxuXG5mdW5jdGlvbiByZWZWYWxDb2RlKGksIHJlZlZhbCkge1xuICByZXR1cm4gcmVmVmFsW2ldID09PSB1bmRlZmluZWQgPyAnJyA6ICd2YXIgcmVmVmFsJyArIGkgKyAnID0gcmVmVmFsWycgKyBpICsgJ107Jztcbn1cblxuXG5mdW5jdGlvbiBjdXN0b21SdWxlQ29kZShpKSB7XG4gIHJldHVybiAndmFyIGN1c3RvbVJ1bGUnICsgaSArICcgPSBjdXN0b21SdWxlc1snICsgaSArICddOyc7XG59XG5cblxuZnVuY3Rpb24gdmFycyhhcnIsIHN0YXRlbWVudCkge1xuICBpZiAoIWFyci5sZW5ndGgpIHJldHVybiAnJztcbiAgdmFyIGNvZGUgPSAnJztcbiAgZm9yICh2YXIgaT0wOyBpPGFyci5sZW5ndGg7IGkrKylcbiAgICBjb2RlICs9IHN0YXRlbWVudChpLCBhcnIpO1xuICByZXR1cm4gY29kZTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuXG52YXIgQ2FjaGUgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIENhY2hlKCkge1xuICB0aGlzLl9jYWNoZSA9IHt9O1xufTtcblxuXG5DYWNoZS5wcm90b3R5cGUucHV0ID0gZnVuY3Rpb24gQ2FjaGVfcHV0KGtleSwgdmFsdWUpIHtcbiAgdGhpcy5fY2FjaGVba2V5XSA9IHZhbHVlO1xufTtcblxuXG5DYWNoZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gQ2FjaGVfZ2V0KGtleSkge1xuICByZXR1cm4gdGhpcy5fY2FjaGVba2V5XTtcbn07XG5cblxuQ2FjaGUucHJvdG90eXBlLmRlbCA9IGZ1bmN0aW9uIENhY2hlX2RlbChrZXkpIHtcbiAgZGVsZXRlIHRoaXMuX2NhY2hlW2tleV07XG59O1xuXG5cbkNhY2hlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIENhY2hlX2NsZWFyKCkge1xuICB0aGlzLl9jYWNoZSA9IHt9O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxudmFyIERBVEUgPSAvXihcXGRcXGRcXGRcXGQpLShcXGRcXGQpLShcXGRcXGQpJC87XG52YXIgREFZUyA9IFswLDMxLDI4LDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXTtcbnZhciBUSU1FID0gL14oXFxkXFxkKTooXFxkXFxkKTooXFxkXFxkKShcXC5cXGQrKT8oenxbKy1dXFxkXFxkKD86Oj9cXGRcXGQpPyk/JC9pO1xudmFyIEhPU1ROQU1FID0gL14oPz0uezEsMjUzfVxcLj8kKVthLXowLTldKD86W2EtejAtOS1dezAsNjF9W2EtejAtOV0pPyg/OlxcLlthLXowLTldKD86Wy0wLTlhLXpdezAsNjF9WzAtOWEtel0pPykqXFwuPyQvaTtcbnZhciBVUkkgPSAvXig/OlthLXpdW2EtejAtOStcXC0uXSo6KSg/OlxcLz9cXC8oPzooPzpbYS16MC05XFwtLl9+ISQmJygpKissOz06XXwlWzAtOWEtZl17Mn0pKkApPyg/OlxcWyg/Oig/Oig/Oig/OlswLTlhLWZdezEsNH06KXs2fXw6Oig/OlswLTlhLWZdezEsNH06KXs1fXwoPzpbMC05YS1mXXsxLDR9KT86Oig/OlswLTlhLWZdezEsNH06KXs0fXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MCwxfVswLTlhLWZdezEsNH0pPzo6KD86WzAtOWEtZl17MSw0fTopezN9fCg/Oig/OlswLTlhLWZdezEsNH06KXswLDJ9WzAtOWEtZl17MSw0fSk/OjooPzpbMC05YS1mXXsxLDR9Oil7Mn18KD86KD86WzAtOWEtZl17MSw0fTopezAsM31bMC05YS1mXXsxLDR9KT86OlswLTlhLWZdezEsNH06fCg/Oig/OlswLTlhLWZdezEsNH06KXswLDR9WzAtOWEtZl17MSw0fSk/OjopKD86WzAtOWEtZl17MSw0fTpbMC05YS1mXXsxLDR9fCg/Oig/OjI1WzAtNV18MlswLTRdXFxkfFswMV0/XFxkXFxkPylcXC4pezN9KD86MjVbMC01XXwyWzAtNF1cXGR8WzAxXT9cXGRcXGQ/KSl8KD86KD86WzAtOWEtZl17MSw0fTopezAsNX1bMC05YS1mXXsxLDR9KT86OlswLTlhLWZdezEsNH18KD86KD86WzAtOWEtZl17MSw0fTopezAsNn1bMC05YS1mXXsxLDR9KT86Oil8W1Z2XVswLTlhLWZdK1xcLlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpdKylcXF18KD86KD86MjVbMC01XXwyWzAtNF1cXGR8WzAxXT9cXGRcXGQ/KVxcLil7M30oPzoyNVswLTVdfDJbMC00XVxcZHxbMDFdP1xcZFxcZD8pfCg/OlthLXowLTlcXC0uX34hJCYnKCkqKyw7PV18JVswLTlhLWZdezJ9KSopKD86OlxcZCopPyg/OlxcLyg/OlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpAXXwlWzAtOWEtZl17Mn0pKikqfFxcLyg/Oig/OlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpAXXwlWzAtOWEtZl17Mn0pKyg/OlxcLyg/OlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpAXXwlWzAtOWEtZl17Mn0pKikqKT98KD86W2EtejAtOVxcLS5ffiEkJicoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkrKD86XFwvKD86W2EtejAtOVxcLS5ffiEkJicoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkqKSopKD86XFw/KD86W2EtejAtOVxcLS5ffiEkJicoKSorLDs9OkAvP118JVswLTlhLWZdezJ9KSopPyg/OiMoPzpbYS16MC05XFwtLl9+ISQmJygpKissOz06QC8/XXwlWzAtOWEtZl17Mn0pKik/JC9pO1xudmFyIFVSSVJFRiA9IC9eKD86W2Etel1bYS16MC05K1xcLS5dKjopPyg/OlxcLz9cXC8oPzooPzpbYS16MC05XFwtLl9+ISQmJygpKissOz06XXwlWzAtOWEtZl17Mn0pKkApPyg/OlxcWyg/Oig/Oig/Oig/OlswLTlhLWZdezEsNH06KXs2fXw6Oig/OlswLTlhLWZdezEsNH06KXs1fXwoPzpbMC05YS1mXXsxLDR9KT86Oig/OlswLTlhLWZdezEsNH06KXs0fXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MCwxfVswLTlhLWZdezEsNH0pPzo6KD86WzAtOWEtZl17MSw0fTopezN9fCg/Oig/OlswLTlhLWZdezEsNH06KXswLDJ9WzAtOWEtZl17MSw0fSk/OjooPzpbMC05YS1mXXsxLDR9Oil7Mn18KD86KD86WzAtOWEtZl17MSw0fTopezAsM31bMC05YS1mXXsxLDR9KT86OlswLTlhLWZdezEsNH06fCg/Oig/OlswLTlhLWZdezEsNH06KXswLDR9WzAtOWEtZl17MSw0fSk/OjopKD86WzAtOWEtZl17MSw0fTpbMC05YS1mXXsxLDR9fCg/Oig/OjI1WzAtNV18MlswLTRdXFxkfFswMV0/XFxkXFxkPylcXC4pezN9KD86MjVbMC01XXwyWzAtNF1cXGR8WzAxXT9cXGRcXGQ/KSl8KD86KD86WzAtOWEtZl17MSw0fTopezAsNX1bMC05YS1mXXsxLDR9KT86OlswLTlhLWZdezEsNH18KD86KD86WzAtOWEtZl17MSw0fTopezAsNn1bMC05YS1mXXsxLDR9KT86Oil8W1Z2XVswLTlhLWZdK1xcLlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpdKylcXF18KD86KD86MjVbMC01XXwyWzAtNF1cXGR8WzAxXT9cXGRcXGQ/KVxcLil7M30oPzoyNVswLTVdfDJbMC00XVxcZHxbMDFdP1xcZFxcZD8pfCg/OlthLXowLTlcXC0uX34hJCYnXCIoKSorLDs9XXwlWzAtOWEtZl17Mn0pKikoPzo6XFxkKik/KD86XFwvKD86W2EtejAtOVxcLS5ffiEkJidcIigpKissOz06QF18JVswLTlhLWZdezJ9KSopKnxcXC8oPzooPzpbYS16MC05XFwtLl9+ISQmJ1wiKCkqKyw7PTpAXXwlWzAtOWEtZl17Mn0pKyg/OlxcLyg/OlthLXowLTlcXC0uX34hJCYnXCIoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkqKSopP3woPzpbYS16MC05XFwtLl9+ISQmJ1wiKCkqKyw7PTpAXXwlWzAtOWEtZl17Mn0pKyg/OlxcLyg/OlthLXowLTlcXC0uX34hJCYnXCIoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkqKSopPyg/OlxcPyg/OlthLXowLTlcXC0uX34hJCYnXCIoKSorLDs9OkAvP118JVswLTlhLWZdezJ9KSopPyg/OiMoPzpbYS16MC05XFwtLl9+ISQmJ1wiKCkqKyw7PTpALz9dfCVbMC05YS1mXXsyfSkqKT8kL2k7XG4vLyB1cmktdGVtcGxhdGU6IGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NTcwXG52YXIgVVJJVEVNUExBVEUgPSAvXig/Oig/OlteXFx4MDAtXFx4MjBcIic8PiVcXFxcXmB7fH1dfCVbMC05YS1mXXsyfSl8XFx7WysjLi87PyY9LCFAfF0/KD86W2EtejAtOV9dfCVbMC05YS1mXXsyfSkrKD86OlsxLTldWzAtOV17MCwzfXxcXCopPyg/OiwoPzpbYS16MC05X118JVswLTlhLWZdezJ9KSsoPzo6WzEtOV1bMC05XXswLDN9fFxcKik/KSpcXH0pKiQvaTtcbi8vIEZvciB0aGUgc291cmNlOiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9kcGVyaW5pLzcyOTI5NFxuLy8gRm9yIHRlc3QgY2FzZXM6IGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9kZW1vL3VybC1yZWdleFxuLy8gQHRvZG8gRGVsZXRlIGN1cnJlbnQgVVJMIGluIGZhdm91ciBvZiB0aGUgY29tbWVudGVkIG91dCBVUkwgcnVsZSB3aGVuIHRoaXMgaXNzdWUgaXMgZml4ZWQgaHR0cHM6Ly9naXRodWIuY29tL2VzbGludC9lc2xpbnQvaXNzdWVzLzc5ODMuXG4vLyB2YXIgVVJMID0gL14oPzooPzpodHRwcz98ZnRwKTpcXC9cXC8pKD86XFxTKyg/OjpcXFMqKT9AKT8oPzooPyExMCg/OlxcLlxcZHsxLDN9KXszfSkoPyExMjcoPzpcXC5cXGR7MSwzfSl7M30pKD8hMTY5XFwuMjU0KD86XFwuXFxkezEsM30pezJ9KSg/ITE5MlxcLjE2OCg/OlxcLlxcZHsxLDN9KXsyfSkoPyExNzJcXC4oPzoxWzYtOV18MlxcZHwzWzAtMV0pKD86XFwuXFxkezEsM30pezJ9KSg/OlsxLTldXFxkP3wxXFxkXFxkfDJbMDFdXFxkfDIyWzAtM10pKD86XFwuKD86MT9cXGR7MSwyfXwyWzAtNF1cXGR8MjVbMC01XSkpezJ9KD86XFwuKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNF0pKXwoPzooPzpbYS16XFx1ezAwYTF9LVxcdXtmZmZmfTAtOV0rLSkqW2EtelxcdXswMGExfS1cXHV7ZmZmZn0wLTldKykoPzpcXC4oPzpbYS16XFx1ezAwYTF9LVxcdXtmZmZmfTAtOV0rLSkqW2EtelxcdXswMGExfS1cXHV7ZmZmZn0wLTldKykqKD86XFwuKD86W2EtelxcdXswMGExfS1cXHV7ZmZmZn1dezIsfSkpKSg/OjpcXGR7Miw1fSk/KD86XFwvW15cXHNdKik/JC9pdTtcbnZhciBVUkwgPSAvXig/Oig/Omh0dHBbc1xcdTAxN0ZdP3xmdHApOlxcL1xcLykoPzooPzpbXFwwLVxceDA4XFx4MEUtXFx4MUYhLVxceDlGXFx4QTEtXFx1MTY3RlxcdTE2ODEtXFx1MUZGRlxcdTIwMEItXFx1MjAyN1xcdTIwMkEtXFx1MjAyRVxcdTIwMzAtXFx1MjA1RVxcdTIwNjAtXFx1MkZGRlxcdTMwMDEtXFx1RDdGRlxcdUUwMDAtXFx1RkVGRVxcdUZGMDAtXFx1RkZGRl18W1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGXXxbXFx1RDgwMC1cXHVEQkZGXSg/IVtcXHVEQzAwLVxcdURGRkZdKXwoPzpbXlxcdUQ4MDAtXFx1REJGRl18XilbXFx1REMwMC1cXHVERkZGXSkrKD86Oig/OltcXDAtXFx4MDhcXHgwRS1cXHgxRiEtXFx4OUZcXHhBMS1cXHUxNjdGXFx1MTY4MS1cXHUxRkZGXFx1MjAwQi1cXHUyMDI3XFx1MjAyQS1cXHUyMDJFXFx1MjAzMC1cXHUyMDVFXFx1MjA2MC1cXHUyRkZGXFx1MzAwMS1cXHVEN0ZGXFx1RTAwMC1cXHVGRUZFXFx1RkYwMC1cXHVGRkZGXXxbXFx1RDgwMC1cXHVEQkZGXVtcXHVEQzAwLVxcdURGRkZdfFtcXHVEODAwLVxcdURCRkZdKD8hW1xcdURDMDAtXFx1REZGRl0pfCg/OlteXFx1RDgwMC1cXHVEQkZGXXxeKVtcXHVEQzAwLVxcdURGRkZdKSopP0ApPyg/Oig/ITEwKD86XFwuWzAtOV17MSwzfSl7M30pKD8hMTI3KD86XFwuWzAtOV17MSwzfSl7M30pKD8hMTY5XFwuMjU0KD86XFwuWzAtOV17MSwzfSl7Mn0pKD8hMTkyXFwuMTY4KD86XFwuWzAtOV17MSwzfSl7Mn0pKD8hMTcyXFwuKD86MVs2LTldfDJbMC05XXwzWzAxXSkoPzpcXC5bMC05XXsxLDN9KXsyfSkoPzpbMS05XVswLTldP3wxWzAtOV1bMC05XXwyWzAxXVswLTldfDIyWzAtM10pKD86XFwuKD86MT9bMC05XXsxLDJ9fDJbMC00XVswLTldfDI1WzAtNV0pKXsyfSg/OlxcLig/OlsxLTldWzAtOV0/fDFbMC05XVswLTldfDJbMC00XVswLTldfDI1WzAtNF0pKXwoPzooPzooPzpbMC05YS16XFx4QTEtXFx1RDdGRlxcdUUwMDAtXFx1RkZGRl18W1xcdUQ4MDAtXFx1REJGRl0oPyFbXFx1REMwMC1cXHVERkZGXSl8KD86W15cXHVEODAwLVxcdURCRkZdfF4pW1xcdURDMDAtXFx1REZGRl0pKy0pKig/OlswLTlhLXpcXHhBMS1cXHVEN0ZGXFx1RTAwMC1cXHVGRkZGXXxbXFx1RDgwMC1cXHVEQkZGXSg/IVtcXHVEQzAwLVxcdURGRkZdKXwoPzpbXlxcdUQ4MDAtXFx1REJGRl18XilbXFx1REMwMC1cXHVERkZGXSkrKSg/OlxcLig/Oig/OlswLTlhLXpcXHhBMS1cXHVEN0ZGXFx1RTAwMC1cXHVGRkZGXXxbXFx1RDgwMC1cXHVEQkZGXSg/IVtcXHVEQzAwLVxcdURGRkZdKXwoPzpbXlxcdUQ4MDAtXFx1REJGRl18XilbXFx1REMwMC1cXHVERkZGXSkrLSkqKD86WzAtOWEtelxceEExLVxcdUQ3RkZcXHVFMDAwLVxcdUZGRkZdfFtcXHVEODAwLVxcdURCRkZdKD8hW1xcdURDMDAtXFx1REZGRl0pfCg/OlteXFx1RDgwMC1cXHVEQkZGXXxeKVtcXHVEQzAwLVxcdURGRkZdKSspKig/OlxcLig/Oig/OlthLXpcXHhBMS1cXHVEN0ZGXFx1RTAwMC1cXHVGRkZGXXxbXFx1RDgwMC1cXHVEQkZGXSg/IVtcXHVEQzAwLVxcdURGRkZdKXwoPzpbXlxcdUQ4MDAtXFx1REJGRl18XilbXFx1REMwMC1cXHVERkZGXSl7Mix9KSkpKD86OlswLTldezIsNX0pPyg/OlxcLyg/OltcXDAtXFx4MDhcXHgwRS1cXHgxRiEtXFx4OUZcXHhBMS1cXHUxNjdGXFx1MTY4MS1cXHUxRkZGXFx1MjAwQi1cXHUyMDI3XFx1MjAyQS1cXHUyMDJFXFx1MjAzMC1cXHUyMDVFXFx1MjA2MC1cXHUyRkZGXFx1MzAwMS1cXHVEN0ZGXFx1RTAwMC1cXHVGRUZFXFx1RkYwMC1cXHVGRkZGXXxbXFx1RDgwMC1cXHVEQkZGXVtcXHVEQzAwLVxcdURGRkZdfFtcXHVEODAwLVxcdURCRkZdKD8hW1xcdURDMDAtXFx1REZGRl0pfCg/OlteXFx1RDgwMC1cXHVEQkZGXXxeKVtcXHVEQzAwLVxcdURGRkZdKSopPyQvaTtcbnZhciBVVUlEID0gL14oPzp1cm46dXVpZDopP1swLTlhLWZdezh9LSg/OlswLTlhLWZdezR9LSl7M31bMC05YS1mXXsxMn0kL2k7XG52YXIgSlNPTl9QT0lOVEVSID0gL14oPzpcXC8oPzpbXn4vXXx+MHx+MSkqKSokLztcbnZhciBKU09OX1BPSU5URVJfVVJJX0ZSQUdNRU5UID0gL14jKD86XFwvKD86W2EtejAtOV9cXC0uISQmJygpKissOzo9QF18JVswLTlhLWZdezJ9fH4wfH4xKSopKiQvaTtcbnZhciBSRUxBVElWRV9KU09OX1BPSU5URVIgPSAvXig/OjB8WzEtOV1bMC05XSopKD86I3woPzpcXC8oPzpbXn4vXXx+MHx+MSkqKSopJC87XG5cblxubW9kdWxlLmV4cG9ydHMgPSBmb3JtYXRzO1xuXG5mdW5jdGlvbiBmb3JtYXRzKG1vZGUpIHtcbiAgbW9kZSA9IG1vZGUgPT0gJ2Z1bGwnID8gJ2Z1bGwnIDogJ2Zhc3QnO1xuICByZXR1cm4gdXRpbC5jb3B5KGZvcm1hdHNbbW9kZV0pO1xufVxuXG5cbmZvcm1hdHMuZmFzdCA9IHtcbiAgLy8gZGF0ZTogaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzMzOSNzZWN0aW9uLTUuNlxuICBkYXRlOiAvXlxcZFxcZFxcZFxcZC1bMC0xXVxcZC1bMC0zXVxcZCQvLFxuICAvLyBkYXRlLXRpbWU6IGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMzMzkjc2VjdGlvbi01LjZcbiAgdGltZTogL14oPzpbMC0yXVxcZDpbMC01XVxcZDpbMC01XVxcZHwyMzo1OTo2MCkoPzpcXC5cXGQrKT8oPzp6fFsrLV1cXGRcXGQoPzo6P1xcZFxcZCk/KT8kL2ksXG4gICdkYXRlLXRpbWUnOiAvXlxcZFxcZFxcZFxcZC1bMC0xXVxcZC1bMC0zXVxcZFt0XFxzXSg/OlswLTJdXFxkOlswLTVdXFxkOlswLTVdXFxkfDIzOjU5OjYwKSg/OlxcLlxcZCspPyg/Onp8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8pJC9pLFxuICAvLyB1cmk6IGh0dHBzOi8vZ2l0aHViLmNvbS9tYWZpbnRvc2gvaXMtbXktanNvbi12YWxpZC9ibG9iL21hc3Rlci9mb3JtYXRzLmpzXG4gIHVyaTogL14oPzpbYS16XVthLXowLTkrXFwtLl0qOikoPzpcXC8/XFwvKT9bXlxcc10qJC9pLFxuICAndXJpLXJlZmVyZW5jZSc6IC9eKD86KD86W2Etel1bYS16MC05K1xcLS5dKjopP1xcLz9cXC8pPyg/OlteXFxcXFxccyNdW15cXHMjXSopPyg/OiNbXlxcXFxcXHNdKik/JC9pLFxuICAndXJpLXRlbXBsYXRlJzogVVJJVEVNUExBVEUsXG4gIHVybDogVVJMLFxuICAvLyBlbWFpbCAoc291cmNlcyBmcm9tIGpzZW4gdmFsaWRhdG9yKTpcbiAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMDEzMjMvdXNpbmctYS1yZWd1bGFyLWV4cHJlc3Npb24tdG8tdmFsaWRhdGUtYW4tZW1haWwtYWRkcmVzcyNhbnN3ZXItODgyOTM2M1xuICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9odG1sNS9mb3Jtcy5odG1sI3ZhbGlkLWUtbWFpbC1hZGRyZXNzIChzZWFyY2ggZm9yICd3aWxsZnVsIHZpb2xhdGlvbicpXG4gIGVtYWlsOiAvXlthLXowLTkuISMkJSYnKisvPT9eX2B7fH1+LV0rQFthLXowLTldKD86W2EtejAtOS1dezAsNjF9W2EtejAtOV0pPyg/OlxcLlthLXowLTldKD86W2EtejAtOS1dezAsNjF9W2EtejAtOV0pPykqJC9pLFxuICBob3N0bmFtZTogSE9TVE5BTUUsXG4gIC8vIG9wdGltaXplZCBodHRwczovL3d3dy5zYWZhcmlib29rc29ubGluZS5jb20vbGlicmFyeS92aWV3L3JlZ3VsYXItZXhwcmVzc2lvbnMtY29va2Jvb2svOTc4MDU5NjgwMjgzNy9jaDA3czE2Lmh0bWxcbiAgaXB2NDogL14oPzooPzoyNVswLTVdfDJbMC00XVxcZHxbMDFdP1xcZFxcZD8pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdXFxkfFswMV0/XFxkXFxkPykkLyxcbiAgLy8gb3B0aW1pemVkIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTM0OTcvcmVndWxhci1leHByZXNzaW9uLXRoYXQtbWF0Y2hlcy12YWxpZC1pcHY2LWFkZHJlc3Nlc1xuICBpcHY2OiAvXlxccyooPzooPzooPzpbMC05YS1mXXsxLDR9Oil7N30oPzpbMC05YS1mXXsxLDR9fDopKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7Nn0oPzo6WzAtOWEtZl17MSw0fXwoPzooPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoPzpcXC4oPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KD86KD86WzAtOWEtZl17MSw0fTopezV9KD86KD86KD86OlswLTlhLWZdezEsNH0pezEsMn0pfDooPzooPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoPzpcXC4oPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KD86KD86WzAtOWEtZl17MSw0fTopezR9KD86KD86KD86OlswLTlhLWZdezEsNH0pezEsM30pfCg/Oig/OjpbMC05YS1mXXsxLDR9KT86KD86KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7M30oPzooPzooPzo6WzAtOWEtZl17MSw0fSl7MSw0fSl8KD86KD86OlswLTlhLWZdezEsNH0pezAsMn06KD86KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7Mn0oPzooPzooPzo6WzAtOWEtZl17MSw0fSl7MSw1fSl8KD86KD86OlswLTlhLWZdezEsNH0pezAsM306KD86KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MX0oPzooPzooPzo6WzAtOWEtZl17MSw0fSl7MSw2fSl8KD86KD86OlswLTlhLWZdezEsNH0pezAsNH06KD86KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoPzo6KD86KD86KD86OlswLTlhLWZdezEsNH0pezEsN30pfCg/Oig/OjpbMC05YS1mXXsxLDR9KXswLDV9Oig/Oig/OjI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSg/OlxcLig/OjI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSkpKD86JS4rKT9cXHMqJC9pLFxuICByZWdleDogcmVnZXgsXG4gIC8vIHV1aWQ6IGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzQxMjJcbiAgdXVpZDogVVVJRCxcbiAgLy8gSlNPTi1wb2ludGVyOiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjkwMVxuICAvLyB1cmkgZnJhZ21lbnQ6IGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I2FwcGVuZGl4LUFcbiAgJ2pzb24tcG9pbnRlcic6IEpTT05fUE9JTlRFUixcbiAgJ2pzb24tcG9pbnRlci11cmktZnJhZ21lbnQnOiBKU09OX1BPSU5URVJfVVJJX0ZSQUdNRU5ULFxuICAvLyByZWxhdGl2ZSBKU09OLXBvaW50ZXI6IGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL2RyYWZ0LWx1ZmYtcmVsYXRpdmUtanNvbi1wb2ludGVyLTAwXG4gICdyZWxhdGl2ZS1qc29uLXBvaW50ZXInOiBSRUxBVElWRV9KU09OX1BPSU5URVJcbn07XG5cblxuZm9ybWF0cy5mdWxsID0ge1xuICBkYXRlOiBkYXRlLFxuICB0aW1lOiB0aW1lLFxuICAnZGF0ZS10aW1lJzogZGF0ZV90aW1lLFxuICB1cmk6IHVyaSxcbiAgJ3VyaS1yZWZlcmVuY2UnOiBVUklSRUYsXG4gICd1cmktdGVtcGxhdGUnOiBVUklURU1QTEFURSxcbiAgdXJsOiBVUkwsXG4gIGVtYWlsOiAvXlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSsoPzpcXC5bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKSpAKD86W2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP1xcLikrW2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pPyQvaSxcbiAgaG9zdG5hbWU6IEhPU1ROQU1FLFxuICBpcHY0OiAvXig/Oig/OjI1WzAtNV18MlswLTRdXFxkfFswMV0/XFxkXFxkPylcXC4pezN9KD86MjVbMC01XXwyWzAtNF1cXGR8WzAxXT9cXGRcXGQ/KSQvLFxuICBpcHY2OiAvXlxccyooPzooPzooPzpbMC05YS1mXXsxLDR9Oil7N30oPzpbMC05YS1mXXsxLDR9fDopKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7Nn0oPzo6WzAtOWEtZl17MSw0fXwoPzooPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoPzpcXC4oPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KD86KD86WzAtOWEtZl17MSw0fTopezV9KD86KD86KD86OlswLTlhLWZdezEsNH0pezEsMn0pfDooPzooPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoPzpcXC4oPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KD86KD86WzAtOWEtZl17MSw0fTopezR9KD86KD86KD86OlswLTlhLWZdezEsNH0pezEsM30pfCg/Oig/OjpbMC05YS1mXXsxLDR9KT86KD86KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7M30oPzooPzooPzo6WzAtOWEtZl17MSw0fSl7MSw0fSl8KD86KD86OlswLTlhLWZdezEsNH0pezAsMn06KD86KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7Mn0oPzooPzooPzo6WzAtOWEtZl17MSw0fSl7MSw1fSl8KD86KD86OlswLTlhLWZdezEsNH0pezAsM306KD86KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MX0oPzooPzooPzo6WzAtOWEtZl17MSw0fSl7MSw2fSl8KD86KD86OlswLTlhLWZdezEsNH0pezAsNH06KD86KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoPzo6KD86KD86KD86OlswLTlhLWZdezEsNH0pezEsN30pfCg/Oig/OjpbMC05YS1mXXsxLDR9KXswLDV9Oig/Oig/OjI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSg/OlxcLig/OjI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSkpKD86JS4rKT9cXHMqJC9pLFxuICByZWdleDogcmVnZXgsXG4gIHV1aWQ6IFVVSUQsXG4gICdqc29uLXBvaW50ZXInOiBKU09OX1BPSU5URVIsXG4gICdqc29uLXBvaW50ZXItdXJpLWZyYWdtZW50JzogSlNPTl9QT0lOVEVSX1VSSV9GUkFHTUVOVCxcbiAgJ3JlbGF0aXZlLWpzb24tcG9pbnRlcic6IFJFTEFUSVZFX0pTT05fUE9JTlRFUlxufTtcblxuXG5mdW5jdGlvbiBpc0xlYXBZZWFyKHllYXIpIHtcbiAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMzMzkjYXBwZW5kaXgtQ1xuICByZXR1cm4geWVhciAlIDQgPT09IDAgJiYgKHllYXIgJSAxMDAgIT09IDAgfHwgeWVhciAlIDQwMCA9PT0gMCk7XG59XG5cblxuZnVuY3Rpb24gZGF0ZShzdHIpIHtcbiAgLy8gZnVsbC1kYXRlIGZyb20gaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzMzOSNzZWN0aW9uLTUuNlxuICB2YXIgbWF0Y2hlcyA9IHN0ci5tYXRjaChEQVRFKTtcbiAgaWYgKCFtYXRjaGVzKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIHllYXIgPSArbWF0Y2hlc1sxXTtcbiAgdmFyIG1vbnRoID0gK21hdGNoZXNbMl07XG4gIHZhciBkYXkgPSArbWF0Y2hlc1szXTtcblxuICByZXR1cm4gbW9udGggPj0gMSAmJiBtb250aCA8PSAxMiAmJiBkYXkgPj0gMSAmJlxuICAgICAgICAgIGRheSA8PSAobW9udGggPT0gMiAmJiBpc0xlYXBZZWFyKHllYXIpID8gMjkgOiBEQVlTW21vbnRoXSk7XG59XG5cblxuZnVuY3Rpb24gdGltZShzdHIsIGZ1bGwpIHtcbiAgdmFyIG1hdGNoZXMgPSBzdHIubWF0Y2goVElNRSk7XG4gIGlmICghbWF0Y2hlcykgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBob3VyID0gbWF0Y2hlc1sxXTtcbiAgdmFyIG1pbnV0ZSA9IG1hdGNoZXNbMl07XG4gIHZhciBzZWNvbmQgPSBtYXRjaGVzWzNdO1xuICB2YXIgdGltZVpvbmUgPSBtYXRjaGVzWzVdO1xuICByZXR1cm4gKChob3VyIDw9IDIzICYmIG1pbnV0ZSA8PSA1OSAmJiBzZWNvbmQgPD0gNTkpIHx8XG4gICAgICAgICAgKGhvdXIgPT0gMjMgJiYgbWludXRlID09IDU5ICYmIHNlY29uZCA9PSA2MCkpICYmXG4gICAgICAgICAoIWZ1bGwgfHwgdGltZVpvbmUpO1xufVxuXG5cbnZhciBEQVRFX1RJTUVfU0VQQVJBVE9SID0gL3R8XFxzL2k7XG5mdW5jdGlvbiBkYXRlX3RpbWUoc3RyKSB7XG4gIC8vIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMzMzkjc2VjdGlvbi01LjZcbiAgdmFyIGRhdGVUaW1lID0gc3RyLnNwbGl0KERBVEVfVElNRV9TRVBBUkFUT1IpO1xuICByZXR1cm4gZGF0ZVRpbWUubGVuZ3RoID09IDIgJiYgZGF0ZShkYXRlVGltZVswXSkgJiYgdGltZShkYXRlVGltZVsxXSwgdHJ1ZSk7XG59XG5cblxudmFyIE5PVF9VUklfRlJBR01FTlQgPSAvXFwvfDovO1xuZnVuY3Rpb24gdXJpKHN0cikge1xuICAvLyBodHRwOi8vam1yd2FyZS5jb20vYXJ0aWNsZXMvMjAwOS91cmlfcmVnZXhwL1VSSV9yZWdleC5odG1sICsgb3B0aW9uYWwgcHJvdG9jb2wgKyByZXF1aXJlZCBcIi5cIlxuICByZXR1cm4gTk9UX1VSSV9GUkFHTUVOVC50ZXN0KHN0cikgJiYgVVJJLnRlc3Qoc3RyKTtcbn1cblxuXG52YXIgWl9BTkNIT1IgPSAvW15cXFxcXVxcXFxaLztcbmZ1bmN0aW9uIHJlZ2V4KHN0cikge1xuICBpZiAoWl9BTkNIT1IudGVzdChzdHIpKSByZXR1cm4gZmFsc2U7XG4gIHRyeSB7XG4gICAgbmV3IFJlZ0V4cChzdHIpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2VuZXJhdGVfcmVmKGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGtleXdvcmQ7XG4gIHZhciAkYnJlYWtPbkVycm9yID0gIWl0Lm9wdHMuYWxsRXJyb3JzO1xuICB2YXIgJGRhdGEgPSAnZGF0YScgKyAoJGRhdGFMdmwgfHwgJycpO1xuICB2YXIgJHZhbGlkID0gJ3ZhbGlkJyArICRsdmw7XG4gIHZhciAkYXN5bmMsICRyZWZDb2RlO1xuICBpZiAoJHNjaGVtYSA9PSAnIycgfHwgJHNjaGVtYSA9PSAnIy8nKSB7XG4gICAgaWYgKGl0LmlzUm9vdCkge1xuICAgICAgJGFzeW5jID0gaXQuYXN5bmM7XG4gICAgICAkcmVmQ29kZSA9ICd2YWxpZGF0ZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgICRhc3luYyA9IGl0LnJvb3Quc2NoZW1hLiRhc3luYyA9PT0gdHJ1ZTtcbiAgICAgICRyZWZDb2RlID0gJ3Jvb3QucmVmVmFsWzBdJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyICRyZWZWYWwgPSBpdC5yZXNvbHZlUmVmKGl0LmJhc2VJZCwgJHNjaGVtYSwgaXQuaXNSb290KTtcbiAgICBpZiAoJHJlZlZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgJG1lc3NhZ2UgPSBpdC5NaXNzaW5nUmVmRXJyb3IubWVzc2FnZShpdC5iYXNlSWQsICRzY2hlbWEpO1xuICAgICAgaWYgKGl0Lm9wdHMubWlzc2luZ1JlZnMgPT0gJ2ZhaWwnKSB7XG4gICAgICAgIGl0LmxvZ2dlci5lcnJvcigkbWVzc2FnZSk7XG4gICAgICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAgICAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gICAgICAgIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgICAgICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgnJHJlZicpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsgcmVmOiBcXCcnICsgKGl0LnV0aWwuZXNjYXBlUXVvdGVzKCRzY2hlbWEpKSArICdcXCcgfSAnO1xuICAgICAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdjYW5cXFxcXFwndCByZXNvbHZlIHJlZmVyZW5jZSAnICsgKGl0LnV0aWwuZXNjYXBlUXVvdGVzKCRzY2hlbWEpKSArICdcXCcgJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkc2NoZW1hKSkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcge30gJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgX19lcnIgPSBvdXQ7XG4gICAgICAgIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gICAgICAgIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgb3V0ICs9ICcgaWYgKGZhbHNlKSB7ICc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXQub3B0cy5taXNzaW5nUmVmcyA9PSAnaWdub3JlJykge1xuICAgICAgICBpdC5sb2dnZXIud2FybigkbWVzc2FnZSk7XG4gICAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgb3V0ICs9ICcgaWYgKHRydWUpIHsgJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IGl0Lk1pc3NpbmdSZWZFcnJvcihpdC5iYXNlSWQsICRzY2hlbWEsICRtZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCRyZWZWYWwuaW5saW5lKSB7XG4gICAgICB2YXIgJGl0ID0gaXQudXRpbC5jb3B5KGl0KTtcbiAgICAgICRpdC5sZXZlbCsrO1xuICAgICAgdmFyICRuZXh0VmFsaWQgPSAndmFsaWQnICsgJGl0LmxldmVsO1xuICAgICAgJGl0LnNjaGVtYSA9ICRyZWZWYWwuc2NoZW1hO1xuICAgICAgJGl0LnNjaGVtYVBhdGggPSAnJztcbiAgICAgICRpdC5lcnJTY2hlbWFQYXRoID0gJHNjaGVtYTtcbiAgICAgIHZhciAkY29kZSA9IGl0LnZhbGlkYXRlKCRpdCkucmVwbGFjZSgvdmFsaWRhdGVcXC5zY2hlbWEvZywgJHJlZlZhbC5jb2RlKTtcbiAgICAgIG91dCArPSAnICcgKyAoJGNvZGUpICsgJyAnO1xuICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoJG5leHRWYWxpZCkgKyAnKSB7ICc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICRhc3luYyA9ICRyZWZWYWwuJGFzeW5jID09PSB0cnVlIHx8IChpdC5hc3luYyAmJiAkcmVmVmFsLiRhc3luYyAhPT0gZmFsc2UpO1xuICAgICAgJHJlZkNvZGUgPSAkcmVmVmFsLmNvZGU7XG4gICAgfVxuICB9XG4gIGlmICgkcmVmQ29kZSkge1xuICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgICBvdXQgPSAnJztcbiAgICBpZiAoaXQub3B0cy5wYXNzQ29udGV4dCkge1xuICAgICAgb3V0ICs9ICcgJyArICgkcmVmQ29kZSkgKyAnLmNhbGwodGhpcywgJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgJyArICgkcmVmQ29kZSkgKyAnKCAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyAnICsgKCRkYXRhKSArICcsIChkYXRhUGF0aCB8fCBcXCdcXCcpJztcbiAgICBpZiAoaXQuZXJyb3JQYXRoICE9ICdcIlwiJykge1xuICAgICAgb3V0ICs9ICcgKyAnICsgKGl0LmVycm9yUGF0aCk7XG4gICAgfVxuICAgIHZhciAkcGFyZW50RGF0YSA9ICRkYXRhTHZsID8gJ2RhdGEnICsgKCgkZGF0YUx2bCAtIDEpIHx8ICcnKSA6ICdwYXJlbnREYXRhJyxcbiAgICAgICRwYXJlbnREYXRhUHJvcGVydHkgPSAkZGF0YUx2bCA/IGl0LmRhdGFQYXRoQXJyWyRkYXRhTHZsXSA6ICdwYXJlbnREYXRhUHJvcGVydHknO1xuICAgIG91dCArPSAnICwgJyArICgkcGFyZW50RGF0YSkgKyAnICwgJyArICgkcGFyZW50RGF0YVByb3BlcnR5KSArICcsIHJvb3REYXRhKSAgJztcbiAgICB2YXIgX19jYWxsVmFsaWRhdGUgPSBvdXQ7XG4gICAgb3V0ID0gJCRvdXRTdGFjay5wb3AoKTtcbiAgICBpZiAoJGFzeW5jKSB7XG4gICAgICBpZiAoIWl0LmFzeW5jKSB0aHJvdyBuZXcgRXJyb3IoJ2FzeW5jIHNjaGVtYSByZWZlcmVuY2VkIGJ5IHN5bmMgc2NoZW1hJyk7XG4gICAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgICBvdXQgKz0gJyB2YXIgJyArICgkdmFsaWQpICsgJzsgJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnIHRyeSB7IGF3YWl0ICcgKyAoX19jYWxsVmFsaWRhdGUpICsgJzsgJztcbiAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgIG91dCArPSAnICcgKyAoJHZhbGlkKSArICcgPSB0cnVlOyAnO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgfSBjYXRjaCAoZSkgeyBpZiAoIShlIGluc3RhbmNlb2YgVmFsaWRhdGlvbkVycm9yKSkgdGhyb3cgZTsgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBlLmVycm9yczsgZWxzZSB2RXJyb3JzID0gdkVycm9ycy5jb25jYXQoZS5lcnJvcnMpOyBlcnJvcnMgPSB2RXJyb3JzLmxlbmd0aDsgJztcbiAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgIG91dCArPSAnICcgKyAoJHZhbGlkKSArICcgPSBmYWxzZTsgJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnIH0gJztcbiAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgIG91dCArPSAnIGlmICgnICsgKCR2YWxpZCkgKyAnKSB7ICc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIGlmICghJyArIChfX2NhbGxWYWxpZGF0ZSkgKyAnKSB7IGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gJyArICgkcmVmQ29kZSkgKyAnLmVycm9yczsgZWxzZSB2RXJyb3JzID0gdkVycm9ycy5jb25jYXQoJyArICgkcmVmQ29kZSkgKyAnLmVycm9ycyk7IGVycm9ycyA9IHZFcnJvcnMubGVuZ3RoOyB9ICc7XG4gICAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgICBvdXQgKz0gJyBlbHNlIHsgJztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2VuZXJhdGVfYWxsT2YoaXQsICRrZXl3b3JkLCAkcnVsZVR5cGUpIHtcbiAgdmFyIG91dCA9ICcgJztcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkaXQgPSBpdC51dGlsLmNvcHkoaXQpO1xuICB2YXIgJGNsb3NpbmdCcmFjZXMgPSAnJztcbiAgJGl0LmxldmVsKys7XG4gIHZhciAkbmV4dFZhbGlkID0gJ3ZhbGlkJyArICRpdC5sZXZlbDtcbiAgdmFyICRjdXJyZW50QmFzZUlkID0gJGl0LmJhc2VJZCxcbiAgICAkYWxsU2NoZW1hc0VtcHR5ID0gdHJ1ZTtcbiAgdmFyIGFycjEgPSAkc2NoZW1hO1xuICBpZiAoYXJyMSkge1xuICAgIHZhciAkc2NoLCAkaSA9IC0xLFxuICAgICAgbDEgPSBhcnIxLmxlbmd0aCAtIDE7XG4gICAgd2hpbGUgKCRpIDwgbDEpIHtcbiAgICAgICRzY2ggPSBhcnIxWyRpICs9IDFdO1xuICAgICAgaWYgKChpdC5vcHRzLnN0cmljdEtleXdvcmRzID8gKHR5cGVvZiAkc2NoID09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKCRzY2gpLmxlbmd0aCA+IDApIHx8ICRzY2ggPT09IGZhbHNlIDogaXQudXRpbC5zY2hlbWFIYXNSdWxlcygkc2NoLCBpdC5SVUxFUy5hbGwpKSkge1xuICAgICAgICAkYWxsU2NoZW1hc0VtcHR5ID0gZmFsc2U7XG4gICAgICAgICRpdC5zY2hlbWEgPSAkc2NoO1xuICAgICAgICAkaXQuc2NoZW1hUGF0aCA9ICRzY2hlbWFQYXRoICsgJ1snICsgJGkgKyAnXSc7XG4gICAgICAgICRpdC5lcnJTY2hlbWFQYXRoID0gJGVyclNjaGVtYVBhdGggKyAnLycgKyAkaTtcbiAgICAgICAgb3V0ICs9ICcgICcgKyAoaXQudmFsaWRhdGUoJGl0KSkgKyAnICc7XG4gICAgICAgICRpdC5iYXNlSWQgPSAkY3VycmVudEJhc2VJZDtcbiAgICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICBvdXQgKz0gJyBpZiAoJyArICgkbmV4dFZhbGlkKSArICcpIHsgJztcbiAgICAgICAgICAkY2xvc2luZ0JyYWNlcyArPSAnfSc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICBpZiAoJGFsbFNjaGVtYXNFbXB0eSkge1xuICAgICAgb3V0ICs9ICcgaWYgKHRydWUpIHsgJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgJyArICgkY2xvc2luZ0JyYWNlcy5zbGljZSgwLCAtMSkpICsgJyAnO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZW5lcmF0ZV9hbnlPZihpdCwgJGtleXdvcmQsICRydWxlVHlwZSkge1xuICB2YXIgb3V0ID0gJyAnO1xuICB2YXIgJGx2bCA9IGl0LmxldmVsO1xuICB2YXIgJGRhdGFMdmwgPSBpdC5kYXRhTGV2ZWw7XG4gIHZhciAkc2NoZW1hID0gaXQuc2NoZW1hWyRrZXl3b3JkXTtcbiAgdmFyICRzY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArIGl0LnV0aWwuZ2V0UHJvcGVydHkoJGtleXdvcmQpO1xuICB2YXIgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGtleXdvcmQ7XG4gIHZhciAkYnJlYWtPbkVycm9yID0gIWl0Lm9wdHMuYWxsRXJyb3JzO1xuICB2YXIgJGRhdGEgPSAnZGF0YScgKyAoJGRhdGFMdmwgfHwgJycpO1xuICB2YXIgJHZhbGlkID0gJ3ZhbGlkJyArICRsdmw7XG4gIHZhciAkZXJycyA9ICdlcnJzX18nICsgJGx2bDtcbiAgdmFyICRpdCA9IGl0LnV0aWwuY29weShpdCk7XG4gIHZhciAkY2xvc2luZ0JyYWNlcyA9ICcnO1xuICAkaXQubGV2ZWwrKztcbiAgdmFyICRuZXh0VmFsaWQgPSAndmFsaWQnICsgJGl0LmxldmVsO1xuICB2YXIgJG5vRW1wdHlTY2hlbWEgPSAkc2NoZW1hLmV2ZXJ5KGZ1bmN0aW9uKCRzY2gpIHtcbiAgICByZXR1cm4gKGl0Lm9wdHMuc3RyaWN0S2V5d29yZHMgPyAodHlwZW9mICRzY2ggPT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMoJHNjaCkubGVuZ3RoID4gMCkgfHwgJHNjaCA9PT0gZmFsc2UgOiBpdC51dGlsLnNjaGVtYUhhc1J1bGVzKCRzY2gsIGl0LlJVTEVTLmFsbCkpO1xuICB9KTtcbiAgaWYgKCRub0VtcHR5U2NoZW1hKSB7XG4gICAgdmFyICRjdXJyZW50QmFzZUlkID0gJGl0LmJhc2VJZDtcbiAgICBvdXQgKz0gJyB2YXIgJyArICgkZXJycykgKyAnID0gZXJyb3JzOyB2YXIgJyArICgkdmFsaWQpICsgJyA9IGZhbHNlOyAgJztcbiAgICB2YXIgJHdhc0NvbXBvc2l0ZSA9IGl0LmNvbXBvc2l0ZVJ1bGU7XG4gICAgaXQuY29tcG9zaXRlUnVsZSA9ICRpdC5jb21wb3NpdGVSdWxlID0gdHJ1ZTtcbiAgICB2YXIgYXJyMSA9ICRzY2hlbWE7XG4gICAgaWYgKGFycjEpIHtcbiAgICAgIHZhciAkc2NoLCAkaSA9IC0xLFxuICAgICAgICBsMSA9IGFycjEubGVuZ3RoIC0gMTtcbiAgICAgIHdoaWxlICgkaSA8IGwxKSB7XG4gICAgICAgICRzY2ggPSBhcnIxWyRpICs9IDFdO1xuICAgICAgICAkaXQuc2NoZW1hID0gJHNjaDtcbiAgICAgICAgJGl0LnNjaGVtYVBhdGggPSAkc2NoZW1hUGF0aCArICdbJyArICRpICsgJ10nO1xuICAgICAgICAkaXQuZXJyU2NoZW1hUGF0aCA9ICRlcnJTY2hlbWFQYXRoICsgJy8nICsgJGk7XG4gICAgICAgIG91dCArPSAnICAnICsgKGl0LnZhbGlkYXRlKCRpdCkpICsgJyAnO1xuICAgICAgICAkaXQuYmFzZUlkID0gJGN1cnJlbnRCYXNlSWQ7XG4gICAgICAgIG91dCArPSAnICcgKyAoJHZhbGlkKSArICcgPSAnICsgKCR2YWxpZCkgKyAnIHx8ICcgKyAoJG5leHRWYWxpZCkgKyAnOyBpZiAoIScgKyAoJHZhbGlkKSArICcpIHsgJztcbiAgICAgICAgJGNsb3NpbmdCcmFjZXMgKz0gJ30nO1xuICAgICAgfVxuICAgIH1cbiAgICBpdC5jb21wb3NpdGVSdWxlID0gJGl0LmNvbXBvc2l0ZVJ1bGUgPSAkd2FzQ29tcG9zaXRlO1xuICAgIG91dCArPSAnICcgKyAoJGNsb3NpbmdCcmFjZXMpICsgJyBpZiAoIScgKyAoJHZhbGlkKSArICcpIHsgICB2YXIgZXJyID0gICAnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ2FueU9mJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczoge30gJztcbiAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBtYXRjaCBzb21lIHNjaGVtYSBpbiBhbnlPZlxcJyAnO1xuICAgICAgfVxuICAgICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgICBvdXQgKz0gJyAsIHNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgfSAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyB7fSAnO1xuICAgIH1cbiAgICBvdXQgKz0gJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICAgIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChpdC5hc3luYykge1xuICAgICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKHZFcnJvcnMpOyAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gdkVycm9yczsgcmV0dXJuIGZhbHNlOyAnO1xuICAgICAgfVxuICAgIH1cbiAgICBvdXQgKz0gJyB9IGVsc2UgeyAgZXJyb3JzID0gJyArICgkZXJycykgKyAnOyBpZiAodkVycm9ycyAhPT0gbnVsbCkgeyBpZiAoJyArICgkZXJycykgKyAnKSB2RXJyb3JzLmxlbmd0aCA9ICcgKyAoJGVycnMpICsgJzsgZWxzZSB2RXJyb3JzID0gbnVsbDsgfSAnO1xuICAgIGlmIChpdC5vcHRzLmFsbEVycm9ycykge1xuICAgICAgb3V0ICs9ICcgfSAnO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgb3V0ICs9ICcgaWYgKHRydWUpIHsgJztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2VuZXJhdGVfY29tbWVudChpdCwgJGtleXdvcmQsICRydWxlVHlwZSkge1xuICB2YXIgb3V0ID0gJyAnO1xuICB2YXIgJHNjaGVtYSA9IGl0LnNjaGVtYVska2V5d29yZF07XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkY29tbWVudCA9IGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJHNjaGVtYSk7XG4gIGlmIChpdC5vcHRzLiRjb21tZW50ID09PSB0cnVlKSB7XG4gICAgb3V0ICs9ICcgY29uc29sZS5sb2coJyArICgkY29tbWVudCkgKyAnKTsnO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBpdC5vcHRzLiRjb21tZW50ID09ICdmdW5jdGlvbicpIHtcbiAgICBvdXQgKz0gJyBzZWxmLl9vcHRzLiRjb21tZW50KCcgKyAoJGNvbW1lbnQpICsgJywgJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnLCB2YWxpZGF0ZS5yb290LnNjaGVtYSk7JztcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZW5lcmF0ZV9jb25zdChpdCwgJGtleXdvcmQsICRydWxlVHlwZSkge1xuICB2YXIgb3V0ID0gJyAnO1xuICB2YXIgJGx2bCA9IGl0LmxldmVsO1xuICB2YXIgJGRhdGFMdmwgPSBpdC5kYXRhTGV2ZWw7XG4gIHZhciAkc2NoZW1hID0gaXQuc2NoZW1hWyRrZXl3b3JkXTtcbiAgdmFyICRzY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArIGl0LnV0aWwuZ2V0UHJvcGVydHkoJGtleXdvcmQpO1xuICB2YXIgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGtleXdvcmQ7XG4gIHZhciAkYnJlYWtPbkVycm9yID0gIWl0Lm9wdHMuYWxsRXJyb3JzO1xuICB2YXIgJGRhdGEgPSAnZGF0YScgKyAoJGRhdGFMdmwgfHwgJycpO1xuICB2YXIgJHZhbGlkID0gJ3ZhbGlkJyArICRsdmw7XG4gIHZhciAkaXNEYXRhID0gaXQub3B0cy4kZGF0YSAmJiAkc2NoZW1hICYmICRzY2hlbWEuJGRhdGEsXG4gICAgJHNjaGVtYVZhbHVlO1xuICBpZiAoJGlzRGF0YSkge1xuICAgIG91dCArPSAnIHZhciBzY2hlbWEnICsgKCRsdmwpICsgJyA9ICcgKyAoaXQudXRpbC5nZXREYXRhKCRzY2hlbWEuJGRhdGEsICRkYXRhTHZsLCBpdC5kYXRhUGF0aEFycikpICsgJzsgJztcbiAgICAkc2NoZW1hVmFsdWUgPSAnc2NoZW1hJyArICRsdmw7XG4gIH0gZWxzZSB7XG4gICAgJHNjaGVtYVZhbHVlID0gJHNjaGVtYTtcbiAgfVxuICBpZiAoISRpc0RhdGEpIHtcbiAgICBvdXQgKz0gJyB2YXIgc2NoZW1hJyArICgkbHZsKSArICcgPSB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICc7JztcbiAgfVxuICBvdXQgKz0gJ3ZhciAnICsgKCR2YWxpZCkgKyAnID0gZXF1YWwoJyArICgkZGF0YSkgKyAnLCBzY2hlbWEnICsgKCRsdmwpICsgJyk7IGlmICghJyArICgkdmFsaWQpICsgJykgeyAgICc7XG4gIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgnY29uc3QnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IGFsbG93ZWRWYWx1ZTogc2NoZW1hJyArICgkbHZsKSArICcgfSAnO1xuICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgYmUgZXF1YWwgdG8gY29uc3RhbnRcXCcgJztcbiAgICB9XG4gICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJyAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSAnO1xuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHt9ICc7XG4gIH1cbiAgdmFyIF9fZXJyID0gb3V0O1xuICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChpdC5hc3luYykge1xuICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihbJyArIChfX2VycikgKyAnXSk7ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgfVxuICBvdXQgKz0gJyB9JztcbiAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICBvdXQgKz0gJyBlbHNlIHsgJztcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZW5lcmF0ZV9jb250YWlucyhpdCwgJGtleXdvcmQsICRydWxlVHlwZSkge1xuICB2YXIgb3V0ID0gJyAnO1xuICB2YXIgJGx2bCA9IGl0LmxldmVsO1xuICB2YXIgJGRhdGFMdmwgPSBpdC5kYXRhTGV2ZWw7XG4gIHZhciAkc2NoZW1hID0gaXQuc2NoZW1hWyRrZXl3b3JkXTtcbiAgdmFyICRzY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArIGl0LnV0aWwuZ2V0UHJvcGVydHkoJGtleXdvcmQpO1xuICB2YXIgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGtleXdvcmQ7XG4gIHZhciAkYnJlYWtPbkVycm9yID0gIWl0Lm9wdHMuYWxsRXJyb3JzO1xuICB2YXIgJGRhdGEgPSAnZGF0YScgKyAoJGRhdGFMdmwgfHwgJycpO1xuICB2YXIgJHZhbGlkID0gJ3ZhbGlkJyArICRsdmw7XG4gIHZhciAkZXJycyA9ICdlcnJzX18nICsgJGx2bDtcbiAgdmFyICRpdCA9IGl0LnV0aWwuY29weShpdCk7XG4gIHZhciAkY2xvc2luZ0JyYWNlcyA9ICcnO1xuICAkaXQubGV2ZWwrKztcbiAgdmFyICRuZXh0VmFsaWQgPSAndmFsaWQnICsgJGl0LmxldmVsO1xuICB2YXIgJGlkeCA9ICdpJyArICRsdmwsXG4gICAgJGRhdGFOeHQgPSAkaXQuZGF0YUxldmVsID0gaXQuZGF0YUxldmVsICsgMSxcbiAgICAkbmV4dERhdGEgPSAnZGF0YScgKyAkZGF0YU54dCxcbiAgICAkY3VycmVudEJhc2VJZCA9IGl0LmJhc2VJZCxcbiAgICAkbm9uRW1wdHlTY2hlbWEgPSAoaXQub3B0cy5zdHJpY3RLZXl3b3JkcyA/ICh0eXBlb2YgJHNjaGVtYSA9PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cygkc2NoZW1hKS5sZW5ndGggPiAwKSB8fCAkc2NoZW1hID09PSBmYWxzZSA6IGl0LnV0aWwuc2NoZW1hSGFzUnVsZXMoJHNjaGVtYSwgaXQuUlVMRVMuYWxsKSk7XG4gIG91dCArPSAndmFyICcgKyAoJGVycnMpICsgJyA9IGVycm9yczt2YXIgJyArICgkdmFsaWQpICsgJzsnO1xuICBpZiAoJG5vbkVtcHR5U2NoZW1hKSB7XG4gICAgdmFyICR3YXNDb21wb3NpdGUgPSBpdC5jb21wb3NpdGVSdWxlO1xuICAgIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9IHRydWU7XG4gICAgJGl0LnNjaGVtYSA9ICRzY2hlbWE7XG4gICAgJGl0LnNjaGVtYVBhdGggPSAkc2NoZW1hUGF0aDtcbiAgICAkaXQuZXJyU2NoZW1hUGF0aCA9ICRlcnJTY2hlbWFQYXRoO1xuICAgIG91dCArPSAnIHZhciAnICsgKCRuZXh0VmFsaWQpICsgJyA9IGZhbHNlOyBmb3IgKHZhciAnICsgKCRpZHgpICsgJyA9IDA7ICcgKyAoJGlkeCkgKyAnIDwgJyArICgkZGF0YSkgKyAnLmxlbmd0aDsgJyArICgkaWR4KSArICcrKykgeyAnO1xuICAgICRpdC5lcnJvclBhdGggPSBpdC51dGlsLmdldFBhdGhFeHByKGl0LmVycm9yUGF0aCwgJGlkeCwgaXQub3B0cy5qc29uUG9pbnRlcnMsIHRydWUpO1xuICAgIHZhciAkcGFzc0RhdGEgPSAkZGF0YSArICdbJyArICRpZHggKyAnXSc7XG4gICAgJGl0LmRhdGFQYXRoQXJyWyRkYXRhTnh0XSA9ICRpZHg7XG4gICAgdmFyICRjb2RlID0gaXQudmFsaWRhdGUoJGl0KTtcbiAgICAkaXQuYmFzZUlkID0gJGN1cnJlbnRCYXNlSWQ7XG4gICAgaWYgKGl0LnV0aWwudmFyT2NjdXJlbmNlcygkY29kZSwgJG5leHREYXRhKSA8IDIpIHtcbiAgICAgIG91dCArPSAnICcgKyAoaXQudXRpbC52YXJSZXBsYWNlKCRjb2RlLCAkbmV4dERhdGEsICRwYXNzRGF0YSkpICsgJyAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyB2YXIgJyArICgkbmV4dERhdGEpICsgJyA9ICcgKyAoJHBhc3NEYXRhKSArICc7ICcgKyAoJGNvZGUpICsgJyAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyBpZiAoJyArICgkbmV4dFZhbGlkKSArICcpIGJyZWFrOyB9ICAnO1xuICAgIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9ICR3YXNDb21wb3NpdGU7XG4gICAgb3V0ICs9ICcgJyArICgkY2xvc2luZ0JyYWNlcykgKyAnIGlmICghJyArICgkbmV4dFZhbGlkKSArICcpIHsnO1xuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIGlmICgnICsgKCRkYXRhKSArICcubGVuZ3RoID09IDApIHsnO1xuICB9XG4gIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgnY29udGFpbnMnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7fSAnO1xuICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgY29udGFpbiBhIHZhbGlkIGl0ZW1cXCcgJztcbiAgICB9XG4gICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJyAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSAnO1xuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHt9ICc7XG4gIH1cbiAgdmFyIF9fZXJyID0gb3V0O1xuICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChpdC5hc3luYykge1xuICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihbJyArIChfX2VycikgKyAnXSk7ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgfVxuICBvdXQgKz0gJyB9IGVsc2UgeyAnO1xuICBpZiAoJG5vbkVtcHR5U2NoZW1hKSB7XG4gICAgb3V0ICs9ICcgIGVycm9ycyA9ICcgKyAoJGVycnMpICsgJzsgaWYgKHZFcnJvcnMgIT09IG51bGwpIHsgaWYgKCcgKyAoJGVycnMpICsgJykgdkVycm9ycy5sZW5ndGggPSAnICsgKCRlcnJzKSArICc7IGVsc2UgdkVycm9ycyA9IG51bGw7IH0gJztcbiAgfVxuICBpZiAoaXQub3B0cy5hbGxFcnJvcnMpIHtcbiAgICBvdXQgKz0gJyB9ICc7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2VuZXJhdGVfZGVwZW5kZW5jaWVzKGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZGF0YSA9ICdkYXRhJyArICgkZGF0YUx2bCB8fCAnJyk7XG4gIHZhciAkZXJycyA9ICdlcnJzX18nICsgJGx2bDtcbiAgdmFyICRpdCA9IGl0LnV0aWwuY29weShpdCk7XG4gIHZhciAkY2xvc2luZ0JyYWNlcyA9ICcnO1xuICAkaXQubGV2ZWwrKztcbiAgdmFyICRuZXh0VmFsaWQgPSAndmFsaWQnICsgJGl0LmxldmVsO1xuICB2YXIgJHNjaGVtYURlcHMgPSB7fSxcbiAgICAkcHJvcGVydHlEZXBzID0ge30sXG4gICAgJG93blByb3BlcnRpZXMgPSBpdC5vcHRzLm93blByb3BlcnRpZXM7XG4gIGZvciAoJHByb3BlcnR5IGluICRzY2hlbWEpIHtcbiAgICBpZiAoJHByb3BlcnR5ID09ICdfX3Byb3RvX18nKSBjb250aW51ZTtcbiAgICB2YXIgJHNjaCA9ICRzY2hlbWFbJHByb3BlcnR5XTtcbiAgICB2YXIgJGRlcHMgPSBBcnJheS5pc0FycmF5KCRzY2gpID8gJHByb3BlcnR5RGVwcyA6ICRzY2hlbWFEZXBzO1xuICAgICRkZXBzWyRwcm9wZXJ0eV0gPSAkc2NoO1xuICB9XG4gIG91dCArPSAndmFyICcgKyAoJGVycnMpICsgJyA9IGVycm9yczsnO1xuICB2YXIgJGN1cnJlbnRFcnJvclBhdGggPSBpdC5lcnJvclBhdGg7XG4gIG91dCArPSAndmFyIG1pc3NpbmcnICsgKCRsdmwpICsgJzsnO1xuICBmb3IgKHZhciAkcHJvcGVydHkgaW4gJHByb3BlcnR5RGVwcykge1xuICAgICRkZXBzID0gJHByb3BlcnR5RGVwc1skcHJvcGVydHldO1xuICAgIGlmICgkZGVwcy5sZW5ndGgpIHtcbiAgICAgIG91dCArPSAnIGlmICggJyArICgkZGF0YSkgKyAoaXQudXRpbC5nZXRQcm9wZXJ0eSgkcHJvcGVydHkpKSArICcgIT09IHVuZGVmaW5lZCAnO1xuICAgICAgaWYgKCRvd25Qcm9wZXJ0aWVzKSB7XG4gICAgICAgIG91dCArPSAnICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgnICsgKCRkYXRhKSArICcsIFxcJycgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5KSkgKyAnXFwnKSAnO1xuICAgICAgfVxuICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgb3V0ICs9ICcgJiYgKCAnO1xuICAgICAgICB2YXIgYXJyMSA9ICRkZXBzO1xuICAgICAgICBpZiAoYXJyMSkge1xuICAgICAgICAgIHZhciAkcHJvcGVydHlLZXksICRpID0gLTEsXG4gICAgICAgICAgICBsMSA9IGFycjEubGVuZ3RoIC0gMTtcbiAgICAgICAgICB3aGlsZSAoJGkgPCBsMSkge1xuICAgICAgICAgICAgJHByb3BlcnR5S2V5ID0gYXJyMVskaSArPSAxXTtcbiAgICAgICAgICAgIGlmICgkaSkge1xuICAgICAgICAgICAgICBvdXQgKz0gJyB8fCAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyICRwcm9wID0gaXQudXRpbC5nZXRQcm9wZXJ0eSgkcHJvcGVydHlLZXkpLFxuICAgICAgICAgICAgICAkdXNlRGF0YSA9ICRkYXRhICsgJHByb3A7XG4gICAgICAgICAgICBvdXQgKz0gJyAoICggJyArICgkdXNlRGF0YSkgKyAnID09PSB1bmRlZmluZWQgJztcbiAgICAgICAgICAgIGlmICgkb3duUHJvcGVydGllcykge1xuICAgICAgICAgICAgICBvdXQgKz0gJyB8fCAhIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgnICsgKCRkYXRhKSArICcsIFxcJycgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5S2V5KSkgKyAnXFwnKSAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0ICs9ICcpICYmIChtaXNzaW5nJyArICgkbHZsKSArICcgPSAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoaXQub3B0cy5qc29uUG9pbnRlcnMgPyAkcHJvcGVydHlLZXkgOiAkcHJvcCkpICsgJykgKSAnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gJykpIHsgICc7XG4gICAgICAgIHZhciAkcHJvcGVydHlQYXRoID0gJ21pc3NpbmcnICsgJGx2bCxcbiAgICAgICAgICAkbWlzc2luZ1Byb3BlcnR5ID0gJ1xcJyArICcgKyAkcHJvcGVydHlQYXRoICsgJyArIFxcJyc7XG4gICAgICAgIGlmIChpdC5vcHRzLl9lcnJvckRhdGFQYXRoUHJvcGVydHkpIHtcbiAgICAgICAgICBpdC5lcnJvclBhdGggPSBpdC5vcHRzLmpzb25Qb2ludGVycyA/IGl0LnV0aWwuZ2V0UGF0aEV4cHIoJGN1cnJlbnRFcnJvclBhdGgsICRwcm9wZXJ0eVBhdGgsIHRydWUpIDogJGN1cnJlbnRFcnJvclBhdGggKyAnICsgJyArICRwcm9wZXJ0eVBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgdmFyICQkb3V0U3RhY2sgPSAkJG91dFN0YWNrIHx8IFtdO1xuICAgICAgICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgICAgICAgb3V0ID0gJyc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCdkZXBlbmRlbmNpZXMnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IHByb3BlcnR5OiBcXCcnICsgKGl0LnV0aWwuZXNjYXBlUXVvdGVzKCRwcm9wZXJ0eSkpICsgJ1xcJywgbWlzc2luZ1Byb3BlcnR5OiBcXCcnICsgKCRtaXNzaW5nUHJvcGVydHkpICsgJ1xcJywgZGVwc0NvdW50OiAnICsgKCRkZXBzLmxlbmd0aCkgKyAnLCBkZXBzOiBcXCcnICsgKGl0LnV0aWwuZXNjYXBlUXVvdGVzKCRkZXBzLmxlbmd0aCA9PSAxID8gJGRlcHNbMF0gOiAkZGVwcy5qb2luKFwiLCBcIikpKSArICdcXCcgfSAnO1xuICAgICAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgaGF2ZSAnO1xuICAgICAgICAgICAgaWYgKCRkZXBzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgIG91dCArPSAncHJvcGVydHkgJyArIChpdC51dGlsLmVzY2FwZVF1b3RlcygkZGVwc1swXSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICdwcm9wZXJ0aWVzICcgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJGRlcHMuam9pbihcIiwgXCIpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQgKz0gJyB3aGVuIHByb3BlcnR5ICcgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5KSkgKyAnIGlzIHByZXNlbnRcXCcgJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJyAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICAgICAgICB9XG4gICAgICAgICAgb3V0ICs9ICcgfSAnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dCArPSAnIHt9ICc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9fZXJyID0gb3V0O1xuICAgICAgICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICAgICAgICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgIGlmIChpdC5hc3luYykge1xuICAgICAgICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihbJyArIChfX2VycikgKyAnXSk7ICc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcgKSB7ICc7XG4gICAgICAgIHZhciBhcnIyID0gJGRlcHM7XG4gICAgICAgIGlmIChhcnIyKSB7XG4gICAgICAgICAgdmFyICRwcm9wZXJ0eUtleSwgaTIgPSAtMSxcbiAgICAgICAgICAgIGwyID0gYXJyMi5sZW5ndGggLSAxO1xuICAgICAgICAgIHdoaWxlIChpMiA8IGwyKSB7XG4gICAgICAgICAgICAkcHJvcGVydHlLZXkgPSBhcnIyW2kyICs9IDFdO1xuICAgICAgICAgICAgdmFyICRwcm9wID0gaXQudXRpbC5nZXRQcm9wZXJ0eSgkcHJvcGVydHlLZXkpLFxuICAgICAgICAgICAgICAkbWlzc2luZ1Byb3BlcnR5ID0gaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5S2V5KSxcbiAgICAgICAgICAgICAgJHVzZURhdGEgPSAkZGF0YSArICRwcm9wO1xuICAgICAgICAgICAgaWYgKGl0Lm9wdHMuX2Vycm9yRGF0YVBhdGhQcm9wZXJ0eSkge1xuICAgICAgICAgICAgICBpdC5lcnJvclBhdGggPSBpdC51dGlsLmdldFBhdGgoJGN1cnJlbnRFcnJvclBhdGgsICRwcm9wZXJ0eUtleSwgaXQub3B0cy5qc29uUG9pbnRlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0ICs9ICcgaWYgKCAnICsgKCR1c2VEYXRhKSArICcgPT09IHVuZGVmaW5lZCAnO1xuICAgICAgICAgICAgaWYgKCRvd25Qcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIHx8ICEgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCcgKyAoJGRhdGEpICsgJywgXFwnJyArIChpdC51dGlsLmVzY2FwZVF1b3RlcygkcHJvcGVydHlLZXkpKSArICdcXCcpICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQgKz0gJykgeyAgdmFyIGVyciA9ICAgJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgnZGVwZW5kZW5jaWVzJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBwcm9wZXJ0eTogXFwnJyArIChpdC51dGlsLmVzY2FwZVF1b3RlcygkcHJvcGVydHkpKSArICdcXCcsIG1pc3NpbmdQcm9wZXJ0eTogXFwnJyArICgkbWlzc2luZ1Byb3BlcnR5KSArICdcXCcsIGRlcHNDb3VudDogJyArICgkZGVwcy5sZW5ndGgpICsgJywgZGVwczogXFwnJyArIChpdC51dGlsLmVzY2FwZVF1b3RlcygkZGVwcy5sZW5ndGggPT0gMSA/ICRkZXBzWzBdIDogJGRlcHMuam9pbihcIiwgXCIpKSkgKyAnXFwnIH0gJztcbiAgICAgICAgICAgICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgaGF2ZSAnO1xuICAgICAgICAgICAgICAgIGlmICgkZGVwcy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgICAgb3V0ICs9ICdwcm9wZXJ0eSAnICsgKGl0LnV0aWwuZXNjYXBlUXVvdGVzKCRkZXBzWzBdKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIG91dCArPSAncHJvcGVydGllcyAnICsgKGl0LnV0aWwuZXNjYXBlUXVvdGVzKCRkZXBzLmpvaW4oXCIsIFwiKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvdXQgKz0gJyB3aGVuIHByb3BlcnR5ICcgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5KSkgKyAnIGlzIHByZXNlbnRcXCcgJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJyAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBvdXQgKz0gJyB7fSAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0ICs9ICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgfSAnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgb3V0ICs9ICcgfSAgICc7XG4gICAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgICAkY2xvc2luZ0JyYWNlcyArPSAnfSc7XG4gICAgICAgIG91dCArPSAnIGVsc2UgeyAnO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpdC5lcnJvclBhdGggPSAkY3VycmVudEVycm9yUGF0aDtcbiAgdmFyICRjdXJyZW50QmFzZUlkID0gJGl0LmJhc2VJZDtcbiAgZm9yICh2YXIgJHByb3BlcnR5IGluICRzY2hlbWFEZXBzKSB7XG4gICAgdmFyICRzY2ggPSAkc2NoZW1hRGVwc1skcHJvcGVydHldO1xuICAgIGlmICgoaXQub3B0cy5zdHJpY3RLZXl3b3JkcyA/ICh0eXBlb2YgJHNjaCA9PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cygkc2NoKS5sZW5ndGggPiAwKSB8fCAkc2NoID09PSBmYWxzZSA6IGl0LnV0aWwuc2NoZW1hSGFzUnVsZXMoJHNjaCwgaXQuUlVMRVMuYWxsKSkpIHtcbiAgICAgIG91dCArPSAnICcgKyAoJG5leHRWYWxpZCkgKyAnID0gdHJ1ZTsgaWYgKCAnICsgKCRkYXRhKSArIChpdC51dGlsLmdldFByb3BlcnR5KCRwcm9wZXJ0eSkpICsgJyAhPT0gdW5kZWZpbmVkICc7XG4gICAgICBpZiAoJG93blByb3BlcnRpZXMpIHtcbiAgICAgICAgb3V0ICs9ICcgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCcgKyAoJGRhdGEpICsgJywgXFwnJyArIChpdC51dGlsLmVzY2FwZVF1b3RlcygkcHJvcGVydHkpKSArICdcXCcpICc7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJykgeyAnO1xuICAgICAgJGl0LnNjaGVtYSA9ICRzY2g7XG4gICAgICAkaXQuc2NoZW1hUGF0aCA9ICRzY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgkcHJvcGVydHkpO1xuICAgICAgJGl0LmVyclNjaGVtYVBhdGggPSAkZXJyU2NoZW1hUGF0aCArICcvJyArIGl0LnV0aWwuZXNjYXBlRnJhZ21lbnQoJHByb3BlcnR5KTtcbiAgICAgIG91dCArPSAnICAnICsgKGl0LnZhbGlkYXRlKCRpdCkpICsgJyAnO1xuICAgICAgJGl0LmJhc2VJZCA9ICRjdXJyZW50QmFzZUlkO1xuICAgICAgb3V0ICs9ICcgfSAgJztcbiAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgIG91dCArPSAnIGlmICgnICsgKCRuZXh0VmFsaWQpICsgJykgeyAnO1xuICAgICAgICAkY2xvc2luZ0JyYWNlcyArPSAnfSc7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgb3V0ICs9ICcgICAnICsgKCRjbG9zaW5nQnJhY2VzKSArICcgaWYgKCcgKyAoJGVycnMpICsgJyA9PSBlcnJvcnMpIHsnO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX2VudW0oaXQsICRrZXl3b3JkLCAkcnVsZVR5cGUpIHtcbiAgdmFyIG91dCA9ICcgJztcbiAgdmFyICRsdmwgPSBpdC5sZXZlbDtcbiAgdmFyICRkYXRhTHZsID0gaXQuZGF0YUxldmVsO1xuICB2YXIgJHNjaGVtYSA9IGl0LnNjaGVtYVska2V5d29yZF07XG4gIHZhciAkc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyBpdC51dGlsLmdldFByb3BlcnR5KCRrZXl3b3JkKTtcbiAgdmFyICRlcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvJyArICRrZXl3b3JkO1xuICB2YXIgJGJyZWFrT25FcnJvciA9ICFpdC5vcHRzLmFsbEVycm9ycztcbiAgdmFyICRkYXRhID0gJ2RhdGEnICsgKCRkYXRhTHZsIHx8ICcnKTtcbiAgdmFyICR2YWxpZCA9ICd2YWxpZCcgKyAkbHZsO1xuICB2YXIgJGlzRGF0YSA9IGl0Lm9wdHMuJGRhdGEgJiYgJHNjaGVtYSAmJiAkc2NoZW1hLiRkYXRhLFxuICAgICRzY2hlbWFWYWx1ZTtcbiAgaWYgKCRpc0RhdGEpIHtcbiAgICBvdXQgKz0gJyB2YXIgc2NoZW1hJyArICgkbHZsKSArICcgPSAnICsgKGl0LnV0aWwuZ2V0RGF0YSgkc2NoZW1hLiRkYXRhLCAkZGF0YUx2bCwgaXQuZGF0YVBhdGhBcnIpKSArICc7ICc7XG4gICAgJHNjaGVtYVZhbHVlID0gJ3NjaGVtYScgKyAkbHZsO1xuICB9IGVsc2Uge1xuICAgICRzY2hlbWFWYWx1ZSA9ICRzY2hlbWE7XG4gIH1cbiAgdmFyICRpID0gJ2knICsgJGx2bCxcbiAgICAkdlNjaGVtYSA9ICdzY2hlbWEnICsgJGx2bDtcbiAgaWYgKCEkaXNEYXRhKSB7XG4gICAgb3V0ICs9ICcgdmFyICcgKyAoJHZTY2hlbWEpICsgJyA9IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJzsnO1xuICB9XG4gIG91dCArPSAndmFyICcgKyAoJHZhbGlkKSArICc7JztcbiAgaWYgKCRpc0RhdGEpIHtcbiAgICBvdXQgKz0gJyBpZiAoc2NoZW1hJyArICgkbHZsKSArICcgPT09IHVuZGVmaW5lZCkgJyArICgkdmFsaWQpICsgJyA9IHRydWU7IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KHNjaGVtYScgKyAoJGx2bCkgKyAnKSkgJyArICgkdmFsaWQpICsgJyA9IGZhbHNlOyBlbHNlIHsnO1xuICB9XG4gIG91dCArPSAnJyArICgkdmFsaWQpICsgJyA9IGZhbHNlO2ZvciAodmFyICcgKyAoJGkpICsgJz0wOyAnICsgKCRpKSArICc8JyArICgkdlNjaGVtYSkgKyAnLmxlbmd0aDsgJyArICgkaSkgKyAnKyspIGlmIChlcXVhbCgnICsgKCRkYXRhKSArICcsICcgKyAoJHZTY2hlbWEpICsgJ1snICsgKCRpKSArICddKSkgeyAnICsgKCR2YWxpZCkgKyAnID0gdHJ1ZTsgYnJlYWs7IH0nO1xuICBpZiAoJGlzRGF0YSkge1xuICAgIG91dCArPSAnICB9ICAnO1xuICB9XG4gIG91dCArPSAnIGlmICghJyArICgkdmFsaWQpICsgJykgeyAgICc7XG4gIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgnZW51bScpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsgYWxsb3dlZFZhbHVlczogc2NoZW1hJyArICgkbHZsKSArICcgfSAnO1xuICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgYmUgZXF1YWwgdG8gb25lIG9mIHRoZSBhbGxvd2VkIHZhbHVlc1xcJyAnO1xuICAgIH1cbiAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICBvdXQgKz0gJyAsIHNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyB9ICc7XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcge30gJztcbiAgfVxuICB2YXIgX19lcnIgPSBvdXQ7XG4gIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICB9XG4gIG91dCArPSAnIH0nO1xuICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgIG91dCArPSAnIGVsc2UgeyAnO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX2Zvcm1hdChpdCwgJGtleXdvcmQsICRydWxlVHlwZSkge1xuICB2YXIgb3V0ID0gJyAnO1xuICB2YXIgJGx2bCA9IGl0LmxldmVsO1xuICB2YXIgJGRhdGFMdmwgPSBpdC5kYXRhTGV2ZWw7XG4gIHZhciAkc2NoZW1hID0gaXQuc2NoZW1hWyRrZXl3b3JkXTtcbiAgdmFyICRzY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArIGl0LnV0aWwuZ2V0UHJvcGVydHkoJGtleXdvcmQpO1xuICB2YXIgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGtleXdvcmQ7XG4gIHZhciAkYnJlYWtPbkVycm9yID0gIWl0Lm9wdHMuYWxsRXJyb3JzO1xuICB2YXIgJGRhdGEgPSAnZGF0YScgKyAoJGRhdGFMdmwgfHwgJycpO1xuICBpZiAoaXQub3B0cy5mb3JtYXQgPT09IGZhbHNlKSB7XG4gICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgIG91dCArPSAnIGlmICh0cnVlKSB7ICc7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG4gIH1cbiAgdmFyICRpc0RhdGEgPSBpdC5vcHRzLiRkYXRhICYmICRzY2hlbWEgJiYgJHNjaGVtYS4kZGF0YSxcbiAgICAkc2NoZW1hVmFsdWU7XG4gIGlmICgkaXNEYXRhKSB7XG4gICAgb3V0ICs9ICcgdmFyIHNjaGVtYScgKyAoJGx2bCkgKyAnID0gJyArIChpdC51dGlsLmdldERhdGEoJHNjaGVtYS4kZGF0YSwgJGRhdGFMdmwsIGl0LmRhdGFQYXRoQXJyKSkgKyAnOyAnO1xuICAgICRzY2hlbWFWYWx1ZSA9ICdzY2hlbWEnICsgJGx2bDtcbiAgfSBlbHNlIHtcbiAgICAkc2NoZW1hVmFsdWUgPSAkc2NoZW1hO1xuICB9XG4gIHZhciAkdW5rbm93bkZvcm1hdHMgPSBpdC5vcHRzLnVua25vd25Gb3JtYXRzLFxuICAgICRhbGxvd1Vua25vd24gPSBBcnJheS5pc0FycmF5KCR1bmtub3duRm9ybWF0cyk7XG4gIGlmICgkaXNEYXRhKSB7XG4gICAgdmFyICRmb3JtYXQgPSAnZm9ybWF0JyArICRsdmwsXG4gICAgICAkaXNPYmplY3QgPSAnaXNPYmplY3QnICsgJGx2bCxcbiAgICAgICRmb3JtYXRUeXBlID0gJ2Zvcm1hdFR5cGUnICsgJGx2bDtcbiAgICBvdXQgKz0gJyB2YXIgJyArICgkZm9ybWF0KSArICcgPSBmb3JtYXRzWycgKyAoJHNjaGVtYVZhbHVlKSArICddOyB2YXIgJyArICgkaXNPYmplY3QpICsgJyA9IHR5cGVvZiAnICsgKCRmb3JtYXQpICsgJyA9PSBcXCdvYmplY3RcXCcgJiYgISgnICsgKCRmb3JtYXQpICsgJyBpbnN0YW5jZW9mIFJlZ0V4cCkgJiYgJyArICgkZm9ybWF0KSArICcudmFsaWRhdGU7IHZhciAnICsgKCRmb3JtYXRUeXBlKSArICcgPSAnICsgKCRpc09iamVjdCkgKyAnICYmICcgKyAoJGZvcm1hdCkgKyAnLnR5cGUgfHwgXFwnc3RyaW5nXFwnOyBpZiAoJyArICgkaXNPYmplY3QpICsgJykgeyAnO1xuICAgIGlmIChpdC5hc3luYykge1xuICAgICAgb3V0ICs9ICcgdmFyIGFzeW5jJyArICgkbHZsKSArICcgPSAnICsgKCRmb3JtYXQpICsgJy5hc3luYzsgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgJyArICgkZm9ybWF0KSArICcgPSAnICsgKCRmb3JtYXQpICsgJy52YWxpZGF0ZTsgfSBpZiAoICAnO1xuICAgIGlmICgkaXNEYXRhKSB7XG4gICAgICBvdXQgKz0gJyAoJyArICgkc2NoZW1hVmFsdWUpICsgJyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICE9IFxcJ3N0cmluZ1xcJykgfHwgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgKCc7XG4gICAgaWYgKCR1bmtub3duRm9ybWF0cyAhPSAnaWdub3JlJykge1xuICAgICAgb3V0ICs9ICcgKCcgKyAoJHNjaGVtYVZhbHVlKSArICcgJiYgIScgKyAoJGZvcm1hdCkgKyAnICc7XG4gICAgICBpZiAoJGFsbG93VW5rbm93bikge1xuICAgICAgICBvdXQgKz0gJyAmJiBzZWxmLl9vcHRzLnVua25vd25Gb3JtYXRzLmluZGV4T2YoJyArICgkc2NoZW1hVmFsdWUpICsgJykgPT0gLTEgJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnKSB8fCAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyAoJyArICgkZm9ybWF0KSArICcgJiYgJyArICgkZm9ybWF0VHlwZSkgKyAnID09IFxcJycgKyAoJHJ1bGVUeXBlKSArICdcXCcgJiYgISh0eXBlb2YgJyArICgkZm9ybWF0KSArICcgPT0gXFwnZnVuY3Rpb25cXCcgPyAnO1xuICAgIGlmIChpdC5hc3luYykge1xuICAgICAgb3V0ICs9ICcgKGFzeW5jJyArICgkbHZsKSArICcgPyBhd2FpdCAnICsgKCRmb3JtYXQpICsgJygnICsgKCRkYXRhKSArICcpIDogJyArICgkZm9ybWF0KSArICcoJyArICgkZGF0YSkgKyAnKSkgJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgJyArICgkZm9ybWF0KSArICcoJyArICgkZGF0YSkgKyAnKSAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyA6ICcgKyAoJGZvcm1hdCkgKyAnLnRlc3QoJyArICgkZGF0YSkgKyAnKSkpKSkgeyc7XG4gIH0gZWxzZSB7XG4gICAgdmFyICRmb3JtYXQgPSBpdC5mb3JtYXRzWyRzY2hlbWFdO1xuICAgIGlmICghJGZvcm1hdCkge1xuICAgICAgaWYgKCR1bmtub3duRm9ybWF0cyA9PSAnaWdub3JlJykge1xuICAgICAgICBpdC5sb2dnZXIud2FybigndW5rbm93biBmb3JtYXQgXCInICsgJHNjaGVtYSArICdcIiBpZ25vcmVkIGluIHNjaGVtYSBhdCBwYXRoIFwiJyArIGl0LmVyclNjaGVtYVBhdGggKyAnXCInKTtcbiAgICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICBvdXQgKz0gJyBpZiAodHJ1ZSkgeyAnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgICB9IGVsc2UgaWYgKCRhbGxvd1Vua25vd24gJiYgJHVua25vd25Gb3JtYXRzLmluZGV4T2YoJHNjaGVtYSkgPj0gMCkge1xuICAgICAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgICAgIG91dCArPSAnIGlmICh0cnVlKSB7ICc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndW5rbm93biBmb3JtYXQgXCInICsgJHNjaGVtYSArICdcIiBpcyB1c2VkIGluIHNjaGVtYSBhdCBwYXRoIFwiJyArIGl0LmVyclNjaGVtYVBhdGggKyAnXCInKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyICRpc09iamVjdCA9IHR5cGVvZiAkZm9ybWF0ID09ICdvYmplY3QnICYmICEoJGZvcm1hdCBpbnN0YW5jZW9mIFJlZ0V4cCkgJiYgJGZvcm1hdC52YWxpZGF0ZTtcbiAgICB2YXIgJGZvcm1hdFR5cGUgPSAkaXNPYmplY3QgJiYgJGZvcm1hdC50eXBlIHx8ICdzdHJpbmcnO1xuICAgIGlmICgkaXNPYmplY3QpIHtcbiAgICAgIHZhciAkYXN5bmMgPSAkZm9ybWF0LmFzeW5jID09PSB0cnVlO1xuICAgICAgJGZvcm1hdCA9ICRmb3JtYXQudmFsaWRhdGU7XG4gICAgfVxuICAgIGlmICgkZm9ybWF0VHlwZSAhPSAkcnVsZVR5cGUpIHtcbiAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgIG91dCArPSAnIGlmICh0cnVlKSB7ICc7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICBpZiAoJGFzeW5jKSB7XG4gICAgICBpZiAoIWl0LmFzeW5jKSB0aHJvdyBuZXcgRXJyb3IoJ2FzeW5jIGZvcm1hdCBpbiBzeW5jIHNjaGVtYScpO1xuICAgICAgdmFyICRmb3JtYXRSZWYgPSAnZm9ybWF0cycgKyBpdC51dGlsLmdldFByb3BlcnR5KCRzY2hlbWEpICsgJy52YWxpZGF0ZSc7XG4gICAgICBvdXQgKz0gJyBpZiAoIShhd2FpdCAnICsgKCRmb3JtYXRSZWYpICsgJygnICsgKCRkYXRhKSArICcpKSkgeyAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyBpZiAoISAnO1xuICAgICAgdmFyICRmb3JtYXRSZWYgPSAnZm9ybWF0cycgKyBpdC51dGlsLmdldFByb3BlcnR5KCRzY2hlbWEpO1xuICAgICAgaWYgKCRpc09iamVjdCkgJGZvcm1hdFJlZiArPSAnLnZhbGlkYXRlJztcbiAgICAgIGlmICh0eXBlb2YgJGZvcm1hdCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG91dCArPSAnICcgKyAoJGZvcm1hdFJlZikgKyAnKCcgKyAoJGRhdGEpICsgJykgJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnICcgKyAoJGZvcm1hdFJlZikgKyAnLnRlc3QoJyArICgkZGF0YSkgKyAnKSAnO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcpIHsgJztcbiAgICB9XG4gIH1cbiAgdmFyICQkb3V0U3RhY2sgPSAkJG91dFN0YWNrIHx8IFtdO1xuICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgb3V0ID0gJyc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCdmb3JtYXQnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IGZvcm1hdDogICc7XG4gICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgIG91dCArPSAnJyArICgkc2NoZW1hVmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJycgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkc2NoZW1hKSk7XG4gICAgfVxuICAgIG91dCArPSAnICB9ICc7XG4gICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBtYXRjaCBmb3JtYXQgXCInO1xuICAgICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgICAgb3V0ICs9ICdcXCcgKyAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICsgXFwnJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnJyArIChpdC51dGlsLmVzY2FwZVF1b3Rlcygkc2NoZW1hKSk7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJ1wiXFwnICc7XG4gICAgfVxuICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgIG91dCArPSAnICwgc2NoZW1hOiAgJztcbiAgICAgIGlmICgkaXNEYXRhKSB7XG4gICAgICAgIG91dCArPSAndmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJycgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkc2NoZW1hKSk7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyAgICAgICAgICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyB9ICc7XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcge30gJztcbiAgfVxuICB2YXIgX19lcnIgPSBvdXQ7XG4gIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICB9XG4gIG91dCArPSAnIH0gJztcbiAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICBvdXQgKz0gJyBlbHNlIHsgJztcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZW5lcmF0ZV9pZihpdCwgJGtleXdvcmQsICRydWxlVHlwZSkge1xuICB2YXIgb3V0ID0gJyAnO1xuICB2YXIgJGx2bCA9IGl0LmxldmVsO1xuICB2YXIgJGRhdGFMdmwgPSBpdC5kYXRhTGV2ZWw7XG4gIHZhciAkc2NoZW1hID0gaXQuc2NoZW1hWyRrZXl3b3JkXTtcbiAgdmFyICRzY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArIGl0LnV0aWwuZ2V0UHJvcGVydHkoJGtleXdvcmQpO1xuICB2YXIgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGtleXdvcmQ7XG4gIHZhciAkYnJlYWtPbkVycm9yID0gIWl0Lm9wdHMuYWxsRXJyb3JzO1xuICB2YXIgJGRhdGEgPSAnZGF0YScgKyAoJGRhdGFMdmwgfHwgJycpO1xuICB2YXIgJHZhbGlkID0gJ3ZhbGlkJyArICRsdmw7XG4gIHZhciAkZXJycyA9ICdlcnJzX18nICsgJGx2bDtcbiAgdmFyICRpdCA9IGl0LnV0aWwuY29weShpdCk7XG4gICRpdC5sZXZlbCsrO1xuICB2YXIgJG5leHRWYWxpZCA9ICd2YWxpZCcgKyAkaXQubGV2ZWw7XG4gIHZhciAkdGhlblNjaCA9IGl0LnNjaGVtYVsndGhlbiddLFxuICAgICRlbHNlU2NoID0gaXQuc2NoZW1hWydlbHNlJ10sXG4gICAgJHRoZW5QcmVzZW50ID0gJHRoZW5TY2ggIT09IHVuZGVmaW5lZCAmJiAoaXQub3B0cy5zdHJpY3RLZXl3b3JkcyA/ICh0eXBlb2YgJHRoZW5TY2ggPT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMoJHRoZW5TY2gpLmxlbmd0aCA+IDApIHx8ICR0aGVuU2NoID09PSBmYWxzZSA6IGl0LnV0aWwuc2NoZW1hSGFzUnVsZXMoJHRoZW5TY2gsIGl0LlJVTEVTLmFsbCkpLFxuICAgICRlbHNlUHJlc2VudCA9ICRlbHNlU2NoICE9PSB1bmRlZmluZWQgJiYgKGl0Lm9wdHMuc3RyaWN0S2V5d29yZHMgPyAodHlwZW9mICRlbHNlU2NoID09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKCRlbHNlU2NoKS5sZW5ndGggPiAwKSB8fCAkZWxzZVNjaCA9PT0gZmFsc2UgOiBpdC51dGlsLnNjaGVtYUhhc1J1bGVzKCRlbHNlU2NoLCBpdC5SVUxFUy5hbGwpKSxcbiAgICAkY3VycmVudEJhc2VJZCA9ICRpdC5iYXNlSWQ7XG4gIGlmICgkdGhlblByZXNlbnQgfHwgJGVsc2VQcmVzZW50KSB7XG4gICAgdmFyICRpZkNsYXVzZTtcbiAgICAkaXQuY3JlYXRlRXJyb3JzID0gZmFsc2U7XG4gICAgJGl0LnNjaGVtYSA9ICRzY2hlbWE7XG4gICAgJGl0LnNjaGVtYVBhdGggPSAkc2NoZW1hUGF0aDtcbiAgICAkaXQuZXJyU2NoZW1hUGF0aCA9ICRlcnJTY2hlbWFQYXRoO1xuICAgIG91dCArPSAnIHZhciAnICsgKCRlcnJzKSArICcgPSBlcnJvcnM7IHZhciAnICsgKCR2YWxpZCkgKyAnID0gdHJ1ZTsgICc7XG4gICAgdmFyICR3YXNDb21wb3NpdGUgPSBpdC5jb21wb3NpdGVSdWxlO1xuICAgIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9IHRydWU7XG4gICAgb3V0ICs9ICcgICcgKyAoaXQudmFsaWRhdGUoJGl0KSkgKyAnICc7XG4gICAgJGl0LmJhc2VJZCA9ICRjdXJyZW50QmFzZUlkO1xuICAgICRpdC5jcmVhdGVFcnJvcnMgPSB0cnVlO1xuICAgIG91dCArPSAnICBlcnJvcnMgPSAnICsgKCRlcnJzKSArICc7IGlmICh2RXJyb3JzICE9PSBudWxsKSB7IGlmICgnICsgKCRlcnJzKSArICcpIHZFcnJvcnMubGVuZ3RoID0gJyArICgkZXJycykgKyAnOyBlbHNlIHZFcnJvcnMgPSBudWxsOyB9ICAnO1xuICAgIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9ICR3YXNDb21wb3NpdGU7XG4gICAgaWYgKCR0aGVuUHJlc2VudCkge1xuICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoJG5leHRWYWxpZCkgKyAnKSB7ICAnO1xuICAgICAgJGl0LnNjaGVtYSA9IGl0LnNjaGVtYVsndGhlbiddO1xuICAgICAgJGl0LnNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgJy50aGVuJztcbiAgICAgICRpdC5lcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvdGhlbic7XG4gICAgICBvdXQgKz0gJyAgJyArIChpdC52YWxpZGF0ZSgkaXQpKSArICcgJztcbiAgICAgICRpdC5iYXNlSWQgPSAkY3VycmVudEJhc2VJZDtcbiAgICAgIG91dCArPSAnICcgKyAoJHZhbGlkKSArICcgPSAnICsgKCRuZXh0VmFsaWQpICsgJzsgJztcbiAgICAgIGlmICgkdGhlblByZXNlbnQgJiYgJGVsc2VQcmVzZW50KSB7XG4gICAgICAgICRpZkNsYXVzZSA9ICdpZkNsYXVzZScgKyAkbHZsO1xuICAgICAgICBvdXQgKz0gJyB2YXIgJyArICgkaWZDbGF1c2UpICsgJyA9IFxcJ3RoZW5cXCc7ICc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkaWZDbGF1c2UgPSAnXFwndGhlblxcJyc7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICBpZiAoJGVsc2VQcmVzZW50KSB7XG4gICAgICAgIG91dCArPSAnIGVsc2UgeyAnO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyBpZiAoIScgKyAoJG5leHRWYWxpZCkgKyAnKSB7ICc7XG4gICAgfVxuICAgIGlmICgkZWxzZVByZXNlbnQpIHtcbiAgICAgICRpdC5zY2hlbWEgPSBpdC5zY2hlbWFbJ2Vsc2UnXTtcbiAgICAgICRpdC5zY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArICcuZWxzZSc7XG4gICAgICAkaXQuZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnL2Vsc2UnO1xuICAgICAgb3V0ICs9ICcgICcgKyAoaXQudmFsaWRhdGUoJGl0KSkgKyAnICc7XG4gICAgICAkaXQuYmFzZUlkID0gJGN1cnJlbnRCYXNlSWQ7XG4gICAgICBvdXQgKz0gJyAnICsgKCR2YWxpZCkgKyAnID0gJyArICgkbmV4dFZhbGlkKSArICc7ICc7XG4gICAgICBpZiAoJHRoZW5QcmVzZW50ICYmICRlbHNlUHJlc2VudCkge1xuICAgICAgICAkaWZDbGF1c2UgPSAnaWZDbGF1c2UnICsgJGx2bDtcbiAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJGlmQ2xhdXNlKSArICcgPSBcXCdlbHNlXFwnOyAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGlmQ2xhdXNlID0gJ1xcJ2Vsc2VcXCcnO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgfSAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyBpZiAoIScgKyAoJHZhbGlkKSArICcpIHsgICB2YXIgZXJyID0gICAnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ2lmJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBmYWlsaW5nS2V5d29yZDogJyArICgkaWZDbGF1c2UpICsgJyB9ICc7XG4gICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgbWF0Y2ggXCJcXCcgKyAnICsgKCRpZkNsYXVzZSkgKyAnICsgXFwnXCIgc2NoZW1hXFwnICc7XG4gICAgICB9XG4gICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgIG91dCArPSAnICwgc2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICcgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyB9ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHt9ICc7XG4gICAgfVxuICAgIG91dCArPSAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gICAgaWYgKCFpdC5jb21wb3NpdGVSdWxlICYmICRicmVha09uRXJyb3IpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICAgIG91dCArPSAnIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IodkVycm9ycyk7ICc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSB2RXJyb3JzOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgICB9XG4gICAgfVxuICAgIG91dCArPSAnIH0gICAnO1xuICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICBvdXQgKz0gJyBlbHNlIHsgJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgIG91dCArPSAnIGlmICh0cnVlKSB7ICc7XG4gICAgfVxuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX2l0ZW1zKGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZGF0YSA9ICdkYXRhJyArICgkZGF0YUx2bCB8fCAnJyk7XG4gIHZhciAkdmFsaWQgPSAndmFsaWQnICsgJGx2bDtcbiAgdmFyICRlcnJzID0gJ2VycnNfXycgKyAkbHZsO1xuICB2YXIgJGl0ID0gaXQudXRpbC5jb3B5KGl0KTtcbiAgdmFyICRjbG9zaW5nQnJhY2VzID0gJyc7XG4gICRpdC5sZXZlbCsrO1xuICB2YXIgJG5leHRWYWxpZCA9ICd2YWxpZCcgKyAkaXQubGV2ZWw7XG4gIHZhciAkaWR4ID0gJ2knICsgJGx2bCxcbiAgICAkZGF0YU54dCA9ICRpdC5kYXRhTGV2ZWwgPSBpdC5kYXRhTGV2ZWwgKyAxLFxuICAgICRuZXh0RGF0YSA9ICdkYXRhJyArICRkYXRhTnh0LFxuICAgICRjdXJyZW50QmFzZUlkID0gaXQuYmFzZUlkO1xuICBvdXQgKz0gJ3ZhciAnICsgKCRlcnJzKSArICcgPSBlcnJvcnM7dmFyICcgKyAoJHZhbGlkKSArICc7JztcbiAgaWYgKEFycmF5LmlzQXJyYXkoJHNjaGVtYSkpIHtcbiAgICB2YXIgJGFkZGl0aW9uYWxJdGVtcyA9IGl0LnNjaGVtYS5hZGRpdGlvbmFsSXRlbXM7XG4gICAgaWYgKCRhZGRpdGlvbmFsSXRlbXMgPT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyAnICsgKCR2YWxpZCkgKyAnID0gJyArICgkZGF0YSkgKyAnLmxlbmd0aCA8PSAnICsgKCRzY2hlbWEubGVuZ3RoKSArICc7ICc7XG4gICAgICB2YXIgJGN1cnJFcnJTY2hlbWFQYXRoID0gJGVyclNjaGVtYVBhdGg7XG4gICAgICAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnL2FkZGl0aW9uYWxJdGVtcyc7XG4gICAgICBvdXQgKz0gJyAgaWYgKCEnICsgKCR2YWxpZCkgKyAnKSB7ICAgJztcbiAgICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAgICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICAgICAgb3V0ID0gJyc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ2FkZGl0aW9uYWxJdGVtcycpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsgbGltaXQ6ICcgKyAoJHNjaGVtYS5sZW5ndGgpICsgJyB9ICc7XG4gICAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICAgIG91dCArPSAnICwgbWVzc2FnZTogXFwnc2hvdWxkIE5PVCBoYXZlIG1vcmUgdGhhbiAnICsgKCRzY2hlbWEubGVuZ3RoKSArICcgaXRlbXNcXCcgJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IGZhbHNlICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnIH0gJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnIHt9ICc7XG4gICAgICB9XG4gICAgICB2YXIgX19lcnIgPSBvdXQ7XG4gICAgICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICAgICAgaWYgKCFpdC5jb21wb3NpdGVSdWxlICYmICRicmVha09uRXJyb3IpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChpdC5hc3luYykge1xuICAgICAgICAgIG91dCArPSAnIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoWycgKyAoX19lcnIpICsgJ10pOyAnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnIH0gJztcbiAgICAgICRlcnJTY2hlbWFQYXRoID0gJGN1cnJFcnJTY2hlbWFQYXRoO1xuICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgJGNsb3NpbmdCcmFjZXMgKz0gJ30nO1xuICAgICAgICBvdXQgKz0gJyBlbHNlIHsgJztcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGFycjEgPSAkc2NoZW1hO1xuICAgIGlmIChhcnIxKSB7XG4gICAgICB2YXIgJHNjaCwgJGkgPSAtMSxcbiAgICAgICAgbDEgPSBhcnIxLmxlbmd0aCAtIDE7XG4gICAgICB3aGlsZSAoJGkgPCBsMSkge1xuICAgICAgICAkc2NoID0gYXJyMVskaSArPSAxXTtcbiAgICAgICAgaWYgKChpdC5vcHRzLnN0cmljdEtleXdvcmRzID8gKHR5cGVvZiAkc2NoID09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKCRzY2gpLmxlbmd0aCA+IDApIHx8ICRzY2ggPT09IGZhbHNlIDogaXQudXRpbC5zY2hlbWFIYXNSdWxlcygkc2NoLCBpdC5SVUxFUy5hbGwpKSkge1xuICAgICAgICAgIG91dCArPSAnICcgKyAoJG5leHRWYWxpZCkgKyAnID0gdHJ1ZTsgaWYgKCcgKyAoJGRhdGEpICsgJy5sZW5ndGggPiAnICsgKCRpKSArICcpIHsgJztcbiAgICAgICAgICB2YXIgJHBhc3NEYXRhID0gJGRhdGEgKyAnWycgKyAkaSArICddJztcbiAgICAgICAgICAkaXQuc2NoZW1hID0gJHNjaDtcbiAgICAgICAgICAkaXQuc2NoZW1hUGF0aCA9ICRzY2hlbWFQYXRoICsgJ1snICsgJGkgKyAnXSc7XG4gICAgICAgICAgJGl0LmVyclNjaGVtYVBhdGggPSAkZXJyU2NoZW1hUGF0aCArICcvJyArICRpO1xuICAgICAgICAgICRpdC5lcnJvclBhdGggPSBpdC51dGlsLmdldFBhdGhFeHByKGl0LmVycm9yUGF0aCwgJGksIGl0Lm9wdHMuanNvblBvaW50ZXJzLCB0cnVlKTtcbiAgICAgICAgICAkaXQuZGF0YVBhdGhBcnJbJGRhdGFOeHRdID0gJGk7XG4gICAgICAgICAgdmFyICRjb2RlID0gaXQudmFsaWRhdGUoJGl0KTtcbiAgICAgICAgICAkaXQuYmFzZUlkID0gJGN1cnJlbnRCYXNlSWQ7XG4gICAgICAgICAgaWYgKGl0LnV0aWwudmFyT2NjdXJlbmNlcygkY29kZSwgJG5leHREYXRhKSA8IDIpIHtcbiAgICAgICAgICAgIG91dCArPSAnICcgKyAoaXQudXRpbC52YXJSZXBsYWNlKCRjb2RlLCAkbmV4dERhdGEsICRwYXNzRGF0YSkpICsgJyAnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB2YXIgJyArICgkbmV4dERhdGEpICsgJyA9ICcgKyAoJHBhc3NEYXRhKSArICc7ICcgKyAoJGNvZGUpICsgJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJyB9ICAnO1xuICAgICAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyBpZiAoJyArICgkbmV4dFZhbGlkKSArICcpIHsgJztcbiAgICAgICAgICAgICRjbG9zaW5nQnJhY2VzICs9ICd9JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiAkYWRkaXRpb25hbEl0ZW1zID09ICdvYmplY3QnICYmIChpdC5vcHRzLnN0cmljdEtleXdvcmRzID8gKHR5cGVvZiAkYWRkaXRpb25hbEl0ZW1zID09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKCRhZGRpdGlvbmFsSXRlbXMpLmxlbmd0aCA+IDApIHx8ICRhZGRpdGlvbmFsSXRlbXMgPT09IGZhbHNlIDogaXQudXRpbC5zY2hlbWFIYXNSdWxlcygkYWRkaXRpb25hbEl0ZW1zLCBpdC5SVUxFUy5hbGwpKSkge1xuICAgICAgJGl0LnNjaGVtYSA9ICRhZGRpdGlvbmFsSXRlbXM7XG4gICAgICAkaXQuc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyAnLmFkZGl0aW9uYWxJdGVtcyc7XG4gICAgICAkaXQuZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnL2FkZGl0aW9uYWxJdGVtcyc7XG4gICAgICBvdXQgKz0gJyAnICsgKCRuZXh0VmFsaWQpICsgJyA9IHRydWU7IGlmICgnICsgKCRkYXRhKSArICcubGVuZ3RoID4gJyArICgkc2NoZW1hLmxlbmd0aCkgKyAnKSB7ICBmb3IgKHZhciAnICsgKCRpZHgpICsgJyA9ICcgKyAoJHNjaGVtYS5sZW5ndGgpICsgJzsgJyArICgkaWR4KSArICcgPCAnICsgKCRkYXRhKSArICcubGVuZ3RoOyAnICsgKCRpZHgpICsgJysrKSB7ICc7XG4gICAgICAkaXQuZXJyb3JQYXRoID0gaXQudXRpbC5nZXRQYXRoRXhwcihpdC5lcnJvclBhdGgsICRpZHgsIGl0Lm9wdHMuanNvblBvaW50ZXJzLCB0cnVlKTtcbiAgICAgIHZhciAkcGFzc0RhdGEgPSAkZGF0YSArICdbJyArICRpZHggKyAnXSc7XG4gICAgICAkaXQuZGF0YVBhdGhBcnJbJGRhdGFOeHRdID0gJGlkeDtcbiAgICAgIHZhciAkY29kZSA9IGl0LnZhbGlkYXRlKCRpdCk7XG4gICAgICAkaXQuYmFzZUlkID0gJGN1cnJlbnRCYXNlSWQ7XG4gICAgICBpZiAoaXQudXRpbC52YXJPY2N1cmVuY2VzKCRjb2RlLCAkbmV4dERhdGEpIDwgMikge1xuICAgICAgICBvdXQgKz0gJyAnICsgKGl0LnV0aWwudmFyUmVwbGFjZSgkY29kZSwgJG5leHREYXRhLCAkcGFzc0RhdGEpKSArICcgJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnIHZhciAnICsgKCRuZXh0RGF0YSkgKyAnID0gJyArICgkcGFzc0RhdGEpICsgJzsgJyArICgkY29kZSkgKyAnICc7XG4gICAgICB9XG4gICAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgICBvdXQgKz0gJyBpZiAoIScgKyAoJG5leHRWYWxpZCkgKyAnKSBicmVhazsgJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnIH0gfSAgJztcbiAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgIG91dCArPSAnIGlmICgnICsgKCRuZXh0VmFsaWQpICsgJykgeyAnO1xuICAgICAgICAkY2xvc2luZ0JyYWNlcyArPSAnfSc7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKChpdC5vcHRzLnN0cmljdEtleXdvcmRzID8gKHR5cGVvZiAkc2NoZW1hID09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKCRzY2hlbWEpLmxlbmd0aCA+IDApIHx8ICRzY2hlbWEgPT09IGZhbHNlIDogaXQudXRpbC5zY2hlbWFIYXNSdWxlcygkc2NoZW1hLCBpdC5SVUxFUy5hbGwpKSkge1xuICAgICRpdC5zY2hlbWEgPSAkc2NoZW1hO1xuICAgICRpdC5zY2hlbWFQYXRoID0gJHNjaGVtYVBhdGg7XG4gICAgJGl0LmVyclNjaGVtYVBhdGggPSAkZXJyU2NoZW1hUGF0aDtcbiAgICBvdXQgKz0gJyAgZm9yICh2YXIgJyArICgkaWR4KSArICcgPSAnICsgKDApICsgJzsgJyArICgkaWR4KSArICcgPCAnICsgKCRkYXRhKSArICcubGVuZ3RoOyAnICsgKCRpZHgpICsgJysrKSB7ICc7XG4gICAgJGl0LmVycm9yUGF0aCA9IGl0LnV0aWwuZ2V0UGF0aEV4cHIoaXQuZXJyb3JQYXRoLCAkaWR4LCBpdC5vcHRzLmpzb25Qb2ludGVycywgdHJ1ZSk7XG4gICAgdmFyICRwYXNzRGF0YSA9ICRkYXRhICsgJ1snICsgJGlkeCArICddJztcbiAgICAkaXQuZGF0YVBhdGhBcnJbJGRhdGFOeHRdID0gJGlkeDtcbiAgICB2YXIgJGNvZGUgPSBpdC52YWxpZGF0ZSgkaXQpO1xuICAgICRpdC5iYXNlSWQgPSAkY3VycmVudEJhc2VJZDtcbiAgICBpZiAoaXQudXRpbC52YXJPY2N1cmVuY2VzKCRjb2RlLCAkbmV4dERhdGEpIDwgMikge1xuICAgICAgb3V0ICs9ICcgJyArIChpdC51dGlsLnZhclJlcGxhY2UoJGNvZGUsICRuZXh0RGF0YSwgJHBhc3NEYXRhKSkgKyAnICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhciAnICsgKCRuZXh0RGF0YSkgKyAnID0gJyArICgkcGFzc0RhdGEpICsgJzsgJyArICgkY29kZSkgKyAnICc7XG4gICAgfVxuICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICBvdXQgKz0gJyBpZiAoIScgKyAoJG5leHRWYWxpZCkgKyAnKSBicmVhazsgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSc7XG4gIH1cbiAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICBvdXQgKz0gJyAnICsgKCRjbG9zaW5nQnJhY2VzKSArICcgaWYgKCcgKyAoJGVycnMpICsgJyA9PSBlcnJvcnMpIHsnO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX19saW1pdChpdCwgJGtleXdvcmQsICRydWxlVHlwZSkge1xuICB2YXIgb3V0ID0gJyAnO1xuICB2YXIgJGx2bCA9IGl0LmxldmVsO1xuICB2YXIgJGRhdGFMdmwgPSBpdC5kYXRhTGV2ZWw7XG4gIHZhciAkc2NoZW1hID0gaXQuc2NoZW1hWyRrZXl3b3JkXTtcbiAgdmFyICRzY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArIGl0LnV0aWwuZ2V0UHJvcGVydHkoJGtleXdvcmQpO1xuICB2YXIgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGtleXdvcmQ7XG4gIHZhciAkYnJlYWtPbkVycm9yID0gIWl0Lm9wdHMuYWxsRXJyb3JzO1xuICB2YXIgJGVycm9yS2V5d29yZDtcbiAgdmFyICRkYXRhID0gJ2RhdGEnICsgKCRkYXRhTHZsIHx8ICcnKTtcbiAgdmFyICRpc0RhdGEgPSBpdC5vcHRzLiRkYXRhICYmICRzY2hlbWEgJiYgJHNjaGVtYS4kZGF0YSxcbiAgICAkc2NoZW1hVmFsdWU7XG4gIGlmICgkaXNEYXRhKSB7XG4gICAgb3V0ICs9ICcgdmFyIHNjaGVtYScgKyAoJGx2bCkgKyAnID0gJyArIChpdC51dGlsLmdldERhdGEoJHNjaGVtYS4kZGF0YSwgJGRhdGFMdmwsIGl0LmRhdGFQYXRoQXJyKSkgKyAnOyAnO1xuICAgICRzY2hlbWFWYWx1ZSA9ICdzY2hlbWEnICsgJGx2bDtcbiAgfSBlbHNlIHtcbiAgICAkc2NoZW1hVmFsdWUgPSAkc2NoZW1hO1xuICB9XG4gIHZhciAkaXNNYXggPSAka2V5d29yZCA9PSAnbWF4aW11bScsXG4gICAgJGV4Y2x1c2l2ZUtleXdvcmQgPSAkaXNNYXggPyAnZXhjbHVzaXZlTWF4aW11bScgOiAnZXhjbHVzaXZlTWluaW11bScsXG4gICAgJHNjaGVtYUV4Y2wgPSBpdC5zY2hlbWFbJGV4Y2x1c2l2ZUtleXdvcmRdLFxuICAgICRpc0RhdGFFeGNsID0gaXQub3B0cy4kZGF0YSAmJiAkc2NoZW1hRXhjbCAmJiAkc2NoZW1hRXhjbC4kZGF0YSxcbiAgICAkb3AgPSAkaXNNYXggPyAnPCcgOiAnPicsXG4gICAgJG5vdE9wID0gJGlzTWF4ID8gJz4nIDogJzwnLFxuICAgICRlcnJvcktleXdvcmQgPSB1bmRlZmluZWQ7XG4gIGlmICghKCRpc0RhdGEgfHwgdHlwZW9mICRzY2hlbWEgPT0gJ251bWJlcicgfHwgJHNjaGVtYSA9PT0gdW5kZWZpbmVkKSkge1xuICAgIHRocm93IG5ldyBFcnJvcigka2V5d29yZCArICcgbXVzdCBiZSBudW1iZXInKTtcbiAgfVxuICBpZiAoISgkaXNEYXRhRXhjbCB8fCAkc2NoZW1hRXhjbCA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiAkc2NoZW1hRXhjbCA9PSAnbnVtYmVyJyB8fCB0eXBlb2YgJHNjaGVtYUV4Y2wgPT0gJ2Jvb2xlYW4nKSkge1xuICAgIHRocm93IG5ldyBFcnJvcigkZXhjbHVzaXZlS2V5d29yZCArICcgbXVzdCBiZSBudW1iZXIgb3IgYm9vbGVhbicpO1xuICB9XG4gIGlmICgkaXNEYXRhRXhjbCkge1xuICAgIHZhciAkc2NoZW1hVmFsdWVFeGNsID0gaXQudXRpbC5nZXREYXRhKCRzY2hlbWFFeGNsLiRkYXRhLCAkZGF0YUx2bCwgaXQuZGF0YVBhdGhBcnIpLFxuICAgICAgJGV4Y2x1c2l2ZSA9ICdleGNsdXNpdmUnICsgJGx2bCxcbiAgICAgICRleGNsVHlwZSA9ICdleGNsVHlwZScgKyAkbHZsLFxuICAgICAgJGV4Y2xJc051bWJlciA9ICdleGNsSXNOdW1iZXInICsgJGx2bCxcbiAgICAgICRvcEV4cHIgPSAnb3AnICsgJGx2bCxcbiAgICAgICRvcFN0ciA9ICdcXCcgKyAnICsgJG9wRXhwciArICcgKyBcXCcnO1xuICAgIG91dCArPSAnIHZhciBzY2hlbWFFeGNsJyArICgkbHZsKSArICcgPSAnICsgKCRzY2hlbWFWYWx1ZUV4Y2wpICsgJzsgJztcbiAgICAkc2NoZW1hVmFsdWVFeGNsID0gJ3NjaGVtYUV4Y2wnICsgJGx2bDtcbiAgICBvdXQgKz0gJyB2YXIgJyArICgkZXhjbHVzaXZlKSArICc7IHZhciAnICsgKCRleGNsVHlwZSkgKyAnID0gdHlwZW9mICcgKyAoJHNjaGVtYVZhbHVlRXhjbCkgKyAnOyBpZiAoJyArICgkZXhjbFR5cGUpICsgJyAhPSBcXCdib29sZWFuXFwnICYmICcgKyAoJGV4Y2xUeXBlKSArICcgIT0gXFwndW5kZWZpbmVkXFwnICYmICcgKyAoJGV4Y2xUeXBlKSArICcgIT0gXFwnbnVtYmVyXFwnKSB7ICc7XG4gICAgdmFyICRlcnJvcktleXdvcmQgPSAkZXhjbHVzaXZlS2V5d29yZDtcbiAgICB2YXIgJCRvdXRTdGFjayA9ICQkb3V0U3RhY2sgfHwgW107XG4gICAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gICAgb3V0ID0gJyc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgkZXJyb3JLZXl3b3JkIHx8ICdfZXhjbHVzaXZlTGltaXQnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7fSAnO1xuICAgICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICAgIG91dCArPSAnICwgbWVzc2FnZTogXFwnJyArICgkZXhjbHVzaXZlS2V5d29yZCkgKyAnIHNob3VsZCBiZSBib29sZWFuXFwnICc7XG4gICAgICB9XG4gICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgIG91dCArPSAnICwgc2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICcgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyB9ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHt9ICc7XG4gICAgfVxuICAgIHZhciBfX2VyciA9IG91dDtcbiAgICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICAgIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChpdC5hc3luYykge1xuICAgICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSBlbHNlIGlmICggJztcbiAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgb3V0ICs9ICcgKCcgKyAoJHNjaGVtYVZhbHVlKSArICcgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgJyArICgkc2NoZW1hVmFsdWUpICsgJyAhPSBcXCdudW1iZXJcXCcpIHx8ICc7XG4gICAgfVxuICAgIG91dCArPSAnICcgKyAoJGV4Y2xUeXBlKSArICcgPT0gXFwnbnVtYmVyXFwnID8gKCAoJyArICgkZXhjbHVzaXZlKSArICcgPSAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnID09PSB1bmRlZmluZWQgfHwgJyArICgkc2NoZW1hVmFsdWVFeGNsKSArICcgJyArICgkb3ApICsgJz0gJyArICgkc2NoZW1hVmFsdWUpICsgJykgPyAnICsgKCRkYXRhKSArICcgJyArICgkbm90T3ApICsgJz0gJyArICgkc2NoZW1hVmFsdWVFeGNsKSArICcgOiAnICsgKCRkYXRhKSArICcgJyArICgkbm90T3ApICsgJyAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICkgOiAoICgnICsgKCRleGNsdXNpdmUpICsgJyA9ICcgKyAoJHNjaGVtYVZhbHVlRXhjbCkgKyAnID09PSB0cnVlKSA/ICcgKyAoJGRhdGEpICsgJyAnICsgKCRub3RPcCkgKyAnPSAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnIDogJyArICgkZGF0YSkgKyAnICcgKyAoJG5vdE9wKSArICcgJyArICgkc2NoZW1hVmFsdWUpICsgJyApIHx8ICcgKyAoJGRhdGEpICsgJyAhPT0gJyArICgkZGF0YSkgKyAnKSB7IHZhciBvcCcgKyAoJGx2bCkgKyAnID0gJyArICgkZXhjbHVzaXZlKSArICcgPyBcXCcnICsgKCRvcCkgKyAnXFwnIDogXFwnJyArICgkb3ApICsgJz1cXCc7ICc7XG4gICAgaWYgKCRzY2hlbWEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgJGVycm9yS2V5d29yZCA9ICRleGNsdXNpdmVLZXl3b3JkO1xuICAgICAgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGV4Y2x1c2l2ZUtleXdvcmQ7XG4gICAgICAkc2NoZW1hVmFsdWUgPSAkc2NoZW1hVmFsdWVFeGNsO1xuICAgICAgJGlzRGF0YSA9ICRpc0RhdGFFeGNsO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgJGV4Y2xJc051bWJlciA9IHR5cGVvZiAkc2NoZW1hRXhjbCA9PSAnbnVtYmVyJyxcbiAgICAgICRvcFN0ciA9ICRvcDtcbiAgICBpZiAoJGV4Y2xJc051bWJlciAmJiAkaXNEYXRhKSB7XG4gICAgICB2YXIgJG9wRXhwciA9ICdcXCcnICsgJG9wU3RyICsgJ1xcJyc7XG4gICAgICBvdXQgKz0gJyBpZiAoICc7XG4gICAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgICBvdXQgKz0gJyAoJyArICgkc2NoZW1hVmFsdWUpICsgJyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICE9IFxcJ251bWJlclxcJykgfHwgJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnICggJyArICgkc2NoZW1hVmFsdWUpICsgJyA9PT0gdW5kZWZpbmVkIHx8ICcgKyAoJHNjaGVtYUV4Y2wpICsgJyAnICsgKCRvcCkgKyAnPSAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnID8gJyArICgkZGF0YSkgKyAnICcgKyAoJG5vdE9wKSArICc9ICcgKyAoJHNjaGVtYUV4Y2wpICsgJyA6ICcgKyAoJGRhdGEpICsgJyAnICsgKCRub3RPcCkgKyAnICcgKyAoJHNjaGVtYVZhbHVlKSArICcgKSB8fCAnICsgKCRkYXRhKSArICcgIT09ICcgKyAoJGRhdGEpICsgJykgeyAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoJGV4Y2xJc051bWJlciAmJiAkc2NoZW1hID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgJGV4Y2x1c2l2ZSA9IHRydWU7XG4gICAgICAgICRlcnJvcktleXdvcmQgPSAkZXhjbHVzaXZlS2V5d29yZDtcbiAgICAgICAgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGV4Y2x1c2l2ZUtleXdvcmQ7XG4gICAgICAgICRzY2hlbWFWYWx1ZSA9ICRzY2hlbWFFeGNsO1xuICAgICAgICAkbm90T3AgKz0gJz0nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCRleGNsSXNOdW1iZXIpICRzY2hlbWFWYWx1ZSA9IE1hdGhbJGlzTWF4ID8gJ21pbicgOiAnbWF4J10oJHNjaGVtYUV4Y2wsICRzY2hlbWEpO1xuICAgICAgICBpZiAoJHNjaGVtYUV4Y2wgPT09ICgkZXhjbElzTnVtYmVyID8gJHNjaGVtYVZhbHVlIDogdHJ1ZSkpIHtcbiAgICAgICAgICAkZXhjbHVzaXZlID0gdHJ1ZTtcbiAgICAgICAgICAkZXJyb3JLZXl3b3JkID0gJGV4Y2x1c2l2ZUtleXdvcmQ7XG4gICAgICAgICAgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGV4Y2x1c2l2ZUtleXdvcmQ7XG4gICAgICAgICAgJG5vdE9wICs9ICc9JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkZXhjbHVzaXZlID0gZmFsc2U7XG4gICAgICAgICAgJG9wU3RyICs9ICc9JztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyICRvcEV4cHIgPSAnXFwnJyArICRvcFN0ciArICdcXCcnO1xuICAgICAgb3V0ICs9ICcgaWYgKCAnO1xuICAgICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgICAgb3V0ICs9ICcgKCcgKyAoJHNjaGVtYVZhbHVlKSArICcgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgJyArICgkc2NoZW1hVmFsdWUpICsgJyAhPSBcXCdudW1iZXJcXCcpIHx8ICc7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyAnICsgKCRkYXRhKSArICcgJyArICgkbm90T3ApICsgJyAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnIHx8ICcgKyAoJGRhdGEpICsgJyAhPT0gJyArICgkZGF0YSkgKyAnKSB7ICc7XG4gICAgfVxuICB9XG4gICRlcnJvcktleXdvcmQgPSAkZXJyb3JLZXl3b3JkIHx8ICRrZXl3b3JkO1xuICB2YXIgJCRvdXRTdGFjayA9ICQkb3V0U3RhY2sgfHwgW107XG4gICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICBvdXQgPSAnJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJGVycm9yS2V5d29yZCB8fCAnX2xpbWl0JykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBjb21wYXJpc29uOiAnICsgKCRvcEV4cHIpICsgJywgbGltaXQ6ICcgKyAoJHNjaGVtYVZhbHVlKSArICcsIGV4Y2x1c2l2ZTogJyArICgkZXhjbHVzaXZlKSArICcgfSAnO1xuICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgYmUgJyArICgkb3BTdHIpICsgJyAnO1xuICAgICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgICAgb3V0ICs9ICdcXCcgKyAnICsgKCRzY2hlbWFWYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJycgKyAoJHNjaGVtYVZhbHVlKSArICdcXCcnO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICBvdXQgKz0gJyAsIHNjaGVtYTogICc7XG4gICAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgICBvdXQgKz0gJ3ZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcnICsgKCRzY2hlbWEpO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgICAgICAgICAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSAnO1xuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHt9ICc7XG4gIH1cbiAgdmFyIF9fZXJyID0gb3V0O1xuICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChpdC5hc3luYykge1xuICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihbJyArIChfX2VycikgKyAnXSk7ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgfVxuICBvdXQgKz0gJyB9ICc7XG4gIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgb3V0ICs9ICcgZWxzZSB7ICc7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2VuZXJhdGVfX2xpbWl0SXRlbXMoaXQsICRrZXl3b3JkLCAkcnVsZVR5cGUpIHtcbiAgdmFyIG91dCA9ICcgJztcbiAgdmFyICRsdmwgPSBpdC5sZXZlbDtcbiAgdmFyICRkYXRhTHZsID0gaXQuZGF0YUxldmVsO1xuICB2YXIgJHNjaGVtYSA9IGl0LnNjaGVtYVska2V5d29yZF07XG4gIHZhciAkc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyBpdC51dGlsLmdldFByb3BlcnR5KCRrZXl3b3JkKTtcbiAgdmFyICRlcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvJyArICRrZXl3b3JkO1xuICB2YXIgJGJyZWFrT25FcnJvciA9ICFpdC5vcHRzLmFsbEVycm9ycztcbiAgdmFyICRlcnJvcktleXdvcmQ7XG4gIHZhciAkZGF0YSA9ICdkYXRhJyArICgkZGF0YUx2bCB8fCAnJyk7XG4gIHZhciAkaXNEYXRhID0gaXQub3B0cy4kZGF0YSAmJiAkc2NoZW1hICYmICRzY2hlbWEuJGRhdGEsXG4gICAgJHNjaGVtYVZhbHVlO1xuICBpZiAoJGlzRGF0YSkge1xuICAgIG91dCArPSAnIHZhciBzY2hlbWEnICsgKCRsdmwpICsgJyA9ICcgKyAoaXQudXRpbC5nZXREYXRhKCRzY2hlbWEuJGRhdGEsICRkYXRhTHZsLCBpdC5kYXRhUGF0aEFycikpICsgJzsgJztcbiAgICAkc2NoZW1hVmFsdWUgPSAnc2NoZW1hJyArICRsdmw7XG4gIH0gZWxzZSB7XG4gICAgJHNjaGVtYVZhbHVlID0gJHNjaGVtYTtcbiAgfVxuICBpZiAoISgkaXNEYXRhIHx8IHR5cGVvZiAkc2NoZW1hID09ICdudW1iZXInKSkge1xuICAgIHRocm93IG5ldyBFcnJvcigka2V5d29yZCArICcgbXVzdCBiZSBudW1iZXInKTtcbiAgfVxuICB2YXIgJG9wID0gJGtleXdvcmQgPT0gJ21heEl0ZW1zJyA/ICc+JyA6ICc8JztcbiAgb3V0ICs9ICdpZiAoICc7XG4gIGlmICgkaXNEYXRhKSB7XG4gICAgb3V0ICs9ICcgKCcgKyAoJHNjaGVtYVZhbHVlKSArICcgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgJyArICgkc2NoZW1hVmFsdWUpICsgJyAhPSBcXCdudW1iZXJcXCcpIHx8ICc7XG4gIH1cbiAgb3V0ICs9ICcgJyArICgkZGF0YSkgKyAnLmxlbmd0aCAnICsgKCRvcCkgKyAnICcgKyAoJHNjaGVtYVZhbHVlKSArICcpIHsgJztcbiAgdmFyICRlcnJvcktleXdvcmQgPSAka2V5d29yZDtcbiAgdmFyICQkb3V0U3RhY2sgPSAkJG91dFN0YWNrIHx8IFtdO1xuICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgb3V0ID0gJyc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCRlcnJvcktleXdvcmQgfHwgJ19saW1pdEl0ZW1zJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBsaW1pdDogJyArICgkc2NoZW1hVmFsdWUpICsgJyB9ICc7XG4gICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBOT1QgaGF2ZSAnO1xuICAgICAgaWYgKCRrZXl3b3JkID09ICdtYXhJdGVtcycpIHtcbiAgICAgICAgb3V0ICs9ICdtb3JlJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnZmV3ZXInO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgdGhhbiAnO1xuICAgICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgICAgb3V0ICs9ICdcXCcgKyAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICsgXFwnJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnJyArICgkc2NoZW1hKTtcbiAgICAgIH1cbiAgICAgIG91dCArPSAnIGl0ZW1zXFwnICc7XG4gICAgfVxuICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgIG91dCArPSAnICwgc2NoZW1hOiAgJztcbiAgICAgIGlmICgkaXNEYXRhKSB7XG4gICAgICAgIG91dCArPSAndmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJycgKyAoJHNjaGVtYSk7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyAgICAgICAgICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyB9ICc7XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcge30gJztcbiAgfVxuICB2YXIgX19lcnIgPSBvdXQ7XG4gIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICB9XG4gIG91dCArPSAnfSAnO1xuICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgIG91dCArPSAnIGVsc2UgeyAnO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX19saW1pdExlbmd0aChpdCwgJGtleXdvcmQsICRydWxlVHlwZSkge1xuICB2YXIgb3V0ID0gJyAnO1xuICB2YXIgJGx2bCA9IGl0LmxldmVsO1xuICB2YXIgJGRhdGFMdmwgPSBpdC5kYXRhTGV2ZWw7XG4gIHZhciAkc2NoZW1hID0gaXQuc2NoZW1hWyRrZXl3b3JkXTtcbiAgdmFyICRzY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArIGl0LnV0aWwuZ2V0UHJvcGVydHkoJGtleXdvcmQpO1xuICB2YXIgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGtleXdvcmQ7XG4gIHZhciAkYnJlYWtPbkVycm9yID0gIWl0Lm9wdHMuYWxsRXJyb3JzO1xuICB2YXIgJGVycm9yS2V5d29yZDtcbiAgdmFyICRkYXRhID0gJ2RhdGEnICsgKCRkYXRhTHZsIHx8ICcnKTtcbiAgdmFyICRpc0RhdGEgPSBpdC5vcHRzLiRkYXRhICYmICRzY2hlbWEgJiYgJHNjaGVtYS4kZGF0YSxcbiAgICAkc2NoZW1hVmFsdWU7XG4gIGlmICgkaXNEYXRhKSB7XG4gICAgb3V0ICs9ICcgdmFyIHNjaGVtYScgKyAoJGx2bCkgKyAnID0gJyArIChpdC51dGlsLmdldERhdGEoJHNjaGVtYS4kZGF0YSwgJGRhdGFMdmwsIGl0LmRhdGFQYXRoQXJyKSkgKyAnOyAnO1xuICAgICRzY2hlbWFWYWx1ZSA9ICdzY2hlbWEnICsgJGx2bDtcbiAgfSBlbHNlIHtcbiAgICAkc2NoZW1hVmFsdWUgPSAkc2NoZW1hO1xuICB9XG4gIGlmICghKCRpc0RhdGEgfHwgdHlwZW9mICRzY2hlbWEgPT0gJ251bWJlcicpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCRrZXl3b3JkICsgJyBtdXN0IGJlIG51bWJlcicpO1xuICB9XG4gIHZhciAkb3AgPSAka2V5d29yZCA9PSAnbWF4TGVuZ3RoJyA/ICc+JyA6ICc8JztcbiAgb3V0ICs9ICdpZiAoICc7XG4gIGlmICgkaXNEYXRhKSB7XG4gICAgb3V0ICs9ICcgKCcgKyAoJHNjaGVtYVZhbHVlKSArICcgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgJyArICgkc2NoZW1hVmFsdWUpICsgJyAhPSBcXCdudW1iZXJcXCcpIHx8ICc7XG4gIH1cbiAgaWYgKGl0Lm9wdHMudW5pY29kZSA9PT0gZmFsc2UpIHtcbiAgICBvdXQgKz0gJyAnICsgKCRkYXRhKSArICcubGVuZ3RoICc7XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcgdWNzMmxlbmd0aCgnICsgKCRkYXRhKSArICcpICc7XG4gIH1cbiAgb3V0ICs9ICcgJyArICgkb3ApICsgJyAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnKSB7ICc7XG4gIHZhciAkZXJyb3JLZXl3b3JkID0gJGtleXdvcmQ7XG4gIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgkZXJyb3JLZXl3b3JkIHx8ICdfbGltaXRMZW5ndGgnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IGxpbWl0OiAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnIH0gJztcbiAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgIG91dCArPSAnICwgbWVzc2FnZTogXFwnc2hvdWxkIE5PVCBiZSAnO1xuICAgICAgaWYgKCRrZXl3b3JkID09ICdtYXhMZW5ndGgnKSB7XG4gICAgICAgIG91dCArPSAnbG9uZ2VyJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnc2hvcnRlcic7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyB0aGFuICc7XG4gICAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgICBvdXQgKz0gJ1xcJyArICcgKyAoJHNjaGVtYVZhbHVlKSArICcgKyBcXCcnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcnICsgKCRzY2hlbWEpO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgY2hhcmFjdGVyc1xcJyAnO1xuICAgIH1cbiAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICBvdXQgKz0gJyAsIHNjaGVtYTogICc7XG4gICAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgICBvdXQgKz0gJ3ZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcnICsgKCRzY2hlbWEpO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgICAgICAgICAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSAnO1xuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHt9ICc7XG4gIH1cbiAgdmFyIF9fZXJyID0gb3V0O1xuICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChpdC5hc3luYykge1xuICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihbJyArIChfX2VycikgKyAnXSk7ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgfVxuICBvdXQgKz0gJ30gJztcbiAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICBvdXQgKz0gJyBlbHNlIHsgJztcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZW5lcmF0ZV9fbGltaXRQcm9wZXJ0aWVzKGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZXJyb3JLZXl3b3JkO1xuICB2YXIgJGRhdGEgPSAnZGF0YScgKyAoJGRhdGFMdmwgfHwgJycpO1xuICB2YXIgJGlzRGF0YSA9IGl0Lm9wdHMuJGRhdGEgJiYgJHNjaGVtYSAmJiAkc2NoZW1hLiRkYXRhLFxuICAgICRzY2hlbWFWYWx1ZTtcbiAgaWYgKCRpc0RhdGEpIHtcbiAgICBvdXQgKz0gJyB2YXIgc2NoZW1hJyArICgkbHZsKSArICcgPSAnICsgKGl0LnV0aWwuZ2V0RGF0YSgkc2NoZW1hLiRkYXRhLCAkZGF0YUx2bCwgaXQuZGF0YVBhdGhBcnIpKSArICc7ICc7XG4gICAgJHNjaGVtYVZhbHVlID0gJ3NjaGVtYScgKyAkbHZsO1xuICB9IGVsc2Uge1xuICAgICRzY2hlbWFWYWx1ZSA9ICRzY2hlbWE7XG4gIH1cbiAgaWYgKCEoJGlzRGF0YSB8fCB0eXBlb2YgJHNjaGVtYSA9PSAnbnVtYmVyJykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJGtleXdvcmQgKyAnIG11c3QgYmUgbnVtYmVyJyk7XG4gIH1cbiAgdmFyICRvcCA9ICRrZXl3b3JkID09ICdtYXhQcm9wZXJ0aWVzJyA/ICc+JyA6ICc8JztcbiAgb3V0ICs9ICdpZiAoICc7XG4gIGlmICgkaXNEYXRhKSB7XG4gICAgb3V0ICs9ICcgKCcgKyAoJHNjaGVtYVZhbHVlKSArICcgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgJyArICgkc2NoZW1hVmFsdWUpICsgJyAhPSBcXCdudW1iZXJcXCcpIHx8ICc7XG4gIH1cbiAgb3V0ICs9ICcgT2JqZWN0LmtleXMoJyArICgkZGF0YSkgKyAnKS5sZW5ndGggJyArICgkb3ApICsgJyAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnKSB7ICc7XG4gIHZhciAkZXJyb3JLZXl3b3JkID0gJGtleXdvcmQ7XG4gIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgkZXJyb3JLZXl3b3JkIHx8ICdfbGltaXRQcm9wZXJ0aWVzJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBsaW1pdDogJyArICgkc2NoZW1hVmFsdWUpICsgJyB9ICc7XG4gICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBOT1QgaGF2ZSAnO1xuICAgICAgaWYgKCRrZXl3b3JkID09ICdtYXhQcm9wZXJ0aWVzJykge1xuICAgICAgICBvdXQgKz0gJ21vcmUnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICdmZXdlcic7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyB0aGFuICc7XG4gICAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgICBvdXQgKz0gJ1xcJyArICcgKyAoJHNjaGVtYVZhbHVlKSArICcgKyBcXCcnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcnICsgKCRzY2hlbWEpO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgcHJvcGVydGllc1xcJyAnO1xuICAgIH1cbiAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICBvdXQgKz0gJyAsIHNjaGVtYTogICc7XG4gICAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgICBvdXQgKz0gJ3ZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcnICsgKCRzY2hlbWEpO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgICAgICAgICAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSAnO1xuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHt9ICc7XG4gIH1cbiAgdmFyIF9fZXJyID0gb3V0O1xuICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChpdC5hc3luYykge1xuICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihbJyArIChfX2VycikgKyAnXSk7ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgfVxuICBvdXQgKz0gJ30gJztcbiAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICBvdXQgKz0gJyBlbHNlIHsgJztcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZW5lcmF0ZV9tdWx0aXBsZU9mKGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZGF0YSA9ICdkYXRhJyArICgkZGF0YUx2bCB8fCAnJyk7XG4gIHZhciAkaXNEYXRhID0gaXQub3B0cy4kZGF0YSAmJiAkc2NoZW1hICYmICRzY2hlbWEuJGRhdGEsXG4gICAgJHNjaGVtYVZhbHVlO1xuICBpZiAoJGlzRGF0YSkge1xuICAgIG91dCArPSAnIHZhciBzY2hlbWEnICsgKCRsdmwpICsgJyA9ICcgKyAoaXQudXRpbC5nZXREYXRhKCRzY2hlbWEuJGRhdGEsICRkYXRhTHZsLCBpdC5kYXRhUGF0aEFycikpICsgJzsgJztcbiAgICAkc2NoZW1hVmFsdWUgPSAnc2NoZW1hJyArICRsdmw7XG4gIH0gZWxzZSB7XG4gICAgJHNjaGVtYVZhbHVlID0gJHNjaGVtYTtcbiAgfVxuICBpZiAoISgkaXNEYXRhIHx8IHR5cGVvZiAkc2NoZW1hID09ICdudW1iZXInKSkge1xuICAgIHRocm93IG5ldyBFcnJvcigka2V5d29yZCArICcgbXVzdCBiZSBudW1iZXInKTtcbiAgfVxuICBvdXQgKz0gJ3ZhciBkaXZpc2lvbicgKyAoJGx2bCkgKyAnO2lmICgnO1xuICBpZiAoJGlzRGF0YSkge1xuICAgIG91dCArPSAnICcgKyAoJHNjaGVtYVZhbHVlKSArICcgIT09IHVuZGVmaW5lZCAmJiAoIHR5cGVvZiAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICE9IFxcJ251bWJlclxcJyB8fCAnO1xuICB9XG4gIG91dCArPSAnIChkaXZpc2lvbicgKyAoJGx2bCkgKyAnID0gJyArICgkZGF0YSkgKyAnIC8gJyArICgkc2NoZW1hVmFsdWUpICsgJywgJztcbiAgaWYgKGl0Lm9wdHMubXVsdGlwbGVPZlByZWNpc2lvbikge1xuICAgIG91dCArPSAnIE1hdGguYWJzKE1hdGgucm91bmQoZGl2aXNpb24nICsgKCRsdmwpICsgJykgLSBkaXZpc2lvbicgKyAoJGx2bCkgKyAnKSA+IDFlLScgKyAoaXQub3B0cy5tdWx0aXBsZU9mUHJlY2lzaW9uKSArICcgJztcbiAgfSBlbHNlIHtcbiAgICBvdXQgKz0gJyBkaXZpc2lvbicgKyAoJGx2bCkgKyAnICE9PSBwYXJzZUludChkaXZpc2lvbicgKyAoJGx2bCkgKyAnKSAnO1xuICB9XG4gIG91dCArPSAnICkgJztcbiAgaWYgKCRpc0RhdGEpIHtcbiAgICBvdXQgKz0gJyAgKSAgJztcbiAgfVxuICBvdXQgKz0gJyApIHsgICAnO1xuICB2YXIgJCRvdXRTdGFjayA9ICQkb3V0U3RhY2sgfHwgW107XG4gICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICBvdXQgPSAnJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ211bHRpcGxlT2YnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IG11bHRpcGxlT2Y6ICcgKyAoJHNjaGVtYVZhbHVlKSArICcgfSAnO1xuICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgYmUgbXVsdGlwbGUgb2YgJztcbiAgICAgIGlmICgkaXNEYXRhKSB7XG4gICAgICAgIG91dCArPSAnXFwnICsgJyArICgkc2NoZW1hVmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcnICsgKCRzY2hlbWFWYWx1ZSkgKyAnXFwnJztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6ICAnO1xuICAgICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgICAgb3V0ICs9ICd2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnJyArICgkc2NoZW1hKTtcbiAgICAgIH1cbiAgICAgIG91dCArPSAnICAgICAgICAgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgfVxuICAgIG91dCArPSAnIH0gJztcbiAgfSBlbHNlIHtcbiAgICBvdXQgKz0gJyB7fSAnO1xuICB9XG4gIHZhciBfX2VyciA9IG91dDtcbiAgb3V0ID0gJCRvdXRTdGFjay5wb3AoKTtcbiAgaWYgKCFpdC5jb21wb3NpdGVSdWxlICYmICRicmVha09uRXJyb3IpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgIG91dCArPSAnIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoWycgKyAoX19lcnIpICsgJ10pOyAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSBbJyArIChfX2VycikgKyAnXTsgcmV0dXJuIGZhbHNlOyAnO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBvdXQgKz0gJyB2YXIgZXJyID0gJyArIChfX2VycikgKyAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gIH1cbiAgb3V0ICs9ICd9ICc7XG4gIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgb3V0ICs9ICcgZWxzZSB7ICc7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2VuZXJhdGVfbm90KGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZGF0YSA9ICdkYXRhJyArICgkZGF0YUx2bCB8fCAnJyk7XG4gIHZhciAkZXJycyA9ICdlcnJzX18nICsgJGx2bDtcbiAgdmFyICRpdCA9IGl0LnV0aWwuY29weShpdCk7XG4gICRpdC5sZXZlbCsrO1xuICB2YXIgJG5leHRWYWxpZCA9ICd2YWxpZCcgKyAkaXQubGV2ZWw7XG4gIGlmICgoaXQub3B0cy5zdHJpY3RLZXl3b3JkcyA/ICh0eXBlb2YgJHNjaGVtYSA9PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cygkc2NoZW1hKS5sZW5ndGggPiAwKSB8fCAkc2NoZW1hID09PSBmYWxzZSA6IGl0LnV0aWwuc2NoZW1hSGFzUnVsZXMoJHNjaGVtYSwgaXQuUlVMRVMuYWxsKSkpIHtcbiAgICAkaXQuc2NoZW1hID0gJHNjaGVtYTtcbiAgICAkaXQuc2NoZW1hUGF0aCA9ICRzY2hlbWFQYXRoO1xuICAgICRpdC5lcnJTY2hlbWFQYXRoID0gJGVyclNjaGVtYVBhdGg7XG4gICAgb3V0ICs9ICcgdmFyICcgKyAoJGVycnMpICsgJyA9IGVycm9yczsgICc7XG4gICAgdmFyICR3YXNDb21wb3NpdGUgPSBpdC5jb21wb3NpdGVSdWxlO1xuICAgIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9IHRydWU7XG4gICAgJGl0LmNyZWF0ZUVycm9ycyA9IGZhbHNlO1xuICAgIHZhciAkYWxsRXJyb3JzT3B0aW9uO1xuICAgIGlmICgkaXQub3B0cy5hbGxFcnJvcnMpIHtcbiAgICAgICRhbGxFcnJvcnNPcHRpb24gPSAkaXQub3B0cy5hbGxFcnJvcnM7XG4gICAgICAkaXQub3B0cy5hbGxFcnJvcnMgPSBmYWxzZTtcbiAgICB9XG4gICAgb3V0ICs9ICcgJyArIChpdC52YWxpZGF0ZSgkaXQpKSArICcgJztcbiAgICAkaXQuY3JlYXRlRXJyb3JzID0gdHJ1ZTtcbiAgICBpZiAoJGFsbEVycm9yc09wdGlvbikgJGl0Lm9wdHMuYWxsRXJyb3JzID0gJGFsbEVycm9yc09wdGlvbjtcbiAgICBpdC5jb21wb3NpdGVSdWxlID0gJGl0LmNvbXBvc2l0ZVJ1bGUgPSAkd2FzQ29tcG9zaXRlO1xuICAgIG91dCArPSAnIGlmICgnICsgKCRuZXh0VmFsaWQpICsgJykgeyAgICc7XG4gICAgdmFyICQkb3V0U3RhY2sgPSAkJG91dFN0YWNrIHx8IFtdO1xuICAgICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICAgIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ25vdCcpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHt9ICc7XG4gICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgTk9UIGJlIHZhbGlkXFwnICc7XG4gICAgICB9XG4gICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgIG91dCArPSAnICwgc2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICcgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyB9ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHt9ICc7XG4gICAgfVxuICAgIHZhciBfX2VyciA9IG91dDtcbiAgICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICAgIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChpdC5hc3luYykge1xuICAgICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSBlbHNlIHsgIGVycm9ycyA9ICcgKyAoJGVycnMpICsgJzsgaWYgKHZFcnJvcnMgIT09IG51bGwpIHsgaWYgKCcgKyAoJGVycnMpICsgJykgdkVycm9ycy5sZW5ndGggPSAnICsgKCRlcnJzKSArICc7IGVsc2UgdkVycm9ycyA9IG51bGw7IH0gJztcbiAgICBpZiAoaXQub3B0cy5hbGxFcnJvcnMpIHtcbiAgICAgIG91dCArPSAnIH0gJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcgIHZhciBlcnIgPSAgICc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgnbm90JykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczoge30gJztcbiAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBOT1QgYmUgdmFsaWRcXCcgJztcbiAgICAgIH1cbiAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJyAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnIH0gJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcge30gJztcbiAgICB9XG4gICAgb3V0ICs9ICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgb3V0ICs9ICcgaWYgKGZhbHNlKSB7ICc7XG4gICAgfVxuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX29uZU9mKGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZGF0YSA9ICdkYXRhJyArICgkZGF0YUx2bCB8fCAnJyk7XG4gIHZhciAkdmFsaWQgPSAndmFsaWQnICsgJGx2bDtcbiAgdmFyICRlcnJzID0gJ2VycnNfXycgKyAkbHZsO1xuICB2YXIgJGl0ID0gaXQudXRpbC5jb3B5KGl0KTtcbiAgdmFyICRjbG9zaW5nQnJhY2VzID0gJyc7XG4gICRpdC5sZXZlbCsrO1xuICB2YXIgJG5leHRWYWxpZCA9ICd2YWxpZCcgKyAkaXQubGV2ZWw7XG4gIHZhciAkY3VycmVudEJhc2VJZCA9ICRpdC5iYXNlSWQsXG4gICAgJHByZXZWYWxpZCA9ICdwcmV2VmFsaWQnICsgJGx2bCxcbiAgICAkcGFzc2luZ1NjaGVtYXMgPSAncGFzc2luZ1NjaGVtYXMnICsgJGx2bDtcbiAgb3V0ICs9ICd2YXIgJyArICgkZXJycykgKyAnID0gZXJyb3JzICwgJyArICgkcHJldlZhbGlkKSArICcgPSBmYWxzZSAsICcgKyAoJHZhbGlkKSArICcgPSBmYWxzZSAsICcgKyAoJHBhc3NpbmdTY2hlbWFzKSArICcgPSBudWxsOyAnO1xuICB2YXIgJHdhc0NvbXBvc2l0ZSA9IGl0LmNvbXBvc2l0ZVJ1bGU7XG4gIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9IHRydWU7XG4gIHZhciBhcnIxID0gJHNjaGVtYTtcbiAgaWYgKGFycjEpIHtcbiAgICB2YXIgJHNjaCwgJGkgPSAtMSxcbiAgICAgIGwxID0gYXJyMS5sZW5ndGggLSAxO1xuICAgIHdoaWxlICgkaSA8IGwxKSB7XG4gICAgICAkc2NoID0gYXJyMVskaSArPSAxXTtcbiAgICAgIGlmICgoaXQub3B0cy5zdHJpY3RLZXl3b3JkcyA/ICh0eXBlb2YgJHNjaCA9PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cygkc2NoKS5sZW5ndGggPiAwKSB8fCAkc2NoID09PSBmYWxzZSA6IGl0LnV0aWwuc2NoZW1hSGFzUnVsZXMoJHNjaCwgaXQuUlVMRVMuYWxsKSkpIHtcbiAgICAgICAgJGl0LnNjaGVtYSA9ICRzY2g7XG4gICAgICAgICRpdC5zY2hlbWFQYXRoID0gJHNjaGVtYVBhdGggKyAnWycgKyAkaSArICddJztcbiAgICAgICAgJGl0LmVyclNjaGVtYVBhdGggPSAkZXJyU2NoZW1hUGF0aCArICcvJyArICRpO1xuICAgICAgICBvdXQgKz0gJyAgJyArIChpdC52YWxpZGF0ZSgkaXQpKSArICcgJztcbiAgICAgICAgJGl0LmJhc2VJZCA9ICRjdXJyZW50QmFzZUlkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJG5leHRWYWxpZCkgKyAnID0gdHJ1ZTsgJztcbiAgICAgIH1cbiAgICAgIGlmICgkaSkge1xuICAgICAgICBvdXQgKz0gJyBpZiAoJyArICgkbmV4dFZhbGlkKSArICcgJiYgJyArICgkcHJldlZhbGlkKSArICcpIHsgJyArICgkdmFsaWQpICsgJyA9IGZhbHNlOyAnICsgKCRwYXNzaW5nU2NoZW1hcykgKyAnID0gWycgKyAoJHBhc3NpbmdTY2hlbWFzKSArICcsICcgKyAoJGkpICsgJ107IH0gZWxzZSB7ICc7XG4gICAgICAgICRjbG9zaW5nQnJhY2VzICs9ICd9JztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnIGlmICgnICsgKCRuZXh0VmFsaWQpICsgJykgeyAnICsgKCR2YWxpZCkgKyAnID0gJyArICgkcHJldlZhbGlkKSArICcgPSB0cnVlOyAnICsgKCRwYXNzaW5nU2NoZW1hcykgKyAnID0gJyArICgkaSkgKyAnOyB9JztcbiAgICB9XG4gIH1cbiAgaXQuY29tcG9zaXRlUnVsZSA9ICRpdC5jb21wb3NpdGVSdWxlID0gJHdhc0NvbXBvc2l0ZTtcbiAgb3V0ICs9ICcnICsgKCRjbG9zaW5nQnJhY2VzKSArICdpZiAoIScgKyAoJHZhbGlkKSArICcpIHsgICB2YXIgZXJyID0gICAnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgnb25lT2YnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IHBhc3NpbmdTY2hlbWFzOiAnICsgKCRwYXNzaW5nU2NoZW1hcykgKyAnIH0gJztcbiAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgIG91dCArPSAnICwgbWVzc2FnZTogXFwnc2hvdWxkIG1hdGNoIGV4YWN0bHkgb25lIHNjaGVtYSBpbiBvbmVPZlxcJyAnO1xuICAgIH1cbiAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICBvdXQgKz0gJyAsIHNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyB9ICc7XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcge30gJztcbiAgfVxuICBvdXQgKz0gJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChpdC5hc3luYykge1xuICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcih2RXJyb3JzKTsgJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gdkVycm9yczsgcmV0dXJuIGZhbHNlOyAnO1xuICAgIH1cbiAgfVxuICBvdXQgKz0gJ30gZWxzZSB7ICBlcnJvcnMgPSAnICsgKCRlcnJzKSArICc7IGlmICh2RXJyb3JzICE9PSBudWxsKSB7IGlmICgnICsgKCRlcnJzKSArICcpIHZFcnJvcnMubGVuZ3RoID0gJyArICgkZXJycykgKyAnOyBlbHNlIHZFcnJvcnMgPSBudWxsOyB9JztcbiAgaWYgKGl0Lm9wdHMuYWxsRXJyb3JzKSB7XG4gICAgb3V0ICs9ICcgfSAnO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX3BhdHRlcm4oaXQsICRrZXl3b3JkLCAkcnVsZVR5cGUpIHtcbiAgdmFyIG91dCA9ICcgJztcbiAgdmFyICRsdmwgPSBpdC5sZXZlbDtcbiAgdmFyICRkYXRhTHZsID0gaXQuZGF0YUxldmVsO1xuICB2YXIgJHNjaGVtYSA9IGl0LnNjaGVtYVska2V5d29yZF07XG4gIHZhciAkc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyBpdC51dGlsLmdldFByb3BlcnR5KCRrZXl3b3JkKTtcbiAgdmFyICRlcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvJyArICRrZXl3b3JkO1xuICB2YXIgJGJyZWFrT25FcnJvciA9ICFpdC5vcHRzLmFsbEVycm9ycztcbiAgdmFyICRkYXRhID0gJ2RhdGEnICsgKCRkYXRhTHZsIHx8ICcnKTtcbiAgdmFyICRpc0RhdGEgPSBpdC5vcHRzLiRkYXRhICYmICRzY2hlbWEgJiYgJHNjaGVtYS4kZGF0YSxcbiAgICAkc2NoZW1hVmFsdWU7XG4gIGlmICgkaXNEYXRhKSB7XG4gICAgb3V0ICs9ICcgdmFyIHNjaGVtYScgKyAoJGx2bCkgKyAnID0gJyArIChpdC51dGlsLmdldERhdGEoJHNjaGVtYS4kZGF0YSwgJGRhdGFMdmwsIGl0LmRhdGFQYXRoQXJyKSkgKyAnOyAnO1xuICAgICRzY2hlbWFWYWx1ZSA9ICdzY2hlbWEnICsgJGx2bDtcbiAgfSBlbHNlIHtcbiAgICAkc2NoZW1hVmFsdWUgPSAkc2NoZW1hO1xuICB9XG4gIHZhciAkcmVnZXhwID0gJGlzRGF0YSA/ICcobmV3IFJlZ0V4cCgnICsgJHNjaGVtYVZhbHVlICsgJykpJyA6IGl0LnVzZVBhdHRlcm4oJHNjaGVtYSk7XG4gIG91dCArPSAnaWYgKCAnO1xuICBpZiAoJGlzRGF0YSkge1xuICAgIG91dCArPSAnICgnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mICcgKyAoJHNjaGVtYVZhbHVlKSArICcgIT0gXFwnc3RyaW5nXFwnKSB8fCAnO1xuICB9XG4gIG91dCArPSAnICEnICsgKCRyZWdleHApICsgJy50ZXN0KCcgKyAoJGRhdGEpICsgJykgKSB7ICAgJztcbiAgdmFyICQkb3V0U3RhY2sgPSAkJG91dFN0YWNrIHx8IFtdO1xuICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgb3V0ID0gJyc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCdwYXR0ZXJuJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBwYXR0ZXJuOiAgJztcbiAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgb3V0ICs9ICcnICsgKCRzY2hlbWFWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRzY2hlbWEpKTtcbiAgICB9XG4gICAgb3V0ICs9ICcgIH0gJztcbiAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgIG91dCArPSAnICwgbWVzc2FnZTogXFwnc2hvdWxkIG1hdGNoIHBhdHRlcm4gXCInO1xuICAgICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgICAgb3V0ICs9ICdcXCcgKyAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICsgXFwnJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnJyArIChpdC51dGlsLmVzY2FwZVF1b3Rlcygkc2NoZW1hKSk7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJ1wiXFwnICc7XG4gICAgfVxuICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgIG91dCArPSAnICwgc2NoZW1hOiAgJztcbiAgICAgIGlmICgkaXNEYXRhKSB7XG4gICAgICAgIG91dCArPSAndmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJycgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkc2NoZW1hKSk7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyAgICAgICAgICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyB9ICc7XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcge30gJztcbiAgfVxuICB2YXIgX19lcnIgPSBvdXQ7XG4gIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICB9XG4gIG91dCArPSAnfSAnO1xuICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgIG91dCArPSAnIGVsc2UgeyAnO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX3Byb3BlcnRpZXMoaXQsICRrZXl3b3JkLCAkcnVsZVR5cGUpIHtcbiAgdmFyIG91dCA9ICcgJztcbiAgdmFyICRsdmwgPSBpdC5sZXZlbDtcbiAgdmFyICRkYXRhTHZsID0gaXQuZGF0YUxldmVsO1xuICB2YXIgJHNjaGVtYSA9IGl0LnNjaGVtYVska2V5d29yZF07XG4gIHZhciAkc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyBpdC51dGlsLmdldFByb3BlcnR5KCRrZXl3b3JkKTtcbiAgdmFyICRlcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvJyArICRrZXl3b3JkO1xuICB2YXIgJGJyZWFrT25FcnJvciA9ICFpdC5vcHRzLmFsbEVycm9ycztcbiAgdmFyICRkYXRhID0gJ2RhdGEnICsgKCRkYXRhTHZsIHx8ICcnKTtcbiAgdmFyICRlcnJzID0gJ2VycnNfXycgKyAkbHZsO1xuICB2YXIgJGl0ID0gaXQudXRpbC5jb3B5KGl0KTtcbiAgdmFyICRjbG9zaW5nQnJhY2VzID0gJyc7XG4gICRpdC5sZXZlbCsrO1xuICB2YXIgJG5leHRWYWxpZCA9ICd2YWxpZCcgKyAkaXQubGV2ZWw7XG4gIHZhciAka2V5ID0gJ2tleScgKyAkbHZsLFxuICAgICRpZHggPSAnaWR4JyArICRsdmwsXG4gICAgJGRhdGFOeHQgPSAkaXQuZGF0YUxldmVsID0gaXQuZGF0YUxldmVsICsgMSxcbiAgICAkbmV4dERhdGEgPSAnZGF0YScgKyAkZGF0YU54dCxcbiAgICAkZGF0YVByb3BlcnRpZXMgPSAnZGF0YVByb3BlcnRpZXMnICsgJGx2bDtcbiAgdmFyICRzY2hlbWFLZXlzID0gT2JqZWN0LmtleXMoJHNjaGVtYSB8fCB7fSkuZmlsdGVyKG5vdFByb3RvKSxcbiAgICAkcFByb3BlcnRpZXMgPSBpdC5zY2hlbWEucGF0dGVyblByb3BlcnRpZXMgfHwge30sXG4gICAgJHBQcm9wZXJ0eUtleXMgPSBPYmplY3Qua2V5cygkcFByb3BlcnRpZXMpLmZpbHRlcihub3RQcm90byksXG4gICAgJGFQcm9wZXJ0aWVzID0gaXQuc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzLFxuICAgICRzb21lUHJvcGVydGllcyA9ICRzY2hlbWFLZXlzLmxlbmd0aCB8fCAkcFByb3BlcnR5S2V5cy5sZW5ndGgsXG4gICAgJG5vQWRkaXRpb25hbCA9ICRhUHJvcGVydGllcyA9PT0gZmFsc2UsXG4gICAgJGFkZGl0aW9uYWxJc1NjaGVtYSA9IHR5cGVvZiAkYVByb3BlcnRpZXMgPT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMoJGFQcm9wZXJ0aWVzKS5sZW5ndGgsXG4gICAgJHJlbW92ZUFkZGl0aW9uYWwgPSBpdC5vcHRzLnJlbW92ZUFkZGl0aW9uYWwsXG4gICAgJGNoZWNrQWRkaXRpb25hbCA9ICRub0FkZGl0aW9uYWwgfHwgJGFkZGl0aW9uYWxJc1NjaGVtYSB8fCAkcmVtb3ZlQWRkaXRpb25hbCxcbiAgICAkb3duUHJvcGVydGllcyA9IGl0Lm9wdHMub3duUHJvcGVydGllcyxcbiAgICAkY3VycmVudEJhc2VJZCA9IGl0LmJhc2VJZDtcbiAgdmFyICRyZXF1aXJlZCA9IGl0LnNjaGVtYS5yZXF1aXJlZDtcbiAgaWYgKCRyZXF1aXJlZCAmJiAhKGl0Lm9wdHMuJGRhdGEgJiYgJHJlcXVpcmVkLiRkYXRhKSAmJiAkcmVxdWlyZWQubGVuZ3RoIDwgaXQub3B0cy5sb29wUmVxdWlyZWQpIHtcbiAgICB2YXIgJHJlcXVpcmVkSGFzaCA9IGl0LnV0aWwudG9IYXNoKCRyZXF1aXJlZCk7XG4gIH1cblxuICBmdW5jdGlvbiBub3RQcm90byhwKSB7XG4gICAgcmV0dXJuIHAgIT09ICdfX3Byb3RvX18nO1xuICB9XG4gIG91dCArPSAndmFyICcgKyAoJGVycnMpICsgJyA9IGVycm9yczt2YXIgJyArICgkbmV4dFZhbGlkKSArICcgPSB0cnVlOyc7XG4gIGlmICgkb3duUHJvcGVydGllcykge1xuICAgIG91dCArPSAnIHZhciAnICsgKCRkYXRhUHJvcGVydGllcykgKyAnID0gdW5kZWZpbmVkOyc7XG4gIH1cbiAgaWYgKCRjaGVja0FkZGl0aW9uYWwpIHtcbiAgICBpZiAoJG93blByb3BlcnRpZXMpIHtcbiAgICAgIG91dCArPSAnICcgKyAoJGRhdGFQcm9wZXJ0aWVzKSArICcgPSAnICsgKCRkYXRhUHJvcGVydGllcykgKyAnIHx8IE9iamVjdC5rZXlzKCcgKyAoJGRhdGEpICsgJyk7IGZvciAodmFyICcgKyAoJGlkeCkgKyAnPTA7ICcgKyAoJGlkeCkgKyAnPCcgKyAoJGRhdGFQcm9wZXJ0aWVzKSArICcubGVuZ3RoOyAnICsgKCRpZHgpICsgJysrKSB7IHZhciAnICsgKCRrZXkpICsgJyA9ICcgKyAoJGRhdGFQcm9wZXJ0aWVzKSArICdbJyArICgkaWR4KSArICddOyAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyBmb3IgKHZhciAnICsgKCRrZXkpICsgJyBpbiAnICsgKCRkYXRhKSArICcpIHsgJztcbiAgICB9XG4gICAgaWYgKCRzb21lUHJvcGVydGllcykge1xuICAgICAgb3V0ICs9ICcgdmFyIGlzQWRkaXRpb25hbCcgKyAoJGx2bCkgKyAnID0gIShmYWxzZSAnO1xuICAgICAgaWYgKCRzY2hlbWFLZXlzLmxlbmd0aCkge1xuICAgICAgICBpZiAoJHNjaGVtYUtleXMubGVuZ3RoID4gOCkge1xuICAgICAgICAgIG91dCArPSAnIHx8IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJy5oYXNPd25Qcm9wZXJ0eSgnICsgKCRrZXkpICsgJykgJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgYXJyMSA9ICRzY2hlbWFLZXlzO1xuICAgICAgICAgIGlmIChhcnIxKSB7XG4gICAgICAgICAgICB2YXIgJHByb3BlcnR5S2V5LCBpMSA9IC0xLFxuICAgICAgICAgICAgICBsMSA9IGFycjEubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHdoaWxlIChpMSA8IGwxKSB7XG4gICAgICAgICAgICAgICRwcm9wZXJ0eUtleSA9IGFycjFbaTEgKz0gMV07XG4gICAgICAgICAgICAgIG91dCArPSAnIHx8ICcgKyAoJGtleSkgKyAnID09ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkcHJvcGVydHlLZXkpKSArICcgJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICgkcFByb3BlcnR5S2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGFycjIgPSAkcFByb3BlcnR5S2V5cztcbiAgICAgICAgaWYgKGFycjIpIHtcbiAgICAgICAgICB2YXIgJHBQcm9wZXJ0eSwgJGkgPSAtMSxcbiAgICAgICAgICAgIGwyID0gYXJyMi5sZW5ndGggLSAxO1xuICAgICAgICAgIHdoaWxlICgkaSA8IGwyKSB7XG4gICAgICAgICAgICAkcFByb3BlcnR5ID0gYXJyMlskaSArPSAxXTtcbiAgICAgICAgICAgIG91dCArPSAnIHx8ICcgKyAoaXQudXNlUGF0dGVybigkcFByb3BlcnR5KSkgKyAnLnRlc3QoJyArICgka2V5KSArICcpICc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyApOyBpZiAoaXNBZGRpdGlvbmFsJyArICgkbHZsKSArICcpIHsgJztcbiAgICB9XG4gICAgaWYgKCRyZW1vdmVBZGRpdGlvbmFsID09ICdhbGwnKSB7XG4gICAgICBvdXQgKz0gJyBkZWxldGUgJyArICgkZGF0YSkgKyAnWycgKyAoJGtleSkgKyAnXTsgJztcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyICRjdXJyZW50RXJyb3JQYXRoID0gaXQuZXJyb3JQYXRoO1xuICAgICAgdmFyICRhZGRpdGlvbmFsUHJvcGVydHkgPSAnXFwnICsgJyArICRrZXkgKyAnICsgXFwnJztcbiAgICAgIGlmIChpdC5vcHRzLl9lcnJvckRhdGFQYXRoUHJvcGVydHkpIHtcbiAgICAgICAgaXQuZXJyb3JQYXRoID0gaXQudXRpbC5nZXRQYXRoRXhwcihpdC5lcnJvclBhdGgsICRrZXksIGl0Lm9wdHMuanNvblBvaW50ZXJzKTtcbiAgICAgIH1cbiAgICAgIGlmICgkbm9BZGRpdGlvbmFsKSB7XG4gICAgICAgIGlmICgkcmVtb3ZlQWRkaXRpb25hbCkge1xuICAgICAgICAgIG91dCArPSAnIGRlbGV0ZSAnICsgKCRkYXRhKSArICdbJyArICgka2V5KSArICddOyAnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dCArPSAnICcgKyAoJG5leHRWYWxpZCkgKyAnID0gZmFsc2U7ICc7XG4gICAgICAgICAgdmFyICRjdXJyRXJyU2NoZW1hUGF0aCA9ICRlcnJTY2hlbWFQYXRoO1xuICAgICAgICAgICRlcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvYWRkaXRpb25hbFByb3BlcnRpZXMnO1xuICAgICAgICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAgICAgICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgICAgICAgICBvdXQgPSAnJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCdhZGRpdGlvbmFsUHJvcGVydGllcycpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsgYWRkaXRpb25hbFByb3BlcnR5OiBcXCcnICsgKCRhZGRpdGlvbmFsUHJvcGVydHkpICsgJ1xcJyB9ICc7XG4gICAgICAgICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCcnO1xuICAgICAgICAgICAgICBpZiAoaXQub3B0cy5fZXJyb3JEYXRhUGF0aFByb3BlcnR5KSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9ICdpcyBhbiBpbnZhbGlkIGFkZGl0aW9uYWwgcHJvcGVydHknO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG91dCArPSAnc2hvdWxkIE5PVCBoYXZlIGFkZGl0aW9uYWwgcHJvcGVydGllcyc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgb3V0ICs9ICdcXCcgJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IGZhbHNlICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0ICs9ICcgfSAnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB7fSAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgX19lcnIgPSBvdXQ7XG4gICAgICAgICAgb3V0ID0gJCRvdXRTdGFjay5wb3AoKTtcbiAgICAgICAgICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihbJyArIChfX2VycikgKyAnXSk7ICc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSBbJyArIChfX2VycikgKyAnXTsgcmV0dXJuIGZhbHNlOyAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB2YXIgZXJyID0gJyArIChfX2VycikgKyAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gICAgICAgICAgfVxuICAgICAgICAgICRlcnJTY2hlbWFQYXRoID0gJGN1cnJFcnJTY2hlbWFQYXRoO1xuICAgICAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyBicmVhazsgJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoJGFkZGl0aW9uYWxJc1NjaGVtYSkge1xuICAgICAgICBpZiAoJHJlbW92ZUFkZGl0aW9uYWwgPT0gJ2ZhaWxpbmcnKSB7XG4gICAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJGVycnMpICsgJyA9IGVycm9yczsgICc7XG4gICAgICAgICAgdmFyICR3YXNDb21wb3NpdGUgPSBpdC5jb21wb3NpdGVSdWxlO1xuICAgICAgICAgIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9IHRydWU7XG4gICAgICAgICAgJGl0LnNjaGVtYSA9ICRhUHJvcGVydGllcztcbiAgICAgICAgICAkaXQuc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyAnLmFkZGl0aW9uYWxQcm9wZXJ0aWVzJztcbiAgICAgICAgICAkaXQuZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnL2FkZGl0aW9uYWxQcm9wZXJ0aWVzJztcbiAgICAgICAgICAkaXQuZXJyb3JQYXRoID0gaXQub3B0cy5fZXJyb3JEYXRhUGF0aFByb3BlcnR5ID8gaXQuZXJyb3JQYXRoIDogaXQudXRpbC5nZXRQYXRoRXhwcihpdC5lcnJvclBhdGgsICRrZXksIGl0Lm9wdHMuanNvblBvaW50ZXJzKTtcbiAgICAgICAgICB2YXIgJHBhc3NEYXRhID0gJGRhdGEgKyAnWycgKyAka2V5ICsgJ10nO1xuICAgICAgICAgICRpdC5kYXRhUGF0aEFyclskZGF0YU54dF0gPSAka2V5O1xuICAgICAgICAgIHZhciAkY29kZSA9IGl0LnZhbGlkYXRlKCRpdCk7XG4gICAgICAgICAgJGl0LmJhc2VJZCA9ICRjdXJyZW50QmFzZUlkO1xuICAgICAgICAgIGlmIChpdC51dGlsLnZhck9jY3VyZW5jZXMoJGNvZGUsICRuZXh0RGF0YSkgPCAyKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyAnICsgKGl0LnV0aWwudmFyUmVwbGFjZSgkY29kZSwgJG5leHREYXRhLCAkcGFzc0RhdGEpKSArICcgJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJG5leHREYXRhKSArICcgPSAnICsgKCRwYXNzRGF0YSkgKyAnOyAnICsgKCRjb2RlKSArICcgJztcbiAgICAgICAgICB9XG4gICAgICAgICAgb3V0ICs9ICcgaWYgKCEnICsgKCRuZXh0VmFsaWQpICsgJykgeyBlcnJvcnMgPSAnICsgKCRlcnJzKSArICc7IGlmICh2YWxpZGF0ZS5lcnJvcnMgIT09IG51bGwpIHsgaWYgKGVycm9ycykgdmFsaWRhdGUuZXJyb3JzLmxlbmd0aCA9IGVycm9yczsgZWxzZSB2YWxpZGF0ZS5lcnJvcnMgPSBudWxsOyB9IGRlbGV0ZSAnICsgKCRkYXRhKSArICdbJyArICgka2V5KSArICddOyB9ICAnO1xuICAgICAgICAgIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9ICR3YXNDb21wb3NpdGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGl0LnNjaGVtYSA9ICRhUHJvcGVydGllcztcbiAgICAgICAgICAkaXQuc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyAnLmFkZGl0aW9uYWxQcm9wZXJ0aWVzJztcbiAgICAgICAgICAkaXQuZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnL2FkZGl0aW9uYWxQcm9wZXJ0aWVzJztcbiAgICAgICAgICAkaXQuZXJyb3JQYXRoID0gaXQub3B0cy5fZXJyb3JEYXRhUGF0aFByb3BlcnR5ID8gaXQuZXJyb3JQYXRoIDogaXQudXRpbC5nZXRQYXRoRXhwcihpdC5lcnJvclBhdGgsICRrZXksIGl0Lm9wdHMuanNvblBvaW50ZXJzKTtcbiAgICAgICAgICB2YXIgJHBhc3NEYXRhID0gJGRhdGEgKyAnWycgKyAka2V5ICsgJ10nO1xuICAgICAgICAgICRpdC5kYXRhUGF0aEFyclskZGF0YU54dF0gPSAka2V5O1xuICAgICAgICAgIHZhciAkY29kZSA9IGl0LnZhbGlkYXRlKCRpdCk7XG4gICAgICAgICAgJGl0LmJhc2VJZCA9ICRjdXJyZW50QmFzZUlkO1xuICAgICAgICAgIGlmIChpdC51dGlsLnZhck9jY3VyZW5jZXMoJGNvZGUsICRuZXh0RGF0YSkgPCAyKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyAnICsgKGl0LnV0aWwudmFyUmVwbGFjZSgkY29kZSwgJG5leHREYXRhLCAkcGFzc0RhdGEpKSArICcgJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJG5leHREYXRhKSArICcgPSAnICsgKCRwYXNzRGF0YSkgKyAnOyAnICsgKCRjb2RlKSArICcgJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAgIG91dCArPSAnIGlmICghJyArICgkbmV4dFZhbGlkKSArICcpIGJyZWFrOyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaXQuZXJyb3JQYXRoID0gJGN1cnJlbnRFcnJvclBhdGg7XG4gICAgfVxuICAgIGlmICgkc29tZVByb3BlcnRpZXMpIHtcbiAgICAgIG91dCArPSAnIH0gJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSAgJztcbiAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoJG5leHRWYWxpZCkgKyAnKSB7ICc7XG4gICAgICAkY2xvc2luZ0JyYWNlcyArPSAnfSc7XG4gICAgfVxuICB9XG4gIHZhciAkdXNlRGVmYXVsdHMgPSBpdC5vcHRzLnVzZURlZmF1bHRzICYmICFpdC5jb21wb3NpdGVSdWxlO1xuICBpZiAoJHNjaGVtYUtleXMubGVuZ3RoKSB7XG4gICAgdmFyIGFycjMgPSAkc2NoZW1hS2V5cztcbiAgICBpZiAoYXJyMykge1xuICAgICAgdmFyICRwcm9wZXJ0eUtleSwgaTMgPSAtMSxcbiAgICAgICAgbDMgPSBhcnIzLmxlbmd0aCAtIDE7XG4gICAgICB3aGlsZSAoaTMgPCBsMykge1xuICAgICAgICAkcHJvcGVydHlLZXkgPSBhcnIzW2kzICs9IDFdO1xuICAgICAgICB2YXIgJHNjaCA9ICRzY2hlbWFbJHByb3BlcnR5S2V5XTtcbiAgICAgICAgaWYgKChpdC5vcHRzLnN0cmljdEtleXdvcmRzID8gKHR5cGVvZiAkc2NoID09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKCRzY2gpLmxlbmd0aCA+IDApIHx8ICRzY2ggPT09IGZhbHNlIDogaXQudXRpbC5zY2hlbWFIYXNSdWxlcygkc2NoLCBpdC5SVUxFUy5hbGwpKSkge1xuICAgICAgICAgIHZhciAkcHJvcCA9IGl0LnV0aWwuZ2V0UHJvcGVydHkoJHByb3BlcnR5S2V5KSxcbiAgICAgICAgICAgICRwYXNzRGF0YSA9ICRkYXRhICsgJHByb3AsXG4gICAgICAgICAgICAkaGFzRGVmYXVsdCA9ICR1c2VEZWZhdWx0cyAmJiAkc2NoLmRlZmF1bHQgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAkaXQuc2NoZW1hID0gJHNjaDtcbiAgICAgICAgICAkaXQuc2NoZW1hUGF0aCA9ICRzY2hlbWFQYXRoICsgJHByb3A7XG4gICAgICAgICAgJGl0LmVyclNjaGVtYVBhdGggPSAkZXJyU2NoZW1hUGF0aCArICcvJyArIGl0LnV0aWwuZXNjYXBlRnJhZ21lbnQoJHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAkaXQuZXJyb3JQYXRoID0gaXQudXRpbC5nZXRQYXRoKGl0LmVycm9yUGF0aCwgJHByb3BlcnR5S2V5LCBpdC5vcHRzLmpzb25Qb2ludGVycyk7XG4gICAgICAgICAgJGl0LmRhdGFQYXRoQXJyWyRkYXRhTnh0XSA9IGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJHByb3BlcnR5S2V5KTtcbiAgICAgICAgICB2YXIgJGNvZGUgPSBpdC52YWxpZGF0ZSgkaXQpO1xuICAgICAgICAgICRpdC5iYXNlSWQgPSAkY3VycmVudEJhc2VJZDtcbiAgICAgICAgICBpZiAoaXQudXRpbC52YXJPY2N1cmVuY2VzKCRjb2RlLCAkbmV4dERhdGEpIDwgMikge1xuICAgICAgICAgICAgJGNvZGUgPSBpdC51dGlsLnZhclJlcGxhY2UoJGNvZGUsICRuZXh0RGF0YSwgJHBhc3NEYXRhKTtcbiAgICAgICAgICAgIHZhciAkdXNlRGF0YSA9ICRwYXNzRGF0YTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyICR1c2VEYXRhID0gJG5leHREYXRhO1xuICAgICAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJG5leHREYXRhKSArICcgPSAnICsgKCRwYXNzRGF0YSkgKyAnOyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoJGhhc0RlZmF1bHQpIHtcbiAgICAgICAgICAgIG91dCArPSAnICcgKyAoJGNvZGUpICsgJyAnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoJHJlcXVpcmVkSGFzaCAmJiAkcmVxdWlyZWRIYXNoWyRwcm9wZXJ0eUtleV0pIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICcgaWYgKCAnICsgKCR1c2VEYXRhKSArICcgPT09IHVuZGVmaW5lZCAnO1xuICAgICAgICAgICAgICBpZiAoJG93blByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gJyB8fCAhIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgnICsgKCRkYXRhKSArICcsIFxcJycgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5S2V5KSkgKyAnXFwnKSAnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG91dCArPSAnKSB7ICcgKyAoJG5leHRWYWxpZCkgKyAnID0gZmFsc2U7ICc7XG4gICAgICAgICAgICAgIHZhciAkY3VycmVudEVycm9yUGF0aCA9IGl0LmVycm9yUGF0aCxcbiAgICAgICAgICAgICAgICAkY3VyckVyclNjaGVtYVBhdGggPSAkZXJyU2NoZW1hUGF0aCxcbiAgICAgICAgICAgICAgICAkbWlzc2luZ1Byb3BlcnR5ID0gaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgICAgaWYgKGl0Lm9wdHMuX2Vycm9yRGF0YVBhdGhQcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAgIGl0LmVycm9yUGF0aCA9IGl0LnV0aWwuZ2V0UGF0aCgkY3VycmVudEVycm9yUGF0aCwgJHByb3BlcnR5S2V5LCBpdC5vcHRzLmpzb25Qb2ludGVycyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy9yZXF1aXJlZCc7XG4gICAgICAgICAgICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAgICAgICAgICAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gICAgICAgICAgICAgIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgncmVxdWlyZWQnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IG1pc3NpbmdQcm9wZXJ0eTogXFwnJyArICgkbWlzc2luZ1Byb3BlcnR5KSArICdcXCcgfSAnO1xuICAgICAgICAgICAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCcnO1xuICAgICAgICAgICAgICAgICAgaWYgKGl0Lm9wdHMuX2Vycm9yRGF0YVBhdGhQcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gJ2lzIGEgcmVxdWlyZWQgcHJvcGVydHknO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9ICdzaG91bGQgaGF2ZSByZXF1aXJlZCBwcm9wZXJ0eSBcXFxcXFwnJyArICgkbWlzc2luZ1Byb3BlcnR5KSArICdcXFxcXFwnJztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIG91dCArPSAnXFwnICc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgICAgICAgICAgIG91dCArPSAnICwgc2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICcgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dCArPSAnIH0gJztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gJyB7fSAnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhciBfX2VyciA9IG91dDtcbiAgICAgICAgICAgICAgb3V0ID0gJCRvdXRTdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgaWYgKCFpdC5jb21wb3NpdGVSdWxlICYmICRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgICAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgICAgICAgICAgICAgIG91dCArPSAnIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoWycgKyAoX19lcnIpICsgJ10pOyAnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSBbJyArIChfX2VycikgKyAnXTsgcmV0dXJuIGZhbHNlOyAnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gJyB2YXIgZXJyID0gJyArIChfX2VycikgKyAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgJGVyclNjaGVtYVBhdGggPSAkY3VyckVyclNjaGVtYVBhdGg7XG4gICAgICAgICAgICAgIGl0LmVycm9yUGF0aCA9ICRjdXJyZW50RXJyb3JQYXRoO1xuICAgICAgICAgICAgICBvdXQgKz0gJyB9IGVsc2UgeyAnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gJyBpZiAoICcgKyAoJHVzZURhdGEpICsgJyA9PT0gdW5kZWZpbmVkICc7XG4gICAgICAgICAgICAgICAgaWYgKCRvd25Qcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICBvdXQgKz0gJyB8fCAhIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgnICsgKCRkYXRhKSArICcsIFxcJycgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5S2V5KSkgKyAnXFwnKSAnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvdXQgKz0gJykgeyAnICsgKCRuZXh0VmFsaWQpICsgJyA9IHRydWU7IH0gZWxzZSB7ICc7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoJHVzZURhdGEpICsgJyAhPT0gdW5kZWZpbmVkICc7XG4gICAgICAgICAgICAgICAgaWYgKCRvd25Qcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICBvdXQgKz0gJyAmJiAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgnICsgKCRkYXRhKSArICcsIFxcJycgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5S2V5KSkgKyAnXFwnKSAnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvdXQgKz0gJyApIHsgJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0ICs9ICcgJyArICgkY29kZSkgKyAnIH0gJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICBvdXQgKz0gJyBpZiAoJyArICgkbmV4dFZhbGlkKSArICcpIHsgJztcbiAgICAgICAgICAkY2xvc2luZ0JyYWNlcyArPSAnfSc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKCRwUHJvcGVydHlLZXlzLmxlbmd0aCkge1xuICAgIHZhciBhcnI0ID0gJHBQcm9wZXJ0eUtleXM7XG4gICAgaWYgKGFycjQpIHtcbiAgICAgIHZhciAkcFByb3BlcnR5LCBpNCA9IC0xLFxuICAgICAgICBsNCA9IGFycjQubGVuZ3RoIC0gMTtcbiAgICAgIHdoaWxlIChpNCA8IGw0KSB7XG4gICAgICAgICRwUHJvcGVydHkgPSBhcnI0W2k0ICs9IDFdO1xuICAgICAgICB2YXIgJHNjaCA9ICRwUHJvcGVydGllc1skcFByb3BlcnR5XTtcbiAgICAgICAgaWYgKChpdC5vcHRzLnN0cmljdEtleXdvcmRzID8gKHR5cGVvZiAkc2NoID09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKCRzY2gpLmxlbmd0aCA+IDApIHx8ICRzY2ggPT09IGZhbHNlIDogaXQudXRpbC5zY2hlbWFIYXNSdWxlcygkc2NoLCBpdC5SVUxFUy5hbGwpKSkge1xuICAgICAgICAgICRpdC5zY2hlbWEgPSAkc2NoO1xuICAgICAgICAgICRpdC5zY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArICcucGF0dGVyblByb3BlcnRpZXMnICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgkcFByb3BlcnR5KTtcbiAgICAgICAgICAkaXQuZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnL3BhdHRlcm5Qcm9wZXJ0aWVzLycgKyBpdC51dGlsLmVzY2FwZUZyYWdtZW50KCRwUHJvcGVydHkpO1xuICAgICAgICAgIGlmICgkb3duUHJvcGVydGllcykge1xuICAgICAgICAgICAgb3V0ICs9ICcgJyArICgkZGF0YVByb3BlcnRpZXMpICsgJyA9ICcgKyAoJGRhdGFQcm9wZXJ0aWVzKSArICcgfHwgT2JqZWN0LmtleXMoJyArICgkZGF0YSkgKyAnKTsgZm9yICh2YXIgJyArICgkaWR4KSArICc9MDsgJyArICgkaWR4KSArICc8JyArICgkZGF0YVByb3BlcnRpZXMpICsgJy5sZW5ndGg7ICcgKyAoJGlkeCkgKyAnKyspIHsgdmFyICcgKyAoJGtleSkgKyAnID0gJyArICgkZGF0YVByb3BlcnRpZXMpICsgJ1snICsgKCRpZHgpICsgJ107ICc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG91dCArPSAnIGZvciAodmFyICcgKyAoJGtleSkgKyAnIGluICcgKyAoJGRhdGEpICsgJykgeyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJyBpZiAoJyArIChpdC51c2VQYXR0ZXJuKCRwUHJvcGVydHkpKSArICcudGVzdCgnICsgKCRrZXkpICsgJykpIHsgJztcbiAgICAgICAgICAkaXQuZXJyb3JQYXRoID0gaXQudXRpbC5nZXRQYXRoRXhwcihpdC5lcnJvclBhdGgsICRrZXksIGl0Lm9wdHMuanNvblBvaW50ZXJzKTtcbiAgICAgICAgICB2YXIgJHBhc3NEYXRhID0gJGRhdGEgKyAnWycgKyAka2V5ICsgJ10nO1xuICAgICAgICAgICRpdC5kYXRhUGF0aEFyclskZGF0YU54dF0gPSAka2V5O1xuICAgICAgICAgIHZhciAkY29kZSA9IGl0LnZhbGlkYXRlKCRpdCk7XG4gICAgICAgICAgJGl0LmJhc2VJZCA9ICRjdXJyZW50QmFzZUlkO1xuICAgICAgICAgIGlmIChpdC51dGlsLnZhck9jY3VyZW5jZXMoJGNvZGUsICRuZXh0RGF0YSkgPCAyKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyAnICsgKGl0LnV0aWwudmFyUmVwbGFjZSgkY29kZSwgJG5leHREYXRhLCAkcGFzc0RhdGEpKSArICcgJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJG5leHREYXRhKSArICcgPSAnICsgKCRwYXNzRGF0YSkgKyAnOyAnICsgKCRjb2RlKSArICcgJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAgIG91dCArPSAnIGlmICghJyArICgkbmV4dFZhbGlkKSArICcpIGJyZWFrOyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAgIG91dCArPSAnIGVsc2UgJyArICgkbmV4dFZhbGlkKSArICcgPSB0cnVlOyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJyB9ICAnO1xuICAgICAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyBpZiAoJyArICgkbmV4dFZhbGlkKSArICcpIHsgJztcbiAgICAgICAgICAgICRjbG9zaW5nQnJhY2VzICs9ICd9JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICBvdXQgKz0gJyAnICsgKCRjbG9zaW5nQnJhY2VzKSArICcgaWYgKCcgKyAoJGVycnMpICsgJyA9PSBlcnJvcnMpIHsnO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX3Byb3BlcnR5TmFtZXMoaXQsICRrZXl3b3JkLCAkcnVsZVR5cGUpIHtcbiAgdmFyIG91dCA9ICcgJztcbiAgdmFyICRsdmwgPSBpdC5sZXZlbDtcbiAgdmFyICRkYXRhTHZsID0gaXQuZGF0YUxldmVsO1xuICB2YXIgJHNjaGVtYSA9IGl0LnNjaGVtYVska2V5d29yZF07XG4gIHZhciAkc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyBpdC51dGlsLmdldFByb3BlcnR5KCRrZXl3b3JkKTtcbiAgdmFyICRlcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvJyArICRrZXl3b3JkO1xuICB2YXIgJGJyZWFrT25FcnJvciA9ICFpdC5vcHRzLmFsbEVycm9ycztcbiAgdmFyICRkYXRhID0gJ2RhdGEnICsgKCRkYXRhTHZsIHx8ICcnKTtcbiAgdmFyICRlcnJzID0gJ2VycnNfXycgKyAkbHZsO1xuICB2YXIgJGl0ID0gaXQudXRpbC5jb3B5KGl0KTtcbiAgdmFyICRjbG9zaW5nQnJhY2VzID0gJyc7XG4gICRpdC5sZXZlbCsrO1xuICB2YXIgJG5leHRWYWxpZCA9ICd2YWxpZCcgKyAkaXQubGV2ZWw7XG4gIG91dCArPSAndmFyICcgKyAoJGVycnMpICsgJyA9IGVycm9yczsnO1xuICBpZiAoKGl0Lm9wdHMuc3RyaWN0S2V5d29yZHMgPyAodHlwZW9mICRzY2hlbWEgPT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMoJHNjaGVtYSkubGVuZ3RoID4gMCkgfHwgJHNjaGVtYSA9PT0gZmFsc2UgOiBpdC51dGlsLnNjaGVtYUhhc1J1bGVzKCRzY2hlbWEsIGl0LlJVTEVTLmFsbCkpKSB7XG4gICAgJGl0LnNjaGVtYSA9ICRzY2hlbWE7XG4gICAgJGl0LnNjaGVtYVBhdGggPSAkc2NoZW1hUGF0aDtcbiAgICAkaXQuZXJyU2NoZW1hUGF0aCA9ICRlcnJTY2hlbWFQYXRoO1xuICAgIHZhciAka2V5ID0gJ2tleScgKyAkbHZsLFxuICAgICAgJGlkeCA9ICdpZHgnICsgJGx2bCxcbiAgICAgICRpID0gJ2knICsgJGx2bCxcbiAgICAgICRpbnZhbGlkTmFtZSA9ICdcXCcgKyAnICsgJGtleSArICcgKyBcXCcnLFxuICAgICAgJGRhdGFOeHQgPSAkaXQuZGF0YUxldmVsID0gaXQuZGF0YUxldmVsICsgMSxcbiAgICAgICRuZXh0RGF0YSA9ICdkYXRhJyArICRkYXRhTnh0LFxuICAgICAgJGRhdGFQcm9wZXJ0aWVzID0gJ2RhdGFQcm9wZXJ0aWVzJyArICRsdmwsXG4gICAgICAkb3duUHJvcGVydGllcyA9IGl0Lm9wdHMub3duUHJvcGVydGllcyxcbiAgICAgICRjdXJyZW50QmFzZUlkID0gaXQuYmFzZUlkO1xuICAgIGlmICgkb3duUHJvcGVydGllcykge1xuICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJGRhdGFQcm9wZXJ0aWVzKSArICcgPSB1bmRlZmluZWQ7ICc7XG4gICAgfVxuICAgIGlmICgkb3duUHJvcGVydGllcykge1xuICAgICAgb3V0ICs9ICcgJyArICgkZGF0YVByb3BlcnRpZXMpICsgJyA9ICcgKyAoJGRhdGFQcm9wZXJ0aWVzKSArICcgfHwgT2JqZWN0LmtleXMoJyArICgkZGF0YSkgKyAnKTsgZm9yICh2YXIgJyArICgkaWR4KSArICc9MDsgJyArICgkaWR4KSArICc8JyArICgkZGF0YVByb3BlcnRpZXMpICsgJy5sZW5ndGg7ICcgKyAoJGlkeCkgKyAnKyspIHsgdmFyICcgKyAoJGtleSkgKyAnID0gJyArICgkZGF0YVByb3BlcnRpZXMpICsgJ1snICsgKCRpZHgpICsgJ107ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIGZvciAodmFyICcgKyAoJGtleSkgKyAnIGluICcgKyAoJGRhdGEpICsgJykgeyAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyB2YXIgc3RhcnRFcnJzJyArICgkbHZsKSArICcgPSBlcnJvcnM7ICc7XG4gICAgdmFyICRwYXNzRGF0YSA9ICRrZXk7XG4gICAgdmFyICR3YXNDb21wb3NpdGUgPSBpdC5jb21wb3NpdGVSdWxlO1xuICAgIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9IHRydWU7XG4gICAgdmFyICRjb2RlID0gaXQudmFsaWRhdGUoJGl0KTtcbiAgICAkaXQuYmFzZUlkID0gJGN1cnJlbnRCYXNlSWQ7XG4gICAgaWYgKGl0LnV0aWwudmFyT2NjdXJlbmNlcygkY29kZSwgJG5leHREYXRhKSA8IDIpIHtcbiAgICAgIG91dCArPSAnICcgKyAoaXQudXRpbC52YXJSZXBsYWNlKCRjb2RlLCAkbmV4dERhdGEsICRwYXNzRGF0YSkpICsgJyAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyB2YXIgJyArICgkbmV4dERhdGEpICsgJyA9ICcgKyAoJHBhc3NEYXRhKSArICc7ICcgKyAoJGNvZGUpICsgJyAnO1xuICAgIH1cbiAgICBpdC5jb21wb3NpdGVSdWxlID0gJGl0LmNvbXBvc2l0ZVJ1bGUgPSAkd2FzQ29tcG9zaXRlO1xuICAgIG91dCArPSAnIGlmICghJyArICgkbmV4dFZhbGlkKSArICcpIHsgZm9yICh2YXIgJyArICgkaSkgKyAnPXN0YXJ0RXJycycgKyAoJGx2bCkgKyAnOyAnICsgKCRpKSArICc8ZXJyb3JzOyAnICsgKCRpKSArICcrKykgeyB2RXJyb3JzWycgKyAoJGkpICsgJ10ucHJvcGVydHlOYW1lID0gJyArICgka2V5KSArICc7IH0gICB2YXIgZXJyID0gICAnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ3Byb3BlcnR5TmFtZXMnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IHByb3BlcnR5TmFtZTogXFwnJyArICgkaW52YWxpZE5hbWUpICsgJ1xcJyB9ICc7XG4gICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdwcm9wZXJ0eSBuYW1lIFxcXFxcXCcnICsgKCRpbnZhbGlkTmFtZSkgKyAnXFxcXFxcJyBpcyBpbnZhbGlkXFwnICc7XG4gICAgICB9XG4gICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgIG91dCArPSAnICwgc2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICcgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyB9ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHt9ICc7XG4gICAgfVxuICAgIG91dCArPSAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gICAgaWYgKCFpdC5jb21wb3NpdGVSdWxlICYmICRicmVha09uRXJyb3IpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICAgIG91dCArPSAnIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IodkVycm9ycyk7ICc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSB2RXJyb3JzOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICBvdXQgKz0gJyBicmVhazsgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSB9JztcbiAgfVxuICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgIG91dCArPSAnICcgKyAoJGNsb3NpbmdCcmFjZXMpICsgJyBpZiAoJyArICgkZXJycykgKyAnID09IGVycm9ycykgeyc7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2VuZXJhdGVfcmVxdWlyZWQoaXQsICRrZXl3b3JkLCAkcnVsZVR5cGUpIHtcbiAgdmFyIG91dCA9ICcgJztcbiAgdmFyICRsdmwgPSBpdC5sZXZlbDtcbiAgdmFyICRkYXRhTHZsID0gaXQuZGF0YUxldmVsO1xuICB2YXIgJHNjaGVtYSA9IGl0LnNjaGVtYVska2V5d29yZF07XG4gIHZhciAkc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyBpdC51dGlsLmdldFByb3BlcnR5KCRrZXl3b3JkKTtcbiAgdmFyICRlcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvJyArICRrZXl3b3JkO1xuICB2YXIgJGJyZWFrT25FcnJvciA9ICFpdC5vcHRzLmFsbEVycm9ycztcbiAgdmFyICRkYXRhID0gJ2RhdGEnICsgKCRkYXRhTHZsIHx8ICcnKTtcbiAgdmFyICR2YWxpZCA9ICd2YWxpZCcgKyAkbHZsO1xuICB2YXIgJGlzRGF0YSA9IGl0Lm9wdHMuJGRhdGEgJiYgJHNjaGVtYSAmJiAkc2NoZW1hLiRkYXRhLFxuICAgICRzY2hlbWFWYWx1ZTtcbiAgaWYgKCRpc0RhdGEpIHtcbiAgICBvdXQgKz0gJyB2YXIgc2NoZW1hJyArICgkbHZsKSArICcgPSAnICsgKGl0LnV0aWwuZ2V0RGF0YSgkc2NoZW1hLiRkYXRhLCAkZGF0YUx2bCwgaXQuZGF0YVBhdGhBcnIpKSArICc7ICc7XG4gICAgJHNjaGVtYVZhbHVlID0gJ3NjaGVtYScgKyAkbHZsO1xuICB9IGVsc2Uge1xuICAgICRzY2hlbWFWYWx1ZSA9ICRzY2hlbWE7XG4gIH1cbiAgdmFyICR2U2NoZW1hID0gJ3NjaGVtYScgKyAkbHZsO1xuICBpZiAoISRpc0RhdGEpIHtcbiAgICBpZiAoJHNjaGVtYS5sZW5ndGggPCBpdC5vcHRzLmxvb3BSZXF1aXJlZCAmJiBpdC5zY2hlbWEucHJvcGVydGllcyAmJiBPYmplY3Qua2V5cyhpdC5zY2hlbWEucHJvcGVydGllcykubGVuZ3RoKSB7XG4gICAgICB2YXIgJHJlcXVpcmVkID0gW107XG4gICAgICB2YXIgYXJyMSA9ICRzY2hlbWE7XG4gICAgICBpZiAoYXJyMSkge1xuICAgICAgICB2YXIgJHByb3BlcnR5LCBpMSA9IC0xLFxuICAgICAgICAgIGwxID0gYXJyMS5sZW5ndGggLSAxO1xuICAgICAgICB3aGlsZSAoaTEgPCBsMSkge1xuICAgICAgICAgICRwcm9wZXJ0eSA9IGFycjFbaTEgKz0gMV07XG4gICAgICAgICAgdmFyICRwcm9wZXJ0eVNjaCA9IGl0LnNjaGVtYS5wcm9wZXJ0aWVzWyRwcm9wZXJ0eV07XG4gICAgICAgICAgaWYgKCEoJHByb3BlcnR5U2NoICYmIChpdC5vcHRzLnN0cmljdEtleXdvcmRzID8gKHR5cGVvZiAkcHJvcGVydHlTY2ggPT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMoJHByb3BlcnR5U2NoKS5sZW5ndGggPiAwKSB8fCAkcHJvcGVydHlTY2ggPT09IGZhbHNlIDogaXQudXRpbC5zY2hlbWFIYXNSdWxlcygkcHJvcGVydHlTY2gsIGl0LlJVTEVTLmFsbCkpKSkge1xuICAgICAgICAgICAgJHJlcXVpcmVkWyRyZXF1aXJlZC5sZW5ndGhdID0gJHByb3BlcnR5O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgJHJlcXVpcmVkID0gJHNjaGVtYTtcbiAgICB9XG4gIH1cbiAgaWYgKCRpc0RhdGEgfHwgJHJlcXVpcmVkLmxlbmd0aCkge1xuICAgIHZhciAkY3VycmVudEVycm9yUGF0aCA9IGl0LmVycm9yUGF0aCxcbiAgICAgICRsb29wUmVxdWlyZWQgPSAkaXNEYXRhIHx8ICRyZXF1aXJlZC5sZW5ndGggPj0gaXQub3B0cy5sb29wUmVxdWlyZWQsXG4gICAgICAkb3duUHJvcGVydGllcyA9IGl0Lm9wdHMub3duUHJvcGVydGllcztcbiAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgb3V0ICs9ICcgdmFyIG1pc3NpbmcnICsgKCRsdmwpICsgJzsgJztcbiAgICAgIGlmICgkbG9vcFJlcXVpcmVkKSB7XG4gICAgICAgIGlmICghJGlzRGF0YSkge1xuICAgICAgICAgIG91dCArPSAnIHZhciAnICsgKCR2U2NoZW1hKSArICcgPSB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICc7ICc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyICRpID0gJ2knICsgJGx2bCxcbiAgICAgICAgICAkcHJvcGVydHlQYXRoID0gJ3NjaGVtYScgKyAkbHZsICsgJ1snICsgJGkgKyAnXScsXG4gICAgICAgICAgJG1pc3NpbmdQcm9wZXJ0eSA9ICdcXCcgKyAnICsgJHByb3BlcnR5UGF0aCArICcgKyBcXCcnO1xuICAgICAgICBpZiAoaXQub3B0cy5fZXJyb3JEYXRhUGF0aFByb3BlcnR5KSB7XG4gICAgICAgICAgaXQuZXJyb3JQYXRoID0gaXQudXRpbC5nZXRQYXRoRXhwcigkY3VycmVudEVycm9yUGF0aCwgJHByb3BlcnR5UGF0aCwgaXQub3B0cy5qc29uUG9pbnRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnIHZhciAnICsgKCR2YWxpZCkgKyAnID0gdHJ1ZTsgJztcbiAgICAgICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgICAgICBvdXQgKz0gJyBpZiAoc2NoZW1hJyArICgkbHZsKSArICcgPT09IHVuZGVmaW5lZCkgJyArICgkdmFsaWQpICsgJyA9IHRydWU7IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KHNjaGVtYScgKyAoJGx2bCkgKyAnKSkgJyArICgkdmFsaWQpICsgJyA9IGZhbHNlOyBlbHNlIHsnO1xuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnIGZvciAodmFyICcgKyAoJGkpICsgJyA9IDA7ICcgKyAoJGkpICsgJyA8ICcgKyAoJHZTY2hlbWEpICsgJy5sZW5ndGg7ICcgKyAoJGkpICsgJysrKSB7ICcgKyAoJHZhbGlkKSArICcgPSAnICsgKCRkYXRhKSArICdbJyArICgkdlNjaGVtYSkgKyAnWycgKyAoJGkpICsgJ11dICE9PSB1bmRlZmluZWQgJztcbiAgICAgICAgaWYgKCRvd25Qcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgb3V0ICs9ICcgJiYgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoJyArICgkZGF0YSkgKyAnLCAnICsgKCR2U2NoZW1hKSArICdbJyArICgkaSkgKyAnXSkgJztcbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gJzsgaWYgKCEnICsgKCR2YWxpZCkgKyAnKSBicmVhazsgfSAnO1xuICAgICAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgICAgIG91dCArPSAnICB9ICAnO1xuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnICBpZiAoIScgKyAoJHZhbGlkKSArICcpIHsgICAnO1xuICAgICAgICB2YXIgJCRvdXRTdGFjayA9ICQkb3V0U3RhY2sgfHwgW107XG4gICAgICAgICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICAgICAgICBvdXQgPSAnJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ3JlcXVpcmVkJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBtaXNzaW5nUHJvcGVydHk6IFxcJycgKyAoJG1pc3NpbmdQcm9wZXJ0eSkgKyAnXFwnIH0gJztcbiAgICAgICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG91dCArPSAnICwgbWVzc2FnZTogXFwnJztcbiAgICAgICAgICAgIGlmIChpdC5vcHRzLl9lcnJvckRhdGFQYXRoUHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICdpcyBhIHJlcXVpcmVkIHByb3BlcnR5JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG91dCArPSAnc2hvdWxkIGhhdmUgcmVxdWlyZWQgcHJvcGVydHkgXFxcXFxcJycgKyAoJG1pc3NpbmdQcm9wZXJ0eSkgKyAnXFxcXFxcJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQgKz0gJ1xcJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyAsIHNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcge30gJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgX19lcnIgPSBvdXQ7XG4gICAgICAgIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gICAgICAgIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnIH0gZWxzZSB7ICc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJyBpZiAoICc7XG4gICAgICAgIHZhciBhcnIyID0gJHJlcXVpcmVkO1xuICAgICAgICBpZiAoYXJyMikge1xuICAgICAgICAgIHZhciAkcHJvcGVydHlLZXksICRpID0gLTEsXG4gICAgICAgICAgICBsMiA9IGFycjIubGVuZ3RoIC0gMTtcbiAgICAgICAgICB3aGlsZSAoJGkgPCBsMikge1xuICAgICAgICAgICAgJHByb3BlcnR5S2V5ID0gYXJyMlskaSArPSAxXTtcbiAgICAgICAgICAgIGlmICgkaSkge1xuICAgICAgICAgICAgICBvdXQgKz0gJyB8fCAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyICRwcm9wID0gaXQudXRpbC5nZXRQcm9wZXJ0eSgkcHJvcGVydHlLZXkpLFxuICAgICAgICAgICAgICAkdXNlRGF0YSA9ICRkYXRhICsgJHByb3A7XG4gICAgICAgICAgICBvdXQgKz0gJyAoICggJyArICgkdXNlRGF0YSkgKyAnID09PSB1bmRlZmluZWQgJztcbiAgICAgICAgICAgIGlmICgkb3duUHJvcGVydGllcykge1xuICAgICAgICAgICAgICBvdXQgKz0gJyB8fCAhIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgnICsgKCRkYXRhKSArICcsIFxcJycgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5S2V5KSkgKyAnXFwnKSAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0ICs9ICcpICYmIChtaXNzaW5nJyArICgkbHZsKSArICcgPSAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoaXQub3B0cy5qc29uUG9pbnRlcnMgPyAkcHJvcGVydHlLZXkgOiAkcHJvcCkpICsgJykgKSAnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gJykgeyAgJztcbiAgICAgICAgdmFyICRwcm9wZXJ0eVBhdGggPSAnbWlzc2luZycgKyAkbHZsLFxuICAgICAgICAgICRtaXNzaW5nUHJvcGVydHkgPSAnXFwnICsgJyArICRwcm9wZXJ0eVBhdGggKyAnICsgXFwnJztcbiAgICAgICAgaWYgKGl0Lm9wdHMuX2Vycm9yRGF0YVBhdGhQcm9wZXJ0eSkge1xuICAgICAgICAgIGl0LmVycm9yUGF0aCA9IGl0Lm9wdHMuanNvblBvaW50ZXJzID8gaXQudXRpbC5nZXRQYXRoRXhwcigkY3VycmVudEVycm9yUGF0aCwgJHByb3BlcnR5UGF0aCwgdHJ1ZSkgOiAkY3VycmVudEVycm9yUGF0aCArICcgKyAnICsgJHByb3BlcnR5UGF0aDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgJCRvdXRTdGFjayA9ICQkb3V0U3RhY2sgfHwgW107XG4gICAgICAgICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICAgICAgICBvdXQgPSAnJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ3JlcXVpcmVkJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBtaXNzaW5nUHJvcGVydHk6IFxcJycgKyAoJG1pc3NpbmdQcm9wZXJ0eSkgKyAnXFwnIH0gJztcbiAgICAgICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG91dCArPSAnICwgbWVzc2FnZTogXFwnJztcbiAgICAgICAgICAgIGlmIChpdC5vcHRzLl9lcnJvckRhdGFQYXRoUHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICdpcyBhIHJlcXVpcmVkIHByb3BlcnR5JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG91dCArPSAnc2hvdWxkIGhhdmUgcmVxdWlyZWQgcHJvcGVydHkgXFxcXFxcJycgKyAoJG1pc3NpbmdQcm9wZXJ0eSkgKyAnXFxcXFxcJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQgKz0gJ1xcJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyAsIHNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcge30gJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgX19lcnIgPSBvdXQ7XG4gICAgICAgIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gICAgICAgIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnIH0gZWxzZSB7ICc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgkbG9vcFJlcXVpcmVkKSB7XG4gICAgICAgIGlmICghJGlzRGF0YSkge1xuICAgICAgICAgIG91dCArPSAnIHZhciAnICsgKCR2U2NoZW1hKSArICcgPSB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICc7ICc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyICRpID0gJ2knICsgJGx2bCxcbiAgICAgICAgICAkcHJvcGVydHlQYXRoID0gJ3NjaGVtYScgKyAkbHZsICsgJ1snICsgJGkgKyAnXScsXG4gICAgICAgICAgJG1pc3NpbmdQcm9wZXJ0eSA9ICdcXCcgKyAnICsgJHByb3BlcnR5UGF0aCArICcgKyBcXCcnO1xuICAgICAgICBpZiAoaXQub3B0cy5fZXJyb3JEYXRhUGF0aFByb3BlcnR5KSB7XG4gICAgICAgICAgaXQuZXJyb3JQYXRoID0gaXQudXRpbC5nZXRQYXRoRXhwcigkY3VycmVudEVycm9yUGF0aCwgJHByb3BlcnR5UGF0aCwgaXQub3B0cy5qc29uUG9pbnRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkaXNEYXRhKSB7XG4gICAgICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoJHZTY2hlbWEpICsgJyAmJiAhQXJyYXkuaXNBcnJheSgnICsgKCR2U2NoZW1hKSArICcpKSB7ICB2YXIgZXJyID0gICAnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ3JlcXVpcmVkJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBtaXNzaW5nUHJvcGVydHk6IFxcJycgKyAoJG1pc3NpbmdQcm9wZXJ0eSkgKyAnXFwnIH0gJztcbiAgICAgICAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJyc7XG4gICAgICAgICAgICAgIGlmIChpdC5vcHRzLl9lcnJvckRhdGFQYXRoUHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gJ2lzIGEgcmVxdWlyZWQgcHJvcGVydHknO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG91dCArPSAnc2hvdWxkIGhhdmUgcmVxdWlyZWQgcHJvcGVydHkgXFxcXFxcJycgKyAoJG1pc3NpbmdQcm9wZXJ0eSkgKyAnXFxcXFxcJyc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgb3V0ICs9ICdcXCcgJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJyAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dCArPSAnIH0gJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0ICs9ICcge30gJztcbiAgICAgICAgICB9XG4gICAgICAgICAgb3V0ICs9ICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgfSBlbHNlIGlmICgnICsgKCR2U2NoZW1hKSArICcgIT09IHVuZGVmaW5lZCkgeyAnO1xuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnIGZvciAodmFyICcgKyAoJGkpICsgJyA9IDA7ICcgKyAoJGkpICsgJyA8ICcgKyAoJHZTY2hlbWEpICsgJy5sZW5ndGg7ICcgKyAoJGkpICsgJysrKSB7IGlmICgnICsgKCRkYXRhKSArICdbJyArICgkdlNjaGVtYSkgKyAnWycgKyAoJGkpICsgJ11dID09PSB1bmRlZmluZWQgJztcbiAgICAgICAgaWYgKCRvd25Qcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgb3V0ICs9ICcgfHwgISBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoJyArICgkZGF0YSkgKyAnLCAnICsgKCR2U2NoZW1hKSArICdbJyArICgkaSkgKyAnXSkgJztcbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gJykgeyAgdmFyIGVyciA9ICAgJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ3JlcXVpcmVkJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBtaXNzaW5nUHJvcGVydHk6IFxcJycgKyAoJG1pc3NpbmdQcm9wZXJ0eSkgKyAnXFwnIH0gJztcbiAgICAgICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG91dCArPSAnICwgbWVzc2FnZTogXFwnJztcbiAgICAgICAgICAgIGlmIChpdC5vcHRzLl9lcnJvckRhdGFQYXRoUHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICdpcyBhIHJlcXVpcmVkIHByb3BlcnR5JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG91dCArPSAnc2hvdWxkIGhhdmUgcmVxdWlyZWQgcHJvcGVydHkgXFxcXFxcJycgKyAoJG1pc3NpbmdQcm9wZXJ0eSkgKyAnXFxcXFxcJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQgKz0gJ1xcJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyAsIHNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcge30gJztcbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyB9IH0gJztcbiAgICAgICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgICAgICBvdXQgKz0gJyAgfSAgJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGFycjMgPSAkcmVxdWlyZWQ7XG4gICAgICAgIGlmIChhcnIzKSB7XG4gICAgICAgICAgdmFyICRwcm9wZXJ0eUtleSwgaTMgPSAtMSxcbiAgICAgICAgICAgIGwzID0gYXJyMy5sZW5ndGggLSAxO1xuICAgICAgICAgIHdoaWxlIChpMyA8IGwzKSB7XG4gICAgICAgICAgICAkcHJvcGVydHlLZXkgPSBhcnIzW2kzICs9IDFdO1xuICAgICAgICAgICAgdmFyICRwcm9wID0gaXQudXRpbC5nZXRQcm9wZXJ0eSgkcHJvcGVydHlLZXkpLFxuICAgICAgICAgICAgICAkbWlzc2luZ1Byb3BlcnR5ID0gaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5S2V5KSxcbiAgICAgICAgICAgICAgJHVzZURhdGEgPSAkZGF0YSArICRwcm9wO1xuICAgICAgICAgICAgaWYgKGl0Lm9wdHMuX2Vycm9yRGF0YVBhdGhQcm9wZXJ0eSkge1xuICAgICAgICAgICAgICBpdC5lcnJvclBhdGggPSBpdC51dGlsLmdldFBhdGgoJGN1cnJlbnRFcnJvclBhdGgsICRwcm9wZXJ0eUtleSwgaXQub3B0cy5qc29uUG9pbnRlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0ICs9ICcgaWYgKCAnICsgKCR1c2VEYXRhKSArICcgPT09IHVuZGVmaW5lZCAnO1xuICAgICAgICAgICAgaWYgKCRvd25Qcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIHx8ICEgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCcgKyAoJGRhdGEpICsgJywgXFwnJyArIChpdC51dGlsLmVzY2FwZVF1b3RlcygkcHJvcGVydHlLZXkpKSArICdcXCcpICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQgKz0gJykgeyAgdmFyIGVyciA9ICAgJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgncmVxdWlyZWQnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IG1pc3NpbmdQcm9wZXJ0eTogXFwnJyArICgkbWlzc2luZ1Byb3BlcnR5KSArICdcXCcgfSAnO1xuICAgICAgICAgICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJyc7XG4gICAgICAgICAgICAgICAgaWYgKGl0Lm9wdHMuX2Vycm9yRGF0YVBhdGhQcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAgICAgb3V0ICs9ICdpcyBhIHJlcXVpcmVkIHByb3BlcnR5JztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgb3V0ICs9ICdzaG91bGQgaGF2ZSByZXF1aXJlZCBwcm9wZXJ0eSBcXFxcXFwnJyArICgkbWlzc2luZ1Byb3BlcnR5KSArICdcXFxcXFwnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3V0ICs9ICdcXCcgJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJyAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBvdXQgKz0gJyB7fSAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0ICs9ICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgfSAnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpdC5lcnJvclBhdGggPSAkY3VycmVudEVycm9yUGF0aDtcbiAgfSBlbHNlIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgb3V0ICs9ICcgaWYgKHRydWUpIHsnO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX3VuaXF1ZUl0ZW1zKGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZGF0YSA9ICdkYXRhJyArICgkZGF0YUx2bCB8fCAnJyk7XG4gIHZhciAkdmFsaWQgPSAndmFsaWQnICsgJGx2bDtcbiAgdmFyICRpc0RhdGEgPSBpdC5vcHRzLiRkYXRhICYmICRzY2hlbWEgJiYgJHNjaGVtYS4kZGF0YSxcbiAgICAkc2NoZW1hVmFsdWU7XG4gIGlmICgkaXNEYXRhKSB7XG4gICAgb3V0ICs9ICcgdmFyIHNjaGVtYScgKyAoJGx2bCkgKyAnID0gJyArIChpdC51dGlsLmdldERhdGEoJHNjaGVtYS4kZGF0YSwgJGRhdGFMdmwsIGl0LmRhdGFQYXRoQXJyKSkgKyAnOyAnO1xuICAgICRzY2hlbWFWYWx1ZSA9ICdzY2hlbWEnICsgJGx2bDtcbiAgfSBlbHNlIHtcbiAgICAkc2NoZW1hVmFsdWUgPSAkc2NoZW1hO1xuICB9XG4gIGlmICgoJHNjaGVtYSB8fCAkaXNEYXRhKSAmJiBpdC5vcHRzLnVuaXF1ZUl0ZW1zICE9PSBmYWxzZSkge1xuICAgIGlmICgkaXNEYXRhKSB7XG4gICAgICBvdXQgKz0gJyB2YXIgJyArICgkdmFsaWQpICsgJzsgaWYgKCcgKyAoJHNjaGVtYVZhbHVlKSArICcgPT09IGZhbHNlIHx8ICcgKyAoJHNjaGVtYVZhbHVlKSArICcgPT09IHVuZGVmaW5lZCkgJyArICgkdmFsaWQpICsgJyA9IHRydWU7IGVsc2UgaWYgKHR5cGVvZiAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICE9IFxcJ2Jvb2xlYW5cXCcpICcgKyAoJHZhbGlkKSArICcgPSBmYWxzZTsgZWxzZSB7ICc7XG4gICAgfVxuICAgIG91dCArPSAnIHZhciBpID0gJyArICgkZGF0YSkgKyAnLmxlbmd0aCAsICcgKyAoJHZhbGlkKSArICcgPSB0cnVlICwgajsgaWYgKGkgPiAxKSB7ICc7XG4gICAgdmFyICRpdGVtVHlwZSA9IGl0LnNjaGVtYS5pdGVtcyAmJiBpdC5zY2hlbWEuaXRlbXMudHlwZSxcbiAgICAgICR0eXBlSXNBcnJheSA9IEFycmF5LmlzQXJyYXkoJGl0ZW1UeXBlKTtcbiAgICBpZiAoISRpdGVtVHlwZSB8fCAkaXRlbVR5cGUgPT0gJ29iamVjdCcgfHwgJGl0ZW1UeXBlID09ICdhcnJheScgfHwgKCR0eXBlSXNBcnJheSAmJiAoJGl0ZW1UeXBlLmluZGV4T2YoJ29iamVjdCcpID49IDAgfHwgJGl0ZW1UeXBlLmluZGV4T2YoJ2FycmF5JykgPj0gMCkpKSB7XG4gICAgICBvdXQgKz0gJyBvdXRlcjogZm9yICg7aS0tOykgeyBmb3IgKGogPSBpOyBqLS07KSB7IGlmIChlcXVhbCgnICsgKCRkYXRhKSArICdbaV0sICcgKyAoJGRhdGEpICsgJ1tqXSkpIHsgJyArICgkdmFsaWQpICsgJyA9IGZhbHNlOyBicmVhayBvdXRlcjsgfSB9IH0gJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgdmFyIGl0ZW1JbmRpY2VzID0ge30sIGl0ZW07IGZvciAoO2ktLTspIHsgdmFyIGl0ZW0gPSAnICsgKCRkYXRhKSArICdbaV07ICc7XG4gICAgICB2YXIgJG1ldGhvZCA9ICdjaGVja0RhdGFUeXBlJyArICgkdHlwZUlzQXJyYXkgPyAncycgOiAnJyk7XG4gICAgICBvdXQgKz0gJyBpZiAoJyArIChpdC51dGlsWyRtZXRob2RdKCRpdGVtVHlwZSwgJ2l0ZW0nLCBpdC5vcHRzLnN0cmljdE51bWJlcnMsIHRydWUpKSArICcpIGNvbnRpbnVlOyAnO1xuICAgICAgaWYgKCR0eXBlSXNBcnJheSkge1xuICAgICAgICBvdXQgKz0gJyBpZiAodHlwZW9mIGl0ZW0gPT0gXFwnc3RyaW5nXFwnKSBpdGVtID0gXFwnXCJcXCcgKyBpdGVtOyAnO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgaWYgKHR5cGVvZiBpdGVtSW5kaWNlc1tpdGVtXSA9PSBcXCdudW1iZXJcXCcpIHsgJyArICgkdmFsaWQpICsgJyA9IGZhbHNlOyBqID0gaXRlbUluZGljZXNbaXRlbV07IGJyZWFrOyB9IGl0ZW1JbmRpY2VzW2l0ZW1dID0gaTsgfSAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyB9ICc7XG4gICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgIG91dCArPSAnICB9ICAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyBpZiAoIScgKyAoJHZhbGlkKSArICcpIHsgICAnO1xuICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgICBvdXQgPSAnJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCd1bmlxdWVJdGVtcycpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsgaTogaSwgajogaiB9ICc7XG4gICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgTk9UIGhhdmUgZHVwbGljYXRlIGl0ZW1zIChpdGVtcyAjIyBcXCcgKyBqICsgXFwnIGFuZCBcXCcgKyBpICsgXFwnIGFyZSBpZGVudGljYWwpXFwnICc7XG4gICAgICB9XG4gICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgIG91dCArPSAnICwgc2NoZW1hOiAgJztcbiAgICAgICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgICAgICBvdXQgKz0gJ3ZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dCArPSAnJyArICgkc2NoZW1hKTtcbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gJyAgICAgICAgICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgfSAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyB7fSAnO1xuICAgIH1cbiAgICB2YXIgX19lcnIgPSBvdXQ7XG4gICAgb3V0ID0gJCRvdXRTdGFjay5wb3AoKTtcbiAgICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihbJyArIChfX2VycikgKyAnXSk7ICc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSBbJyArIChfX2VycikgKyAnXTsgcmV0dXJuIGZhbHNlOyAnO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyB2YXIgZXJyID0gJyArIChfX2VycikgKyAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gICAgfVxuICAgIG91dCArPSAnIH0gJztcbiAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgb3V0ICs9ICcgZWxzZSB7ICc7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICBvdXQgKz0gJyBpZiAodHJ1ZSkgeyAnO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vL2FsbCByZXF1aXJlcyBtdXN0IGJlIGV4cGxpY2l0IGJlY2F1c2UgYnJvd3NlcmlmeSB3b24ndCB3b3JrIHdpdGggZHluYW1pYyByZXF1aXJlc1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gICckcmVmJzogcmVxdWlyZSgnLi9yZWYnKSxcbiAgYWxsT2Y6IHJlcXVpcmUoJy4vYWxsT2YnKSxcbiAgYW55T2Y6IHJlcXVpcmUoJy4vYW55T2YnKSxcbiAgJyRjb21tZW50JzogcmVxdWlyZSgnLi9jb21tZW50JyksXG4gIGNvbnN0OiByZXF1aXJlKCcuL2NvbnN0JyksXG4gIGNvbnRhaW5zOiByZXF1aXJlKCcuL2NvbnRhaW5zJyksXG4gIGRlcGVuZGVuY2llczogcmVxdWlyZSgnLi9kZXBlbmRlbmNpZXMnKSxcbiAgJ2VudW0nOiByZXF1aXJlKCcuL2VudW0nKSxcbiAgZm9ybWF0OiByZXF1aXJlKCcuL2Zvcm1hdCcpLFxuICAnaWYnOiByZXF1aXJlKCcuL2lmJyksXG4gIGl0ZW1zOiByZXF1aXJlKCcuL2l0ZW1zJyksXG4gIG1heGltdW06IHJlcXVpcmUoJy4vX2xpbWl0JyksXG4gIG1pbmltdW06IHJlcXVpcmUoJy4vX2xpbWl0JyksXG4gIG1heEl0ZW1zOiByZXF1aXJlKCcuL19saW1pdEl0ZW1zJyksXG4gIG1pbkl0ZW1zOiByZXF1aXJlKCcuL19saW1pdEl0ZW1zJyksXG4gIG1heExlbmd0aDogcmVxdWlyZSgnLi9fbGltaXRMZW5ndGgnKSxcbiAgbWluTGVuZ3RoOiByZXF1aXJlKCcuL19saW1pdExlbmd0aCcpLFxuICBtYXhQcm9wZXJ0aWVzOiByZXF1aXJlKCcuL19saW1pdFByb3BlcnRpZXMnKSxcbiAgbWluUHJvcGVydGllczogcmVxdWlyZSgnLi9fbGltaXRQcm9wZXJ0aWVzJyksXG4gIG11bHRpcGxlT2Y6IHJlcXVpcmUoJy4vbXVsdGlwbGVPZicpLFxuICBub3Q6IHJlcXVpcmUoJy4vbm90JyksXG4gIG9uZU9mOiByZXF1aXJlKCcuL29uZU9mJyksXG4gIHBhdHRlcm46IHJlcXVpcmUoJy4vcGF0dGVybicpLFxuICBwcm9wZXJ0aWVzOiByZXF1aXJlKCcuL3Byb3BlcnRpZXMnKSxcbiAgcHJvcGVydHlOYW1lczogcmVxdWlyZSgnLi9wcm9wZXJ0eU5hbWVzJyksXG4gIHJlcXVpcmVkOiByZXF1aXJlKCcuL3JlcXVpcmVkJyksXG4gIHVuaXF1ZUl0ZW1zOiByZXF1aXJlKCcuL3VuaXF1ZUl0ZW1zJyksXG4gIHZhbGlkYXRlOiByZXF1aXJlKCcuL3ZhbGlkYXRlJylcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBydWxlTW9kdWxlcyA9IHJlcXVpcmUoJy4uL2RvdGpzJylcbiAgLCB0b0hhc2ggPSByZXF1aXJlKCcuL3V0aWwnKS50b0hhc2g7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcnVsZXMoKSB7XG4gIHZhciBSVUxFUyA9IFtcbiAgICB7IHR5cGU6ICdudW1iZXInLFxuICAgICAgcnVsZXM6IFsgeyAnbWF4aW11bSc6IFsnZXhjbHVzaXZlTWF4aW11bSddIH0sXG4gICAgICAgICAgICAgICB7ICdtaW5pbXVtJzogWydleGNsdXNpdmVNaW5pbXVtJ10gfSwgJ211bHRpcGxlT2YnLCAnZm9ybWF0J10gfSxcbiAgICB7IHR5cGU6ICdzdHJpbmcnLFxuICAgICAgcnVsZXM6IFsgJ21heExlbmd0aCcsICdtaW5MZW5ndGgnLCAncGF0dGVybicsICdmb3JtYXQnIF0gfSxcbiAgICB7IHR5cGU6ICdhcnJheScsXG4gICAgICBydWxlczogWyAnbWF4SXRlbXMnLCAnbWluSXRlbXMnLCAnaXRlbXMnLCAnY29udGFpbnMnLCAndW5pcXVlSXRlbXMnIF0gfSxcbiAgICB7IHR5cGU6ICdvYmplY3QnLFxuICAgICAgcnVsZXM6IFsgJ21heFByb3BlcnRpZXMnLCAnbWluUHJvcGVydGllcycsICdyZXF1aXJlZCcsICdkZXBlbmRlbmNpZXMnLCAncHJvcGVydHlOYW1lcycsXG4gICAgICAgICAgICAgICB7ICdwcm9wZXJ0aWVzJzogWydhZGRpdGlvbmFsUHJvcGVydGllcycsICdwYXR0ZXJuUHJvcGVydGllcyddIH0gXSB9LFxuICAgIHsgcnVsZXM6IFsgJyRyZWYnLCAnY29uc3QnLCAnZW51bScsICdub3QnLCAnYW55T2YnLCAnb25lT2YnLCAnYWxsT2YnLCAnaWYnIF0gfVxuICBdO1xuXG4gIHZhciBBTEwgPSBbICd0eXBlJywgJyRjb21tZW50JyBdO1xuICB2YXIgS0VZV09SRFMgPSBbXG4gICAgJyRzY2hlbWEnLCAnJGlkJywgJ2lkJywgJyRkYXRhJywgJyRhc3luYycsICd0aXRsZScsXG4gICAgJ2Rlc2NyaXB0aW9uJywgJ2RlZmF1bHQnLCAnZGVmaW5pdGlvbnMnLFxuICAgICdleGFtcGxlcycsICdyZWFkT25seScsICd3cml0ZU9ubHknLFxuICAgICdjb250ZW50TWVkaWFUeXBlJywgJ2NvbnRlbnRFbmNvZGluZycsXG4gICAgJ2FkZGl0aW9uYWxJdGVtcycsICd0aGVuJywgJ2Vsc2UnXG4gIF07XG4gIHZhciBUWVBFUyA9IFsgJ251bWJlcicsICdpbnRlZ2VyJywgJ3N0cmluZycsICdhcnJheScsICdvYmplY3QnLCAnYm9vbGVhbicsICdudWxsJyBdO1xuICBSVUxFUy5hbGwgPSB0b0hhc2goQUxMKTtcbiAgUlVMRVMudHlwZXMgPSB0b0hhc2goVFlQRVMpO1xuXG4gIFJVTEVTLmZvckVhY2goZnVuY3Rpb24gKGdyb3VwKSB7XG4gICAgZ3JvdXAucnVsZXMgPSBncm91cC5ydWxlcy5tYXAoZnVuY3Rpb24gKGtleXdvcmQpIHtcbiAgICAgIHZhciBpbXBsS2V5d29yZHM7XG4gICAgICBpZiAodHlwZW9mIGtleXdvcmQgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdmFyIGtleSA9IE9iamVjdC5rZXlzKGtleXdvcmQpWzBdO1xuICAgICAgICBpbXBsS2V5d29yZHMgPSBrZXl3b3JkW2tleV07XG4gICAgICAgIGtleXdvcmQgPSBrZXk7XG4gICAgICAgIGltcGxLZXl3b3Jkcy5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgQUxMLnB1c2goayk7XG4gICAgICAgICAgUlVMRVMuYWxsW2tdID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBBTEwucHVzaChrZXl3b3JkKTtcbiAgICAgIHZhciBydWxlID0gUlVMRVMuYWxsW2tleXdvcmRdID0ge1xuICAgICAgICBrZXl3b3JkOiBrZXl3b3JkLFxuICAgICAgICBjb2RlOiBydWxlTW9kdWxlc1trZXl3b3JkXSxcbiAgICAgICAgaW1wbGVtZW50czogaW1wbEtleXdvcmRzXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHJ1bGU7XG4gICAgfSk7XG5cbiAgICBSVUxFUy5hbGwuJGNvbW1lbnQgPSB7XG4gICAgICBrZXl3b3JkOiAnJGNvbW1lbnQnLFxuICAgICAgY29kZTogcnVsZU1vZHVsZXMuJGNvbW1lbnRcbiAgICB9O1xuXG4gICAgaWYgKGdyb3VwLnR5cGUpIFJVTEVTLnR5cGVzW2dyb3VwLnR5cGVdID0gZ3JvdXA7XG4gIH0pO1xuXG4gIFJVTEVTLmtleXdvcmRzID0gdG9IYXNoKEFMTC5jb25jYXQoS0VZV09SRFMpKTtcbiAgUlVMRVMuY3VzdG9tID0ge307XG5cbiAgcmV0dXJuIFJVTEVTO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEtFWVdPUkRTID0gW1xuICAnbXVsdGlwbGVPZicsXG4gICdtYXhpbXVtJyxcbiAgJ2V4Y2x1c2l2ZU1heGltdW0nLFxuICAnbWluaW11bScsXG4gICdleGNsdXNpdmVNaW5pbXVtJyxcbiAgJ21heExlbmd0aCcsXG4gICdtaW5MZW5ndGgnLFxuICAncGF0dGVybicsXG4gICdhZGRpdGlvbmFsSXRlbXMnLFxuICAnbWF4SXRlbXMnLFxuICAnbWluSXRlbXMnLFxuICAndW5pcXVlSXRlbXMnLFxuICAnbWF4UHJvcGVydGllcycsXG4gICdtaW5Qcm9wZXJ0aWVzJyxcbiAgJ3JlcXVpcmVkJyxcbiAgJ2FkZGl0aW9uYWxQcm9wZXJ0aWVzJyxcbiAgJ2VudW0nLFxuICAnZm9ybWF0JyxcbiAgJ2NvbnN0J1xuXTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobWV0YVNjaGVtYSwga2V5d29yZHNKc29uUG9pbnRlcnMpIHtcbiAgZm9yICh2YXIgaT0wOyBpPGtleXdvcmRzSnNvblBvaW50ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgbWV0YVNjaGVtYSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobWV0YVNjaGVtYSkpO1xuICAgIHZhciBzZWdtZW50cyA9IGtleXdvcmRzSnNvblBvaW50ZXJzW2ldLnNwbGl0KCcvJyk7XG4gICAgdmFyIGtleXdvcmRzID0gbWV0YVNjaGVtYTtcbiAgICB2YXIgajtcbiAgICBmb3IgKGo9MTsgajxzZWdtZW50cy5sZW5ndGg7IGorKylcbiAgICAgIGtleXdvcmRzID0ga2V5d29yZHNbc2VnbWVudHNbal1dO1xuXG4gICAgZm9yIChqPTA7IGo8S0VZV09SRFMubGVuZ3RoOyBqKyspIHtcbiAgICAgIHZhciBrZXkgPSBLRVlXT1JEU1tqXTtcbiAgICAgIHZhciBzY2hlbWEgPSBrZXl3b3Jkc1trZXldO1xuICAgICAgaWYgKHNjaGVtYSkge1xuICAgICAgICBrZXl3b3Jkc1trZXldID0ge1xuICAgICAgICAgIGFueU9mOiBbXG4gICAgICAgICAgICBzY2hlbWEsXG4gICAgICAgICAgICB7ICRyZWY6ICdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vYWp2LXZhbGlkYXRvci9hanYvbWFzdGVyL2xpYi9yZWZzL2RhdGEuanNvbiMnIH1cbiAgICAgICAgICBdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1ldGFTY2hlbWE7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgTWlzc2luZ1JlZkVycm9yID0gcmVxdWlyZSgnLi9lcnJvcl9jbGFzc2VzJykuTWlzc2luZ1JlZjtcblxubW9kdWxlLmV4cG9ydHMgPSBjb21waWxlQXN5bmM7XG5cblxuLyoqXG4gKiBDcmVhdGVzIHZhbGlkYXRpbmcgZnVuY3Rpb24gZm9yIHBhc3NlZCBzY2hlbWEgd2l0aCBhc3luY2hyb25vdXMgbG9hZGluZyBvZiBtaXNzaW5nIHNjaGVtYXMuXG4gKiBgbG9hZFNjaGVtYWAgb3B0aW9uIHNob3VsZCBiZSBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyBzY2hlbWEgdXJpIGFuZCByZXR1cm5zIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBzY2hlbWEuXG4gKiBAdGhpcyAgQWp2XG4gKiBAcGFyYW0ge09iamVjdH0gICBzY2hlbWEgc2NoZW1hIG9iamVjdFxuICogQHBhcmFtIHtCb29sZWFufSAgbWV0YSBvcHRpb25hbCB0cnVlIHRvIGNvbXBpbGUgbWV0YS1zY2hlbWE7IHRoaXMgcGFyYW1ldGVyIGNhbiBiZSBza2lwcGVkXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhbiBvcHRpb25hbCBub2RlLXN0eWxlIGNhbGxiYWNrLCBpdCBpcyBjYWxsZWQgd2l0aCAyIHBhcmFtZXRlcnM6IGVycm9yIChvciBudWxsKSBhbmQgdmFsaWRhdGluZyBmdW5jdGlvbi5cbiAqIEByZXR1cm4ge1Byb21pc2V9IHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIGEgdmFsaWRhdGluZyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY29tcGlsZUFzeW5jKHNjaGVtYSwgbWV0YSwgY2FsbGJhY2spIHtcbiAgLyogZXNsaW50IG5vLXNoYWRvdzogMCAqL1xuICAvKiBnbG9iYWwgUHJvbWlzZSAqL1xuICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKHR5cGVvZiB0aGlzLl9vcHRzLmxvYWRTY2hlbWEgIT0gJ2Z1bmN0aW9uJylcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ29wdGlvbnMubG9hZFNjaGVtYSBzaG91bGQgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICh0eXBlb2YgbWV0YSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBtZXRhO1xuICAgIG1ldGEgPSB1bmRlZmluZWQ7XG4gIH1cblxuICB2YXIgcCA9IGxvYWRNZXRhU2NoZW1hT2Yoc2NoZW1hKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2NoZW1hT2JqID0gc2VsZi5fYWRkU2NoZW1hKHNjaGVtYSwgdW5kZWZpbmVkLCBtZXRhKTtcbiAgICByZXR1cm4gc2NoZW1hT2JqLnZhbGlkYXRlIHx8IF9jb21waWxlQXN5bmMoc2NoZW1hT2JqKTtcbiAgfSk7XG5cbiAgaWYgKGNhbGxiYWNrKSB7XG4gICAgcC50aGVuKFxuICAgICAgZnVuY3Rpb24odikgeyBjYWxsYmFjayhudWxsLCB2KTsgfSxcbiAgICAgIGNhbGxiYWNrXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBwO1xuXG5cbiAgZnVuY3Rpb24gbG9hZE1ldGFTY2hlbWFPZihzY2gpIHtcbiAgICB2YXIgJHNjaGVtYSA9IHNjaC4kc2NoZW1hO1xuICAgIHJldHVybiAkc2NoZW1hICYmICFzZWxmLmdldFNjaGVtYSgkc2NoZW1hKVxuICAgICAgICAgICAgPyBjb21waWxlQXN5bmMuY2FsbChzZWxmLCB7ICRyZWY6ICRzY2hlbWEgfSwgdHJ1ZSlcbiAgICAgICAgICAgIDogUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIF9jb21waWxlQXN5bmMoc2NoZW1hT2JqKSB7XG4gICAgdHJ5IHsgcmV0dXJuIHNlbGYuX2NvbXBpbGUoc2NoZW1hT2JqKTsgfVxuICAgIGNhdGNoKGUpIHtcbiAgICAgIGlmIChlIGluc3RhbmNlb2YgTWlzc2luZ1JlZkVycm9yKSByZXR1cm4gbG9hZE1pc3NpbmdTY2hlbWEoZSk7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gbG9hZE1pc3NpbmdTY2hlbWEoZSkge1xuICAgICAgdmFyIHJlZiA9IGUubWlzc2luZ1NjaGVtYTtcbiAgICAgIGlmIChhZGRlZChyZWYpKSB0aHJvdyBuZXcgRXJyb3IoJ1NjaGVtYSAnICsgcmVmICsgJyBpcyBsb2FkZWQgYnV0ICcgKyBlLm1pc3NpbmdSZWYgKyAnIGNhbm5vdCBiZSByZXNvbHZlZCcpO1xuXG4gICAgICB2YXIgc2NoZW1hUHJvbWlzZSA9IHNlbGYuX2xvYWRpbmdTY2hlbWFzW3JlZl07XG4gICAgICBpZiAoIXNjaGVtYVByb21pc2UpIHtcbiAgICAgICAgc2NoZW1hUHJvbWlzZSA9IHNlbGYuX2xvYWRpbmdTY2hlbWFzW3JlZl0gPSBzZWxmLl9vcHRzLmxvYWRTY2hlbWEocmVmKTtcbiAgICAgICAgc2NoZW1hUHJvbWlzZS50aGVuKHJlbW92ZVByb21pc2UsIHJlbW92ZVByb21pc2UpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2NoZW1hUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzY2gpIHtcbiAgICAgICAgaWYgKCFhZGRlZChyZWYpKSB7XG4gICAgICAgICAgcmV0dXJuIGxvYWRNZXRhU2NoZW1hT2Yoc2NoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghYWRkZWQocmVmKSkgc2VsZi5hZGRTY2hlbWEoc2NoLCByZWYsIHVuZGVmaW5lZCwgbWV0YSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBfY29tcGlsZUFzeW5jKHNjaGVtYU9iaik7XG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gcmVtb3ZlUHJvbWlzZSgpIHtcbiAgICAgICAgZGVsZXRlIHNlbGYuX2xvYWRpbmdTY2hlbWFzW3JlZl07XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGFkZGVkKHJlZikge1xuICAgICAgICByZXR1cm4gc2VsZi5fcmVmc1tyZWZdIHx8IHNlbGYuX3NjaGVtYXNbcmVmXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2VuZXJhdGVfY3VzdG9tKGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZXJyb3JLZXl3b3JkO1xuICB2YXIgJGRhdGEgPSAnZGF0YScgKyAoJGRhdGFMdmwgfHwgJycpO1xuICB2YXIgJHZhbGlkID0gJ3ZhbGlkJyArICRsdmw7XG4gIHZhciAkZXJycyA9ICdlcnJzX18nICsgJGx2bDtcbiAgdmFyICRpc0RhdGEgPSBpdC5vcHRzLiRkYXRhICYmICRzY2hlbWEgJiYgJHNjaGVtYS4kZGF0YSxcbiAgICAkc2NoZW1hVmFsdWU7XG4gIGlmICgkaXNEYXRhKSB7XG4gICAgb3V0ICs9ICcgdmFyIHNjaGVtYScgKyAoJGx2bCkgKyAnID0gJyArIChpdC51dGlsLmdldERhdGEoJHNjaGVtYS4kZGF0YSwgJGRhdGFMdmwsIGl0LmRhdGFQYXRoQXJyKSkgKyAnOyAnO1xuICAgICRzY2hlbWFWYWx1ZSA9ICdzY2hlbWEnICsgJGx2bDtcbiAgfSBlbHNlIHtcbiAgICAkc2NoZW1hVmFsdWUgPSAkc2NoZW1hO1xuICB9XG4gIHZhciAkcnVsZSA9IHRoaXMsXG4gICAgJGRlZmluaXRpb24gPSAnZGVmaW5pdGlvbicgKyAkbHZsLFxuICAgICRyRGVmID0gJHJ1bGUuZGVmaW5pdGlvbixcbiAgICAkY2xvc2luZ0JyYWNlcyA9ICcnO1xuICB2YXIgJGNvbXBpbGUsICRpbmxpbmUsICRtYWNybywgJHJ1bGVWYWxpZGF0ZSwgJHZhbGlkYXRlQ29kZTtcbiAgaWYgKCRpc0RhdGEgJiYgJHJEZWYuJGRhdGEpIHtcbiAgICAkdmFsaWRhdGVDb2RlID0gJ2tleXdvcmRWYWxpZGF0ZScgKyAkbHZsO1xuICAgIHZhciAkdmFsaWRhdGVTY2hlbWEgPSAkckRlZi52YWxpZGF0ZVNjaGVtYTtcbiAgICBvdXQgKz0gJyB2YXIgJyArICgkZGVmaW5pdGlvbikgKyAnID0gUlVMRVMuY3VzdG9tW1xcJycgKyAoJGtleXdvcmQpICsgJ1xcJ10uZGVmaW5pdGlvbjsgdmFyICcgKyAoJHZhbGlkYXRlQ29kZSkgKyAnID0gJyArICgkZGVmaW5pdGlvbikgKyAnLnZhbGlkYXRlOyc7XG4gIH0gZWxzZSB7XG4gICAgJHJ1bGVWYWxpZGF0ZSA9IGl0LnVzZUN1c3RvbVJ1bGUoJHJ1bGUsICRzY2hlbWEsIGl0LnNjaGVtYSwgaXQpO1xuICAgIGlmICghJHJ1bGVWYWxpZGF0ZSkgcmV0dXJuO1xuICAgICRzY2hlbWFWYWx1ZSA9ICd2YWxpZGF0ZS5zY2hlbWEnICsgJHNjaGVtYVBhdGg7XG4gICAgJHZhbGlkYXRlQ29kZSA9ICRydWxlVmFsaWRhdGUuY29kZTtcbiAgICAkY29tcGlsZSA9ICRyRGVmLmNvbXBpbGU7XG4gICAgJGlubGluZSA9ICRyRGVmLmlubGluZTtcbiAgICAkbWFjcm8gPSAkckRlZi5tYWNybztcbiAgfVxuICB2YXIgJHJ1bGVFcnJzID0gJHZhbGlkYXRlQ29kZSArICcuZXJyb3JzJyxcbiAgICAkaSA9ICdpJyArICRsdmwsXG4gICAgJHJ1bGVFcnIgPSAncnVsZUVycicgKyAkbHZsLFxuICAgICRhc3luY0tleXdvcmQgPSAkckRlZi5hc3luYztcbiAgaWYgKCRhc3luY0tleXdvcmQgJiYgIWl0LmFzeW5jKSB0aHJvdyBuZXcgRXJyb3IoJ2FzeW5jIGtleXdvcmQgaW4gc3luYyBzY2hlbWEnKTtcbiAgaWYgKCEoJGlubGluZSB8fCAkbWFjcm8pKSB7XG4gICAgb3V0ICs9ICcnICsgKCRydWxlRXJycykgKyAnID0gbnVsbDsnO1xuICB9XG4gIG91dCArPSAndmFyICcgKyAoJGVycnMpICsgJyA9IGVycm9yczt2YXIgJyArICgkdmFsaWQpICsgJzsnO1xuICBpZiAoJGlzRGF0YSAmJiAkckRlZi4kZGF0YSkge1xuICAgICRjbG9zaW5nQnJhY2VzICs9ICd9JztcbiAgICBvdXQgKz0gJyBpZiAoJyArICgkc2NoZW1hVmFsdWUpICsgJyA9PT0gdW5kZWZpbmVkKSB7ICcgKyAoJHZhbGlkKSArICcgPSB0cnVlOyB9IGVsc2UgeyAnO1xuICAgIGlmICgkdmFsaWRhdGVTY2hlbWEpIHtcbiAgICAgICRjbG9zaW5nQnJhY2VzICs9ICd9JztcbiAgICAgIG91dCArPSAnICcgKyAoJHZhbGlkKSArICcgPSAnICsgKCRkZWZpbml0aW9uKSArICcudmFsaWRhdGVTY2hlbWEoJyArICgkc2NoZW1hVmFsdWUpICsgJyk7IGlmICgnICsgKCR2YWxpZCkgKyAnKSB7ICc7XG4gICAgfVxuICB9XG4gIGlmICgkaW5saW5lKSB7XG4gICAgaWYgKCRyRGVmLnN0YXRlbWVudHMpIHtcbiAgICAgIG91dCArPSAnICcgKyAoJHJ1bGVWYWxpZGF0ZS52YWxpZGF0ZSkgKyAnICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnICcgKyAoJHZhbGlkKSArICcgPSAnICsgKCRydWxlVmFsaWRhdGUudmFsaWRhdGUpICsgJzsgJztcbiAgICB9XG4gIH0gZWxzZSBpZiAoJG1hY3JvKSB7XG4gICAgdmFyICRpdCA9IGl0LnV0aWwuY29weShpdCk7XG4gICAgdmFyICRjbG9zaW5nQnJhY2VzID0gJyc7XG4gICAgJGl0LmxldmVsKys7XG4gICAgdmFyICRuZXh0VmFsaWQgPSAndmFsaWQnICsgJGl0LmxldmVsO1xuICAgICRpdC5zY2hlbWEgPSAkcnVsZVZhbGlkYXRlLnZhbGlkYXRlO1xuICAgICRpdC5zY2hlbWFQYXRoID0gJyc7XG4gICAgdmFyICR3YXNDb21wb3NpdGUgPSBpdC5jb21wb3NpdGVSdWxlO1xuICAgIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9IHRydWU7XG4gICAgdmFyICRjb2RlID0gaXQudmFsaWRhdGUoJGl0KS5yZXBsYWNlKC92YWxpZGF0ZVxcLnNjaGVtYS9nLCAkdmFsaWRhdGVDb2RlKTtcbiAgICBpdC5jb21wb3NpdGVSdWxlID0gJGl0LmNvbXBvc2l0ZVJ1bGUgPSAkd2FzQ29tcG9zaXRlO1xuICAgIG91dCArPSAnICcgKyAoJGNvZGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgICBvdXQgPSAnJztcbiAgICBvdXQgKz0gJyAgJyArICgkdmFsaWRhdGVDb2RlKSArICcuY2FsbCggJztcbiAgICBpZiAoaXQub3B0cy5wYXNzQ29udGV4dCkge1xuICAgICAgb3V0ICs9ICd0aGlzJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICdzZWxmJztcbiAgICB9XG4gICAgaWYgKCRjb21waWxlIHx8ICRyRGVmLnNjaGVtYSA9PT0gZmFsc2UpIHtcbiAgICAgIG91dCArPSAnICwgJyArICgkZGF0YSkgKyAnICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnICwgJyArICgkc2NoZW1hVmFsdWUpICsgJyAsICcgKyAoJGRhdGEpICsgJyAsIHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICc7XG4gICAgfVxuICAgIG91dCArPSAnICwgKGRhdGFQYXRoIHx8IFxcJ1xcJyknO1xuICAgIGlmIChpdC5lcnJvclBhdGggIT0gJ1wiXCInKSB7XG4gICAgICBvdXQgKz0gJyArICcgKyAoaXQuZXJyb3JQYXRoKTtcbiAgICB9XG4gICAgdmFyICRwYXJlbnREYXRhID0gJGRhdGFMdmwgPyAnZGF0YScgKyAoKCRkYXRhTHZsIC0gMSkgfHwgJycpIDogJ3BhcmVudERhdGEnLFxuICAgICAgJHBhcmVudERhdGFQcm9wZXJ0eSA9ICRkYXRhTHZsID8gaXQuZGF0YVBhdGhBcnJbJGRhdGFMdmxdIDogJ3BhcmVudERhdGFQcm9wZXJ0eSc7XG4gICAgb3V0ICs9ICcgLCAnICsgKCRwYXJlbnREYXRhKSArICcgLCAnICsgKCRwYXJlbnREYXRhUHJvcGVydHkpICsgJyAsIHJvb3REYXRhICkgICc7XG4gICAgdmFyIGRlZl9jYWxsUnVsZVZhbGlkYXRlID0gb3V0O1xuICAgIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gICAgaWYgKCRyRGVmLmVycm9ycyA9PT0gZmFsc2UpIHtcbiAgICAgIG91dCArPSAnICcgKyAoJHZhbGlkKSArICcgPSAnO1xuICAgICAgaWYgKCRhc3luY0tleXdvcmQpIHtcbiAgICAgICAgb3V0ICs9ICdhd2FpdCAnO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcnICsgKGRlZl9jYWxsUnVsZVZhbGlkYXRlKSArICc7ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgkYXN5bmNLZXl3b3JkKSB7XG4gICAgICAgICRydWxlRXJycyA9ICdjdXN0b21FcnJvcnMnICsgJGx2bDtcbiAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJHJ1bGVFcnJzKSArICcgPSBudWxsOyB0cnkgeyAnICsgKCR2YWxpZCkgKyAnID0gYXdhaXQgJyArIChkZWZfY2FsbFJ1bGVWYWxpZGF0ZSkgKyAnOyB9IGNhdGNoIChlKSB7ICcgKyAoJHZhbGlkKSArICcgPSBmYWxzZTsgaWYgKGUgaW5zdGFuY2VvZiBWYWxpZGF0aW9uRXJyb3IpICcgKyAoJHJ1bGVFcnJzKSArICcgPSBlLmVycm9yczsgZWxzZSB0aHJvdyBlOyB9ICc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJyAnICsgKCRydWxlRXJycykgKyAnID0gbnVsbDsgJyArICgkdmFsaWQpICsgJyA9ICcgKyAoZGVmX2NhbGxSdWxlVmFsaWRhdGUpICsgJzsgJztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKCRyRGVmLm1vZGlmeWluZykge1xuICAgIG91dCArPSAnIGlmICgnICsgKCRwYXJlbnREYXRhKSArICcpICcgKyAoJGRhdGEpICsgJyA9ICcgKyAoJHBhcmVudERhdGEpICsgJ1snICsgKCRwYXJlbnREYXRhUHJvcGVydHkpICsgJ107JztcbiAgfVxuICBvdXQgKz0gJycgKyAoJGNsb3NpbmdCcmFjZXMpO1xuICBpZiAoJHJEZWYudmFsaWQpIHtcbiAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgb3V0ICs9ICcgaWYgKHRydWUpIHsgJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcgaWYgKCAnO1xuICAgIGlmICgkckRlZi52YWxpZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBvdXQgKz0gJyAhJztcbiAgICAgIGlmICgkbWFjcm8pIHtcbiAgICAgICAgb3V0ICs9ICcnICsgKCRuZXh0VmFsaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcnICsgKCR2YWxpZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnICcgKyAoISRyRGVmLnZhbGlkKSArICcgJztcbiAgICB9XG4gICAgb3V0ICs9ICcpIHsgJztcbiAgICAkZXJyb3JLZXl3b3JkID0gJHJ1bGUua2V5d29yZDtcbiAgICB2YXIgJCRvdXRTdGFjayA9ICQkb3V0U3RhY2sgfHwgW107XG4gICAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gICAgb3V0ID0gJyc7XG4gICAgdmFyICQkb3V0U3RhY2sgPSAkJG91dFN0YWNrIHx8IFtdO1xuICAgICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICAgIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJGVycm9yS2V5d29yZCB8fCAnY3VzdG9tJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBrZXl3b3JkOiBcXCcnICsgKCRydWxlLmtleXdvcmQpICsgJ1xcJyB9ICc7XG4gICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgcGFzcyBcIicgKyAoJHJ1bGUua2V5d29yZCkgKyAnXCIga2V5d29yZCB2YWxpZGF0aW9uXFwnICc7XG4gICAgICB9XG4gICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgIG91dCArPSAnICwgc2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICcgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyB9ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHt9ICc7XG4gICAgfVxuICAgIHZhciBfX2VyciA9IG91dDtcbiAgICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICAgIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChpdC5hc3luYykge1xuICAgICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgICB9XG4gICAgdmFyIGRlZl9jdXN0b21FcnJvciA9IG91dDtcbiAgICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICAgIGlmICgkaW5saW5lKSB7XG4gICAgICBpZiAoJHJEZWYuZXJyb3JzKSB7XG4gICAgICAgIGlmICgkckRlZi5lcnJvcnMgIT0gJ2Z1bGwnKSB7XG4gICAgICAgICAgb3V0ICs9ICcgIGZvciAodmFyICcgKyAoJGkpICsgJz0nICsgKCRlcnJzKSArICc7ICcgKyAoJGkpICsgJzxlcnJvcnM7ICcgKyAoJGkpICsgJysrKSB7IHZhciAnICsgKCRydWxlRXJyKSArICcgPSB2RXJyb3JzWycgKyAoJGkpICsgJ107IGlmICgnICsgKCRydWxlRXJyKSArICcuZGF0YVBhdGggPT09IHVuZGVmaW5lZCkgJyArICgkcnVsZUVycikgKyAnLmRhdGFQYXRoID0gKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnOyBpZiAoJyArICgkcnVsZUVycikgKyAnLnNjaGVtYVBhdGggPT09IHVuZGVmaW5lZCkgeyAnICsgKCRydWxlRXJyKSArICcuc2NoZW1hUGF0aCA9IFwiJyArICgkZXJyU2NoZW1hUGF0aCkgKyAnXCI7IH0gJztcbiAgICAgICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyAnICsgKCRydWxlRXJyKSArICcuc2NoZW1hID0gJyArICgkc2NoZW1hVmFsdWUpICsgJzsgJyArICgkcnVsZUVycikgKyAnLmRhdGEgPSAnICsgKCRkYXRhKSArICc7ICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIG91dCArPSAnIH0gJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCRyRGVmLmVycm9ycyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBvdXQgKz0gJyAnICsgKGRlZl9jdXN0b21FcnJvcikgKyAnICc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoJGVycnMpICsgJyA9PSBlcnJvcnMpIHsgJyArIChkZWZfY3VzdG9tRXJyb3IpICsgJyB9IGVsc2UgeyAgZm9yICh2YXIgJyArICgkaSkgKyAnPScgKyAoJGVycnMpICsgJzsgJyArICgkaSkgKyAnPGVycm9yczsgJyArICgkaSkgKyAnKyspIHsgdmFyICcgKyAoJHJ1bGVFcnIpICsgJyA9IHZFcnJvcnNbJyArICgkaSkgKyAnXTsgaWYgKCcgKyAoJHJ1bGVFcnIpICsgJy5kYXRhUGF0aCA9PT0gdW5kZWZpbmVkKSAnICsgKCRydWxlRXJyKSArICcuZGF0YVBhdGggPSAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICc7IGlmICgnICsgKCRydWxlRXJyKSArICcuc2NoZW1hUGF0aCA9PT0gdW5kZWZpbmVkKSB7ICcgKyAoJHJ1bGVFcnIpICsgJy5zY2hlbWFQYXRoID0gXCInICsgKCRlcnJTY2hlbWFQYXRoKSArICdcIjsgfSAnO1xuICAgICAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgICAgIG91dCArPSAnICcgKyAoJHJ1bGVFcnIpICsgJy5zY2hlbWEgPSAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnOyAnICsgKCRydWxlRXJyKSArICcuZGF0YSA9ICcgKyAoJGRhdGEpICsgJzsgJztcbiAgICAgICAgICB9XG4gICAgICAgICAgb3V0ICs9ICcgfSB9ICc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCRtYWNybykge1xuICAgICAgb3V0ICs9ICcgICB2YXIgZXJyID0gICAnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICAgICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCRlcnJvcktleXdvcmQgfHwgJ2N1c3RvbScpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsga2V5d29yZDogXFwnJyArICgkcnVsZS5rZXl3b3JkKSArICdcXCcgfSAnO1xuICAgICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBwYXNzIFwiJyArICgkcnVsZS5rZXl3b3JkKSArICdcIiBrZXl3b3JkIHZhbGlkYXRpb25cXCcgJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJyAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJyB7fSAnO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgICAgIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKHZFcnJvcnMpOyAnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IHZFcnJvcnM7IHJldHVybiBmYWxzZTsgJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoJHJEZWYuZXJyb3JzID09PSBmYWxzZSkge1xuICAgICAgICBvdXQgKz0gJyAnICsgKGRlZl9jdXN0b21FcnJvcikgKyAnICc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJyBpZiAoQXJyYXkuaXNBcnJheSgnICsgKCRydWxlRXJycykgKyAnKSkgeyBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9ICcgKyAoJHJ1bGVFcnJzKSArICc7IGVsc2UgdkVycm9ycyA9IHZFcnJvcnMuY29uY2F0KCcgKyAoJHJ1bGVFcnJzKSArICcpOyBlcnJvcnMgPSB2RXJyb3JzLmxlbmd0aDsgIGZvciAodmFyICcgKyAoJGkpICsgJz0nICsgKCRlcnJzKSArICc7ICcgKyAoJGkpICsgJzxlcnJvcnM7ICcgKyAoJGkpICsgJysrKSB7IHZhciAnICsgKCRydWxlRXJyKSArICcgPSB2RXJyb3JzWycgKyAoJGkpICsgJ107IGlmICgnICsgKCRydWxlRXJyKSArICcuZGF0YVBhdGggPT09IHVuZGVmaW5lZCkgJyArICgkcnVsZUVycikgKyAnLmRhdGFQYXRoID0gKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnOyAgJyArICgkcnVsZUVycikgKyAnLnNjaGVtYVBhdGggPSBcIicgKyAoJGVyclNjaGVtYVBhdGgpICsgJ1wiOyAgJztcbiAgICAgICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgICAgIG91dCArPSAnICcgKyAoJHJ1bGVFcnIpICsgJy5zY2hlbWEgPSAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnOyAnICsgKCRydWxlRXJyKSArICcuZGF0YSA9ICcgKyAoJGRhdGEpICsgJzsgJztcbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gJyB9IH0gZWxzZSB7ICcgKyAoZGVmX2N1c3RvbUVycm9yKSArICcgfSAnO1xuICAgICAgfVxuICAgIH1cbiAgICBvdXQgKz0gJyB9ICc7XG4gICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgIG91dCArPSAnIGVsc2UgeyAnO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgbWV0YVNjaGVtYSA9IHJlcXVpcmUoJy4vcmVmcy9qc29uLXNjaGVtYS1kcmFmdC0wNy5qc29uJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAkaWQ6ICdodHRwczovL2dpdGh1Yi5jb20vYWp2LXZhbGlkYXRvci9hanYvYmxvYi9tYXN0ZXIvbGliL2RlZmluaXRpb25fc2NoZW1hLmpzJyxcbiAgZGVmaW5pdGlvbnM6IHtcbiAgICBzaW1wbGVUeXBlczogbWV0YVNjaGVtYS5kZWZpbml0aW9ucy5zaW1wbGVUeXBlc1xuICB9LFxuICB0eXBlOiAnb2JqZWN0JyxcbiAgZGVwZW5kZW5jaWVzOiB7XG4gICAgc2NoZW1hOiBbJ3ZhbGlkYXRlJ10sXG4gICAgJGRhdGE6IFsndmFsaWRhdGUnXSxcbiAgICBzdGF0ZW1lbnRzOiBbJ2lubGluZSddLFxuICAgIHZhbGlkOiB7bm90OiB7cmVxdWlyZWQ6IFsnbWFjcm8nXX19XG4gIH0sXG4gIHByb3BlcnRpZXM6IHtcbiAgICB0eXBlOiBtZXRhU2NoZW1hLnByb3BlcnRpZXMudHlwZSxcbiAgICBzY2hlbWE6IHt0eXBlOiAnYm9vbGVhbid9LFxuICAgIHN0YXRlbWVudHM6IHt0eXBlOiAnYm9vbGVhbid9LFxuICAgIGRlcGVuZGVuY2llczoge1xuICAgICAgdHlwZTogJ2FycmF5JyxcbiAgICAgIGl0ZW1zOiB7dHlwZTogJ3N0cmluZyd9XG4gICAgfSxcbiAgICBtZXRhU2NoZW1hOiB7dHlwZTogJ29iamVjdCd9LFxuICAgIG1vZGlmeWluZzoge3R5cGU6ICdib29sZWFuJ30sXG4gICAgdmFsaWQ6IHt0eXBlOiAnYm9vbGVhbid9LFxuICAgICRkYXRhOiB7dHlwZTogJ2Jvb2xlYW4nfSxcbiAgICBhc3luYzoge3R5cGU6ICdib29sZWFuJ30sXG4gICAgZXJyb3JzOiB7XG4gICAgICBhbnlPZjogW1xuICAgICAgICB7dHlwZTogJ2Jvb2xlYW4nfSxcbiAgICAgICAge2NvbnN0OiAnZnVsbCd9XG4gICAgICBdXG4gICAgfVxuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgSURFTlRJRklFUiA9IC9eW2Etel8kXVthLXowLTlfJC1dKiQvaTtcbnZhciBjdXN0b21SdWxlQ29kZSA9IHJlcXVpcmUoJy4vZG90anMvY3VzdG9tJyk7XG52YXIgZGVmaW5pdGlvblNjaGVtYSA9IHJlcXVpcmUoJy4vZGVmaW5pdGlvbl9zY2hlbWEnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGFkZDogYWRkS2V5d29yZCxcbiAgZ2V0OiBnZXRLZXl3b3JkLFxuICByZW1vdmU6IHJlbW92ZUtleXdvcmQsXG4gIHZhbGlkYXRlOiB2YWxpZGF0ZUtleXdvcmRcbn07XG5cblxuLyoqXG4gKiBEZWZpbmUgY3VzdG9tIGtleXdvcmRcbiAqIEB0aGlzICBBanZcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXl3b3JkIGN1c3RvbSBrZXl3b3JkLCBzaG91bGQgYmUgdW5pcXVlIChpbmNsdWRpbmcgZGlmZmVyZW50IGZyb20gYWxsIHN0YW5kYXJkLCBjdXN0b20gYW5kIG1hY3JvIGtleXdvcmRzKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZpbml0aW9uIGtleXdvcmQgZGVmaW5pdGlvbiBvYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIGB0eXBlYCAodHlwZShzKSB3aGljaCB0aGUga2V5d29yZCBhcHBsaWVzIHRvKSwgYHZhbGlkYXRlYCBvciBgY29tcGlsZWAuXG4gKiBAcmV0dXJuIHtBanZ9IHRoaXMgZm9yIG1ldGhvZCBjaGFpbmluZ1xuICovXG5mdW5jdGlvbiBhZGRLZXl3b3JkKGtleXdvcmQsIGRlZmluaXRpb24pIHtcbiAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICAvKiBlc2xpbnQgbm8tc2hhZG93OiAwICovXG4gIHZhciBSVUxFUyA9IHRoaXMuUlVMRVM7XG4gIGlmIChSVUxFUy5rZXl3b3Jkc1trZXl3b3JkXSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0tleXdvcmQgJyArIGtleXdvcmQgKyAnIGlzIGFscmVhZHkgZGVmaW5lZCcpO1xuXG4gIGlmICghSURFTlRJRklFUi50ZXN0KGtleXdvcmQpKVxuICAgIHRocm93IG5ldyBFcnJvcignS2V5d29yZCAnICsga2V5d29yZCArICcgaXMgbm90IGEgdmFsaWQgaWRlbnRpZmllcicpO1xuXG4gIGlmIChkZWZpbml0aW9uKSB7XG4gICAgdGhpcy52YWxpZGF0ZUtleXdvcmQoZGVmaW5pdGlvbiwgdHJ1ZSk7XG5cbiAgICB2YXIgZGF0YVR5cGUgPSBkZWZpbml0aW9uLnR5cGU7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YVR5cGUpKSB7XG4gICAgICBmb3IgKHZhciBpPTA7IGk8ZGF0YVR5cGUubGVuZ3RoOyBpKyspXG4gICAgICAgIF9hZGRSdWxlKGtleXdvcmQsIGRhdGFUeXBlW2ldLCBkZWZpbml0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX2FkZFJ1bGUoa2V5d29yZCwgZGF0YVR5cGUsIGRlZmluaXRpb24pO1xuICAgIH1cblxuICAgIHZhciBtZXRhU2NoZW1hID0gZGVmaW5pdGlvbi5tZXRhU2NoZW1hO1xuICAgIGlmIChtZXRhU2NoZW1hKSB7XG4gICAgICBpZiAoZGVmaW5pdGlvbi4kZGF0YSAmJiB0aGlzLl9vcHRzLiRkYXRhKSB7XG4gICAgICAgIG1ldGFTY2hlbWEgPSB7XG4gICAgICAgICAgYW55T2Y6IFtcbiAgICAgICAgICAgIG1ldGFTY2hlbWEsXG4gICAgICAgICAgICB7ICckcmVmJzogJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9hanYtdmFsaWRhdG9yL2Fqdi9tYXN0ZXIvbGliL3JlZnMvZGF0YS5qc29uIycgfVxuICAgICAgICAgIF1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGRlZmluaXRpb24udmFsaWRhdGVTY2hlbWEgPSB0aGlzLmNvbXBpbGUobWV0YVNjaGVtYSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgUlVMRVMua2V5d29yZHNba2V5d29yZF0gPSBSVUxFUy5hbGxba2V5d29yZF0gPSB0cnVlO1xuXG5cbiAgZnVuY3Rpb24gX2FkZFJ1bGUoa2V5d29yZCwgZGF0YVR5cGUsIGRlZmluaXRpb24pIHtcbiAgICB2YXIgcnVsZUdyb3VwO1xuICAgIGZvciAodmFyIGk9MDsgaTxSVUxFUy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHJnID0gUlVMRVNbaV07XG4gICAgICBpZiAocmcudHlwZSA9PSBkYXRhVHlwZSkge1xuICAgICAgICBydWxlR3JvdXAgPSByZztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFydWxlR3JvdXApIHtcbiAgICAgIHJ1bGVHcm91cCA9IHsgdHlwZTogZGF0YVR5cGUsIHJ1bGVzOiBbXSB9O1xuICAgICAgUlVMRVMucHVzaChydWxlR3JvdXApO1xuICAgIH1cblxuICAgIHZhciBydWxlID0ge1xuICAgICAga2V5d29yZDoga2V5d29yZCxcbiAgICAgIGRlZmluaXRpb246IGRlZmluaXRpb24sXG4gICAgICBjdXN0b206IHRydWUsXG4gICAgICBjb2RlOiBjdXN0b21SdWxlQ29kZSxcbiAgICAgIGltcGxlbWVudHM6IGRlZmluaXRpb24uaW1wbGVtZW50c1xuICAgIH07XG4gICAgcnVsZUdyb3VwLnJ1bGVzLnB1c2gocnVsZSk7XG4gICAgUlVMRVMuY3VzdG9tW2tleXdvcmRdID0gcnVsZTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5cbi8qKlxuICogR2V0IGtleXdvcmRcbiAqIEB0aGlzICBBanZcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXl3b3JkIHByZS1kZWZpbmVkIG9yIGN1c3RvbSBrZXl3b3JkLlxuICogQHJldHVybiB7T2JqZWN0fEJvb2xlYW59IGN1c3RvbSBrZXl3b3JkIGRlZmluaXRpb24sIGB0cnVlYCBpZiBpdCBpcyBhIHByZWRlZmluZWQga2V5d29yZCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIGdldEtleXdvcmQoa2V5d29yZCkge1xuICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gIHZhciBydWxlID0gdGhpcy5SVUxFUy5jdXN0b21ba2V5d29yZF07XG4gIHJldHVybiBydWxlID8gcnVsZS5kZWZpbml0aW9uIDogdGhpcy5SVUxFUy5rZXl3b3Jkc1trZXl3b3JkXSB8fCBmYWxzZTtcbn1cblxuXG4vKipcbiAqIFJlbW92ZSBrZXl3b3JkXG4gKiBAdGhpcyAgQWp2XG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5d29yZCBwcmUtZGVmaW5lZCBvciBjdXN0b20ga2V5d29yZC5cbiAqIEByZXR1cm4ge0Fqdn0gdGhpcyBmb3IgbWV0aG9kIGNoYWluaW5nXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUtleXdvcmQoa2V5d29yZCkge1xuICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gIHZhciBSVUxFUyA9IHRoaXMuUlVMRVM7XG4gIGRlbGV0ZSBSVUxFUy5rZXl3b3Jkc1trZXl3b3JkXTtcbiAgZGVsZXRlIFJVTEVTLmFsbFtrZXl3b3JkXTtcbiAgZGVsZXRlIFJVTEVTLmN1c3RvbVtrZXl3b3JkXTtcbiAgZm9yICh2YXIgaT0wOyBpPFJVTEVTLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHJ1bGVzID0gUlVMRVNbaV0ucnVsZXM7XG4gICAgZm9yICh2YXIgaj0wOyBqPHJ1bGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICBpZiAocnVsZXNbal0ua2V5d29yZCA9PSBrZXl3b3JkKSB7XG4gICAgICAgIHJ1bGVzLnNwbGljZShqLCAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG5cbi8qKlxuICogVmFsaWRhdGUga2V5d29yZCBkZWZpbml0aW9uXG4gKiBAdGhpcyAgQWp2XG4gKiBAcGFyYW0ge09iamVjdH0gZGVmaW5pdGlvbiBrZXl3b3JkIGRlZmluaXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHtCb29sZWFufSB0aHJvd0Vycm9yIHRydWUgdG8gdGhyb3cgZXhjZXB0aW9uIGlmIGRlZmluaXRpb24gaXMgaW52YWxpZFxuICogQHJldHVybiB7Ym9vbGVhbn0gdmFsaWRhdGlvbiByZXN1bHRcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVLZXl3b3JkKGRlZmluaXRpb24sIHRocm93RXJyb3IpIHtcbiAgdmFsaWRhdGVLZXl3b3JkLmVycm9ycyA9IG51bGw7XG4gIHZhciB2ID0gdGhpcy5fdmFsaWRhdGVLZXl3b3JkID0gdGhpcy5fdmFsaWRhdGVLZXl3b3JkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgdGhpcy5jb21waWxlKGRlZmluaXRpb25TY2hlbWEsIHRydWUpO1xuXG4gIGlmICh2KGRlZmluaXRpb24pKSByZXR1cm4gdHJ1ZTtcbiAgdmFsaWRhdGVLZXl3b3JkLmVycm9ycyA9IHYuZXJyb3JzO1xuICBpZiAodGhyb3dFcnJvcilcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2N1c3RvbSBrZXl3b3JkIGRlZmluaXRpb24gaXMgaW52YWxpZDogJyAgKyB0aGlzLmVycm9yc1RleHQodi5lcnJvcnMpKTtcbiAgZWxzZVxuICAgIHJldHVybiBmYWxzZTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNvbXBpbGVTY2hlbWEgPSByZXF1aXJlKCcuL2NvbXBpbGUnKVxuICAsIHJlc29sdmUgPSByZXF1aXJlKCcuL2NvbXBpbGUvcmVzb2x2ZScpXG4gICwgQ2FjaGUgPSByZXF1aXJlKCcuL2NhY2hlJylcbiAgLCBTY2hlbWFPYmplY3QgPSByZXF1aXJlKCcuL2NvbXBpbGUvc2NoZW1hX29iaicpXG4gICwgc3RhYmxlU3RyaW5naWZ5ID0gcmVxdWlyZSgnZmFzdC1qc29uLXN0YWJsZS1zdHJpbmdpZnknKVxuICAsIGZvcm1hdHMgPSByZXF1aXJlKCcuL2NvbXBpbGUvZm9ybWF0cycpXG4gICwgcnVsZXMgPSByZXF1aXJlKCcuL2NvbXBpbGUvcnVsZXMnKVxuICAsICRkYXRhTWV0YVNjaGVtYSA9IHJlcXVpcmUoJy4vZGF0YScpXG4gICwgdXRpbCA9IHJlcXVpcmUoJy4vY29tcGlsZS91dGlsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQWp2O1xuXG5BanYucHJvdG90eXBlLnZhbGlkYXRlID0gdmFsaWRhdGU7XG5BanYucHJvdG90eXBlLmNvbXBpbGUgPSBjb21waWxlO1xuQWp2LnByb3RvdHlwZS5hZGRTY2hlbWEgPSBhZGRTY2hlbWE7XG5BanYucHJvdG90eXBlLmFkZE1ldGFTY2hlbWEgPSBhZGRNZXRhU2NoZW1hO1xuQWp2LnByb3RvdHlwZS52YWxpZGF0ZVNjaGVtYSA9IHZhbGlkYXRlU2NoZW1hO1xuQWp2LnByb3RvdHlwZS5nZXRTY2hlbWEgPSBnZXRTY2hlbWE7XG5BanYucHJvdG90eXBlLnJlbW92ZVNjaGVtYSA9IHJlbW92ZVNjaGVtYTtcbkFqdi5wcm90b3R5cGUuYWRkRm9ybWF0ID0gYWRkRm9ybWF0O1xuQWp2LnByb3RvdHlwZS5lcnJvcnNUZXh0ID0gZXJyb3JzVGV4dDtcblxuQWp2LnByb3RvdHlwZS5fYWRkU2NoZW1hID0gX2FkZFNjaGVtYTtcbkFqdi5wcm90b3R5cGUuX2NvbXBpbGUgPSBfY29tcGlsZTtcblxuQWp2LnByb3RvdHlwZS5jb21waWxlQXN5bmMgPSByZXF1aXJlKCcuL2NvbXBpbGUvYXN5bmMnKTtcbnZhciBjdXN0b21LZXl3b3JkID0gcmVxdWlyZSgnLi9rZXl3b3JkJyk7XG5BanYucHJvdG90eXBlLmFkZEtleXdvcmQgPSBjdXN0b21LZXl3b3JkLmFkZDtcbkFqdi5wcm90b3R5cGUuZ2V0S2V5d29yZCA9IGN1c3RvbUtleXdvcmQuZ2V0O1xuQWp2LnByb3RvdHlwZS5yZW1vdmVLZXl3b3JkID0gY3VzdG9tS2V5d29yZC5yZW1vdmU7XG5BanYucHJvdG90eXBlLnZhbGlkYXRlS2V5d29yZCA9IGN1c3RvbUtleXdvcmQudmFsaWRhdGU7XG5cbnZhciBlcnJvckNsYXNzZXMgPSByZXF1aXJlKCcuL2NvbXBpbGUvZXJyb3JfY2xhc3NlcycpO1xuQWp2LlZhbGlkYXRpb25FcnJvciA9IGVycm9yQ2xhc3Nlcy5WYWxpZGF0aW9uO1xuQWp2Lk1pc3NpbmdSZWZFcnJvciA9IGVycm9yQ2xhc3Nlcy5NaXNzaW5nUmVmO1xuQWp2LiRkYXRhTWV0YVNjaGVtYSA9ICRkYXRhTWV0YVNjaGVtYTtcblxudmFyIE1FVEFfU0NIRU1BX0lEID0gJ2h0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hJztcblxudmFyIE1FVEFfSUdOT1JFX09QVElPTlMgPSBbICdyZW1vdmVBZGRpdGlvbmFsJywgJ3VzZURlZmF1bHRzJywgJ2NvZXJjZVR5cGVzJywgJ3N0cmljdERlZmF1bHRzJyBdO1xudmFyIE1FVEFfU1VQUE9SVF9EQVRBID0gWycvcHJvcGVydGllcyddO1xuXG4vKipcbiAqIENyZWF0ZXMgdmFsaWRhdG9yIGluc3RhbmNlLlxuICogVXNhZ2U6IGBBanYob3B0cylgXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0cyBvcHRpb25hbCBvcHRpb25zXG4gKiBAcmV0dXJuIHtPYmplY3R9IGFqdiBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBBanYob3B0cykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQWp2KSkgcmV0dXJuIG5ldyBBanYob3B0cyk7XG4gIG9wdHMgPSB0aGlzLl9vcHRzID0gdXRpbC5jb3B5KG9wdHMpIHx8IHt9O1xuICBzZXRMb2dnZXIodGhpcyk7XG4gIHRoaXMuX3NjaGVtYXMgPSB7fTtcbiAgdGhpcy5fcmVmcyA9IHt9O1xuICB0aGlzLl9mcmFnbWVudHMgPSB7fTtcbiAgdGhpcy5fZm9ybWF0cyA9IGZvcm1hdHMob3B0cy5mb3JtYXQpO1xuXG4gIHRoaXMuX2NhY2hlID0gb3B0cy5jYWNoZSB8fCBuZXcgQ2FjaGU7XG4gIHRoaXMuX2xvYWRpbmdTY2hlbWFzID0ge307XG4gIHRoaXMuX2NvbXBpbGF0aW9ucyA9IFtdO1xuICB0aGlzLlJVTEVTID0gcnVsZXMoKTtcbiAgdGhpcy5fZ2V0SWQgPSBjaG9vc2VHZXRJZChvcHRzKTtcblxuICBvcHRzLmxvb3BSZXF1aXJlZCA9IG9wdHMubG9vcFJlcXVpcmVkIHx8IEluZmluaXR5O1xuICBpZiAob3B0cy5lcnJvckRhdGFQYXRoID09ICdwcm9wZXJ0eScpIG9wdHMuX2Vycm9yRGF0YVBhdGhQcm9wZXJ0eSA9IHRydWU7XG4gIGlmIChvcHRzLnNlcmlhbGl6ZSA9PT0gdW5kZWZpbmVkKSBvcHRzLnNlcmlhbGl6ZSA9IHN0YWJsZVN0cmluZ2lmeTtcbiAgdGhpcy5fbWV0YU9wdHMgPSBnZXRNZXRhU2NoZW1hT3B0aW9ucyh0aGlzKTtcblxuICBpZiAob3B0cy5mb3JtYXRzKSBhZGRJbml0aWFsRm9ybWF0cyh0aGlzKTtcbiAgaWYgKG9wdHMua2V5d29yZHMpIGFkZEluaXRpYWxLZXl3b3Jkcyh0aGlzKTtcbiAgYWRkRGVmYXVsdE1ldGFTY2hlbWEodGhpcyk7XG4gIGlmICh0eXBlb2Ygb3B0cy5tZXRhID09ICdvYmplY3QnKSB0aGlzLmFkZE1ldGFTY2hlbWEob3B0cy5tZXRhKTtcbiAgaWYgKG9wdHMubnVsbGFibGUpIHRoaXMuYWRkS2V5d29yZCgnbnVsbGFibGUnLCB7bWV0YVNjaGVtYToge3R5cGU6ICdib29sZWFuJ319KTtcbiAgYWRkSW5pdGlhbFNjaGVtYXModGhpcyk7XG59XG5cblxuXG4vKipcbiAqIFZhbGlkYXRlIGRhdGEgdXNpbmcgc2NoZW1hXG4gKiBTY2hlbWEgd2lsbCBiZSBjb21waWxlZCBhbmQgY2FjaGVkICh1c2luZyBzZXJpYWxpemVkIEpTT04gYXMga2V5LiBbZmFzdC1qc29uLXN0YWJsZS1zdHJpbmdpZnldKGh0dHBzOi8vZ2l0aHViLmNvbS9lcG9iZXJlemtpbi9mYXN0LWpzb24tc3RhYmxlLXN0cmluZ2lmeSkgaXMgdXNlZCB0byBzZXJpYWxpemUuXG4gKiBAdGhpcyAgIEFqdlxuICogQHBhcmFtICB7U3RyaW5nfE9iamVjdH0gc2NoZW1hS2V5UmVmIGtleSwgcmVmIG9yIHNjaGVtYSBvYmplY3RcbiAqIEBwYXJhbSAge0FueX0gZGF0YSB0byBiZSB2YWxpZGF0ZWRcbiAqIEByZXR1cm4ge0Jvb2xlYW59IHZhbGlkYXRpb24gcmVzdWx0LiBFcnJvcnMgZnJvbSB0aGUgbGFzdCB2YWxpZGF0aW9uIHdpbGwgYmUgYXZhaWxhYmxlIGluIGBhanYuZXJyb3JzYCAoYW5kIGFsc28gaW4gY29tcGlsZWQgc2NoZW1hOiBgc2NoZW1hLmVycm9yc2ApLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZShzY2hlbWFLZXlSZWYsIGRhdGEpIHtcbiAgdmFyIHY7XG4gIGlmICh0eXBlb2Ygc2NoZW1hS2V5UmVmID09ICdzdHJpbmcnKSB7XG4gICAgdiA9IHRoaXMuZ2V0U2NoZW1hKHNjaGVtYUtleVJlZik7XG4gICAgaWYgKCF2KSB0aHJvdyBuZXcgRXJyb3IoJ25vIHNjaGVtYSB3aXRoIGtleSBvciByZWYgXCInICsgc2NoZW1hS2V5UmVmICsgJ1wiJyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHNjaGVtYU9iaiA9IHRoaXMuX2FkZFNjaGVtYShzY2hlbWFLZXlSZWYpO1xuICAgIHYgPSBzY2hlbWFPYmoudmFsaWRhdGUgfHwgdGhpcy5fY29tcGlsZShzY2hlbWFPYmopO1xuICB9XG5cbiAgdmFyIHZhbGlkID0gdihkYXRhKTtcbiAgaWYgKHYuJGFzeW5jICE9PSB0cnVlKSB0aGlzLmVycm9ycyA9IHYuZXJyb3JzO1xuICByZXR1cm4gdmFsaWQ7XG59XG5cblxuLyoqXG4gKiBDcmVhdGUgdmFsaWRhdGluZyBmdW5jdGlvbiBmb3IgcGFzc2VkIHNjaGVtYS5cbiAqIEB0aGlzICAgQWp2XG4gKiBAcGFyYW0gIHtPYmplY3R9IHNjaGVtYSBzY2hlbWEgb2JqZWN0XG4gKiBAcGFyYW0gIHtCb29sZWFufSBfbWV0YSB0cnVlIGlmIHNjaGVtYSBpcyBhIG1ldGEtc2NoZW1hLiBVc2VkIGludGVybmFsbHkgdG8gY29tcGlsZSBtZXRhIHNjaGVtYXMgb2YgY3VzdG9tIGtleXdvcmRzLlxuICogQHJldHVybiB7RnVuY3Rpb259IHZhbGlkYXRpbmcgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gY29tcGlsZShzY2hlbWEsIF9tZXRhKSB7XG4gIHZhciBzY2hlbWFPYmogPSB0aGlzLl9hZGRTY2hlbWEoc2NoZW1hLCB1bmRlZmluZWQsIF9tZXRhKTtcbiAgcmV0dXJuIHNjaGVtYU9iai52YWxpZGF0ZSB8fCB0aGlzLl9jb21waWxlKHNjaGVtYU9iaik7XG59XG5cblxuLyoqXG4gKiBBZGRzIHNjaGVtYSB0byB0aGUgaW5zdGFuY2UuXG4gKiBAdGhpcyAgIEFqdlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IHNjaGVtYSBzY2hlbWEgb3IgYXJyYXkgb2Ygc2NoZW1hcy4gSWYgYXJyYXkgaXMgcGFzc2VkLCBga2V5YCBhbmQgb3RoZXIgcGFyYW1ldGVycyB3aWxsIGJlIGlnbm9yZWQuXG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5IE9wdGlvbmFsIHNjaGVtYSBrZXkuIENhbiBiZSBwYXNzZWQgdG8gYHZhbGlkYXRlYCBtZXRob2QgaW5zdGVhZCBvZiBzY2hlbWEgb2JqZWN0IG9yIGlkL3JlZi4gT25lIHNjaGVtYSBwZXIgaW5zdGFuY2UgY2FuIGhhdmUgZW1wdHkgYGlkYCBhbmQgYGtleWAuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IF9za2lwVmFsaWRhdGlvbiB0cnVlIHRvIHNraXAgc2NoZW1hIHZhbGlkYXRpb24uIFVzZWQgaW50ZXJuYWxseSwgb3B0aW9uIHZhbGlkYXRlU2NoZW1hIHNob3VsZCBiZSB1c2VkIGluc3RlYWQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IF9tZXRhIHRydWUgaWYgc2NoZW1hIGlzIGEgbWV0YS1zY2hlbWEuIFVzZWQgaW50ZXJuYWxseSwgYWRkTWV0YVNjaGVtYSBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkLlxuICogQHJldHVybiB7QWp2fSB0aGlzIGZvciBtZXRob2QgY2hhaW5pbmdcbiAqL1xuZnVuY3Rpb24gYWRkU2NoZW1hKHNjaGVtYSwga2V5LCBfc2tpcFZhbGlkYXRpb24sIF9tZXRhKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYSkpe1xuICAgIGZvciAodmFyIGk9MDsgaTxzY2hlbWEubGVuZ3RoOyBpKyspIHRoaXMuYWRkU2NoZW1hKHNjaGVtYVtpXSwgdW5kZWZpbmVkLCBfc2tpcFZhbGlkYXRpb24sIF9tZXRhKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICB2YXIgaWQgPSB0aGlzLl9nZXRJZChzY2hlbWEpO1xuICBpZiAoaWQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgaWQgIT0gJ3N0cmluZycpXG4gICAgdGhyb3cgbmV3IEVycm9yKCdzY2hlbWEgaWQgbXVzdCBiZSBzdHJpbmcnKTtcbiAga2V5ID0gcmVzb2x2ZS5ub3JtYWxpemVJZChrZXkgfHwgaWQpO1xuICBjaGVja1VuaXF1ZSh0aGlzLCBrZXkpO1xuICB0aGlzLl9zY2hlbWFzW2tleV0gPSB0aGlzLl9hZGRTY2hlbWEoc2NoZW1hLCBfc2tpcFZhbGlkYXRpb24sIF9tZXRhLCB0cnVlKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cblxuLyoqXG4gKiBBZGQgc2NoZW1hIHRoYXQgd2lsbCBiZSB1c2VkIHRvIHZhbGlkYXRlIG90aGVyIHNjaGVtYXNcbiAqIG9wdGlvbnMgaW4gTUVUQV9JR05PUkVfT1BUSU9OUyBhcmUgYWx3YXkgc2V0IHRvIGZhbHNlXG4gKiBAdGhpcyAgIEFqdlxuICogQHBhcmFtIHtPYmplY3R9IHNjaGVtYSBzY2hlbWEgb2JqZWN0XG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5IG9wdGlvbmFsIHNjaGVtYSBrZXlcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gc2tpcFZhbGlkYXRpb24gdHJ1ZSB0byBza2lwIHNjaGVtYSB2YWxpZGF0aW9uLCBjYW4gYmUgdXNlZCB0byBvdmVycmlkZSB2YWxpZGF0ZVNjaGVtYSBvcHRpb24gZm9yIG1ldGEtc2NoZW1hXG4gKiBAcmV0dXJuIHtBanZ9IHRoaXMgZm9yIG1ldGhvZCBjaGFpbmluZ1xuICovXG5mdW5jdGlvbiBhZGRNZXRhU2NoZW1hKHNjaGVtYSwga2V5LCBza2lwVmFsaWRhdGlvbikge1xuICB0aGlzLmFkZFNjaGVtYShzY2hlbWEsIGtleSwgc2tpcFZhbGlkYXRpb24sIHRydWUpO1xuICByZXR1cm4gdGhpcztcbn1cblxuXG4vKipcbiAqIFZhbGlkYXRlIHNjaGVtYVxuICogQHRoaXMgICBBanZcbiAqIEBwYXJhbSB7T2JqZWN0fSBzY2hlbWEgc2NoZW1hIHRvIHZhbGlkYXRlXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHRocm93T3JMb2dFcnJvciBwYXNzIHRydWUgdG8gdGhyb3cgKG9yIGxvZykgYW4gZXJyb3IgaWYgaW52YWxpZFxuICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBzY2hlbWEgaXMgdmFsaWRcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVTY2hlbWEoc2NoZW1hLCB0aHJvd09yTG9nRXJyb3IpIHtcbiAgdmFyICRzY2hlbWEgPSBzY2hlbWEuJHNjaGVtYTtcbiAgaWYgKCRzY2hlbWEgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgJHNjaGVtYSAhPSAnc3RyaW5nJylcbiAgICB0aHJvdyBuZXcgRXJyb3IoJyRzY2hlbWEgbXVzdCBiZSBhIHN0cmluZycpO1xuICAkc2NoZW1hID0gJHNjaGVtYSB8fCB0aGlzLl9vcHRzLmRlZmF1bHRNZXRhIHx8IGRlZmF1bHRNZXRhKHRoaXMpO1xuICBpZiAoISRzY2hlbWEpIHtcbiAgICB0aGlzLmxvZ2dlci53YXJuKCdtZXRhLXNjaGVtYSBub3QgYXZhaWxhYmxlJyk7XG4gICAgdGhpcy5lcnJvcnMgPSBudWxsO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciB2YWxpZCA9IHRoaXMudmFsaWRhdGUoJHNjaGVtYSwgc2NoZW1hKTtcbiAgaWYgKCF2YWxpZCAmJiB0aHJvd09yTG9nRXJyb3IpIHtcbiAgICB2YXIgbWVzc2FnZSA9ICdzY2hlbWEgaXMgaW52YWxpZDogJyArIHRoaXMuZXJyb3JzVGV4dCgpO1xuICAgIGlmICh0aGlzLl9vcHRzLnZhbGlkYXRlU2NoZW1hID09ICdsb2cnKSB0aGlzLmxvZ2dlci5lcnJvcihtZXNzYWdlKTtcbiAgICBlbHNlIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgfVxuICByZXR1cm4gdmFsaWQ7XG59XG5cblxuZnVuY3Rpb24gZGVmYXVsdE1ldGEoc2VsZikge1xuICB2YXIgbWV0YSA9IHNlbGYuX29wdHMubWV0YTtcbiAgc2VsZi5fb3B0cy5kZWZhdWx0TWV0YSA9IHR5cGVvZiBtZXRhID09ICdvYmplY3QnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZWxmLl9nZXRJZChtZXRhKSB8fCBtZXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzZWxmLmdldFNjaGVtYShNRVRBX1NDSEVNQV9JRClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gTUVUQV9TQ0hFTUFfSURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICByZXR1cm4gc2VsZi5fb3B0cy5kZWZhdWx0TWV0YTtcbn1cblxuXG4vKipcbiAqIEdldCBjb21waWxlZCBzY2hlbWEgZnJvbSB0aGUgaW5zdGFuY2UgYnkgYGtleWAgb3IgYHJlZmAuXG4gKiBAdGhpcyAgIEFqdlxuICogQHBhcmFtICB7U3RyaW5nfSBrZXlSZWYgYGtleWAgdGhhdCB3YXMgcGFzc2VkIHRvIGBhZGRTY2hlbWFgIG9yIGZ1bGwgc2NoZW1hIHJlZmVyZW5jZSAoYHNjaGVtYS5pZGAgb3IgcmVzb2x2ZWQgaWQpLlxuICogQHJldHVybiB7RnVuY3Rpb259IHNjaGVtYSB2YWxpZGF0aW5nIGZ1bmN0aW9uICh3aXRoIHByb3BlcnR5IGBzY2hlbWFgKS5cbiAqL1xuZnVuY3Rpb24gZ2V0U2NoZW1hKGtleVJlZikge1xuICB2YXIgc2NoZW1hT2JqID0gX2dldFNjaGVtYU9iaih0aGlzLCBrZXlSZWYpO1xuICBzd2l0Y2ggKHR5cGVvZiBzY2hlbWFPYmopIHtcbiAgICBjYXNlICdvYmplY3QnOiByZXR1cm4gc2NoZW1hT2JqLnZhbGlkYXRlIHx8IHRoaXMuX2NvbXBpbGUoc2NoZW1hT2JqKTtcbiAgICBjYXNlICdzdHJpbmcnOiByZXR1cm4gdGhpcy5nZXRTY2hlbWEoc2NoZW1hT2JqKTtcbiAgICBjYXNlICd1bmRlZmluZWQnOiByZXR1cm4gX2dldFNjaGVtYUZyYWdtZW50KHRoaXMsIGtleVJlZik7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBfZ2V0U2NoZW1hRnJhZ21lbnQoc2VsZiwgcmVmKSB7XG4gIHZhciByZXMgPSByZXNvbHZlLnNjaGVtYS5jYWxsKHNlbGYsIHsgc2NoZW1hOiB7fSB9LCByZWYpO1xuICBpZiAocmVzKSB7XG4gICAgdmFyIHNjaGVtYSA9IHJlcy5zY2hlbWFcbiAgICAgICwgcm9vdCA9IHJlcy5yb290XG4gICAgICAsIGJhc2VJZCA9IHJlcy5iYXNlSWQ7XG4gICAgdmFyIHYgPSBjb21waWxlU2NoZW1hLmNhbGwoc2VsZiwgc2NoZW1hLCByb290LCB1bmRlZmluZWQsIGJhc2VJZCk7XG4gICAgc2VsZi5fZnJhZ21lbnRzW3JlZl0gPSBuZXcgU2NoZW1hT2JqZWN0KHtcbiAgICAgIHJlZjogcmVmLFxuICAgICAgZnJhZ21lbnQ6IHRydWUsXG4gICAgICBzY2hlbWE6IHNjaGVtYSxcbiAgICAgIHJvb3Q6IHJvb3QsXG4gICAgICBiYXNlSWQ6IGJhc2VJZCxcbiAgICAgIHZhbGlkYXRlOiB2XG4gICAgfSk7XG4gICAgcmV0dXJuIHY7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBfZ2V0U2NoZW1hT2JqKHNlbGYsIGtleVJlZikge1xuICBrZXlSZWYgPSByZXNvbHZlLm5vcm1hbGl6ZUlkKGtleVJlZik7XG4gIHJldHVybiBzZWxmLl9zY2hlbWFzW2tleVJlZl0gfHwgc2VsZi5fcmVmc1trZXlSZWZdIHx8IHNlbGYuX2ZyYWdtZW50c1trZXlSZWZdO1xufVxuXG5cbi8qKlxuICogUmVtb3ZlIGNhY2hlZCBzY2hlbWEocykuXG4gKiBJZiBubyBwYXJhbWV0ZXIgaXMgcGFzc2VkIGFsbCBzY2hlbWFzIGJ1dCBtZXRhLXNjaGVtYXMgYXJlIHJlbW92ZWQuXG4gKiBJZiBSZWdFeHAgaXMgcGFzc2VkIGFsbCBzY2hlbWFzIHdpdGgga2V5L2lkIG1hdGNoaW5nIHBhdHRlcm4gYnV0IG1ldGEtc2NoZW1hcyBhcmUgcmVtb3ZlZC5cbiAqIEV2ZW4gaWYgc2NoZW1hIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgc2NoZW1hcyBpdCBzdGlsbCBjYW4gYmUgcmVtb3ZlZCBhcyBvdGhlciBzY2hlbWFzIGhhdmUgbG9jYWwgcmVmZXJlbmNlcy5cbiAqIEB0aGlzICAgQWp2XG4gKiBAcGFyYW0gIHtTdHJpbmd8T2JqZWN0fFJlZ0V4cH0gc2NoZW1hS2V5UmVmIGtleSwgcmVmLCBwYXR0ZXJuIHRvIG1hdGNoIGtleS9yZWYgb3Igc2NoZW1hIG9iamVjdFxuICogQHJldHVybiB7QWp2fSB0aGlzIGZvciBtZXRob2QgY2hhaW5pbmdcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlU2NoZW1hKHNjaGVtYUtleVJlZikge1xuICBpZiAoc2NoZW1hS2V5UmVmIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgX3JlbW92ZUFsbFNjaGVtYXModGhpcywgdGhpcy5fc2NoZW1hcywgc2NoZW1hS2V5UmVmKTtcbiAgICBfcmVtb3ZlQWxsU2NoZW1hcyh0aGlzLCB0aGlzLl9yZWZzLCBzY2hlbWFLZXlSZWYpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHN3aXRjaCAodHlwZW9mIHNjaGVtYUtleVJlZikge1xuICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICBfcmVtb3ZlQWxsU2NoZW1hcyh0aGlzLCB0aGlzLl9zY2hlbWFzKTtcbiAgICAgIF9yZW1vdmVBbGxTY2hlbWFzKHRoaXMsIHRoaXMuX3JlZnMpO1xuICAgICAgdGhpcy5fY2FjaGUuY2xlYXIoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICB2YXIgc2NoZW1hT2JqID0gX2dldFNjaGVtYU9iaih0aGlzLCBzY2hlbWFLZXlSZWYpO1xuICAgICAgaWYgKHNjaGVtYU9iaikgdGhpcy5fY2FjaGUuZGVsKHNjaGVtYU9iai5jYWNoZUtleSk7XG4gICAgICBkZWxldGUgdGhpcy5fc2NoZW1hc1tzY2hlbWFLZXlSZWZdO1xuICAgICAgZGVsZXRlIHRoaXMuX3JlZnNbc2NoZW1hS2V5UmVmXTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICB2YXIgc2VyaWFsaXplID0gdGhpcy5fb3B0cy5zZXJpYWxpemU7XG4gICAgICB2YXIgY2FjaGVLZXkgPSBzZXJpYWxpemUgPyBzZXJpYWxpemUoc2NoZW1hS2V5UmVmKSA6IHNjaGVtYUtleVJlZjtcbiAgICAgIHRoaXMuX2NhY2hlLmRlbChjYWNoZUtleSk7XG4gICAgICB2YXIgaWQgPSB0aGlzLl9nZXRJZChzY2hlbWFLZXlSZWYpO1xuICAgICAgaWYgKGlkKSB7XG4gICAgICAgIGlkID0gcmVzb2x2ZS5ub3JtYWxpemVJZChpZCk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9zY2hlbWFzW2lkXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3JlZnNbaWRdO1xuICAgICAgfVxuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG5cbmZ1bmN0aW9uIF9yZW1vdmVBbGxTY2hlbWFzKHNlbGYsIHNjaGVtYXMsIHJlZ2V4KSB7XG4gIGZvciAodmFyIGtleVJlZiBpbiBzY2hlbWFzKSB7XG4gICAgdmFyIHNjaGVtYU9iaiA9IHNjaGVtYXNba2V5UmVmXTtcbiAgICBpZiAoIXNjaGVtYU9iai5tZXRhICYmICghcmVnZXggfHwgcmVnZXgudGVzdChrZXlSZWYpKSkge1xuICAgICAgc2VsZi5fY2FjaGUuZGVsKHNjaGVtYU9iai5jYWNoZUtleSk7XG4gICAgICBkZWxldGUgc2NoZW1hc1trZXlSZWZdO1xuICAgIH1cbiAgfVxufVxuXG5cbi8qIEB0aGlzICAgQWp2ICovXG5mdW5jdGlvbiBfYWRkU2NoZW1hKHNjaGVtYSwgc2tpcFZhbGlkYXRpb24sIG1ldGEsIHNob3VsZEFkZFNjaGVtYSkge1xuICBpZiAodHlwZW9mIHNjaGVtYSAhPSAnb2JqZWN0JyAmJiB0eXBlb2Ygc2NoZW1hICE9ICdib29sZWFuJylcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NjaGVtYSBzaG91bGQgYmUgb2JqZWN0IG9yIGJvb2xlYW4nKTtcbiAgdmFyIHNlcmlhbGl6ZSA9IHRoaXMuX29wdHMuc2VyaWFsaXplO1xuICB2YXIgY2FjaGVLZXkgPSBzZXJpYWxpemUgPyBzZXJpYWxpemUoc2NoZW1hKSA6IHNjaGVtYTtcbiAgdmFyIGNhY2hlZCA9IHRoaXMuX2NhY2hlLmdldChjYWNoZUtleSk7XG4gIGlmIChjYWNoZWQpIHJldHVybiBjYWNoZWQ7XG5cbiAgc2hvdWxkQWRkU2NoZW1hID0gc2hvdWxkQWRkU2NoZW1hIHx8IHRoaXMuX29wdHMuYWRkVXNlZFNjaGVtYSAhPT0gZmFsc2U7XG5cbiAgdmFyIGlkID0gcmVzb2x2ZS5ub3JtYWxpemVJZCh0aGlzLl9nZXRJZChzY2hlbWEpKTtcbiAgaWYgKGlkICYmIHNob3VsZEFkZFNjaGVtYSkgY2hlY2tVbmlxdWUodGhpcywgaWQpO1xuXG4gIHZhciB3aWxsVmFsaWRhdGUgPSB0aGlzLl9vcHRzLnZhbGlkYXRlU2NoZW1hICE9PSBmYWxzZSAmJiAhc2tpcFZhbGlkYXRpb247XG4gIHZhciByZWN1cnNpdmVNZXRhO1xuICBpZiAod2lsbFZhbGlkYXRlICYmICEocmVjdXJzaXZlTWV0YSA9IGlkICYmIGlkID09IHJlc29sdmUubm9ybWFsaXplSWQoc2NoZW1hLiRzY2hlbWEpKSlcbiAgICB0aGlzLnZhbGlkYXRlU2NoZW1hKHNjaGVtYSwgdHJ1ZSk7XG5cbiAgdmFyIGxvY2FsUmVmcyA9IHJlc29sdmUuaWRzLmNhbGwodGhpcywgc2NoZW1hKTtcblxuICB2YXIgc2NoZW1hT2JqID0gbmV3IFNjaGVtYU9iamVjdCh7XG4gICAgaWQ6IGlkLFxuICAgIHNjaGVtYTogc2NoZW1hLFxuICAgIGxvY2FsUmVmczogbG9jYWxSZWZzLFxuICAgIGNhY2hlS2V5OiBjYWNoZUtleSxcbiAgICBtZXRhOiBtZXRhXG4gIH0pO1xuXG4gIGlmIChpZFswXSAhPSAnIycgJiYgc2hvdWxkQWRkU2NoZW1hKSB0aGlzLl9yZWZzW2lkXSA9IHNjaGVtYU9iajtcbiAgdGhpcy5fY2FjaGUucHV0KGNhY2hlS2V5LCBzY2hlbWFPYmopO1xuXG4gIGlmICh3aWxsVmFsaWRhdGUgJiYgcmVjdXJzaXZlTWV0YSkgdGhpcy52YWxpZGF0ZVNjaGVtYShzY2hlbWEsIHRydWUpO1xuXG4gIHJldHVybiBzY2hlbWFPYmo7XG59XG5cblxuLyogQHRoaXMgICBBanYgKi9cbmZ1bmN0aW9uIF9jb21waWxlKHNjaGVtYU9iaiwgcm9vdCkge1xuICBpZiAoc2NoZW1hT2JqLmNvbXBpbGluZykge1xuICAgIHNjaGVtYU9iai52YWxpZGF0ZSA9IGNhbGxWYWxpZGF0ZTtcbiAgICBjYWxsVmFsaWRhdGUuc2NoZW1hID0gc2NoZW1hT2JqLnNjaGVtYTtcbiAgICBjYWxsVmFsaWRhdGUuZXJyb3JzID0gbnVsbDtcbiAgICBjYWxsVmFsaWRhdGUucm9vdCA9IHJvb3QgPyByb290IDogY2FsbFZhbGlkYXRlO1xuICAgIGlmIChzY2hlbWFPYmouc2NoZW1hLiRhc3luYyA9PT0gdHJ1ZSlcbiAgICAgIGNhbGxWYWxpZGF0ZS4kYXN5bmMgPSB0cnVlO1xuICAgIHJldHVybiBjYWxsVmFsaWRhdGU7XG4gIH1cbiAgc2NoZW1hT2JqLmNvbXBpbGluZyA9IHRydWU7XG5cbiAgdmFyIGN1cnJlbnRPcHRzO1xuICBpZiAoc2NoZW1hT2JqLm1ldGEpIHtcbiAgICBjdXJyZW50T3B0cyA9IHRoaXMuX29wdHM7XG4gICAgdGhpcy5fb3B0cyA9IHRoaXMuX21ldGFPcHRzO1xuICB9XG5cbiAgdmFyIHY7XG4gIHRyeSB7IHYgPSBjb21waWxlU2NoZW1hLmNhbGwodGhpcywgc2NoZW1hT2JqLnNjaGVtYSwgcm9vdCwgc2NoZW1hT2JqLmxvY2FsUmVmcyk7IH1cbiAgY2F0Y2goZSkge1xuICAgIGRlbGV0ZSBzY2hlbWFPYmoudmFsaWRhdGU7XG4gICAgdGhyb3cgZTtcbiAgfVxuICBmaW5hbGx5IHtcbiAgICBzY2hlbWFPYmouY29tcGlsaW5nID0gZmFsc2U7XG4gICAgaWYgKHNjaGVtYU9iai5tZXRhKSB0aGlzLl9vcHRzID0gY3VycmVudE9wdHM7XG4gIH1cblxuICBzY2hlbWFPYmoudmFsaWRhdGUgPSB2O1xuICBzY2hlbWFPYmoucmVmcyA9IHYucmVmcztcbiAgc2NoZW1hT2JqLnJlZlZhbCA9IHYucmVmVmFsO1xuICBzY2hlbWFPYmoucm9vdCA9IHYucm9vdDtcbiAgcmV0dXJuIHY7XG5cblxuICAvKiBAdGhpcyAgIHsqfSAtIGN1c3RvbSBjb250ZXh0LCBzZWUgcGFzc0NvbnRleHQgb3B0aW9uICovXG4gIGZ1bmN0aW9uIGNhbGxWYWxpZGF0ZSgpIHtcbiAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gICAgdmFyIF92YWxpZGF0ZSA9IHNjaGVtYU9iai52YWxpZGF0ZTtcbiAgICB2YXIgcmVzdWx0ID0gX3ZhbGlkYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgY2FsbFZhbGlkYXRlLmVycm9ycyA9IF92YWxpZGF0ZS5lcnJvcnM7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGNob29zZUdldElkKG9wdHMpIHtcbiAgc3dpdGNoIChvcHRzLnNjaGVtYUlkKSB7XG4gICAgY2FzZSAnYXV0byc6IHJldHVybiBfZ2V0JElkT3JJZDtcbiAgICBjYXNlICdpZCc6IHJldHVybiBfZ2V0SWQ7XG4gICAgZGVmYXVsdDogcmV0dXJuIF9nZXQkSWQ7XG4gIH1cbn1cblxuLyogQHRoaXMgICBBanYgKi9cbmZ1bmN0aW9uIF9nZXRJZChzY2hlbWEpIHtcbiAgaWYgKHNjaGVtYS4kaWQpIHRoaXMubG9nZ2VyLndhcm4oJ3NjaGVtYSAkaWQgaWdub3JlZCcsIHNjaGVtYS4kaWQpO1xuICByZXR1cm4gc2NoZW1hLmlkO1xufVxuXG4vKiBAdGhpcyAgIEFqdiAqL1xuZnVuY3Rpb24gX2dldCRJZChzY2hlbWEpIHtcbiAgaWYgKHNjaGVtYS5pZCkgdGhpcy5sb2dnZXIud2Fybignc2NoZW1hIGlkIGlnbm9yZWQnLCBzY2hlbWEuaWQpO1xuICByZXR1cm4gc2NoZW1hLiRpZDtcbn1cblxuXG5mdW5jdGlvbiBfZ2V0JElkT3JJZChzY2hlbWEpIHtcbiAgaWYgKHNjaGVtYS4kaWQgJiYgc2NoZW1hLmlkICYmIHNjaGVtYS4kaWQgIT0gc2NoZW1hLmlkKVxuICAgIHRocm93IG5ldyBFcnJvcignc2NoZW1hICRpZCBpcyBkaWZmZXJlbnQgZnJvbSBpZCcpO1xuICByZXR1cm4gc2NoZW1hLiRpZCB8fCBzY2hlbWEuaWQ7XG59XG5cblxuLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIGVycm9yIG1lc3NhZ2Ugb2JqZWN0cyB0byBzdHJpbmdcbiAqIEB0aGlzICAgQWp2XG4gKiBAcGFyYW0gIHtBcnJheTxPYmplY3Q+fSBlcnJvcnMgb3B0aW9uYWwgYXJyYXkgb2YgdmFsaWRhdGlvbiBlcnJvcnMsIGlmIG5vdCBwYXNzZWQgZXJyb3JzIGZyb20gdGhlIGluc3RhbmNlIGFyZSB1c2VkLlxuICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zIG9wdGlvbmFsIG9wdGlvbnMgd2l0aCBwcm9wZXJ0aWVzIGBzZXBhcmF0b3JgIGFuZCBgZGF0YVZhcmAuXG4gKiBAcmV0dXJuIHtTdHJpbmd9IGh1bWFuIHJlYWRhYmxlIHN0cmluZyB3aXRoIGFsbCBlcnJvcnMgZGVzY3JpcHRpb25zXG4gKi9cbmZ1bmN0aW9uIGVycm9yc1RleHQoZXJyb3JzLCBvcHRpb25zKSB7XG4gIGVycm9ycyA9IGVycm9ycyB8fCB0aGlzLmVycm9ycztcbiAgaWYgKCFlcnJvcnMpIHJldHVybiAnTm8gZXJyb3JzJztcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBzZXBhcmF0b3IgPSBvcHRpb25zLnNlcGFyYXRvciA9PT0gdW5kZWZpbmVkID8gJywgJyA6IG9wdGlvbnMuc2VwYXJhdG9yO1xuICB2YXIgZGF0YVZhciA9IG9wdGlvbnMuZGF0YVZhciA9PT0gdW5kZWZpbmVkID8gJ2RhdGEnIDogb3B0aW9ucy5kYXRhVmFyO1xuXG4gIHZhciB0ZXh0ID0gJyc7XG4gIGZvciAodmFyIGk9MDsgaTxlcnJvcnMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZSA9IGVycm9yc1tpXTtcbiAgICBpZiAoZSkgdGV4dCArPSBkYXRhVmFyICsgZS5kYXRhUGF0aCArICcgJyArIGUubWVzc2FnZSArIHNlcGFyYXRvcjtcbiAgfVxuICByZXR1cm4gdGV4dC5zbGljZSgwLCAtc2VwYXJhdG9yLmxlbmd0aCk7XG59XG5cblxuLyoqXG4gKiBBZGQgY3VzdG9tIGZvcm1hdFxuICogQHRoaXMgICBBanZcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIGZvcm1hdCBuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB8RnVuY3Rpb259IGZvcm1hdCBzdHJpbmcgaXMgY29udmVydGVkIHRvIFJlZ0V4cDsgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBib29sZWFuICh0cnVlIHdoZW4gdmFsaWQpXG4gKiBAcmV0dXJuIHtBanZ9IHRoaXMgZm9yIG1ldGhvZCBjaGFpbmluZ1xuICovXG5mdW5jdGlvbiBhZGRGb3JtYXQobmFtZSwgZm9ybWF0KSB7XG4gIGlmICh0eXBlb2YgZm9ybWF0ID09ICdzdHJpbmcnKSBmb3JtYXQgPSBuZXcgUmVnRXhwKGZvcm1hdCk7XG4gIHRoaXMuX2Zvcm1hdHNbbmFtZV0gPSBmb3JtYXQ7XG4gIHJldHVybiB0aGlzO1xufVxuXG5cbmZ1bmN0aW9uIGFkZERlZmF1bHRNZXRhU2NoZW1hKHNlbGYpIHtcbiAgdmFyICRkYXRhU2NoZW1hO1xuICBpZiAoc2VsZi5fb3B0cy4kZGF0YSkge1xuICAgICRkYXRhU2NoZW1hID0gcmVxdWlyZSgnLi9yZWZzL2RhdGEuanNvbicpO1xuICAgIHNlbGYuYWRkTWV0YVNjaGVtYSgkZGF0YVNjaGVtYSwgJGRhdGFTY2hlbWEuJGlkLCB0cnVlKTtcbiAgfVxuICBpZiAoc2VsZi5fb3B0cy5tZXRhID09PSBmYWxzZSkgcmV0dXJuO1xuICB2YXIgbWV0YVNjaGVtYSA9IHJlcXVpcmUoJy4vcmVmcy9qc29uLXNjaGVtYS1kcmFmdC0wNy5qc29uJyk7XG4gIGlmIChzZWxmLl9vcHRzLiRkYXRhKSBtZXRhU2NoZW1hID0gJGRhdGFNZXRhU2NoZW1hKG1ldGFTY2hlbWEsIE1FVEFfU1VQUE9SVF9EQVRBKTtcbiAgc2VsZi5hZGRNZXRhU2NoZW1hKG1ldGFTY2hlbWEsIE1FVEFfU0NIRU1BX0lELCB0cnVlKTtcbiAgc2VsZi5fcmVmc1snaHR0cDovL2pzb24tc2NoZW1hLm9yZy9zY2hlbWEnXSA9IE1FVEFfU0NIRU1BX0lEO1xufVxuXG5cbmZ1bmN0aW9uIGFkZEluaXRpYWxTY2hlbWFzKHNlbGYpIHtcbiAgdmFyIG9wdHNTY2hlbWFzID0gc2VsZi5fb3B0cy5zY2hlbWFzO1xuICBpZiAoIW9wdHNTY2hlbWFzKSByZXR1cm47XG4gIGlmIChBcnJheS5pc0FycmF5KG9wdHNTY2hlbWFzKSkgc2VsZi5hZGRTY2hlbWEob3B0c1NjaGVtYXMpO1xuICBlbHNlIGZvciAodmFyIGtleSBpbiBvcHRzU2NoZW1hcykgc2VsZi5hZGRTY2hlbWEob3B0c1NjaGVtYXNba2V5XSwga2V5KTtcbn1cblxuXG5mdW5jdGlvbiBhZGRJbml0aWFsRm9ybWF0cyhzZWxmKSB7XG4gIGZvciAodmFyIG5hbWUgaW4gc2VsZi5fb3B0cy5mb3JtYXRzKSB7XG4gICAgdmFyIGZvcm1hdCA9IHNlbGYuX29wdHMuZm9ybWF0c1tuYW1lXTtcbiAgICBzZWxmLmFkZEZvcm1hdChuYW1lLCBmb3JtYXQpO1xuICB9XG59XG5cblxuZnVuY3Rpb24gYWRkSW5pdGlhbEtleXdvcmRzKHNlbGYpIHtcbiAgZm9yICh2YXIgbmFtZSBpbiBzZWxmLl9vcHRzLmtleXdvcmRzKSB7XG4gICAgdmFyIGtleXdvcmQgPSBzZWxmLl9vcHRzLmtleXdvcmRzW25hbWVdO1xuICAgIHNlbGYuYWRkS2V5d29yZChuYW1lLCBrZXl3b3JkKTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGNoZWNrVW5pcXVlKHNlbGYsIGlkKSB7XG4gIGlmIChzZWxmLl9zY2hlbWFzW2lkXSB8fCBzZWxmLl9yZWZzW2lkXSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NjaGVtYSB3aXRoIGtleSBvciBpZCBcIicgKyBpZCArICdcIiBhbHJlYWR5IGV4aXN0cycpO1xufVxuXG5cbmZ1bmN0aW9uIGdldE1ldGFTY2hlbWFPcHRpb25zKHNlbGYpIHtcbiAgdmFyIG1ldGFPcHRzID0gdXRpbC5jb3B5KHNlbGYuX29wdHMpO1xuICBmb3IgKHZhciBpPTA7IGk8TUVUQV9JR05PUkVfT1BUSU9OUy5sZW5ndGg7IGkrKylcbiAgICBkZWxldGUgbWV0YU9wdHNbTUVUQV9JR05PUkVfT1BUSU9OU1tpXV07XG4gIHJldHVybiBtZXRhT3B0cztcbn1cblxuXG5mdW5jdGlvbiBzZXRMb2dnZXIoc2VsZikge1xuICB2YXIgbG9nZ2VyID0gc2VsZi5fb3B0cy5sb2dnZXI7XG4gIGlmIChsb2dnZXIgPT09IGZhbHNlKSB7XG4gICAgc2VsZi5sb2dnZXIgPSB7bG9nOiBub29wLCB3YXJuOiBub29wLCBlcnJvcjogbm9vcH07XG4gIH0gZWxzZSB7XG4gICAgaWYgKGxvZ2dlciA9PT0gdW5kZWZpbmVkKSBsb2dnZXIgPSBjb25zb2xlO1xuICAgIGlmICghKHR5cGVvZiBsb2dnZXIgPT0gJ29iamVjdCcgJiYgbG9nZ2VyLmxvZyAmJiBsb2dnZXIud2FybiAmJiBsb2dnZXIuZXJyb3IpKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdsb2dnZXIgbXVzdCBpbXBsZW1lbnQgbG9nLCB3YXJuIGFuZCBlcnJvciBtZXRob2RzJyk7XG4gICAgc2VsZi5sb2dnZXIgPSBsb2dnZXI7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBub29wKCkge31cbiIsImltcG9ydCB7IG1lcmdlQ2FwYWJpbGl0aWVzLCBQcm90b2NvbCwgfSBmcm9tIFwiLi4vc2hhcmVkL3Byb3RvY29sLmpzXCI7XG5pbXBvcnQgeyBDcmVhdGVNZXNzYWdlUmVzdWx0U2NoZW1hLCBFbGljaXRSZXN1bHRTY2hlbWEsIEVtcHR5UmVzdWx0U2NoZW1hLCBJbml0aWFsaXplZE5vdGlmaWNhdGlvblNjaGVtYSwgSW5pdGlhbGl6ZVJlcXVlc3RTY2hlbWEsIExBVEVTVF9QUk9UT0NPTF9WRVJTSU9OLCBMaXN0Um9vdHNSZXN1bHRTY2hlbWEsIE1jcEVycm9yLCBFcnJvckNvZGUsIFNVUFBPUlRFRF9QUk9UT0NPTF9WRVJTSU9OUywgfSBmcm9tIFwiLi4vdHlwZXMuanNcIjtcbmltcG9ydCBBanYgZnJvbSBcImFqdlwiO1xuLyoqXG4gKiBBbiBNQ1Agc2VydmVyIG9uIHRvcCBvZiBhIHBsdWdnYWJsZSB0cmFuc3BvcnQuXG4gKlxuICogVGhpcyBzZXJ2ZXIgd2lsbCBhdXRvbWF0aWNhbGx5IHJlc3BvbmQgdG8gdGhlIGluaXRpYWxpemF0aW9uIGZsb3cgYXMgaW5pdGlhdGVkIGZyb20gdGhlIGNsaWVudC5cbiAqXG4gKiBUbyB1c2Ugd2l0aCBjdXN0b20gdHlwZXMsIGV4dGVuZCB0aGUgYmFzZSBSZXF1ZXN0L05vdGlmaWNhdGlvbi9SZXN1bHQgdHlwZXMgYW5kIHBhc3MgdGhlbSBhcyB0eXBlIHBhcmFtZXRlcnM6XG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogLy8gQ3VzdG9tIHNjaGVtYXNcbiAqIGNvbnN0IEN1c3RvbVJlcXVlc3RTY2hlbWEgPSBSZXF1ZXN0U2NoZW1hLmV4dGVuZCh7Li4ufSlcbiAqIGNvbnN0IEN1c3RvbU5vdGlmaWNhdGlvblNjaGVtYSA9IE5vdGlmaWNhdGlvblNjaGVtYS5leHRlbmQoey4uLn0pXG4gKiBjb25zdCBDdXN0b21SZXN1bHRTY2hlbWEgPSBSZXN1bHRTY2hlbWEuZXh0ZW5kKHsuLi59KVxuICpcbiAqIC8vIFR5cGUgYWxpYXNlc1xuICogdHlwZSBDdXN0b21SZXF1ZXN0ID0gei5pbmZlcjx0eXBlb2YgQ3VzdG9tUmVxdWVzdFNjaGVtYT5cbiAqIHR5cGUgQ3VzdG9tTm90aWZpY2F0aW9uID0gei5pbmZlcjx0eXBlb2YgQ3VzdG9tTm90aWZpY2F0aW9uU2NoZW1hPlxuICogdHlwZSBDdXN0b21SZXN1bHQgPSB6LmluZmVyPHR5cGVvZiBDdXN0b21SZXN1bHRTY2hlbWE+XG4gKlxuICogLy8gQ3JlYXRlIHR5cGVkIHNlcnZlclxuICogY29uc3Qgc2VydmVyID0gbmV3IFNlcnZlcjxDdXN0b21SZXF1ZXN0LCBDdXN0b21Ob3RpZmljYXRpb24sIEN1c3RvbVJlc3VsdD4oe1xuICogICBuYW1lOiBcIkN1c3RvbVNlcnZlclwiLFxuICogICB2ZXJzaW9uOiBcIjEuMC4wXCJcbiAqIH0pXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFNlcnZlciBleHRlbmRzIFByb3RvY29sIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGlzIHNlcnZlciB3aXRoIHRoZSBnaXZlbiBuYW1lIGFuZCB2ZXJzaW9uIGluZm9ybWF0aW9uLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKF9zZXJ2ZXJJbmZvLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3NlcnZlckluZm8gPSBfc2VydmVySW5mbztcbiAgICAgICAgdGhpcy5fY2FwYWJpbGl0aWVzID0gKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmNhcGFiaWxpdGllcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge307XG4gICAgICAgIHRoaXMuX2luc3RydWN0aW9ucyA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5pbnN0cnVjdGlvbnM7XG4gICAgICAgIHRoaXMuc2V0UmVxdWVzdEhhbmRsZXIoSW5pdGlhbGl6ZVJlcXVlc3RTY2hlbWEsIChyZXF1ZXN0KSA9PiB0aGlzLl9vbmluaXRpYWxpemUocmVxdWVzdCkpO1xuICAgICAgICB0aGlzLnNldE5vdGlmaWNhdGlvbkhhbmRsZXIoSW5pdGlhbGl6ZWROb3RpZmljYXRpb25TY2hlbWEsICgpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gdGhpcy5vbmluaXRpYWxpemVkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0aGlzKTsgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBuZXcgY2FwYWJpbGl0aWVzLiBUaGlzIGNhbiBvbmx5IGJlIGNhbGxlZCBiZWZvcmUgY29ubmVjdGluZyB0byBhIHRyYW5zcG9ydC5cbiAgICAgKlxuICAgICAqIFRoZSBuZXcgY2FwYWJpbGl0aWVzIHdpbGwgYmUgbWVyZ2VkIHdpdGggYW55IGV4aXN0aW5nIGNhcGFiaWxpdGllcyBwcmV2aW91c2x5IGdpdmVuIChlLmcuLCBhdCBpbml0aWFsaXphdGlvbikuXG4gICAgICovXG4gICAgcmVnaXN0ZXJDYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzKSB7XG4gICAgICAgIGlmICh0aGlzLnRyYW5zcG9ydCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlZ2lzdGVyIGNhcGFiaWxpdGllcyBhZnRlciBjb25uZWN0aW5nIHRvIHRyYW5zcG9ydFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jYXBhYmlsaXRpZXMgPSBtZXJnZUNhcGFiaWxpdGllcyh0aGlzLl9jYXBhYmlsaXRpZXMsIGNhcGFiaWxpdGllcyk7XG4gICAgfVxuICAgIGFzc2VydENhcGFiaWxpdHlGb3JNZXRob2QobWV0aG9kKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBzd2l0Y2ggKG1ldGhvZCkge1xuICAgICAgICAgICAgY2FzZSBcInNhbXBsaW5nL2NyZWF0ZU1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICBpZiAoISgoX2EgPSB0aGlzLl9jbGllbnRDYXBhYmlsaXRpZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zYW1wbGluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDbGllbnQgZG9lcyBub3Qgc3VwcG9ydCBzYW1wbGluZyAocmVxdWlyZWQgZm9yICR7bWV0aG9kfSlgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZWxpY2l0YXRpb24vY3JlYXRlXCI6XG4gICAgICAgICAgICAgICAgaWYgKCEoKF9iID0gdGhpcy5fY2xpZW50Q2FwYWJpbGl0aWVzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZWxpY2l0YXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2xpZW50IGRvZXMgbm90IHN1cHBvcnQgZWxpY2l0YXRpb24gKHJlcXVpcmVkIGZvciAke21ldGhvZH0pYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInJvb3RzL2xpc3RcIjpcbiAgICAgICAgICAgICAgICBpZiAoISgoX2MgPSB0aGlzLl9jbGllbnRDYXBhYmlsaXRpZXMpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5yb290cykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDbGllbnQgZG9lcyBub3Qgc3VwcG9ydCBsaXN0aW5nIHJvb3RzIChyZXF1aXJlZCBmb3IgJHttZXRob2R9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJwaW5nXCI6XG4gICAgICAgICAgICAgICAgLy8gTm8gc3BlY2lmaWMgY2FwYWJpbGl0eSByZXF1aXJlZCBmb3IgcGluZ1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzc2VydE5vdGlmaWNhdGlvbkNhcGFiaWxpdHkobWV0aG9kKSB7XG4gICAgICAgIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgICAgICAgICBjYXNlIFwibm90aWZpY2F0aW9ucy9tZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jYXBhYmlsaXRpZXMubG9nZ2luZykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlcnZlciBkb2VzIG5vdCBzdXBwb3J0IGxvZ2dpbmcgKHJlcXVpcmVkIGZvciAke21ldGhvZH0pYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm5vdGlmaWNhdGlvbnMvcmVzb3VyY2VzL3VwZGF0ZWRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJub3RpZmljYXRpb25zL3Jlc291cmNlcy9saXN0X2NoYW5nZWRcIjpcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2NhcGFiaWxpdGllcy5yZXNvdXJjZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCBub3RpZnlpbmcgYWJvdXQgcmVzb3VyY2VzIChyZXF1aXJlZCBmb3IgJHttZXRob2R9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJub3RpZmljYXRpb25zL3Rvb2xzL2xpc3RfY2hhbmdlZFwiOlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY2FwYWJpbGl0aWVzLnRvb2xzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU2VydmVyIGRvZXMgbm90IHN1cHBvcnQgbm90aWZ5aW5nIG9mIHRvb2wgbGlzdCBjaGFuZ2VzIChyZXF1aXJlZCBmb3IgJHttZXRob2R9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJub3RpZmljYXRpb25zL3Byb21wdHMvbGlzdF9jaGFuZ2VkXCI6XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jYXBhYmlsaXRpZXMucHJvbXB0cykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlcnZlciBkb2VzIG5vdCBzdXBwb3J0IG5vdGlmeWluZyBvZiBwcm9tcHQgbGlzdCBjaGFuZ2VzIChyZXF1aXJlZCBmb3IgJHttZXRob2R9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJub3RpZmljYXRpb25zL2NhbmNlbGxlZFwiOlxuICAgICAgICAgICAgICAgIC8vIENhbmNlbGxhdGlvbiBub3RpZmljYXRpb25zIGFyZSBhbHdheXMgYWxsb3dlZFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm5vdGlmaWNhdGlvbnMvcHJvZ3Jlc3NcIjpcbiAgICAgICAgICAgICAgICAvLyBQcm9ncmVzcyBub3RpZmljYXRpb25zIGFyZSBhbHdheXMgYWxsb3dlZFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzc2VydFJlcXVlc3RIYW5kbGVyQ2FwYWJpbGl0eShtZXRob2QpIHtcbiAgICAgICAgc3dpdGNoIChtZXRob2QpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzYW1wbGluZy9jcmVhdGVNZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jYXBhYmlsaXRpZXMuc2FtcGxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCBzYW1wbGluZyAocmVxdWlyZWQgZm9yICR7bWV0aG9kfSlgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibG9nZ2luZy9zZXRMZXZlbFwiOlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY2FwYWJpbGl0aWVzLmxvZ2dpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCBsb2dnaW5nIChyZXF1aXJlZCBmb3IgJHttZXRob2R9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJwcm9tcHRzL2dldFwiOlxuICAgICAgICAgICAgY2FzZSBcInByb21wdHMvbGlzdFwiOlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY2FwYWJpbGl0aWVzLnByb21wdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCBwcm9tcHRzIChyZXF1aXJlZCBmb3IgJHttZXRob2R9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJyZXNvdXJjZXMvbGlzdFwiOlxuICAgICAgICAgICAgY2FzZSBcInJlc291cmNlcy90ZW1wbGF0ZXMvbGlzdFwiOlxuICAgICAgICAgICAgY2FzZSBcInJlc291cmNlcy9yZWFkXCI6XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jYXBhYmlsaXRpZXMucmVzb3VyY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU2VydmVyIGRvZXMgbm90IHN1cHBvcnQgcmVzb3VyY2VzIChyZXF1aXJlZCBmb3IgJHttZXRob2R9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ0b29scy9jYWxsXCI6XG4gICAgICAgICAgICBjYXNlIFwidG9vbHMvbGlzdFwiOlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY2FwYWJpbGl0aWVzLnRvb2xzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU2VydmVyIGRvZXMgbm90IHN1cHBvcnQgdG9vbHMgKHJlcXVpcmVkIGZvciAke21ldGhvZH0pYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInBpbmdcIjpcbiAgICAgICAgICAgIGNhc2UgXCJpbml0aWFsaXplXCI6XG4gICAgICAgICAgICAgICAgLy8gTm8gc3BlY2lmaWMgY2FwYWJpbGl0eSByZXF1aXJlZCBmb3IgdGhlc2UgbWV0aG9kc1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIF9vbmluaXRpYWxpemUocmVxdWVzdCkge1xuICAgICAgICBjb25zdCByZXF1ZXN0ZWRWZXJzaW9uID0gcmVxdWVzdC5wYXJhbXMucHJvdG9jb2xWZXJzaW9uO1xuICAgICAgICB0aGlzLl9jbGllbnRDYXBhYmlsaXRpZXMgPSByZXF1ZXN0LnBhcmFtcy5jYXBhYmlsaXRpZXM7XG4gICAgICAgIHRoaXMuX2NsaWVudFZlcnNpb24gPSByZXF1ZXN0LnBhcmFtcy5jbGllbnRJbmZvO1xuICAgICAgICBjb25zdCBwcm90b2NvbFZlcnNpb24gPSBTVVBQT1JURURfUFJPVE9DT0xfVkVSU0lPTlMuaW5jbHVkZXMocmVxdWVzdGVkVmVyc2lvbilcbiAgICAgICAgICAgID8gcmVxdWVzdGVkVmVyc2lvblxuICAgICAgICAgICAgOiBMQVRFU1RfUFJPVE9DT0xfVkVSU0lPTjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHByb3RvY29sVmVyc2lvbixcbiAgICAgICAgICAgIGNhcGFiaWxpdGllczogdGhpcy5nZXRDYXBhYmlsaXRpZXMoKSxcbiAgICAgICAgICAgIHNlcnZlckluZm86IHRoaXMuX3NlcnZlckluZm8sXG4gICAgICAgICAgICAuLi4odGhpcy5faW5zdHJ1Y3Rpb25zICYmIHsgaW5zdHJ1Y3Rpb25zOiB0aGlzLl9pbnN0cnVjdGlvbnMgfSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFmdGVyIGluaXRpYWxpemF0aW9uIGhhcyBjb21wbGV0ZWQsIHRoaXMgd2lsbCBiZSBwb3B1bGF0ZWQgd2l0aCB0aGUgY2xpZW50J3MgcmVwb3J0ZWQgY2FwYWJpbGl0aWVzLlxuICAgICAqL1xuICAgIGdldENsaWVudENhcGFiaWxpdGllcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudENhcGFiaWxpdGllcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWZ0ZXIgaW5pdGlhbGl6YXRpb24gaGFzIGNvbXBsZXRlZCwgdGhpcyB3aWxsIGJlIHBvcHVsYXRlZCB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjbGllbnQncyBuYW1lIGFuZCB2ZXJzaW9uLlxuICAgICAqL1xuICAgIGdldENsaWVudFZlcnNpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnRWZXJzaW9uO1xuICAgIH1cbiAgICBnZXRDYXBhYmlsaXRpZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYXBhYmlsaXRpZXM7XG4gICAgfVxuICAgIGFzeW5jIHBpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoeyBtZXRob2Q6IFwicGluZ1wiIH0sIEVtcHR5UmVzdWx0U2NoZW1hKTtcbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlTWVzc2FnZShwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCh7IG1ldGhvZDogXCJzYW1wbGluZy9jcmVhdGVNZXNzYWdlXCIsIHBhcmFtcyB9LCBDcmVhdGVNZXNzYWdlUmVzdWx0U2NoZW1hLCBvcHRpb25zKTtcbiAgICB9XG4gICAgYXN5bmMgZWxpY2l0SW5wdXQocGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucmVxdWVzdCh7IG1ldGhvZDogXCJlbGljaXRhdGlvbi9jcmVhdGVcIiwgcGFyYW1zIH0sIEVsaWNpdFJlc3VsdFNjaGVtYSwgb3B0aW9ucyk7XG4gICAgICAgIC8vIFZhbGlkYXRlIHRoZSByZXNwb25zZSBjb250ZW50IGFnYWluc3QgdGhlIHJlcXVlc3RlZCBzY2hlbWEgaWYgYWN0aW9uIGlzIFwiYWNjZXB0XCJcbiAgICAgICAgaWYgKHJlc3VsdC5hY3Rpb24gPT09IFwiYWNjZXB0XCIgJiYgcmVzdWx0LmNvbnRlbnQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWp2ID0gbmV3IEFqdigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRlID0gYWp2LmNvbXBpbGUocGFyYW1zLnJlcXVlc3RlZFNjaGVtYSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNWYWxpZCA9IHZhbGlkYXRlKHJlc3VsdC5jb250ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1jcEVycm9yKEVycm9yQ29kZS5JbnZhbGlkUGFyYW1zLCBgRWxpY2l0YXRpb24gcmVzcG9uc2UgY29udGVudCBkb2VzIG5vdCBtYXRjaCByZXF1ZXN0ZWQgc2NoZW1hOiAke2Fqdi5lcnJvcnNUZXh0KHZhbGlkYXRlLmVycm9ycyl9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgTWNwRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNY3BFcnJvcihFcnJvckNvZGUuSW50ZXJuYWxFcnJvciwgYEVycm9yIHZhbGlkYXRpbmcgZWxpY2l0YXRpb24gcmVzcG9uc2U6ICR7ZXJyb3J9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgYXN5bmMgbGlzdFJvb3RzKHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHsgbWV0aG9kOiBcInJvb3RzL2xpc3RcIiwgcGFyYW1zIH0sIExpc3RSb290c1Jlc3VsdFNjaGVtYSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGFzeW5jIHNlbmRMb2dnaW5nTWVzc2FnZShwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm90aWZpY2F0aW9uKHsgbWV0aG9kOiBcIm5vdGlmaWNhdGlvbnMvbWVzc2FnZVwiLCBwYXJhbXMgfSk7XG4gICAgfVxuICAgIGFzeW5jIHNlbmRSZXNvdXJjZVVwZGF0ZWQocGFyYW1zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vdGlmaWNhdGlvbih7XG4gICAgICAgICAgICBtZXRob2Q6IFwibm90aWZpY2F0aW9ucy9yZXNvdXJjZXMvdXBkYXRlZFwiLFxuICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgc2VuZFJlc291cmNlTGlzdENoYW5nZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vdGlmaWNhdGlvbih7XG4gICAgICAgICAgICBtZXRob2Q6IFwibm90aWZpY2F0aW9ucy9yZXNvdXJjZXMvbGlzdF9jaGFuZ2VkXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBzZW5kVG9vbExpc3RDaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ub3RpZmljYXRpb24oeyBtZXRob2Q6IFwibm90aWZpY2F0aW9ucy90b29scy9saXN0X2NoYW5nZWRcIiB9KTtcbiAgICB9XG4gICAgYXN5bmMgc2VuZFByb21wdExpc3RDaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ub3RpZmljYXRpb24oeyBtZXRob2Q6IFwibm90aWZpY2F0aW9ucy9wcm9tcHRzL2xpc3RfY2hhbmdlZFwiIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImltcG9ydCB0eXBlIHsgSlNPTlJQQ01lc3NhZ2UgfSBmcm9tIFwiQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay90eXBlcy5qc1wiO1xuXG5leHBvcnQgdHlwZSBQb3N0TWVzc2FnZVRyYW5zcG9ydE1lc3NhZ2VUeXBlID0ge1xuICAgIGNoYW5uZWw6ICdzZHBwcCc7XG4gICAgcG9zdGVySWRlbnRpZmllcjogc3RyaW5nO1xuICAgIHBheWxvYWQ6IEpTT05SUENNZXNzYWdlO1xufSB8IHtcbiAgICBjaGFubmVsOiAnc2RwcHAtaGVhcnRiZWF0JztcbiAgICBwb3N0ZXJJZGVudGlmaWVyOiBzdHJpbmc7XG4gICAgdHlwZTogJ3BpbmcnIHwgJ3BvbmcnO1xuICAgIHRpbWVzdGFtcDogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgSGVhcnRiZWF0VGltZW91dEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHBvc3RlcklkZW50aWZpZXI6IHN0cmluZywgdGltZW91dDogbnVtYmVyKSB7XG4gICAgICAgIHN1cGVyKGBIZWFydGJlYXQgdGltZW91dCBmb3IgcG9zdGVyICR7cG9zdGVySWRlbnRpZmllcn0gYWZ0ZXIgJHt0aW1lb3V0fW1zYCk7XG4gICAgICAgIHRoaXMubmFtZSA9ICdIZWFydGJlYXRUaW1lb3V0RXJyb3InO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBQb3N0TWVzc2FnZVRyYW5zcG9ydE9wdGlvbnM8TElTVEVORVI+IHtcbiAgICBwb3N0ZXJJZGVudGlmaWVyOiBzdHJpbmc7XG4gICAgbWVzc2FnZVBvc3RlcjogKG1lc3NhZ2U6IHtcbiAgICAgICAgY2hhbm5lbDogc3RyaW5nO1xuICAgICAgICBwb3N0ZXJJZGVudGlmaWVyOiBzdHJpbmc7XG4gICAgICAgIHBheWxvYWQ/OiBKU09OUlBDTWVzc2FnZTtcbiAgICAgICAgdHlwZT86ICdwaW5nJyB8ICdwb25nJztcbiAgICAgICAgdGltZXN0YW1wPzogbnVtYmVyO1xuICAgIH0pID0+IHZvaWQ7XG4gICAgYWRkTWVzc2FnZUV2ZW50TGlzdGVuZXI6IChvcmlnaW5MaXN0ZW5lcjogKHBheWxvYWQ6IFBvc3RNZXNzYWdlVHJhbnNwb3J0TWVzc2FnZVR5cGUpID0+IHZvaWQpID0+IExJU1RFTkVSO1xuICAgIHJlbW92ZU1lc3NhZ2VFdmVudExpc3RlbmVyOiAobGlzdGVuZXI6IExJU1RFTkVSKSA9PiB2b2lkO1xuICAgIGhlYXJ0YmVhdEludGVydmFsPzogbnVtYmVyOyAvLyBtaWxsaXNlY29uZHMsIGRlZmF1bHQgMTUwMDBcbiAgICBoZWFydGJlYXRUaW1lb3V0PzogbnVtYmVyOyAvLyBtaWxsaXNlY29uZHMsIGRlZmF1bHQgNTAwMFxuICAgIGRlYnVnRGlzYWJsZUhlYXJ0YmVhdFJlc3BvbnNlPzogYm9vbGVhbjsgLy8gZGlzYWJsZSBwb25nIHJlc3BvbnNlcyBmb3IgdGVzdGluZ1xufSIsImltcG9ydCB0eXBlIHsgQXV0aEluZm8gfSBmcm9tIFwiQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay9zZXJ2ZXIvYXV0aC90eXBlcy5qc1wiO1xuaW1wb3J0IHR5cGUgeyBUcmFuc3BvcnQgfSBmcm9tIFwiQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay9zaGFyZWQvdHJhbnNwb3J0LmpzXCI7XG5pbXBvcnQgdHlwZSB7IFRyYW5zcG9ydFNlbmRPcHRpb25zIH0gZnJvbSBcIkBtb2RlbGNvbnRleHRwcm90b2NvbC9zZGsvc2hhcmVkL3RyYW5zcG9ydC5qc1wiO1xuaW1wb3J0IHR5cGUgeyBKU09OUlBDTWVzc2FnZSB9IGZyb20gXCJAbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL3R5cGVzLmpzXCI7XG5pbXBvcnQgeyBQb3N0TWVzc2FnZVRyYW5zcG9ydE1lc3NhZ2VUeXBlLCBQb3N0TWVzc2FnZVRyYW5zcG9ydE9wdGlvbnMsIEhlYXJ0YmVhdFRpbWVvdXRFcnJvciB9IGZyb20gXCIuL3NjaGVtYVwiO1xuXG5jb25zdCBzZXJ2ZXJUcmFuc3BvcnRNYXAgPSBuZXcgTWFwPHN0cmluZywgUG9zdE1lc3NhZ2VTZXJ2ZXJUcmFuc3BvcnQ8YW55Pj4oKTtcblxuY2xhc3MgUG9zdE1lc3NhZ2VTZXJ2ZXJUcmFuc3BvcnQ8TElTVEVORVI+IGltcGxlbWVudHMgVHJhbnNwb3J0IHtcbiAgICBvbm1lc3NhZ2U/OiAobWVzc2FnZTogSlNPTlJQQ01lc3NhZ2UsIGV4dHJhPzoge1xuICAgICAgICBhdXRoSW5mbz86IEF1dGhJbmZvO1xuICAgIH0pID0+IHZvaWQ7XG4gICAgb25lcnJvcj86IChlcnJvcjogRXJyb3IpID0+IHZvaWQ7XG5cbiAgICBwcml2YXRlIHBvc3RlcklkZW50aWZpZXI6IHN0cmluZztcbiAgICBwcml2YXRlIG1lc3NhZ2VQb3N0ZXI6IFBvc3RNZXNzYWdlVHJhbnNwb3J0T3B0aW9uczxMSVNURU5FUj5bJ21lc3NhZ2VQb3N0ZXInXTtcbiAgICBwcml2YXRlIGFkZE1lc3NhZ2VFdmVudExpc3RlbmVyOiBQb3N0TWVzc2FnZVRyYW5zcG9ydE9wdGlvbnM8TElTVEVORVI+WydhZGRNZXNzYWdlRXZlbnRMaXN0ZW5lciddO1xuICAgIHByaXZhdGUgcmVtb3ZlTWVzc2FnZUV2ZW50TGlzdGVuZXI6IFBvc3RNZXNzYWdlVHJhbnNwb3J0T3B0aW9uczxMSVNURU5FUj5bJ3JlbW92ZU1lc3NhZ2VFdmVudExpc3RlbmVyJ107XG4gICAgcHJpdmF0ZSBtZXNzYWdlUXVldWU6IEpTT05SUENNZXNzYWdlW10gPSBbXTtcbiAgICBcbiAgICBwcml2YXRlIGhlYXJ0YmVhdEludGVydmFsOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBoZWFydGJlYXRUaW1lb3V0OiBudW1iZXI7XG4gICAgcHJpdmF0ZSBoZWFydGJlYXRUaW1lcj86IE5vZGVKUy5UaW1lb3V0O1xuICAgIHByaXZhdGUgaGVhcnRiZWF0VGltZW91dFRpbWVyPzogTm9kZUpTLlRpbWVvdXQ7XG4gICAgcHJpdmF0ZSBsYXN0UG9uZ1JlY2VpdmVkOiBudW1iZXIgPSBEYXRlLm5vdygpO1xuICAgIHByaXZhdGUgZGVidWdEaXNhYmxlSGVhcnRiZWF0UmVzcG9uc2U6IGJvb2xlYW47XG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogUG9zdE1lc3NhZ2VUcmFuc3BvcnRPcHRpb25zPExJU1RFTkVSPikge1xuICAgICAgICBpZiAoc2VydmVyVHJhbnNwb3J0TWFwLmhhcyhvcHRpb25zLnBvc3RlcklkZW50aWZpZXIpKSB7XG4gICAgICAgICAgICBjb25zdCBwcmV2VHJhbnNwb3J0ID0gc2VydmVyVHJhbnNwb3J0TWFwLmdldChvcHRpb25zLnBvc3RlcklkZW50aWZpZXIpO1xuICAgICAgICAgICAgaWYgKHByZXZUcmFuc3BvcnQpIHtcbiAgICAgICAgICAgICAgICBwcmV2VHJhbnNwb3J0LmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3N0ZXJJZGVudGlmaWVyID0gb3B0aW9ucy5wb3N0ZXJJZGVudGlmaWVyO1xuICAgICAgICB0aGlzLm1lc3NhZ2VQb3N0ZXIgPSBvcHRpb25zLm1lc3NhZ2VQb3N0ZXI7XG4gICAgICAgIHRoaXMuYWRkTWVzc2FnZUV2ZW50TGlzdGVuZXIgPSBvcHRpb25zLmFkZE1lc3NhZ2VFdmVudExpc3RlbmVyO1xuICAgICAgICB0aGlzLnJlbW92ZU1lc3NhZ2VFdmVudExpc3RlbmVyID0gb3B0aW9ucy5yZW1vdmVNZXNzYWdlRXZlbnRMaXN0ZW5lcjtcbiAgICAgICAgdGhpcy5oZWFydGJlYXRJbnRlcnZhbCA9IG9wdGlvbnMuaGVhcnRiZWF0SW50ZXJ2YWwgPz8gNTAwMDtcbiAgICAgICAgdGhpcy5oZWFydGJlYXRUaW1lb3V0ID0gb3B0aW9ucy5oZWFydGJlYXRUaW1lb3V0ID8/IDUwMDA7XG4gICAgICAgIHRoaXMuZGVidWdEaXNhYmxlSGVhcnRiZWF0UmVzcG9uc2UgPSBvcHRpb25zLmRlYnVnRGlzYWJsZUhlYXJ0YmVhdFJlc3BvbnNlID8/IGZhbHNlO1xuICAgICAgICBzZXJ2ZXJUcmFuc3BvcnRNYXAuc2V0KHRoaXMucG9zdGVySWRlbnRpZmllciwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5saXN0ZW5NZXNzYWdlQ2FsbGJhY2sgPSB0aGlzLmxpc3Rlbk1lc3NhZ2VDYWxsYmFjay5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmV4dGVybmFsTGlzdGVuTWVzc2FnZUNhbGxiYWNrID0gdGhpcy5hZGRNZXNzYWdlRXZlbnRMaXN0ZW5lcih0aGlzLmxpc3Rlbk1lc3NhZ2VDYWxsYmFjayk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBleHRlcm5hbExpc3Rlbk1lc3NhZ2VDYWxsYmFjazogTElTVEVORVI7XG4gICAgcHJpdmF0ZSBsaXN0ZW5NZXNzYWdlQ2FsbGJhY2sobWVzc2FnZTogUG9zdE1lc3NhZ2VUcmFuc3BvcnRNZXNzYWdlVHlwZSkge1xuICAgICAgICBpZiAobWVzc2FnZS5wb3N0ZXJJZGVudGlmaWVyICE9PSB0aGlzLnBvc3RlcklkZW50aWZpZXIpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIGlmIChtZXNzYWdlLmNoYW5uZWwgPT09ICdzZHBwcC1oZWFydGJlYXQnKSB7XG4gICAgICAgICAgICBpZiAobWVzc2FnZS50eXBlID09PSAncGluZycgJiYgIXRoaXMuZGVidWdEaXNhYmxlSGVhcnRiZWF0UmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VQb3N0ZXIoe1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVsOiAnc2RwcHAtaGVhcnRiZWF0JyxcbiAgICAgICAgICAgICAgICAgICAgcG9zdGVySWRlbnRpZmllcjogdGhpcy5wb3N0ZXJJZGVudGlmaWVyLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncG9uZycsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbWVzc2FnZS50aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gJ3BvbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0UG9uZ1JlY2VpdmVkID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oZWFydGJlYXRUaW1lb3V0VGltZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaGVhcnRiZWF0VGltZW91dFRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWFydGJlYXRUaW1lb3V0VGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAobWVzc2FnZS5jaGFubmVsICE9PSAnc2RwcHAnKSByZXR1cm47XG4gICAgICAgIGlmICh0aGlzLm9ubWVzc2FnZSAmJiAncGF5bG9hZCcgaW4gbWVzc2FnZSkge1xuICAgICAgICAgICAgdGhpcy5vbm1lc3NhZ2UobWVzc2FnZS5wYXlsb2FkKTtcbiAgICAgICAgfSBlbHNlIGlmICgncGF5bG9hZCcgaW4gbWVzc2FnZSkge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlUXVldWUucHVzaChtZXNzYWdlLnBheWxvYWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHN0YXJ0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB3aGlsZSAodGhpcy5tZXNzYWdlUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgcXVldWVkTWVzc2FnZSA9IHRoaXMubWVzc2FnZVF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAocXVldWVkTWVzc2FnZSAmJiB0aGlzLm9ubWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25tZXNzYWdlKHF1ZXVlZE1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhcnRIZWFydGJlYXQoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXJ0SGVhcnRiZWF0KCk6IHZvaWQge1xuICAgICAgICB0aGlzLmhlYXJ0YmVhdFRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZVBvc3Rlcih7XG4gICAgICAgICAgICAgICAgY2hhbm5lbDogJ3NkcHBwLWhlYXJ0YmVhdCcsXG4gICAgICAgICAgICAgICAgcG9zdGVySWRlbnRpZmllcjogdGhpcy5wb3N0ZXJJZGVudGlmaWVyLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdwaW5nJyxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5vdyxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmhlYXJ0YmVhdFRpbWVvdXRUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEhlYXJ0YmVhdFRpbWVvdXRFcnJvcih0aGlzLnBvc3RlcklkZW50aWZpZXIsIHRoaXMuaGVhcnRiZWF0VGltZW91dCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub25lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHRoaXMuaGVhcnRiZWF0VGltZW91dCk7XG4gICAgICAgIH0sIHRoaXMuaGVhcnRiZWF0SW50ZXJ2YWwpO1xuICAgIH1cbiAgICBhc3luYyBzZW5kKG1lc3NhZ2U6IEpTT05SUENNZXNzYWdlLCBvcHRpb25zPzogVHJhbnNwb3J0U2VuZE9wdGlvbnMpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgdGhpcy5tZXNzYWdlUG9zdGVyKHtcbiAgICAgICAgICAgIGNoYW5uZWw6ICdzZHBwcCcsXG4gICAgICAgICAgICBwb3N0ZXJJZGVudGlmaWVyOiB0aGlzLnBvc3RlcklkZW50aWZpZXIsXG4gICAgICAgICAgICBwYXlsb2FkOiBtZXNzYWdlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgY2xvc2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIGlmICh0aGlzLmhlYXJ0YmVhdFRpbWVyKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaGVhcnRiZWF0VGltZXIpO1xuICAgICAgICAgICAgdGhpcy5oZWFydGJlYXRUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oZWFydGJlYXRUaW1lb3V0VGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmhlYXJ0YmVhdFRpbWVvdXRUaW1lcik7XG4gICAgICAgICAgICB0aGlzLmhlYXJ0YmVhdFRpbWVvdXRUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBzZXJ2ZXJUcmFuc3BvcnRNYXAuZGVsZXRlKHRoaXMucG9zdGVySWRlbnRpZmllcik7XG4gICAgICAgIHRoaXMucmVtb3ZlTWVzc2FnZUV2ZW50TGlzdGVuZXIodGhpcy5leHRlcm5hbExpc3Rlbk1lc3NhZ2VDYWxsYmFjayk7XG4gICAgfVxufVxuXG5leHBvcnQgeyBQb3N0TWVzc2FnZVNlcnZlclRyYW5zcG9ydCB9OyIsImltcG9ydCB7IG1jcE1lc2ggfSBmcm9tICcuL21lc2gnO1xuaW1wb3J0ICcuL2xpYi9rZXknO1xuaW1wb3J0IHsgcmVnaXN0ZXJQcm94eURvbWFpbnMgfSBmcm9tICcuL2xpYi9mZXRjaC1wcm94eSc7XG5pbXBvcnQgJy4vYWN0aW9ucy9uYXZpZ2F0aW9uJztcbmltcG9ydCAnLi9zdG9yZS9zZGstc3RvcmUtbWFpbnRhaW5zJztcbmltcG9ydCB7IE1DUFNEUFBQU2Vzc2lvbkFkYXB0b3IgfSBmcm9tIFwiQHNkcHBwL21jcC1tZXNoXCI7XG5pbXBvcnQgeyBTZXJ2ZXIgfSBmcm9tIFwiQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay9zZXJ2ZXIvaW5kZXguanNcIjtcbmltcG9ydCB7IFBvc3RNZXNzYWdlU2VydmVyVHJhbnNwb3J0IH0gZnJvbSBcIkBzZHBwcC9tY3AtcG9zdG1lc3NhZ2UtdHJhbnNwb3J0XCI7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuXG5jb25zdCBsb2cgPSBsb2dnZXIuZXh0ZW5kKCdtZXNoJyk7XG5cbmFzeW5jIGZ1bmN0aW9uIGNvbm5lY3RTREsoKSB7XG4gICAgY29uc3QgdHJhbnNwb3J0ID0gbmV3IFBvc3RNZXNzYWdlU2VydmVyVHJhbnNwb3J0KHtcbiAgICAgICAgcG9zdGVySWRlbnRpZmllcjogJ3Nkay11eHAnLFxuICAgICAgICBtZXNzYWdlUG9zdGVyOiAobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgKHdpbmRvdyBhcyBhbnkpLnV4cEhvc3QucG9zdE1lc3NhZ2UobWVzc2FnZSwgJyonKTtcbiAgICAgICAgfSxcbiAgICAgICAgYWRkTWVzc2FnZUV2ZW50TGlzdGVuZXI6IChvcmlnaW5MaXN0ZW5lcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGlzdGVuZXIgPSAocGF5bG9hZDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgb3JpZ2luTGlzdGVuZXIocGF5bG9hZC5kYXRhKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGxpc3RlbmVyKTtcbiAgICAgICAgICAgIHJldHVybiBsaXN0ZW5lcjtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlTWVzc2FnZUV2ZW50TGlzdGVuZXI6IChsaXN0ZW5lcikgPT4ge1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHRyYW5zcG9ydC5vbmVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICAgIGxvZygnc2RrIHNpZGUgdHJhbnNwb3J0Lm9uZXJyb3InLCBlcnJvcik7XG4gICAgfTtcblxuICAgIGNvbnN0IHNlcnZlciA9IG5ldyBTZXJ2ZXIoe1xuICAgICAgICBuYW1lOiAnc2RrLW1haW4nLFxuICAgICAgICB2ZXJzaW9uOiAnMS4wLjAnXG4gICAgfSwge30pO1xuXG4gICAgY29uc3Qgc2Vzc2lvbiA9IG5ldyBNQ1BTRFBQUFNlc3Npb25BZGFwdG9yKHNlcnZlcik7XG4gICAgYXdhaXQgc2Vzc2lvbi5jb25uZWN0KHRyYW5zcG9ydCk7XG4gICAgXG4gICAgKHdpbmRvdyBhcyBhbnkpLnV4cEhvc3QucG9zdE1lc3NhZ2Uoe1xuICAgICAgICBjaGFubmVsOiAnbWNwLW1lc2gtcm91dGVyJyxcbiAgICAgICAgbWVzaE5hbWU6ICdzZGsnLFxuICAgICAgICBhY3Rpb246ICdjb25uZWN0J1xuICAgIH0sICcqJyk7XG4gICAgY29uc29sZS5sb2coJ1NES0Nvbm5lY3QgZW5kJylcblxuICAgIHJldHVybiBhd2FpdCBtY3BNZXNoLmNvbm5lY3QoJ3V4cCcsIHNlc3Npb24pO1xufVxuXG5leHBvcnQgeyBtY3BNZXNoLCBjb25uZWN0U0RLLCByZWdpc3RlclByb3h5RG9tYWlucyB9OyIsIlxuaW1wb3J0IHsgbWNwTWVzaCB9IGZyb20gXCIuL21lc2hcIjtcbmltcG9ydCB7IGNvbm5lY3RTREssIHJlZ2lzdGVyUHJveHlEb21haW5zIH0gZnJvbSBcIi4vbWVzaFwiO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSBcIi4vbG9nZ2VyXCI7XG5pbXBvcnQgeyBzZGtFdmVudEVtaXR0ZXIgfSBmcm9tIFwiLi9ldmVudHNcIjtcblxuZXhwb3J0IGNvbnN0IHNkcHBwU0RLID0ge1xuICAgIGFzeW5jIGluaXQoKSB7ICBcbiAgICAgICAgYXdhaXQgY29ubmVjdFNESygpO1xuICAgICAgICBsb2dnZXIoJ2NsaWVudCBjb25uZWN0ZWQnKVxuICAgIH0sIFxuICAgIGxvZ2dlcixcbiAgICBzdG9yZXM6IHtcbiAgICAgICAgUGhvdG9zaG9wU3RvcmU6IG1jcE1lc2guZ2V0Tm9kZSgndXhwJykuc3RvcmUsXG4gICAgICAgIFdlYnZpZXdTdG9yZTogbWNwTWVzaC5zdG9yZSwgXG4gICAgICAgIENvbWZ5U3RvcmU6IG1jcE1lc2guZ2V0Tm9kZSgnY29tZnknKS5zdG9yZVxuICAgIH0sXG4gICAgcGx1Z2luczoge1xuICAgICAgICBDb21meUNhbGxlcjogbWNwTWVzaC5nZXROb2RlKCdjb21meScpLmFjdGlvbnMsXG4gICAgICAgIHBob3Rvc2hvcDogbWNwTWVzaC5nZXROb2RlKCd1eHAnKS5hY3Rpb25zLFxuICAgICAgICBmZXRjaFByb3h5OiB7XG4gICAgICAgICAgICByZWdpc3RlclByb3h5RG9tYWluczogcmVnaXN0ZXJQcm94eURvbWFpbnMsXG4gICAgICAgIH0sXG5cbiAgICAgICAgc2RwcHBYOiBPYmplY3QuY3JlYXRlKHt9LCB7XG4gICAgICAgICAgICBicm9hZGNhc3Q6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogKG5hbWUsIHBheWxvYWQpPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIG1jcE1lc2guYnJvYWRjYXN0KG5hbWUsIHBheWxvYWQpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSBhcyBhbnlcbiAgICB9LFxuICAgIHV4cEV2ZW50OiB7XG4gICAgICAgIG9uOiBzZGtFdmVudEVtaXR0ZXIub24uYmluZChzZGtFdmVudEVtaXR0ZXIpLFxuICAgICAgICBvZmY6IHNka0V2ZW50RW1pdHRlci5vZmYuYmluZChzZGtFdmVudEVtaXR0ZXIpLFxuICAgICAgICBvbmNlOiBzZGtFdmVudEVtaXR0ZXIub25jZS5iaW5kKHNka0V2ZW50RW1pdHRlciksXG4gICAgICAgIHJlbW92ZUFsbExpc3RlbmVyczogc2RrRXZlbnRFbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycy5iaW5kKHNka0V2ZW50RW1pdHRlcilcbiAgICB9XG59XG5nbG9iYWxUaGlzLnNkcHBwU0RLID0gc2RwcHBTREs7XG5cbiJdLCJuYW1lcyI6WyJ1dGlsIiwiaXRlbXMiLCJvYmplY3RVdGlsIiwiZGF0YSIsImRlZmF1bHRFcnJvck1hcCIsImVycm9yVXRpbCIsImVycm9yTWFwIiwiZGVzY3JpcHRpb24iLCJjdHgiLCJyZXN1bHQiLCJpbmRleCIsImlzc3VlcyIsInR5cGUiLCJlbGVtZW50cyIsInByb2Nlc3NlZCIsIlpvZEZpcnN0UGFydHlUeXBlS2luZCIsInouYW55Iiwiei5vYmplY3QiLCJ6LmxpdGVyYWwiLCJ6LnN0cmluZyIsIm5vZGVJZCIsInouYm9vbGVhbiIsInoubnVtYmVyIiwiei5lbnVtIiwiei51bmlvbiIsInouYXJyYXkiLCJ6LnJlY29yZCIsInouZnVuY3Rpb24iLCJ6LmRpc2NyaW1pbmF0ZWRVbmlvbiIsInoudm9pZCIsIm1zIiwicmVxdWlyZSQkMCIsImRlYnVnIiwiZm9ybWF0IiwibG9nZ2VyIiwibWNwTWVzaCIsInpcbiAgICAub2JqZWN0Iiwiei5vcHRpb25hbCIsIkVycm9yQ29kZSIsInoudW5rbm93biIsInpcbiAgICAgICAgLm9iamVjdCIsInpcbiAgICAgICAgICAgIC5vYmplY3QiLCJfYSIsIl9iIiwianNvbnJwY05vdGlmaWNhdGlvbiIsInRoaXMiLCJleHBvcnRzIiwiSEVYRElHJCQiLCJQQ1RfRU5DT0RFRCQiLCJVTlJFU0VSVkVEJCQiLCJ1Y3MyZW5jb2RlIiwiYmFzaWNUb0RpZ2l0IiwiZGlnaXRUb0Jhc2ljIiwiYWRhcHQiLCJkZWNvZGUiLCJlbmNvZGUiLCJ0b1VuaWNvZGUiLCJ0b0FTQ0lJIiwiZGVjb2RlVW5yZXNlcnZlZCIsImJhc2UiLCJwYXJzZSIsInNlcmlhbGl6ZSIsInVjczJsZW5ndGgiLCJyZXF1aXJlJCQxIiwiT0siLCJydWxlcyIsImpzb25TY2hlbWFUcmF2ZXJzZU1vZHVsZSIsInJlcXVpcmUkJDIiLCJyZXF1aXJlJCQzIiwicmVxdWlyZSQkNCIsInJlZiIsInNlZW4iLCIkaWQiLCIkc2NoZW1hIiwiJHJ1bGVzR3JvdXAiLCIkcnVsZSIsInJlcXVpcmUkJDUiLCJ2YWxpZGF0ZSIsImxvY2FsUmVmcyIsImJhc2VJZCIsInYiLCJyZWZWYWwiLCJzY2hlbWEiLCJrZXl3b3JkIiwiY29tcGlsZSIsImNhY2hlTW9kdWxlIiwiQ2FjaGUiLCJVUkwiLCIkc2NoIiwicHJvcGVydGllcyIsInJlcXVpcmVkIiwicmVxdWlyZSQkNiIsInJlcXVpcmUkJDciLCJyZXF1aXJlJCQ4IiwicmVxdWlyZSQkOSIsInJlcXVpcmUkJDEwIiwicmVxdWlyZSQkMTEiLCJyZXF1aXJlJCQxMiIsInJlcXVpcmUkJDEzIiwicmVxdWlyZSQkMTQiLCJyZXF1aXJlJCQxNSIsInJlcXVpcmUkJDE2IiwicmVxdWlyZSQkMTciLCJyZXF1aXJlJCQxOCIsInJlcXVpcmUkJDE5IiwicmVxdWlyZSQkMjAiLCJyZXF1aXJlJCQyMSIsInJlcXVpcmUkJDIyIiwicmVxdWlyZSQkMjMiLCJkYXRhVHlwZSIsImRlZmluaXRpb24iLCJpIiwiQWp2IiwiYWp2IiwiaXNWYWxpZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7RUFFTyxNQUFNLHFCQUFxQjtBQUFBLElBR2hDLFlBQVksWUFBNkI7QUFGakM7QUFHTixXQUFLLGFBQWE7QUFDWixZQUFBLGFBQWEsS0FBSyxTQUFTO0FBQzdCLFVBQUEsQ0FBQyxXQUFXLE9BQU87QUFDZixjQUFBLElBQUksTUFBTSw2QkFBNkIsV0FBVyxPQUFPLEtBQUssSUFBSSxDQUFDLEVBQUU7QUFBQSxNQUFBO0FBQUEsSUFDN0U7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQU1NLFdBQTZCO0FBQ25DLFlBQU0sU0FBbUIsQ0FBQztBQUd0QixVQUFBLENBQUMsS0FBSyxXQUFXLFNBQVMsT0FBTyxLQUFLLEtBQUssV0FBVyxLQUFLLEVBQUUsV0FBVyxHQUFHO0FBQzdFLGVBQU8sS0FBSyxtQ0FBbUM7QUFBQSxNQUFBO0FBSWpELGlCQUFXLENBQUMsTUFBTSxFQUFFLEtBQUssS0FBSyxXQUFXLE9BQU87QUFDOUMsWUFBSSxDQUFDLEtBQUssV0FBVyxNQUFNLElBQUksR0FBRztBQUN6QixpQkFBQSxLQUFLLHdDQUF3QyxJQUFJLEVBQUU7QUFBQSxRQUFBO0FBRTVELFlB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QUMsT0FBTyxHQUFHLFNBQVMsT0FBTztBQUFBLElBQ2xFO0FBQUEsSUFDSSxJQUFJLFNBQVM7QUFDVCxhQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsTUFBTTtBQUFBLElBQ2pFO0FBQUEsSUFDSSxJQUFJLFdBQVc7QUFDWCxhQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsUUFBUTtBQUFBLElBQ25FO0FBQUEsSUFDSSxJQUFJLFNBQVM7QUFDVCxhQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsTUFBTTtBQUFBLElBQ2pFO0FBQUEsSUFDSSxJQUFJLFVBQVU7QUFDVixhQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsT0FBTztBQUFBLElBQ2xFO0FBQUEsSUFDSSxJQUFJLFNBQVM7QUFDVCxhQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsTUFBTTtBQUFBLElBQ2pFO0FBQUEsSUFDSSxJQUFJLE9BQU87QUFDUCxhQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsSUFBSTtBQUFBLElBQy9EO0FBQUEsSUFDSSxJQUFJLFNBQVM7QUFDVCxhQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsTUFBTTtBQUFBLElBQ2pFO0FBQUEsSUFDSSxJQUFJLFdBQVc7QUFDWCxhQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsUUFBUTtBQUFBLElBQ25FO0FBQUEsSUFDSSxJQUFJLGNBQWM7QUFFZCxhQUFPLENBQUMsQ0FBQyxLQUFLLEtBQUssT0FBTyxLQUFLLENBQUMsT0FBTyxHQUFHLFNBQVMsV0FBVztBQUFBLElBQ3RFO0FB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T0FBTyxDQUFDLE1BQU0sWUFBVztBQUViLG9CQUFBLFVBQVUsTUFBTSxPQUFPO0FBQUEsVUFDbkM7QUFBQSxVQUNBLFlBQVk7QUFBQSxRQUFBO0FBQUEsTUFFbkIsQ0FBQTtBQUFBLElBQ0w7QUFBQSxJQUNBLFVBQVU7QUFBQSxNQUNOLElBQUksZ0JBQWdCLEdBQUcsS0FBSyxlQUFlO0FBQUEsTUFDM0MsS0FBSyxnQkFBZ0IsSUFBSSxLQUFLLGVBQWU7QUFBQSxNQUM3QyxNQUFNLGdCQUFnQixLQUFLLEtBQUssZUFBZTtBQUFBLE1BQy9DLG9CQUFvQixnQkFBZ0IsbUJBQW1CLEtBQUssZUFBZTtBQUFBLElBQUE7QUFBQSxFQUVuRjtBQUNBLGFBQVcsV0FBVzs7IiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzEsMiwzLDQsNSw2LDcsOCwzNiwzNywzOCw0NSw0Niw0Nyw0OCw0OSw1MCw1MSw1Miw1Myw1NCw1NSw1Niw1Nyw1OCw1OSw2MCw2MSw2Miw2Myw2NCw2NSw2Niw2Nyw2OCw2OSw3MCw3MSw3Miw3Myw3NCw3NSw3Niw3Nyw3OCw3OSw4MCw4MSw4Miw4Myw4NCw4NSw4Niw4Nyw4OCw4OSw5MCw5MV19

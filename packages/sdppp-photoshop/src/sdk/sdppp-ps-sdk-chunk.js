var __defProp = Object.defineProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
(function() {
  "use strict";
  class GraphDefinitionClass {
    constructor(definition) {
      __publicField(this, "definition");
      this.definition = definition;
      const validation = this.validate();
      if (!validation.valid) {
        throw new Error(`Invalid graph definition: ${validation.errors.join(", ")}`);
      }
    }
    /**
     * Validate the graph definition
     */
    validate() {
      const errors = [];
      if (!this.definition.nodes || Object.keys(this.definition.nodes).length === 0) {
        errors.push("Graph must have at least one node");
      }
      for (const [from, to] of this.definition.edges) {
        if (!this.definition.nodes[from]) {
          errors.push(`Edge references unknown source node: ${from}`);
        }
        if (!this.definition.nodes[to]) {
          errors.push(`Edge references unknown target node: ${to}`);
        }
      }
      const cycleCheck = this.detectCycles();
      if (!cycleCheck.valid) {
        errors.push(...cycleCheck.errors);
      }
      return {
        valid: errors.length === 0,
        errors
      };
    }
    /**
     * Build directed adjacency list from edges (for cycle detection)
     */
    buildDirectedAdjacencyList() {
      const adjacencyList = /* @__PURE__ */ new Map();
      for (const nodeId of Object.keys(this.definition.nodes)) {
        adjacencyList.set(nodeId, []);
      }
      for (const [from, to] of this.definition.edges) {
        const neighbors = adjacencyList.get(from) || [];
        neighbors.push(to);
        adjacencyList.set(from, neighbors);
      }
      return adjacencyList;
    }
    /**
     * Detect cycles in the graph using DFS
     */
    detectCycles() {
      const errors = [];
      const visited = /* @__PURE__ */ new Set();
      const recursionStack = /* @__PURE__ */ new Set();
      const adjacencyList = this.buildDirectedAdjacencyList();
      const dfs = (node, path) => {
        if (recursionStack.has(node)) {
          const cycleStart = path.indexOf(node);
          const cycle = path.slice(cycleStart).concat(node);
          errors.push(`Cycle detected: ${cycle.join(" -> ")}`);
          return true;
        }
        if (visited.has(node)) {
          return false;
        }
        visited.add(node);
        recursionStack.add(node);
        const neighbors = adjacencyList.get(node) || [];
        for (const neighbor of neighbors) {
          if (dfs(neighbor, [...path, node])) {
            return true;
          }
        }
        recursionStack.delete(node);
        return false;
      };
      for (const nodeId of Object.keys(this.definition.nodes)) {
        if (!visited.has(nodeId)) {
          dfs(nodeId, []);
        }
      }
      return {
        valid: errors.length === 0,
        errors
      };
    }
    /**
     * Build adjacency list from edges (bidirectional)
     */
    buildAdjacencyList() {
      const adjacencyList = /* @__PURE__ */ new Map();
      for (const nodeId of Object.keys(this.definition.nodes)) {
        adjacencyList.set(nodeId, []);
      }
      for (const [from, to] of this.definition.edges) {
        const fromNeighbors = adjacencyList.get(from) || [];
        fromNeighbors.push(to);
        adjacencyList.set(from, fromNeighbors);
        const toNeighbors = adjacencyList.get(to) || [];
        toNeighbors.push(from);
        adjacencyList.set(to, toNeighbors);
      }
      return adjacencyList;
    }
    /**
     * Get all neighbors of a node
     */
    getNeighbors(nodeId) {
      const adjacencyList = this.buildAdjacencyList();
      return adjacencyList.get(nodeId) || [];
    }
    /**
     * Get node definition
     */
    getNode(nodeId) {
      return this.definition.nodes[nodeId];
    }
    /**
     * Get all node IDs
     */
    getNodeIds() {
      return Object.keys(this.definition.nodes);
    }
    /**
     * Check if edge exists between two nodes (bidirectional)
     */
    hasEdge(from, to) {
      return this.definition.edges.some(
        ([f, t]) => f === from && t === to || f === to && t === from
      );
    }
    /**
     * Find path between two nodes using BFS
     * Returns shortest path as array of node IDs, or null if no path exists
     */
    findPath(from, to) {
      if (from === to) {
        return [from];
      }
      const adjacencyList = this.buildAdjacencyList();
      const queue = [{ nodeId: from, path: [from] }];
      const visited = /* @__PURE__ */ new Set();
      while (queue.length > 0) {
        const { nodeId, path } = queue.shift();
        if (visited.has(nodeId)) {
          continue;
        }
        visited.add(nodeId);
        if (nodeId === to) {
          return path;
        }
        const neighbors = adjacencyList.get(nodeId) || [];
        for (const neighbor of neighbors) {
          if (!visited.has(neighbor)) {
            queue.push({ nodeId: neighbor, path: [...path, neighbor] });
          }
        }
      }
      return null;
    }
    /**
     * Check if there's a path between two nodes (direct or indirect)
     */
    hasPath(from, to) {
      return this.findPath(from, to) !== null;
    }
    /**
     * Get the raw definition
     */
    getDefinition() {
      return { ...this.definition };
    }
  }
  const createStoreImpl = (createState) => {
    let state;
    const listeners = /* @__PURE__ */ new Set();
    const setState = (partial, replace) => {
      const nextState = typeof partial === "function" ? partial(state) : partial;
      if (!Object.is(nextState, state)) {
        const previousState = state;
        state = (replace != null ? replace : typeof nextState !== "object" || nextState === null) ? nextState : Object.assign({}, state, nextState);
        listeners.forEach((listener) => listener(state, previousState));
      }
    };
    const getState = () => state;
    const getInitialState = () => initialState;
    const subscribe = (listener) => {
      listeners.add(listener);
      return () => listeners.delete(listener);
    };
    const api = { setState, getState, getInitialState, subscribe };
    const initialState = state = createState(setState, getState, api);
    return api;
  };
  const createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;
  var util$1;
  (function(util2) {
    util2.assertEqual = (_) => {
    };
    function assertIs(_arg) {
    }
    util2.assertIs = assertIs;
    function assertNever(_x) {
      throw new Error();
    }
    util2.assertNever = assertNever;
    util2.arrayToEnum = (items2) => {
      const obj = {};
      for (const item of items2) {
        obj[item] = item;
      }
      return obj;
    };
    util2.getValidEnumValues = (obj) => {
      const validKeys = util2.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== "number");
      const filtered = {};
      for (const k of validKeys) {
        filtered[k] = obj[k];
      }
      return util2.objectValues(filtered);
    };
    util2.objectValues = (obj) => {
      return util2.objectKeys(obj).map(function(e) {
        return obj[e];
      });
    };
    util2.objectKeys = typeof Object.keys === "function" ? (obj) => Object.keys(obj) : (object) => {
      const keys = [];
      for (const key in object) {
        if (Object.prototype.hasOwnProperty.call(object, key)) {
          keys.push(key);
        }
      }
      return keys;
    };
    util2.find = (arr, checker) => {
      for (const item of arr) {
        if (checker(item))
          return item;
      }
      return void 0;
    };
    util2.isInteger = typeof Number.isInteger === "function" ? (val) => Number.isInteger(val) : (val) => typeof val === "number" && Number.isFinite(val) && Math.floor(val) === val;
    function joinValues(array, separator = " | ") {
      return array.map((val) => typeof val === "string" ? `'${val}'` : val).join(separator);
    }
    util2.joinValues = joinValues;
    util2.jsonStringifyReplacer = (_, value) => {
      if (typeof value === "bigint") {
        return value.toString();
      }
      return value;
    };
  })(util$1 || (util$1 = {}));
  var objectUtil;
  (function(objectUtil2) {
    objectUtil2.mergeShapes = (first, second) => {
      return {
        ...first,
        ...second
        // second overwrites first
      };
    };
  })(objectUtil || (objectUtil = {}));
  const ZodParsedType = util$1.arrayToEnum([
    "string",
    "nan",
    "number",
    "integer",
    "float",
    "boolean",
    "date",
    "bigint",
    "symbol",
    "function",
    "undefined",
    "null",
    "array",
    "object",
    "unknown",
    "promise",
    "void",
    "never",
    "map",
    "set"
  ]);
  const getParsedType = (data2) => {
    const t = typeof data2;
    switch (t) {
      case "undefined":
        return ZodParsedType.undefined;
      case "string":
        return ZodParsedType.string;
      case "number":
        return Number.isNaN(data2) ? ZodParsedType.nan : ZodParsedType.number;
      case "boolean":
        return ZodParsedType.boolean;
      case "function":
        return ZodParsedType.function;
      case "bigint":
        return ZodParsedType.bigint;
      case "symbol":
        return ZodParsedType.symbol;
      case "object":
        if (Array.isArray(data2)) {
          return ZodParsedType.array;
        }
        if (data2 === null) {
          return ZodParsedType.null;
        }
        if (data2.then && typeof data2.then === "function" && data2.catch && typeof data2.catch === "function") {
          return ZodParsedType.promise;
        }
        if (typeof Map !== "undefined" && data2 instanceof Map) {
          return ZodParsedType.map;
        }
        if (typeof Set !== "undefined" && data2 instanceof Set) {
          return ZodParsedType.set;
        }
        if (typeof Date !== "undefined" && data2 instanceof Date) {
          return ZodParsedType.date;
        }
        return ZodParsedType.object;
      default:
        return ZodParsedType.unknown;
    }
  };
  const ZodIssueCode = util$1.arrayToEnum([
    "invalid_type",
    "invalid_literal",
    "custom",
    "invalid_union",
    "invalid_union_discriminator",
    "invalid_enum_value",
    "unrecognized_keys",
    "invalid_arguments",
    "invalid_return_type",
    "invalid_date",
    "invalid_string",
    "too_small",
    "too_big",
    "invalid_intersection_types",
    "not_multiple_of",
    "not_finite"
  ]);
  class ZodError extends Error {
    get errors() {
      return this.issues;
    }
    constructor(issues) {
      super();
      this.issues = [];
      this.addIssue = (sub) => {
        this.issues = [...this.issues, sub];
      };
      this.addIssues = (subs = []) => {
        this.issues = [...this.issues, ...subs];
      };
      const actualProto = new.target.prototype;
      if (Object.setPrototypeOf) {
        Object.setPrototypeOf(this, actualProto);
      } else {
        this.__proto__ = actualProto;
      }
      this.name = "ZodError";
      this.issues = issues;
    }
    format(_mapper) {
      const mapper = _mapper || function(issue) {
        return issue.message;
      };
      const fieldErrors = { _errors: [] };
      const processError = (error) => {
        for (const issue of error.issues) {
          if (issue.code === "invalid_union") {
            issue.unionErrors.map(processError);
          } else if (issue.code === "invalid_return_type") {
            processError(issue.returnTypeError);
          } else if (issue.code === "invalid_arguments") {
            processError(issue.argumentsError);
          } else if (issue.path.length === 0) {
            fieldErrors._errors.push(mapper(issue));
          } else {
            let curr = fieldErrors;
            let i = 0;
            while (i < issue.path.length) {
              const el = issue.path[i];
              const terminal = i === issue.path.length - 1;
              if (!terminal) {
                curr[el] = curr[el] || { _errors: [] };
              } else {
                curr[el] = curr[el] || { _errors: [] };
                curr[el]._errors.push(mapper(issue));
              }
              curr = curr[el];
              i++;
            }
          }
        }
      };
      processError(this);
      return fieldErrors;
    }
    static assert(value) {
      if (!(value instanceof ZodError)) {
        throw new Error(`Not a ZodError: ${value}`);
      }
    }
    toString() {
      return this.message;
    }
    get message() {
      return JSON.stringify(this.issues, util$1.jsonStringifyReplacer, 2);
    }
    get isEmpty() {
      return this.issues.length === 0;
    }
    flatten(mapper = (issue) => issue.message) {
      const fieldErrors = {};
      const formErrors = [];
      for (const sub of this.issues) {
        if (sub.path.length > 0) {
          const firstEl = sub.path[0];
          fieldErrors[firstEl] = fieldErrors[firstEl] || [];
          fieldErrors[firstEl].push(mapper(sub));
        } else {
          formErrors.push(mapper(sub));
        }
      }
      return { formErrors, fieldErrors };
    }
    get formErrors() {
      return this.flatten();
    }
  }
  ZodError.create = (issues) => {
    const error = new ZodError(issues);
    return error;
  };
  const errorMap = (issue, _ctx) => {
    let message;
    switch (issue.code) {
      case ZodIssueCode.invalid_type:
        if (issue.received === ZodParsedType.undefined) {
          message = "Required";
        } else {
          message = `Expected ${issue.expected}, received ${issue.received}`;
        }
        break;
      case ZodIssueCode.invalid_literal:
        message = `Invalid literal value, expected ${JSON.stringify(issue.expected, util$1.jsonStringifyReplacer)}`;
        break;
      case ZodIssueCode.unrecognized_keys:
        message = `Unrecognized key(s) in object: ${util$1.joinValues(issue.keys, ", ")}`;
        break;
      case ZodIssueCode.invalid_union:
        message = `Invalid input`;
        break;
      case ZodIssueCode.invalid_union_discriminator:
        message = `Invalid discriminator value. Expected ${util$1.joinValues(issue.options)}`;
        break;
      case ZodIssueCode.invalid_enum_value:
        message = `Invalid enum value. Expected ${util$1.joinValues(issue.options)}, received '${issue.received}'`;
        break;
      case ZodIssueCode.invalid_arguments:
        message = `Invalid function arguments`;
        break;
      case ZodIssueCode.invalid_return_type:
        message = `Invalid function return type`;
        break;
      case ZodIssueCode.invalid_date:
        message = `Invalid date`;
        break;
      case ZodIssueCode.invalid_string:
        if (typeof issue.validation === "object") {
          if ("includes" in issue.validation) {
            message = `Invalid input: must include "${issue.validation.includes}"`;
            if (typeof issue.validation.position === "number") {
              message = `${message} at one or more positions greater than or equal to ${issue.validation.position}`;
            }
          } else if ("startsWith" in issue.validation) {
            message = `Invalid input: must start with "${issue.validation.startsWith}"`;
          } else if ("endsWith" in issue.validation) {
            message = `Invalid input: must end with "${issue.validation.endsWith}"`;
          } else {
            util$1.assertNever(issue.validation);
          }
        } else if (issue.validation !== "regex") {
          message = `Invalid ${issue.validation}`;
        } else {
          message = "Invalid";
        }
        break;
      case ZodIssueCode.too_small:
        if (issue.type === "array")
          message = `Array must contain ${issue.exact ? "exactly" : issue.inclusive ? `at least` : `more than`} ${issue.minimum} element(s)`;
        else if (issue.type === "string")
          message = `String must contain ${issue.exact ? "exactly" : issue.inclusive ? `at least` : `over`} ${issue.minimum} character(s)`;
        else if (issue.type === "number")
          message = `Number must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${issue.minimum}`;
        else if (issue.type === "bigint")
          message = `Number must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${issue.minimum}`;
        else if (issue.type === "date")
          message = `Date must be ${issue.exact ? `exactly equal to ` : issue.inclusive ? `greater than or equal to ` : `greater than `}${new Date(Number(issue.minimum))}`;
        else
          message = "Invalid input";
        break;
      case ZodIssueCode.too_big:
        if (issue.type === "array")
          message = `Array must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `less than`} ${issue.maximum} element(s)`;
        else if (issue.type === "string")
          message = `String must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `under`} ${issue.maximum} character(s)`;
        else if (issue.type === "number")
          message = `Number must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;
        else if (issue.type === "bigint")
          message = `BigInt must be ${issue.exact ? `exactly` : issue.inclusive ? `less than or equal to` : `less than`} ${issue.maximum}`;
        else if (issue.type === "date")
          message = `Date must be ${issue.exact ? `exactly` : issue.inclusive ? `smaller than or equal to` : `smaller than`} ${new Date(Number(issue.maximum))}`;
        else
          message = "Invalid input";
        break;
      case ZodIssueCode.custom:
        message = `Invalid input`;
        break;
      case ZodIssueCode.invalid_intersection_types:
        message = `Intersection results could not be merged`;
        break;
      case ZodIssueCode.not_multiple_of:
        message = `Number must be a multiple of ${issue.multipleOf}`;
        break;
      case ZodIssueCode.not_finite:
        message = "Number must be finite";
        break;
      default:
        message = _ctx.defaultError;
        util$1.assertNever(issue);
    }
    return { message };
  };
  let overrideErrorMap = errorMap;
  function getErrorMap() {
    return overrideErrorMap;
  }
  const makeIssue = (params) => {
    const { data: data2, path, errorMaps, issueData } = params;
    const fullPath = [...path, ...issueData.path || []];
    const fullIssue = {
      ...issueData,
      path: fullPath
    };
    if (issueData.message !== void 0) {
      return {
        ...issueData,
        path: fullPath,
        message: issueData.message
      };
    }
    let errorMessage = "";
    const maps = errorMaps.filter((m) => !!m).slice().reverse();
    for (const map of maps) {
      errorMessage = map(fullIssue, { data: data2, defaultError: errorMessage }).message;
    }
    return {
      ...issueData,
      path: fullPath,
      message: errorMessage
    };
  };
  function addIssueToContext(ctx, issueData) {
    const overrideMap = getErrorMap();
    const issue = makeIssue({
      issueData,
      data: ctx.data,
      path: ctx.path,
      errorMaps: [
        ctx.common.contextualErrorMap,
        // contextual error map is first priority
        ctx.schemaErrorMap,
        // then schema-bound map if available
        overrideMap,
        // then global override map
        overrideMap === errorMap ? void 0 : errorMap
        // then global default map
      ].filter((x) => !!x)
    });
    ctx.common.issues.push(issue);
  }
  class ParseStatus {
    constructor() {
      this.value = "valid";
    }
    dirty() {
      if (this.value === "valid")
        this.value = "dirty";
    }
    abort() {
      if (this.value !== "aborted")
        this.value = "aborted";
    }
    static mergeArray(status, results) {
      const arrayValue = [];
      for (const s of results) {
        if (s.status === "aborted")
          return INVALID;
        if (s.status === "dirty")
          status.dirty();
        arrayValue.push(s.value);
      }
      return { status: status.value, value: arrayValue };
    }
    static async mergeObjectAsync(status, pairs) {
      const syncPairs = [];
      for (const pair of pairs) {
        const key = await pair.key;
        const value = await pair.value;
        syncPairs.push({
          key,
          value
        });
      }
      return ParseStatus.mergeObjectSync(status, syncPairs);
    }
    static mergeObjectSync(status, pairs) {
      const finalObject = {};
      for (const pair of pairs) {
        const { key, value } = pair;
        if (key.status === "aborted")
          return INVALID;
        if (value.status === "aborted")
          return INVALID;
        if (key.status === "dirty")
          status.dirty();
        if (value.status === "dirty")
          status.dirty();
        if (key.value !== "__proto__" && (typeof value.value !== "undefined" || pair.alwaysSet)) {
          finalObject[key.value] = value.value;
        }
      }
      return { status: status.value, value: finalObject };
    }
  }
  const INVALID = Object.freeze({
    status: "aborted"
  });
  const DIRTY = (value) => ({ status: "dirty", value });
  const OK = (value) => ({ status: "valid", value });
  const isAborted = (x) => x.status === "aborted";
  const isDirty = (x) => x.status === "dirty";
  const isValid = (x) => x.status === "valid";
  const isAsync = (x) => typeof Promise !== "undefined" && x instanceof Promise;
  var errorUtil;
  (function(errorUtil2) {
    errorUtil2.errToObj = (message) => typeof message === "string" ? { message } : message || {};
    errorUtil2.toString = (message) => typeof message === "string" ? message : message == null ? void 0 : message.message;
  })(errorUtil || (errorUtil = {}));
  class ParseInputLazyPath {
    constructor(parent, value, path, key) {
      this._cachedPath = [];
      this.parent = parent;
      this.data = value;
      this._path = path;
      this._key = key;
    }
    get path() {
      if (!this._cachedPath.length) {
        if (Array.isArray(this._key)) {
          this._cachedPath.push(...this._path, ...this._key);
        } else {
          this._cachedPath.push(...this._path, this._key);
        }
      }
      return this._cachedPath;
    }
  }
  const handleResult = (ctx, result) => {
    if (isValid(result)) {
      return { success: true, data: result.value };
    } else {
      if (!ctx.common.issues.length) {
        throw new Error("Validation failed but no issues detected.");
      }
      return {
        success: false,
        get error() {
          if (this._error)
            return this._error;
          const error = new ZodError(ctx.common.issues);
          this._error = error;
          return this._error;
        }
      };
    }
  };
  function processCreateParams(params) {
    if (!params)
      return {};
    const { errorMap: errorMap2, invalid_type_error, required_error, description: description2 } = params;
    if (errorMap2 && (invalid_type_error || required_error)) {
      throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);
    }
    if (errorMap2)
      return { errorMap: errorMap2, description: description2 };
    const customMap = (iss, ctx) => {
      const { message } = params;
      if (iss.code === "invalid_enum_value") {
        return { message: message ?? ctx.defaultError };
      }
      if (typeof ctx.data === "undefined") {
        return { message: message ?? required_error ?? ctx.defaultError };
      }
      if (iss.code !== "invalid_type")
        return { message: ctx.defaultError };
      return { message: message ?? invalid_type_error ?? ctx.defaultError };
    };
    return { errorMap: customMap, description: description2 };
  }
  class ZodType {
    get description() {
      return this._def.description;
    }
    _getType(input) {
      return getParsedType(input.data);
    }
    _getOrReturnCtx(input, ctx) {
      return ctx || {
        common: input.parent.common,
        data: input.data,
        parsedType: getParsedType(input.data),
        schemaErrorMap: this._def.errorMap,
        path: input.path,
        parent: input.parent
      };
    }
    _processInputParams(input) {
      return {
        status: new ParseStatus(),
        ctx: {
          common: input.parent.common,
          data: input.data,
          parsedType: getParsedType(input.data),
          schemaErrorMap: this._def.errorMap,
          path: input.path,
          parent: input.parent
        }
      };
    }
    _parseSync(input) {
      const result = this._parse(input);
      if (isAsync(result)) {
        throw new Error("Synchronous parse encountered promise.");
      }
      return result;
    }
    _parseAsync(input) {
      const result = this._parse(input);
      return Promise.resolve(result);
    }
    parse(data2, params) {
      const result = this.safeParse(data2, params);
      if (result.success)
        return result.data;
      throw result.error;
    }
    safeParse(data2, params) {
      const ctx = {
        common: {
          issues: [],
          async: (params == null ? void 0 : params.async) ?? false,
          contextualErrorMap: params == null ? void 0 : params.errorMap
        },
        path: (params == null ? void 0 : params.path) || [],
        schemaErrorMap: this._def.errorMap,
        parent: null,
        data: data2,
        parsedType: getParsedType(data2)
      };
      const result = this._parseSync({ data: data2, path: ctx.path, parent: ctx });
      return handleResult(ctx, result);
    }
    "~validate"(data2) {
      var _a, _b;
      const ctx = {
        common: {
          issues: [],
          async: !!this["~standard"].async
        },
        path: [],
        schemaErrorMap: this._def.errorMap,
        parent: null,
        data: data2,
        parsedType: getParsedType(data2)
      };
      if (!this["~standard"].async) {
        try {
          const result = this._parseSync({ data: data2, path: [], parent: ctx });
          return isValid(result) ? {
            value: result.value
          } : {
            issues: ctx.common.issues
          };
        } catch (err) {
          if ((_b = (_a = err == null ? void 0 : err.message) == null ? void 0 : _a.toLowerCase()) == null ? void 0 : _b.includes("encountered")) {
            this["~standard"].async = true;
          }
          ctx.common = {
            issues: [],
            async: true
          };
        }
      }
      return this._parseAsync({ data: data2, path: [], parent: ctx }).then((result) => isValid(result) ? {
        value: result.value
      } : {
        issues: ctx.common.issues
      });
    }
    async parseAsync(data2, params) {
      const result = await this.safeParseAsync(data2, params);
      if (result.success)
        return result.data;
      throw result.error;
    }
    async safeParseAsync(data2, params) {
      const ctx = {
        common: {
          issues: [],
          contextualErrorMap: params == null ? void 0 : params.errorMap,
          async: true
        },
        path: (params == null ? void 0 : params.path) || [],
        schemaErrorMap: this._def.errorMap,
        parent: null,
        data: data2,
        parsedType: getParsedType(data2)
      };
      const maybeAsyncResult = this._parse({ data: data2, path: ctx.path, parent: ctx });
      const result = await (isAsync(maybeAsyncResult) ? maybeAsyncResult : Promise.resolve(maybeAsyncResult));
      return handleResult(ctx, result);
    }
    refine(check, message) {
      const getIssueProperties = (val) => {
        if (typeof message === "string" || typeof message === "undefined") {
          return { message };
        } else if (typeof message === "function") {
          return message(val);
        } else {
          return message;
        }
      };
      return this._refinement((val, ctx) => {
        const result = check(val);
        const setError = () => ctx.addIssue({
          code: ZodIssueCode.custom,
          ...getIssueProperties(val)
        });
        if (typeof Promise !== "undefined" && result instanceof Promise) {
          return result.then((data2) => {
            if (!data2) {
              setError();
              return false;
            } else {
              return true;
            }
          });
        }
        if (!result) {
          setError();
          return false;
        } else {
          return true;
        }
      });
    }
    refinement(check, refinementData) {
      return this._refinement((val, ctx) => {
        if (!check(val)) {
          ctx.addIssue(typeof refinementData === "function" ? refinementData(val, ctx) : refinementData);
          return false;
        } else {
          return true;
        }
      });
    }
    _refinement(refinement) {
      return new ZodEffects({
        schema: this,
        typeName: ZodFirstPartyTypeKind.ZodEffects,
        effect: { type: "refinement", refinement }
      });
    }
    superRefine(refinement) {
      return this._refinement(refinement);
    }
    constructor(def) {
      this.spa = this.safeParseAsync;
      this._def = def;
      this.parse = this.parse.bind(this);
      this.safeParse = this.safeParse.bind(this);
      this.parseAsync = this.parseAsync.bind(this);
      this.safeParseAsync = this.safeParseAsync.bind(this);
      this.spa = this.spa.bind(this);
      this.refine = this.refine.bind(this);
      this.refinement = this.refinement.bind(this);
      this.superRefine = this.superRefine.bind(this);
      this.optional = this.optional.bind(this);
      this.nullable = this.nullable.bind(this);
      this.nullish = this.nullish.bind(this);
      this.array = this.array.bind(this);
      this.promise = this.promise.bind(this);
      this.or = this.or.bind(this);
      this.and = this.and.bind(this);
      this.transform = this.transform.bind(this);
      this.brand = this.brand.bind(this);
      this.default = this.default.bind(this);
      this.catch = this.catch.bind(this);
      this.describe = this.describe.bind(this);
      this.pipe = this.pipe.bind(this);
      this.readonly = this.readonly.bind(this);
      this.isNullable = this.isNullable.bind(this);
      this.isOptional = this.isOptional.bind(this);
      this["~standard"] = {
        version: 1,
        vendor: "zod",
        validate: (data2) => this["~validate"](data2)
      };
    }
    optional() {
      return ZodOptional.create(this, this._def);
    }
    nullable() {
      return ZodNullable.create(this, this._def);
    }
    nullish() {
      return this.nullable().optional();
    }
    array() {
      return ZodArray.create(this);
    }
    promise() {
      return ZodPromise.create(this, this._def);
    }
    or(option) {
      return ZodUnion.create([this, option], this._def);
    }
    and(incoming) {
      return ZodIntersection.create(this, incoming, this._def);
    }
    transform(transform) {
      return new ZodEffects({
        ...processCreateParams(this._def),
        schema: this,
        typeName: ZodFirstPartyTypeKind.ZodEffects,
        effect: { type: "transform", transform }
      });
    }
    default(def) {
      const defaultValueFunc = typeof def === "function" ? def : () => def;
      return new ZodDefault({
        ...processCreateParams(this._def),
        innerType: this,
        defaultValue: defaultValueFunc,
        typeName: ZodFirstPartyTypeKind.ZodDefault
      });
    }
    brand() {
      return new ZodBranded({
        typeName: ZodFirstPartyTypeKind.ZodBranded,
        type: this,
        ...processCreateParams(this._def)
      });
    }
    catch(def) {
      const catchValueFunc = typeof def === "function" ? def : () => def;
      return new ZodCatch({
        ...processCreateParams(this._def),
        innerType: this,
        catchValue: catchValueFunc,
        typeName: ZodFirstPartyTypeKind.ZodCatch
      });
    }
    describe(description2) {
      const This = this.constructor;
      return new This({
        ...this._def,
        description: description2
      });
    }
    pipe(target) {
      return ZodPipeline.create(this, target);
    }
    readonly() {
      return ZodReadonly.create(this);
    }
    isOptional() {
      return this.safeParse(void 0).success;
    }
    isNullable() {
      return this.safeParse(null).success;
    }
  }
  const cuidRegex = /^c[^\s-]{8,}$/i;
  const cuid2Regex = /^[0-9a-z]+$/;
  const ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/i;
  const uuidRegex = /^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i;
  const nanoidRegex = /^[a-z0-9_-]{21}$/i;
  const jwtRegex = /^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;
  const durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/;
  const emailRegex = /^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;
  const _emojiRegex = `^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$`;
  let emojiRegex;
  const ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;
  const ipv4CidrRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/;
  const ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;
  const ipv6CidrRegex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;
  const base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;
  const base64urlRegex = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/;
  const dateRegexSource = `((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))`;
  const dateRegex = new RegExp(`^${dateRegexSource}$`);
  function timeRegexSource(args) {
    let secondsRegexSource = `[0-5]\\d`;
    if (args.precision) {
      secondsRegexSource = `${secondsRegexSource}\\.\\d{${args.precision}}`;
    } else if (args.precision == null) {
      secondsRegexSource = `${secondsRegexSource}(\\.\\d+)?`;
    }
    const secondsQuantifier = args.precision ? "+" : "?";
    return `([01]\\d|2[0-3]):[0-5]\\d(:${secondsRegexSource})${secondsQuantifier}`;
  }
  function timeRegex(args) {
    return new RegExp(`^${timeRegexSource(args)}$`);
  }
  function datetimeRegex(args) {
    let regex = `${dateRegexSource}T${timeRegexSource(args)}`;
    const opts = [];
    opts.push(args.local ? `Z?` : `Z`);
    if (args.offset)
      opts.push(`([+-]\\d{2}:?\\d{2})`);
    regex = `${regex}(${opts.join("|")})`;
    return new RegExp(`^${regex}$`);
  }
  function isValidIP(ip, version) {
    if ((version === "v4" || !version) && ipv4Regex.test(ip)) {
      return true;
    }
    if ((version === "v6" || !version) && ipv6Regex.test(ip)) {
      return true;
    }
    return false;
  }
  function isValidJWT(jwt, alg) {
    if (!jwtRegex.test(jwt))
      return false;
    try {
      const [header] = jwt.split(".");
      if (!header)
        return false;
      const base64 = header.replace(/-/g, "+").replace(/_/g, "/").padEnd(header.length + (4 - header.length % 4) % 4, "=");
      const decoded = JSON.parse(atob(base64));
      if (typeof decoded !== "object" || decoded === null)
        return false;
      if ("typ" in decoded && (decoded == null ? void 0 : decoded.typ) !== "JWT")
        return false;
      if (!decoded.alg)
        return false;
      if (alg && decoded.alg !== alg)
        return false;
      return true;
    } catch {
      return false;
    }
  }
  function isValidCidr(ip, version) {
    if ((version === "v4" || !version) && ipv4CidrRegex.test(ip)) {
      return true;
    }
    if ((version === "v6" || !version) && ipv6CidrRegex.test(ip)) {
      return true;
    }
    return false;
  }
  class ZodString extends ZodType {
    _parse(input) {
      if (this._def.coerce) {
        input.data = String(input.data);
      }
      const parsedType = this._getType(input);
      if (parsedType !== ZodParsedType.string) {
        const ctx2 = this._getOrReturnCtx(input);
        addIssueToContext(ctx2, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.string,
          received: ctx2.parsedType
        });
        return INVALID;
      }
      const status = new ParseStatus();
      let ctx = void 0;
      for (const check of this._def.checks) {
        if (check.kind === "min") {
          if (input.data.length < check.value) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.too_small,
              minimum: check.value,
              type: "string",
              inclusive: true,
              exact: false,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "max") {
          if (input.data.length > check.value) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.too_big,
              maximum: check.value,
              type: "string",
              inclusive: true,
              exact: false,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "length") {
          const tooBig = input.data.length > check.value;
          const tooSmall = input.data.length < check.value;
          if (tooBig || tooSmall) {
            ctx = this._getOrReturnCtx(input, ctx);
            if (tooBig) {
              addIssueToContext(ctx, {
                code: ZodIssueCode.too_big,
                maximum: check.value,
                type: "string",
                inclusive: true,
                exact: true,
                message: check.message
              });
            } else if (tooSmall) {
              addIssueToContext(ctx, {
                code: ZodIssueCode.too_small,
                minimum: check.value,
                type: "string",
                inclusive: true,
                exact: true,
                message: check.message
              });
            }
            status.dirty();
          }
        } else if (check.kind === "email") {
          if (!emailRegex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "email",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "emoji") {
          if (!emojiRegex) {
            emojiRegex = new RegExp(_emojiRegex, "u");
          }
          if (!emojiRegex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "emoji",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "uuid") {
          if (!uuidRegex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "uuid",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "nanoid") {
          if (!nanoidRegex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "nanoid",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "cuid") {
          if (!cuidRegex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "cuid",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "cuid2") {
          if (!cuid2Regex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "cuid2",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "ulid") {
          if (!ulidRegex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "ulid",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "url") {
          try {
            new URL(input.data);
          } catch {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "url",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "regex") {
          check.regex.lastIndex = 0;
          const testResult = check.regex.test(input.data);
          if (!testResult) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "regex",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "trim") {
          input.data = input.data.trim();
        } else if (check.kind === "includes") {
          if (!input.data.includes(check.value, check.position)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.invalid_string,
              validation: { includes: check.value, position: check.position },
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "toLowerCase") {
          input.data = input.data.toLowerCase();
        } else if (check.kind === "toUpperCase") {
          input.data = input.data.toUpperCase();
        } else if (check.kind === "startsWith") {
          if (!input.data.startsWith(check.value)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.invalid_string,
              validation: { startsWith: check.value },
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "endsWith") {
          if (!input.data.endsWith(check.value)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.invalid_string,
              validation: { endsWith: check.value },
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "datetime") {
          const regex = datetimeRegex(check);
          if (!regex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.invalid_string,
              validation: "datetime",
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "date") {
          const regex = dateRegex;
          if (!regex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.invalid_string,
              validation: "date",
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "time") {
          const regex = timeRegex(check);
          if (!regex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.invalid_string,
              validation: "time",
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "duration") {
          if (!durationRegex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "duration",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "ip") {
          if (!isValidIP(input.data, check.version)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "ip",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "jwt") {
          if (!isValidJWT(input.data, check.alg)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "jwt",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "cidr") {
          if (!isValidCidr(input.data, check.version)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "cidr",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "base64") {
          if (!base64Regex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "base64",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "base64url") {
          if (!base64urlRegex.test(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              validation: "base64url",
              code: ZodIssueCode.invalid_string,
              message: check.message
            });
            status.dirty();
          }
        } else {
          util$1.assertNever(check);
        }
      }
      return { status: status.value, value: input.data };
    }
    _regex(regex, validation, message) {
      return this.refinement((data2) => regex.test(data2), {
        validation,
        code: ZodIssueCode.invalid_string,
        ...errorUtil.errToObj(message)
      });
    }
    _addCheck(check) {
      return new ZodString({
        ...this._def,
        checks: [...this._def.checks, check]
      });
    }
    email(message) {
      return this._addCheck({ kind: "email", ...errorUtil.errToObj(message) });
    }
    url(message) {
      return this._addCheck({ kind: "url", ...errorUtil.errToObj(message) });
    }
    emoji(message) {
      return this._addCheck({ kind: "emoji", ...errorUtil.errToObj(message) });
    }
    uuid(message) {
      return this._addCheck({ kind: "uuid", ...errorUtil.errToObj(message) });
    }
    nanoid(message) {
      return this._addCheck({ kind: "nanoid", ...errorUtil.errToObj(message) });
    }
    cuid(message) {
      return this._addCheck({ kind: "cuid", ...errorUtil.errToObj(message) });
    }
    cuid2(message) {
      return this._addCheck({ kind: "cuid2", ...errorUtil.errToObj(message) });
    }
    ulid(message) {
      return this._addCheck({ kind: "ulid", ...errorUtil.errToObj(message) });
    }
    base64(message) {
      return this._addCheck({ kind: "base64", ...errorUtil.errToObj(message) });
    }
    base64url(message) {
      return this._addCheck({
        kind: "base64url",
        ...errorUtil.errToObj(message)
      });
    }
    jwt(options) {
      return this._addCheck({ kind: "jwt", ...errorUtil.errToObj(options) });
    }
    ip(options) {
      return this._addCheck({ kind: "ip", ...errorUtil.errToObj(options) });
    }
    cidr(options) {
      return this._addCheck({ kind: "cidr", ...errorUtil.errToObj(options) });
    }
    datetime(options) {
      if (typeof options === "string") {
        return this._addCheck({
          kind: "datetime",
          precision: null,
          offset: false,
          local: false,
          message: options
        });
      }
      return this._addCheck({
        kind: "datetime",
        precision: typeof (options == null ? void 0 : options.precision) === "undefined" ? null : options == null ? void 0 : options.precision,
        offset: (options == null ? void 0 : options.offset) ?? false,
        local: (options == null ? void 0 : options.local) ?? false,
        ...errorUtil.errToObj(options == null ? void 0 : options.message)
      });
    }
    date(message) {
      return this._addCheck({ kind: "date", message });
    }
    time(options) {
      if (typeof options === "string") {
        return this._addCheck({
          kind: "time",
          precision: null,
          message: options
        });
      }
      return this._addCheck({
        kind: "time",
        precision: typeof (options == null ? void 0 : options.precision) === "undefined" ? null : options == null ? void 0 : options.precision,
        ...errorUtil.errToObj(options == null ? void 0 : options.message)
      });
    }
    duration(message) {
      return this._addCheck({ kind: "duration", ...errorUtil.errToObj(message) });
    }
    regex(regex, message) {
      return this._addCheck({
        kind: "regex",
        regex,
        ...errorUtil.errToObj(message)
      });
    }
    includes(value, options) {
      return this._addCheck({
        kind: "includes",
        value,
        position: options == null ? void 0 : options.position,
        ...errorUtil.errToObj(options == null ? void 0 : options.message)
      });
    }
    startsWith(value, message) {
      return this._addCheck({
        kind: "startsWith",
        value,
        ...errorUtil.errToObj(message)
      });
    }
    endsWith(value, message) {
      return this._addCheck({
        kind: "endsWith",
        value,
        ...errorUtil.errToObj(message)
      });
    }
    min(minLength, message) {
      return this._addCheck({
        kind: "min",
        value: minLength,
        ...errorUtil.errToObj(message)
      });
    }
    max(maxLength, message) {
      return this._addCheck({
        kind: "max",
        value: maxLength,
        ...errorUtil.errToObj(message)
      });
    }
    length(len, message) {
      return this._addCheck({
        kind: "length",
        value: len,
        ...errorUtil.errToObj(message)
      });
    }
    /**
     * Equivalent to `.min(1)`
     */
    nonempty(message) {
      return this.min(1, errorUtil.errToObj(message));
    }
    trim() {
      return new ZodString({
        ...this._def,
        checks: [...this._def.checks, { kind: "trim" }]
      });
    }
    toLowerCase() {
      return new ZodString({
        ...this._def,
        checks: [...this._def.checks, { kind: "toLowerCase" }]
      });
    }
    toUpperCase() {
      return new ZodString({
        ...this._def,
        checks: [...this._def.checks, { kind: "toUpperCase" }]
      });
    }
    get isDatetime() {
      return !!this._def.checks.find((ch) => ch.kind === "datetime");
    }
    get isDate() {
      return !!this._def.checks.find((ch) => ch.kind === "date");
    }
    get isTime() {
      return !!this._def.checks.find((ch) => ch.kind === "time");
    }
    get isDuration() {
      return !!this._def.checks.find((ch) => ch.kind === "duration");
    }
    get isEmail() {
      return !!this._def.checks.find((ch) => ch.kind === "email");
    }
    get isURL() {
      return !!this._def.checks.find((ch) => ch.kind === "url");
    }
    get isEmoji() {
      return !!this._def.checks.find((ch) => ch.kind === "emoji");
    }
    get isUUID() {
      return !!this._def.checks.find((ch) => ch.kind === "uuid");
    }
    get isNANOID() {
      return !!this._def.checks.find((ch) => ch.kind === "nanoid");
    }
    get isCUID() {
      return !!this._def.checks.find((ch) => ch.kind === "cuid");
    }
    get isCUID2() {
      return !!this._def.checks.find((ch) => ch.kind === "cuid2");
    }
    get isULID() {
      return !!this._def.checks.find((ch) => ch.kind === "ulid");
    }
    get isIP() {
      return !!this._def.checks.find((ch) => ch.kind === "ip");
    }
    get isCIDR() {
      return !!this._def.checks.find((ch) => ch.kind === "cidr");
    }
    get isBase64() {
      return !!this._def.checks.find((ch) => ch.kind === "base64");
    }
    get isBase64url() {
      return !!this._def.checks.find((ch) => ch.kind === "base64url");
    }
    get minLength() {
      let min = null;
      for (const ch of this._def.checks) {
        if (ch.kind === "min") {
          if (min === null || ch.value > min)
            min = ch.value;
        }
      }
      return min;
    }
    get maxLength() {
      let max = null;
      for (const ch of this._def.checks) {
        if (ch.kind === "max") {
          if (max === null || ch.value < max)
            max = ch.value;
        }
      }
      return max;
    }
  }
  ZodString.create = (params) => {
    return new ZodString({
      checks: [],
      typeName: ZodFirstPartyTypeKind.ZodString,
      coerce: (params == null ? void 0 : params.coerce) ?? false,
      ...processCreateParams(params)
    });
  };
  function floatSafeRemainder(val, step) {
    const valDecCount = (val.toString().split(".")[1] || "").length;
    const stepDecCount = (step.toString().split(".")[1] || "").length;
    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;
    const valInt = Number.parseInt(val.toFixed(decCount).replace(".", ""));
    const stepInt = Number.parseInt(step.toFixed(decCount).replace(".", ""));
    return valInt % stepInt / 10 ** decCount;
  }
  class ZodNumber extends ZodType {
    constructor() {
      super(...arguments);
      this.min = this.gte;
      this.max = this.lte;
      this.step = this.multipleOf;
    }
    _parse(input) {
      if (this._def.coerce) {
        input.data = Number(input.data);
      }
      const parsedType = this._getType(input);
      if (parsedType !== ZodParsedType.number) {
        const ctx2 = this._getOrReturnCtx(input);
        addIssueToContext(ctx2, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.number,
          received: ctx2.parsedType
        });
        return INVALID;
      }
      let ctx = void 0;
      const status = new ParseStatus();
      for (const check of this._def.checks) {
        if (check.kind === "int") {
          if (!util$1.isInteger(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.invalid_type,
              expected: "integer",
              received: "float",
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "min") {
          const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;
          if (tooSmall) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.too_small,
              minimum: check.value,
              type: "number",
              inclusive: check.inclusive,
              exact: false,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "max") {
          const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;
          if (tooBig) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.too_big,
              maximum: check.value,
              type: "number",
              inclusive: check.inclusive,
              exact: false,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "multipleOf") {
          if (floatSafeRemainder(input.data, check.value) !== 0) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.not_multiple_of,
              multipleOf: check.value,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "finite") {
          if (!Number.isFinite(input.data)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.not_finite,
              message: check.message
            });
            status.dirty();
          }
        } else {
          util$1.assertNever(check);
        }
      }
      return { status: status.value, value: input.data };
    }
    gte(value, message) {
      return this.setLimit("min", value, true, errorUtil.toString(message));
    }
    gt(value, message) {
      return this.setLimit("min", value, false, errorUtil.toString(message));
    }
    lte(value, message) {
      return this.setLimit("max", value, true, errorUtil.toString(message));
    }
    lt(value, message) {
      return this.setLimit("max", value, false, errorUtil.toString(message));
    }
    setLimit(kind, value, inclusive, message) {
      return new ZodNumber({
        ...this._def,
        checks: [
          ...this._def.checks,
          {
            kind,
            value,
            inclusive,
            message: errorUtil.toString(message)
          }
        ]
      });
    }
    _addCheck(check) {
      return new ZodNumber({
        ...this._def,
        checks: [...this._def.checks, check]
      });
    }
    int(message) {
      return this._addCheck({
        kind: "int",
        message: errorUtil.toString(message)
      });
    }
    positive(message) {
      return this._addCheck({
        kind: "min",
        value: 0,
        inclusive: false,
        message: errorUtil.toString(message)
      });
    }
    negative(message) {
      return this._addCheck({
        kind: "max",
        value: 0,
        inclusive: false,
        message: errorUtil.toString(message)
      });
    }
    nonpositive(message) {
      return this._addCheck({
        kind: "max",
        value: 0,
        inclusive: true,
        message: errorUtil.toString(message)
      });
    }
    nonnegative(message) {
      return this._addCheck({
        kind: "min",
        value: 0,
        inclusive: true,
        message: errorUtil.toString(message)
      });
    }
    multipleOf(value, message) {
      return this._addCheck({
        kind: "multipleOf",
        value,
        message: errorUtil.toString(message)
      });
    }
    finite(message) {
      return this._addCheck({
        kind: "finite",
        message: errorUtil.toString(message)
      });
    }
    safe(message) {
      return this._addCheck({
        kind: "min",
        inclusive: true,
        value: Number.MIN_SAFE_INTEGER,
        message: errorUtil.toString(message)
      })._addCheck({
        kind: "max",
        inclusive: true,
        value: Number.MAX_SAFE_INTEGER,
        message: errorUtil.toString(message)
      });
    }
    get minValue() {
      let min = null;
      for (const ch of this._def.checks) {
        if (ch.kind === "min") {
          if (min === null || ch.value > min)
            min = ch.value;
        }
      }
      return min;
    }
    get maxValue() {
      let max = null;
      for (const ch of this._def.checks) {
        if (ch.kind === "max") {
          if (max === null || ch.value < max)
            max = ch.value;
        }
      }
      return max;
    }
    get isInt() {
      return !!this._def.checks.find((ch) => ch.kind === "int" || ch.kind === "multipleOf" && util$1.isInteger(ch.value));
    }
    get isFinite() {
      let max = null;
      let min = null;
      for (const ch of this._def.checks) {
        if (ch.kind === "finite" || ch.kind === "int" || ch.kind === "multipleOf") {
          return true;
        } else if (ch.kind === "min") {
          if (min === null || ch.value > min)
            min = ch.value;
        } else if (ch.kind === "max") {
          if (max === null || ch.value < max)
            max = ch.value;
        }
      }
      return Number.isFinite(min) && Number.isFinite(max);
    }
  }
  ZodNumber.create = (params) => {
    return new ZodNumber({
      checks: [],
      typeName: ZodFirstPartyTypeKind.ZodNumber,
      coerce: (params == null ? void 0 : params.coerce) || false,
      ...processCreateParams(params)
    });
  };
  class ZodBigInt extends ZodType {
    constructor() {
      super(...arguments);
      this.min = this.gte;
      this.max = this.lte;
    }
    _parse(input) {
      if (this._def.coerce) {
        try {
          input.data = BigInt(input.data);
        } catch {
          return this._getInvalidInput(input);
        }
      }
      const parsedType = this._getType(input);
      if (parsedType !== ZodParsedType.bigint) {
        return this._getInvalidInput(input);
      }
      let ctx = void 0;
      const status = new ParseStatus();
      for (const check of this._def.checks) {
        if (check.kind === "min") {
          const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;
          if (tooSmall) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.too_small,
              type: "bigint",
              minimum: check.value,
              inclusive: check.inclusive,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "max") {
          const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;
          if (tooBig) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.too_big,
              type: "bigint",
              maximum: check.value,
              inclusive: check.inclusive,
              message: check.message
            });
            status.dirty();
          }
        } else if (check.kind === "multipleOf") {
          if (input.data % check.value !== BigInt(0)) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.not_multiple_of,
              multipleOf: check.value,
              message: check.message
            });
            status.dirty();
          }
        } else {
          util$1.assertNever(check);
        }
      }
      return { status: status.value, value: input.data };
    }
    _getInvalidInput(input) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode.invalid_type,
        expected: ZodParsedType.bigint,
        received: ctx.parsedType
      });
      return INVALID;
    }
    gte(value, message) {
      return this.setLimit("min", value, true, errorUtil.toString(message));
    }
    gt(value, message) {
      return this.setLimit("min", value, false, errorUtil.toString(message));
    }
    lte(value, message) {
      return this.setLimit("max", value, true, errorUtil.toString(message));
    }
    lt(value, message) {
      return this.setLimit("max", value, false, errorUtil.toString(message));
    }
    setLimit(kind, value, inclusive, message) {
      return new ZodBigInt({
        ...this._def,
        checks: [
          ...this._def.checks,
          {
            kind,
            value,
            inclusive,
            message: errorUtil.toString(message)
          }
        ]
      });
    }
    _addCheck(check) {
      return new ZodBigInt({
        ...this._def,
        checks: [...this._def.checks, check]
      });
    }
    positive(message) {
      return this._addCheck({
        kind: "min",
        value: BigInt(0),
        inclusive: false,
        message: errorUtil.toString(message)
      });
    }
    negative(message) {
      return this._addCheck({
        kind: "max",
        value: BigInt(0),
        inclusive: false,
        message: errorUtil.toString(message)
      });
    }
    nonpositive(message) {
      return this._addCheck({
        kind: "max",
        value: BigInt(0),
        inclusive: true,
        message: errorUtil.toString(message)
      });
    }
    nonnegative(message) {
      return this._addCheck({
        kind: "min",
        value: BigInt(0),
        inclusive: true,
        message: errorUtil.toString(message)
      });
    }
    multipleOf(value, message) {
      return this._addCheck({
        kind: "multipleOf",
        value,
        message: errorUtil.toString(message)
      });
    }
    get minValue() {
      let min = null;
      for (const ch of this._def.checks) {
        if (ch.kind === "min") {
          if (min === null || ch.value > min)
            min = ch.value;
        }
      }
      return min;
    }
    get maxValue() {
      let max = null;
      for (const ch of this._def.checks) {
        if (ch.kind === "max") {
          if (max === null || ch.value < max)
            max = ch.value;
        }
      }
      return max;
    }
  }
  ZodBigInt.create = (params) => {
    return new ZodBigInt({
      checks: [],
      typeName: ZodFirstPartyTypeKind.ZodBigInt,
      coerce: (params == null ? void 0 : params.coerce) ?? false,
      ...processCreateParams(params)
    });
  };
  class ZodBoolean extends ZodType {
    _parse(input) {
      if (this._def.coerce) {
        input.data = Boolean(input.data);
      }
      const parsedType = this._getType(input);
      if (parsedType !== ZodParsedType.boolean) {
        const ctx = this._getOrReturnCtx(input);
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.boolean,
          received: ctx.parsedType
        });
        return INVALID;
      }
      return OK(input.data);
    }
  }
  ZodBoolean.create = (params) => {
    return new ZodBoolean({
      typeName: ZodFirstPartyTypeKind.ZodBoolean,
      coerce: (params == null ? void 0 : params.coerce) || false,
      ...processCreateParams(params)
    });
  };
  class ZodDate extends ZodType {
    _parse(input) {
      if (this._def.coerce) {
        input.data = new Date(input.data);
      }
      const parsedType = this._getType(input);
      if (parsedType !== ZodParsedType.date) {
        const ctx2 = this._getOrReturnCtx(input);
        addIssueToContext(ctx2, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.date,
          received: ctx2.parsedType
        });
        return INVALID;
      }
      if (Number.isNaN(input.data.getTime())) {
        const ctx2 = this._getOrReturnCtx(input);
        addIssueToContext(ctx2, {
          code: ZodIssueCode.invalid_date
        });
        return INVALID;
      }
      const status = new ParseStatus();
      let ctx = void 0;
      for (const check of this._def.checks) {
        if (check.kind === "min") {
          if (input.data.getTime() < check.value) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.too_small,
              message: check.message,
              inclusive: true,
              exact: false,
              minimum: check.value,
              type: "date"
            });
            status.dirty();
          }
        } else if (check.kind === "max") {
          if (input.data.getTime() > check.value) {
            ctx = this._getOrReturnCtx(input, ctx);
            addIssueToContext(ctx, {
              code: ZodIssueCode.too_big,
              message: check.message,
              inclusive: true,
              exact: false,
              maximum: check.value,
              type: "date"
            });
            status.dirty();
          }
        } else {
          util$1.assertNever(check);
        }
      }
      return {
        status: status.value,
        value: new Date(input.data.getTime())
      };
    }
    _addCheck(check) {
      return new ZodDate({
        ...this._def,
        checks: [...this._def.checks, check]
      });
    }
    min(minDate, message) {
      return this._addCheck({
        kind: "min",
        value: minDate.getTime(),
        message: errorUtil.toString(message)
      });
    }
    max(maxDate, message) {
      return this._addCheck({
        kind: "max",
        value: maxDate.getTime(),
        message: errorUtil.toString(message)
      });
    }
    get minDate() {
      let min = null;
      for (const ch of this._def.checks) {
        if (ch.kind === "min") {
          if (min === null || ch.value > min)
            min = ch.value;
        }
      }
      return min != null ? new Date(min) : null;
    }
    get maxDate() {
      let max = null;
      for (const ch of this._def.checks) {
        if (ch.kind === "max") {
          if (max === null || ch.value < max)
            max = ch.value;
        }
      }
      return max != null ? new Date(max) : null;
    }
  }
  ZodDate.create = (params) => {
    return new ZodDate({
      checks: [],
      coerce: (params == null ? void 0 : params.coerce) || false,
      typeName: ZodFirstPartyTypeKind.ZodDate,
      ...processCreateParams(params)
    });
  };
  class ZodSymbol extends ZodType {
    _parse(input) {
      const parsedType = this._getType(input);
      if (parsedType !== ZodParsedType.symbol) {
        const ctx = this._getOrReturnCtx(input);
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.symbol,
          received: ctx.parsedType
        });
        return INVALID;
      }
      return OK(input.data);
    }
  }
  ZodSymbol.create = (params) => {
    return new ZodSymbol({
      typeName: ZodFirstPartyTypeKind.ZodSymbol,
      ...processCreateParams(params)
    });
  };
  class ZodUndefined extends ZodType {
    _parse(input) {
      const parsedType = this._getType(input);
      if (parsedType !== ZodParsedType.undefined) {
        const ctx = this._getOrReturnCtx(input);
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.undefined,
          received: ctx.parsedType
        });
        return INVALID;
      }
      return OK(input.data);
    }
  }
  ZodUndefined.create = (params) => {
    return new ZodUndefined({
      typeName: ZodFirstPartyTypeKind.ZodUndefined,
      ...processCreateParams(params)
    });
  };
  class ZodNull extends ZodType {
    _parse(input) {
      const parsedType = this._getType(input);
      if (parsedType !== ZodParsedType.null) {
        const ctx = this._getOrReturnCtx(input);
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.null,
          received: ctx.parsedType
        });
        return INVALID;
      }
      return OK(input.data);
    }
  }
  ZodNull.create = (params) => {
    return new ZodNull({
      typeName: ZodFirstPartyTypeKind.ZodNull,
      ...processCreateParams(params)
    });
  };
  class ZodAny extends ZodType {
    constructor() {
      super(...arguments);
      this._any = true;
    }
    _parse(input) {
      return OK(input.data);
    }
  }
  ZodAny.create = (params) => {
    return new ZodAny({
      typeName: ZodFirstPartyTypeKind.ZodAny,
      ...processCreateParams(params)
    });
  };
  class ZodUnknown extends ZodType {
    constructor() {
      super(...arguments);
      this._unknown = true;
    }
    _parse(input) {
      return OK(input.data);
    }
  }
  ZodUnknown.create = (params) => {
    return new ZodUnknown({
      typeName: ZodFirstPartyTypeKind.ZodUnknown,
      ...processCreateParams(params)
    });
  };
  class ZodNever extends ZodType {
    _parse(input) {
      const ctx = this._getOrReturnCtx(input);
      addIssueToContext(ctx, {
        code: ZodIssueCode.invalid_type,
        expected: ZodParsedType.never,
        received: ctx.parsedType
      });
      return INVALID;
    }
  }
  ZodNever.create = (params) => {
    return new ZodNever({
      typeName: ZodFirstPartyTypeKind.ZodNever,
      ...processCreateParams(params)
    });
  };
  class ZodVoid extends ZodType {
    _parse(input) {
      const parsedType = this._getType(input);
      if (parsedType !== ZodParsedType.undefined) {
        const ctx = this._getOrReturnCtx(input);
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.void,
          received: ctx.parsedType
        });
        return INVALID;
      }
      return OK(input.data);
    }
  }
  ZodVoid.create = (params) => {
    return new ZodVoid({
      typeName: ZodFirstPartyTypeKind.ZodVoid,
      ...processCreateParams(params)
    });
  };
  class ZodArray extends ZodType {
    _parse(input) {
      const { ctx, status } = this._processInputParams(input);
      const def = this._def;
      if (ctx.parsedType !== ZodParsedType.array) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.array,
          received: ctx.parsedType
        });
        return INVALID;
      }
      if (def.exactLength !== null) {
        const tooBig = ctx.data.length > def.exactLength.value;
        const tooSmall = ctx.data.length < def.exactLength.value;
        if (tooBig || tooSmall) {
          addIssueToContext(ctx, {
            code: tooBig ? ZodIssueCode.too_big : ZodIssueCode.too_small,
            minimum: tooSmall ? def.exactLength.value : void 0,
            maximum: tooBig ? def.exactLength.value : void 0,
            type: "array",
            inclusive: true,
            exact: true,
            message: def.exactLength.message
          });
          status.dirty();
        }
      }
      if (def.minLength !== null) {
        if (ctx.data.length < def.minLength.value) {
          addIssueToContext(ctx, {
            code: ZodIssueCode.too_small,
            minimum: def.minLength.value,
            type: "array",
            inclusive: true,
            exact: false,
            message: def.minLength.message
          });
          status.dirty();
        }
      }
      if (def.maxLength !== null) {
        if (ctx.data.length > def.maxLength.value) {
          addIssueToContext(ctx, {
            code: ZodIssueCode.too_big,
            maximum: def.maxLength.value,
            type: "array",
            inclusive: true,
            exact: false,
            message: def.maxLength.message
          });
          status.dirty();
        }
      }
      if (ctx.common.async) {
        return Promise.all([...ctx.data].map((item, i) => {
          return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i));
        })).then((result2) => {
          return ParseStatus.mergeArray(status, result2);
        });
      }
      const result = [...ctx.data].map((item, i) => {
        return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i));
      });
      return ParseStatus.mergeArray(status, result);
    }
    get element() {
      return this._def.type;
    }
    min(minLength, message) {
      return new ZodArray({
        ...this._def,
        minLength: { value: minLength, message: errorUtil.toString(message) }
      });
    }
    max(maxLength, message) {
      return new ZodArray({
        ...this._def,
        maxLength: { value: maxLength, message: errorUtil.toString(message) }
      });
    }
    length(len, message) {
      return new ZodArray({
        ...this._def,
        exactLength: { value: len, message: errorUtil.toString(message) }
      });
    }
    nonempty(message) {
      return this.min(1, message);
    }
  }
  ZodArray.create = (schema, params) => {
    return new ZodArray({
      type: schema,
      minLength: null,
      maxLength: null,
      exactLength: null,
      typeName: ZodFirstPartyTypeKind.ZodArray,
      ...processCreateParams(params)
    });
  };
  function deepPartialify(schema) {
    if (schema instanceof ZodObject) {
      const newShape = {};
      for (const key in schema.shape) {
        const fieldSchema = schema.shape[key];
        newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));
      }
      return new ZodObject({
        ...schema._def,
        shape: () => newShape
      });
    } else if (schema instanceof ZodArray) {
      return new ZodArray({
        ...schema._def,
        type: deepPartialify(schema.element)
      });
    } else if (schema instanceof ZodOptional) {
      return ZodOptional.create(deepPartialify(schema.unwrap()));
    } else if (schema instanceof ZodNullable) {
      return ZodNullable.create(deepPartialify(schema.unwrap()));
    } else if (schema instanceof ZodTuple) {
      return ZodTuple.create(schema.items.map((item) => deepPartialify(item)));
    } else {
      return schema;
    }
  }
  class ZodObject extends ZodType {
    constructor() {
      super(...arguments);
      this._cached = null;
      this.nonstrict = this.passthrough;
      this.augment = this.extend;
    }
    _getCached() {
      if (this._cached !== null)
        return this._cached;
      const shape = this._def.shape();
      const keys = util$1.objectKeys(shape);
      this._cached = { shape, keys };
      return this._cached;
    }
    _parse(input) {
      const parsedType = this._getType(input);
      if (parsedType !== ZodParsedType.object) {
        const ctx2 = this._getOrReturnCtx(input);
        addIssueToContext(ctx2, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.object,
          received: ctx2.parsedType
        });
        return INVALID;
      }
      const { status, ctx } = this._processInputParams(input);
      const { shape, keys: shapeKeys } = this._getCached();
      const extraKeys = [];
      if (!(this._def.catchall instanceof ZodNever && this._def.unknownKeys === "strip")) {
        for (const key in ctx.data) {
          if (!shapeKeys.includes(key)) {
            extraKeys.push(key);
          }
        }
      }
      const pairs = [];
      for (const key of shapeKeys) {
        const keyValidator = shape[key];
        const value = ctx.data[key];
        pairs.push({
          key: { status: "valid", value: key },
          value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),
          alwaysSet: key in ctx.data
        });
      }
      if (this._def.catchall instanceof ZodNever) {
        const unknownKeys = this._def.unknownKeys;
        if (unknownKeys === "passthrough") {
          for (const key of extraKeys) {
            pairs.push({
              key: { status: "valid", value: key },
              value: { status: "valid", value: ctx.data[key] }
            });
          }
        } else if (unknownKeys === "strict") {
          if (extraKeys.length > 0) {
            addIssueToContext(ctx, {
              code: ZodIssueCode.unrecognized_keys,
              keys: extraKeys
            });
            status.dirty();
          }
        } else if (unknownKeys === "strip") ;
        else {
          throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);
        }
      } else {
        const catchall = this._def.catchall;
        for (const key of extraKeys) {
          const value = ctx.data[key];
          pairs.push({
            key: { status: "valid", value: key },
            value: catchall._parse(
              new ParseInputLazyPath(ctx, value, ctx.path, key)
              //, ctx.child(key), value, getParsedType(value)
            ),
            alwaysSet: key in ctx.data
          });
        }
      }
      if (ctx.common.async) {
        return Promise.resolve().then(async () => {
          const syncPairs = [];
          for (const pair of pairs) {
            const key = await pair.key;
            const value = await pair.value;
            syncPairs.push({
              key,
              value,
              alwaysSet: pair.alwaysSet
            });
          }
          return syncPairs;
        }).then((syncPairs) => {
          return ParseStatus.mergeObjectSync(status, syncPairs);
        });
      } else {
        return ParseStatus.mergeObjectSync(status, pairs);
      }
    }
    get shape() {
      return this._def.shape();
    }
    strict(message) {
      errorUtil.errToObj;
      return new ZodObject({
        ...this._def,
        unknownKeys: "strict",
        ...message !== void 0 ? {
          errorMap: (issue, ctx) => {
            var _a, _b;
            const defaultError = ((_b = (_a = this._def).errorMap) == null ? void 0 : _b.call(_a, issue, ctx).message) ?? ctx.defaultError;
            if (issue.code === "unrecognized_keys")
              return {
                message: errorUtil.errToObj(message).message ?? defaultError
              };
            return {
              message: defaultError
            };
          }
        } : {}
      });
    }
    strip() {
      return new ZodObject({
        ...this._def,
        unknownKeys: "strip"
      });
    }
    passthrough() {
      return new ZodObject({
        ...this._def,
        unknownKeys: "passthrough"
      });
    }
    // const AugmentFactory =
    //   <Def extends ZodObjectDef>(def: Def) =>
    //   <Augmentation extends ZodRawShape>(
    //     augmentation: Augmentation
    //   ): ZodObject<
    //     extendShape<ReturnType<Def["shape"]>, Augmentation>,
    //     Def["unknownKeys"],
    //     Def["catchall"]
    //   > => {
    //     return new ZodObject({
    //       ...def,
    //       shape: () => ({
    //         ...def.shape(),
    //         ...augmentation,
    //       }),
    //     }) as any;
    //   };
    extend(augmentation) {
      return new ZodObject({
        ...this._def,
        shape: () => ({
          ...this._def.shape(),
          ...augmentation
        })
      });
    }
    /**
     * Prior to zod@1.0.12 there was a bug in the
     * inferred type of merged objects. Please
     * upgrade if you are experiencing issues.
     */
    merge(merging) {
      const merged = new ZodObject({
        unknownKeys: merging._def.unknownKeys,
        catchall: merging._def.catchall,
        shape: () => ({
          ...this._def.shape(),
          ...merging._def.shape()
        }),
        typeName: ZodFirstPartyTypeKind.ZodObject
      });
      return merged;
    }
    // merge<
    //   Incoming extends AnyZodObject,
    //   Augmentation extends Incoming["shape"],
    //   NewOutput extends {
    //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation
    //       ? Augmentation[k]["_output"]
    //       : k extends keyof Output
    //       ? Output[k]
    //       : never;
    //   },
    //   NewInput extends {
    //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation
    //       ? Augmentation[k]["_input"]
    //       : k extends keyof Input
    //       ? Input[k]
    //       : never;
    //   }
    // >(
    //   merging: Incoming
    // ): ZodObject<
    //   extendShape<T, ReturnType<Incoming["_def"]["shape"]>>,
    //   Incoming["_def"]["unknownKeys"],
    //   Incoming["_def"]["catchall"],
    //   NewOutput,
    //   NewInput
    // > {
    //   const merged: any = new ZodObject({
    //     unknownKeys: merging._def.unknownKeys,
    //     catchall: merging._def.catchall,
    //     shape: () =>
    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),
    //     typeName: ZodFirstPartyTypeKind.ZodObject,
    //   }) as any;
    //   return merged;
    // }
    setKey(key, schema) {
      return this.augment({ [key]: schema });
    }
    // merge<Incoming extends AnyZodObject>(
    //   merging: Incoming
    // ): //ZodObject<T & Incoming["_shape"], UnknownKeys, Catchall> = (merging) => {
    // ZodObject<
    //   extendShape<T, ReturnType<Incoming["_def"]["shape"]>>,
    //   Incoming["_def"]["unknownKeys"],
    //   Incoming["_def"]["catchall"]
    // > {
    //   // const mergedShape = objectUtil.mergeShapes(
    //   //   this._def.shape(),
    //   //   merging._def.shape()
    //   // );
    //   const merged: any = new ZodObject({
    //     unknownKeys: merging._def.unknownKeys,
    //     catchall: merging._def.catchall,
    //     shape: () =>
    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),
    //     typeName: ZodFirstPartyTypeKind.ZodObject,
    //   }) as any;
    //   return merged;
    // }
    catchall(index2) {
      return new ZodObject({
        ...this._def,
        catchall: index2
      });
    }
    pick(mask) {
      const shape = {};
      for (const key of util$1.objectKeys(mask)) {
        if (mask[key] && this.shape[key]) {
          shape[key] = this.shape[key];
        }
      }
      return new ZodObject({
        ...this._def,
        shape: () => shape
      });
    }
    omit(mask) {
      const shape = {};
      for (const key of util$1.objectKeys(this.shape)) {
        if (!mask[key]) {
          shape[key] = this.shape[key];
        }
      }
      return new ZodObject({
        ...this._def,
        shape: () => shape
      });
    }
    /**
     * @deprecated
     */
    deepPartial() {
      return deepPartialify(this);
    }
    partial(mask) {
      const newShape = {};
      for (const key of util$1.objectKeys(this.shape)) {
        const fieldSchema = this.shape[key];
        if (mask && !mask[key]) {
          newShape[key] = fieldSchema;
        } else {
          newShape[key] = fieldSchema.optional();
        }
      }
      return new ZodObject({
        ...this._def,
        shape: () => newShape
      });
    }
    required(mask) {
      const newShape = {};
      for (const key of util$1.objectKeys(this.shape)) {
        if (mask && !mask[key]) {
          newShape[key] = this.shape[key];
        } else {
          const fieldSchema = this.shape[key];
          let newField = fieldSchema;
          while (newField instanceof ZodOptional) {
            newField = newField._def.innerType;
          }
          newShape[key] = newField;
        }
      }
      return new ZodObject({
        ...this._def,
        shape: () => newShape
      });
    }
    keyof() {
      return createZodEnum(util$1.objectKeys(this.shape));
    }
  }
  ZodObject.create = (shape, params) => {
    return new ZodObject({
      shape: () => shape,
      unknownKeys: "strip",
      catchall: ZodNever.create(),
      typeName: ZodFirstPartyTypeKind.ZodObject,
      ...processCreateParams(params)
    });
  };
  ZodObject.strictCreate = (shape, params) => {
    return new ZodObject({
      shape: () => shape,
      unknownKeys: "strict",
      catchall: ZodNever.create(),
      typeName: ZodFirstPartyTypeKind.ZodObject,
      ...processCreateParams(params)
    });
  };
  ZodObject.lazycreate = (shape, params) => {
    return new ZodObject({
      shape,
      unknownKeys: "strip",
      catchall: ZodNever.create(),
      typeName: ZodFirstPartyTypeKind.ZodObject,
      ...processCreateParams(params)
    });
  };
  class ZodUnion extends ZodType {
    _parse(input) {
      const { ctx } = this._processInputParams(input);
      const options = this._def.options;
      function handleResults(results) {
        for (const result of results) {
          if (result.result.status === "valid") {
            return result.result;
          }
        }
        for (const result of results) {
          if (result.result.status === "dirty") {
            ctx.common.issues.push(...result.ctx.common.issues);
            return result.result;
          }
        }
        const unionErrors = results.map((result) => new ZodError(result.ctx.common.issues));
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_union,
          unionErrors
        });
        return INVALID;
      }
      if (ctx.common.async) {
        return Promise.all(options.map(async (option) => {
          const childCtx = {
            ...ctx,
            common: {
              ...ctx.common,
              issues: []
            },
            parent: null
          };
          return {
            result: await option._parseAsync({
              data: ctx.data,
              path: ctx.path,
              parent: childCtx
            }),
            ctx: childCtx
          };
        })).then(handleResults);
      } else {
        let dirty = void 0;
        const issues = [];
        for (const option of options) {
          const childCtx = {
            ...ctx,
            common: {
              ...ctx.common,
              issues: []
            },
            parent: null
          };
          const result = option._parseSync({
            data: ctx.data,
            path: ctx.path,
            parent: childCtx
          });
          if (result.status === "valid") {
            return result;
          } else if (result.status === "dirty" && !dirty) {
            dirty = { result, ctx: childCtx };
          }
          if (childCtx.common.issues.length) {
            issues.push(childCtx.common.issues);
          }
        }
        if (dirty) {
          ctx.common.issues.push(...dirty.ctx.common.issues);
          return dirty.result;
        }
        const unionErrors = issues.map((issues2) => new ZodError(issues2));
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_union,
          unionErrors
        });
        return INVALID;
      }
    }
    get options() {
      return this._def.options;
    }
  }
  ZodUnion.create = (types, params) => {
    return new ZodUnion({
      options: types,
      typeName: ZodFirstPartyTypeKind.ZodUnion,
      ...processCreateParams(params)
    });
  };
  const getDiscriminator = (type2) => {
    if (type2 instanceof ZodLazy) {
      return getDiscriminator(type2.schema);
    } else if (type2 instanceof ZodEffects) {
      return getDiscriminator(type2.innerType());
    } else if (type2 instanceof ZodLiteral) {
      return [type2.value];
    } else if (type2 instanceof ZodEnum) {
      return type2.options;
    } else if (type2 instanceof ZodNativeEnum) {
      return util$1.objectValues(type2.enum);
    } else if (type2 instanceof ZodDefault) {
      return getDiscriminator(type2._def.innerType);
    } else if (type2 instanceof ZodUndefined) {
      return [void 0];
    } else if (type2 instanceof ZodNull) {
      return [null];
    } else if (type2 instanceof ZodOptional) {
      return [void 0, ...getDiscriminator(type2.unwrap())];
    } else if (type2 instanceof ZodNullable) {
      return [null, ...getDiscriminator(type2.unwrap())];
    } else if (type2 instanceof ZodBranded) {
      return getDiscriminator(type2.unwrap());
    } else if (type2 instanceof ZodReadonly) {
      return getDiscriminator(type2.unwrap());
    } else if (type2 instanceof ZodCatch) {
      return getDiscriminator(type2._def.innerType);
    } else {
      return [];
    }
  };
  class ZodDiscriminatedUnion extends ZodType {
    _parse(input) {
      const { ctx } = this._processInputParams(input);
      if (ctx.parsedType !== ZodParsedType.object) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.object,
          received: ctx.parsedType
        });
        return INVALID;
      }
      const discriminator = this.discriminator;
      const discriminatorValue = ctx.data[discriminator];
      const option = this.optionsMap.get(discriminatorValue);
      if (!option) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_union_discriminator,
          options: Array.from(this.optionsMap.keys()),
          path: [discriminator]
        });
        return INVALID;
      }
      if (ctx.common.async) {
        return option._parseAsync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        });
      } else {
        return option._parseSync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        });
      }
    }
    get discriminator() {
      return this._def.discriminator;
    }
    get options() {
      return this._def.options;
    }
    get optionsMap() {
      return this._def.optionsMap;
    }
    /**
     * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.
     * However, it only allows a union of objects, all of which need to share a discriminator property. This property must
     * have a different value for each object in the union.
     * @param discriminator the name of the discriminator property
     * @param types an array of object schemas
     * @param params
     */
    static create(discriminator, options, params) {
      const optionsMap = /* @__PURE__ */ new Map();
      for (const type2 of options) {
        const discriminatorValues = getDiscriminator(type2.shape[discriminator]);
        if (!discriminatorValues.length) {
          throw new Error(`A discriminator value for key \`${discriminator}\` could not be extracted from all schema options`);
        }
        for (const value of discriminatorValues) {
          if (optionsMap.has(value)) {
            throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);
          }
          optionsMap.set(value, type2);
        }
      }
      return new ZodDiscriminatedUnion({
        typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,
        discriminator,
        options,
        optionsMap,
        ...processCreateParams(params)
      });
    }
  }
  function mergeValues(a, b) {
    const aType = getParsedType(a);
    const bType = getParsedType(b);
    if (a === b) {
      return { valid: true, data: a };
    } else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {
      const bKeys = util$1.objectKeys(b);
      const sharedKeys = util$1.objectKeys(a).filter((key) => bKeys.indexOf(key) !== -1);
      const newObj = { ...a, ...b };
      for (const key of sharedKeys) {
        const sharedValue = mergeValues(a[key], b[key]);
        if (!sharedValue.valid) {
          return { valid: false };
        }
        newObj[key] = sharedValue.data;
      }
      return { valid: true, data: newObj };
    } else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {
      if (a.length !== b.length) {
        return { valid: false };
      }
      const newArray = [];
      for (let index2 = 0; index2 < a.length; index2++) {
        const itemA = a[index2];
        const itemB = b[index2];
        const sharedValue = mergeValues(itemA, itemB);
        if (!sharedValue.valid) {
          return { valid: false };
        }
        newArray.push(sharedValue.data);
      }
      return { valid: true, data: newArray };
    } else if (aType === ZodParsedType.date && bType === ZodParsedType.date && +a === +b) {
      return { valid: true, data: a };
    } else {
      return { valid: false };
    }
  }
  class ZodIntersection extends ZodType {
    _parse(input) {
      const { status, ctx } = this._processInputParams(input);
      const handleParsed = (parsedLeft, parsedRight) => {
        if (isAborted(parsedLeft) || isAborted(parsedRight)) {
          return INVALID;
        }
        const merged = mergeValues(parsedLeft.value, parsedRight.value);
        if (!merged.valid) {
          addIssueToContext(ctx, {
            code: ZodIssueCode.invalid_intersection_types
          });
          return INVALID;
        }
        if (isDirty(parsedLeft) || isDirty(parsedRight)) {
          status.dirty();
        }
        return { status: status.value, value: merged.data };
      };
      if (ctx.common.async) {
        return Promise.all([
          this._def.left._parseAsync({
            data: ctx.data,
            path: ctx.path,
            parent: ctx
          }),
          this._def.right._parseAsync({
            data: ctx.data,
            path: ctx.path,
            parent: ctx
          })
        ]).then(([left, right]) => handleParsed(left, right));
      } else {
        return handleParsed(this._def.left._parseSync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        }), this._def.right._parseSync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        }));
      }
    }
  }
  ZodIntersection.create = (left, right, params) => {
    return new ZodIntersection({
      left,
      right,
      typeName: ZodFirstPartyTypeKind.ZodIntersection,
      ...processCreateParams(params)
    });
  };
  class ZodTuple extends ZodType {
    _parse(input) {
      const { status, ctx } = this._processInputParams(input);
      if (ctx.parsedType !== ZodParsedType.array) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.array,
          received: ctx.parsedType
        });
        return INVALID;
      }
      if (ctx.data.length < this._def.items.length) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.too_small,
          minimum: this._def.items.length,
          inclusive: true,
          exact: false,
          type: "array"
        });
        return INVALID;
      }
      const rest = this._def.rest;
      if (!rest && ctx.data.length > this._def.items.length) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.too_big,
          maximum: this._def.items.length,
          inclusive: true,
          exact: false,
          type: "array"
        });
        status.dirty();
      }
      const items2 = [...ctx.data].map((item, itemIndex) => {
        const schema = this._def.items[itemIndex] || this._def.rest;
        if (!schema)
          return null;
        return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));
      }).filter((x) => !!x);
      if (ctx.common.async) {
        return Promise.all(items2).then((results) => {
          return ParseStatus.mergeArray(status, results);
        });
      } else {
        return ParseStatus.mergeArray(status, items2);
      }
    }
    get items() {
      return this._def.items;
    }
    rest(rest) {
      return new ZodTuple({
        ...this._def,
        rest
      });
    }
  }
  ZodTuple.create = (schemas, params) => {
    if (!Array.isArray(schemas)) {
      throw new Error("You must pass an array of schemas to z.tuple([ ... ])");
    }
    return new ZodTuple({
      items: schemas,
      typeName: ZodFirstPartyTypeKind.ZodTuple,
      rest: null,
      ...processCreateParams(params)
    });
  };
  class ZodRecord extends ZodType {
    get keySchema() {
      return this._def.keyType;
    }
    get valueSchema() {
      return this._def.valueType;
    }
    _parse(input) {
      const { status, ctx } = this._processInputParams(input);
      if (ctx.parsedType !== ZodParsedType.object) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.object,
          received: ctx.parsedType
        });
        return INVALID;
      }
      const pairs = [];
      const keyType = this._def.keyType;
      const valueType = this._def.valueType;
      for (const key in ctx.data) {
        pairs.push({
          key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),
          value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),
          alwaysSet: key in ctx.data
        });
      }
      if (ctx.common.async) {
        return ParseStatus.mergeObjectAsync(status, pairs);
      } else {
        return ParseStatus.mergeObjectSync(status, pairs);
      }
    }
    get element() {
      return this._def.valueType;
    }
    static create(first, second, third) {
      if (second instanceof ZodType) {
        return new ZodRecord({
          keyType: first,
          valueType: second,
          typeName: ZodFirstPartyTypeKind.ZodRecord,
          ...processCreateParams(third)
        });
      }
      return new ZodRecord({
        keyType: ZodString.create(),
        valueType: first,
        typeName: ZodFirstPartyTypeKind.ZodRecord,
        ...processCreateParams(second)
      });
    }
  }
  class ZodMap extends ZodType {
    get keySchema() {
      return this._def.keyType;
    }
    get valueSchema() {
      return this._def.valueType;
    }
    _parse(input) {
      const { status, ctx } = this._processInputParams(input);
      if (ctx.parsedType !== ZodParsedType.map) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.map,
          received: ctx.parsedType
        });
        return INVALID;
      }
      const keyType = this._def.keyType;
      const valueType = this._def.valueType;
      const pairs = [...ctx.data.entries()].map(([key, value], index2) => {
        return {
          key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index2, "key"])),
          value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index2, "value"]))
        };
      });
      if (ctx.common.async) {
        const finalMap = /* @__PURE__ */ new Map();
        return Promise.resolve().then(async () => {
          for (const pair of pairs) {
            const key = await pair.key;
            const value = await pair.value;
            if (key.status === "aborted" || value.status === "aborted") {
              return INVALID;
            }
            if (key.status === "dirty" || value.status === "dirty") {
              status.dirty();
            }
            finalMap.set(key.value, value.value);
          }
          return { status: status.value, value: finalMap };
        });
      } else {
        const finalMap = /* @__PURE__ */ new Map();
        for (const pair of pairs) {
          const key = pair.key;
          const value = pair.value;
          if (key.status === "aborted" || value.status === "aborted") {
            return INVALID;
          }
          if (key.status === "dirty" || value.status === "dirty") {
            status.dirty();
          }
          finalMap.set(key.value, value.value);
        }
        return { status: status.value, value: finalMap };
      }
    }
  }
  ZodMap.create = (keyType, valueType, params) => {
    return new ZodMap({
      valueType,
      keyType,
      typeName: ZodFirstPartyTypeKind.ZodMap,
      ...processCreateParams(params)
    });
  };
  class ZodSet extends ZodType {
    _parse(input) {
      const { status, ctx } = this._processInputParams(input);
      if (ctx.parsedType !== ZodParsedType.set) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.set,
          received: ctx.parsedType
        });
        return INVALID;
      }
      const def = this._def;
      if (def.minSize !== null) {
        if (ctx.data.size < def.minSize.value) {
          addIssueToContext(ctx, {
            code: ZodIssueCode.too_small,
            minimum: def.minSize.value,
            type: "set",
            inclusive: true,
            exact: false,
            message: def.minSize.message
          });
          status.dirty();
        }
      }
      if (def.maxSize !== null) {
        if (ctx.data.size > def.maxSize.value) {
          addIssueToContext(ctx, {
            code: ZodIssueCode.too_big,
            maximum: def.maxSize.value,
            type: "set",
            inclusive: true,
            exact: false,
            message: def.maxSize.message
          });
          status.dirty();
        }
      }
      const valueType = this._def.valueType;
      function finalizeSet(elements2) {
        const parsedSet = /* @__PURE__ */ new Set();
        for (const element of elements2) {
          if (element.status === "aborted")
            return INVALID;
          if (element.status === "dirty")
            status.dirty();
          parsedSet.add(element.value);
        }
        return { status: status.value, value: parsedSet };
      }
      const elements = [...ctx.data.values()].map((item, i) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i)));
      if (ctx.common.async) {
        return Promise.all(elements).then((elements2) => finalizeSet(elements2));
      } else {
        return finalizeSet(elements);
      }
    }
    min(minSize, message) {
      return new ZodSet({
        ...this._def,
        minSize: { value: minSize, message: errorUtil.toString(message) }
      });
    }
    max(maxSize, message) {
      return new ZodSet({
        ...this._def,
        maxSize: { value: maxSize, message: errorUtil.toString(message) }
      });
    }
    size(size, message) {
      return this.min(size, message).max(size, message);
    }
    nonempty(message) {
      return this.min(1, message);
    }
  }
  ZodSet.create = (valueType, params) => {
    return new ZodSet({
      valueType,
      minSize: null,
      maxSize: null,
      typeName: ZodFirstPartyTypeKind.ZodSet,
      ...processCreateParams(params)
    });
  };
  class ZodLazy extends ZodType {
    get schema() {
      return this._def.getter();
    }
    _parse(input) {
      const { ctx } = this._processInputParams(input);
      const lazySchema = this._def.getter();
      return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });
    }
  }
  ZodLazy.create = (getter, params) => {
    return new ZodLazy({
      getter,
      typeName: ZodFirstPartyTypeKind.ZodLazy,
      ...processCreateParams(params)
    });
  };
  class ZodLiteral extends ZodType {
    _parse(input) {
      if (input.data !== this._def.value) {
        const ctx = this._getOrReturnCtx(input);
        addIssueToContext(ctx, {
          received: ctx.data,
          code: ZodIssueCode.invalid_literal,
          expected: this._def.value
        });
        return INVALID;
      }
      return { status: "valid", value: input.data };
    }
    get value() {
      return this._def.value;
    }
  }
  ZodLiteral.create = (value, params) => {
    return new ZodLiteral({
      value,
      typeName: ZodFirstPartyTypeKind.ZodLiteral,
      ...processCreateParams(params)
    });
  };
  function createZodEnum(values, params) {
    return new ZodEnum({
      values,
      typeName: ZodFirstPartyTypeKind.ZodEnum,
      ...processCreateParams(params)
    });
  }
  class ZodEnum extends ZodType {
    _parse(input) {
      if (typeof input.data !== "string") {
        const ctx = this._getOrReturnCtx(input);
        const expectedValues = this._def.values;
        addIssueToContext(ctx, {
          expected: util$1.joinValues(expectedValues),
          received: ctx.parsedType,
          code: ZodIssueCode.invalid_type
        });
        return INVALID;
      }
      if (!this._cache) {
        this._cache = new Set(this._def.values);
      }
      if (!this._cache.has(input.data)) {
        const ctx = this._getOrReturnCtx(input);
        const expectedValues = this._def.values;
        addIssueToContext(ctx, {
          received: ctx.data,
          code: ZodIssueCode.invalid_enum_value,
          options: expectedValues
        });
        return INVALID;
      }
      return OK(input.data);
    }
    get options() {
      return this._def.values;
    }
    get enum() {
      const enumValues = {};
      for (const val of this._def.values) {
        enumValues[val] = val;
      }
      return enumValues;
    }
    get Values() {
      const enumValues = {};
      for (const val of this._def.values) {
        enumValues[val] = val;
      }
      return enumValues;
    }
    get Enum() {
      const enumValues = {};
      for (const val of this._def.values) {
        enumValues[val] = val;
      }
      return enumValues;
    }
    extract(values, newDef = this._def) {
      return ZodEnum.create(values, {
        ...this._def,
        ...newDef
      });
    }
    exclude(values, newDef = this._def) {
      return ZodEnum.create(this.options.filter((opt) => !values.includes(opt)), {
        ...this._def,
        ...newDef
      });
    }
  }
  ZodEnum.create = createZodEnum;
  class ZodNativeEnum extends ZodType {
    _parse(input) {
      const nativeEnumValues = util$1.getValidEnumValues(this._def.values);
      const ctx = this._getOrReturnCtx(input);
      if (ctx.parsedType !== ZodParsedType.string && ctx.parsedType !== ZodParsedType.number) {
        const expectedValues = util$1.objectValues(nativeEnumValues);
        addIssueToContext(ctx, {
          expected: util$1.joinValues(expectedValues),
          received: ctx.parsedType,
          code: ZodIssueCode.invalid_type
        });
        return INVALID;
      }
      if (!this._cache) {
        this._cache = new Set(util$1.getValidEnumValues(this._def.values));
      }
      if (!this._cache.has(input.data)) {
        const expectedValues = util$1.objectValues(nativeEnumValues);
        addIssueToContext(ctx, {
          received: ctx.data,
          code: ZodIssueCode.invalid_enum_value,
          options: expectedValues
        });
        return INVALID;
      }
      return OK(input.data);
    }
    get enum() {
      return this._def.values;
    }
  }
  ZodNativeEnum.create = (values, params) => {
    return new ZodNativeEnum({
      values,
      typeName: ZodFirstPartyTypeKind.ZodNativeEnum,
      ...processCreateParams(params)
    });
  };
  class ZodPromise extends ZodType {
    unwrap() {
      return this._def.type;
    }
    _parse(input) {
      const { ctx } = this._processInputParams(input);
      if (ctx.parsedType !== ZodParsedType.promise && ctx.common.async === false) {
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.promise,
          received: ctx.parsedType
        });
        return INVALID;
      }
      const promisified = ctx.parsedType === ZodParsedType.promise ? ctx.data : Promise.resolve(ctx.data);
      return OK(promisified.then((data2) => {
        return this._def.type.parseAsync(data2, {
          path: ctx.path,
          errorMap: ctx.common.contextualErrorMap
        });
      }));
    }
  }
  ZodPromise.create = (schema, params) => {
    return new ZodPromise({
      type: schema,
      typeName: ZodFirstPartyTypeKind.ZodPromise,
      ...processCreateParams(params)
    });
  };
  class ZodEffects extends ZodType {
    innerType() {
      return this._def.schema;
    }
    sourceType() {
      return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects ? this._def.schema.sourceType() : this._def.schema;
    }
    _parse(input) {
      const { status, ctx } = this._processInputParams(input);
      const effect = this._def.effect || null;
      const checkCtx = {
        addIssue: (arg) => {
          addIssueToContext(ctx, arg);
          if (arg.fatal) {
            status.abort();
          } else {
            status.dirty();
          }
        },
        get path() {
          return ctx.path;
        }
      };
      checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);
      if (effect.type === "preprocess") {
        const processed = effect.transform(ctx.data, checkCtx);
        if (ctx.common.async) {
          return Promise.resolve(processed).then(async (processed2) => {
            if (status.value === "aborted")
              return INVALID;
            const result = await this._def.schema._parseAsync({
              data: processed2,
              path: ctx.path,
              parent: ctx
            });
            if (result.status === "aborted")
              return INVALID;
            if (result.status === "dirty")
              return DIRTY(result.value);
            if (status.value === "dirty")
              return DIRTY(result.value);
            return result;
          });
        } else {
          if (status.value === "aborted")
            return INVALID;
          const result = this._def.schema._parseSync({
            data: processed,
            path: ctx.path,
            parent: ctx
          });
          if (result.status === "aborted")
            return INVALID;
          if (result.status === "dirty")
            return DIRTY(result.value);
          if (status.value === "dirty")
            return DIRTY(result.value);
          return result;
        }
      }
      if (effect.type === "refinement") {
        const executeRefinement = (acc) => {
          const result = effect.refinement(acc, checkCtx);
          if (ctx.common.async) {
            return Promise.resolve(result);
          }
          if (result instanceof Promise) {
            throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");
          }
          return acc;
        };
        if (ctx.common.async === false) {
          const inner = this._def.schema._parseSync({
            data: ctx.data,
            path: ctx.path,
            parent: ctx
          });
          if (inner.status === "aborted")
            return INVALID;
          if (inner.status === "dirty")
            status.dirty();
          executeRefinement(inner.value);
          return { status: status.value, value: inner.value };
        } else {
          return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((inner) => {
            if (inner.status === "aborted")
              return INVALID;
            if (inner.status === "dirty")
              status.dirty();
            return executeRefinement(inner.value).then(() => {
              return { status: status.value, value: inner.value };
            });
          });
        }
      }
      if (effect.type === "transform") {
        if (ctx.common.async === false) {
          const base = this._def.schema._parseSync({
            data: ctx.data,
            path: ctx.path,
            parent: ctx
          });
          if (!isValid(base))
            return INVALID;
          const result = effect.transform(base.value, checkCtx);
          if (result instanceof Promise) {
            throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);
          }
          return { status: status.value, value: result };
        } else {
          return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((base) => {
            if (!isValid(base))
              return INVALID;
            return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({
              status: status.value,
              value: result
            }));
          });
        }
      }
      util$1.assertNever(effect);
    }
  }
  ZodEffects.create = (schema, effect, params) => {
    return new ZodEffects({
      schema,
      typeName: ZodFirstPartyTypeKind.ZodEffects,
      effect,
      ...processCreateParams(params)
    });
  };
  ZodEffects.createWithPreprocess = (preprocess, schema, params) => {
    return new ZodEffects({
      schema,
      effect: { type: "preprocess", transform: preprocess },
      typeName: ZodFirstPartyTypeKind.ZodEffects,
      ...processCreateParams(params)
    });
  };
  class ZodOptional extends ZodType {
    _parse(input) {
      const parsedType = this._getType(input);
      if (parsedType === ZodParsedType.undefined) {
        return OK(void 0);
      }
      return this._def.innerType._parse(input);
    }
    unwrap() {
      return this._def.innerType;
    }
  }
  ZodOptional.create = (type2, params) => {
    return new ZodOptional({
      innerType: type2,
      typeName: ZodFirstPartyTypeKind.ZodOptional,
      ...processCreateParams(params)
    });
  };
  class ZodNullable extends ZodType {
    _parse(input) {
      const parsedType = this._getType(input);
      if (parsedType === ZodParsedType.null) {
        return OK(null);
      }
      return this._def.innerType._parse(input);
    }
    unwrap() {
      return this._def.innerType;
    }
  }
  ZodNullable.create = (type2, params) => {
    return new ZodNullable({
      innerType: type2,
      typeName: ZodFirstPartyTypeKind.ZodNullable,
      ...processCreateParams(params)
    });
  };
  class ZodDefault extends ZodType {
    _parse(input) {
      const { ctx } = this._processInputParams(input);
      let data2 = ctx.data;
      if (ctx.parsedType === ZodParsedType.undefined) {
        data2 = this._def.defaultValue();
      }
      return this._def.innerType._parse({
        data: data2,
        path: ctx.path,
        parent: ctx
      });
    }
    removeDefault() {
      return this._def.innerType;
    }
  }
  ZodDefault.create = (type2, params) => {
    return new ZodDefault({
      innerType: type2,
      typeName: ZodFirstPartyTypeKind.ZodDefault,
      defaultValue: typeof params.default === "function" ? params.default : () => params.default,
      ...processCreateParams(params)
    });
  };
  class ZodCatch extends ZodType {
    _parse(input) {
      const { ctx } = this._processInputParams(input);
      const newCtx = {
        ...ctx,
        common: {
          ...ctx.common,
          issues: []
        }
      };
      const result = this._def.innerType._parse({
        data: newCtx.data,
        path: newCtx.path,
        parent: {
          ...newCtx
        }
      });
      if (isAsync(result)) {
        return result.then((result2) => {
          return {
            status: "valid",
            value: result2.status === "valid" ? result2.value : this._def.catchValue({
              get error() {
                return new ZodError(newCtx.common.issues);
              },
              input: newCtx.data
            })
          };
        });
      } else {
        return {
          status: "valid",
          value: result.status === "valid" ? result.value : this._def.catchValue({
            get error() {
              return new ZodError(newCtx.common.issues);
            },
            input: newCtx.data
          })
        };
      }
    }
    removeCatch() {
      return this._def.innerType;
    }
  }
  ZodCatch.create = (type2, params) => {
    return new ZodCatch({
      innerType: type2,
      typeName: ZodFirstPartyTypeKind.ZodCatch,
      catchValue: typeof params.catch === "function" ? params.catch : () => params.catch,
      ...processCreateParams(params)
    });
  };
  class ZodNaN extends ZodType {
    _parse(input) {
      const parsedType = this._getType(input);
      if (parsedType !== ZodParsedType.nan) {
        const ctx = this._getOrReturnCtx(input);
        addIssueToContext(ctx, {
          code: ZodIssueCode.invalid_type,
          expected: ZodParsedType.nan,
          received: ctx.parsedType
        });
        return INVALID;
      }
      return { status: "valid", value: input.data };
    }
  }
  ZodNaN.create = (params) => {
    return new ZodNaN({
      typeName: ZodFirstPartyTypeKind.ZodNaN,
      ...processCreateParams(params)
    });
  };
  class ZodBranded extends ZodType {
    _parse(input) {
      const { ctx } = this._processInputParams(input);
      const data2 = ctx.data;
      return this._def.type._parse({
        data: data2,
        path: ctx.path,
        parent: ctx
      });
    }
    unwrap() {
      return this._def.type;
    }
  }
  class ZodPipeline extends ZodType {
    _parse(input) {
      const { status, ctx } = this._processInputParams(input);
      if (ctx.common.async) {
        const handleAsync = async () => {
          const inResult = await this._def.in._parseAsync({
            data: ctx.data,
            path: ctx.path,
            parent: ctx
          });
          if (inResult.status === "aborted")
            return INVALID;
          if (inResult.status === "dirty") {
            status.dirty();
            return DIRTY(inResult.value);
          } else {
            return this._def.out._parseAsync({
              data: inResult.value,
              path: ctx.path,
              parent: ctx
            });
          }
        };
        return handleAsync();
      } else {
        const inResult = this._def.in._parseSync({
          data: ctx.data,
          path: ctx.path,
          parent: ctx
        });
        if (inResult.status === "aborted")
          return INVALID;
        if (inResult.status === "dirty") {
          status.dirty();
          return {
            status: "dirty",
            value: inResult.value
          };
        } else {
          return this._def.out._parseSync({
            data: inResult.value,
            path: ctx.path,
            parent: ctx
          });
        }
      }
    }
    static create(a, b) {
      return new ZodPipeline({
        in: a,
        out: b,
        typeName: ZodFirstPartyTypeKind.ZodPipeline
      });
    }
  }
  class ZodReadonly extends ZodType {
    _parse(input) {
      const result = this._def.innerType._parse(input);
      const freeze = (data2) => {
        if (isValid(data2)) {
          data2.value = Object.freeze(data2.value);
        }
        return data2;
      };
      return isAsync(result) ? result.then((data2) => freeze(data2)) : freeze(result);
    }
    unwrap() {
      return this._def.innerType;
    }
  }
  ZodReadonly.create = (type2, params) => {
    return new ZodReadonly({
      innerType: type2,
      typeName: ZodFirstPartyTypeKind.ZodReadonly,
      ...processCreateParams(params)
    });
  };
  var ZodFirstPartyTypeKind;
  (function(ZodFirstPartyTypeKind2) {
    ZodFirstPartyTypeKind2["ZodString"] = "ZodString";
    ZodFirstPartyTypeKind2["ZodNumber"] = "ZodNumber";
    ZodFirstPartyTypeKind2["ZodNaN"] = "ZodNaN";
    ZodFirstPartyTypeKind2["ZodBigInt"] = "ZodBigInt";
    ZodFirstPartyTypeKind2["ZodBoolean"] = "ZodBoolean";
    ZodFirstPartyTypeKind2["ZodDate"] = "ZodDate";
    ZodFirstPartyTypeKind2["ZodSymbol"] = "ZodSymbol";
    ZodFirstPartyTypeKind2["ZodUndefined"] = "ZodUndefined";
    ZodFirstPartyTypeKind2["ZodNull"] = "ZodNull";
    ZodFirstPartyTypeKind2["ZodAny"] = "ZodAny";
    ZodFirstPartyTypeKind2["ZodUnknown"] = "ZodUnknown";
    ZodFirstPartyTypeKind2["ZodNever"] = "ZodNever";
    ZodFirstPartyTypeKind2["ZodVoid"] = "ZodVoid";
    ZodFirstPartyTypeKind2["ZodArray"] = "ZodArray";
    ZodFirstPartyTypeKind2["ZodObject"] = "ZodObject";
    ZodFirstPartyTypeKind2["ZodUnion"] = "ZodUnion";
    ZodFirstPartyTypeKind2["ZodDiscriminatedUnion"] = "ZodDiscriminatedUnion";
    ZodFirstPartyTypeKind2["ZodIntersection"] = "ZodIntersection";
    ZodFirstPartyTypeKind2["ZodTuple"] = "ZodTuple";
    ZodFirstPartyTypeKind2["ZodRecord"] = "ZodRecord";
    ZodFirstPartyTypeKind2["ZodMap"] = "ZodMap";
    ZodFirstPartyTypeKind2["ZodSet"] = "ZodSet";
    ZodFirstPartyTypeKind2["ZodFunction"] = "ZodFunction";
    ZodFirstPartyTypeKind2["ZodLazy"] = "ZodLazy";
    ZodFirstPartyTypeKind2["ZodLiteral"] = "ZodLiteral";
    ZodFirstPartyTypeKind2["ZodEnum"] = "ZodEnum";
    ZodFirstPartyTypeKind2["ZodEffects"] = "ZodEffects";
    ZodFirstPartyTypeKind2["ZodNativeEnum"] = "ZodNativeEnum";
    ZodFirstPartyTypeKind2["ZodOptional"] = "ZodOptional";
    ZodFirstPartyTypeKind2["ZodNullable"] = "ZodNullable";
    ZodFirstPartyTypeKind2["ZodDefault"] = "ZodDefault";
    ZodFirstPartyTypeKind2["ZodCatch"] = "ZodCatch";
    ZodFirstPartyTypeKind2["ZodPromise"] = "ZodPromise";
    ZodFirstPartyTypeKind2["ZodBranded"] = "ZodBranded";
    ZodFirstPartyTypeKind2["ZodPipeline"] = "ZodPipeline";
    ZodFirstPartyTypeKind2["ZodReadonly"] = "ZodReadonly";
  })(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));
  const stringType = ZodString.create;
  const numberType = ZodNumber.create;
  const booleanType = ZodBoolean.create;
  const anyType = ZodAny.create;
  const unknownType = ZodUnknown.create;
  ZodNever.create;
  const arrayType = ZodArray.create;
  const objectType = ZodObject.create;
  const unionType = ZodUnion.create;
  const discriminatedUnionType = ZodDiscriminatedUnion.create;
  ZodIntersection.create;
  ZodTuple.create;
  const recordType = ZodRecord.create;
  const literalType = ZodLiteral.create;
  const enumType = ZodEnum.create;
  ZodPromise.create;
  const optionalType = ZodOptional.create;
  ZodNullable.create;
  class NodeProxyImpl {
    constructor(graphInstance, nodeId) {
      __publicField(this, "graphInstance");
      __publicField(this, "nodeId");
      this.graphInstance = graphInstance;
      this.nodeId = nodeId;
    }
    /**
     * Get the store for this node
     */
    get store() {
      const nodeStore = this.graphInstance.getNodeStore(this.nodeId);
      if (!nodeStore) {
        throw new Error(`No store found for node ${this.nodeId}`);
      }
      if (this.nodeId !== this.graphInstance.getCurrentNodeId()) {
        this.graphInstance.ensureStoreConsumerBinding(this.nodeId);
      }
      return nodeStore;
    }
    /**
     * Get typed actions for this node
     */
    get actions() {
      const nodeDef = this.graphInstance.getDefinition().getNode(this.nodeId);
      if (!nodeDef) {
        throw new Error(`Node definition not found for ${this.nodeId}`);
      }
      const actionProxy = new Proxy({}, {
        get: (target, actionName) => {
          if (typeof actionName !== "string") {
            return void 0;
          }
          const actionDef = nodeDef.actions[actionName];
          if (!actionDef) {
            throw new Error(`Action ${actionName} not found for node ${this.nodeId}`);
          }
          return async (data2, signal) => {
            const connectionInfo = this.getConnectionInfo();
            if (!connectionInfo) {
              throw new Error(`No connection available for node ${this.nodeId}`);
            }
            const { connection, path } = connectionInfo;
            const sourceNodeId = this.graphInstance.getCurrentNodeId();
            if (!actionDef.stream) {
              const responseSchema = anyType();
              let result;
              if (path.length === 2) {
                result = await connection.request(
                  "sdppp/directRequest",
                  {
                    action: actionName,
                    data: data2,
                    sourceNodeId
                  },
                  responseSchema
                );
              } else {
                try {
                  result = await connection.request(
                    "sdppp/directRequest",
                    {
                      action: "__proxy_forward",
                      data: {
                        targetNodeId: this.nodeId,
                        targetAction: actionName,
                        targetData: data2,
                        forwardPath: path.slice(1)
                        // Remove current node from path
                      },
                      sourceNodeId
                    },
                    responseSchema
                  );
                } catch (error) {
                  console.error("Error in direct request:", error);
                  console.error({
                    targetNodeId: this.nodeId,
                    targetAction: actionName,
                    targetData: data2,
                    forwardPath: path.slice(1)
                    // Remove current node from path
                  });
                  throw error;
                }
              }
              return result;
            }
            let streamIteratorPromise;
            if (path.length === 2) {
              streamIteratorPromise = connection.action({
                action: actionName,
                data: data2,
                sourceNodeId
              }, actionDef.responseSchema, signal);
            } else {
              streamIteratorPromise = connection.action({
                action: "__proxy_forward",
                data: {
                  targetNodeId: this.nodeId,
                  targetAction: actionName,
                  targetData: data2,
                  forwardPath: path.slice(1)
                  // Remove current node from path
                },
                sourceNodeId
              }, actionDef.responseSchema, signal);
            }
            return streamIteratorPromise;
          };
        }
      });
      return actionProxy;
    }
    /**
     * Get the connection for this node proxy
     */
    getConnectionInfo() {
      return this.graphInstance.getConnectionToNodeInternal(this.nodeId);
    }
  }
  const pendingStateUpdates = /* @__PURE__ */ new Map();
  const transportReadyCallbacks = /* @__PURE__ */ new Map();
  class SDPPPStoreSynchronizer {
    constructor(endpoint) {
      __publicField(this, "endpoint");
      this.endpoint = endpoint;
    }
    initializeConsumer({
      store,
      storeName,
      onStateUpdate,
      requestInitialState
    }) {
      this.endpoint.setNotificationHandler(
        objectType({
          method: literalType(`sdppp/updateStore/${storeName}`),
          params: anyType()
        }),
        (notification) => {
          try {
            onStateUpdate(notification.params);
          } catch (error) {
            console.error(`Error updating store ${storeName}:`, error);
          }
        }
      );
      const doRequestInitialState = async (retryCount = 0, maxRetries = 5, delay = 100) => {
        try {
          await requestInitialState();
        } catch (error) {
          if (retryCount < maxRetries) {
            const backoffDelay = delay * Math.pow(2, retryCount) + Math.random() * 100;
            setTimeout(() => {
              doRequestInitialState(retryCount + 1, maxRetries, delay);
            }, backoffDelay);
          } else {
            console.warn(`Failed to request initial state for ${storeName} after ${maxRetries} retries`);
          }
        }
      };
      setTimeout(() => doRequestInitialState(), 50);
    }
    initializeProducer({
      store,
      storeName,
      sendStateUpdate,
      onInitialStateRequested
    }) {
      const endpointKey = `${storeName}_${Date.now()}_${Math.random()}`;
      const storeUpdateCallback = async (state, isInitialState = false) => {
        if (this.isTransportReady()) {
          try {
            await sendStateUpdate(state);
            if (pendingStateUpdates.has(endpointKey)) {
              pendingStateUpdates.delete(endpointKey);
            }
          } catch (error) {
            const errorMessage = error instanceof Error ? error.message : String(error);
            if (!errorMessage.includes("Transport") && !errorMessage.includes("transport")) {
              console.error(`Error sending store update for ${storeName}:`, error);
            }
            if (errorMessage.includes("Transport") || errorMessage.includes("transport")) {
              pendingStateUpdates.set(endpointKey, state);
            }
          }
        } else {
          pendingStateUpdates.set(endpointKey, state);
          if (!transportReadyCallbacks.has(endpointKey)) {
            transportReadyCallbacks.set(endpointKey, /* @__PURE__ */ new Set());
          }
          const callbacks = transportReadyCallbacks.get(endpointKey);
          const sendPendingUpdate = () => {
            const pendingState = pendingStateUpdates.get(endpointKey);
            if (pendingState) {
              storeUpdateCallback(pendingState, true);
            }
          };
          callbacks.add(sendPendingUpdate);
          const checkTransportReady = () => {
            if (this.isTransportReady()) {
              callbacks.forEach((callback) => callback());
              callbacks.clear();
              transportReadyCallbacks.delete(endpointKey);
            } else {
              setTimeout(checkTransportReady, 100);
            }
          };
          setTimeout(checkTransportReady, 50);
        }
      };
      const unsubscribe = store.subscribe((state) => {
        storeUpdateCallback(state, false);
      });
      onInitialStateRequested(() => {
        storeUpdateCallback(store.getState(), true);
      });
      storeUpdateCallback(store.getState(), true);
      return () => {
        unsubscribe();
        pendingStateUpdates.delete(endpointKey);
        if (transportReadyCallbacks.has(endpointKey)) {
          transportReadyCallbacks.get(endpointKey).clear();
          transportReadyCallbacks.delete(endpointKey);
        }
      };
    }
    isTransportReady() {
      try {
        const hasTransport = this.endpoint.transport || this.endpoint._transport || this.endpoint.connection;
        if (hasTransport === void 0 && typeof this.endpoint.notification === "function") {
          return true;
        }
        return !!hasTransport;
      } catch {
        return typeof this.endpoint.notification === "function";
      }
    }
  }
  class GraphStoreSynchronizer {
    // BroadcastManager type
    constructor(graphInstance) {
      __publicField(this, "graphInstance");
      // GraphInstance type
      __publicField(this, "actionManager");
      // ActionManager type
      __publicField(this, "broadcastManager");
      this.graphInstance = graphInstance;
      this.actionManager = graphInstance.actionManager;
      this.broadcastManager = graphInstance.broadcastManager;
    }
    initializeConsumer({
      store,
      storeName,
      onStateUpdate,
      requestInitialState
    }) {
      this.broadcastManager.registerHandler(`store:update:${storeName}`, (payload) => {
        try {
          if (payload.sourceNodeId !== this.graphInstance.getCurrentNodeId()) {
            onStateUpdate(payload.stateUpdate);
          }
        } catch (error) {
        }
      });
      const doRequestInitialState = async (retryCount = 0, maxRetries = 5, delay = 100) => {
        try {
          await requestInitialState();
        } catch (error) {
          if (retryCount < maxRetries) {
            const backoffDelay = delay * Math.pow(2, retryCount) + Math.random() * 100;
            setTimeout(() => {
              doRequestInitialState(retryCount + 1, maxRetries, delay);
            }, backoffDelay);
          }
        }
      };
      setTimeout(() => doRequestInitialState(), 50);
    }
    initializeProducer({
      store,
      storeName,
      sendStateUpdate,
      onInitialStateRequested
    }) {
      const currentNodeId = this.graphInstance.getCurrentNodeId();
      const broadcastStateUpdate = async (state, isInitialState = false) => {
        const transportReady = this.isTransportReady();
        if (transportReady) {
          try {
            await this.broadcastManager.broadcast(`store:update:${storeName}`, {
              storeName,
              sourceNodeId: currentNodeId,
              stateUpdate: state,
              isInitialState
            });
            await sendStateUpdate(state);
          } catch (error) {
          }
        }
      };
      const unsubscribe = store.subscribe((state) => {
        broadcastStateUpdate(state, false);
      });
      onInitialStateRequested(() => {
        broadcastStateUpdate(store.getState(), true);
      });
      const actionName = `__internal_requestInitialState_${storeName}`;
      this.actionManager.implementInternalAction(actionName, async () => {
        const currentState = store.getState();
        await broadcastStateUpdate(currentState, true);
        return { success: true };
      });
      broadcastStateUpdate(store.getState(), true);
      return () => {
        var _a;
        unsubscribe();
        (_a = this.actionManager.actionHandlers) == null ? void 0 : _a.delete(actionName);
      };
    }
    isTransportReady() {
      var _a;
      try {
        const connectionManager = this.graphInstance.connectionManager;
        const hasConnectedNodes = connectionManager && connectionManager.getConnectionCount() > 0;
        const hasMountedEndpoint = ((_a = this.broadcastManager.mountedEndpoints) == null ? void 0 : _a.size) > 0;
        return hasConnectedNodes || hasMountedEndpoint;
      } catch {
        return !!this.broadcastManager;
      }
    }
  }
  function bindStoreConsumerSideSDPPP({
    endpoint,
    store,
    name
  }) {
    const synchronizer = new SDPPPStoreSynchronizer(endpoint);
    const onStateUpdate = (newState) => {
      const currentState = store.getState();
      const updatedState = { ...currentState, ...newState };
      store.setState(updatedState);
    };
    const requestInitialState = async () => {
      await endpoint.notification({
        method: `sdppp/requestInitialState/${name}`,
        params: {}
      });
    };
    synchronizer.initializeConsumer({
      store,
      storeName: name,
      onStateUpdate,
      requestInitialState
    });
  }
  function bindStoreProducerSideSDPPP({
    endpoint,
    store,
    name
  }) {
    const synchronizer = new SDPPPStoreSynchronizer(endpoint);
    const sendStateUpdate = async (state) => {
      await endpoint.notification({
        method: `sdppp/updateStore/${name}`,
        params: state
      });
    };
    const onInitialStateRequested = (callback) => {
      endpoint.setNotificationHandler(
        objectType({
          method: literalType(`sdppp/requestInitialState/${name}`),
          params: anyType()
        }),
        () => {
          callback();
        }
      );
    };
    return synchronizer.initializeProducer({
      store,
      storeName: name,
      sendStateUpdate,
      onInitialStateRequested
    });
  }
  function bindStoreConsumerSideGraph({
    graphInstance,
    store,
    name
  }) {
    const synchronizer = new GraphStoreSynchronizer(graphInstance);
    const onStateUpdate = (newState) => {
      const currentState = store.getState();
      const updatedState = { ...currentState, ...newState };
      store.setState(updatedState);
    };
    const requestInitialState = async () => {
      const actionName = `__internal_requestInitialState_${name}`;
      try {
        const neighbors = graphInstance.getDefinition().getNeighbors(graphInstance.getCurrentNodeId());
        for (const nodeId of neighbors) {
          try {
            const nodeProxy = graphInstance.getNode(nodeId);
            if (nodeProxy && nodeProxy.actions && nodeProxy.actions[actionName]) {
              await nodeProxy.actions[actionName]();
              break;
            }
          } catch (error) {
            continue;
          }
        }
      } catch (error) {
        console.warn(`Failed to request initial state for ${name}:`, error);
      }
    };
    synchronizer.initializeConsumer({
      store,
      storeName: name,
      onStateUpdate,
      requestInitialState
    });
  }
  function bindStoreProducerSideGraph({
    graphInstance,
    store,
    name
  }) {
    const synchronizer = new GraphStoreSynchronizer(graphInstance);
    const sendStateUpdate = async (state) => {
    };
    const onInitialStateRequested = (callback) => {
    };
    return synchronizer.initializeProducer({
      store,
      storeName: name,
      sendStateUpdate,
      onInitialStateRequested
    });
  }
  class StoreManager {
    constructor() {
      __publicField(this, "bindings", /* @__PURE__ */ new Map());
    }
    /**
     * Bind a store as a consumer (receives updates from remote producer)
     */
    bindConsumer({
      endpoint,
      store,
      nodeId
    }) {
      this.unbind(nodeId);
      bindStoreConsumerSideSDPPP({
        endpoint,
        store,
        name: nodeId
      });
      this.bindings.set(nodeId, {
        nodeId,
        isProducer: false
      });
    }
    /**
     * Bind a store as a producer (sends updates to remote consumers)
     */
    bindProducer({
      endpoint,
      store,
      nodeId
    }) {
      this.unbind(nodeId);
      const cleanup = bindStoreProducerSideSDPPP({
        endpoint,
        store,
        name: nodeId
      });
      this.bindings.set(nodeId, {
        nodeId,
        isProducer: true,
        cleanup
      });
    }
    /**
     * Unbind a specific node's store
     */
    unbind(nodeId) {
      const binding = this.bindings.get(nodeId);
      if (binding) {
        if (binding.cleanup) {
          binding.cleanup();
        }
        this.bindings.delete(nodeId);
      }
    }
    /**
     * Get binding info for a node
     */
    getBinding(nodeId) {
      return this.bindings.get(nodeId);
    }
    /**
     * Get all current bindings
     */
    getAllBindings() {
      return Array.from(this.bindings.values());
    }
    /**
     * Check if a consumer binding exists for a node
     */
    hasConsumerBinding(nodeId) {
      const binding = this.bindings.get(nodeId);
      return binding ? !binding.isProducer : false;
    }
    /**
     * Mark that a consumer binding has been set up for a node
     */
    markConsumerBinding(nodeId) {
      this.bindings.set(nodeId, {
        nodeId,
        isProducer: false
      });
    }
    /**
     * Clean up all bindings
     */
    cleanup() {
      for (const binding of this.bindings.values()) {
        if (binding.cleanup) {
          binding.cleanup();
        }
      }
      this.bindings.clear();
    }
  }
  class ConnectionMonitor {
    constructor(graphInstance, options = {}) {
      __publicField(this, "graphInstance");
      __publicField(this, "options");
      __publicField(this, "monitoringIntervals", /* @__PURE__ */ new Map());
      __publicField(this, "definition");
      __publicField(this, "currentNodeId");
      this.graphInstance = graphInstance;
      this.definition = graphInstance.definition;
      this.currentNodeId = graphInstance.currentNodeId;
      this.options = {
        pingInterval: options.pingInterval || 3e4,
        // 30 seconds
        maxRetries: options.maxRetries || 3,
        retryDelay: options.retryDelay || 5e3,
        // 5 seconds
        dfsInterval: options.dfsInterval || 3e4
        // 30 seconds for DFS checks
      };
    }
    /**
     * Start monitoring a specific node connection
     */
    startMonitoring(nodeId) {
      if (this.monitoringIntervals.has(nodeId)) {
        return;
      }
      const interval = setInterval(() => {
        this.checkConnection(nodeId);
      }, this.options.pingInterval);
      this.monitoringIntervals.set(nodeId, interval);
    }
    /**
     * Stop monitoring a specific node
     */
    stopMonitoring(nodeId) {
      const interval = this.monitoringIntervals.get(nodeId);
      if (interval) {
        clearInterval(interval);
        this.monitoringIntervals.delete(nodeId);
      }
    }
    /**
     * Check connection health for a node
     */
    async checkConnection(nodeId) {
      try {
        await this.pingConnection(nodeId);
      } catch (error) {
        console.warn(`Connection to ${nodeId} appears unhealthy:`, error);
      }
    }
    /**
     * Ping a connection to check if it's alive
     */
    async pingConnection(nodeId) {
      const connection = this.graphInstance.getConnectionInternal(nodeId);
      if (!connection) {
        throw new Error("No connection available");
      }
      if (connection.isConnected && typeof connection.isConnected === "function" && connection.isConnected()) {
        return Promise.resolve();
      }
      throw new Error("Connection appears to be disconnected");
    }
    /**
     * Cleanup all monitoring
     */
    destroy() {
      for (const interval of this.monitoringIntervals.values()) {
        clearInterval(interval);
      }
      this.monitoringIntervals.clear();
    }
  }
  class BroadcastManager {
    constructor() {
      __publicField(this, "broadcastHandlers", /* @__PURE__ */ new Map());
      __publicField(this, "connections", /* @__PURE__ */ new Map());
      __publicField(this, "mountedEndpoints", /* @__PURE__ */ new Set());
    }
    /**
     * Create a global dispatcher that handles all message types
     */
    createGlobalDispatcherForType(broadcastType) {
      return (payload) => {
        const handlers = this.broadcastHandlers.get(broadcastType);
        if (handlers) {
          for (const handler of handlers) {
            try {
              handler(payload);
            } catch (error) {
              console.error(`Error in broadcast handler for ${broadcastType}:`, error);
            }
          }
        }
        if ((broadcastType.startsWith("store:update:") || broadcastType === "mesh:state:update") && !payload.forwarded) {
          this.forwardBroadcast(broadcastType, payload);
        }
      };
    }
    /**
     * Forward a broadcast message to all other connections
     * This enables indirect synchronization through intermediate nodes
     */
    async forwardBroadcast(broadcastType, payload) {
      try {
        const forwardedPayload = { ...payload, forwarded: true };
        const outgoingConnections = Array.from(this.connections.values());
        const allForwardTargets = [...outgoingConnections];
        let mountedEndpointsAdded = 0;
        for (const mountedEndpoint of this.mountedEndpoints) {
          if (!outgoingConnections.includes(mountedEndpoint)) {
            allForwardTargets.push(mountedEndpoint);
            mountedEndpointsAdded++;
          } else {
          }
        }
        if (this.mountedEndpoints.size === 0) {
        }
        const forwardPromises = allForwardTargets.map((endpoint, index2) => {
          const endpointType = outgoingConnections.includes(endpoint) ? "outgoing" : "mounted";
          return endpoint.broadcast(broadcastType, forwardedPayload).catch((error) => {
            throw error;
          });
        });
        await Promise.all(forwardPromises);
      } catch (error) {
        console.error("[BroadcastManager] Error forwarding broadcast:", error);
      }
    }
    /**
     * Register a broadcast message handler
     */
    registerHandler(broadcastType, handler) {
      if (!this.broadcastHandlers.has(broadcastType)) {
        this.broadcastHandlers.set(broadcastType, /* @__PURE__ */ new Set());
      }
      this.broadcastHandlers.get(broadcastType).add(handler);
      const dispatcher = this.createGlobalDispatcherForType(broadcastType);
      for (const connection of this.connections.values()) {
        connection.registerBroadcastHandler(broadcastType, dispatcher);
      }
      for (const endpoint of this.mountedEndpoints) {
        endpoint.registerBroadcastHandler(broadcastType, dispatcher);
      }
    }
    /**
     * Setup broadcast handlers for a new connection
     */
    setupConnectionHandlers(connection) {
      for (const broadcastType of this.broadcastHandlers.keys()) {
        const dispatcher = this.createGlobalDispatcherForType(broadcastType);
        connection.registerBroadcastHandler(broadcastType, dispatcher);
      }
    }
    /**
     * Add a connection to the broadcast manager
     */
    addConnection(nodeId, connection) {
      this.connections.set(nodeId, connection);
      this.setupConnectionHandlers(connection);
    }
    /**
     * Remove a connection from the broadcast manager
     */
    removeConnection(nodeId) {
      this.connections.delete(nodeId);
    }
    /**
     * Broadcast a named message to all connected nodes (excluding self)
     */
    async broadcast(broadcastName, payload) {
      const connections = Array.from(this.connections.values());
      const allEndpoints = [...connections];
      for (const mountedEndpoint of this.mountedEndpoints) {
        if (!connections.includes(mountedEndpoint)) {
          allEndpoints.push(mountedEndpoint);
        }
      }
      const broadcastPromises = allEndpoints.map((endpoint) => {
        return endpoint.broadcast(broadcastName, payload);
      });
      await Promise.all(broadcastPromises);
    }
    /**
     * Mount broadcast handlers to an endpoint
     */
    mountTo(endpoint) {
      this.mountedEndpoints.add(endpoint);
      for (const broadcastType of this.broadcastHandlers.keys()) {
        const dispatcher = this.createGlobalDispatcherForType(broadcastType);
        endpoint.registerBroadcastHandler(broadcastType, dispatcher);
      }
    }
    /**
     * Get all registered handler types
     */
    getHandlerTypes() {
      return Array.from(this.broadcastHandlers.keys());
    }
    /**
     * Clear all handlers and connections
     */
    clear() {
      this.broadcastHandlers.clear();
      this.connections.clear();
      this.mountedEndpoints.clear();
    }
  }
  class ActionManager {
    constructor(definition, currentNodeId, getConnection) {
      __publicField(this, "actionHandlers", /* @__PURE__ */ new Map());
      __publicField(this, "definition");
      __publicField(this, "currentNodeId");
      __publicField(this, "getConnection");
      this.definition = definition;
      this.currentNodeId = currentNodeId;
      this.getConnection = getConnection;
    }
    /**
     * Implement an action handler
     */
    implementAction(actionName, handler) {
      const nodeDef = this.definition.getNode(this.currentNodeId);
      if (!nodeDef) {
        throw new Error(`Node definition not found for ${this.currentNodeId}`);
      }
      const actionDef = nodeDef.actions[actionName];
      if (!actionDef) {
        throw new Error(`Action ${String(actionName)} not found for node ${this.currentNodeId}`);
      }
      this.validateHandlerType(actionName, handler, actionDef);
      this.actionHandlers.set(actionName, handler);
    }
    /**
     * Validate that the handler matches the expected type based on stream property
     */
    validateHandlerType(actionName, handler, actionDef) {
      actionDef.stream === true;
    }
    /**
     * Implement an internal action handler without validation against graph definition
     * This is used for system-level actions like store synchronization
     */
    implementInternalAction(actionName, handler) {
      this.actionHandlers.set(actionName, handler);
    }
    /**
     * Mount action handlers to an endpoint
     */
    mountTo(endpoint) {
      for (const [actionName, handler] of this.actionHandlers) {
        const nodeDef = this.definition.getNode(this.currentNodeId);
        const actionDef = nodeDef == null ? void 0 : nodeDef.actions[actionName];
        const isStreaming = (actionDef == null ? void 0 : actionDef.stream) === true;
        if (!isStreaming) {
          this.registerDirectRequestHandler(endpoint, actionName, handler);
        }
        const actionSchema = {
          shape: {
            action: { value: actionName }
          }
        };
        const asyncHandler = async function* (params, extra, signal) {
          const actualParams = params.data || params;
          const result = handler(actualParams, extra, signal);
          if (result && typeof result === "object" && Symbol.asyncIterator in result && typeof result[Symbol.asyncIterator] === "function") {
            for await (const item of result) {
              yield item === void 0 ? {} : item;
            }
          } else {
            const awaitedResult = await result;
            if (awaitedResult && typeof awaitedResult[Symbol.asyncIterator] === "function") {
              for await (const item of awaitedResult) {
                yield item === void 0 ? {} : item;
              }
            } else {
              yield awaitedResult === void 0 ? {} : awaitedResult;
            }
          }
        };
        endpoint.registerActionHandler(actionSchema, asyncHandler);
      }
      this.registerProxyForwardHandler(endpoint);
      this.registerDirectRequestHandlerGeneric(endpoint);
    }
    /**
     * Register the proxy forward handler for indirect action calls
     */
    registerProxyForwardHandler(endpoint) {
      const proxyForwardSchema = {
        shape: {
          action: { value: "__proxy_forward" }
        }
      };
      const self = this;
      const proxyForwardHandler = async function* (params, extra, signal) {
        const requestData = params.data || params;
        const { targetNodeId, targetAction, targetData, forwardPath } = requestData;
        if (!forwardPath || forwardPath.length === 0) {
          throw new Error("Invalid forward path for proxy action");
        }
        const nextNodeId = forwardPath[0];
        const remainingPath = forwardPath.slice(1);
        if (remainingPath.length === 0 && nextNodeId === self.currentNodeId) {
          const handler = self.actionHandlers.get(targetAction);
          if (!handler) {
            throw new Error(`Action ${targetAction} not found on node ${self.currentNodeId}`);
          }
          const result = handler(targetData, extra, signal);
          if (result && typeof result === "object" && Symbol.asyncIterator in result && typeof result[Symbol.asyncIterator] === "function") {
            for await (const item of result) {
              yield item === void 0 ? {} : item;
            }
          } else {
            const awaitedResult = await result;
            yield awaitedResult === void 0 ? {} : awaitedResult;
          }
          return;
        }
        if (nextNodeId === self.currentNodeId && remainingPath.length > 0) {
          const nextHopNodeId = remainingPath[0];
          const nextHopConnection = self.getConnection(nextHopNodeId);
          if (nextHopConnection) {
            const forwardedAction = await nextHopConnection.action({
              action: "__proxy_forward",
              data: {
                targetNodeId,
                targetAction,
                targetData,
                forwardPath: remainingPath
              }
            }, {}, signal);
            for await (const item of forwardedAction) {
              yield item === void 0 ? {} : item;
            }
            return;
          }
          throw new Error(`Cannot forward to node ${nextHopNodeId} - no connection available`);
        }
        throw new Error(`Invalid proxy forwarding: current node ${self.currentNodeId} not in path ${forwardPath}`);
      };
      endpoint.registerActionHandler(proxyForwardSchema, proxyForwardHandler);
    }
    /**
     * Get all registered action names
     */
    getRegisteredActions() {
      return Array.from(this.actionHandlers.keys());
    }
    /**
     * Check if an action is registered
     */
    hasAction(actionName) {
      return this.actionHandlers.has(actionName);
    }
    /**
     * Get action handler by name (for internal use by GraphInstance)
     */
    getHandler(actionName) {
      return this.actionHandlers.get(actionName);
    }
    /**
     * Clear all action handlers
     */
    clear() {
      this.actionHandlers.clear();
    }
    /**
     * Register direct request handler for a specific action (non-streaming)
     */
    registerDirectRequestHandler(endpoint, actionName, handler) {
    }
    /**
     * Register generic direct request handler for all non-streaming actions
     */
    registerDirectRequestHandlerGeneric(endpoint) {
      const directRequestSchema = objectType({
        method: literalType("sdppp/directRequest"),
        params: objectType({
          action: stringType(),
          data: anyType().optional()
        })
      });
      const self = this;
      endpoint.registerRequestHandler(directRequestSchema, async (request, extra) => {
        const { action, data: data2 } = request.params;
        if (action === "__proxy_forward") {
          return await self.handleDirectProxyForward(data2, extra);
        }
        const actionHandler = self.actionHandlers.get(action);
        if (!actionHandler) {
          throw new Error(`Action ${action} not found on node ${self.currentNodeId}`);
        }
        const result = actionHandler(data2, extra);
        const awaitedResult = await result;
        return awaitedResult === void 0 ? {} : awaitedResult;
      });
    }
    /**
     * Handle direct proxy forward for non-streaming actions
     */
    async handleDirectProxyForward(requestData, extra) {
      const { targetNodeId, targetAction, targetData, forwardPath } = requestData;
      if (!forwardPath || forwardPath.length === 0) {
        throw new Error("Invalid forward path for proxy action");
      }
      const nextNodeId = forwardPath[0];
      const remainingPath = forwardPath.slice(1);
      if (remainingPath.length === 0 && nextNodeId === this.currentNodeId) {
        const handler = this.actionHandlers.get(targetAction);
        if (!handler) {
          throw new Error(`Action ${targetAction} not found on node ${this.currentNodeId}`);
        }
        const result = handler(targetData, extra);
        const awaitedResult = await result;
        return awaitedResult === void 0 ? {} : awaitedResult;
      }
      if (nextNodeId === this.currentNodeId && remainingPath.length > 0) {
        const nextHopNodeId = remainingPath[0];
        const nextHopConnection = this.getConnection(nextHopNodeId);
        if (nextHopConnection) {
          return await nextHopConnection.request(
            "sdppp/directRequest",
            {
              action: "__proxy_forward",
              data: {
                targetNodeId,
                targetAction,
                targetData,
                forwardPath: remainingPath
              }
            },
            anyType()
          );
        }
        throw new Error(`Cannot forward to node ${nextHopNodeId} - no connection available`);
      }
      throw new Error(`Invalid proxy forwarding: current node ${this.currentNodeId} not in path ${forwardPath}`);
    }
  }
  class ConnectionManager {
    constructor(definition, currentNodeId, broadcastManager, actionManager, setupStoreBinding) {
      __publicField(this, "definition");
      __publicField(this, "currentNodeId");
      __publicField(this, "connections", /* @__PURE__ */ new Map());
      __publicField(this, "broadcastManager");
      __publicField(this, "actionManager");
      __publicField(this, "setupStoreBinding");
      this.definition = definition;
      this.currentNodeId = currentNodeId;
      this.broadcastManager = broadcastManager;
      this.actionManager = actionManager;
      this.setupStoreBinding = setupStoreBinding;
    }
    /**
     * Connect to a node using the provided factory
     */
    async connect(nodeId, factory) {
      if (!this.definition.hasEdge(this.currentNodeId, nodeId)) {
        throw new Error(`No edge defined from ${this.currentNodeId} to ${nodeId}`);
      }
      if (this.connections.has(nodeId)) {
        throw new Error(`Already connected to node ${nodeId}`);
      }
      try {
        const connection = await factory();
        this.connections.set(nodeId, connection);
        this.setupStoreBinding(nodeId, connection);
        this.broadcastManager.addConnection(nodeId, connection);
        this.setupConnectionCloseHandler(nodeId, connection);
      } catch (error) {
        throw error;
      }
    }
    /**
     * Get the connection for a specific node
     */
    getConnection(nodeId) {
      return this.connections.get(nodeId);
    }
    /**
     * Get connection to a node (direct or indirect)
     */
    getConnectionToNode(nodeId) {
      const directConnection = this.connections.get(nodeId);
      if (directConnection) {
        return { connection: directConnection, path: [this.currentNodeId, nodeId] };
      }
      const path = this.findPath(this.currentNodeId, nodeId);
      if (path && path.length > 1) {
        const firstHop = path[1];
        const connection = this.connections.get(firstHop);
        if (connection) {
          return { connection, path };
        }
      }
      return void 0;
    }
    /**
     * Find path between two nodes using BFS
     */
    findPath(fromNodeId, toNodeId) {
      if (fromNodeId === toNodeId) {
        return [fromNodeId];
      }
      const visited = /* @__PURE__ */ new Set();
      const queue = [{ nodeId: fromNodeId, path: [fromNodeId] }];
      while (queue.length > 0) {
        const { nodeId, path } = queue.shift();
        if (visited.has(nodeId)) {
          continue;
        }
        visited.add(nodeId);
        const neighbors = this.definition.getNeighbors(nodeId);
        for (const neighbor of neighbors) {
          if (neighbor === toNodeId) {
            return [...path, neighbor];
          }
          if (!visited.has(neighbor)) {
            queue.push({ nodeId: neighbor, path: [...path, neighbor] });
          }
        }
      }
      return void 0;
    }
    /**
     * Get all connection node IDs
     */
    getConnectedNodeIds() {
      return Array.from(this.connections.keys());
    }
    /**
     * Check if connected to a specific node
     */
    isConnectedTo(nodeId) {
      return this.connections.has(nodeId);
    }
    /**
     * Get the number of connections
     */
    getConnectionCount() {
      return this.connections.size;
    }
    /**
     * Disconnect from a specific node
     */
    disconnect(nodeId, closeUnderlyingTransport = false) {
      const connection = this.connections.get(nodeId);
      if (connection) {
        if (closeUnderlyingTransport && "close" in connection && typeof connection.close === "function") {
          connection.close().catch((error) => {
            console.warn(`Error closing connection to ${nodeId}:`, error);
          });
        }
        this.connections.delete(nodeId);
        this.broadcastManager.removeConnection(nodeId);
      }
    }
    /**
     * Setup connection close handler to detect disconnections
     */
    setupConnectionCloseHandler(nodeId, connection) {
      const checkConnection = () => {
        const underlyingClient = connection.client;
        const underlyingServer = connection.server;
        if (underlyingClient && underlyingClient.onclose !== void 0) {
          const originalOnClose = underlyingClient.onclose;
          underlyingClient.onclose = (error) => {
            this.handleConnectionClose(nodeId, error);
            if (originalOnClose && typeof originalOnClose === "function") {
              originalOnClose(error);
            }
          };
        }
        if (underlyingServer && underlyingServer.onclose !== void 0) {
          const originalOnClose = underlyingServer.onclose;
          underlyingServer.onclose = (error) => {
            this.handleConnectionClose(nodeId, error);
            if (originalOnClose && typeof originalOnClose === "function") {
              originalOnClose(error);
            }
          };
        }
        if (connection && typeof connection.onClose === "function") {
          connection.onClose(() => {
            this.handleConnectionClose(nodeId);
          });
        }
        const transport = connection.transport;
        if (transport && transport.onclose !== void 0) {
          const originalOnClose = transport.onclose;
          transport.onclose = (error) => {
            this.handleConnectionClose(nodeId, error);
            if (originalOnClose && typeof originalOnClose === "function") {
              originalOnClose(error);
            }
          };
        }
      };
      try {
        checkConnection();
      } catch (error) {
      }
    }
    /**
     * Handle connection close event
     */
    handleConnectionClose(nodeId, error) {
      if (this.connections.has(nodeId)) {
        this.connections.delete(nodeId);
        this.broadcastManager.removeConnection(nodeId);
      }
    }
    /**
     * Clear all connections
     */
    clear() {
      for (const nodeId of this.connections.keys()) {
        this.disconnect(nodeId);
      }
    }
  }
  class GraphInstanceImpl {
    constructor(definition, nodeId, monitorOptions) {
      __publicField(this, "definition");
      __publicField(this, "currentNodeId");
      __publicField(this, "nodeStores", /* @__PURE__ */ new Map());
      __publicField(this, "nodeProxies", /* @__PURE__ */ new Map());
      __publicField(this, "connectionMonitor");
      __publicField(this, "storeManager", new StoreManager());
      __publicField(this, "broadcastManager");
      __publicField(this, "actionManager");
      __publicField(this, "connectionManager");
      this.definition = definition;
      this.currentNodeId = nodeId;
      this.initializeNodeStores();
      this.broadcastManager = new BroadcastManager();
      this.actionManager = new ActionManager(
        definition,
        nodeId,
        (nodeId2) => this.getConnectionInternal(nodeId2)
      );
      this.connectionManager = new ConnectionManager(
        definition,
        nodeId,
        this.broadcastManager,
        this.actionManager,
        (nodeId2, connection) => this.setupStoreBinding(nodeId2, connection)
      );
      this.connectionMonitor = new ConnectionMonitor(this, monitorOptions);
      this.setupGraphStoreSync();
    }
    /**
     * Initialize Zustand stores for all nodes based on their schemas
     */
    initializeNodeStores() {
      for (const nodeId of this.definition.getNodeIds()) {
        const nodeDef = this.definition.getNode(nodeId);
        if (nodeDef && nodeDef.store) {
          const defaultValues = this.getDefaultValuesFromSchema(nodeDef.store);
          const store = createStore(() => defaultValues);
          this.nodeStores.set(nodeId, store);
        }
      }
    }
    /**
     * Extract default values from Zod schema
     */
    getDefaultValuesFromSchema(schema) {
      if (!schema) {
        return {};
      }
      try {
        return schema.parse({});
      } catch (error) {
        return this.manuallyExtractDefaults(schema);
      }
    }
    /**
     * Manually extract defaults as fallback
     */
    manuallyExtractDefaults(schema) {
      if (!schema || !schema.def) {
        return {};
      }
      if (schema.def.type === "default") {
        const defaultValue = schema.def.defaultValue;
        return typeof defaultValue === "function" ? defaultValue() : defaultValue;
      }
      if (schema.def.type === "object") {
        const result = {};
        let shape;
        try {
          shape = schema.def.shape;
        } catch (error) {
          return {};
        }
        if (shape) {
          for (const [key, fieldSchema] of Object.entries(shape)) {
            const defaultValue = this.getDefaultValueFromField(fieldSchema);
            if (defaultValue !== void 0) {
              result[key] = defaultValue;
            }
          }
        }
        return result;
      }
      return {};
    }
    /**
     * Get default value from individual field schema
     */
    getDefaultValueFromField(schema) {
      if (!schema) {
        return void 0;
      }
      try {
        return schema.parse(void 0);
      } catch {
        return this.manuallyExtractDefaults(schema);
      }
    }
    /**
     * Connect to a node using the provided factory
     */
    async connect(nodeId, factory) {
      return this.connectionManager.connect(nodeId, factory);
    }
    /**
     * Disconnect from a node
     */
    disconnect(nodeId, closeUnderlyingTransport = false) {
      return this.connectionManager.disconnect(nodeId, closeUnderlyingTransport);
    }
    /**
     * Setup store binding for a connection (legacy SDPPP-based)
     */
    setupStoreBinding(nodeId, connection) {
      const nodeStore = this.nodeStores.get(nodeId);
      if (!nodeStore) return;
      const underlyingEndpoint = connection.server || connection.client;
      if (underlyingEndpoint) {
        if (connection.client) {
          this.storeManager.bindConsumer({
            endpoint: underlyingEndpoint,
            store: nodeStore,
            nodeId
          });
        } else {
          this.storeManager.bindProducer({
            endpoint: underlyingEndpoint,
            store: nodeStore,
            nodeId
          });
        }
      }
    }
    /**
     * Setup graph-based store synchronization for all stores
     * This enables indirect synchronization through broadcast mechanism
     */
    setupGraphStoreSync() {
      for (const [nodeId, store] of this.nodeStores) {
        if (nodeId === this.currentNodeId) {
          bindStoreProducerSideGraph({
            graphInstance: this,
            store,
            name: nodeId
          });
        } else {
          bindStoreConsumerSideGraph({
            graphInstance: this,
            store,
            name: nodeId
          });
        }
      }
    }
    /**
     * Get the node proxy
     */
    getNode(nodeId) {
      if (!this.nodeProxies.has(nodeId)) {
        const proxy = new NodeProxyImpl(this, nodeId);
        this.nodeProxies.set(nodeId, proxy);
      }
      return this.nodeProxies.get(nodeId);
    }
    /**
     * Get the connection for a specific node (internal use only)
     */
    getConnectionInternal(nodeId) {
      return this.connectionManager.getConnection(nodeId);
    }
    /**
     * @deprecated Use internal connection management instead
     */
    getConnection(nodeId) {
      return this.getConnectionInternal(nodeId);
    }
    /**
     * Get node store
     */
    getNodeStore(nodeId) {
      return this.nodeStores.get(nodeId);
    }
    /**
     * Get the store for the current node
     */
    get store() {
      const currentStore = this.nodeStores.get(this.currentNodeId);
      if (!currentStore) {
        throw new Error(`Store not found for current node ${this.currentNodeId}`);
      }
      return currentStore;
    }
    /**
     * Get typed actions for the current node
     */
    get actions() {
      const currentNodeDef = this.definition.getNode(this.currentNodeId);
      if (!currentNodeDef) {
        throw new Error(`Node definition not found for current node ${this.currentNodeId}`);
      }
      const actionProxy = new Proxy({}, {
        get: (_target, actionName) => {
          if (typeof actionName !== "string") {
            return void 0;
          }
          const actionDef = currentNodeDef.actions[actionName];
          if (!actionDef) {
            throw new Error(`Action ${actionName} not found for current node ${this.currentNodeId}`);
          }
          return (data2, signal) => {
            const handler = this.actionManager.getHandler(actionName);
            if (!handler) {
              throw new Error(`Action handler ${actionName} not implemented for node ${this.currentNodeId}`);
            }
            const extra = {
              nodeId: this.currentNodeId
              // Can add other context information
            };
            if (actionDef.stream === true) {
              const result = handler(data2, extra, signal);
              if (result && typeof result === "object" && Symbol.asyncIterator in result) {
                return async function* () {
                  for await (const item of result) {
                    yield item === void 0 ? {} : item;
                  }
                }();
              } else {
                return async function* () {
                  const awaitedResult = await result;
                  yield awaitedResult === void 0 ? {} : awaitedResult;
                }();
              }
            } else {
              return (async () => {
                const result = handler(data2, extra, signal);
                if (result && typeof result === "object" && Symbol.asyncIterator in result) {
                  const iterator = result[Symbol.asyncIterator]();
                  const firstResult = await iterator.next();
                  return firstResult.value === void 0 ? {} : firstResult.value;
                } else {
                  const awaitedResult = await result;
                  return awaitedResult === void 0 ? {} : awaitedResult;
                }
              })();
            }
          };
        }
      });
      return actionProxy;
    }
    /**
     * Get the graph definition
     */
    getDefinition() {
      return this.definition;
    }
    /**
     * Get the current node ID
     */
    getCurrentNodeId() {
      return this.currentNodeId;
    }
    /**
     * Ensure that a store consumer binding is set up for a remote node's store
     * This enables broadcast-based synchronization for indirect store access
     */
    ensureStoreConsumerBinding(remoteNodeId) {
      if (remoteNodeId === this.currentNodeId) {
        return;
      }
      if (this.storeManager.hasConsumerBinding(remoteNodeId)) {
        return;
      }
      const remoteStore = this.nodeStores.get(remoteNodeId);
      if (!remoteStore) {
        return;
      }
      try {
        bindStoreConsumerSideGraph({
          graphInstance: this,
          store: remoteStore,
          name: remoteNodeId
        });
        this.storeManager.markConsumerBinding(remoteNodeId);
      } catch (error) {
      }
    }
    /**
     * Get connection to a node (direct or indirect) - internal use
     */
    getConnectionToNodeInternal(nodeId) {
      return this.connectionManager.getConnectionToNode(nodeId);
    }
    /**
     * @deprecated Use NodeProxy instead of direct connection access
     */
    getConnectionToNode(nodeId) {
      return this.getConnectionToNodeInternal(nodeId);
    }
    /**
     * Mount store listeners and action handlers to SDPPPProtocol endpoint
     */
    mountTo(endpoint) {
      const currentStore = this.nodeStores.get(this.currentNodeId);
      if (!currentStore) {
        throw new Error(`Store not found for ${this.currentNodeId}`);
      }
      const underlyingEndpoint = endpoint.server || endpoint.client;
      bindStoreProducerSideSDPPP({
        endpoint: underlyingEndpoint,
        store: currentStore,
        name: this.currentNodeId
      });
      this.actionManager.mountTo(endpoint);
      this.broadcastManager.mountTo(endpoint);
    }
    /**
     * Implement action for current node with type safety
     */
    implementAction(actionName, handler) {
      this.actionManager.implementAction(actionName, handler);
    }
    /**
     * Cleanup resources
     */
    destroy() {
      this.connectionMonitor.destroy();
      this.storeManager.cleanup();
      this.broadcastManager.clear();
      this.actionManager.clear();
      this.connectionManager.clear();
    }
    /**
     * Find path between two nodes using BFS - internal use
     */
    findPathInternal(fromNodeId, toNodeId) {
      return this.connectionManager.findPath(fromNodeId, toNodeId);
    }
    /**
     * Find path between two nodes using BFS
     * @deprecated This method will be made private in future versions
     */
    findPath(fromNodeId, toNodeId) {
      return this.findPathInternal(fromNodeId, toNodeId);
    }
    /**
     * Broadcast a named message to all connected nodes (excluding self)
     */
    async broadcast(broadcastName, payload) {
      return this.broadcastManager.broadcast(broadcastName, payload);
    }
    /**
     * Register a handler for received broadcast messages
     */
    broadcastReceived(broadcastName, handler) {
      this.broadcastManager.registerHandler(broadcastName, handler);
    }
  }
  const LATEST_PROTOCOL_VERSION = "2025-06-18";
  const SUPPORTED_PROTOCOL_VERSIONS = [
    LATEST_PROTOCOL_VERSION,
    "2025-03-26",
    "2024-11-05",
    "2024-10-07"
  ];
  const JSONRPC_VERSION = "2.0";
  const ProgressTokenSchema = unionType([stringType(), numberType().int()]);
  const CursorSchema = stringType();
  const RequestMetaSchema = objectType({
    /**
     * If specified, the caller is requesting out-of-band progress notifications for this request (as represented by notifications/progress). The value of this parameter is an opaque token that will be attached to any subsequent notifications. The receiver is not obligated to provide these notifications.
     */
    progressToken: optionalType(ProgressTokenSchema)
  }).passthrough();
  const BaseRequestParamsSchema = objectType({
    _meta: optionalType(RequestMetaSchema)
  }).passthrough();
  const RequestSchema = objectType({
    method: stringType(),
    params: optionalType(BaseRequestParamsSchema)
  });
  const BaseNotificationParamsSchema = objectType({
    /**
     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)
     * for notes on _meta usage.
     */
    _meta: optionalType(objectType({}).passthrough())
  }).passthrough();
  const NotificationSchema = objectType({
    method: stringType(),
    params: optionalType(BaseNotificationParamsSchema)
  });
  const ResultSchema = objectType({
    /**
     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)
     * for notes on _meta usage.
     */
    _meta: optionalType(objectType({}).passthrough())
  }).passthrough();
  const RequestIdSchema = unionType([stringType(), numberType().int()]);
  const JSONRPCRequestSchema = objectType({
    jsonrpc: literalType(JSONRPC_VERSION),
    id: RequestIdSchema
  }).merge(RequestSchema).strict();
  const isJSONRPCRequest = (value) => JSONRPCRequestSchema.safeParse(value).success;
  const JSONRPCNotificationSchema = objectType({
    jsonrpc: literalType(JSONRPC_VERSION)
  }).merge(NotificationSchema).strict();
  const isJSONRPCNotification = (value) => JSONRPCNotificationSchema.safeParse(value).success;
  const JSONRPCResponseSchema = objectType({
    jsonrpc: literalType(JSONRPC_VERSION),
    id: RequestIdSchema,
    result: ResultSchema
  }).strict();
  const isJSONRPCResponse = (value) => JSONRPCResponseSchema.safeParse(value).success;
  var ErrorCode;
  (function(ErrorCode2) {
    ErrorCode2[ErrorCode2["ConnectionClosed"] = -32e3] = "ConnectionClosed";
    ErrorCode2[ErrorCode2["RequestTimeout"] = -32001] = "RequestTimeout";
    ErrorCode2[ErrorCode2["ParseError"] = -32700] = "ParseError";
    ErrorCode2[ErrorCode2["InvalidRequest"] = -32600] = "InvalidRequest";
    ErrorCode2[ErrorCode2["MethodNotFound"] = -32601] = "MethodNotFound";
    ErrorCode2[ErrorCode2["InvalidParams"] = -32602] = "InvalidParams";
    ErrorCode2[ErrorCode2["InternalError"] = -32603] = "InternalError";
  })(ErrorCode || (ErrorCode = {}));
  const JSONRPCErrorSchema = objectType({
    jsonrpc: literalType(JSONRPC_VERSION),
    id: RequestIdSchema,
    error: objectType({
      /**
       * The error type that occurred.
       */
      code: numberType().int(),
      /**
       * A short description of the error. The message SHOULD be limited to a concise single sentence.
       */
      message: stringType(),
      /**
       * Additional information about the error. The value of this member is defined by the sender (e.g. detailed error information, nested errors etc.).
       */
      data: optionalType(unknownType())
    })
  }).strict();
  const isJSONRPCError = (value) => JSONRPCErrorSchema.safeParse(value).success;
  unionType([
    JSONRPCRequestSchema,
    JSONRPCNotificationSchema,
    JSONRPCResponseSchema,
    JSONRPCErrorSchema
  ]);
  const EmptyResultSchema = ResultSchema.strict();
  const CancelledNotificationSchema = NotificationSchema.extend({
    method: literalType("notifications/cancelled"),
    params: BaseNotificationParamsSchema.extend({
      /**
       * The ID of the request to cancel.
       *
       * This MUST correspond to the ID of a request previously issued in the same direction.
       */
      requestId: RequestIdSchema,
      /**
       * An optional string describing the reason for the cancellation. This MAY be logged or presented to the user.
       */
      reason: stringType().optional()
    })
  });
  const BaseMetadataSchema = objectType({
    /** Intended for programmatic or logical use, but used as a display name in past specs or fallback */
    name: stringType(),
    /**
    * Intended for UI and end-user contexts — optimized to be human-readable and easily understood,
    * even by those unfamiliar with domain-specific terminology.
    *
    * If not provided, the name should be used for display (except for Tool,
    * where `annotations.title` should be given precedence over using `name`,
    * if present).
    */
    title: optionalType(stringType())
  }).passthrough();
  const ImplementationSchema = BaseMetadataSchema.extend({
    version: stringType()
  });
  const ClientCapabilitiesSchema = objectType({
    /**
     * Experimental, non-standard capabilities that the client supports.
     */
    experimental: optionalType(objectType({}).passthrough()),
    /**
     * Present if the client supports sampling from an LLM.
     */
    sampling: optionalType(objectType({}).passthrough()),
    /**
     * Present if the client supports eliciting user input.
     */
    elicitation: optionalType(objectType({}).passthrough()),
    /**
     * Present if the client supports listing roots.
     */
    roots: optionalType(objectType({
      /**
       * Whether the client supports issuing notifications for changes to the roots list.
       */
      listChanged: optionalType(booleanType())
    }).passthrough())
  }).passthrough();
  const InitializeRequestSchema = RequestSchema.extend({
    method: literalType("initialize"),
    params: BaseRequestParamsSchema.extend({
      /**
       * The latest version of the Model Context Protocol that the client supports. The client MAY decide to support older versions as well.
       */
      protocolVersion: stringType(),
      capabilities: ClientCapabilitiesSchema,
      clientInfo: ImplementationSchema
    })
  });
  const ServerCapabilitiesSchema = objectType({
    /**
     * Experimental, non-standard capabilities that the server supports.
     */
    experimental: optionalType(objectType({}).passthrough()),
    /**
     * Present if the server supports sending log messages to the client.
     */
    logging: optionalType(objectType({}).passthrough()),
    /**
     * Present if the server supports sending completions to the client.
     */
    completions: optionalType(objectType({}).passthrough()),
    /**
     * Present if the server offers any prompt templates.
     */
    prompts: optionalType(objectType({
      /**
       * Whether this server supports issuing notifications for changes to the prompt list.
       */
      listChanged: optionalType(booleanType())
    }).passthrough()),
    /**
     * Present if the server offers any resources to read.
     */
    resources: optionalType(objectType({
      /**
       * Whether this server supports clients subscribing to resource updates.
       */
      subscribe: optionalType(booleanType()),
      /**
       * Whether this server supports issuing notifications for changes to the resource list.
       */
      listChanged: optionalType(booleanType())
    }).passthrough()),
    /**
     * Present if the server offers any tools to call.
     */
    tools: optionalType(objectType({
      /**
       * Whether this server supports issuing notifications for changes to the tool list.
       */
      listChanged: optionalType(booleanType())
    }).passthrough())
  }).passthrough();
  const InitializeResultSchema = ResultSchema.extend({
    /**
     * The version of the Model Context Protocol that the server wants to use. This may not match the version that the client requested. If the client cannot support this version, it MUST disconnect.
     */
    protocolVersion: stringType(),
    capabilities: ServerCapabilitiesSchema,
    serverInfo: ImplementationSchema,
    /**
     * Instructions describing how to use the server and its features.
     *
     * This can be used by clients to improve the LLM's understanding of available tools, resources, etc. It can be thought of like a "hint" to the model. For example, this information MAY be added to the system prompt.
     */
    instructions: optionalType(stringType())
  });
  const InitializedNotificationSchema = NotificationSchema.extend({
    method: literalType("notifications/initialized")
  });
  const PingRequestSchema = RequestSchema.extend({
    method: literalType("ping")
  });
  const ProgressSchema = objectType({
    /**
     * The progress thus far. This should increase every time progress is made, even if the total is unknown.
     */
    progress: numberType(),
    /**
     * Total number of items to process (or total progress required), if known.
     */
    total: optionalType(numberType()),
    /**
     * An optional message describing the current progress.
     */
    message: optionalType(stringType())
  }).passthrough();
  const ProgressNotificationSchema = NotificationSchema.extend({
    method: literalType("notifications/progress"),
    params: BaseNotificationParamsSchema.merge(ProgressSchema).extend({
      /**
       * The progress token which was given in the initial request, used to associate this notification with the request that is proceeding.
       */
      progressToken: ProgressTokenSchema
    })
  });
  const PaginatedRequestSchema = RequestSchema.extend({
    params: BaseRequestParamsSchema.extend({
      /**
       * An opaque token representing the current pagination position.
       * If provided, the server should return results starting after this cursor.
       */
      cursor: optionalType(CursorSchema)
    }).optional()
  });
  const PaginatedResultSchema = ResultSchema.extend({
    /**
     * An opaque token representing the pagination position after the last returned result.
     * If present, there may be more results available.
     */
    nextCursor: optionalType(CursorSchema)
  });
  const ResourceContentsSchema = objectType({
    /**
     * The URI of this resource.
     */
    uri: stringType(),
    /**
     * The MIME type of this resource, if known.
     */
    mimeType: optionalType(stringType()),
    /**
     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)
     * for notes on _meta usage.
     */
    _meta: optionalType(objectType({}).passthrough())
  }).passthrough();
  const TextResourceContentsSchema = ResourceContentsSchema.extend({
    /**
     * The text of the item. This must only be set if the item can actually be represented as text (not binary data).
     */
    text: stringType()
  });
  const BlobResourceContentsSchema = ResourceContentsSchema.extend({
    /**
     * A base64-encoded string representing the binary data of the item.
     */
    blob: stringType().base64()
  });
  const ResourceSchema = BaseMetadataSchema.extend({
    /**
     * The URI of this resource.
     */
    uri: stringType(),
    /**
     * A description of what this resource represents.
     *
     * This can be used by clients to improve the LLM's understanding of available resources. It can be thought of like a "hint" to the model.
     */
    description: optionalType(stringType()),
    /**
     * The MIME type of this resource, if known.
     */
    mimeType: optionalType(stringType()),
    /**
     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)
     * for notes on _meta usage.
     */
    _meta: optionalType(objectType({}).passthrough())
  });
  const ResourceTemplateSchema = BaseMetadataSchema.extend({
    /**
     * A URI template (according to RFC 6570) that can be used to construct resource URIs.
     */
    uriTemplate: stringType(),
    /**
     * A description of what this template is for.
     *
     * This can be used by clients to improve the LLM's understanding of available resources. It can be thought of like a "hint" to the model.
     */
    description: optionalType(stringType()),
    /**
     * The MIME type for all resources that match this template. This should only be included if all resources matching this template have the same type.
     */
    mimeType: optionalType(stringType()),
    /**
     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)
     * for notes on _meta usage.
     */
    _meta: optionalType(objectType({}).passthrough())
  });
  const ListResourcesRequestSchema = PaginatedRequestSchema.extend({
    method: literalType("resources/list")
  });
  const ListResourcesResultSchema = PaginatedResultSchema.extend({
    resources: arrayType(ResourceSchema)
  });
  const ListResourceTemplatesRequestSchema = PaginatedRequestSchema.extend({
    method: literalType("resources/templates/list")
  });
  const ListResourceTemplatesResultSchema = PaginatedResultSchema.extend({
    resourceTemplates: arrayType(ResourceTemplateSchema)
  });
  const ReadResourceRequestSchema = RequestSchema.extend({
    method: literalType("resources/read"),
    params: BaseRequestParamsSchema.extend({
      /**
       * The URI of the resource to read. The URI can use any protocol; it is up to the server how to interpret it.
       */
      uri: stringType()
    })
  });
  const ReadResourceResultSchema = ResultSchema.extend({
    contents: arrayType(unionType([TextResourceContentsSchema, BlobResourceContentsSchema]))
  });
  const ResourceListChangedNotificationSchema = NotificationSchema.extend({
    method: literalType("notifications/resources/list_changed")
  });
  const SubscribeRequestSchema = RequestSchema.extend({
    method: literalType("resources/subscribe"),
    params: BaseRequestParamsSchema.extend({
      /**
       * The URI of the resource to subscribe to. The URI can use any protocol; it is up to the server how to interpret it.
       */
      uri: stringType()
    })
  });
  const UnsubscribeRequestSchema = RequestSchema.extend({
    method: literalType("resources/unsubscribe"),
    params: BaseRequestParamsSchema.extend({
      /**
       * The URI of the resource to unsubscribe from.
       */
      uri: stringType()
    })
  });
  const ResourceUpdatedNotificationSchema = NotificationSchema.extend({
    method: literalType("notifications/resources/updated"),
    params: BaseNotificationParamsSchema.extend({
      /**
       * The URI of the resource that has been updated. This might be a sub-resource of the one that the client actually subscribed to.
       */
      uri: stringType()
    })
  });
  const PromptArgumentSchema = objectType({
    /**
     * The name of the argument.
     */
    name: stringType(),
    /**
     * A human-readable description of the argument.
     */
    description: optionalType(stringType()),
    /**
     * Whether this argument must be provided.
     */
    required: optionalType(booleanType())
  }).passthrough();
  const PromptSchema = BaseMetadataSchema.extend({
    /**
     * An optional description of what this prompt provides
     */
    description: optionalType(stringType()),
    /**
     * A list of arguments to use for templating the prompt.
     */
    arguments: optionalType(arrayType(PromptArgumentSchema)),
    /**
     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)
     * for notes on _meta usage.
     */
    _meta: optionalType(objectType({}).passthrough())
  });
  const ListPromptsRequestSchema = PaginatedRequestSchema.extend({
    method: literalType("prompts/list")
  });
  const ListPromptsResultSchema = PaginatedResultSchema.extend({
    prompts: arrayType(PromptSchema)
  });
  const GetPromptRequestSchema = RequestSchema.extend({
    method: literalType("prompts/get"),
    params: BaseRequestParamsSchema.extend({
      /**
       * The name of the prompt or prompt template.
       */
      name: stringType(),
      /**
       * Arguments to use for templating the prompt.
       */
      arguments: optionalType(recordType(stringType()))
    })
  });
  const TextContentSchema = objectType({
    type: literalType("text"),
    /**
     * The text content of the message.
     */
    text: stringType(),
    /**
     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)
     * for notes on _meta usage.
     */
    _meta: optionalType(objectType({}).passthrough())
  }).passthrough();
  const ImageContentSchema = objectType({
    type: literalType("image"),
    /**
     * The base64-encoded image data.
     */
    data: stringType().base64(),
    /**
     * The MIME type of the image. Different providers may support different image types.
     */
    mimeType: stringType(),
    /**
     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)
     * for notes on _meta usage.
     */
    _meta: optionalType(objectType({}).passthrough())
  }).passthrough();
  const AudioContentSchema = objectType({
    type: literalType("audio"),
    /**
     * The base64-encoded audio data.
     */
    data: stringType().base64(),
    /**
     * The MIME type of the audio. Different providers may support different audio types.
     */
    mimeType: stringType(),
    /**
     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)
     * for notes on _meta usage.
     */
    _meta: optionalType(objectType({}).passthrough())
  }).passthrough();
  const EmbeddedResourceSchema = objectType({
    type: literalType("resource"),
    resource: unionType([TextResourceContentsSchema, BlobResourceContentsSchema]),
    /**
     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)
     * for notes on _meta usage.
     */
    _meta: optionalType(objectType({}).passthrough())
  }).passthrough();
  const ResourceLinkSchema = ResourceSchema.extend({
    type: literalType("resource_link")
  });
  const ContentBlockSchema = unionType([
    TextContentSchema,
    ImageContentSchema,
    AudioContentSchema,
    ResourceLinkSchema,
    EmbeddedResourceSchema
  ]);
  const PromptMessageSchema = objectType({
    role: enumType(["user", "assistant"]),
    content: ContentBlockSchema
  }).passthrough();
  const GetPromptResultSchema = ResultSchema.extend({
    /**
     * An optional description for the prompt.
     */
    description: optionalType(stringType()),
    messages: arrayType(PromptMessageSchema)
  });
  const PromptListChangedNotificationSchema = NotificationSchema.extend({
    method: literalType("notifications/prompts/list_changed")
  });
  const ToolAnnotationsSchema = objectType({
    /**
     * A human-readable title for the tool.
     */
    title: optionalType(stringType()),
    /**
     * If true, the tool does not modify its environment.
     *
     * Default: false
     */
    readOnlyHint: optionalType(booleanType()),
    /**
     * If true, the tool may perform destructive updates to its environment.
     * If false, the tool performs only additive updates.
     *
     * (This property is meaningful only when `readOnlyHint == false`)
     *
     * Default: true
     */
    destructiveHint: optionalType(booleanType()),
    /**
     * If true, calling the tool repeatedly with the same arguments
     * will have no additional effect on the its environment.
     *
     * (This property is meaningful only when `readOnlyHint == false`)
     *
     * Default: false
     */
    idempotentHint: optionalType(booleanType()),
    /**
     * If true, this tool may interact with an "open world" of external
     * entities. If false, the tool's domain of interaction is closed.
     * For example, the world of a web search tool is open, whereas that
     * of a memory tool is not.
     *
     * Default: true
     */
    openWorldHint: optionalType(booleanType())
  }).passthrough();
  const ToolSchema = BaseMetadataSchema.extend({
    /**
     * A human-readable description of the tool.
     */
    description: optionalType(stringType()),
    /**
     * A JSON Schema object defining the expected parameters for the tool.
     */
    inputSchema: objectType({
      type: literalType("object"),
      properties: optionalType(objectType({}).passthrough()),
      required: optionalType(arrayType(stringType()))
    }).passthrough(),
    /**
     * An optional JSON Schema object defining the structure of the tool's output returned in
     * the structuredContent field of a CallToolResult.
     */
    outputSchema: optionalType(objectType({
      type: literalType("object"),
      properties: optionalType(objectType({}).passthrough()),
      required: optionalType(arrayType(stringType()))
    }).passthrough()),
    /**
     * Optional additional tool information.
     */
    annotations: optionalType(ToolAnnotationsSchema),
    /**
     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)
     * for notes on _meta usage.
     */
    _meta: optionalType(objectType({}).passthrough())
  });
  const ListToolsRequestSchema = PaginatedRequestSchema.extend({
    method: literalType("tools/list")
  });
  const ListToolsResultSchema = PaginatedResultSchema.extend({
    tools: arrayType(ToolSchema)
  });
  const CallToolResultSchema = ResultSchema.extend({
    /**
     * A list of content objects that represent the result of the tool call.
     *
     * If the Tool does not define an outputSchema, this field MUST be present in the result.
     * For backwards compatibility, this field is always present, but it may be empty.
     */
    content: arrayType(ContentBlockSchema).default([]),
    /**
     * An object containing structured tool output.
     *
     * If the Tool defines an outputSchema, this field MUST be present in the result, and contain a JSON object that matches the schema.
     */
    structuredContent: objectType({}).passthrough().optional(),
    /**
     * Whether the tool call ended in an error.
     *
     * If not set, this is assumed to be false (the call was successful).
     *
     * Any errors that originate from the tool SHOULD be reported inside the result
     * object, with `isError` set to true, _not_ as an MCP protocol-level error
     * response. Otherwise, the LLM would not be able to see that an error occurred
     * and self-correct.
     *
     * However, any errors in _finding_ the tool, an error indicating that the
     * server does not support tool calls, or any other exceptional conditions,
     * should be reported as an MCP error response.
     */
    isError: optionalType(booleanType())
  });
  CallToolResultSchema.or(ResultSchema.extend({
    toolResult: unknownType()
  }));
  const CallToolRequestSchema = RequestSchema.extend({
    method: literalType("tools/call"),
    params: BaseRequestParamsSchema.extend({
      name: stringType(),
      arguments: optionalType(recordType(unknownType()))
    })
  });
  const ToolListChangedNotificationSchema = NotificationSchema.extend({
    method: literalType("notifications/tools/list_changed")
  });
  const LoggingLevelSchema = enumType([
    "debug",
    "info",
    "notice",
    "warning",
    "error",
    "critical",
    "alert",
    "emergency"
  ]);
  const SetLevelRequestSchema = RequestSchema.extend({
    method: literalType("logging/setLevel"),
    params: BaseRequestParamsSchema.extend({
      /**
       * The level of logging that the client wants to receive from the server. The server should send all logs at this level and higher (i.e., more severe) to the client as notifications/logging/message.
       */
      level: LoggingLevelSchema
    })
  });
  const LoggingMessageNotificationSchema = NotificationSchema.extend({
    method: literalType("notifications/message"),
    params: BaseNotificationParamsSchema.extend({
      /**
       * The severity of this log message.
       */
      level: LoggingLevelSchema,
      /**
       * An optional name of the logger issuing this message.
       */
      logger: optionalType(stringType()),
      /**
       * The data to be logged, such as a string message or an object. Any JSON serializable type is allowed here.
       */
      data: unknownType()
    })
  });
  const ModelHintSchema = objectType({
    /**
     * A hint for a model name.
     */
    name: stringType().optional()
  }).passthrough();
  const ModelPreferencesSchema = objectType({
    /**
     * Optional hints to use for model selection.
     */
    hints: optionalType(arrayType(ModelHintSchema)),
    /**
     * How much to prioritize cost when selecting a model.
     */
    costPriority: optionalType(numberType().min(0).max(1)),
    /**
     * How much to prioritize sampling speed (latency) when selecting a model.
     */
    speedPriority: optionalType(numberType().min(0).max(1)),
    /**
     * How much to prioritize intelligence and capabilities when selecting a model.
     */
    intelligencePriority: optionalType(numberType().min(0).max(1))
  }).passthrough();
  const SamplingMessageSchema = objectType({
    role: enumType(["user", "assistant"]),
    content: unionType([TextContentSchema, ImageContentSchema, AudioContentSchema])
  }).passthrough();
  const CreateMessageRequestSchema = RequestSchema.extend({
    method: literalType("sampling/createMessage"),
    params: BaseRequestParamsSchema.extend({
      messages: arrayType(SamplingMessageSchema),
      /**
       * An optional system prompt the server wants to use for sampling. The client MAY modify or omit this prompt.
       */
      systemPrompt: optionalType(stringType()),
      /**
       * A request to include context from one or more MCP servers (including the caller), to be attached to the prompt. The client MAY ignore this request.
       */
      includeContext: optionalType(enumType(["none", "thisServer", "allServers"])),
      temperature: optionalType(numberType()),
      /**
       * The maximum number of tokens to sample, as requested by the server. The client MAY choose to sample fewer tokens than requested.
       */
      maxTokens: numberType().int(),
      stopSequences: optionalType(arrayType(stringType())),
      /**
       * Optional metadata to pass through to the LLM provider. The format of this metadata is provider-specific.
       */
      metadata: optionalType(objectType({}).passthrough()),
      /**
       * The server's preferences for which model to select.
       */
      modelPreferences: optionalType(ModelPreferencesSchema)
    })
  });
  const CreateMessageResultSchema = ResultSchema.extend({
    /**
     * The name of the model that generated the message.
     */
    model: stringType(),
    /**
     * The reason why sampling stopped.
     */
    stopReason: optionalType(enumType(["endTurn", "stopSequence", "maxTokens"]).or(stringType())),
    role: enumType(["user", "assistant"]),
    content: discriminatedUnionType("type", [
      TextContentSchema,
      ImageContentSchema,
      AudioContentSchema
    ])
  });
  const BooleanSchemaSchema = objectType({
    type: literalType("boolean"),
    title: optionalType(stringType()),
    description: optionalType(stringType()),
    default: optionalType(booleanType())
  }).passthrough();
  const StringSchemaSchema = objectType({
    type: literalType("string"),
    title: optionalType(stringType()),
    description: optionalType(stringType()),
    minLength: optionalType(numberType()),
    maxLength: optionalType(numberType()),
    format: optionalType(enumType(["email", "uri", "date", "date-time"]))
  }).passthrough();
  const NumberSchemaSchema = objectType({
    type: enumType(["number", "integer"]),
    title: optionalType(stringType()),
    description: optionalType(stringType()),
    minimum: optionalType(numberType()),
    maximum: optionalType(numberType())
  }).passthrough();
  const EnumSchemaSchema = objectType({
    type: literalType("string"),
    title: optionalType(stringType()),
    description: optionalType(stringType()),
    enum: arrayType(stringType()),
    enumNames: optionalType(arrayType(stringType()))
  }).passthrough();
  const PrimitiveSchemaDefinitionSchema = unionType([
    BooleanSchemaSchema,
    StringSchemaSchema,
    NumberSchemaSchema,
    EnumSchemaSchema
  ]);
  const ElicitRequestSchema = RequestSchema.extend({
    method: literalType("elicitation/create"),
    params: BaseRequestParamsSchema.extend({
      /**
       * The message to present to the user.
       */
      message: stringType(),
      /**
       * The schema for the requested user input.
       */
      requestedSchema: objectType({
        type: literalType("object"),
        properties: recordType(stringType(), PrimitiveSchemaDefinitionSchema),
        required: optionalType(arrayType(stringType()))
      }).passthrough()
    })
  });
  const ElicitResultSchema = ResultSchema.extend({
    /**
     * The user's response action.
     */
    action: enumType(["accept", "decline", "cancel"]),
    /**
     * The collected user input content (only present if action is "accept").
     */
    content: optionalType(recordType(stringType(), unknownType()))
  });
  const ResourceTemplateReferenceSchema = objectType({
    type: literalType("ref/resource"),
    /**
     * The URI or URI template of the resource.
     */
    uri: stringType()
  }).passthrough();
  const PromptReferenceSchema = objectType({
    type: literalType("ref/prompt"),
    /**
     * The name of the prompt or prompt template
     */
    name: stringType()
  }).passthrough();
  const CompleteRequestSchema = RequestSchema.extend({
    method: literalType("completion/complete"),
    params: BaseRequestParamsSchema.extend({
      ref: unionType([PromptReferenceSchema, ResourceTemplateReferenceSchema]),
      /**
       * The argument's information
       */
      argument: objectType({
        /**
         * The name of the argument
         */
        name: stringType(),
        /**
         * The value of the argument to use for completion matching.
         */
        value: stringType()
      }).passthrough(),
      context: optionalType(objectType({
        /**
         * Previously-resolved variables in a URI template or prompt.
         */
        arguments: optionalType(recordType(stringType(), stringType()))
      }))
    })
  });
  const CompleteResultSchema = ResultSchema.extend({
    completion: objectType({
      /**
       * An array of completion values. Must not exceed 100 items.
       */
      values: arrayType(stringType()).max(100),
      /**
       * The total number of completion options available. This can exceed the number of values actually sent in the response.
       */
      total: optionalType(numberType().int()),
      /**
       * Indicates whether there are additional completion options beyond those provided in the current response, even if the exact total is unknown.
       */
      hasMore: optionalType(booleanType())
    }).passthrough()
  });
  const RootSchema = objectType({
    /**
     * The URI identifying the root. This *must* start with file:// for now.
     */
    uri: stringType().startsWith("file://"),
    /**
     * An optional name for the root.
     */
    name: optionalType(stringType()),
    /**
     * See [MCP specification](https://github.com/modelcontextprotocol/modelcontextprotocol/blob/47339c03c143bb4ec01a26e721a1b8fe66634ebe/docs/specification/draft/basic/index.mdx#general-fields)
     * for notes on _meta usage.
     */
    _meta: optionalType(objectType({}).passthrough())
  }).passthrough();
  const ListRootsRequestSchema = RequestSchema.extend({
    method: literalType("roots/list")
  });
  const ListRootsResultSchema = ResultSchema.extend({
    roots: arrayType(RootSchema)
  });
  const RootsListChangedNotificationSchema = NotificationSchema.extend({
    method: literalType("notifications/roots/list_changed")
  });
  unionType([
    PingRequestSchema,
    InitializeRequestSchema,
    CompleteRequestSchema,
    SetLevelRequestSchema,
    GetPromptRequestSchema,
    ListPromptsRequestSchema,
    ListResourcesRequestSchema,
    ListResourceTemplatesRequestSchema,
    ReadResourceRequestSchema,
    SubscribeRequestSchema,
    UnsubscribeRequestSchema,
    CallToolRequestSchema,
    ListToolsRequestSchema
  ]);
  unionType([
    CancelledNotificationSchema,
    ProgressNotificationSchema,
    InitializedNotificationSchema,
    RootsListChangedNotificationSchema
  ]);
  unionType([
    EmptyResultSchema,
    CreateMessageResultSchema,
    ElicitResultSchema,
    ListRootsResultSchema
  ]);
  unionType([
    PingRequestSchema,
    CreateMessageRequestSchema,
    ElicitRequestSchema,
    ListRootsRequestSchema
  ]);
  unionType([
    CancelledNotificationSchema,
    ProgressNotificationSchema,
    LoggingMessageNotificationSchema,
    ResourceUpdatedNotificationSchema,
    ResourceListChangedNotificationSchema,
    ToolListChangedNotificationSchema,
    PromptListChangedNotificationSchema
  ]);
  unionType([
    EmptyResultSchema,
    InitializeResultSchema,
    CompleteResultSchema,
    GetPromptResultSchema,
    ListPromptsResultSchema,
    ListResourcesResultSchema,
    ListResourceTemplatesResultSchema,
    ReadResourceResultSchema,
    CallToolResultSchema,
    ListToolsResultSchema
  ]);
  class McpError extends Error {
    constructor(code, message, data2) {
      super(`MCP error ${code}: ${message}`);
      this.code = code;
      this.data = data2;
      this.name = "McpError";
    }
  }
  const DEFAULT_REQUEST_TIMEOUT_MSEC = 6e4;
  class Protocol {
    constructor(_options) {
      this._options = _options;
      this._requestMessageId = 0;
      this._requestHandlers = /* @__PURE__ */ new Map();
      this._requestHandlerAbortControllers = /* @__PURE__ */ new Map();
      this._notificationHandlers = /* @__PURE__ */ new Map();
      this._responseHandlers = /* @__PURE__ */ new Map();
      this._progressHandlers = /* @__PURE__ */ new Map();
      this._timeoutInfo = /* @__PURE__ */ new Map();
      this._pendingDebouncedNotifications = /* @__PURE__ */ new Set();
      this.setNotificationHandler(CancelledNotificationSchema, (notification) => {
        const controller = this._requestHandlerAbortControllers.get(notification.params.requestId);
        controller === null || controller === void 0 ? void 0 : controller.abort(notification.params.reason);
      });
      this.setNotificationHandler(ProgressNotificationSchema, (notification) => {
        this._onprogress(notification);
      });
      this.setRequestHandler(
        PingRequestSchema,
        // Automatic pong by default.
        (_request) => ({})
      );
    }
    _setupTimeout(messageId, timeout, maxTotalTimeout, onTimeout, resetTimeoutOnProgress = false) {
      this._timeoutInfo.set(messageId, {
        timeoutId: setTimeout(onTimeout, timeout),
        startTime: Date.now(),
        timeout,
        maxTotalTimeout,
        resetTimeoutOnProgress,
        onTimeout
      });
    }
    _resetTimeout(messageId) {
      const info = this._timeoutInfo.get(messageId);
      if (!info)
        return false;
      const totalElapsed = Date.now() - info.startTime;
      if (info.maxTotalTimeout && totalElapsed >= info.maxTotalTimeout) {
        this._timeoutInfo.delete(messageId);
        throw new McpError(ErrorCode.RequestTimeout, "Maximum total timeout exceeded", { maxTotalTimeout: info.maxTotalTimeout, totalElapsed });
      }
      clearTimeout(info.timeoutId);
      info.timeoutId = setTimeout(info.onTimeout, info.timeout);
      return true;
    }
    _cleanupTimeout(messageId) {
      const info = this._timeoutInfo.get(messageId);
      if (info) {
        clearTimeout(info.timeoutId);
        this._timeoutInfo.delete(messageId);
      }
    }
    /**
     * Attaches to the given transport, starts it, and starts listening for messages.
     *
     * The Protocol object assumes ownership of the Transport, replacing any callbacks that have already been set, and expects that it is the only user of the Transport instance going forward.
     */
    async connect(transport) {
      var _a, _b, _c;
      this._transport = transport;
      const _onclose = (_a = this.transport) === null || _a === void 0 ? void 0 : _a.onclose;
      this._transport.onclose = () => {
        _onclose === null || _onclose === void 0 ? void 0 : _onclose();
        this._onclose();
      };
      const _onerror = (_b = this.transport) === null || _b === void 0 ? void 0 : _b.onerror;
      this._transport.onerror = (error) => {
        _onerror === null || _onerror === void 0 ? void 0 : _onerror(error);
        this._onerror(error);
      };
      const _onmessage = (_c = this._transport) === null || _c === void 0 ? void 0 : _c.onmessage;
      this._transport.onmessage = (message, extra) => {
        _onmessage === null || _onmessage === void 0 ? void 0 : _onmessage(message, extra);
        if (isJSONRPCResponse(message) || isJSONRPCError(message)) {
          this._onresponse(message);
        } else if (isJSONRPCRequest(message)) {
          this._onrequest(message, extra);
        } else if (isJSONRPCNotification(message)) {
          this._onnotification(message);
        } else {
          this._onerror(new Error(`Unknown message type: ${JSON.stringify(message)}`));
        }
      };
      await this._transport.start();
    }
    _onclose() {
      var _a;
      const responseHandlers = this._responseHandlers;
      this._responseHandlers = /* @__PURE__ */ new Map();
      this._progressHandlers.clear();
      this._pendingDebouncedNotifications.clear();
      this._transport = void 0;
      (_a = this.onclose) === null || _a === void 0 ? void 0 : _a.call(this);
      const error = new McpError(ErrorCode.ConnectionClosed, "Connection closed");
      for (const handler of responseHandlers.values()) {
        handler(error);
      }
    }
    _onerror(error) {
      var _a;
      (_a = this.onerror) === null || _a === void 0 ? void 0 : _a.call(this, error);
    }
    _onnotification(notification) {
      var _a;
      const handler = (_a = this._notificationHandlers.get(notification.method)) !== null && _a !== void 0 ? _a : this.fallbackNotificationHandler;
      if (handler === void 0) {
        return;
      }
      Promise.resolve().then(() => handler(notification)).catch((error) => this._onerror(new Error(`Uncaught error in notification handler: ${error}`)));
    }
    _onrequest(request, extra) {
      var _a, _b, _c, _d;
      const handler = (_a = this._requestHandlers.get(request.method)) !== null && _a !== void 0 ? _a : this.fallbackRequestHandler;
      if (handler === void 0) {
        (_b = this._transport) === null || _b === void 0 ? void 0 : _b.send({
          jsonrpc: "2.0",
          id: request.id,
          error: {
            code: ErrorCode.MethodNotFound,
            message: "Method not found"
          }
        }).catch((error) => this._onerror(new Error(`Failed to send an error response: ${error}`)));
        return;
      }
      const abortController = new AbortController();
      this._requestHandlerAbortControllers.set(request.id, abortController);
      const fullExtra = {
        signal: abortController.signal,
        sessionId: (_c = this._transport) === null || _c === void 0 ? void 0 : _c.sessionId,
        _meta: (_d = request.params) === null || _d === void 0 ? void 0 : _d._meta,
        sendNotification: (notification) => this.notification(notification, { relatedRequestId: request.id }),
        sendRequest: (r, resultSchema, options) => this.request(r, resultSchema, { ...options, relatedRequestId: request.id }),
        authInfo: extra === null || extra === void 0 ? void 0 : extra.authInfo,
        requestId: request.id,
        requestInfo: extra === null || extra === void 0 ? void 0 : extra.requestInfo
      };
      Promise.resolve().then(() => handler(request, fullExtra)).then((result) => {
        var _a2;
        if (abortController.signal.aborted) {
          return;
        }
        return (_a2 = this._transport) === null || _a2 === void 0 ? void 0 : _a2.send({
          result,
          jsonrpc: "2.0",
          id: request.id
        });
      }, (error) => {
        var _a2, _b2;
        if (abortController.signal.aborted) {
          return;
        }
        return (_a2 = this._transport) === null || _a2 === void 0 ? void 0 : _a2.send({
          jsonrpc: "2.0",
          id: request.id,
          error: {
            code: Number.isSafeInteger(error["code"]) ? error["code"] : ErrorCode.InternalError,
            message: (_b2 = error.message) !== null && _b2 !== void 0 ? _b2 : "Internal error"
          }
        });
      }).catch((error) => this._onerror(new Error(`Failed to send response: ${error}`))).finally(() => {
        this._requestHandlerAbortControllers.delete(request.id);
      });
    }
    _onprogress(notification) {
      const { progressToken, ...params } = notification.params;
      const messageId = Number(progressToken);
      const handler = this._progressHandlers.get(messageId);
      if (!handler) {
        this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(notification)}`));
        return;
      }
      const responseHandler = this._responseHandlers.get(messageId);
      const timeoutInfo = this._timeoutInfo.get(messageId);
      if (timeoutInfo && responseHandler && timeoutInfo.resetTimeoutOnProgress) {
        try {
          this._resetTimeout(messageId);
        } catch (error) {
          responseHandler(error);
          return;
        }
      }
      handler(params);
    }
    _onresponse(response) {
      const messageId = Number(response.id);
      const handler = this._responseHandlers.get(messageId);
      if (handler === void 0) {
        this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(response)}`));
        return;
      }
      this._responseHandlers.delete(messageId);
      this._progressHandlers.delete(messageId);
      this._cleanupTimeout(messageId);
      if (isJSONRPCResponse(response)) {
        handler(response);
      } else {
        const error = new McpError(response.error.code, response.error.message, response.error.data);
        handler(error);
      }
    }
    get transport() {
      return this._transport;
    }
    /**
     * Closes the connection.
     */
    async close() {
      var _a;
      await ((_a = this._transport) === null || _a === void 0 ? void 0 : _a.close());
    }
    /**
     * Sends a request and wait for a response.
     *
     * Do not use this method to emit notifications! Use notification() instead.
     */
    request(request, resultSchema, options) {
      const { relatedRequestId, resumptionToken, onresumptiontoken } = options !== null && options !== void 0 ? options : {};
      return new Promise((resolve, reject) => {
        var _a, _b, _c, _d, _e, _f;
        if (!this._transport) {
          reject(new Error("Not connected"));
          return;
        }
        if (((_a = this._options) === null || _a === void 0 ? void 0 : _a.enforceStrictCapabilities) === true) {
          this.assertCapabilityForMethod(request.method);
        }
        (_b = options === null || options === void 0 ? void 0 : options.signal) === null || _b === void 0 ? void 0 : _b.throwIfAborted();
        const messageId = this._requestMessageId++;
        const jsonrpcRequest = {
          ...request,
          jsonrpc: "2.0",
          id: messageId
        };
        if (options === null || options === void 0 ? void 0 : options.onprogress) {
          this._progressHandlers.set(messageId, options.onprogress);
          jsonrpcRequest.params = {
            ...request.params,
            _meta: {
              ...((_c = request.params) === null || _c === void 0 ? void 0 : _c._meta) || {},
              progressToken: messageId
            }
          };
        }
        const cancel = (reason) => {
          var _a2;
          this._responseHandlers.delete(messageId);
          this._progressHandlers.delete(messageId);
          this._cleanupTimeout(messageId);
          (_a2 = this._transport) === null || _a2 === void 0 ? void 0 : _a2.send({
            jsonrpc: "2.0",
            method: "notifications/cancelled",
            params: {
              requestId: messageId,
              reason: String(reason)
            }
          }, { relatedRequestId, resumptionToken, onresumptiontoken }).catch((error) => this._onerror(new Error(`Failed to send cancellation: ${error}`)));
          reject(reason);
        };
        this._responseHandlers.set(messageId, (response) => {
          var _a2;
          if ((_a2 = options === null || options === void 0 ? void 0 : options.signal) === null || _a2 === void 0 ? void 0 : _a2.aborted) {
            return;
          }
          if (response instanceof Error) {
            return reject(response);
          }
          try {
            const result = resultSchema.parse(response.result);
            resolve(result);
          } catch (error) {
            reject(error);
          }
        });
        (_d = options === null || options === void 0 ? void 0 : options.signal) === null || _d === void 0 ? void 0 : _d.addEventListener("abort", () => {
          var _a2;
          cancel((_a2 = options === null || options === void 0 ? void 0 : options.signal) === null || _a2 === void 0 ? void 0 : _a2.reason);
        });
        const timeout = (_e = options === null || options === void 0 ? void 0 : options.timeout) !== null && _e !== void 0 ? _e : DEFAULT_REQUEST_TIMEOUT_MSEC;
        const timeoutHandler = () => cancel(new McpError(ErrorCode.RequestTimeout, "Request timed out", { timeout }));
        this._setupTimeout(messageId, timeout, options === null || options === void 0 ? void 0 : options.maxTotalTimeout, timeoutHandler, (_f = options === null || options === void 0 ? void 0 : options.resetTimeoutOnProgress) !== null && _f !== void 0 ? _f : false);
        this._transport.send(jsonrpcRequest, { relatedRequestId, resumptionToken, onresumptiontoken }).catch((error) => {
          this._cleanupTimeout(messageId);
          reject(error);
        });
      });
    }
    /**
     * Emits a notification, which is a one-way message that does not expect a response.
     */
    async notification(notification, options) {
      var _a, _b;
      if (!this._transport) {
        throw new Error("Not connected");
      }
      this.assertNotificationCapability(notification.method);
      const debouncedMethods = (_b = (_a = this._options) === null || _a === void 0 ? void 0 : _a.debouncedNotificationMethods) !== null && _b !== void 0 ? _b : [];
      const canDebounce = debouncedMethods.includes(notification.method) && !notification.params && !(options === null || options === void 0 ? void 0 : options.relatedRequestId);
      if (canDebounce) {
        if (this._pendingDebouncedNotifications.has(notification.method)) {
          return;
        }
        this._pendingDebouncedNotifications.add(notification.method);
        Promise.resolve().then(() => {
          var _a2;
          this._pendingDebouncedNotifications.delete(notification.method);
          if (!this._transport) {
            return;
          }
          const jsonrpcNotification2 = {
            ...notification,
            jsonrpc: "2.0"
          };
          (_a2 = this._transport) === null || _a2 === void 0 ? void 0 : _a2.send(jsonrpcNotification2, options).catch((error) => this._onerror(error));
        });
        return;
      }
      const jsonrpcNotification = {
        ...notification,
        jsonrpc: "2.0"
      };
      await this._transport.send(jsonrpcNotification, options);
    }
    /**
     * Registers a handler to invoke when this protocol object receives a request with the given method.
     *
     * Note that this will replace any previous request handler for the same method.
     */
    setRequestHandler(requestSchema, handler) {
      const method = requestSchema.shape.method.value;
      this.assertRequestHandlerCapability(method);
      this._requestHandlers.set(method, (request, extra) => {
        return Promise.resolve(handler(requestSchema.parse(request), extra));
      });
    }
    /**
     * Removes the request handler for the given method.
     */
    removeRequestHandler(method) {
      this._requestHandlers.delete(method);
    }
    /**
     * Asserts that a request handler has not already been set for the given method, in preparation for a new one being automatically installed.
     */
    assertCanSetRequestHandler(method) {
      if (this._requestHandlers.has(method)) {
        throw new Error(`A request handler for ${method} already exists, which would be overridden`);
      }
    }
    /**
     * Registers a handler to invoke when this protocol object receives a notification with the given method.
     *
     * Note that this will replace any previous notification handler for the same method.
     */
    setNotificationHandler(notificationSchema, handler) {
      this._notificationHandlers.set(notificationSchema.shape.method.value, (notification) => Promise.resolve(handler(notificationSchema.parse(notification))));
    }
    /**
     * Removes the notification handler for the given method.
     */
    removeNotificationHandler(method) {
      this._notificationHandlers.delete(method);
    }
  }
  function mergeCapabilities(base, additional) {
    return Object.entries(additional).reduce((acc, [key, value]) => {
      if (value && typeof value === "object") {
        acc[key] = acc[key] ? { ...acc[key], ...value } : value;
      } else {
        acc[key] = value;
      }
      return acc;
    }, { ...base });
  }
  function getDefaultExportFromCjs(x) {
    return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, "default") ? x["default"] : x;
  }
  var uri_all$1 = { exports: {} };
  /** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
  var uri_all = uri_all$1.exports;
  var hasRequiredUri_all;
  function requireUri_all() {
    if (hasRequiredUri_all) return uri_all$1.exports;
    hasRequiredUri_all = 1;
    (function(module, exports) {
      (function(global, factory) {
        factory(exports);
      })(uri_all, function(exports2) {
        function merge() {
          for (var _len = arguments.length, sets = Array(_len), _key = 0; _key < _len; _key++) {
            sets[_key] = arguments[_key];
          }
          if (sets.length > 1) {
            sets[0] = sets[0].slice(0, -1);
            var xl = sets.length - 1;
            for (var x = 1; x < xl; ++x) {
              sets[x] = sets[x].slice(1, -1);
            }
            sets[xl] = sets[xl].slice(1);
            return sets.join("");
          } else {
            return sets[0];
          }
        }
        function subexp(str) {
          return "(?:" + str + ")";
        }
        function typeOf(o) {
          return o === void 0 ? "undefined" : o === null ? "null" : Object.prototype.toString.call(o).split(" ").pop().split("]").shift().toLowerCase();
        }
        function toUpperCase(str) {
          return str.toUpperCase();
        }
        function toArray(obj) {
          return obj !== void 0 && obj !== null ? obj instanceof Array ? obj : typeof obj.length !== "number" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj) : [];
        }
        function assign(target, source) {
          var obj = target;
          if (source) {
            for (var key in source) {
              obj[key] = source[key];
            }
          }
          return obj;
        }
        function buildExps(isIRI) {
          var ALPHA$$ = "[A-Za-z]", DIGIT$$ = "[0-9]", HEXDIG$$2 = merge(DIGIT$$, "[A-Fa-f]"), PCT_ENCODED$2 = subexp(subexp("%[EFef]" + HEXDIG$$2 + "%" + HEXDIG$$2 + HEXDIG$$2 + "%" + HEXDIG$$2 + HEXDIG$$2) + "|" + subexp("%[89A-Fa-f]" + HEXDIG$$2 + "%" + HEXDIG$$2 + HEXDIG$$2) + "|" + subexp("%" + HEXDIG$$2 + HEXDIG$$2)), GEN_DELIMS$$ = "[\\:\\/\\?\\#\\[\\]\\@]", SUB_DELIMS$$ = "[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]", RESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$), UCSCHAR$$ = isIRI ? "[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]" : "[]", IPRIVATE$$ = isIRI ? "[\\uE000-\\uF8FF]" : "[]", UNRESERVED$$2 = merge(ALPHA$$, DIGIT$$, "[\\-\\.\\_\\~]", UCSCHAR$$);
          subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, "[\\+\\-\\.]") + "*");
          subexp(subexp(PCT_ENCODED$2 + "|" + merge(UNRESERVED$$2, SUB_DELIMS$$, "[\\:]")) + "*");
          var DEC_OCTET_RELAXED$ = subexp(subexp("25[0-5]") + "|" + subexp("2[0-4]" + DIGIT$$) + "|" + subexp("1" + DIGIT$$ + DIGIT$$) + "|" + subexp("0?[1-9]" + DIGIT$$) + "|0?0?" + DIGIT$$), IPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + "\\." + DEC_OCTET_RELAXED$ + "\\." + DEC_OCTET_RELAXED$ + "\\." + DEC_OCTET_RELAXED$), H16$ = subexp(HEXDIG$$2 + "{1,4}"), LS32$ = subexp(subexp(H16$ + "\\:" + H16$) + "|" + IPV4ADDRESS$), IPV6ADDRESS1$ = subexp(subexp(H16$ + "\\:") + "{6}" + LS32$), IPV6ADDRESS2$ = subexp("\\:\\:" + subexp(H16$ + "\\:") + "{5}" + LS32$), IPV6ADDRESS3$ = subexp(subexp(H16$) + "?\\:\\:" + subexp(H16$ + "\\:") + "{4}" + LS32$), IPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + "\\:") + "{0,1}" + H16$) + "?\\:\\:" + subexp(H16$ + "\\:") + "{3}" + LS32$), IPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + "\\:") + "{0,2}" + H16$) + "?\\:\\:" + subexp(H16$ + "\\:") + "{2}" + LS32$), IPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + "\\:") + "{0,3}" + H16$) + "?\\:\\:" + H16$ + "\\:" + LS32$), IPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + "\\:") + "{0,4}" + H16$) + "?\\:\\:" + LS32$), IPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + "\\:") + "{0,5}" + H16$) + "?\\:\\:" + H16$), IPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + "\\:") + "{0,6}" + H16$) + "?\\:\\:"), IPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join("|")), ZONEID$ = subexp(subexp(UNRESERVED$$2 + "|" + PCT_ENCODED$2) + "+");
          subexp("[vV]" + HEXDIG$$2 + "+\\." + merge(UNRESERVED$$2, SUB_DELIMS$$, "[\\:]") + "+");
          subexp(subexp(PCT_ENCODED$2 + "|" + merge(UNRESERVED$$2, SUB_DELIMS$$)) + "*");
          var PCHAR$ = subexp(PCT_ENCODED$2 + "|" + merge(UNRESERVED$$2, SUB_DELIMS$$, "[\\:\\@]"));
          subexp(subexp(PCT_ENCODED$2 + "|" + merge(UNRESERVED$$2, SUB_DELIMS$$, "[\\@]")) + "+");
          subexp(subexp(PCHAR$ + "|" + merge("[\\/\\?]", IPRIVATE$$)) + "*");
          return {
            NOT_SCHEME: new RegExp(merge("[^]", ALPHA$$, DIGIT$$, "[\\+\\-\\.]"), "g"),
            NOT_USERINFO: new RegExp(merge("[^\\%\\:]", UNRESERVED$$2, SUB_DELIMS$$), "g"),
            NOT_HOST: new RegExp(merge("[^\\%\\[\\]\\:]", UNRESERVED$$2, SUB_DELIMS$$), "g"),
            NOT_PATH: new RegExp(merge("[^\\%\\/\\:\\@]", UNRESERVED$$2, SUB_DELIMS$$), "g"),
            NOT_PATH_NOSCHEME: new RegExp(merge("[^\\%\\/\\@]", UNRESERVED$$2, SUB_DELIMS$$), "g"),
            NOT_QUERY: new RegExp(merge("[^\\%]", UNRESERVED$$2, SUB_DELIMS$$, "[\\:\\@\\/\\?]", IPRIVATE$$), "g"),
            NOT_FRAGMENT: new RegExp(merge("[^\\%]", UNRESERVED$$2, SUB_DELIMS$$, "[\\:\\@\\/\\?]"), "g"),
            ESCAPE: new RegExp(merge("[^]", UNRESERVED$$2, SUB_DELIMS$$), "g"),
            UNRESERVED: new RegExp(UNRESERVED$$2, "g"),
            OTHER_CHARS: new RegExp(merge("[^\\%]", UNRESERVED$$2, RESERVED$$), "g"),
            PCT_ENCODED: new RegExp(PCT_ENCODED$2, "g"),
            IPV4ADDRESS: new RegExp("^(" + IPV4ADDRESS$ + ")$"),
            IPV6ADDRESS: new RegExp("^\\[?(" + IPV6ADDRESS$ + ")" + subexp(subexp("\\%25|\\%(?!" + HEXDIG$$2 + "{2})") + "(" + ZONEID$ + ")") + "?\\]?$")
            //RFC 6874, with relaxed parsing rules
          };
        }
        var URI_PROTOCOL = buildExps(false);
        var IRI_PROTOCOL = buildExps(true);
        var slicedToArray = /* @__PURE__ */ function() {
          function sliceIterator(arr, i) {
            var _arr = [];
            var _n = true;
            var _d = false;
            var _e = void 0;
            try {
              for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                _arr.push(_s.value);
                if (i && _arr.length === i) break;
              }
            } catch (err) {
              _d = true;
              _e = err;
            } finally {
              try {
                if (!_n && _i["return"]) _i["return"]();
              } finally {
                if (_d) throw _e;
              }
            }
            return _arr;
          }
          return function(arr, i) {
            if (Array.isArray(arr)) {
              return arr;
            } else if (Symbol.iterator in Object(arr)) {
              return sliceIterator(arr, i);
            } else {
              throw new TypeError("Invalid attempt to destructure non-iterable instance");
            }
          };
        }();
        var toConsumableArray = function(arr) {
          if (Array.isArray(arr)) {
            for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];
            return arr2;
          } else {
            return Array.from(arr);
          }
        };
        var maxInt = 2147483647;
        var base = 36;
        var tMin = 1;
        var tMax = 26;
        var skew = 38;
        var damp = 700;
        var initialBias = 72;
        var initialN = 128;
        var delimiter = "-";
        var regexPunycode = /^xn--/;
        var regexNonASCII = /[^\0-\x7E]/;
        var regexSeparators = /[\x2E\u3002\uFF0E\uFF61]/g;
        var errors = {
          "overflow": "Overflow: input needs wider integers to process",
          "not-basic": "Illegal input >= 0x80 (not a basic code point)",
          "invalid-input": "Invalid input"
        };
        var baseMinusTMin = base - tMin;
        var floor = Math.floor;
        var stringFromCharCode = String.fromCharCode;
        function error$1(type2) {
          throw new RangeError(errors[type2]);
        }
        function map(array, fn) {
          var result = [];
          var length = array.length;
          while (length--) {
            result[length] = fn(array[length]);
          }
          return result;
        }
        function mapDomain(string, fn) {
          var parts = string.split("@");
          var result = "";
          if (parts.length > 1) {
            result = parts[0] + "@";
            string = parts[1];
          }
          string = string.replace(regexSeparators, ".");
          var labels = string.split(".");
          var encoded = map(labels, fn).join(".");
          return result + encoded;
        }
        function ucs2decode(string) {
          var output = [];
          var counter = 0;
          var length = string.length;
          while (counter < length) {
            var value = string.charCodeAt(counter++);
            if (value >= 55296 && value <= 56319 && counter < length) {
              var extra = string.charCodeAt(counter++);
              if ((extra & 64512) == 56320) {
                output.push(((value & 1023) << 10) + (extra & 1023) + 65536);
              } else {
                output.push(value);
                counter--;
              }
            } else {
              output.push(value);
            }
          }
          return output;
        }
        var ucs2encode = function ucs2encode2(array) {
          return String.fromCodePoint.apply(String, toConsumableArray(array));
        };
        var basicToDigit = function basicToDigit2(codePoint) {
          if (codePoint - 48 < 10) {
            return codePoint - 22;
          }
          if (codePoint - 65 < 26) {
            return codePoint - 65;
          }
          if (codePoint - 97 < 26) {
            return codePoint - 97;
          }
          return base;
        };
        var digitToBasic = function digitToBasic2(digit, flag) {
          return digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);
        };
        var adapt = function adapt2(delta, numPoints, firstTime) {
          var k = 0;
          delta = firstTime ? floor(delta / damp) : delta >> 1;
          delta += floor(delta / numPoints);
          for (
            ;
            /* no initialization */
            delta > baseMinusTMin * tMax >> 1;
            k += base
          ) {
            delta = floor(delta / baseMinusTMin);
          }
          return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));
        };
        var decode = function decode2(input) {
          var output = [];
          var inputLength = input.length;
          var i = 0;
          var n = initialN;
          var bias = initialBias;
          var basic = input.lastIndexOf(delimiter);
          if (basic < 0) {
            basic = 0;
          }
          for (var j = 0; j < basic; ++j) {
            if (input.charCodeAt(j) >= 128) {
              error$1("not-basic");
            }
            output.push(input.charCodeAt(j));
          }
          for (var index2 = basic > 0 ? basic + 1 : 0; index2 < inputLength; ) {
            var oldi = i;
            for (
              var w = 1, k = base;
              ;
              /* no condition */
              k += base
            ) {
              if (index2 >= inputLength) {
                error$1("invalid-input");
              }
              var digit = basicToDigit(input.charCodeAt(index2++));
              if (digit >= base || digit > floor((maxInt - i) / w)) {
                error$1("overflow");
              }
              i += digit * w;
              var t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;
              if (digit < t) {
                break;
              }
              var baseMinusT = base - t;
              if (w > floor(maxInt / baseMinusT)) {
                error$1("overflow");
              }
              w *= baseMinusT;
            }
            var out = output.length + 1;
            bias = adapt(i - oldi, out, oldi == 0);
            if (floor(i / out) > maxInt - n) {
              error$1("overflow");
            }
            n += floor(i / out);
            i %= out;
            output.splice(i++, 0, n);
          }
          return String.fromCodePoint.apply(String, output);
        };
        var encode = function encode2(input) {
          var output = [];
          input = ucs2decode(input);
          var inputLength = input.length;
          var n = initialN;
          var delta = 0;
          var bias = initialBias;
          var _iteratorNormalCompletion = true;
          var _didIteratorError = false;
          var _iteratorError = void 0;
          try {
            for (var _iterator = input[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var _currentValue2 = _step.value;
              if (_currentValue2 < 128) {
                output.push(stringFromCharCode(_currentValue2));
              }
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator.return) {
                _iterator.return();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }
          var basicLength = output.length;
          var handledCPCount = basicLength;
          if (basicLength) {
            output.push(delimiter);
          }
          while (handledCPCount < inputLength) {
            var m = maxInt;
            var _iteratorNormalCompletion2 = true;
            var _didIteratorError2 = false;
            var _iteratorError2 = void 0;
            try {
              for (var _iterator2 = input[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                var currentValue = _step2.value;
                if (currentValue >= n && currentValue < m) {
                  m = currentValue;
                }
              }
            } catch (err) {
              _didIteratorError2 = true;
              _iteratorError2 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion2 && _iterator2.return) {
                  _iterator2.return();
                }
              } finally {
                if (_didIteratorError2) {
                  throw _iteratorError2;
                }
              }
            }
            var handledCPCountPlusOne = handledCPCount + 1;
            if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {
              error$1("overflow");
            }
            delta += (m - n) * handledCPCountPlusOne;
            n = m;
            var _iteratorNormalCompletion3 = true;
            var _didIteratorError3 = false;
            var _iteratorError3 = void 0;
            try {
              for (var _iterator3 = input[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
                var _currentValue = _step3.value;
                if (_currentValue < n && ++delta > maxInt) {
                  error$1("overflow");
                }
                if (_currentValue == n) {
                  var q = delta;
                  for (
                    var k = base;
                    ;
                    /* no condition */
                    k += base
                  ) {
                    var t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;
                    if (q < t) {
                      break;
                    }
                    var qMinusT = q - t;
                    var baseMinusT = base - t;
                    output.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));
                    q = floor(qMinusT / baseMinusT);
                  }
                  output.push(stringFromCharCode(digitToBasic(q, 0)));
                  bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);
                  delta = 0;
                  ++handledCPCount;
                }
              }
            } catch (err) {
              _didIteratorError3 = true;
              _iteratorError3 = err;
            } finally {
              try {
                if (!_iteratorNormalCompletion3 && _iterator3.return) {
                  _iterator3.return();
                }
              } finally {
                if (_didIteratorError3) {
                  throw _iteratorError3;
                }
              }
            }
            ++delta;
            ++n;
          }
          return output.join("");
        };
        var toUnicode = function toUnicode2(input) {
          return mapDomain(input, function(string) {
            return regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;
          });
        };
        var toASCII = function toASCII2(input) {
          return mapDomain(input, function(string) {
            return regexNonASCII.test(string) ? "xn--" + encode(string) : string;
          });
        };
        var punycode = {
          /**
           * A string representing the current Punycode.js version number.
           * @memberOf punycode
           * @type String
           */
          "version": "2.1.0",
          /**
           * An object of methods to convert from JavaScript's internal character
           * representation (UCS-2) to Unicode code points, and back.
           * @see <https://mathiasbynens.be/notes/javascript-encoding>
           * @memberOf punycode
           * @type Object
           */
          "ucs2": {
            "decode": ucs2decode,
            "encode": ucs2encode
          },
          "decode": decode,
          "encode": encode,
          "toASCII": toASCII,
          "toUnicode": toUnicode
        };
        var SCHEMES = {};
        function pctEncChar(chr) {
          var c = chr.charCodeAt(0);
          var e = void 0;
          if (c < 16) e = "%0" + c.toString(16).toUpperCase();
          else if (c < 128) e = "%" + c.toString(16).toUpperCase();
          else if (c < 2048) e = "%" + (c >> 6 | 192).toString(16).toUpperCase() + "%" + (c & 63 | 128).toString(16).toUpperCase();
          else e = "%" + (c >> 12 | 224).toString(16).toUpperCase() + "%" + (c >> 6 & 63 | 128).toString(16).toUpperCase() + "%" + (c & 63 | 128).toString(16).toUpperCase();
          return e;
        }
        function pctDecChars(str) {
          var newStr = "";
          var i = 0;
          var il = str.length;
          while (i < il) {
            var c = parseInt(str.substr(i + 1, 2), 16);
            if (c < 128) {
              newStr += String.fromCharCode(c);
              i += 3;
            } else if (c >= 194 && c < 224) {
              if (il - i >= 6) {
                var c2 = parseInt(str.substr(i + 4, 2), 16);
                newStr += String.fromCharCode((c & 31) << 6 | c2 & 63);
              } else {
                newStr += str.substr(i, 6);
              }
              i += 6;
            } else if (c >= 224) {
              if (il - i >= 9) {
                var _c = parseInt(str.substr(i + 4, 2), 16);
                var c3 = parseInt(str.substr(i + 7, 2), 16);
                newStr += String.fromCharCode((c & 15) << 12 | (_c & 63) << 6 | c3 & 63);
              } else {
                newStr += str.substr(i, 9);
              }
              i += 9;
            } else {
              newStr += str.substr(i, 3);
              i += 3;
            }
          }
          return newStr;
        }
        function _normalizeComponentEncoding(components, protocol) {
          function decodeUnreserved2(str) {
            var decStr = pctDecChars(str);
            return !decStr.match(protocol.UNRESERVED) ? str : decStr;
          }
          if (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved2).toLowerCase().replace(protocol.NOT_SCHEME, "");
          if (components.userinfo !== void 0) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved2).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);
          if (components.host !== void 0) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved2).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);
          if (components.path !== void 0) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved2).replace(components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);
          if (components.query !== void 0) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved2).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);
          if (components.fragment !== void 0) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved2).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);
          return components;
        }
        function _stripLeadingZeros(str) {
          return str.replace(/^0*(.*)/, "$1") || "0";
        }
        function _normalizeIPv4(host, protocol) {
          var matches = host.match(protocol.IPV4ADDRESS) || [];
          var _matches = slicedToArray(matches, 2), address = _matches[1];
          if (address) {
            return address.split(".").map(_stripLeadingZeros).join(".");
          } else {
            return host;
          }
        }
        function _normalizeIPv6(host, protocol) {
          var matches = host.match(protocol.IPV6ADDRESS) || [];
          var _matches2 = slicedToArray(matches, 3), address = _matches2[1], zone = _matches2[2];
          if (address) {
            var _address$toLowerCase$ = address.toLowerCase().split("::").reverse(), _address$toLowerCase$2 = slicedToArray(_address$toLowerCase$, 2), last = _address$toLowerCase$2[0], first = _address$toLowerCase$2[1];
            var firstFields = first ? first.split(":").map(_stripLeadingZeros) : [];
            var lastFields = last.split(":").map(_stripLeadingZeros);
            var isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);
            var fieldCount = isLastFieldIPv4Address ? 7 : 8;
            var lastFieldsStart = lastFields.length - fieldCount;
            var fields = Array(fieldCount);
            for (var x = 0; x < fieldCount; ++x) {
              fields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || "";
            }
            if (isLastFieldIPv4Address) {
              fields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);
            }
            var allZeroFields = fields.reduce(function(acc, field, index2) {
              if (!field || field === "0") {
                var lastLongest = acc[acc.length - 1];
                if (lastLongest && lastLongest.index + lastLongest.length === index2) {
                  lastLongest.length++;
                } else {
                  acc.push({ index: index2, length: 1 });
                }
              }
              return acc;
            }, []);
            var longestZeroFields = allZeroFields.sort(function(a, b) {
              return b.length - a.length;
            })[0];
            var newHost = void 0;
            if (longestZeroFields && longestZeroFields.length > 1) {
              var newFirst = fields.slice(0, longestZeroFields.index);
              var newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);
              newHost = newFirst.join(":") + "::" + newLast.join(":");
            } else {
              newHost = fields.join(":");
            }
            if (zone) {
              newHost += "%" + zone;
            }
            return newHost;
          } else {
            return host;
          }
        }
        var URI_PARSE = /^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i;
        var NO_MATCH_IS_UNDEFINED = "".match(/(){0}/)[1] === void 0;
        function parse(uriString) {
          var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
          var components = {};
          var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;
          if (options.reference === "suffix") uriString = (options.scheme ? options.scheme + ":" : "") + "//" + uriString;
          var matches = uriString.match(URI_PARSE);
          if (matches) {
            if (NO_MATCH_IS_UNDEFINED) {
              components.scheme = matches[1];
              components.userinfo = matches[3];
              components.host = matches[4];
              components.port = parseInt(matches[5], 10);
              components.path = matches[6] || "";
              components.query = matches[7];
              components.fragment = matches[8];
              if (isNaN(components.port)) {
                components.port = matches[5];
              }
            } else {
              components.scheme = matches[1] || void 0;
              components.userinfo = uriString.indexOf("@") !== -1 ? matches[3] : void 0;
              components.host = uriString.indexOf("//") !== -1 ? matches[4] : void 0;
              components.port = parseInt(matches[5], 10);
              components.path = matches[6] || "";
              components.query = uriString.indexOf("?") !== -1 ? matches[7] : void 0;
              components.fragment = uriString.indexOf("#") !== -1 ? matches[8] : void 0;
              if (isNaN(components.port)) {
                components.port = uriString.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/) ? matches[4] : void 0;
              }
            }
            if (components.host) {
              components.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);
            }
            if (components.scheme === void 0 && components.userinfo === void 0 && components.host === void 0 && components.port === void 0 && !components.path && components.query === void 0) {
              components.reference = "same-document";
            } else if (components.scheme === void 0) {
              components.reference = "relative";
            } else if (components.fragment === void 0) {
              components.reference = "absolute";
            } else {
              components.reference = "uri";
            }
            if (options.reference && options.reference !== "suffix" && options.reference !== components.reference) {
              components.error = components.error || "URI is not a " + options.reference + " reference.";
            }
            var schemeHandler = SCHEMES[(options.scheme || components.scheme || "").toLowerCase()];
            if (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {
              if (components.host && (options.domainHost || schemeHandler && schemeHandler.domainHost)) {
                try {
                  components.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());
                } catch (e) {
                  components.error = components.error || "Host's domain name can not be converted to ASCII via punycode: " + e;
                }
              }
              _normalizeComponentEncoding(components, URI_PROTOCOL);
            } else {
              _normalizeComponentEncoding(components, protocol);
            }
            if (schemeHandler && schemeHandler.parse) {
              schemeHandler.parse(components, options);
            }
          } else {
            components.error = components.error || "URI can not be parsed.";
          }
          return components;
        }
        function _recomposeAuthority(components, options) {
          var protocol = options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL;
          var uriTokens = [];
          if (components.userinfo !== void 0) {
            uriTokens.push(components.userinfo);
            uriTokens.push("@");
          }
          if (components.host !== void 0) {
            uriTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, function(_, $1, $2) {
              return "[" + $1 + ($2 ? "%25" + $2 : "") + "]";
            }));
          }
          if (typeof components.port === "number" || typeof components.port === "string") {
            uriTokens.push(":");
            uriTokens.push(String(components.port));
          }
          return uriTokens.length ? uriTokens.join("") : void 0;
        }
        var RDS1 = /^\.\.?\//;
        var RDS2 = /^\/\.(\/|$)/;
        var RDS3 = /^\/\.\.(\/|$)/;
        var RDS5 = /^\/?(?:.|\n)*?(?=\/|$)/;
        function removeDotSegments(input) {
          var output = [];
          while (input.length) {
            if (input.match(RDS1)) {
              input = input.replace(RDS1, "");
            } else if (input.match(RDS2)) {
              input = input.replace(RDS2, "/");
            } else if (input.match(RDS3)) {
              input = input.replace(RDS3, "/");
              output.pop();
            } else if (input === "." || input === "..") {
              input = "";
            } else {
              var im = input.match(RDS5);
              if (im) {
                var s = im[0];
                input = input.slice(s.length);
                output.push(s);
              } else {
                throw new Error("Unexpected dot segment condition");
              }
            }
          }
          return output.join("");
        }
        function serialize(components) {
          var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
          var protocol = options.iri ? IRI_PROTOCOL : URI_PROTOCOL;
          var uriTokens = [];
          var schemeHandler = SCHEMES[(options.scheme || components.scheme || "").toLowerCase()];
          if (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);
          if (components.host) {
            if (protocol.IPV6ADDRESS.test(components.host)) ;
            else if (options.domainHost || schemeHandler && schemeHandler.domainHost) {
              try {
                components.host = !options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host);
              } catch (e) {
                components.error = components.error || "Host's domain name can not be converted to " + (!options.iri ? "ASCII" : "Unicode") + " via punycode: " + e;
              }
            }
          }
          _normalizeComponentEncoding(components, protocol);
          if (options.reference !== "suffix" && components.scheme) {
            uriTokens.push(components.scheme);
            uriTokens.push(":");
          }
          var authority = _recomposeAuthority(components, options);
          if (authority !== void 0) {
            if (options.reference !== "suffix") {
              uriTokens.push("//");
            }
            uriTokens.push(authority);
            if (components.path && components.path.charAt(0) !== "/") {
              uriTokens.push("/");
            }
          }
          if (components.path !== void 0) {
            var s = components.path;
            if (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {
              s = removeDotSegments(s);
            }
            if (authority === void 0) {
              s = s.replace(/^\/\//, "/%2F");
            }
            uriTokens.push(s);
          }
          if (components.query !== void 0) {
            uriTokens.push("?");
            uriTokens.push(components.query);
          }
          if (components.fragment !== void 0) {
            uriTokens.push("#");
            uriTokens.push(components.fragment);
          }
          return uriTokens.join("");
        }
        function resolveComponents(base2, relative) {
          var options = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
          var skipNormalization = arguments[3];
          var target = {};
          if (!skipNormalization) {
            base2 = parse(serialize(base2, options), options);
            relative = parse(serialize(relative, options), options);
          }
          options = options || {};
          if (!options.tolerant && relative.scheme) {
            target.scheme = relative.scheme;
            target.userinfo = relative.userinfo;
            target.host = relative.host;
            target.port = relative.port;
            target.path = removeDotSegments(relative.path || "");
            target.query = relative.query;
          } else {
            if (relative.userinfo !== void 0 || relative.host !== void 0 || relative.port !== void 0) {
              target.userinfo = relative.userinfo;
              target.host = relative.host;
              target.port = relative.port;
              target.path = removeDotSegments(relative.path || "");
              target.query = relative.query;
            } else {
              if (!relative.path) {
                target.path = base2.path;
                if (relative.query !== void 0) {
                  target.query = relative.query;
                } else {
                  target.query = base2.query;
                }
              } else {
                if (relative.path.charAt(0) === "/") {
                  target.path = removeDotSegments(relative.path);
                } else {
                  if ((base2.userinfo !== void 0 || base2.host !== void 0 || base2.port !== void 0) && !base2.path) {
                    target.path = "/" + relative.path;
                  } else if (!base2.path) {
                    target.path = relative.path;
                  } else {
                    target.path = base2.path.slice(0, base2.path.lastIndexOf("/") + 1) + relative.path;
                  }
                  target.path = removeDotSegments(target.path);
                }
                target.query = relative.query;
              }
              target.userinfo = base2.userinfo;
              target.host = base2.host;
              target.port = base2.port;
            }
            target.scheme = base2.scheme;
          }
          target.fragment = relative.fragment;
          return target;
        }
        function resolve(baseURI, relativeURI, options) {
          var schemelessOptions = assign({ scheme: "null" }, options);
          return serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);
        }
        function normalize(uri, options) {
          if (typeof uri === "string") {
            uri = serialize(parse(uri, options), options);
          } else if (typeOf(uri) === "object") {
            uri = parse(serialize(uri, options), options);
          }
          return uri;
        }
        function equal(uriA, uriB, options) {
          if (typeof uriA === "string") {
            uriA = serialize(parse(uriA, options), options);
          } else if (typeOf(uriA) === "object") {
            uriA = serialize(uriA, options);
          }
          if (typeof uriB === "string") {
            uriB = serialize(parse(uriB, options), options);
          } else if (typeOf(uriB) === "object") {
            uriB = serialize(uriB, options);
          }
          return uriA === uriB;
        }
        function escapeComponent(str, options) {
          return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE, pctEncChar);
        }
        function unescapeComponent(str, options) {
          return str && str.toString().replace(!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED, pctDecChars);
        }
        var handler = {
          scheme: "http",
          domainHost: true,
          parse: function parse2(components, options) {
            if (!components.host) {
              components.error = components.error || "HTTP URIs must have a host.";
            }
            return components;
          },
          serialize: function serialize2(components, options) {
            var secure = String(components.scheme).toLowerCase() === "https";
            if (components.port === (secure ? 443 : 80) || components.port === "") {
              components.port = void 0;
            }
            if (!components.path) {
              components.path = "/";
            }
            return components;
          }
        };
        var handler$1 = {
          scheme: "https",
          domainHost: handler.domainHost,
          parse: handler.parse,
          serialize: handler.serialize
        };
        function isSecure(wsComponents) {
          return typeof wsComponents.secure === "boolean" ? wsComponents.secure : String(wsComponents.scheme).toLowerCase() === "wss";
        }
        var handler$2 = {
          scheme: "ws",
          domainHost: true,
          parse: function parse2(components, options) {
            var wsComponents = components;
            wsComponents.secure = isSecure(wsComponents);
            wsComponents.resourceName = (wsComponents.path || "/") + (wsComponents.query ? "?" + wsComponents.query : "");
            wsComponents.path = void 0;
            wsComponents.query = void 0;
            return wsComponents;
          },
          serialize: function serialize2(wsComponents, options) {
            if (wsComponents.port === (isSecure(wsComponents) ? 443 : 80) || wsComponents.port === "") {
              wsComponents.port = void 0;
            }
            if (typeof wsComponents.secure === "boolean") {
              wsComponents.scheme = wsComponents.secure ? "wss" : "ws";
              wsComponents.secure = void 0;
            }
            if (wsComponents.resourceName) {
              var _wsComponents$resourc = wsComponents.resourceName.split("?"), _wsComponents$resourc2 = slicedToArray(_wsComponents$resourc, 2), path = _wsComponents$resourc2[0], query = _wsComponents$resourc2[1];
              wsComponents.path = path && path !== "/" ? path : void 0;
              wsComponents.query = query;
              wsComponents.resourceName = void 0;
            }
            wsComponents.fragment = void 0;
            return wsComponents;
          }
        };
        var handler$3 = {
          scheme: "wss",
          domainHost: handler$2.domainHost,
          parse: handler$2.parse,
          serialize: handler$2.serialize
        };
        var O = {};
        var UNRESERVED$$ = "[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]";
        var HEXDIG$$ = "[0-9A-Fa-f]";
        var PCT_ENCODED$ = subexp(subexp("%[EFef]" + HEXDIG$$ + "%" + HEXDIG$$ + HEXDIG$$ + "%" + HEXDIG$$ + HEXDIG$$) + "|" + subexp("%[89A-Fa-f]" + HEXDIG$$ + "%" + HEXDIG$$ + HEXDIG$$) + "|" + subexp("%" + HEXDIG$$ + HEXDIG$$));
        var ATEXT$$ = "[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]";
        var QTEXT$$ = "[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]";
        var VCHAR$$ = merge(QTEXT$$, '[\\"\\\\]');
        var SOME_DELIMS$$ = "[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]";
        var UNRESERVED = new RegExp(UNRESERVED$$, "g");
        var PCT_ENCODED = new RegExp(PCT_ENCODED$, "g");
        var NOT_LOCAL_PART = new RegExp(merge("[^]", ATEXT$$, "[\\.]", '[\\"]', VCHAR$$), "g");
        var NOT_HFNAME = new RegExp(merge("[^]", UNRESERVED$$, SOME_DELIMS$$), "g");
        var NOT_HFVALUE = NOT_HFNAME;
        function decodeUnreserved(str) {
          var decStr = pctDecChars(str);
          return !decStr.match(UNRESERVED) ? str : decStr;
        }
        var handler$4 = {
          scheme: "mailto",
          parse: function parse$$1(components, options) {
            var mailtoComponents = components;
            var to = mailtoComponents.to = mailtoComponents.path ? mailtoComponents.path.split(",") : [];
            mailtoComponents.path = void 0;
            if (mailtoComponents.query) {
              var unknownHeaders = false;
              var headers = {};
              var hfields = mailtoComponents.query.split("&");
              for (var x = 0, xl = hfields.length; x < xl; ++x) {
                var hfield = hfields[x].split("=");
                switch (hfield[0]) {
                  case "to":
                    var toAddrs = hfield[1].split(",");
                    for (var _x = 0, _xl = toAddrs.length; _x < _xl; ++_x) {
                      to.push(toAddrs[_x]);
                    }
                    break;
                  case "subject":
                    mailtoComponents.subject = unescapeComponent(hfield[1], options);
                    break;
                  case "body":
                    mailtoComponents.body = unescapeComponent(hfield[1], options);
                    break;
                  default:
                    unknownHeaders = true;
                    headers[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);
                    break;
                }
              }
              if (unknownHeaders) mailtoComponents.headers = headers;
            }
            mailtoComponents.query = void 0;
            for (var _x2 = 0, _xl2 = to.length; _x2 < _xl2; ++_x2) {
              var addr = to[_x2].split("@");
              addr[0] = unescapeComponent(addr[0]);
              if (!options.unicodeSupport) {
                try {
                  addr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());
                } catch (e) {
                  mailtoComponents.error = mailtoComponents.error || "Email address's domain name can not be converted to ASCII via punycode: " + e;
                }
              } else {
                addr[1] = unescapeComponent(addr[1], options).toLowerCase();
              }
              to[_x2] = addr.join("@");
            }
            return mailtoComponents;
          },
          serialize: function serialize$$1(mailtoComponents, options) {
            var components = mailtoComponents;
            var to = toArray(mailtoComponents.to);
            if (to) {
              for (var x = 0, xl = to.length; x < xl; ++x) {
                var toAddr = String(to[x]);
                var atIdx = toAddr.lastIndexOf("@");
                var localPart = toAddr.slice(0, atIdx).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);
                var domain = toAddr.slice(atIdx + 1);
                try {
                  domain = !options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain);
                } catch (e) {
                  components.error = components.error || "Email address's domain name can not be converted to " + (!options.iri ? "ASCII" : "Unicode") + " via punycode: " + e;
                }
                to[x] = localPart + "@" + domain;
              }
              components.path = to.join(",");
            }
            var headers = mailtoComponents.headers = mailtoComponents.headers || {};
            if (mailtoComponents.subject) headers["subject"] = mailtoComponents.subject;
            if (mailtoComponents.body) headers["body"] = mailtoComponents.body;
            var fields = [];
            for (var name in headers) {
              if (headers[name] !== O[name]) {
                fields.push(name.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) + "=" + headers[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar));
              }
            }
            if (fields.length) {
              components.query = fields.join("&");
            }
            return components;
          }
        };
        var URN_PARSE = /^([^\:]+)\:(.*)/;
        var handler$5 = {
          scheme: "urn",
          parse: function parse$$1(components, options) {
            var matches = components.path && components.path.match(URN_PARSE);
            var urnComponents = components;
            if (matches) {
              var scheme = options.scheme || urnComponents.scheme || "urn";
              var nid = matches[1].toLowerCase();
              var nss = matches[2];
              var urnScheme = scheme + ":" + (options.nid || nid);
              var schemeHandler = SCHEMES[urnScheme];
              urnComponents.nid = nid;
              urnComponents.nss = nss;
              urnComponents.path = void 0;
              if (schemeHandler) {
                urnComponents = schemeHandler.parse(urnComponents, options);
              }
            } else {
              urnComponents.error = urnComponents.error || "URN can not be parsed.";
            }
            return urnComponents;
          },
          serialize: function serialize$$1(urnComponents, options) {
            var scheme = options.scheme || urnComponents.scheme || "urn";
            var nid = urnComponents.nid;
            var urnScheme = scheme + ":" + (options.nid || nid);
            var schemeHandler = SCHEMES[urnScheme];
            if (schemeHandler) {
              urnComponents = schemeHandler.serialize(urnComponents, options);
            }
            var uriComponents = urnComponents;
            var nss = urnComponents.nss;
            uriComponents.path = (nid || options.nid) + ":" + nss;
            return uriComponents;
          }
        };
        var UUID = /^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/;
        var handler$6 = {
          scheme: "urn:uuid",
          parse: function parse2(urnComponents, options) {
            var uuidComponents = urnComponents;
            uuidComponents.uuid = uuidComponents.nss;
            uuidComponents.nss = void 0;
            if (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {
              uuidComponents.error = uuidComponents.error || "UUID is not valid.";
            }
            return uuidComponents;
          },
          serialize: function serialize2(uuidComponents, options) {
            var urnComponents = uuidComponents;
            urnComponents.nss = (uuidComponents.uuid || "").toLowerCase();
            return urnComponents;
          }
        };
        SCHEMES[handler.scheme] = handler;
        SCHEMES[handler$1.scheme] = handler$1;
        SCHEMES[handler$2.scheme] = handler$2;
        SCHEMES[handler$3.scheme] = handler$3;
        SCHEMES[handler$4.scheme] = handler$4;
        SCHEMES[handler$5.scheme] = handler$5;
        SCHEMES[handler$6.scheme] = handler$6;
        exports2.SCHEMES = SCHEMES;
        exports2.pctEncChar = pctEncChar;
        exports2.pctDecChars = pctDecChars;
        exports2.parse = parse;
        exports2.removeDotSegments = removeDotSegments;
        exports2.serialize = serialize;
        exports2.resolveComponents = resolveComponents;
        exports2.resolve = resolve;
        exports2.normalize = normalize;
        exports2.equal = equal;
        exports2.escapeComponent = escapeComponent;
        exports2.unescapeComponent = unescapeComponent;
        Object.defineProperty(exports2, "__esModule", { value: true });
      });
    })(uri_all$1, uri_all$1.exports);
    return uri_all$1.exports;
  }
  var fastDeepEqual;
  var hasRequiredFastDeepEqual;
  function requireFastDeepEqual() {
    if (hasRequiredFastDeepEqual) return fastDeepEqual;
    hasRequiredFastDeepEqual = 1;
    fastDeepEqual = function equal(a, b) {
      if (a === b) return true;
      if (a && b && typeof a == "object" && typeof b == "object") {
        if (a.constructor !== b.constructor) return false;
        var length, i, keys;
        if (Array.isArray(a)) {
          length = a.length;
          if (length != b.length) return false;
          for (i = length; i-- !== 0; )
            if (!equal(a[i], b[i])) return false;
          return true;
        }
        if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;
        if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();
        if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();
        keys = Object.keys(a);
        length = keys.length;
        if (length !== Object.keys(b).length) return false;
        for (i = length; i-- !== 0; )
          if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;
        for (i = length; i-- !== 0; ) {
          var key = keys[i];
          if (!equal(a[key], b[key])) return false;
        }
        return true;
      }
      return a !== a && b !== b;
    };
    return fastDeepEqual;
  }
  var ucs2length;
  var hasRequiredUcs2length;
  function requireUcs2length() {
    if (hasRequiredUcs2length) return ucs2length;
    hasRequiredUcs2length = 1;
    ucs2length = function ucs2length2(str) {
      var length = 0, len = str.length, pos = 0, value;
      while (pos < len) {
        length++;
        value = str.charCodeAt(pos++);
        if (value >= 55296 && value <= 56319 && pos < len) {
          value = str.charCodeAt(pos);
          if ((value & 64512) == 56320) pos++;
        }
      }
      return length;
    };
    return ucs2length;
  }
  var util;
  var hasRequiredUtil;
  function requireUtil() {
    if (hasRequiredUtil) return util;
    hasRequiredUtil = 1;
    util = {
      copy,
      checkDataType,
      checkDataTypes,
      coerceToTypes,
      toHash,
      getProperty,
      escapeQuotes,
      equal: requireFastDeepEqual(),
      ucs2length: requireUcs2length(),
      varOccurences,
      varReplace,
      schemaHasRules,
      schemaHasRulesExcept,
      schemaUnknownRules,
      toQuotedString,
      getPathExpr,
      getPath,
      getData,
      unescapeFragment,
      unescapeJsonPointer,
      escapeFragment,
      escapeJsonPointer
    };
    function copy(o, to) {
      to = to || {};
      for (var key in o) to[key] = o[key];
      return to;
    }
    function checkDataType(dataType, data2, strictNumbers, negate) {
      var EQUAL = negate ? " !== " : " === ", AND = negate ? " || " : " && ", OK2 = negate ? "!" : "", NOT = negate ? "" : "!";
      switch (dataType) {
        case "null":
          return data2 + EQUAL + "null";
        case "array":
          return OK2 + "Array.isArray(" + data2 + ")";
        case "object":
          return "(" + OK2 + data2 + AND + "typeof " + data2 + EQUAL + '"object"' + AND + NOT + "Array.isArray(" + data2 + "))";
        case "integer":
          return "(typeof " + data2 + EQUAL + '"number"' + AND + NOT + "(" + data2 + " % 1)" + AND + data2 + EQUAL + data2 + (strictNumbers ? AND + OK2 + "isFinite(" + data2 + ")" : "") + ")";
        case "number":
          return "(typeof " + data2 + EQUAL + '"' + dataType + '"' + (strictNumbers ? AND + OK2 + "isFinite(" + data2 + ")" : "") + ")";
        default:
          return "typeof " + data2 + EQUAL + '"' + dataType + '"';
      }
    }
    function checkDataTypes(dataTypes, data2, strictNumbers) {
      switch (dataTypes.length) {
        case 1:
          return checkDataType(dataTypes[0], data2, strictNumbers, true);
        default:
          var code = "";
          var types = toHash(dataTypes);
          if (types.array && types.object) {
            code = types.null ? "(" : "(!" + data2 + " || ";
            code += "typeof " + data2 + ' !== "object")';
            delete types.null;
            delete types.array;
            delete types.object;
          }
          if (types.number) delete types.integer;
          for (var t in types)
            code += (code ? " && " : "") + checkDataType(t, data2, strictNumbers, true);
          return code;
      }
    }
    var COERCE_TO_TYPES = toHash(["string", "number", "integer", "boolean", "null"]);
    function coerceToTypes(optionCoerceTypes, dataTypes) {
      if (Array.isArray(dataTypes)) {
        var types = [];
        for (var i = 0; i < dataTypes.length; i++) {
          var t = dataTypes[i];
          if (COERCE_TO_TYPES[t]) types[types.length] = t;
          else if (optionCoerceTypes === "array" && t === "array") types[types.length] = t;
        }
        if (types.length) return types;
      } else if (COERCE_TO_TYPES[dataTypes]) {
        return [dataTypes];
      } else if (optionCoerceTypes === "array" && dataTypes === "array") {
        return ["array"];
      }
    }
    function toHash(arr) {
      var hash = {};
      for (var i = 0; i < arr.length; i++) hash[arr[i]] = true;
      return hash;
    }
    var IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;
    var SINGLE_QUOTE = /'|\\/g;
    function getProperty(key) {
      return typeof key == "number" ? "[" + key + "]" : IDENTIFIER.test(key) ? "." + key : "['" + escapeQuotes(key) + "']";
    }
    function escapeQuotes(str) {
      return str.replace(SINGLE_QUOTE, "\\$&").replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/\f/g, "\\f").replace(/\t/g, "\\t");
    }
    function varOccurences(str, dataVar) {
      dataVar += "[^0-9]";
      var matches = str.match(new RegExp(dataVar, "g"));
      return matches ? matches.length : 0;
    }
    function varReplace(str, dataVar, expr) {
      dataVar += "([^0-9])";
      expr = expr.replace(/\$/g, "$$$$");
      return str.replace(new RegExp(dataVar, "g"), expr + "$1");
    }
    function schemaHasRules(schema, rules2) {
      if (typeof schema == "boolean") return !schema;
      for (var key in schema) if (rules2[key]) return true;
    }
    function schemaHasRulesExcept(schema, rules2, exceptKeyword) {
      if (typeof schema == "boolean") return !schema && exceptKeyword != "not";
      for (var key in schema) if (key != exceptKeyword && rules2[key]) return true;
    }
    function schemaUnknownRules(schema, rules2) {
      if (typeof schema == "boolean") return;
      for (var key in schema) if (!rules2[key]) return key;
    }
    function toQuotedString(str) {
      return "'" + escapeQuotes(str) + "'";
    }
    function getPathExpr(currentPath, expr, jsonPointers, isNumber) {
      var path = jsonPointers ? "'/' + " + expr + (isNumber ? "" : ".replace(/~/g, '~0').replace(/\\//g, '~1')") : isNumber ? "'[' + " + expr + " + ']'" : "'[\\'' + " + expr + " + '\\']'";
      return joinPaths(currentPath, path);
    }
    function getPath(currentPath, prop, jsonPointers) {
      var path = jsonPointers ? toQuotedString("/" + escapeJsonPointer(prop)) : toQuotedString(getProperty(prop));
      return joinPaths(currentPath, path);
    }
    var JSON_POINTER = /^\/(?:[^~]|~0|~1)*$/;
    var RELATIVE_JSON_POINTER = /^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;
    function getData($data, lvl, paths) {
      var up, jsonPointer, data2, matches;
      if ($data === "") return "rootData";
      if ($data[0] == "/") {
        if (!JSON_POINTER.test($data)) throw new Error("Invalid JSON-pointer: " + $data);
        jsonPointer = $data;
        data2 = "rootData";
      } else {
        matches = $data.match(RELATIVE_JSON_POINTER);
        if (!matches) throw new Error("Invalid JSON-pointer: " + $data);
        up = +matches[1];
        jsonPointer = matches[2];
        if (jsonPointer == "#") {
          if (up >= lvl) throw new Error("Cannot access property/index " + up + " levels up, current level is " + lvl);
          return paths[lvl - up];
        }
        if (up > lvl) throw new Error("Cannot access data " + up + " levels up, current level is " + lvl);
        data2 = "data" + (lvl - up || "");
        if (!jsonPointer) return data2;
      }
      var expr = data2;
      var segments = jsonPointer.split("/");
      for (var i = 0; i < segments.length; i++) {
        var segment = segments[i];
        if (segment) {
          data2 += getProperty(unescapeJsonPointer(segment));
          expr += " && " + data2;
        }
      }
      return expr;
    }
    function joinPaths(a, b) {
      if (a == '""') return b;
      return (a + " + " + b).replace(/([^\\])' \+ '/g, "$1");
    }
    function unescapeFragment(str) {
      return unescapeJsonPointer(decodeURIComponent(str));
    }
    function escapeFragment(str) {
      return encodeURIComponent(escapeJsonPointer(str));
    }
    function escapeJsonPointer(str) {
      return str.replace(/~/g, "~0").replace(/\//g, "~1");
    }
    function unescapeJsonPointer(str) {
      return str.replace(/~1/g, "/").replace(/~0/g, "~");
    }
    return util;
  }
  var schema_obj;
  var hasRequiredSchema_obj;
  function requireSchema_obj() {
    if (hasRequiredSchema_obj) return schema_obj;
    hasRequiredSchema_obj = 1;
    var util2 = requireUtil();
    schema_obj = SchemaObject;
    function SchemaObject(obj) {
      util2.copy(obj, this);
    }
    return schema_obj;
  }
  var jsonSchemaTraverse = { exports: {} };
  var hasRequiredJsonSchemaTraverse;
  function requireJsonSchemaTraverse() {
    if (hasRequiredJsonSchemaTraverse) return jsonSchemaTraverse.exports;
    hasRequiredJsonSchemaTraverse = 1;
    var traverse = jsonSchemaTraverse.exports = function(schema, opts, cb) {
      if (typeof opts == "function") {
        cb = opts;
        opts = {};
      }
      cb = opts.cb || cb;
      var pre = typeof cb == "function" ? cb : cb.pre || function() {
      };
      var post = cb.post || function() {
      };
      _traverse(opts, pre, post, schema, "", schema);
    };
    traverse.keywords = {
      additionalItems: true,
      items: true,
      contains: true,
      additionalProperties: true,
      propertyNames: true,
      not: true
    };
    traverse.arrayKeywords = {
      items: true,
      allOf: true,
      anyOf: true,
      oneOf: true
    };
    traverse.propsKeywords = {
      definitions: true,
      properties: true,
      patternProperties: true,
      dependencies: true
    };
    traverse.skipKeywords = {
      default: true,
      enum: true,
      const: true,
      required: true,
      maximum: true,
      minimum: true,
      exclusiveMaximum: true,
      exclusiveMinimum: true,
      multipleOf: true,
      maxLength: true,
      minLength: true,
      pattern: true,
      format: true,
      maxItems: true,
      minItems: true,
      uniqueItems: true,
      maxProperties: true,
      minProperties: true
    };
    function _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {
      if (schema && typeof schema == "object" && !Array.isArray(schema)) {
        pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);
        for (var key in schema) {
          var sch = schema[key];
          if (Array.isArray(sch)) {
            if (key in traverse.arrayKeywords) {
              for (var i = 0; i < sch.length; i++)
                _traverse(opts, pre, post, sch[i], jsonPtr + "/" + key + "/" + i, rootSchema, jsonPtr, key, schema, i);
            }
          } else if (key in traverse.propsKeywords) {
            if (sch && typeof sch == "object") {
              for (var prop in sch)
                _traverse(opts, pre, post, sch[prop], jsonPtr + "/" + key + "/" + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);
            }
          } else if (key in traverse.keywords || opts.allKeys && !(key in traverse.skipKeywords)) {
            _traverse(opts, pre, post, sch, jsonPtr + "/" + key, rootSchema, jsonPtr, key, schema);
          }
        }
        post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);
      }
    }
    function escapeJsonPtr(str) {
      return str.replace(/~/g, "~0").replace(/\//g, "~1");
    }
    return jsonSchemaTraverse.exports;
  }
  var resolve_1;
  var hasRequiredResolve;
  function requireResolve() {
    if (hasRequiredResolve) return resolve_1;
    hasRequiredResolve = 1;
    var URI = requireUri_all(), equal = requireFastDeepEqual(), util2 = requireUtil(), SchemaObject = requireSchema_obj(), traverse = requireJsonSchemaTraverse();
    resolve_1 = resolve;
    resolve.normalizeId = normalizeId;
    resolve.fullPath = getFullPath;
    resolve.url = resolveUrl;
    resolve.ids = resolveIds;
    resolve.inlineRef = inlineRef;
    resolve.schema = resolveSchema;
    function resolve(compile, root, ref2) {
      var refVal = this._refs[ref2];
      if (typeof refVal == "string") {
        if (this._refs[refVal]) refVal = this._refs[refVal];
        else return resolve.call(this, compile, root, refVal);
      }
      refVal = refVal || this._schemas[ref2];
      if (refVal instanceof SchemaObject) {
        return inlineRef(refVal.schema, this._opts.inlineRefs) ? refVal.schema : refVal.validate || this._compile(refVal);
      }
      var res = resolveSchema.call(this, root, ref2);
      var schema, v, baseId;
      if (res) {
        schema = res.schema;
        root = res.root;
        baseId = res.baseId;
      }
      if (schema instanceof SchemaObject) {
        v = schema.validate || compile.call(this, schema.schema, root, void 0, baseId);
      } else if (schema !== void 0) {
        v = inlineRef(schema, this._opts.inlineRefs) ? schema : compile.call(this, schema, root, void 0, baseId);
      }
      return v;
    }
    function resolveSchema(root, ref2) {
      var p = URI.parse(ref2), refPath = _getFullPath(p), baseId = getFullPath(this._getId(root.schema));
      if (Object.keys(root.schema).length === 0 || refPath !== baseId) {
        var id = normalizeId(refPath);
        var refVal = this._refs[id];
        if (typeof refVal == "string") {
          return resolveRecursive.call(this, root, refVal, p);
        } else if (refVal instanceof SchemaObject) {
          if (!refVal.validate) this._compile(refVal);
          root = refVal;
        } else {
          refVal = this._schemas[id];
          if (refVal instanceof SchemaObject) {
            if (!refVal.validate) this._compile(refVal);
            if (id == normalizeId(ref2))
              return { schema: refVal, root, baseId };
            root = refVal;
          } else {
            return;
          }
        }
        if (!root.schema) return;
        baseId = getFullPath(this._getId(root.schema));
      }
      return getJsonPointer.call(this, p, baseId, root.schema, root);
    }
    function resolveRecursive(root, ref2, parsedRef) {
      var res = resolveSchema.call(this, root, ref2);
      if (res) {
        var schema = res.schema;
        var baseId = res.baseId;
        root = res.root;
        var id = this._getId(schema);
        if (id) baseId = resolveUrl(baseId, id);
        return getJsonPointer.call(this, parsedRef, baseId, schema, root);
      }
    }
    var PREVENT_SCOPE_CHANGE = util2.toHash(["properties", "patternProperties", "enum", "dependencies", "definitions"]);
    function getJsonPointer(parsedRef, baseId, schema, root) {
      parsedRef.fragment = parsedRef.fragment || "";
      if (parsedRef.fragment.slice(0, 1) != "/") return;
      var parts = parsedRef.fragment.split("/");
      for (var i = 1; i < parts.length; i++) {
        var part = parts[i];
        if (part) {
          part = util2.unescapeFragment(part);
          schema = schema[part];
          if (schema === void 0) break;
          var id;
          if (!PREVENT_SCOPE_CHANGE[part]) {
            id = this._getId(schema);
            if (id) baseId = resolveUrl(baseId, id);
            if (schema.$ref) {
              var $ref = resolveUrl(baseId, schema.$ref);
              var res = resolveSchema.call(this, root, $ref);
              if (res) {
                schema = res.schema;
                root = res.root;
                baseId = res.baseId;
              }
            }
          }
        }
      }
      if (schema !== void 0 && schema !== root.schema)
        return { schema, root, baseId };
    }
    var SIMPLE_INLINED = util2.toHash([
      "type",
      "format",
      "pattern",
      "maxLength",
      "minLength",
      "maxProperties",
      "minProperties",
      "maxItems",
      "minItems",
      "maximum",
      "minimum",
      "uniqueItems",
      "multipleOf",
      "required",
      "enum"
    ]);
    function inlineRef(schema, limit) {
      if (limit === false) return false;
      if (limit === void 0 || limit === true) return checkNoRef(schema);
      else if (limit) return countKeys(schema) <= limit;
    }
    function checkNoRef(schema) {
      var item;
      if (Array.isArray(schema)) {
        for (var i = 0; i < schema.length; i++) {
          item = schema[i];
          if (typeof item == "object" && !checkNoRef(item)) return false;
        }
      } else {
        for (var key in schema) {
          if (key == "$ref") return false;
          item = schema[key];
          if (typeof item == "object" && !checkNoRef(item)) return false;
        }
      }
      return true;
    }
    function countKeys(schema) {
      var count = 0, item;
      if (Array.isArray(schema)) {
        for (var i = 0; i < schema.length; i++) {
          item = schema[i];
          if (typeof item == "object") count += countKeys(item);
          if (count == Infinity) return Infinity;
        }
      } else {
        for (var key in schema) {
          if (key == "$ref") return Infinity;
          if (SIMPLE_INLINED[key]) {
            count++;
          } else {
            item = schema[key];
            if (typeof item == "object") count += countKeys(item) + 1;
            if (count == Infinity) return Infinity;
          }
        }
      }
      return count;
    }
    function getFullPath(id, normalize) {
      if (normalize !== false) id = normalizeId(id);
      var p = URI.parse(id);
      return _getFullPath(p);
    }
    function _getFullPath(p) {
      return URI.serialize(p).split("#")[0] + "#";
    }
    var TRAILING_SLASH_HASH = /#\/?$/;
    function normalizeId(id) {
      return id ? id.replace(TRAILING_SLASH_HASH, "") : "";
    }
    function resolveUrl(baseId, id) {
      id = normalizeId(id);
      return URI.resolve(baseId, id);
    }
    function resolveIds(schema) {
      var schemaId = normalizeId(this._getId(schema));
      var baseIds = { "": schemaId };
      var fullPaths = { "": getFullPath(schemaId, false) };
      var localRefs = {};
      var self = this;
      traverse(schema, { allKeys: true }, function(sch, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {
        if (jsonPtr === "") return;
        var id = self._getId(sch);
        var baseId = baseIds[parentJsonPtr];
        var fullPath = fullPaths[parentJsonPtr] + "/" + parentKeyword;
        if (keyIndex !== void 0)
          fullPath += "/" + (typeof keyIndex == "number" ? keyIndex : util2.escapeFragment(keyIndex));
        if (typeof id == "string") {
          id = baseId = normalizeId(baseId ? URI.resolve(baseId, id) : id);
          var refVal = self._refs[id];
          if (typeof refVal == "string") refVal = self._refs[refVal];
          if (refVal && refVal.schema) {
            if (!equal(sch, refVal.schema))
              throw new Error('id "' + id + '" resolves to more than one schema');
          } else if (id != normalizeId(fullPath)) {
            if (id[0] == "#") {
              if (localRefs[id] && !equal(sch, localRefs[id]))
                throw new Error('id "' + id + '" resolves to more than one schema');
              localRefs[id] = sch;
            } else {
              self._refs[id] = fullPath;
            }
          }
        }
        baseIds[jsonPtr] = baseId;
        fullPaths[jsonPtr] = fullPath;
      });
      return localRefs;
    }
    return resolve_1;
  }
  var error_classes;
  var hasRequiredError_classes;
  function requireError_classes() {
    if (hasRequiredError_classes) return error_classes;
    hasRequiredError_classes = 1;
    var resolve = requireResolve();
    error_classes = {
      Validation: errorSubclass(ValidationError),
      MissingRef: errorSubclass(MissingRefError)
    };
    function ValidationError(errors) {
      this.message = "validation failed";
      this.errors = errors;
      this.ajv = this.validation = true;
    }
    MissingRefError.message = function(baseId, ref2) {
      return "can't resolve reference " + ref2 + " from id " + baseId;
    };
    function MissingRefError(baseId, ref2, message) {
      this.message = message || MissingRefError.message(baseId, ref2);
      this.missingRef = resolve.url(baseId, ref2);
      this.missingSchema = resolve.normalizeId(resolve.fullPath(this.missingRef));
    }
    function errorSubclass(Subclass) {
      Subclass.prototype = Object.create(Error.prototype);
      Subclass.prototype.constructor = Subclass;
      return Subclass;
    }
    return error_classes;
  }
  var fastJsonStableStringify;
  var hasRequiredFastJsonStableStringify;
  function requireFastJsonStableStringify() {
    if (hasRequiredFastJsonStableStringify) return fastJsonStableStringify;
    hasRequiredFastJsonStableStringify = 1;
    fastJsonStableStringify = function(data2, opts) {
      if (!opts) opts = {};
      if (typeof opts === "function") opts = { cmp: opts };
      var cycles = typeof opts.cycles === "boolean" ? opts.cycles : false;
      var cmp = opts.cmp && /* @__PURE__ */ function(f) {
        return function(node) {
          return function(a, b) {
            var aobj = { key: a, value: node[a] };
            var bobj = { key: b, value: node[b] };
            return f(aobj, bobj);
          };
        };
      }(opts.cmp);
      var seen2 = [];
      return function stringify(node) {
        if (node && node.toJSON && typeof node.toJSON === "function") {
          node = node.toJSON();
        }
        if (node === void 0) return;
        if (typeof node == "number") return isFinite(node) ? "" + node : "null";
        if (typeof node !== "object") return JSON.stringify(node);
        var i, out;
        if (Array.isArray(node)) {
          out = "[";
          for (i = 0; i < node.length; i++) {
            if (i) out += ",";
            out += stringify(node[i]) || "null";
          }
          return out + "]";
        }
        if (node === null) return "null";
        if (seen2.indexOf(node) !== -1) {
          if (cycles) return JSON.stringify("__cycle__");
          throw new TypeError("Converting circular structure to JSON");
        }
        var seenIndex = seen2.push(node) - 1;
        var keys = Object.keys(node).sort(cmp && cmp(node));
        out = "";
        for (i = 0; i < keys.length; i++) {
          var key = keys[i];
          var value = stringify(node[key]);
          if (!value) continue;
          if (out) out += ",";
          out += JSON.stringify(key) + ":" + value;
        }
        seen2.splice(seenIndex, 1);
        return "{" + out + "}";
      }(data2);
    };
    return fastJsonStableStringify;
  }
  var validate;
  var hasRequiredValidate;
  function requireValidate() {
    if (hasRequiredValidate) return validate;
    hasRequiredValidate = 1;
    validate = function generate_validate(it, $keyword, $ruleType) {
      var out = "";
      var $async = it.schema.$async === true, $refKeywords = it.util.schemaHasRulesExcept(it.schema, it.RULES.all, "$ref"), $id2 = it.self._getId(it.schema);
      if (it.opts.strictKeywords) {
        var $unknownKwd = it.util.schemaUnknownRules(it.schema, it.RULES.keywords);
        if ($unknownKwd) {
          var $keywordsMsg = "unknown keyword: " + $unknownKwd;
          if (it.opts.strictKeywords === "log") it.logger.warn($keywordsMsg);
          else throw new Error($keywordsMsg);
        }
      }
      if (it.isTop) {
        out += " var validate = ";
        if ($async) {
          it.async = true;
          out += "async ";
        }
        out += "function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ";
        if ($id2 && (it.opts.sourceCode || it.opts.processCode)) {
          out += " " + ("/*# sourceURL=" + $id2 + " */") + " ";
        }
      }
      if (typeof it.schema == "boolean" || !($refKeywords || it.schema.$ref)) {
        var $keyword = "false schema";
        var $lvl = it.level;
        var $dataLvl = it.dataLevel;
        var $schema2 = it.schema[$keyword];
        var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
        var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
        var $breakOnError = !it.opts.allErrors;
        var $errorKeyword;
        var $data = "data" + ($dataLvl || "");
        var $valid = "valid" + $lvl;
        if (it.schema === false) {
          if (it.isTop) {
            $breakOnError = true;
          } else {
            out += " var " + $valid + " = false; ";
          }
          var $$outStack = $$outStack || [];
          $$outStack.push(out);
          out = "";
          if (it.createErrors !== false) {
            out += " { keyword: '" + ($errorKeyword || "false schema") + "' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: {} ";
            if (it.opts.messages !== false) {
              out += " , message: 'boolean schema is false' ";
            }
            if (it.opts.verbose) {
              out += " , schema: false , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
            }
            out += " } ";
          } else {
            out += " {} ";
          }
          var __err = out;
          out = $$outStack.pop();
          if (!it.compositeRule && $breakOnError) {
            if (it.async) {
              out += " throw new ValidationError([" + __err + "]); ";
            } else {
              out += " validate.errors = [" + __err + "]; return false; ";
            }
          } else {
            out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
          }
        } else {
          if (it.isTop) {
            if ($async) {
              out += " return data; ";
            } else {
              out += " validate.errors = null; return true; ";
            }
          } else {
            out += " var " + $valid + " = true; ";
          }
        }
        if (it.isTop) {
          out += " }; return validate; ";
        }
        return out;
      }
      if (it.isTop) {
        var $top = it.isTop, $lvl = it.level = 0, $dataLvl = it.dataLevel = 0, $data = "data";
        it.rootId = it.resolve.fullPath(it.self._getId(it.root.schema));
        it.baseId = it.baseId || it.rootId;
        delete it.isTop;
        it.dataPathArr = [""];
        if (it.schema.default !== void 0 && it.opts.useDefaults && it.opts.strictDefaults) {
          var $defaultMsg = "default is ignored in the schema root";
          if (it.opts.strictDefaults === "log") it.logger.warn($defaultMsg);
          else throw new Error($defaultMsg);
        }
        out += " var vErrors = null; ";
        out += " var errors = 0;     ";
        out += " if (rootData === undefined) rootData = data; ";
      } else {
        var $lvl = it.level, $dataLvl = it.dataLevel, $data = "data" + ($dataLvl || "");
        if ($id2) it.baseId = it.resolve.url(it.baseId, $id2);
        if ($async && !it.async) throw new Error("async schema in sync schema");
        out += " var errs_" + $lvl + " = errors;";
      }
      var $valid = "valid" + $lvl, $breakOnError = !it.opts.allErrors, $closingBraces1 = "", $closingBraces2 = "";
      var $errorKeyword;
      var $typeSchema = it.schema.type, $typeIsArray = Array.isArray($typeSchema);
      if ($typeSchema && it.opts.nullable && it.schema.nullable === true) {
        if ($typeIsArray) {
          if ($typeSchema.indexOf("null") == -1) $typeSchema = $typeSchema.concat("null");
        } else if ($typeSchema != "null") {
          $typeSchema = [$typeSchema, "null"];
          $typeIsArray = true;
        }
      }
      if ($typeIsArray && $typeSchema.length == 1) {
        $typeSchema = $typeSchema[0];
        $typeIsArray = false;
      }
      if (it.schema.$ref && $refKeywords) {
        if (it.opts.extendRefs == "fail") {
          throw new Error('$ref: validation keywords used in schema at path "' + it.errSchemaPath + '" (see option extendRefs)');
        } else if (it.opts.extendRefs !== true) {
          $refKeywords = false;
          it.logger.warn('$ref: keywords ignored in schema at path "' + it.errSchemaPath + '"');
        }
      }
      if (it.schema.$comment && it.opts.$comment) {
        out += " " + it.RULES.all.$comment.code(it, "$comment");
      }
      if ($typeSchema) {
        if (it.opts.coerceTypes) {
          var $coerceToTypes = it.util.coerceToTypes(it.opts.coerceTypes, $typeSchema);
        }
        var $rulesGroup = it.RULES.types[$typeSchema];
        if ($coerceToTypes || $typeIsArray || $rulesGroup === true || $rulesGroup && !$shouldUseGroup($rulesGroup)) {
          var $schemaPath = it.schemaPath + ".type", $errSchemaPath = it.errSchemaPath + "/type";
          var $schemaPath = it.schemaPath + ".type", $errSchemaPath = it.errSchemaPath + "/type", $method = $typeIsArray ? "checkDataTypes" : "checkDataType";
          out += " if (" + it.util[$method]($typeSchema, $data, it.opts.strictNumbers, true) + ") { ";
          if ($coerceToTypes) {
            var $dataType = "dataType" + $lvl, $coerced = "coerced" + $lvl;
            out += " var " + $dataType + " = typeof " + $data + "; var " + $coerced + " = undefined; ";
            if (it.opts.coerceTypes == "array") {
              out += " if (" + $dataType + " == 'object' && Array.isArray(" + $data + ") && " + $data + ".length == 1) { " + $data + " = " + $data + "[0]; " + $dataType + " = typeof " + $data + "; if (" + it.util.checkDataType(it.schema.type, $data, it.opts.strictNumbers) + ") " + $coerced + " = " + $data + "; } ";
            }
            out += " if (" + $coerced + " !== undefined) ; ";
            var arr1 = $coerceToTypes;
            if (arr1) {
              var $type, $i = -1, l1 = arr1.length - 1;
              while ($i < l1) {
                $type = arr1[$i += 1];
                if ($type == "string") {
                  out += " else if (" + $dataType + " == 'number' || " + $dataType + " == 'boolean') " + $coerced + " = '' + " + $data + "; else if (" + $data + " === null) " + $coerced + " = ''; ";
                } else if ($type == "number" || $type == "integer") {
                  out += " else if (" + $dataType + " == 'boolean' || " + $data + " === null || (" + $dataType + " == 'string' && " + $data + " && " + $data + " == +" + $data + " ";
                  if ($type == "integer") {
                    out += " && !(" + $data + " % 1)";
                  }
                  out += ")) " + $coerced + " = +" + $data + "; ";
                } else if ($type == "boolean") {
                  out += " else if (" + $data + " === 'false' || " + $data + " === 0 || " + $data + " === null) " + $coerced + " = false; else if (" + $data + " === 'true' || " + $data + " === 1) " + $coerced + " = true; ";
                } else if ($type == "null") {
                  out += " else if (" + $data + " === '' || " + $data + " === 0 || " + $data + " === false) " + $coerced + " = null; ";
                } else if (it.opts.coerceTypes == "array" && $type == "array") {
                  out += " else if (" + $dataType + " == 'string' || " + $dataType + " == 'number' || " + $dataType + " == 'boolean' || " + $data + " == null) " + $coerced + " = [" + $data + "]; ";
                }
              }
            }
            out += " else {   ";
            var $$outStack = $$outStack || [];
            $$outStack.push(out);
            out = "";
            if (it.createErrors !== false) {
              out += " { keyword: '" + ($errorKeyword || "type") + "' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { type: '";
              if ($typeIsArray) {
                out += "" + $typeSchema.join(",");
              } else {
                out += "" + $typeSchema;
              }
              out += "' } ";
              if (it.opts.messages !== false) {
                out += " , message: 'should be ";
                if ($typeIsArray) {
                  out += "" + $typeSchema.join(",");
                } else {
                  out += "" + $typeSchema;
                }
                out += "' ";
              }
              if (it.opts.verbose) {
                out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
              }
              out += " } ";
            } else {
              out += " {} ";
            }
            var __err = out;
            out = $$outStack.pop();
            if (!it.compositeRule && $breakOnError) {
              if (it.async) {
                out += " throw new ValidationError([" + __err + "]); ";
              } else {
                out += " validate.errors = [" + __err + "]; return false; ";
              }
            } else {
              out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
            }
            out += " } if (" + $coerced + " !== undefined) {  ";
            var $parentData = $dataLvl ? "data" + ($dataLvl - 1 || "") : "parentData", $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : "parentDataProperty";
            out += " " + $data + " = " + $coerced + "; ";
            if (!$dataLvl) {
              out += "if (" + $parentData + " !== undefined)";
            }
            out += " " + $parentData + "[" + $parentDataProperty + "] = " + $coerced + "; } ";
          } else {
            var $$outStack = $$outStack || [];
            $$outStack.push(out);
            out = "";
            if (it.createErrors !== false) {
              out += " { keyword: '" + ($errorKeyword || "type") + "' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { type: '";
              if ($typeIsArray) {
                out += "" + $typeSchema.join(",");
              } else {
                out += "" + $typeSchema;
              }
              out += "' } ";
              if (it.opts.messages !== false) {
                out += " , message: 'should be ";
                if ($typeIsArray) {
                  out += "" + $typeSchema.join(",");
                } else {
                  out += "" + $typeSchema;
                }
                out += "' ";
              }
              if (it.opts.verbose) {
                out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
              }
              out += " } ";
            } else {
              out += " {} ";
            }
            var __err = out;
            out = $$outStack.pop();
            if (!it.compositeRule && $breakOnError) {
              if (it.async) {
                out += " throw new ValidationError([" + __err + "]); ";
              } else {
                out += " validate.errors = [" + __err + "]; return false; ";
              }
            } else {
              out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
            }
          }
          out += " } ";
        }
      }
      if (it.schema.$ref && !$refKeywords) {
        out += " " + it.RULES.all.$ref.code(it, "$ref") + " ";
        if ($breakOnError) {
          out += " } if (errors === ";
          if ($top) {
            out += "0";
          } else {
            out += "errs_" + $lvl;
          }
          out += ") { ";
          $closingBraces2 += "}";
        }
      } else {
        var arr2 = it.RULES;
        if (arr2) {
          var $rulesGroup, i2 = -1, l2 = arr2.length - 1;
          while (i2 < l2) {
            $rulesGroup = arr2[i2 += 1];
            if ($shouldUseGroup($rulesGroup)) {
              if ($rulesGroup.type) {
                out += " if (" + it.util.checkDataType($rulesGroup.type, $data, it.opts.strictNumbers) + ") { ";
              }
              if (it.opts.useDefaults) {
                if ($rulesGroup.type == "object" && it.schema.properties) {
                  var $schema2 = it.schema.properties, $schemaKeys = Object.keys($schema2);
                  var arr3 = $schemaKeys;
                  if (arr3) {
                    var $propertyKey, i3 = -1, l3 = arr3.length - 1;
                    while (i3 < l3) {
                      $propertyKey = arr3[i3 += 1];
                      var $sch = $schema2[$propertyKey];
                      if ($sch.default !== void 0) {
                        var $passData = $data + it.util.getProperty($propertyKey);
                        if (it.compositeRule) {
                          if (it.opts.strictDefaults) {
                            var $defaultMsg = "default is ignored for: " + $passData;
                            if (it.opts.strictDefaults === "log") it.logger.warn($defaultMsg);
                            else throw new Error($defaultMsg);
                          }
                        } else {
                          out += " if (" + $passData + " === undefined ";
                          if (it.opts.useDefaults == "empty") {
                            out += " || " + $passData + " === null || " + $passData + " === '' ";
                          }
                          out += " ) " + $passData + " = ";
                          if (it.opts.useDefaults == "shared") {
                            out += " " + it.useDefault($sch.default) + " ";
                          } else {
                            out += " " + JSON.stringify($sch.default) + " ";
                          }
                          out += "; ";
                        }
                      }
                    }
                  }
                } else if ($rulesGroup.type == "array" && Array.isArray(it.schema.items)) {
                  var arr4 = it.schema.items;
                  if (arr4) {
                    var $sch, $i = -1, l4 = arr4.length - 1;
                    while ($i < l4) {
                      $sch = arr4[$i += 1];
                      if ($sch.default !== void 0) {
                        var $passData = $data + "[" + $i + "]";
                        if (it.compositeRule) {
                          if (it.opts.strictDefaults) {
                            var $defaultMsg = "default is ignored for: " + $passData;
                            if (it.opts.strictDefaults === "log") it.logger.warn($defaultMsg);
                            else throw new Error($defaultMsg);
                          }
                        } else {
                          out += " if (" + $passData + " === undefined ";
                          if (it.opts.useDefaults == "empty") {
                            out += " || " + $passData + " === null || " + $passData + " === '' ";
                          }
                          out += " ) " + $passData + " = ";
                          if (it.opts.useDefaults == "shared") {
                            out += " " + it.useDefault($sch.default) + " ";
                          } else {
                            out += " " + JSON.stringify($sch.default) + " ";
                          }
                          out += "; ";
                        }
                      }
                    }
                  }
                }
              }
              var arr5 = $rulesGroup.rules;
              if (arr5) {
                var $rule, i5 = -1, l5 = arr5.length - 1;
                while (i5 < l5) {
                  $rule = arr5[i5 += 1];
                  if ($shouldUseRule($rule)) {
                    var $code = $rule.code(it, $rule.keyword, $rulesGroup.type);
                    if ($code) {
                      out += " " + $code + " ";
                      if ($breakOnError) {
                        $closingBraces1 += "}";
                      }
                    }
                  }
                }
              }
              if ($breakOnError) {
                out += " " + $closingBraces1 + " ";
                $closingBraces1 = "";
              }
              if ($rulesGroup.type) {
                out += " } ";
                if ($typeSchema && $typeSchema === $rulesGroup.type && !$coerceToTypes) {
                  out += " else { ";
                  var $schemaPath = it.schemaPath + ".type", $errSchemaPath = it.errSchemaPath + "/type";
                  var $$outStack = $$outStack || [];
                  $$outStack.push(out);
                  out = "";
                  if (it.createErrors !== false) {
                    out += " { keyword: '" + ($errorKeyword || "type") + "' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { type: '";
                    if ($typeIsArray) {
                      out += "" + $typeSchema.join(",");
                    } else {
                      out += "" + $typeSchema;
                    }
                    out += "' } ";
                    if (it.opts.messages !== false) {
                      out += " , message: 'should be ";
                      if ($typeIsArray) {
                        out += "" + $typeSchema.join(",");
                      } else {
                        out += "" + $typeSchema;
                      }
                      out += "' ";
                    }
                    if (it.opts.verbose) {
                      out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
                    }
                    out += " } ";
                  } else {
                    out += " {} ";
                  }
                  var __err = out;
                  out = $$outStack.pop();
                  if (!it.compositeRule && $breakOnError) {
                    if (it.async) {
                      out += " throw new ValidationError([" + __err + "]); ";
                    } else {
                      out += " validate.errors = [" + __err + "]; return false; ";
                    }
                  } else {
                    out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
                  }
                  out += " } ";
                }
              }
              if ($breakOnError) {
                out += " if (errors === ";
                if ($top) {
                  out += "0";
                } else {
                  out += "errs_" + $lvl;
                }
                out += ") { ";
                $closingBraces2 += "}";
              }
            }
          }
        }
      }
      if ($breakOnError) {
        out += " " + $closingBraces2 + " ";
      }
      if ($top) {
        if ($async) {
          out += " if (errors === 0) return data;           ";
          out += " else throw new ValidationError(vErrors); ";
        } else {
          out += " validate.errors = vErrors; ";
          out += " return errors === 0;       ";
        }
        out += " }; return validate;";
      } else {
        out += " var " + $valid + " = errors === errs_" + $lvl + ";";
      }
      function $shouldUseGroup($rulesGroup2) {
        var rules2 = $rulesGroup2.rules;
        for (var i = 0; i < rules2.length; i++)
          if ($shouldUseRule(rules2[i])) return true;
      }
      function $shouldUseRule($rule2) {
        return it.schema[$rule2.keyword] !== void 0 || $rule2.implements && $ruleImplementsSomeKeyword($rule2);
      }
      function $ruleImplementsSomeKeyword($rule2) {
        var impl = $rule2.implements;
        for (var i = 0; i < impl.length; i++)
          if (it.schema[impl[i]] !== void 0) return true;
      }
      return out;
    };
    return validate;
  }
  var compile_1;
  var hasRequiredCompile;
  function requireCompile() {
    if (hasRequiredCompile) return compile_1;
    hasRequiredCompile = 1;
    var resolve = requireResolve(), util2 = requireUtil(), errorClasses = requireError_classes(), stableStringify = requireFastJsonStableStringify();
    var validateGenerator = requireValidate();
    var ucs2length2 = util2.ucs2length;
    var equal = requireFastDeepEqual();
    var ValidationError = errorClasses.Validation;
    compile_1 = compile;
    function compile(schema, root, localRefs, baseId) {
      var self = this, opts = this._opts, refVal = [void 0], refs = {}, patterns = [], patternsHash = {}, defaults = [], defaultsHash = {}, customRules = [];
      root = root || { schema, refVal, refs };
      var c = checkCompiling.call(this, schema, root, baseId);
      var compilation = this._compilations[c.index];
      if (c.compiling) return compilation.callValidate = callValidate;
      var formats = this._formats;
      var RULES = this.RULES;
      try {
        var v = localCompile(schema, root, localRefs, baseId);
        compilation.validate = v;
        var cv = compilation.callValidate;
        if (cv) {
          cv.schema = v.schema;
          cv.errors = null;
          cv.refs = v.refs;
          cv.refVal = v.refVal;
          cv.root = v.root;
          cv.$async = v.$async;
          if (opts.sourceCode) cv.source = v.source;
        }
        return v;
      } finally {
        endCompiling.call(this, schema, root, baseId);
      }
      function callValidate() {
        var validate2 = compilation.validate;
        var result = validate2.apply(this, arguments);
        callValidate.errors = validate2.errors;
        return result;
      }
      function localCompile(_schema, _root, localRefs2, baseId2) {
        var isRoot = !_root || _root && _root.schema == _schema;
        if (_root.schema != root.schema)
          return compile.call(self, _schema, _root, localRefs2, baseId2);
        var $async = _schema.$async === true;
        var sourceCode = validateGenerator({
          isTop: true,
          schema: _schema,
          isRoot,
          baseId: baseId2,
          root: _root,
          schemaPath: "",
          errSchemaPath: "#",
          errorPath: '""',
          MissingRefError: errorClasses.MissingRef,
          RULES,
          validate: validateGenerator,
          util: util2,
          resolve,
          resolveRef,
          usePattern,
          useDefault,
          useCustomRule,
          opts,
          formats,
          logger: self.logger,
          self
        });
        sourceCode = vars(refVal, refValCode) + vars(patterns, patternCode) + vars(defaults, defaultCode) + vars(customRules, customRuleCode) + sourceCode;
        if (opts.processCode) sourceCode = opts.processCode(sourceCode, _schema);
        var validate2;
        try {
          var makeValidate = new Function(
            "self",
            "RULES",
            "formats",
            "root",
            "refVal",
            "defaults",
            "customRules",
            "equal",
            "ucs2length",
            "ValidationError",
            sourceCode
          );
          validate2 = makeValidate(
            self,
            RULES,
            formats,
            root,
            refVal,
            defaults,
            customRules,
            equal,
            ucs2length2,
            ValidationError
          );
          refVal[0] = validate2;
        } catch (e) {
          self.logger.error("Error compiling schema, function code:", sourceCode);
          throw e;
        }
        validate2.schema = _schema;
        validate2.errors = null;
        validate2.refs = refs;
        validate2.refVal = refVal;
        validate2.root = isRoot ? validate2 : _root;
        if ($async) validate2.$async = true;
        if (opts.sourceCode === true) {
          validate2.source = {
            code: sourceCode,
            patterns,
            defaults
          };
        }
        return validate2;
      }
      function resolveRef(baseId2, ref2, isRoot) {
        ref2 = resolve.url(baseId2, ref2);
        var refIndex = refs[ref2];
        var _refVal, refCode;
        if (refIndex !== void 0) {
          _refVal = refVal[refIndex];
          refCode = "refVal[" + refIndex + "]";
          return resolvedRef(_refVal, refCode);
        }
        if (!isRoot && root.refs) {
          var rootRefId = root.refs[ref2];
          if (rootRefId !== void 0) {
            _refVal = root.refVal[rootRefId];
            refCode = addLocalRef(ref2, _refVal);
            return resolvedRef(_refVal, refCode);
          }
        }
        refCode = addLocalRef(ref2);
        var v2 = resolve.call(self, localCompile, root, ref2);
        if (v2 === void 0) {
          var localSchema = localRefs && localRefs[ref2];
          if (localSchema) {
            v2 = resolve.inlineRef(localSchema, opts.inlineRefs) ? localSchema : compile.call(self, localSchema, root, localRefs, baseId2);
          }
        }
        if (v2 === void 0) {
          removeLocalRef(ref2);
        } else {
          replaceLocalRef(ref2, v2);
          return resolvedRef(v2, refCode);
        }
      }
      function addLocalRef(ref2, v2) {
        var refId = refVal.length;
        refVal[refId] = v2;
        refs[ref2] = refId;
        return "refVal" + refId;
      }
      function removeLocalRef(ref2) {
        delete refs[ref2];
      }
      function replaceLocalRef(ref2, v2) {
        var refId = refs[ref2];
        refVal[refId] = v2;
      }
      function resolvedRef(refVal2, code) {
        return typeof refVal2 == "object" || typeof refVal2 == "boolean" ? { code, schema: refVal2, inline: true } : { code, $async: refVal2 && !!refVal2.$async };
      }
      function usePattern(regexStr) {
        var index2 = patternsHash[regexStr];
        if (index2 === void 0) {
          index2 = patternsHash[regexStr] = patterns.length;
          patterns[index2] = regexStr;
        }
        return "pattern" + index2;
      }
      function useDefault(value) {
        switch (typeof value) {
          case "boolean":
          case "number":
            return "" + value;
          case "string":
            return util2.toQuotedString(value);
          case "object":
            if (value === null) return "null";
            var valueStr = stableStringify(value);
            var index2 = defaultsHash[valueStr];
            if (index2 === void 0) {
              index2 = defaultsHash[valueStr] = defaults.length;
              defaults[index2] = value;
            }
            return "default" + index2;
        }
      }
      function useCustomRule(rule, schema2, parentSchema, it) {
        if (self._opts.validateSchema !== false) {
          var deps = rule.definition.dependencies;
          if (deps && !deps.every(function(keyword2) {
            return Object.prototype.hasOwnProperty.call(parentSchema, keyword2);
          }))
            throw new Error("parent schema must have all required keywords: " + deps.join(","));
          var validateSchema = rule.definition.validateSchema;
          if (validateSchema) {
            var valid = validateSchema(schema2);
            if (!valid) {
              var message = "keyword schema is invalid: " + self.errorsText(validateSchema.errors);
              if (self._opts.validateSchema == "log") self.logger.error(message);
              else throw new Error(message);
            }
          }
        }
        var compile2 = rule.definition.compile, inline = rule.definition.inline, macro = rule.definition.macro;
        var validate2;
        if (compile2) {
          validate2 = compile2.call(self, schema2, parentSchema, it);
        } else if (macro) {
          validate2 = macro.call(self, schema2, parentSchema, it);
          if (opts.validateSchema !== false) self.validateSchema(validate2, true);
        } else if (inline) {
          validate2 = inline.call(self, it, rule.keyword, schema2, parentSchema);
        } else {
          validate2 = rule.definition.validate;
          if (!validate2) return;
        }
        if (validate2 === void 0)
          throw new Error('custom keyword "' + rule.keyword + '"failed to compile');
        var index2 = customRules.length;
        customRules[index2] = validate2;
        return {
          code: "customRule" + index2,
          validate: validate2
        };
      }
    }
    function checkCompiling(schema, root, baseId) {
      var index2 = compIndex.call(this, schema, root, baseId);
      if (index2 >= 0) return { index: index2, compiling: true };
      index2 = this._compilations.length;
      this._compilations[index2] = {
        schema,
        root,
        baseId
      };
      return { index: index2, compiling: false };
    }
    function endCompiling(schema, root, baseId) {
      var i = compIndex.call(this, schema, root, baseId);
      if (i >= 0) this._compilations.splice(i, 1);
    }
    function compIndex(schema, root, baseId) {
      for (var i = 0; i < this._compilations.length; i++) {
        var c = this._compilations[i];
        if (c.schema == schema && c.root == root && c.baseId == baseId) return i;
      }
      return -1;
    }
    function patternCode(i, patterns) {
      return "var pattern" + i + " = new RegExp(" + util2.toQuotedString(patterns[i]) + ");";
    }
    function defaultCode(i) {
      return "var default" + i + " = defaults[" + i + "];";
    }
    function refValCode(i, refVal) {
      return refVal[i] === void 0 ? "" : "var refVal" + i + " = refVal[" + i + "];";
    }
    function customRuleCode(i) {
      return "var customRule" + i + " = customRules[" + i + "];";
    }
    function vars(arr, statement) {
      if (!arr.length) return "";
      var code = "";
      for (var i = 0; i < arr.length; i++)
        code += statement(i, arr);
      return code;
    }
    return compile_1;
  }
  var cache = { exports: {} };
  var hasRequiredCache;
  function requireCache() {
    if (hasRequiredCache) return cache.exports;
    hasRequiredCache = 1;
    var Cache = cache.exports = function Cache2() {
      this._cache = {};
    };
    Cache.prototype.put = function Cache_put(key, value) {
      this._cache[key] = value;
    };
    Cache.prototype.get = function Cache_get(key) {
      return this._cache[key];
    };
    Cache.prototype.del = function Cache_del(key) {
      delete this._cache[key];
    };
    Cache.prototype.clear = function Cache_clear() {
      this._cache = {};
    };
    return cache.exports;
  }
  var formats_1;
  var hasRequiredFormats;
  function requireFormats() {
    if (hasRequiredFormats) return formats_1;
    hasRequiredFormats = 1;
    var util2 = requireUtil();
    var DATE = /^(\d\d\d\d)-(\d\d)-(\d\d)$/;
    var DAYS = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
    var TIME = /^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;
    var HOSTNAME = /^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i;
    var URI = /^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;
    var URIREF = /^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;
    var URITEMPLATE = /^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i;
    var URL2 = /^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i;
    var UUID = /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i;
    var JSON_POINTER = /^(?:\/(?:[^~/]|~0|~1)*)*$/;
    var JSON_POINTER_URI_FRAGMENT = /^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;
    var RELATIVE_JSON_POINTER = /^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;
    formats_1 = formats;
    function formats(mode) {
      mode = mode == "full" ? "full" : "fast";
      return util2.copy(formats[mode]);
    }
    formats.fast = {
      // date: http://tools.ietf.org/html/rfc3339#section-5.6
      date: /^\d\d\d\d-[0-1]\d-[0-3]\d$/,
      // date-time: http://tools.ietf.org/html/rfc3339#section-5.6
      time: /^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,
      "date-time": /^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,
      // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js
      uri: /^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,
      "uri-reference": /^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,
      "uri-template": URITEMPLATE,
      url: URL2,
      // email (sources from jsen validator):
      // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363
      // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'willful violation')
      email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,
      hostname: HOSTNAME,
      // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html
      ipv4: /^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,
      // optimized http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses
      ipv6: /^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,
      regex,
      // uuid: http://tools.ietf.org/html/rfc4122
      uuid: UUID,
      // JSON-pointer: https://tools.ietf.org/html/rfc6901
      // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A
      "json-pointer": JSON_POINTER,
      "json-pointer-uri-fragment": JSON_POINTER_URI_FRAGMENT,
      // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00
      "relative-json-pointer": RELATIVE_JSON_POINTER
    };
    formats.full = {
      date,
      time,
      "date-time": date_time,
      uri,
      "uri-reference": URIREF,
      "uri-template": URITEMPLATE,
      url: URL2,
      email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,
      hostname: HOSTNAME,
      ipv4: /^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,
      ipv6: /^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,
      regex,
      uuid: UUID,
      "json-pointer": JSON_POINTER,
      "json-pointer-uri-fragment": JSON_POINTER_URI_FRAGMENT,
      "relative-json-pointer": RELATIVE_JSON_POINTER
    };
    function isLeapYear(year) {
      return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);
    }
    function date(str) {
      var matches = str.match(DATE);
      if (!matches) return false;
      var year = +matches[1];
      var month = +matches[2];
      var day = +matches[3];
      return month >= 1 && month <= 12 && day >= 1 && day <= (month == 2 && isLeapYear(year) ? 29 : DAYS[month]);
    }
    function time(str, full) {
      var matches = str.match(TIME);
      if (!matches) return false;
      var hour = matches[1];
      var minute = matches[2];
      var second = matches[3];
      var timeZone = matches[5];
      return (hour <= 23 && minute <= 59 && second <= 59 || hour == 23 && minute == 59 && second == 60) && (!full || timeZone);
    }
    var DATE_TIME_SEPARATOR = /t|\s/i;
    function date_time(str) {
      var dateTime = str.split(DATE_TIME_SEPARATOR);
      return dateTime.length == 2 && date(dateTime[0]) && time(dateTime[1], true);
    }
    var NOT_URI_FRAGMENT = /\/|:/;
    function uri(str) {
      return NOT_URI_FRAGMENT.test(str) && URI.test(str);
    }
    var Z_ANCHOR = /[^\\]\\Z/;
    function regex(str) {
      if (Z_ANCHOR.test(str)) return false;
      try {
        new RegExp(str);
        return true;
      } catch (e) {
        return false;
      }
    }
    return formats_1;
  }
  var ref;
  var hasRequiredRef;
  function requireRef() {
    if (hasRequiredRef) return ref;
    hasRequiredRef = 1;
    ref = function generate_ref(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $valid = "valid" + $lvl;
      var $async, $refCode;
      if ($schema2 == "#" || $schema2 == "#/") {
        if (it.isRoot) {
          $async = it.async;
          $refCode = "validate";
        } else {
          $async = it.root.schema.$async === true;
          $refCode = "root.refVal[0]";
        }
      } else {
        var $refVal = it.resolveRef(it.baseId, $schema2, it.isRoot);
        if ($refVal === void 0) {
          var $message = it.MissingRefError.message(it.baseId, $schema2);
          if (it.opts.missingRefs == "fail") {
            it.logger.error($message);
            var $$outStack = $$outStack || [];
            $$outStack.push(out);
            out = "";
            if (it.createErrors !== false) {
              out += " { keyword: '$ref' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { ref: '" + it.util.escapeQuotes($schema2) + "' } ";
              if (it.opts.messages !== false) {
                out += " , message: 'can\\'t resolve reference " + it.util.escapeQuotes($schema2) + "' ";
              }
              if (it.opts.verbose) {
                out += " , schema: " + it.util.toQuotedString($schema2) + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
              }
              out += " } ";
            } else {
              out += " {} ";
            }
            var __err = out;
            out = $$outStack.pop();
            if (!it.compositeRule && $breakOnError) {
              if (it.async) {
                out += " throw new ValidationError([" + __err + "]); ";
              } else {
                out += " validate.errors = [" + __err + "]; return false; ";
              }
            } else {
              out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
            }
            if ($breakOnError) {
              out += " if (false) { ";
            }
          } else if (it.opts.missingRefs == "ignore") {
            it.logger.warn($message);
            if ($breakOnError) {
              out += " if (true) { ";
            }
          } else {
            throw new it.MissingRefError(it.baseId, $schema2, $message);
          }
        } else if ($refVal.inline) {
          var $it = it.util.copy(it);
          $it.level++;
          var $nextValid = "valid" + $it.level;
          $it.schema = $refVal.schema;
          $it.schemaPath = "";
          $it.errSchemaPath = $schema2;
          var $code = it.validate($it).replace(/validate\.schema/g, $refVal.code);
          out += " " + $code + " ";
          if ($breakOnError) {
            out += " if (" + $nextValid + ") { ";
          }
        } else {
          $async = $refVal.$async === true || it.async && $refVal.$async !== false;
          $refCode = $refVal.code;
        }
      }
      if ($refCode) {
        var $$outStack = $$outStack || [];
        $$outStack.push(out);
        out = "";
        if (it.opts.passContext) {
          out += " " + $refCode + ".call(this, ";
        } else {
          out += " " + $refCode + "( ";
        }
        out += " " + $data + ", (dataPath || '')";
        if (it.errorPath != '""') {
          out += " + " + it.errorPath;
        }
        var $parentData = $dataLvl ? "data" + ($dataLvl - 1 || "") : "parentData", $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : "parentDataProperty";
        out += " , " + $parentData + " , " + $parentDataProperty + ", rootData)  ";
        var __callValidate = out;
        out = $$outStack.pop();
        if ($async) {
          if (!it.async) throw new Error("async schema referenced by sync schema");
          if ($breakOnError) {
            out += " var " + $valid + "; ";
          }
          out += " try { await " + __callValidate + "; ";
          if ($breakOnError) {
            out += " " + $valid + " = true; ";
          }
          out += " } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ";
          if ($breakOnError) {
            out += " " + $valid + " = false; ";
          }
          out += " } ";
          if ($breakOnError) {
            out += " if (" + $valid + ") { ";
          }
        } else {
          out += " if (!" + __callValidate + ") { if (vErrors === null) vErrors = " + $refCode + ".errors; else vErrors = vErrors.concat(" + $refCode + ".errors); errors = vErrors.length; } ";
          if ($breakOnError) {
            out += " else { ";
          }
        }
      }
      return out;
    };
    return ref;
  }
  var allOf;
  var hasRequiredAllOf;
  function requireAllOf() {
    if (hasRequiredAllOf) return allOf;
    hasRequiredAllOf = 1;
    allOf = function generate_allOf(it, $keyword, $ruleType) {
      var out = " ";
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $it = it.util.copy(it);
      var $closingBraces = "";
      $it.level++;
      var $nextValid = "valid" + $it.level;
      var $currentBaseId = $it.baseId, $allSchemasEmpty = true;
      var arr1 = $schema2;
      if (arr1) {
        var $sch, $i = -1, l1 = arr1.length - 1;
        while ($i < l1) {
          $sch = arr1[$i += 1];
          if (it.opts.strictKeywords ? typeof $sch == "object" && Object.keys($sch).length > 0 || $sch === false : it.util.schemaHasRules($sch, it.RULES.all)) {
            $allSchemasEmpty = false;
            $it.schema = $sch;
            $it.schemaPath = $schemaPath + "[" + $i + "]";
            $it.errSchemaPath = $errSchemaPath + "/" + $i;
            out += "  " + it.validate($it) + " ";
            $it.baseId = $currentBaseId;
            if ($breakOnError) {
              out += " if (" + $nextValid + ") { ";
              $closingBraces += "}";
            }
          }
        }
      }
      if ($breakOnError) {
        if ($allSchemasEmpty) {
          out += " if (true) { ";
        } else {
          out += " " + $closingBraces.slice(0, -1) + " ";
        }
      }
      return out;
    };
    return allOf;
  }
  var anyOf;
  var hasRequiredAnyOf;
  function requireAnyOf() {
    if (hasRequiredAnyOf) return anyOf;
    hasRequiredAnyOf = 1;
    anyOf = function generate_anyOf(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $valid = "valid" + $lvl;
      var $errs = "errs__" + $lvl;
      var $it = it.util.copy(it);
      var $closingBraces = "";
      $it.level++;
      var $nextValid = "valid" + $it.level;
      var $noEmptySchema = $schema2.every(function($sch2) {
        return it.opts.strictKeywords ? typeof $sch2 == "object" && Object.keys($sch2).length > 0 || $sch2 === false : it.util.schemaHasRules($sch2, it.RULES.all);
      });
      if ($noEmptySchema) {
        var $currentBaseId = $it.baseId;
        out += " var " + $errs + " = errors; var " + $valid + " = false;  ";
        var $wasComposite = it.compositeRule;
        it.compositeRule = $it.compositeRule = true;
        var arr1 = $schema2;
        if (arr1) {
          var $sch, $i = -1, l1 = arr1.length - 1;
          while ($i < l1) {
            $sch = arr1[$i += 1];
            $it.schema = $sch;
            $it.schemaPath = $schemaPath + "[" + $i + "]";
            $it.errSchemaPath = $errSchemaPath + "/" + $i;
            out += "  " + it.validate($it) + " ";
            $it.baseId = $currentBaseId;
            out += " " + $valid + " = " + $valid + " || " + $nextValid + "; if (!" + $valid + ") { ";
            $closingBraces += "}";
          }
        }
        it.compositeRule = $it.compositeRule = $wasComposite;
        out += " " + $closingBraces + " if (!" + $valid + ") {   var err =   ";
        if (it.createErrors !== false) {
          out += " { keyword: 'anyOf' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: {} ";
          if (it.opts.messages !== false) {
            out += " , message: 'should match some schema in anyOf' ";
          }
          if (it.opts.verbose) {
            out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
          }
          out += " } ";
        } else {
          out += " {} ";
        }
        out += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
        if (!it.compositeRule && $breakOnError) {
          if (it.async) {
            out += " throw new ValidationError(vErrors); ";
          } else {
            out += " validate.errors = vErrors; return false; ";
          }
        }
        out += " } else {  errors = " + $errs + "; if (vErrors !== null) { if (" + $errs + ") vErrors.length = " + $errs + "; else vErrors = null; } ";
        if (it.opts.allErrors) {
          out += " } ";
        }
      } else {
        if ($breakOnError) {
          out += " if (true) { ";
        }
      }
      return out;
    };
    return anyOf;
  }
  var comment;
  var hasRequiredComment;
  function requireComment() {
    if (hasRequiredComment) return comment;
    hasRequiredComment = 1;
    comment = function generate_comment(it, $keyword, $ruleType) {
      var out = " ";
      var $schema2 = it.schema[$keyword];
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      !it.opts.allErrors;
      var $comment = it.util.toQuotedString($schema2);
      if (it.opts.$comment === true) {
        out += " console.log(" + $comment + ");";
      } else if (typeof it.opts.$comment == "function") {
        out += " self._opts.$comment(" + $comment + ", " + it.util.toQuotedString($errSchemaPath) + ", validate.root.schema);";
      }
      return out;
    };
    return comment;
  }
  var _const;
  var hasRequired_const;
  function require_const() {
    if (hasRequired_const) return _const;
    hasRequired_const = 1;
    _const = function generate_const(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $valid = "valid" + $lvl;
      var $isData = it.opts.$data && $schema2 && $schema2.$data;
      if ($isData) {
        out += " var schema" + $lvl + " = " + it.util.getData($schema2.$data, $dataLvl, it.dataPathArr) + "; ";
      }
      if (!$isData) {
        out += " var schema" + $lvl + " = validate.schema" + $schemaPath + ";";
      }
      out += "var " + $valid + " = equal(" + $data + ", schema" + $lvl + "); if (!" + $valid + ") {   ";
      var $$outStack = $$outStack || [];
      $$outStack.push(out);
      out = "";
      if (it.createErrors !== false) {
        out += " { keyword: 'const' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { allowedValue: schema" + $lvl + " } ";
        if (it.opts.messages !== false) {
          out += " , message: 'should be equal to constant' ";
        }
        if (it.opts.verbose) {
          out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
        }
        out += " } ";
      } else {
        out += " {} ";
      }
      var __err = out;
      out = $$outStack.pop();
      if (!it.compositeRule && $breakOnError) {
        if (it.async) {
          out += " throw new ValidationError([" + __err + "]); ";
        } else {
          out += " validate.errors = [" + __err + "]; return false; ";
        }
      } else {
        out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
      }
      out += " }";
      if ($breakOnError) {
        out += " else { ";
      }
      return out;
    };
    return _const;
  }
  var contains;
  var hasRequiredContains;
  function requireContains() {
    if (hasRequiredContains) return contains;
    hasRequiredContains = 1;
    contains = function generate_contains(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $valid = "valid" + $lvl;
      var $errs = "errs__" + $lvl;
      var $it = it.util.copy(it);
      var $closingBraces = "";
      $it.level++;
      var $nextValid = "valid" + $it.level;
      var $idx = "i" + $lvl, $dataNxt = $it.dataLevel = it.dataLevel + 1, $nextData = "data" + $dataNxt, $currentBaseId = it.baseId, $nonEmptySchema = it.opts.strictKeywords ? typeof $schema2 == "object" && Object.keys($schema2).length > 0 || $schema2 === false : it.util.schemaHasRules($schema2, it.RULES.all);
      out += "var " + $errs + " = errors;var " + $valid + ";";
      if ($nonEmptySchema) {
        var $wasComposite = it.compositeRule;
        it.compositeRule = $it.compositeRule = true;
        $it.schema = $schema2;
        $it.schemaPath = $schemaPath;
        $it.errSchemaPath = $errSchemaPath;
        out += " var " + $nextValid + " = false; for (var " + $idx + " = 0; " + $idx + " < " + $data + ".length; " + $idx + "++) { ";
        $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);
        var $passData = $data + "[" + $idx + "]";
        $it.dataPathArr[$dataNxt] = $idx;
        var $code = it.validate($it);
        $it.baseId = $currentBaseId;
        if (it.util.varOccurences($code, $nextData) < 2) {
          out += " " + it.util.varReplace($code, $nextData, $passData) + " ";
        } else {
          out += " var " + $nextData + " = " + $passData + "; " + $code + " ";
        }
        out += " if (" + $nextValid + ") break; }  ";
        it.compositeRule = $it.compositeRule = $wasComposite;
        out += " " + $closingBraces + " if (!" + $nextValid + ") {";
      } else {
        out += " if (" + $data + ".length == 0) {";
      }
      var $$outStack = $$outStack || [];
      $$outStack.push(out);
      out = "";
      if (it.createErrors !== false) {
        out += " { keyword: 'contains' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: {} ";
        if (it.opts.messages !== false) {
          out += " , message: 'should contain a valid item' ";
        }
        if (it.opts.verbose) {
          out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
        }
        out += " } ";
      } else {
        out += " {} ";
      }
      var __err = out;
      out = $$outStack.pop();
      if (!it.compositeRule && $breakOnError) {
        if (it.async) {
          out += " throw new ValidationError([" + __err + "]); ";
        } else {
          out += " validate.errors = [" + __err + "]; return false; ";
        }
      } else {
        out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
      }
      out += " } else { ";
      if ($nonEmptySchema) {
        out += "  errors = " + $errs + "; if (vErrors !== null) { if (" + $errs + ") vErrors.length = " + $errs + "; else vErrors = null; } ";
      }
      if (it.opts.allErrors) {
        out += " } ";
      }
      return out;
    };
    return contains;
  }
  var dependencies;
  var hasRequiredDependencies;
  function requireDependencies() {
    if (hasRequiredDependencies) return dependencies;
    hasRequiredDependencies = 1;
    dependencies = function generate_dependencies(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $errs = "errs__" + $lvl;
      var $it = it.util.copy(it);
      var $closingBraces = "";
      $it.level++;
      var $nextValid = "valid" + $it.level;
      var $schemaDeps = {}, $propertyDeps = {}, $ownProperties = it.opts.ownProperties;
      for ($property in $schema2) {
        if ($property == "__proto__") continue;
        var $sch = $schema2[$property];
        var $deps = Array.isArray($sch) ? $propertyDeps : $schemaDeps;
        $deps[$property] = $sch;
      }
      out += "var " + $errs + " = errors;";
      var $currentErrorPath = it.errorPath;
      out += "var missing" + $lvl + ";";
      for (var $property in $propertyDeps) {
        $deps = $propertyDeps[$property];
        if ($deps.length) {
          out += " if ( " + $data + it.util.getProperty($property) + " !== undefined ";
          if ($ownProperties) {
            out += " && Object.prototype.hasOwnProperty.call(" + $data + ", '" + it.util.escapeQuotes($property) + "') ";
          }
          if ($breakOnError) {
            out += " && ( ";
            var arr1 = $deps;
            if (arr1) {
              var $propertyKey, $i = -1, l1 = arr1.length - 1;
              while ($i < l1) {
                $propertyKey = arr1[$i += 1];
                if ($i) {
                  out += " || ";
                }
                var $prop = it.util.getProperty($propertyKey), $useData = $data + $prop;
                out += " ( ( " + $useData + " === undefined ";
                if ($ownProperties) {
                  out += " || ! Object.prototype.hasOwnProperty.call(" + $data + ", '" + it.util.escapeQuotes($propertyKey) + "') ";
                }
                out += ") && (missing" + $lvl + " = " + it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop) + ") ) ";
              }
            }
            out += ")) {  ";
            var $propertyPath = "missing" + $lvl, $missingProperty = "' + " + $propertyPath + " + '";
            if (it.opts._errorDataPathProperty) {
              it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + " + " + $propertyPath;
            }
            var $$outStack = $$outStack || [];
            $$outStack.push(out);
            out = "";
            if (it.createErrors !== false) {
              out += " { keyword: 'dependencies' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { property: '" + it.util.escapeQuotes($property) + "', missingProperty: '" + $missingProperty + "', depsCount: " + $deps.length + ", deps: '" + it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(", ")) + "' } ";
              if (it.opts.messages !== false) {
                out += " , message: 'should have ";
                if ($deps.length == 1) {
                  out += "property " + it.util.escapeQuotes($deps[0]);
                } else {
                  out += "properties " + it.util.escapeQuotes($deps.join(", "));
                }
                out += " when property " + it.util.escapeQuotes($property) + " is present' ";
              }
              if (it.opts.verbose) {
                out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
              }
              out += " } ";
            } else {
              out += " {} ";
            }
            var __err = out;
            out = $$outStack.pop();
            if (!it.compositeRule && $breakOnError) {
              if (it.async) {
                out += " throw new ValidationError([" + __err + "]); ";
              } else {
                out += " validate.errors = [" + __err + "]; return false; ";
              }
            } else {
              out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
            }
          } else {
            out += " ) { ";
            var arr2 = $deps;
            if (arr2) {
              var $propertyKey, i2 = -1, l2 = arr2.length - 1;
              while (i2 < l2) {
                $propertyKey = arr2[i2 += 1];
                var $prop = it.util.getProperty($propertyKey), $missingProperty = it.util.escapeQuotes($propertyKey), $useData = $data + $prop;
                if (it.opts._errorDataPathProperty) {
                  it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);
                }
                out += " if ( " + $useData + " === undefined ";
                if ($ownProperties) {
                  out += " || ! Object.prototype.hasOwnProperty.call(" + $data + ", '" + it.util.escapeQuotes($propertyKey) + "') ";
                }
                out += ") {  var err =   ";
                if (it.createErrors !== false) {
                  out += " { keyword: 'dependencies' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { property: '" + it.util.escapeQuotes($property) + "', missingProperty: '" + $missingProperty + "', depsCount: " + $deps.length + ", deps: '" + it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(", ")) + "' } ";
                  if (it.opts.messages !== false) {
                    out += " , message: 'should have ";
                    if ($deps.length == 1) {
                      out += "property " + it.util.escapeQuotes($deps[0]);
                    } else {
                      out += "properties " + it.util.escapeQuotes($deps.join(", "));
                    }
                    out += " when property " + it.util.escapeQuotes($property) + " is present' ";
                  }
                  if (it.opts.verbose) {
                    out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
                  }
                  out += " } ";
                } else {
                  out += " {} ";
                }
                out += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ";
              }
            }
          }
          out += " }   ";
          if ($breakOnError) {
            $closingBraces += "}";
            out += " else { ";
          }
        }
      }
      it.errorPath = $currentErrorPath;
      var $currentBaseId = $it.baseId;
      for (var $property in $schemaDeps) {
        var $sch = $schemaDeps[$property];
        if (it.opts.strictKeywords ? typeof $sch == "object" && Object.keys($sch).length > 0 || $sch === false : it.util.schemaHasRules($sch, it.RULES.all)) {
          out += " " + $nextValid + " = true; if ( " + $data + it.util.getProperty($property) + " !== undefined ";
          if ($ownProperties) {
            out += " && Object.prototype.hasOwnProperty.call(" + $data + ", '" + it.util.escapeQuotes($property) + "') ";
          }
          out += ") { ";
          $it.schema = $sch;
          $it.schemaPath = $schemaPath + it.util.getProperty($property);
          $it.errSchemaPath = $errSchemaPath + "/" + it.util.escapeFragment($property);
          out += "  " + it.validate($it) + " ";
          $it.baseId = $currentBaseId;
          out += " }  ";
          if ($breakOnError) {
            out += " if (" + $nextValid + ") { ";
            $closingBraces += "}";
          }
        }
      }
      if ($breakOnError) {
        out += "   " + $closingBraces + " if (" + $errs + " == errors) {";
      }
      return out;
    };
    return dependencies;
  }
  var _enum;
  var hasRequired_enum;
  function require_enum() {
    if (hasRequired_enum) return _enum;
    hasRequired_enum = 1;
    _enum = function generate_enum(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $valid = "valid" + $lvl;
      var $isData = it.opts.$data && $schema2 && $schema2.$data;
      if ($isData) {
        out += " var schema" + $lvl + " = " + it.util.getData($schema2.$data, $dataLvl, it.dataPathArr) + "; ";
      }
      var $i = "i" + $lvl, $vSchema = "schema" + $lvl;
      if (!$isData) {
        out += " var " + $vSchema + " = validate.schema" + $schemaPath + ";";
      }
      out += "var " + $valid + ";";
      if ($isData) {
        out += " if (schema" + $lvl + " === undefined) " + $valid + " = true; else if (!Array.isArray(schema" + $lvl + ")) " + $valid + " = false; else {";
      }
      out += "" + $valid + " = false;for (var " + $i + "=0; " + $i + "<" + $vSchema + ".length; " + $i + "++) if (equal(" + $data + ", " + $vSchema + "[" + $i + "])) { " + $valid + " = true; break; }";
      if ($isData) {
        out += "  }  ";
      }
      out += " if (!" + $valid + ") {   ";
      var $$outStack = $$outStack || [];
      $$outStack.push(out);
      out = "";
      if (it.createErrors !== false) {
        out += " { keyword: 'enum' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { allowedValues: schema" + $lvl + " } ";
        if (it.opts.messages !== false) {
          out += " , message: 'should be equal to one of the allowed values' ";
        }
        if (it.opts.verbose) {
          out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
        }
        out += " } ";
      } else {
        out += " {} ";
      }
      var __err = out;
      out = $$outStack.pop();
      if (!it.compositeRule && $breakOnError) {
        if (it.async) {
          out += " throw new ValidationError([" + __err + "]); ";
        } else {
          out += " validate.errors = [" + __err + "]; return false; ";
        }
      } else {
        out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
      }
      out += " }";
      if ($breakOnError) {
        out += " else { ";
      }
      return out;
    };
    return _enum;
  }
  var format;
  var hasRequiredFormat;
  function requireFormat() {
    if (hasRequiredFormat) return format;
    hasRequiredFormat = 1;
    format = function generate_format(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      if (it.opts.format === false) {
        if ($breakOnError) {
          out += " if (true) { ";
        }
        return out;
      }
      var $isData = it.opts.$data && $schema2 && $schema2.$data, $schemaValue;
      if ($isData) {
        out += " var schema" + $lvl + " = " + it.util.getData($schema2.$data, $dataLvl, it.dataPathArr) + "; ";
        $schemaValue = "schema" + $lvl;
      } else {
        $schemaValue = $schema2;
      }
      var $unknownFormats = it.opts.unknownFormats, $allowUnknown = Array.isArray($unknownFormats);
      if ($isData) {
        var $format = "format" + $lvl, $isObject = "isObject" + $lvl, $formatType = "formatType" + $lvl;
        out += " var " + $format + " = formats[" + $schemaValue + "]; var " + $isObject + " = typeof " + $format + " == 'object' && !(" + $format + " instanceof RegExp) && " + $format + ".validate; var " + $formatType + " = " + $isObject + " && " + $format + ".type || 'string'; if (" + $isObject + ") { ";
        if (it.async) {
          out += " var async" + $lvl + " = " + $format + ".async; ";
        }
        out += " " + $format + " = " + $format + ".validate; } if (  ";
        if ($isData) {
          out += " (" + $schemaValue + " !== undefined && typeof " + $schemaValue + " != 'string') || ";
        }
        out += " (";
        if ($unknownFormats != "ignore") {
          out += " (" + $schemaValue + " && !" + $format + " ";
          if ($allowUnknown) {
            out += " && self._opts.unknownFormats.indexOf(" + $schemaValue + ") == -1 ";
          }
          out += ") || ";
        }
        out += " (" + $format + " && " + $formatType + " == '" + $ruleType + "' && !(typeof " + $format + " == 'function' ? ";
        if (it.async) {
          out += " (async" + $lvl + " ? await " + $format + "(" + $data + ") : " + $format + "(" + $data + ")) ";
        } else {
          out += " " + $format + "(" + $data + ") ";
        }
        out += " : " + $format + ".test(" + $data + "))))) {";
      } else {
        var $format = it.formats[$schema2];
        if (!$format) {
          if ($unknownFormats == "ignore") {
            it.logger.warn('unknown format "' + $schema2 + '" ignored in schema at path "' + it.errSchemaPath + '"');
            if ($breakOnError) {
              out += " if (true) { ";
            }
            return out;
          } else if ($allowUnknown && $unknownFormats.indexOf($schema2) >= 0) {
            if ($breakOnError) {
              out += " if (true) { ";
            }
            return out;
          } else {
            throw new Error('unknown format "' + $schema2 + '" is used in schema at path "' + it.errSchemaPath + '"');
          }
        }
        var $isObject = typeof $format == "object" && !($format instanceof RegExp) && $format.validate;
        var $formatType = $isObject && $format.type || "string";
        if ($isObject) {
          var $async = $format.async === true;
          $format = $format.validate;
        }
        if ($formatType != $ruleType) {
          if ($breakOnError) {
            out += " if (true) { ";
          }
          return out;
        }
        if ($async) {
          if (!it.async) throw new Error("async format in sync schema");
          var $formatRef = "formats" + it.util.getProperty($schema2) + ".validate";
          out += " if (!(await " + $formatRef + "(" + $data + "))) { ";
        } else {
          out += " if (! ";
          var $formatRef = "formats" + it.util.getProperty($schema2);
          if ($isObject) $formatRef += ".validate";
          if (typeof $format == "function") {
            out += " " + $formatRef + "(" + $data + ") ";
          } else {
            out += " " + $formatRef + ".test(" + $data + ") ";
          }
          out += ") { ";
        }
      }
      var $$outStack = $$outStack || [];
      $$outStack.push(out);
      out = "";
      if (it.createErrors !== false) {
        out += " { keyword: 'format' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { format:  ";
        if ($isData) {
          out += "" + $schemaValue;
        } else {
          out += "" + it.util.toQuotedString($schema2);
        }
        out += "  } ";
        if (it.opts.messages !== false) {
          out += ` , message: 'should match format "`;
          if ($isData) {
            out += "' + " + $schemaValue + " + '";
          } else {
            out += "" + it.util.escapeQuotes($schema2);
          }
          out += `"' `;
        }
        if (it.opts.verbose) {
          out += " , schema:  ";
          if ($isData) {
            out += "validate.schema" + $schemaPath;
          } else {
            out += "" + it.util.toQuotedString($schema2);
          }
          out += "         , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
        }
        out += " } ";
      } else {
        out += " {} ";
      }
      var __err = out;
      out = $$outStack.pop();
      if (!it.compositeRule && $breakOnError) {
        if (it.async) {
          out += " throw new ValidationError([" + __err + "]); ";
        } else {
          out += " validate.errors = [" + __err + "]; return false; ";
        }
      } else {
        out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
      }
      out += " } ";
      if ($breakOnError) {
        out += " else { ";
      }
      return out;
    };
    return format;
  }
  var _if;
  var hasRequired_if;
  function require_if() {
    if (hasRequired_if) return _if;
    hasRequired_if = 1;
    _if = function generate_if(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $valid = "valid" + $lvl;
      var $errs = "errs__" + $lvl;
      var $it = it.util.copy(it);
      $it.level++;
      var $nextValid = "valid" + $it.level;
      var $thenSch = it.schema["then"], $elseSch = it.schema["else"], $thenPresent = $thenSch !== void 0 && (it.opts.strictKeywords ? typeof $thenSch == "object" && Object.keys($thenSch).length > 0 || $thenSch === false : it.util.schemaHasRules($thenSch, it.RULES.all)), $elsePresent = $elseSch !== void 0 && (it.opts.strictKeywords ? typeof $elseSch == "object" && Object.keys($elseSch).length > 0 || $elseSch === false : it.util.schemaHasRules($elseSch, it.RULES.all)), $currentBaseId = $it.baseId;
      if ($thenPresent || $elsePresent) {
        var $ifClause;
        $it.createErrors = false;
        $it.schema = $schema2;
        $it.schemaPath = $schemaPath;
        $it.errSchemaPath = $errSchemaPath;
        out += " var " + $errs + " = errors; var " + $valid + " = true;  ";
        var $wasComposite = it.compositeRule;
        it.compositeRule = $it.compositeRule = true;
        out += "  " + it.validate($it) + " ";
        $it.baseId = $currentBaseId;
        $it.createErrors = true;
        out += "  errors = " + $errs + "; if (vErrors !== null) { if (" + $errs + ") vErrors.length = " + $errs + "; else vErrors = null; }  ";
        it.compositeRule = $it.compositeRule = $wasComposite;
        if ($thenPresent) {
          out += " if (" + $nextValid + ") {  ";
          $it.schema = it.schema["then"];
          $it.schemaPath = it.schemaPath + ".then";
          $it.errSchemaPath = it.errSchemaPath + "/then";
          out += "  " + it.validate($it) + " ";
          $it.baseId = $currentBaseId;
          out += " " + $valid + " = " + $nextValid + "; ";
          if ($thenPresent && $elsePresent) {
            $ifClause = "ifClause" + $lvl;
            out += " var " + $ifClause + " = 'then'; ";
          } else {
            $ifClause = "'then'";
          }
          out += " } ";
          if ($elsePresent) {
            out += " else { ";
          }
        } else {
          out += " if (!" + $nextValid + ") { ";
        }
        if ($elsePresent) {
          $it.schema = it.schema["else"];
          $it.schemaPath = it.schemaPath + ".else";
          $it.errSchemaPath = it.errSchemaPath + "/else";
          out += "  " + it.validate($it) + " ";
          $it.baseId = $currentBaseId;
          out += " " + $valid + " = " + $nextValid + "; ";
          if ($thenPresent && $elsePresent) {
            $ifClause = "ifClause" + $lvl;
            out += " var " + $ifClause + " = 'else'; ";
          } else {
            $ifClause = "'else'";
          }
          out += " } ";
        }
        out += " if (!" + $valid + ") {   var err =   ";
        if (it.createErrors !== false) {
          out += " { keyword: 'if' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { failingKeyword: " + $ifClause + " } ";
          if (it.opts.messages !== false) {
            out += ` , message: 'should match "' + ` + $ifClause + ` + '" schema' `;
          }
          if (it.opts.verbose) {
            out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
          }
          out += " } ";
        } else {
          out += " {} ";
        }
        out += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
        if (!it.compositeRule && $breakOnError) {
          if (it.async) {
            out += " throw new ValidationError(vErrors); ";
          } else {
            out += " validate.errors = vErrors; return false; ";
          }
        }
        out += " }   ";
        if ($breakOnError) {
          out += " else { ";
        }
      } else {
        if ($breakOnError) {
          out += " if (true) { ";
        }
      }
      return out;
    };
    return _if;
  }
  var items;
  var hasRequiredItems;
  function requireItems() {
    if (hasRequiredItems) return items;
    hasRequiredItems = 1;
    items = function generate_items(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $valid = "valid" + $lvl;
      var $errs = "errs__" + $lvl;
      var $it = it.util.copy(it);
      var $closingBraces = "";
      $it.level++;
      var $nextValid = "valid" + $it.level;
      var $idx = "i" + $lvl, $dataNxt = $it.dataLevel = it.dataLevel + 1, $nextData = "data" + $dataNxt, $currentBaseId = it.baseId;
      out += "var " + $errs + " = errors;var " + $valid + ";";
      if (Array.isArray($schema2)) {
        var $additionalItems = it.schema.additionalItems;
        if ($additionalItems === false) {
          out += " " + $valid + " = " + $data + ".length <= " + $schema2.length + "; ";
          var $currErrSchemaPath = $errSchemaPath;
          $errSchemaPath = it.errSchemaPath + "/additionalItems";
          out += "  if (!" + $valid + ") {   ";
          var $$outStack = $$outStack || [];
          $$outStack.push(out);
          out = "";
          if (it.createErrors !== false) {
            out += " { keyword: 'additionalItems' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { limit: " + $schema2.length + " } ";
            if (it.opts.messages !== false) {
              out += " , message: 'should NOT have more than " + $schema2.length + " items' ";
            }
            if (it.opts.verbose) {
              out += " , schema: false , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
            }
            out += " } ";
          } else {
            out += " {} ";
          }
          var __err = out;
          out = $$outStack.pop();
          if (!it.compositeRule && $breakOnError) {
            if (it.async) {
              out += " throw new ValidationError([" + __err + "]); ";
            } else {
              out += " validate.errors = [" + __err + "]; return false; ";
            }
          } else {
            out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
          }
          out += " } ";
          $errSchemaPath = $currErrSchemaPath;
          if ($breakOnError) {
            $closingBraces += "}";
            out += " else { ";
          }
        }
        var arr1 = $schema2;
        if (arr1) {
          var $sch, $i = -1, l1 = arr1.length - 1;
          while ($i < l1) {
            $sch = arr1[$i += 1];
            if (it.opts.strictKeywords ? typeof $sch == "object" && Object.keys($sch).length > 0 || $sch === false : it.util.schemaHasRules($sch, it.RULES.all)) {
              out += " " + $nextValid + " = true; if (" + $data + ".length > " + $i + ") { ";
              var $passData = $data + "[" + $i + "]";
              $it.schema = $sch;
              $it.schemaPath = $schemaPath + "[" + $i + "]";
              $it.errSchemaPath = $errSchemaPath + "/" + $i;
              $it.errorPath = it.util.getPathExpr(it.errorPath, $i, it.opts.jsonPointers, true);
              $it.dataPathArr[$dataNxt] = $i;
              var $code = it.validate($it);
              $it.baseId = $currentBaseId;
              if (it.util.varOccurences($code, $nextData) < 2) {
                out += " " + it.util.varReplace($code, $nextData, $passData) + " ";
              } else {
                out += " var " + $nextData + " = " + $passData + "; " + $code + " ";
              }
              out += " }  ";
              if ($breakOnError) {
                out += " if (" + $nextValid + ") { ";
                $closingBraces += "}";
              }
            }
          }
        }
        if (typeof $additionalItems == "object" && (it.opts.strictKeywords ? typeof $additionalItems == "object" && Object.keys($additionalItems).length > 0 || $additionalItems === false : it.util.schemaHasRules($additionalItems, it.RULES.all))) {
          $it.schema = $additionalItems;
          $it.schemaPath = it.schemaPath + ".additionalItems";
          $it.errSchemaPath = it.errSchemaPath + "/additionalItems";
          out += " " + $nextValid + " = true; if (" + $data + ".length > " + $schema2.length + ") {  for (var " + $idx + " = " + $schema2.length + "; " + $idx + " < " + $data + ".length; " + $idx + "++) { ";
          $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);
          var $passData = $data + "[" + $idx + "]";
          $it.dataPathArr[$dataNxt] = $idx;
          var $code = it.validate($it);
          $it.baseId = $currentBaseId;
          if (it.util.varOccurences($code, $nextData) < 2) {
            out += " " + it.util.varReplace($code, $nextData, $passData) + " ";
          } else {
            out += " var " + $nextData + " = " + $passData + "; " + $code + " ";
          }
          if ($breakOnError) {
            out += " if (!" + $nextValid + ") break; ";
          }
          out += " } }  ";
          if ($breakOnError) {
            out += " if (" + $nextValid + ") { ";
            $closingBraces += "}";
          }
        }
      } else if (it.opts.strictKeywords ? typeof $schema2 == "object" && Object.keys($schema2).length > 0 || $schema2 === false : it.util.schemaHasRules($schema2, it.RULES.all)) {
        $it.schema = $schema2;
        $it.schemaPath = $schemaPath;
        $it.errSchemaPath = $errSchemaPath;
        out += "  for (var " + $idx + " = 0; " + $idx + " < " + $data + ".length; " + $idx + "++) { ";
        $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);
        var $passData = $data + "[" + $idx + "]";
        $it.dataPathArr[$dataNxt] = $idx;
        var $code = it.validate($it);
        $it.baseId = $currentBaseId;
        if (it.util.varOccurences($code, $nextData) < 2) {
          out += " " + it.util.varReplace($code, $nextData, $passData) + " ";
        } else {
          out += " var " + $nextData + " = " + $passData + "; " + $code + " ";
        }
        if ($breakOnError) {
          out += " if (!" + $nextValid + ") break; ";
        }
        out += " }";
      }
      if ($breakOnError) {
        out += " " + $closingBraces + " if (" + $errs + " == errors) {";
      }
      return out;
    };
    return items;
  }
  var _limit;
  var hasRequired_limit;
  function require_limit() {
    if (hasRequired_limit) return _limit;
    hasRequired_limit = 1;
    _limit = function generate__limit(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $errorKeyword;
      var $data = "data" + ($dataLvl || "");
      var $isData = it.opts.$data && $schema2 && $schema2.$data, $schemaValue;
      if ($isData) {
        out += " var schema" + $lvl + " = " + it.util.getData($schema2.$data, $dataLvl, it.dataPathArr) + "; ";
        $schemaValue = "schema" + $lvl;
      } else {
        $schemaValue = $schema2;
      }
      var $isMax = $keyword == "maximum", $exclusiveKeyword = $isMax ? "exclusiveMaximum" : "exclusiveMinimum", $schemaExcl = it.schema[$exclusiveKeyword], $isDataExcl = it.opts.$data && $schemaExcl && $schemaExcl.$data, $op = $isMax ? "<" : ">", $notOp = $isMax ? ">" : "<", $errorKeyword = void 0;
      if (!($isData || typeof $schema2 == "number" || $schema2 === void 0)) {
        throw new Error($keyword + " must be number");
      }
      if (!($isDataExcl || $schemaExcl === void 0 || typeof $schemaExcl == "number" || typeof $schemaExcl == "boolean")) {
        throw new Error($exclusiveKeyword + " must be number or boolean");
      }
      if ($isDataExcl) {
        var $schemaValueExcl = it.util.getData($schemaExcl.$data, $dataLvl, it.dataPathArr), $exclusive = "exclusive" + $lvl, $exclType = "exclType" + $lvl, $exclIsNumber = "exclIsNumber" + $lvl, $opExpr = "op" + $lvl, $opStr = "' + " + $opExpr + " + '";
        out += " var schemaExcl" + $lvl + " = " + $schemaValueExcl + "; ";
        $schemaValueExcl = "schemaExcl" + $lvl;
        out += " var " + $exclusive + "; var " + $exclType + " = typeof " + $schemaValueExcl + "; if (" + $exclType + " != 'boolean' && " + $exclType + " != 'undefined' && " + $exclType + " != 'number') { ";
        var $errorKeyword = $exclusiveKeyword;
        var $$outStack = $$outStack || [];
        $$outStack.push(out);
        out = "";
        if (it.createErrors !== false) {
          out += " { keyword: '" + ($errorKeyword || "_exclusiveLimit") + "' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: {} ";
          if (it.opts.messages !== false) {
            out += " , message: '" + $exclusiveKeyword + " should be boolean' ";
          }
          if (it.opts.verbose) {
            out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
          }
          out += " } ";
        } else {
          out += " {} ";
        }
        var __err = out;
        out = $$outStack.pop();
        if (!it.compositeRule && $breakOnError) {
          if (it.async) {
            out += " throw new ValidationError([" + __err + "]); ";
          } else {
            out += " validate.errors = [" + __err + "]; return false; ";
          }
        } else {
          out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
        }
        out += " } else if ( ";
        if ($isData) {
          out += " (" + $schemaValue + " !== undefined && typeof " + $schemaValue + " != 'number') || ";
        }
        out += " " + $exclType + " == 'number' ? ( (" + $exclusive + " = " + $schemaValue + " === undefined || " + $schemaValueExcl + " " + $op + "= " + $schemaValue + ") ? " + $data + " " + $notOp + "= " + $schemaValueExcl + " : " + $data + " " + $notOp + " " + $schemaValue + " ) : ( (" + $exclusive + " = " + $schemaValueExcl + " === true) ? " + $data + " " + $notOp + "= " + $schemaValue + " : " + $data + " " + $notOp + " " + $schemaValue + " ) || " + $data + " !== " + $data + ") { var op" + $lvl + " = " + $exclusive + " ? '" + $op + "' : '" + $op + "='; ";
        if ($schema2 === void 0) {
          $errorKeyword = $exclusiveKeyword;
          $errSchemaPath = it.errSchemaPath + "/" + $exclusiveKeyword;
          $schemaValue = $schemaValueExcl;
          $isData = $isDataExcl;
        }
      } else {
        var $exclIsNumber = typeof $schemaExcl == "number", $opStr = $op;
        if ($exclIsNumber && $isData) {
          var $opExpr = "'" + $opStr + "'";
          out += " if ( ";
          if ($isData) {
            out += " (" + $schemaValue + " !== undefined && typeof " + $schemaValue + " != 'number') || ";
          }
          out += " ( " + $schemaValue + " === undefined || " + $schemaExcl + " " + $op + "= " + $schemaValue + " ? " + $data + " " + $notOp + "= " + $schemaExcl + " : " + $data + " " + $notOp + " " + $schemaValue + " ) || " + $data + " !== " + $data + ") { ";
        } else {
          if ($exclIsNumber && $schema2 === void 0) {
            $exclusive = true;
            $errorKeyword = $exclusiveKeyword;
            $errSchemaPath = it.errSchemaPath + "/" + $exclusiveKeyword;
            $schemaValue = $schemaExcl;
            $notOp += "=";
          } else {
            if ($exclIsNumber) $schemaValue = Math[$isMax ? "min" : "max"]($schemaExcl, $schema2);
            if ($schemaExcl === ($exclIsNumber ? $schemaValue : true)) {
              $exclusive = true;
              $errorKeyword = $exclusiveKeyword;
              $errSchemaPath = it.errSchemaPath + "/" + $exclusiveKeyword;
              $notOp += "=";
            } else {
              $exclusive = false;
              $opStr += "=";
            }
          }
          var $opExpr = "'" + $opStr + "'";
          out += " if ( ";
          if ($isData) {
            out += " (" + $schemaValue + " !== undefined && typeof " + $schemaValue + " != 'number') || ";
          }
          out += " " + $data + " " + $notOp + " " + $schemaValue + " || " + $data + " !== " + $data + ") { ";
        }
      }
      $errorKeyword = $errorKeyword || $keyword;
      var $$outStack = $$outStack || [];
      $$outStack.push(out);
      out = "";
      if (it.createErrors !== false) {
        out += " { keyword: '" + ($errorKeyword || "_limit") + "' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { comparison: " + $opExpr + ", limit: " + $schemaValue + ", exclusive: " + $exclusive + " } ";
        if (it.opts.messages !== false) {
          out += " , message: 'should be " + $opStr + " ";
          if ($isData) {
            out += "' + " + $schemaValue;
          } else {
            out += "" + $schemaValue + "'";
          }
        }
        if (it.opts.verbose) {
          out += " , schema:  ";
          if ($isData) {
            out += "validate.schema" + $schemaPath;
          } else {
            out += "" + $schema2;
          }
          out += "         , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
        }
        out += " } ";
      } else {
        out += " {} ";
      }
      var __err = out;
      out = $$outStack.pop();
      if (!it.compositeRule && $breakOnError) {
        if (it.async) {
          out += " throw new ValidationError([" + __err + "]); ";
        } else {
          out += " validate.errors = [" + __err + "]; return false; ";
        }
      } else {
        out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
      }
      out += " } ";
      if ($breakOnError) {
        out += " else { ";
      }
      return out;
    };
    return _limit;
  }
  var _limitItems;
  var hasRequired_limitItems;
  function require_limitItems() {
    if (hasRequired_limitItems) return _limitItems;
    hasRequired_limitItems = 1;
    _limitItems = function generate__limitItems(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $errorKeyword;
      var $data = "data" + ($dataLvl || "");
      var $isData = it.opts.$data && $schema2 && $schema2.$data, $schemaValue;
      if ($isData) {
        out += " var schema" + $lvl + " = " + it.util.getData($schema2.$data, $dataLvl, it.dataPathArr) + "; ";
        $schemaValue = "schema" + $lvl;
      } else {
        $schemaValue = $schema2;
      }
      if (!($isData || typeof $schema2 == "number")) {
        throw new Error($keyword + " must be number");
      }
      var $op = $keyword == "maxItems" ? ">" : "<";
      out += "if ( ";
      if ($isData) {
        out += " (" + $schemaValue + " !== undefined && typeof " + $schemaValue + " != 'number') || ";
      }
      out += " " + $data + ".length " + $op + " " + $schemaValue + ") { ";
      var $errorKeyword = $keyword;
      var $$outStack = $$outStack || [];
      $$outStack.push(out);
      out = "";
      if (it.createErrors !== false) {
        out += " { keyword: '" + ($errorKeyword || "_limitItems") + "' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { limit: " + $schemaValue + " } ";
        if (it.opts.messages !== false) {
          out += " , message: 'should NOT have ";
          if ($keyword == "maxItems") {
            out += "more";
          } else {
            out += "fewer";
          }
          out += " than ";
          if ($isData) {
            out += "' + " + $schemaValue + " + '";
          } else {
            out += "" + $schema2;
          }
          out += " items' ";
        }
        if (it.opts.verbose) {
          out += " , schema:  ";
          if ($isData) {
            out += "validate.schema" + $schemaPath;
          } else {
            out += "" + $schema2;
          }
          out += "         , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
        }
        out += " } ";
      } else {
        out += " {} ";
      }
      var __err = out;
      out = $$outStack.pop();
      if (!it.compositeRule && $breakOnError) {
        if (it.async) {
          out += " throw new ValidationError([" + __err + "]); ";
        } else {
          out += " validate.errors = [" + __err + "]; return false; ";
        }
      } else {
        out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
      }
      out += "} ";
      if ($breakOnError) {
        out += " else { ";
      }
      return out;
    };
    return _limitItems;
  }
  var _limitLength;
  var hasRequired_limitLength;
  function require_limitLength() {
    if (hasRequired_limitLength) return _limitLength;
    hasRequired_limitLength = 1;
    _limitLength = function generate__limitLength(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $errorKeyword;
      var $data = "data" + ($dataLvl || "");
      var $isData = it.opts.$data && $schema2 && $schema2.$data, $schemaValue;
      if ($isData) {
        out += " var schema" + $lvl + " = " + it.util.getData($schema2.$data, $dataLvl, it.dataPathArr) + "; ";
        $schemaValue = "schema" + $lvl;
      } else {
        $schemaValue = $schema2;
      }
      if (!($isData || typeof $schema2 == "number")) {
        throw new Error($keyword + " must be number");
      }
      var $op = $keyword == "maxLength" ? ">" : "<";
      out += "if ( ";
      if ($isData) {
        out += " (" + $schemaValue + " !== undefined && typeof " + $schemaValue + " != 'number') || ";
      }
      if (it.opts.unicode === false) {
        out += " " + $data + ".length ";
      } else {
        out += " ucs2length(" + $data + ") ";
      }
      out += " " + $op + " " + $schemaValue + ") { ";
      var $errorKeyword = $keyword;
      var $$outStack = $$outStack || [];
      $$outStack.push(out);
      out = "";
      if (it.createErrors !== false) {
        out += " { keyword: '" + ($errorKeyword || "_limitLength") + "' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { limit: " + $schemaValue + " } ";
        if (it.opts.messages !== false) {
          out += " , message: 'should NOT be ";
          if ($keyword == "maxLength") {
            out += "longer";
          } else {
            out += "shorter";
          }
          out += " than ";
          if ($isData) {
            out += "' + " + $schemaValue + " + '";
          } else {
            out += "" + $schema2;
          }
          out += " characters' ";
        }
        if (it.opts.verbose) {
          out += " , schema:  ";
          if ($isData) {
            out += "validate.schema" + $schemaPath;
          } else {
            out += "" + $schema2;
          }
          out += "         , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
        }
        out += " } ";
      } else {
        out += " {} ";
      }
      var __err = out;
      out = $$outStack.pop();
      if (!it.compositeRule && $breakOnError) {
        if (it.async) {
          out += " throw new ValidationError([" + __err + "]); ";
        } else {
          out += " validate.errors = [" + __err + "]; return false; ";
        }
      } else {
        out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
      }
      out += "} ";
      if ($breakOnError) {
        out += " else { ";
      }
      return out;
    };
    return _limitLength;
  }
  var _limitProperties;
  var hasRequired_limitProperties;
  function require_limitProperties() {
    if (hasRequired_limitProperties) return _limitProperties;
    hasRequired_limitProperties = 1;
    _limitProperties = function generate__limitProperties(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $errorKeyword;
      var $data = "data" + ($dataLvl || "");
      var $isData = it.opts.$data && $schema2 && $schema2.$data, $schemaValue;
      if ($isData) {
        out += " var schema" + $lvl + " = " + it.util.getData($schema2.$data, $dataLvl, it.dataPathArr) + "; ";
        $schemaValue = "schema" + $lvl;
      } else {
        $schemaValue = $schema2;
      }
      if (!($isData || typeof $schema2 == "number")) {
        throw new Error($keyword + " must be number");
      }
      var $op = $keyword == "maxProperties" ? ">" : "<";
      out += "if ( ";
      if ($isData) {
        out += " (" + $schemaValue + " !== undefined && typeof " + $schemaValue + " != 'number') || ";
      }
      out += " Object.keys(" + $data + ").length " + $op + " " + $schemaValue + ") { ";
      var $errorKeyword = $keyword;
      var $$outStack = $$outStack || [];
      $$outStack.push(out);
      out = "";
      if (it.createErrors !== false) {
        out += " { keyword: '" + ($errorKeyword || "_limitProperties") + "' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { limit: " + $schemaValue + " } ";
        if (it.opts.messages !== false) {
          out += " , message: 'should NOT have ";
          if ($keyword == "maxProperties") {
            out += "more";
          } else {
            out += "fewer";
          }
          out += " than ";
          if ($isData) {
            out += "' + " + $schemaValue + " + '";
          } else {
            out += "" + $schema2;
          }
          out += " properties' ";
        }
        if (it.opts.verbose) {
          out += " , schema:  ";
          if ($isData) {
            out += "validate.schema" + $schemaPath;
          } else {
            out += "" + $schema2;
          }
          out += "         , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
        }
        out += " } ";
      } else {
        out += " {} ";
      }
      var __err = out;
      out = $$outStack.pop();
      if (!it.compositeRule && $breakOnError) {
        if (it.async) {
          out += " throw new ValidationError([" + __err + "]); ";
        } else {
          out += " validate.errors = [" + __err + "]; return false; ";
        }
      } else {
        out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
      }
      out += "} ";
      if ($breakOnError) {
        out += " else { ";
      }
      return out;
    };
    return _limitProperties;
  }
  var multipleOf;
  var hasRequiredMultipleOf;
  function requireMultipleOf() {
    if (hasRequiredMultipleOf) return multipleOf;
    hasRequiredMultipleOf = 1;
    multipleOf = function generate_multipleOf(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $isData = it.opts.$data && $schema2 && $schema2.$data, $schemaValue;
      if ($isData) {
        out += " var schema" + $lvl + " = " + it.util.getData($schema2.$data, $dataLvl, it.dataPathArr) + "; ";
        $schemaValue = "schema" + $lvl;
      } else {
        $schemaValue = $schema2;
      }
      if (!($isData || typeof $schema2 == "number")) {
        throw new Error($keyword + " must be number");
      }
      out += "var division" + $lvl + ";if (";
      if ($isData) {
        out += " " + $schemaValue + " !== undefined && ( typeof " + $schemaValue + " != 'number' || ";
      }
      out += " (division" + $lvl + " = " + $data + " / " + $schemaValue + ", ";
      if (it.opts.multipleOfPrecision) {
        out += " Math.abs(Math.round(division" + $lvl + ") - division" + $lvl + ") > 1e-" + it.opts.multipleOfPrecision + " ";
      } else {
        out += " division" + $lvl + " !== parseInt(division" + $lvl + ") ";
      }
      out += " ) ";
      if ($isData) {
        out += "  )  ";
      }
      out += " ) {   ";
      var $$outStack = $$outStack || [];
      $$outStack.push(out);
      out = "";
      if (it.createErrors !== false) {
        out += " { keyword: 'multipleOf' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { multipleOf: " + $schemaValue + " } ";
        if (it.opts.messages !== false) {
          out += " , message: 'should be multiple of ";
          if ($isData) {
            out += "' + " + $schemaValue;
          } else {
            out += "" + $schemaValue + "'";
          }
        }
        if (it.opts.verbose) {
          out += " , schema:  ";
          if ($isData) {
            out += "validate.schema" + $schemaPath;
          } else {
            out += "" + $schema2;
          }
          out += "         , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
        }
        out += " } ";
      } else {
        out += " {} ";
      }
      var __err = out;
      out = $$outStack.pop();
      if (!it.compositeRule && $breakOnError) {
        if (it.async) {
          out += " throw new ValidationError([" + __err + "]); ";
        } else {
          out += " validate.errors = [" + __err + "]; return false; ";
        }
      } else {
        out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
      }
      out += "} ";
      if ($breakOnError) {
        out += " else { ";
      }
      return out;
    };
    return multipleOf;
  }
  var not;
  var hasRequiredNot;
  function requireNot() {
    if (hasRequiredNot) return not;
    hasRequiredNot = 1;
    not = function generate_not(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $errs = "errs__" + $lvl;
      var $it = it.util.copy(it);
      $it.level++;
      var $nextValid = "valid" + $it.level;
      if (it.opts.strictKeywords ? typeof $schema2 == "object" && Object.keys($schema2).length > 0 || $schema2 === false : it.util.schemaHasRules($schema2, it.RULES.all)) {
        $it.schema = $schema2;
        $it.schemaPath = $schemaPath;
        $it.errSchemaPath = $errSchemaPath;
        out += " var " + $errs + " = errors;  ";
        var $wasComposite = it.compositeRule;
        it.compositeRule = $it.compositeRule = true;
        $it.createErrors = false;
        var $allErrorsOption;
        if ($it.opts.allErrors) {
          $allErrorsOption = $it.opts.allErrors;
          $it.opts.allErrors = false;
        }
        out += " " + it.validate($it) + " ";
        $it.createErrors = true;
        if ($allErrorsOption) $it.opts.allErrors = $allErrorsOption;
        it.compositeRule = $it.compositeRule = $wasComposite;
        out += " if (" + $nextValid + ") {   ";
        var $$outStack = $$outStack || [];
        $$outStack.push(out);
        out = "";
        if (it.createErrors !== false) {
          out += " { keyword: 'not' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: {} ";
          if (it.opts.messages !== false) {
            out += " , message: 'should NOT be valid' ";
          }
          if (it.opts.verbose) {
            out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
          }
          out += " } ";
        } else {
          out += " {} ";
        }
        var __err = out;
        out = $$outStack.pop();
        if (!it.compositeRule && $breakOnError) {
          if (it.async) {
            out += " throw new ValidationError([" + __err + "]); ";
          } else {
            out += " validate.errors = [" + __err + "]; return false; ";
          }
        } else {
          out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
        }
        out += " } else {  errors = " + $errs + "; if (vErrors !== null) { if (" + $errs + ") vErrors.length = " + $errs + "; else vErrors = null; } ";
        if (it.opts.allErrors) {
          out += " } ";
        }
      } else {
        out += "  var err =   ";
        if (it.createErrors !== false) {
          out += " { keyword: 'not' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: {} ";
          if (it.opts.messages !== false) {
            out += " , message: 'should NOT be valid' ";
          }
          if (it.opts.verbose) {
            out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
          }
          out += " } ";
        } else {
          out += " {} ";
        }
        out += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
        if ($breakOnError) {
          out += " if (false) { ";
        }
      }
      return out;
    };
    return not;
  }
  var oneOf;
  var hasRequiredOneOf;
  function requireOneOf() {
    if (hasRequiredOneOf) return oneOf;
    hasRequiredOneOf = 1;
    oneOf = function generate_oneOf(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $valid = "valid" + $lvl;
      var $errs = "errs__" + $lvl;
      var $it = it.util.copy(it);
      var $closingBraces = "";
      $it.level++;
      var $nextValid = "valid" + $it.level;
      var $currentBaseId = $it.baseId, $prevValid = "prevValid" + $lvl, $passingSchemas = "passingSchemas" + $lvl;
      out += "var " + $errs + " = errors , " + $prevValid + " = false , " + $valid + " = false , " + $passingSchemas + " = null; ";
      var $wasComposite = it.compositeRule;
      it.compositeRule = $it.compositeRule = true;
      var arr1 = $schema2;
      if (arr1) {
        var $sch, $i = -1, l1 = arr1.length - 1;
        while ($i < l1) {
          $sch = arr1[$i += 1];
          if (it.opts.strictKeywords ? typeof $sch == "object" && Object.keys($sch).length > 0 || $sch === false : it.util.schemaHasRules($sch, it.RULES.all)) {
            $it.schema = $sch;
            $it.schemaPath = $schemaPath + "[" + $i + "]";
            $it.errSchemaPath = $errSchemaPath + "/" + $i;
            out += "  " + it.validate($it) + " ";
            $it.baseId = $currentBaseId;
          } else {
            out += " var " + $nextValid + " = true; ";
          }
          if ($i) {
            out += " if (" + $nextValid + " && " + $prevValid + ") { " + $valid + " = false; " + $passingSchemas + " = [" + $passingSchemas + ", " + $i + "]; } else { ";
            $closingBraces += "}";
          }
          out += " if (" + $nextValid + ") { " + $valid + " = " + $prevValid + " = true; " + $passingSchemas + " = " + $i + "; }";
        }
      }
      it.compositeRule = $it.compositeRule = $wasComposite;
      out += "" + $closingBraces + "if (!" + $valid + ") {   var err =   ";
      if (it.createErrors !== false) {
        out += " { keyword: 'oneOf' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { passingSchemas: " + $passingSchemas + " } ";
        if (it.opts.messages !== false) {
          out += " , message: 'should match exactly one schema in oneOf' ";
        }
        if (it.opts.verbose) {
          out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
        }
        out += " } ";
      } else {
        out += " {} ";
      }
      out += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
      if (!it.compositeRule && $breakOnError) {
        if (it.async) {
          out += " throw new ValidationError(vErrors); ";
        } else {
          out += " validate.errors = vErrors; return false; ";
        }
      }
      out += "} else {  errors = " + $errs + "; if (vErrors !== null) { if (" + $errs + ") vErrors.length = " + $errs + "; else vErrors = null; }";
      if (it.opts.allErrors) {
        out += " } ";
      }
      return out;
    };
    return oneOf;
  }
  var pattern;
  var hasRequiredPattern;
  function requirePattern() {
    if (hasRequiredPattern) return pattern;
    hasRequiredPattern = 1;
    pattern = function generate_pattern(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $isData = it.opts.$data && $schema2 && $schema2.$data, $schemaValue;
      if ($isData) {
        out += " var schema" + $lvl + " = " + it.util.getData($schema2.$data, $dataLvl, it.dataPathArr) + "; ";
        $schemaValue = "schema" + $lvl;
      } else {
        $schemaValue = $schema2;
      }
      var $regexp = $isData ? "(new RegExp(" + $schemaValue + "))" : it.usePattern($schema2);
      out += "if ( ";
      if ($isData) {
        out += " (" + $schemaValue + " !== undefined && typeof " + $schemaValue + " != 'string') || ";
      }
      out += " !" + $regexp + ".test(" + $data + ") ) {   ";
      var $$outStack = $$outStack || [];
      $$outStack.push(out);
      out = "";
      if (it.createErrors !== false) {
        out += " { keyword: 'pattern' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { pattern:  ";
        if ($isData) {
          out += "" + $schemaValue;
        } else {
          out += "" + it.util.toQuotedString($schema2);
        }
        out += "  } ";
        if (it.opts.messages !== false) {
          out += ` , message: 'should match pattern "`;
          if ($isData) {
            out += "' + " + $schemaValue + " + '";
          } else {
            out += "" + it.util.escapeQuotes($schema2);
          }
          out += `"' `;
        }
        if (it.opts.verbose) {
          out += " , schema:  ";
          if ($isData) {
            out += "validate.schema" + $schemaPath;
          } else {
            out += "" + it.util.toQuotedString($schema2);
          }
          out += "         , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
        }
        out += " } ";
      } else {
        out += " {} ";
      }
      var __err = out;
      out = $$outStack.pop();
      if (!it.compositeRule && $breakOnError) {
        if (it.async) {
          out += " throw new ValidationError([" + __err + "]); ";
        } else {
          out += " validate.errors = [" + __err + "]; return false; ";
        }
      } else {
        out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
      }
      out += "} ";
      if ($breakOnError) {
        out += " else { ";
      }
      return out;
    };
    return pattern;
  }
  var properties$2;
  var hasRequiredProperties;
  function requireProperties() {
    if (hasRequiredProperties) return properties$2;
    hasRequiredProperties = 1;
    properties$2 = function generate_properties(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $errs = "errs__" + $lvl;
      var $it = it.util.copy(it);
      var $closingBraces = "";
      $it.level++;
      var $nextValid = "valid" + $it.level;
      var $key = "key" + $lvl, $idx = "idx" + $lvl, $dataNxt = $it.dataLevel = it.dataLevel + 1, $nextData = "data" + $dataNxt, $dataProperties = "dataProperties" + $lvl;
      var $schemaKeys = Object.keys($schema2 || {}).filter(notProto), $pProperties = it.schema.patternProperties || {}, $pPropertyKeys = Object.keys($pProperties).filter(notProto), $aProperties = it.schema.additionalProperties, $someProperties = $schemaKeys.length || $pPropertyKeys.length, $noAdditional = $aProperties === false, $additionalIsSchema = typeof $aProperties == "object" && Object.keys($aProperties).length, $removeAdditional = it.opts.removeAdditional, $checkAdditional = $noAdditional || $additionalIsSchema || $removeAdditional, $ownProperties = it.opts.ownProperties, $currentBaseId = it.baseId;
      var $required = it.schema.required;
      if ($required && !(it.opts.$data && $required.$data) && $required.length < it.opts.loopRequired) {
        var $requiredHash = it.util.toHash($required);
      }
      function notProto(p) {
        return p !== "__proto__";
      }
      out += "var " + $errs + " = errors;var " + $nextValid + " = true;";
      if ($ownProperties) {
        out += " var " + $dataProperties + " = undefined;";
      }
      if ($checkAdditional) {
        if ($ownProperties) {
          out += " " + $dataProperties + " = " + $dataProperties + " || Object.keys(" + $data + "); for (var " + $idx + "=0; " + $idx + "<" + $dataProperties + ".length; " + $idx + "++) { var " + $key + " = " + $dataProperties + "[" + $idx + "]; ";
        } else {
          out += " for (var " + $key + " in " + $data + ") { ";
        }
        if ($someProperties) {
          out += " var isAdditional" + $lvl + " = !(false ";
          if ($schemaKeys.length) {
            if ($schemaKeys.length > 8) {
              out += " || validate.schema" + $schemaPath + ".hasOwnProperty(" + $key + ") ";
            } else {
              var arr1 = $schemaKeys;
              if (arr1) {
                var $propertyKey, i1 = -1, l1 = arr1.length - 1;
                while (i1 < l1) {
                  $propertyKey = arr1[i1 += 1];
                  out += " || " + $key + " == " + it.util.toQuotedString($propertyKey) + " ";
                }
              }
            }
          }
          if ($pPropertyKeys.length) {
            var arr2 = $pPropertyKeys;
            if (arr2) {
              var $pProperty, $i = -1, l2 = arr2.length - 1;
              while ($i < l2) {
                $pProperty = arr2[$i += 1];
                out += " || " + it.usePattern($pProperty) + ".test(" + $key + ") ";
              }
            }
          }
          out += " ); if (isAdditional" + $lvl + ") { ";
        }
        if ($removeAdditional == "all") {
          out += " delete " + $data + "[" + $key + "]; ";
        } else {
          var $currentErrorPath = it.errorPath;
          var $additionalProperty = "' + " + $key + " + '";
          if (it.opts._errorDataPathProperty) {
            it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);
          }
          if ($noAdditional) {
            if ($removeAdditional) {
              out += " delete " + $data + "[" + $key + "]; ";
            } else {
              out += " " + $nextValid + " = false; ";
              var $currErrSchemaPath = $errSchemaPath;
              $errSchemaPath = it.errSchemaPath + "/additionalProperties";
              var $$outStack = $$outStack || [];
              $$outStack.push(out);
              out = "";
              if (it.createErrors !== false) {
                out += " { keyword: 'additionalProperties' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { additionalProperty: '" + $additionalProperty + "' } ";
                if (it.opts.messages !== false) {
                  out += " , message: '";
                  if (it.opts._errorDataPathProperty) {
                    out += "is an invalid additional property";
                  } else {
                    out += "should NOT have additional properties";
                  }
                  out += "' ";
                }
                if (it.opts.verbose) {
                  out += " , schema: false , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
                }
                out += " } ";
              } else {
                out += " {} ";
              }
              var __err = out;
              out = $$outStack.pop();
              if (!it.compositeRule && $breakOnError) {
                if (it.async) {
                  out += " throw new ValidationError([" + __err + "]); ";
                } else {
                  out += " validate.errors = [" + __err + "]; return false; ";
                }
              } else {
                out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
              }
              $errSchemaPath = $currErrSchemaPath;
              if ($breakOnError) {
                out += " break; ";
              }
            }
          } else if ($additionalIsSchema) {
            if ($removeAdditional == "failing") {
              out += " var " + $errs + " = errors;  ";
              var $wasComposite = it.compositeRule;
              it.compositeRule = $it.compositeRule = true;
              $it.schema = $aProperties;
              $it.schemaPath = it.schemaPath + ".additionalProperties";
              $it.errSchemaPath = it.errSchemaPath + "/additionalProperties";
              $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);
              var $passData = $data + "[" + $key + "]";
              $it.dataPathArr[$dataNxt] = $key;
              var $code = it.validate($it);
              $it.baseId = $currentBaseId;
              if (it.util.varOccurences($code, $nextData) < 2) {
                out += " " + it.util.varReplace($code, $nextData, $passData) + " ";
              } else {
                out += " var " + $nextData + " = " + $passData + "; " + $code + " ";
              }
              out += " if (!" + $nextValid + ") { errors = " + $errs + "; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete " + $data + "[" + $key + "]; }  ";
              it.compositeRule = $it.compositeRule = $wasComposite;
            } else {
              $it.schema = $aProperties;
              $it.schemaPath = it.schemaPath + ".additionalProperties";
              $it.errSchemaPath = it.errSchemaPath + "/additionalProperties";
              $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);
              var $passData = $data + "[" + $key + "]";
              $it.dataPathArr[$dataNxt] = $key;
              var $code = it.validate($it);
              $it.baseId = $currentBaseId;
              if (it.util.varOccurences($code, $nextData) < 2) {
                out += " " + it.util.varReplace($code, $nextData, $passData) + " ";
              } else {
                out += " var " + $nextData + " = " + $passData + "; " + $code + " ";
              }
              if ($breakOnError) {
                out += " if (!" + $nextValid + ") break; ";
              }
            }
          }
          it.errorPath = $currentErrorPath;
        }
        if ($someProperties) {
          out += " } ";
        }
        out += " }  ";
        if ($breakOnError) {
          out += " if (" + $nextValid + ") { ";
          $closingBraces += "}";
        }
      }
      var $useDefaults = it.opts.useDefaults && !it.compositeRule;
      if ($schemaKeys.length) {
        var arr3 = $schemaKeys;
        if (arr3) {
          var $propertyKey, i3 = -1, l3 = arr3.length - 1;
          while (i3 < l3) {
            $propertyKey = arr3[i3 += 1];
            var $sch = $schema2[$propertyKey];
            if (it.opts.strictKeywords ? typeof $sch == "object" && Object.keys($sch).length > 0 || $sch === false : it.util.schemaHasRules($sch, it.RULES.all)) {
              var $prop = it.util.getProperty($propertyKey), $passData = $data + $prop, $hasDefault = $useDefaults && $sch.default !== void 0;
              $it.schema = $sch;
              $it.schemaPath = $schemaPath + $prop;
              $it.errSchemaPath = $errSchemaPath + "/" + it.util.escapeFragment($propertyKey);
              $it.errorPath = it.util.getPath(it.errorPath, $propertyKey, it.opts.jsonPointers);
              $it.dataPathArr[$dataNxt] = it.util.toQuotedString($propertyKey);
              var $code = it.validate($it);
              $it.baseId = $currentBaseId;
              if (it.util.varOccurences($code, $nextData) < 2) {
                $code = it.util.varReplace($code, $nextData, $passData);
                var $useData = $passData;
              } else {
                var $useData = $nextData;
                out += " var " + $nextData + " = " + $passData + "; ";
              }
              if ($hasDefault) {
                out += " " + $code + " ";
              } else {
                if ($requiredHash && $requiredHash[$propertyKey]) {
                  out += " if ( " + $useData + " === undefined ";
                  if ($ownProperties) {
                    out += " || ! Object.prototype.hasOwnProperty.call(" + $data + ", '" + it.util.escapeQuotes($propertyKey) + "') ";
                  }
                  out += ") { " + $nextValid + " = false; ";
                  var $currentErrorPath = it.errorPath, $currErrSchemaPath = $errSchemaPath, $missingProperty = it.util.escapeQuotes($propertyKey);
                  if (it.opts._errorDataPathProperty) {
                    it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);
                  }
                  $errSchemaPath = it.errSchemaPath + "/required";
                  var $$outStack = $$outStack || [];
                  $$outStack.push(out);
                  out = "";
                  if (it.createErrors !== false) {
                    out += " { keyword: 'required' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { missingProperty: '" + $missingProperty + "' } ";
                    if (it.opts.messages !== false) {
                      out += " , message: '";
                      if (it.opts._errorDataPathProperty) {
                        out += "is a required property";
                      } else {
                        out += "should have required property \\'" + $missingProperty + "\\'";
                      }
                      out += "' ";
                    }
                    if (it.opts.verbose) {
                      out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
                    }
                    out += " } ";
                  } else {
                    out += " {} ";
                  }
                  var __err = out;
                  out = $$outStack.pop();
                  if (!it.compositeRule && $breakOnError) {
                    if (it.async) {
                      out += " throw new ValidationError([" + __err + "]); ";
                    } else {
                      out += " validate.errors = [" + __err + "]; return false; ";
                    }
                  } else {
                    out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
                  }
                  $errSchemaPath = $currErrSchemaPath;
                  it.errorPath = $currentErrorPath;
                  out += " } else { ";
                } else {
                  if ($breakOnError) {
                    out += " if ( " + $useData + " === undefined ";
                    if ($ownProperties) {
                      out += " || ! Object.prototype.hasOwnProperty.call(" + $data + ", '" + it.util.escapeQuotes($propertyKey) + "') ";
                    }
                    out += ") { " + $nextValid + " = true; } else { ";
                  } else {
                    out += " if (" + $useData + " !== undefined ";
                    if ($ownProperties) {
                      out += " &&   Object.prototype.hasOwnProperty.call(" + $data + ", '" + it.util.escapeQuotes($propertyKey) + "') ";
                    }
                    out += " ) { ";
                  }
                }
                out += " " + $code + " } ";
              }
            }
            if ($breakOnError) {
              out += " if (" + $nextValid + ") { ";
              $closingBraces += "}";
            }
          }
        }
      }
      if ($pPropertyKeys.length) {
        var arr4 = $pPropertyKeys;
        if (arr4) {
          var $pProperty, i4 = -1, l4 = arr4.length - 1;
          while (i4 < l4) {
            $pProperty = arr4[i4 += 1];
            var $sch = $pProperties[$pProperty];
            if (it.opts.strictKeywords ? typeof $sch == "object" && Object.keys($sch).length > 0 || $sch === false : it.util.schemaHasRules($sch, it.RULES.all)) {
              $it.schema = $sch;
              $it.schemaPath = it.schemaPath + ".patternProperties" + it.util.getProperty($pProperty);
              $it.errSchemaPath = it.errSchemaPath + "/patternProperties/" + it.util.escapeFragment($pProperty);
              if ($ownProperties) {
                out += " " + $dataProperties + " = " + $dataProperties + " || Object.keys(" + $data + "); for (var " + $idx + "=0; " + $idx + "<" + $dataProperties + ".length; " + $idx + "++) { var " + $key + " = " + $dataProperties + "[" + $idx + "]; ";
              } else {
                out += " for (var " + $key + " in " + $data + ") { ";
              }
              out += " if (" + it.usePattern($pProperty) + ".test(" + $key + ")) { ";
              $it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);
              var $passData = $data + "[" + $key + "]";
              $it.dataPathArr[$dataNxt] = $key;
              var $code = it.validate($it);
              $it.baseId = $currentBaseId;
              if (it.util.varOccurences($code, $nextData) < 2) {
                out += " " + it.util.varReplace($code, $nextData, $passData) + " ";
              } else {
                out += " var " + $nextData + " = " + $passData + "; " + $code + " ";
              }
              if ($breakOnError) {
                out += " if (!" + $nextValid + ") break; ";
              }
              out += " } ";
              if ($breakOnError) {
                out += " else " + $nextValid + " = true; ";
              }
              out += " }  ";
              if ($breakOnError) {
                out += " if (" + $nextValid + ") { ";
                $closingBraces += "}";
              }
            }
          }
        }
      }
      if ($breakOnError) {
        out += " " + $closingBraces + " if (" + $errs + " == errors) {";
      }
      return out;
    };
    return properties$2;
  }
  var propertyNames;
  var hasRequiredPropertyNames;
  function requirePropertyNames() {
    if (hasRequiredPropertyNames) return propertyNames;
    hasRequiredPropertyNames = 1;
    propertyNames = function generate_propertyNames(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $errs = "errs__" + $lvl;
      var $it = it.util.copy(it);
      var $closingBraces = "";
      $it.level++;
      var $nextValid = "valid" + $it.level;
      out += "var " + $errs + " = errors;";
      if (it.opts.strictKeywords ? typeof $schema2 == "object" && Object.keys($schema2).length > 0 || $schema2 === false : it.util.schemaHasRules($schema2, it.RULES.all)) {
        $it.schema = $schema2;
        $it.schemaPath = $schemaPath;
        $it.errSchemaPath = $errSchemaPath;
        var $key = "key" + $lvl, $idx = "idx" + $lvl, $i = "i" + $lvl, $invalidName = "' + " + $key + " + '", $dataNxt = $it.dataLevel = it.dataLevel + 1, $nextData = "data" + $dataNxt, $dataProperties = "dataProperties" + $lvl, $ownProperties = it.opts.ownProperties, $currentBaseId = it.baseId;
        if ($ownProperties) {
          out += " var " + $dataProperties + " = undefined; ";
        }
        if ($ownProperties) {
          out += " " + $dataProperties + " = " + $dataProperties + " || Object.keys(" + $data + "); for (var " + $idx + "=0; " + $idx + "<" + $dataProperties + ".length; " + $idx + "++) { var " + $key + " = " + $dataProperties + "[" + $idx + "]; ";
        } else {
          out += " for (var " + $key + " in " + $data + ") { ";
        }
        out += " var startErrs" + $lvl + " = errors; ";
        var $passData = $key;
        var $wasComposite = it.compositeRule;
        it.compositeRule = $it.compositeRule = true;
        var $code = it.validate($it);
        $it.baseId = $currentBaseId;
        if (it.util.varOccurences($code, $nextData) < 2) {
          out += " " + it.util.varReplace($code, $nextData, $passData) + " ";
        } else {
          out += " var " + $nextData + " = " + $passData + "; " + $code + " ";
        }
        it.compositeRule = $it.compositeRule = $wasComposite;
        out += " if (!" + $nextValid + ") { for (var " + $i + "=startErrs" + $lvl + "; " + $i + "<errors; " + $i + "++) { vErrors[" + $i + "].propertyName = " + $key + "; }   var err =   ";
        if (it.createErrors !== false) {
          out += " { keyword: 'propertyNames' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { propertyName: '" + $invalidName + "' } ";
          if (it.opts.messages !== false) {
            out += " , message: 'property name \\'" + $invalidName + "\\' is invalid' ";
          }
          if (it.opts.verbose) {
            out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
          }
          out += " } ";
        } else {
          out += " {} ";
        }
        out += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
        if (!it.compositeRule && $breakOnError) {
          if (it.async) {
            out += " throw new ValidationError(vErrors); ";
          } else {
            out += " validate.errors = vErrors; return false; ";
          }
        }
        if ($breakOnError) {
          out += " break; ";
        }
        out += " } }";
      }
      if ($breakOnError) {
        out += " " + $closingBraces + " if (" + $errs + " == errors) {";
      }
      return out;
    };
    return propertyNames;
  }
  var required$1;
  var hasRequiredRequired;
  function requireRequired() {
    if (hasRequiredRequired) return required$1;
    hasRequiredRequired = 1;
    required$1 = function generate_required(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $valid = "valid" + $lvl;
      var $isData = it.opts.$data && $schema2 && $schema2.$data;
      if ($isData) {
        out += " var schema" + $lvl + " = " + it.util.getData($schema2.$data, $dataLvl, it.dataPathArr) + "; ";
      }
      var $vSchema = "schema" + $lvl;
      if (!$isData) {
        if ($schema2.length < it.opts.loopRequired && it.schema.properties && Object.keys(it.schema.properties).length) {
          var $required = [];
          var arr1 = $schema2;
          if (arr1) {
            var $property, i1 = -1, l1 = arr1.length - 1;
            while (i1 < l1) {
              $property = arr1[i1 += 1];
              var $propertySch = it.schema.properties[$property];
              if (!($propertySch && (it.opts.strictKeywords ? typeof $propertySch == "object" && Object.keys($propertySch).length > 0 || $propertySch === false : it.util.schemaHasRules($propertySch, it.RULES.all)))) {
                $required[$required.length] = $property;
              }
            }
          }
        } else {
          var $required = $schema2;
        }
      }
      if ($isData || $required.length) {
        var $currentErrorPath = it.errorPath, $loopRequired = $isData || $required.length >= it.opts.loopRequired, $ownProperties = it.opts.ownProperties;
        if ($breakOnError) {
          out += " var missing" + $lvl + "; ";
          if ($loopRequired) {
            if (!$isData) {
              out += " var " + $vSchema + " = validate.schema" + $schemaPath + "; ";
            }
            var $i = "i" + $lvl, $propertyPath = "schema" + $lvl + "[" + $i + "]", $missingProperty = "' + " + $propertyPath + " + '";
            if (it.opts._errorDataPathProperty) {
              it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);
            }
            out += " var " + $valid + " = true; ";
            if ($isData) {
              out += " if (schema" + $lvl + " === undefined) " + $valid + " = true; else if (!Array.isArray(schema" + $lvl + ")) " + $valid + " = false; else {";
            }
            out += " for (var " + $i + " = 0; " + $i + " < " + $vSchema + ".length; " + $i + "++) { " + $valid + " = " + $data + "[" + $vSchema + "[" + $i + "]] !== undefined ";
            if ($ownProperties) {
              out += " &&   Object.prototype.hasOwnProperty.call(" + $data + ", " + $vSchema + "[" + $i + "]) ";
            }
            out += "; if (!" + $valid + ") break; } ";
            if ($isData) {
              out += "  }  ";
            }
            out += "  if (!" + $valid + ") {   ";
            var $$outStack = $$outStack || [];
            $$outStack.push(out);
            out = "";
            if (it.createErrors !== false) {
              out += " { keyword: 'required' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { missingProperty: '" + $missingProperty + "' } ";
              if (it.opts.messages !== false) {
                out += " , message: '";
                if (it.opts._errorDataPathProperty) {
                  out += "is a required property";
                } else {
                  out += "should have required property \\'" + $missingProperty + "\\'";
                }
                out += "' ";
              }
              if (it.opts.verbose) {
                out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
              }
              out += " } ";
            } else {
              out += " {} ";
            }
            var __err = out;
            out = $$outStack.pop();
            if (!it.compositeRule && $breakOnError) {
              if (it.async) {
                out += " throw new ValidationError([" + __err + "]); ";
              } else {
                out += " validate.errors = [" + __err + "]; return false; ";
              }
            } else {
              out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
            }
            out += " } else { ";
          } else {
            out += " if ( ";
            var arr2 = $required;
            if (arr2) {
              var $propertyKey, $i = -1, l2 = arr2.length - 1;
              while ($i < l2) {
                $propertyKey = arr2[$i += 1];
                if ($i) {
                  out += " || ";
                }
                var $prop = it.util.getProperty($propertyKey), $useData = $data + $prop;
                out += " ( ( " + $useData + " === undefined ";
                if ($ownProperties) {
                  out += " || ! Object.prototype.hasOwnProperty.call(" + $data + ", '" + it.util.escapeQuotes($propertyKey) + "') ";
                }
                out += ") && (missing" + $lvl + " = " + it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop) + ") ) ";
              }
            }
            out += ") {  ";
            var $propertyPath = "missing" + $lvl, $missingProperty = "' + " + $propertyPath + " + '";
            if (it.opts._errorDataPathProperty) {
              it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + " + " + $propertyPath;
            }
            var $$outStack = $$outStack || [];
            $$outStack.push(out);
            out = "";
            if (it.createErrors !== false) {
              out += " { keyword: 'required' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { missingProperty: '" + $missingProperty + "' } ";
              if (it.opts.messages !== false) {
                out += " , message: '";
                if (it.opts._errorDataPathProperty) {
                  out += "is a required property";
                } else {
                  out += "should have required property \\'" + $missingProperty + "\\'";
                }
                out += "' ";
              }
              if (it.opts.verbose) {
                out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
              }
              out += " } ";
            } else {
              out += " {} ";
            }
            var __err = out;
            out = $$outStack.pop();
            if (!it.compositeRule && $breakOnError) {
              if (it.async) {
                out += " throw new ValidationError([" + __err + "]); ";
              } else {
                out += " validate.errors = [" + __err + "]; return false; ";
              }
            } else {
              out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
            }
            out += " } else { ";
          }
        } else {
          if ($loopRequired) {
            if (!$isData) {
              out += " var " + $vSchema + " = validate.schema" + $schemaPath + "; ";
            }
            var $i = "i" + $lvl, $propertyPath = "schema" + $lvl + "[" + $i + "]", $missingProperty = "' + " + $propertyPath + " + '";
            if (it.opts._errorDataPathProperty) {
              it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);
            }
            if ($isData) {
              out += " if (" + $vSchema + " && !Array.isArray(" + $vSchema + ")) {  var err =   ";
              if (it.createErrors !== false) {
                out += " { keyword: 'required' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { missingProperty: '" + $missingProperty + "' } ";
                if (it.opts.messages !== false) {
                  out += " , message: '";
                  if (it.opts._errorDataPathProperty) {
                    out += "is a required property";
                  } else {
                    out += "should have required property \\'" + $missingProperty + "\\'";
                  }
                  out += "' ";
                }
                if (it.opts.verbose) {
                  out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
                }
                out += " } ";
              } else {
                out += " {} ";
              }
              out += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (" + $vSchema + " !== undefined) { ";
            }
            out += " for (var " + $i + " = 0; " + $i + " < " + $vSchema + ".length; " + $i + "++) { if (" + $data + "[" + $vSchema + "[" + $i + "]] === undefined ";
            if ($ownProperties) {
              out += " || ! Object.prototype.hasOwnProperty.call(" + $data + ", " + $vSchema + "[" + $i + "]) ";
            }
            out += ") {  var err =   ";
            if (it.createErrors !== false) {
              out += " { keyword: 'required' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { missingProperty: '" + $missingProperty + "' } ";
              if (it.opts.messages !== false) {
                out += " , message: '";
                if (it.opts._errorDataPathProperty) {
                  out += "is a required property";
                } else {
                  out += "should have required property \\'" + $missingProperty + "\\'";
                }
                out += "' ";
              }
              if (it.opts.verbose) {
                out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
              }
              out += " } ";
            } else {
              out += " {} ";
            }
            out += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ";
            if ($isData) {
              out += "  }  ";
            }
          } else {
            var arr3 = $required;
            if (arr3) {
              var $propertyKey, i3 = -1, l3 = arr3.length - 1;
              while (i3 < l3) {
                $propertyKey = arr3[i3 += 1];
                var $prop = it.util.getProperty($propertyKey), $missingProperty = it.util.escapeQuotes($propertyKey), $useData = $data + $prop;
                if (it.opts._errorDataPathProperty) {
                  it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);
                }
                out += " if ( " + $useData + " === undefined ";
                if ($ownProperties) {
                  out += " || ! Object.prototype.hasOwnProperty.call(" + $data + ", '" + it.util.escapeQuotes($propertyKey) + "') ";
                }
                out += ") {  var err =   ";
                if (it.createErrors !== false) {
                  out += " { keyword: 'required' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { missingProperty: '" + $missingProperty + "' } ";
                  if (it.opts.messages !== false) {
                    out += " , message: '";
                    if (it.opts._errorDataPathProperty) {
                      out += "is a required property";
                    } else {
                      out += "should have required property \\'" + $missingProperty + "\\'";
                    }
                    out += "' ";
                  }
                  if (it.opts.verbose) {
                    out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
                  }
                  out += " } ";
                } else {
                  out += " {} ";
                }
                out += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ";
              }
            }
          }
        }
        it.errorPath = $currentErrorPath;
      } else if ($breakOnError) {
        out += " if (true) {";
      }
      return out;
    };
    return required$1;
  }
  var uniqueItems;
  var hasRequiredUniqueItems;
  function requireUniqueItems() {
    if (hasRequiredUniqueItems) return uniqueItems;
    hasRequiredUniqueItems = 1;
    uniqueItems = function generate_uniqueItems(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $data = "data" + ($dataLvl || "");
      var $valid = "valid" + $lvl;
      var $isData = it.opts.$data && $schema2 && $schema2.$data, $schemaValue;
      if ($isData) {
        out += " var schema" + $lvl + " = " + it.util.getData($schema2.$data, $dataLvl, it.dataPathArr) + "; ";
        $schemaValue = "schema" + $lvl;
      } else {
        $schemaValue = $schema2;
      }
      if (($schema2 || $isData) && it.opts.uniqueItems !== false) {
        if ($isData) {
          out += " var " + $valid + "; if (" + $schemaValue + " === false || " + $schemaValue + " === undefined) " + $valid + " = true; else if (typeof " + $schemaValue + " != 'boolean') " + $valid + " = false; else { ";
        }
        out += " var i = " + $data + ".length , " + $valid + " = true , j; if (i > 1) { ";
        var $itemType = it.schema.items && it.schema.items.type, $typeIsArray = Array.isArray($itemType);
        if (!$itemType || $itemType == "object" || $itemType == "array" || $typeIsArray && ($itemType.indexOf("object") >= 0 || $itemType.indexOf("array") >= 0)) {
          out += " outer: for (;i--;) { for (j = i; j--;) { if (equal(" + $data + "[i], " + $data + "[j])) { " + $valid + " = false; break outer; } } } ";
        } else {
          out += " var itemIndices = {}, item; for (;i--;) { var item = " + $data + "[i]; ";
          var $method = "checkDataType" + ($typeIsArray ? "s" : "");
          out += " if (" + it.util[$method]($itemType, "item", it.opts.strictNumbers, true) + ") continue; ";
          if ($typeIsArray) {
            out += ` if (typeof item == 'string') item = '"' + item; `;
          }
          out += " if (typeof itemIndices[item] == 'number') { " + $valid + " = false; j = itemIndices[item]; break; } itemIndices[item] = i; } ";
        }
        out += " } ";
        if ($isData) {
          out += "  }  ";
        }
        out += " if (!" + $valid + ") {   ";
        var $$outStack = $$outStack || [];
        $$outStack.push(out);
        out = "";
        if (it.createErrors !== false) {
          out += " { keyword: 'uniqueItems' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { i: i, j: j } ";
          if (it.opts.messages !== false) {
            out += " , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' ";
          }
          if (it.opts.verbose) {
            out += " , schema:  ";
            if ($isData) {
              out += "validate.schema" + $schemaPath;
            } else {
              out += "" + $schema2;
            }
            out += "         , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
          }
          out += " } ";
        } else {
          out += " {} ";
        }
        var __err = out;
        out = $$outStack.pop();
        if (!it.compositeRule && $breakOnError) {
          if (it.async) {
            out += " throw new ValidationError([" + __err + "]); ";
          } else {
            out += " validate.errors = [" + __err + "]; return false; ";
          }
        } else {
          out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
        }
        out += " } ";
        if ($breakOnError) {
          out += " else { ";
        }
      } else {
        if ($breakOnError) {
          out += " if (true) { ";
        }
      }
      return out;
    };
    return uniqueItems;
  }
  var dotjs;
  var hasRequiredDotjs;
  function requireDotjs() {
    if (hasRequiredDotjs) return dotjs;
    hasRequiredDotjs = 1;
    dotjs = {
      "$ref": requireRef(),
      allOf: requireAllOf(),
      anyOf: requireAnyOf(),
      "$comment": requireComment(),
      const: require_const(),
      contains: requireContains(),
      dependencies: requireDependencies(),
      "enum": require_enum(),
      format: requireFormat(),
      "if": require_if(),
      items: requireItems(),
      maximum: require_limit(),
      minimum: require_limit(),
      maxItems: require_limitItems(),
      minItems: require_limitItems(),
      maxLength: require_limitLength(),
      minLength: require_limitLength(),
      maxProperties: require_limitProperties(),
      minProperties: require_limitProperties(),
      multipleOf: requireMultipleOf(),
      not: requireNot(),
      oneOf: requireOneOf(),
      pattern: requirePattern(),
      properties: requireProperties(),
      propertyNames: requirePropertyNames(),
      required: requireRequired(),
      uniqueItems: requireUniqueItems(),
      validate: requireValidate()
    };
    return dotjs;
  }
  var rules;
  var hasRequiredRules;
  function requireRules() {
    if (hasRequiredRules) return rules;
    hasRequiredRules = 1;
    var ruleModules = requireDotjs(), toHash = requireUtil().toHash;
    rules = function rules2() {
      var RULES = [
        {
          type: "number",
          rules: [
            { "maximum": ["exclusiveMaximum"] },
            { "minimum": ["exclusiveMinimum"] },
            "multipleOf",
            "format"
          ]
        },
        {
          type: "string",
          rules: ["maxLength", "minLength", "pattern", "format"]
        },
        {
          type: "array",
          rules: ["maxItems", "minItems", "items", "contains", "uniqueItems"]
        },
        {
          type: "object",
          rules: [
            "maxProperties",
            "minProperties",
            "required",
            "dependencies",
            "propertyNames",
            { "properties": ["additionalProperties", "patternProperties"] }
          ]
        },
        { rules: ["$ref", "const", "enum", "not", "anyOf", "oneOf", "allOf", "if"] }
      ];
      var ALL = ["type", "$comment"];
      var KEYWORDS = [
        "$schema",
        "$id",
        "id",
        "$data",
        "$async",
        "title",
        "description",
        "default",
        "definitions",
        "examples",
        "readOnly",
        "writeOnly",
        "contentMediaType",
        "contentEncoding",
        "additionalItems",
        "then",
        "else"
      ];
      var TYPES = ["number", "integer", "string", "array", "object", "boolean", "null"];
      RULES.all = toHash(ALL);
      RULES.types = toHash(TYPES);
      RULES.forEach(function(group) {
        group.rules = group.rules.map(function(keyword2) {
          var implKeywords;
          if (typeof keyword2 == "object") {
            var key = Object.keys(keyword2)[0];
            implKeywords = keyword2[key];
            keyword2 = key;
            implKeywords.forEach(function(k) {
              ALL.push(k);
              RULES.all[k] = true;
            });
          }
          ALL.push(keyword2);
          var rule = RULES.all[keyword2] = {
            keyword: keyword2,
            code: ruleModules[keyword2],
            implements: implKeywords
          };
          return rule;
        });
        RULES.all.$comment = {
          keyword: "$comment",
          code: ruleModules.$comment
        };
        if (group.type) RULES.types[group.type] = group;
      });
      RULES.keywords = toHash(ALL.concat(KEYWORDS));
      RULES.custom = {};
      return RULES;
    };
    return rules;
  }
  var data;
  var hasRequiredData;
  function requireData() {
    if (hasRequiredData) return data;
    hasRequiredData = 1;
    var KEYWORDS = [
      "multipleOf",
      "maximum",
      "exclusiveMaximum",
      "minimum",
      "exclusiveMinimum",
      "maxLength",
      "minLength",
      "pattern",
      "additionalItems",
      "maxItems",
      "minItems",
      "uniqueItems",
      "maxProperties",
      "minProperties",
      "required",
      "additionalProperties",
      "enum",
      "format",
      "const"
    ];
    data = function(metaSchema, keywordsJsonPointers) {
      for (var i = 0; i < keywordsJsonPointers.length; i++) {
        metaSchema = JSON.parse(JSON.stringify(metaSchema));
        var segments = keywordsJsonPointers[i].split("/");
        var keywords = metaSchema;
        var j;
        for (j = 1; j < segments.length; j++)
          keywords = keywords[segments[j]];
        for (j = 0; j < KEYWORDS.length; j++) {
          var key = KEYWORDS[j];
          var schema = keywords[key];
          if (schema) {
            keywords[key] = {
              anyOf: [
                schema,
                { $ref: "https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#" }
              ]
            };
          }
        }
      }
      return metaSchema;
    };
    return data;
  }
  var async;
  var hasRequiredAsync;
  function requireAsync() {
    if (hasRequiredAsync) return async;
    hasRequiredAsync = 1;
    var MissingRefError = requireError_classes().MissingRef;
    async = compileAsync;
    function compileAsync(schema, meta, callback) {
      var self = this;
      if (typeof this._opts.loadSchema != "function")
        throw new Error("options.loadSchema should be a function");
      if (typeof meta == "function") {
        callback = meta;
        meta = void 0;
      }
      var p = loadMetaSchemaOf(schema).then(function() {
        var schemaObj = self._addSchema(schema, void 0, meta);
        return schemaObj.validate || _compileAsync(schemaObj);
      });
      if (callback) {
        p.then(
          function(v) {
            callback(null, v);
          },
          callback
        );
      }
      return p;
      function loadMetaSchemaOf(sch) {
        var $schema2 = sch.$schema;
        return $schema2 && !self.getSchema($schema2) ? compileAsync.call(self, { $ref: $schema2 }, true) : Promise.resolve();
      }
      function _compileAsync(schemaObj) {
        try {
          return self._compile(schemaObj);
        } catch (e) {
          if (e instanceof MissingRefError) return loadMissingSchema(e);
          throw e;
        }
        function loadMissingSchema(e) {
          var ref2 = e.missingSchema;
          if (added(ref2)) throw new Error("Schema " + ref2 + " is loaded but " + e.missingRef + " cannot be resolved");
          var schemaPromise = self._loadingSchemas[ref2];
          if (!schemaPromise) {
            schemaPromise = self._loadingSchemas[ref2] = self._opts.loadSchema(ref2);
            schemaPromise.then(removePromise, removePromise);
          }
          return schemaPromise.then(function(sch) {
            if (!added(ref2)) {
              return loadMetaSchemaOf(sch).then(function() {
                if (!added(ref2)) self.addSchema(sch, ref2, void 0, meta);
              });
            }
          }).then(function() {
            return _compileAsync(schemaObj);
          });
          function removePromise() {
            delete self._loadingSchemas[ref2];
          }
          function added(ref3) {
            return self._refs[ref3] || self._schemas[ref3];
          }
        }
      }
    }
    return async;
  }
  var custom;
  var hasRequiredCustom;
  function requireCustom() {
    if (hasRequiredCustom) return custom;
    hasRequiredCustom = 1;
    custom = function generate_custom(it, $keyword, $ruleType) {
      var out = " ";
      var $lvl = it.level;
      var $dataLvl = it.dataLevel;
      var $schema2 = it.schema[$keyword];
      var $schemaPath = it.schemaPath + it.util.getProperty($keyword);
      var $errSchemaPath = it.errSchemaPath + "/" + $keyword;
      var $breakOnError = !it.opts.allErrors;
      var $errorKeyword;
      var $data = "data" + ($dataLvl || "");
      var $valid = "valid" + $lvl;
      var $errs = "errs__" + $lvl;
      var $isData = it.opts.$data && $schema2 && $schema2.$data, $schemaValue;
      if ($isData) {
        out += " var schema" + $lvl + " = " + it.util.getData($schema2.$data, $dataLvl, it.dataPathArr) + "; ";
        $schemaValue = "schema" + $lvl;
      } else {
        $schemaValue = $schema2;
      }
      var $rule = this, $definition = "definition" + $lvl, $rDef = $rule.definition, $closingBraces = "";
      var $compile, $inline, $macro, $ruleValidate, $validateCode;
      if ($isData && $rDef.$data) {
        $validateCode = "keywordValidate" + $lvl;
        var $validateSchema = $rDef.validateSchema;
        out += " var " + $definition + " = RULES.custom['" + $keyword + "'].definition; var " + $validateCode + " = " + $definition + ".validate;";
      } else {
        $ruleValidate = it.useCustomRule($rule, $schema2, it.schema, it);
        if (!$ruleValidate) return;
        $schemaValue = "validate.schema" + $schemaPath;
        $validateCode = $ruleValidate.code;
        $compile = $rDef.compile;
        $inline = $rDef.inline;
        $macro = $rDef.macro;
      }
      var $ruleErrs = $validateCode + ".errors", $i = "i" + $lvl, $ruleErr = "ruleErr" + $lvl, $asyncKeyword = $rDef.async;
      if ($asyncKeyword && !it.async) throw new Error("async keyword in sync schema");
      if (!($inline || $macro)) {
        out += "" + $ruleErrs + " = null;";
      }
      out += "var " + $errs + " = errors;var " + $valid + ";";
      if ($isData && $rDef.$data) {
        $closingBraces += "}";
        out += " if (" + $schemaValue + " === undefined) { " + $valid + " = true; } else { ";
        if ($validateSchema) {
          $closingBraces += "}";
          out += " " + $valid + " = " + $definition + ".validateSchema(" + $schemaValue + "); if (" + $valid + ") { ";
        }
      }
      if ($inline) {
        if ($rDef.statements) {
          out += " " + $ruleValidate.validate + " ";
        } else {
          out += " " + $valid + " = " + $ruleValidate.validate + "; ";
        }
      } else if ($macro) {
        var $it = it.util.copy(it);
        var $closingBraces = "";
        $it.level++;
        var $nextValid = "valid" + $it.level;
        $it.schema = $ruleValidate.validate;
        $it.schemaPath = "";
        var $wasComposite = it.compositeRule;
        it.compositeRule = $it.compositeRule = true;
        var $code = it.validate($it).replace(/validate\.schema/g, $validateCode);
        it.compositeRule = $it.compositeRule = $wasComposite;
        out += " " + $code;
      } else {
        var $$outStack = $$outStack || [];
        $$outStack.push(out);
        out = "";
        out += "  " + $validateCode + ".call( ";
        if (it.opts.passContext) {
          out += "this";
        } else {
          out += "self";
        }
        if ($compile || $rDef.schema === false) {
          out += " , " + $data + " ";
        } else {
          out += " , " + $schemaValue + " , " + $data + " , validate.schema" + it.schemaPath + " ";
        }
        out += " , (dataPath || '')";
        if (it.errorPath != '""') {
          out += " + " + it.errorPath;
        }
        var $parentData = $dataLvl ? "data" + ($dataLvl - 1 || "") : "parentData", $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : "parentDataProperty";
        out += " , " + $parentData + " , " + $parentDataProperty + " , rootData )  ";
        var def_callRuleValidate = out;
        out = $$outStack.pop();
        if ($rDef.errors === false) {
          out += " " + $valid + " = ";
          if ($asyncKeyword) {
            out += "await ";
          }
          out += "" + def_callRuleValidate + "; ";
        } else {
          if ($asyncKeyword) {
            $ruleErrs = "customErrors" + $lvl;
            out += " var " + $ruleErrs + " = null; try { " + $valid + " = await " + def_callRuleValidate + "; } catch (e) { " + $valid + " = false; if (e instanceof ValidationError) " + $ruleErrs + " = e.errors; else throw e; } ";
          } else {
            out += " " + $ruleErrs + " = null; " + $valid + " = " + def_callRuleValidate + "; ";
          }
        }
      }
      if ($rDef.modifying) {
        out += " if (" + $parentData + ") " + $data + " = " + $parentData + "[" + $parentDataProperty + "];";
      }
      out += "" + $closingBraces;
      if ($rDef.valid) {
        if ($breakOnError) {
          out += " if (true) { ";
        }
      } else {
        out += " if ( ";
        if ($rDef.valid === void 0) {
          out += " !";
          if ($macro) {
            out += "" + $nextValid;
          } else {
            out += "" + $valid;
          }
        } else {
          out += " " + !$rDef.valid + " ";
        }
        out += ") { ";
        $errorKeyword = $rule.keyword;
        var $$outStack = $$outStack || [];
        $$outStack.push(out);
        out = "";
        var $$outStack = $$outStack || [];
        $$outStack.push(out);
        out = "";
        if (it.createErrors !== false) {
          out += " { keyword: '" + ($errorKeyword || "custom") + "' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { keyword: '" + $rule.keyword + "' } ";
          if (it.opts.messages !== false) {
            out += ` , message: 'should pass "` + $rule.keyword + `" keyword validation' `;
          }
          if (it.opts.verbose) {
            out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
          }
          out += " } ";
        } else {
          out += " {} ";
        }
        var __err = out;
        out = $$outStack.pop();
        if (!it.compositeRule && $breakOnError) {
          if (it.async) {
            out += " throw new ValidationError([" + __err + "]); ";
          } else {
            out += " validate.errors = [" + __err + "]; return false; ";
          }
        } else {
          out += " var err = " + __err + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
        }
        var def_customError = out;
        out = $$outStack.pop();
        if ($inline) {
          if ($rDef.errors) {
            if ($rDef.errors != "full") {
              out += "  for (var " + $i + "=" + $errs + "; " + $i + "<errors; " + $i + "++) { var " + $ruleErr + " = vErrors[" + $i + "]; if (" + $ruleErr + ".dataPath === undefined) " + $ruleErr + ".dataPath = (dataPath || '') + " + it.errorPath + "; if (" + $ruleErr + ".schemaPath === undefined) { " + $ruleErr + '.schemaPath = "' + $errSchemaPath + '"; } ';
              if (it.opts.verbose) {
                out += " " + $ruleErr + ".schema = " + $schemaValue + "; " + $ruleErr + ".data = " + $data + "; ";
              }
              out += " } ";
            }
          } else {
            if ($rDef.errors === false) {
              out += " " + def_customError + " ";
            } else {
              out += " if (" + $errs + " == errors) { " + def_customError + " } else {  for (var " + $i + "=" + $errs + "; " + $i + "<errors; " + $i + "++) { var " + $ruleErr + " = vErrors[" + $i + "]; if (" + $ruleErr + ".dataPath === undefined) " + $ruleErr + ".dataPath = (dataPath || '') + " + it.errorPath + "; if (" + $ruleErr + ".schemaPath === undefined) { " + $ruleErr + '.schemaPath = "' + $errSchemaPath + '"; } ';
              if (it.opts.verbose) {
                out += " " + $ruleErr + ".schema = " + $schemaValue + "; " + $ruleErr + ".data = " + $data + "; ";
              }
              out += " } } ";
            }
          }
        } else if ($macro) {
          out += "   var err =   ";
          if (it.createErrors !== false) {
            out += " { keyword: '" + ($errorKeyword || "custom") + "' , dataPath: (dataPath || '') + " + it.errorPath + " , schemaPath: " + it.util.toQuotedString($errSchemaPath) + " , params: { keyword: '" + $rule.keyword + "' } ";
            if (it.opts.messages !== false) {
              out += ` , message: 'should pass "` + $rule.keyword + `" keyword validation' `;
            }
            if (it.opts.verbose) {
              out += " , schema: validate.schema" + $schemaPath + " , parentSchema: validate.schema" + it.schemaPath + " , data: " + $data + " ";
            }
            out += " } ";
          } else {
            out += " {} ";
          }
          out += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
          if (!it.compositeRule && $breakOnError) {
            if (it.async) {
              out += " throw new ValidationError(vErrors); ";
            } else {
              out += " validate.errors = vErrors; return false; ";
            }
          }
        } else {
          if ($rDef.errors === false) {
            out += " " + def_customError + " ";
          } else {
            out += " if (Array.isArray(" + $ruleErrs + ")) { if (vErrors === null) vErrors = " + $ruleErrs + "; else vErrors = vErrors.concat(" + $ruleErrs + "); errors = vErrors.length;  for (var " + $i + "=" + $errs + "; " + $i + "<errors; " + $i + "++) { var " + $ruleErr + " = vErrors[" + $i + "]; if (" + $ruleErr + ".dataPath === undefined) " + $ruleErr + ".dataPath = (dataPath || '') + " + it.errorPath + ";  " + $ruleErr + '.schemaPath = "' + $errSchemaPath + '";  ';
            if (it.opts.verbose) {
              out += " " + $ruleErr + ".schema = " + $schemaValue + "; " + $ruleErr + ".data = " + $data + "; ";
            }
            out += " } } else { " + def_customError + " } ";
          }
        }
        out += " } ";
        if ($breakOnError) {
          out += " else { ";
        }
      }
      return out;
    };
    return custom;
  }
  const $schema$1 = "http://json-schema.org/draft-07/schema#";
  const $id$1 = "http://json-schema.org/draft-07/schema#";
  const title = "Core schema meta-schema";
  const definitions = { "schemaArray": { "type": "array", "minItems": 1, "items": { "$ref": "#" } }, "nonNegativeInteger": { "type": "integer", "minimum": 0 }, "nonNegativeIntegerDefault0": { "allOf": [{ "$ref": "#/definitions/nonNegativeInteger" }, { "default": 0 }] }, "simpleTypes": { "enum": ["array", "boolean", "integer", "null", "number", "object", "string"] }, "stringArray": { "type": "array", "items": { "type": "string" }, "uniqueItems": true, "default": [] } };
  const type$1 = ["object", "boolean"];
  const properties$1 = { "$id": { "type": "string", "format": "uri-reference" }, "$schema": { "type": "string", "format": "uri" }, "$ref": { "type": "string", "format": "uri-reference" }, "$comment": { "type": "string" }, "title": { "type": "string" }, "description": { "type": "string" }, "default": true, "readOnly": { "type": "boolean", "default": false }, "examples": { "type": "array", "items": true }, "multipleOf": { "type": "number", "exclusiveMinimum": 0 }, "maximum": { "type": "number" }, "exclusiveMaximum": { "type": "number" }, "minimum": { "type": "number" }, "exclusiveMinimum": { "type": "number" }, "maxLength": { "$ref": "#/definitions/nonNegativeInteger" }, "minLength": { "$ref": "#/definitions/nonNegativeIntegerDefault0" }, "pattern": { "type": "string", "format": "regex" }, "additionalItems": { "$ref": "#" }, "items": { "anyOf": [{ "$ref": "#" }, { "$ref": "#/definitions/schemaArray" }], "default": true }, "maxItems": { "$ref": "#/definitions/nonNegativeInteger" }, "minItems": { "$ref": "#/definitions/nonNegativeIntegerDefault0" }, "uniqueItems": { "type": "boolean", "default": false }, "contains": { "$ref": "#" }, "maxProperties": { "$ref": "#/definitions/nonNegativeInteger" }, "minProperties": { "$ref": "#/definitions/nonNegativeIntegerDefault0" }, "required": { "$ref": "#/definitions/stringArray" }, "additionalProperties": { "$ref": "#" }, "definitions": { "type": "object", "additionalProperties": { "$ref": "#" }, "default": {} }, "properties": { "type": "object", "additionalProperties": { "$ref": "#" }, "default": {} }, "patternProperties": { "type": "object", "additionalProperties": { "$ref": "#" }, "propertyNames": { "format": "regex" }, "default": {} }, "dependencies": { "type": "object", "additionalProperties": { "anyOf": [{ "$ref": "#" }, { "$ref": "#/definitions/stringArray" }] } }, "propertyNames": { "$ref": "#" }, "const": true, "enum": { "type": "array", "items": true, "minItems": 1, "uniqueItems": true }, "type": { "anyOf": [{ "$ref": "#/definitions/simpleTypes" }, { "type": "array", "items": { "$ref": "#/definitions/simpleTypes" }, "minItems": 1, "uniqueItems": true }] }, "format": { "type": "string" }, "contentMediaType": { "type": "string" }, "contentEncoding": { "type": "string" }, "if": { "$ref": "#" }, "then": { "$ref": "#" }, "else": { "$ref": "#" }, "allOf": { "$ref": "#/definitions/schemaArray" }, "anyOf": { "$ref": "#/definitions/schemaArray" }, "oneOf": { "$ref": "#/definitions/schemaArray" }, "not": { "$ref": "#" } };
  const require$$13 = {
    $schema: $schema$1,
    $id: $id$1,
    title,
    definitions,
    type: type$1,
    properties: properties$1,
    "default": true
  };
  var definition_schema;
  var hasRequiredDefinition_schema;
  function requireDefinition_schema() {
    if (hasRequiredDefinition_schema) return definition_schema;
    hasRequiredDefinition_schema = 1;
    var metaSchema = require$$13;
    definition_schema = {
      $id: "https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",
      definitions: {
        simpleTypes: metaSchema.definitions.simpleTypes
      },
      type: "object",
      dependencies: {
        schema: ["validate"],
        $data: ["validate"],
        statements: ["inline"],
        valid: { not: { required: ["macro"] } }
      },
      properties: {
        type: metaSchema.properties.type,
        schema: { type: "boolean" },
        statements: { type: "boolean" },
        dependencies: {
          type: "array",
          items: { type: "string" }
        },
        metaSchema: { type: "object" },
        modifying: { type: "boolean" },
        valid: { type: "boolean" },
        $data: { type: "boolean" },
        async: { type: "boolean" },
        errors: {
          anyOf: [
            { type: "boolean" },
            { const: "full" }
          ]
        }
      }
    };
    return definition_schema;
  }
  var keyword;
  var hasRequiredKeyword;
  function requireKeyword() {
    if (hasRequiredKeyword) return keyword;
    hasRequiredKeyword = 1;
    var IDENTIFIER = /^[a-z_$][a-z0-9_$-]*$/i;
    var customRuleCode = requireCustom();
    var definitionSchema = requireDefinition_schema();
    keyword = {
      add: addKeyword,
      get: getKeyword,
      remove: removeKeyword,
      validate: validateKeyword
    };
    function addKeyword(keyword2, definition) {
      var RULES = this.RULES;
      if (RULES.keywords[keyword2])
        throw new Error("Keyword " + keyword2 + " is already defined");
      if (!IDENTIFIER.test(keyword2))
        throw new Error("Keyword " + keyword2 + " is not a valid identifier");
      if (definition) {
        this.validateKeyword(definition, true);
        var dataType = definition.type;
        if (Array.isArray(dataType)) {
          for (var i = 0; i < dataType.length; i++)
            _addRule(keyword2, dataType[i], definition);
        } else {
          _addRule(keyword2, dataType, definition);
        }
        var metaSchema = definition.metaSchema;
        if (metaSchema) {
          if (definition.$data && this._opts.$data) {
            metaSchema = {
              anyOf: [
                metaSchema,
                { "$ref": "https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#" }
              ]
            };
          }
          definition.validateSchema = this.compile(metaSchema, true);
        }
      }
      RULES.keywords[keyword2] = RULES.all[keyword2] = true;
      function _addRule(keyword3, dataType2, definition2) {
        var ruleGroup;
        for (var i2 = 0; i2 < RULES.length; i2++) {
          var rg = RULES[i2];
          if (rg.type == dataType2) {
            ruleGroup = rg;
            break;
          }
        }
        if (!ruleGroup) {
          ruleGroup = { type: dataType2, rules: [] };
          RULES.push(ruleGroup);
        }
        var rule = {
          keyword: keyword3,
          definition: definition2,
          custom: true,
          code: customRuleCode,
          implements: definition2.implements
        };
        ruleGroup.rules.push(rule);
        RULES.custom[keyword3] = rule;
      }
      return this;
    }
    function getKeyword(keyword2) {
      var rule = this.RULES.custom[keyword2];
      return rule ? rule.definition : this.RULES.keywords[keyword2] || false;
    }
    function removeKeyword(keyword2) {
      var RULES = this.RULES;
      delete RULES.keywords[keyword2];
      delete RULES.all[keyword2];
      delete RULES.custom[keyword2];
      for (var i = 0; i < RULES.length; i++) {
        var rules2 = RULES[i].rules;
        for (var j = 0; j < rules2.length; j++) {
          if (rules2[j].keyword == keyword2) {
            rules2.splice(j, 1);
            break;
          }
        }
      }
      return this;
    }
    function validateKeyword(definition, throwError) {
      validateKeyword.errors = null;
      var v = this._validateKeyword = this._validateKeyword || this.compile(definitionSchema, true);
      if (v(definition)) return true;
      validateKeyword.errors = v.errors;
      if (throwError)
        throw new Error("custom keyword definition is invalid: " + this.errorsText(v.errors));
      else
        return false;
    }
    return keyword;
  }
  const $schema = "http://json-schema.org/draft-07/schema#";
  const $id = "https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#";
  const description = "Meta-schema for $data reference (JSON Schema extension proposal)";
  const type = "object";
  const required = ["$data"];
  const properties = { "$data": { "type": "string", "anyOf": [{ "format": "relative-json-pointer" }, { "format": "json-pointer" }] } };
  const additionalProperties = false;
  const require$$12 = {
    $schema,
    $id,
    description,
    type,
    required,
    properties,
    additionalProperties
  };
  var ajv;
  var hasRequiredAjv;
  function requireAjv() {
    if (hasRequiredAjv) return ajv;
    hasRequiredAjv = 1;
    var compileSchema = requireCompile(), resolve = requireResolve(), Cache = requireCache(), SchemaObject = requireSchema_obj(), stableStringify = requireFastJsonStableStringify(), formats = requireFormats(), rules2 = requireRules(), $dataMetaSchema = requireData(), util2 = requireUtil();
    ajv = Ajv2;
    Ajv2.prototype.validate = validate2;
    Ajv2.prototype.compile = compile;
    Ajv2.prototype.addSchema = addSchema;
    Ajv2.prototype.addMetaSchema = addMetaSchema;
    Ajv2.prototype.validateSchema = validateSchema;
    Ajv2.prototype.getSchema = getSchema;
    Ajv2.prototype.removeSchema = removeSchema;
    Ajv2.prototype.addFormat = addFormat;
    Ajv2.prototype.errorsText = errorsText;
    Ajv2.prototype._addSchema = _addSchema;
    Ajv2.prototype._compile = _compile;
    Ajv2.prototype.compileAsync = requireAsync();
    var customKeyword = requireKeyword();
    Ajv2.prototype.addKeyword = customKeyword.add;
    Ajv2.prototype.getKeyword = customKeyword.get;
    Ajv2.prototype.removeKeyword = customKeyword.remove;
    Ajv2.prototype.validateKeyword = customKeyword.validate;
    var errorClasses = requireError_classes();
    Ajv2.ValidationError = errorClasses.Validation;
    Ajv2.MissingRefError = errorClasses.MissingRef;
    Ajv2.$dataMetaSchema = $dataMetaSchema;
    var META_SCHEMA_ID = "http://json-schema.org/draft-07/schema";
    var META_IGNORE_OPTIONS = ["removeAdditional", "useDefaults", "coerceTypes", "strictDefaults"];
    var META_SUPPORT_DATA = ["/properties"];
    function Ajv2(opts) {
      if (!(this instanceof Ajv2)) return new Ajv2(opts);
      opts = this._opts = util2.copy(opts) || {};
      setLogger(this);
      this._schemas = {};
      this._refs = {};
      this._fragments = {};
      this._formats = formats(opts.format);
      this._cache = opts.cache || new Cache();
      this._loadingSchemas = {};
      this._compilations = [];
      this.RULES = rules2();
      this._getId = chooseGetId(opts);
      opts.loopRequired = opts.loopRequired || Infinity;
      if (opts.errorDataPath == "property") opts._errorDataPathProperty = true;
      if (opts.serialize === void 0) opts.serialize = stableStringify;
      this._metaOpts = getMetaSchemaOptions(this);
      if (opts.formats) addInitialFormats(this);
      if (opts.keywords) addInitialKeywords(this);
      addDefaultMetaSchema(this);
      if (typeof opts.meta == "object") this.addMetaSchema(opts.meta);
      if (opts.nullable) this.addKeyword("nullable", { metaSchema: { type: "boolean" } });
      addInitialSchemas(this);
    }
    function validate2(schemaKeyRef, data2) {
      var v;
      if (typeof schemaKeyRef == "string") {
        v = this.getSchema(schemaKeyRef);
        if (!v) throw new Error('no schema with key or ref "' + schemaKeyRef + '"');
      } else {
        var schemaObj = this._addSchema(schemaKeyRef);
        v = schemaObj.validate || this._compile(schemaObj);
      }
      var valid = v(data2);
      if (v.$async !== true) this.errors = v.errors;
      return valid;
    }
    function compile(schema, _meta) {
      var schemaObj = this._addSchema(schema, void 0, _meta);
      return schemaObj.validate || this._compile(schemaObj);
    }
    function addSchema(schema, key, _skipValidation, _meta) {
      if (Array.isArray(schema)) {
        for (var i = 0; i < schema.length; i++) this.addSchema(schema[i], void 0, _skipValidation, _meta);
        return this;
      }
      var id = this._getId(schema);
      if (id !== void 0 && typeof id != "string")
        throw new Error("schema id must be string");
      key = resolve.normalizeId(key || id);
      checkUnique(this, key);
      this._schemas[key] = this._addSchema(schema, _skipValidation, _meta, true);
      return this;
    }
    function addMetaSchema(schema, key, skipValidation) {
      this.addSchema(schema, key, skipValidation, true);
      return this;
    }
    function validateSchema(schema, throwOrLogError) {
      var $schema2 = schema.$schema;
      if ($schema2 !== void 0 && typeof $schema2 != "string")
        throw new Error("$schema must be a string");
      $schema2 = $schema2 || this._opts.defaultMeta || defaultMeta(this);
      if (!$schema2) {
        this.logger.warn("meta-schema not available");
        this.errors = null;
        return true;
      }
      var valid = this.validate($schema2, schema);
      if (!valid && throwOrLogError) {
        var message = "schema is invalid: " + this.errorsText();
        if (this._opts.validateSchema == "log") this.logger.error(message);
        else throw new Error(message);
      }
      return valid;
    }
    function defaultMeta(self) {
      var meta = self._opts.meta;
      self._opts.defaultMeta = typeof meta == "object" ? self._getId(meta) || meta : self.getSchema(META_SCHEMA_ID) ? META_SCHEMA_ID : void 0;
      return self._opts.defaultMeta;
    }
    function getSchema(keyRef) {
      var schemaObj = _getSchemaObj(this, keyRef);
      switch (typeof schemaObj) {
        case "object":
          return schemaObj.validate || this._compile(schemaObj);
        case "string":
          return this.getSchema(schemaObj);
        case "undefined":
          return _getSchemaFragment(this, keyRef);
      }
    }
    function _getSchemaFragment(self, ref2) {
      var res = resolve.schema.call(self, { schema: {} }, ref2);
      if (res) {
        var schema = res.schema, root = res.root, baseId = res.baseId;
        var v = compileSchema.call(self, schema, root, void 0, baseId);
        self._fragments[ref2] = new SchemaObject({
          ref: ref2,
          fragment: true,
          schema,
          root,
          baseId,
          validate: v
        });
        return v;
      }
    }
    function _getSchemaObj(self, keyRef) {
      keyRef = resolve.normalizeId(keyRef);
      return self._schemas[keyRef] || self._refs[keyRef] || self._fragments[keyRef];
    }
    function removeSchema(schemaKeyRef) {
      if (schemaKeyRef instanceof RegExp) {
        _removeAllSchemas(this, this._schemas, schemaKeyRef);
        _removeAllSchemas(this, this._refs, schemaKeyRef);
        return this;
      }
      switch (typeof schemaKeyRef) {
        case "undefined":
          _removeAllSchemas(this, this._schemas);
          _removeAllSchemas(this, this._refs);
          this._cache.clear();
          return this;
        case "string":
          var schemaObj = _getSchemaObj(this, schemaKeyRef);
          if (schemaObj) this._cache.del(schemaObj.cacheKey);
          delete this._schemas[schemaKeyRef];
          delete this._refs[schemaKeyRef];
          return this;
        case "object":
          var serialize = this._opts.serialize;
          var cacheKey = serialize ? serialize(schemaKeyRef) : schemaKeyRef;
          this._cache.del(cacheKey);
          var id = this._getId(schemaKeyRef);
          if (id) {
            id = resolve.normalizeId(id);
            delete this._schemas[id];
            delete this._refs[id];
          }
      }
      return this;
    }
    function _removeAllSchemas(self, schemas, regex) {
      for (var keyRef in schemas) {
        var schemaObj = schemas[keyRef];
        if (!schemaObj.meta && (!regex || regex.test(keyRef))) {
          self._cache.del(schemaObj.cacheKey);
          delete schemas[keyRef];
        }
      }
    }
    function _addSchema(schema, skipValidation, meta, shouldAddSchema) {
      if (typeof schema != "object" && typeof schema != "boolean")
        throw new Error("schema should be object or boolean");
      var serialize = this._opts.serialize;
      var cacheKey = serialize ? serialize(schema) : schema;
      var cached = this._cache.get(cacheKey);
      if (cached) return cached;
      shouldAddSchema = shouldAddSchema || this._opts.addUsedSchema !== false;
      var id = resolve.normalizeId(this._getId(schema));
      if (id && shouldAddSchema) checkUnique(this, id);
      var willValidate = this._opts.validateSchema !== false && !skipValidation;
      var recursiveMeta;
      if (willValidate && !(recursiveMeta = id && id == resolve.normalizeId(schema.$schema)))
        this.validateSchema(schema, true);
      var localRefs = resolve.ids.call(this, schema);
      var schemaObj = new SchemaObject({
        id,
        schema,
        localRefs,
        cacheKey,
        meta
      });
      if (id[0] != "#" && shouldAddSchema) this._refs[id] = schemaObj;
      this._cache.put(cacheKey, schemaObj);
      if (willValidate && recursiveMeta) this.validateSchema(schema, true);
      return schemaObj;
    }
    function _compile(schemaObj, root) {
      if (schemaObj.compiling) {
        schemaObj.validate = callValidate;
        callValidate.schema = schemaObj.schema;
        callValidate.errors = null;
        callValidate.root = root ? root : callValidate;
        if (schemaObj.schema.$async === true)
          callValidate.$async = true;
        return callValidate;
      }
      schemaObj.compiling = true;
      var currentOpts;
      if (schemaObj.meta) {
        currentOpts = this._opts;
        this._opts = this._metaOpts;
      }
      var v;
      try {
        v = compileSchema.call(this, schemaObj.schema, root, schemaObj.localRefs);
      } catch (e) {
        delete schemaObj.validate;
        throw e;
      } finally {
        schemaObj.compiling = false;
        if (schemaObj.meta) this._opts = currentOpts;
      }
      schemaObj.validate = v;
      schemaObj.refs = v.refs;
      schemaObj.refVal = v.refVal;
      schemaObj.root = v.root;
      return v;
      function callValidate() {
        var _validate = schemaObj.validate;
        var result = _validate.apply(this, arguments);
        callValidate.errors = _validate.errors;
        return result;
      }
    }
    function chooseGetId(opts) {
      switch (opts.schemaId) {
        case "auto":
          return _get$IdOrId;
        case "id":
          return _getId;
        default:
          return _get$Id;
      }
    }
    function _getId(schema) {
      if (schema.$id) this.logger.warn("schema $id ignored", schema.$id);
      return schema.id;
    }
    function _get$Id(schema) {
      if (schema.id) this.logger.warn("schema id ignored", schema.id);
      return schema.$id;
    }
    function _get$IdOrId(schema) {
      if (schema.$id && schema.id && schema.$id != schema.id)
        throw new Error("schema $id is different from id");
      return schema.$id || schema.id;
    }
    function errorsText(errors, options) {
      errors = errors || this.errors;
      if (!errors) return "No errors";
      options = options || {};
      var separator = options.separator === void 0 ? ", " : options.separator;
      var dataVar = options.dataVar === void 0 ? "data" : options.dataVar;
      var text = "";
      for (var i = 0; i < errors.length; i++) {
        var e = errors[i];
        if (e) text += dataVar + e.dataPath + " " + e.message + separator;
      }
      return text.slice(0, -separator.length);
    }
    function addFormat(name, format2) {
      if (typeof format2 == "string") format2 = new RegExp(format2);
      this._formats[name] = format2;
      return this;
    }
    function addDefaultMetaSchema(self) {
      var $dataSchema;
      if (self._opts.$data) {
        $dataSchema = require$$12;
        self.addMetaSchema($dataSchema, $dataSchema.$id, true);
      }
      if (self._opts.meta === false) return;
      var metaSchema = require$$13;
      if (self._opts.$data) metaSchema = $dataMetaSchema(metaSchema, META_SUPPORT_DATA);
      self.addMetaSchema(metaSchema, META_SCHEMA_ID, true);
      self._refs["http://json-schema.org/schema"] = META_SCHEMA_ID;
    }
    function addInitialSchemas(self) {
      var optsSchemas = self._opts.schemas;
      if (!optsSchemas) return;
      if (Array.isArray(optsSchemas)) self.addSchema(optsSchemas);
      else for (var key in optsSchemas) self.addSchema(optsSchemas[key], key);
    }
    function addInitialFormats(self) {
      for (var name in self._opts.formats) {
        var format2 = self._opts.formats[name];
        self.addFormat(name, format2);
      }
    }
    function addInitialKeywords(self) {
      for (var name in self._opts.keywords) {
        var keyword2 = self._opts.keywords[name];
        self.addKeyword(name, keyword2);
      }
    }
    function checkUnique(self, id) {
      if (self._schemas[id] || self._refs[id])
        throw new Error('schema with key or id "' + id + '" already exists');
    }
    function getMetaSchemaOptions(self) {
      var metaOpts = util2.copy(self._opts);
      for (var i = 0; i < META_IGNORE_OPTIONS.length; i++)
        delete metaOpts[META_IGNORE_OPTIONS[i]];
      return metaOpts;
    }
    function setLogger(self) {
      var logger2 = self._opts.logger;
      if (logger2 === false) {
        self.logger = { log: noop, warn: noop, error: noop };
      } else {
        if (logger2 === void 0) logger2 = console;
        if (!(typeof logger2 == "object" && logger2.log && logger2.warn && logger2.error))
          throw new Error("logger must implement log, warn and error methods");
        self.logger = logger2;
      }
    }
    function noop() {
    }
    return ajv;
  }
  var ajvExports = requireAjv();
  const Ajv = /* @__PURE__ */ getDefaultExportFromCjs(ajvExports);
  class Server extends Protocol {
    /**
     * Initializes this server with the given name and version information.
     */
    constructor(_serverInfo, options) {
      var _a;
      super(options);
      this._serverInfo = _serverInfo;
      this._capabilities = (_a = options === null || options === void 0 ? void 0 : options.capabilities) !== null && _a !== void 0 ? _a : {};
      this._instructions = options === null || options === void 0 ? void 0 : options.instructions;
      this.setRequestHandler(InitializeRequestSchema, (request) => this._oninitialize(request));
      this.setNotificationHandler(InitializedNotificationSchema, () => {
        var _a2;
        return (_a2 = this.oninitialized) === null || _a2 === void 0 ? void 0 : _a2.call(this);
      });
    }
    /**
     * Registers new capabilities. This can only be called before connecting to a transport.
     *
     * The new capabilities will be merged with any existing capabilities previously given (e.g., at initialization).
     */
    registerCapabilities(capabilities) {
      if (this.transport) {
        throw new Error("Cannot register capabilities after connecting to transport");
      }
      this._capabilities = mergeCapabilities(this._capabilities, capabilities);
    }
    assertCapabilityForMethod(method) {
      var _a, _b, _c;
      switch (method) {
        case "sampling/createMessage":
          if (!((_a = this._clientCapabilities) === null || _a === void 0 ? void 0 : _a.sampling)) {
            throw new Error(`Client does not support sampling (required for ${method})`);
          }
          break;
        case "elicitation/create":
          if (!((_b = this._clientCapabilities) === null || _b === void 0 ? void 0 : _b.elicitation)) {
            throw new Error(`Client does not support elicitation (required for ${method})`);
          }
          break;
        case "roots/list":
          if (!((_c = this._clientCapabilities) === null || _c === void 0 ? void 0 : _c.roots)) {
            throw new Error(`Client does not support listing roots (required for ${method})`);
          }
          break;
      }
    }
    assertNotificationCapability(method) {
      switch (method) {
        case "notifications/message":
          if (!this._capabilities.logging) {
            throw new Error(`Server does not support logging (required for ${method})`);
          }
          break;
        case "notifications/resources/updated":
        case "notifications/resources/list_changed":
          if (!this._capabilities.resources) {
            throw new Error(`Server does not support notifying about resources (required for ${method})`);
          }
          break;
        case "notifications/tools/list_changed":
          if (!this._capabilities.tools) {
            throw new Error(`Server does not support notifying of tool list changes (required for ${method})`);
          }
          break;
        case "notifications/prompts/list_changed":
          if (!this._capabilities.prompts) {
            throw new Error(`Server does not support notifying of prompt list changes (required for ${method})`);
          }
          break;
      }
    }
    assertRequestHandlerCapability(method) {
      switch (method) {
        case "sampling/createMessage":
          if (!this._capabilities.sampling) {
            throw new Error(`Server does not support sampling (required for ${method})`);
          }
          break;
        case "logging/setLevel":
          if (!this._capabilities.logging) {
            throw new Error(`Server does not support logging (required for ${method})`);
          }
          break;
        case "prompts/get":
        case "prompts/list":
          if (!this._capabilities.prompts) {
            throw new Error(`Server does not support prompts (required for ${method})`);
          }
          break;
        case "resources/list":
        case "resources/templates/list":
        case "resources/read":
          if (!this._capabilities.resources) {
            throw new Error(`Server does not support resources (required for ${method})`);
          }
          break;
        case "tools/call":
        case "tools/list":
          if (!this._capabilities.tools) {
            throw new Error(`Server does not support tools (required for ${method})`);
          }
          break;
      }
    }
    async _oninitialize(request) {
      const requestedVersion = request.params.protocolVersion;
      this._clientCapabilities = request.params.capabilities;
      this._clientVersion = request.params.clientInfo;
      const protocolVersion = SUPPORTED_PROTOCOL_VERSIONS.includes(requestedVersion) ? requestedVersion : LATEST_PROTOCOL_VERSION;
      return {
        protocolVersion,
        capabilities: this.getCapabilities(),
        serverInfo: this._serverInfo,
        ...this._instructions && { instructions: this._instructions }
      };
    }
    /**
     * After initialization has completed, this will be populated with the client's reported capabilities.
     */
    getClientCapabilities() {
      return this._clientCapabilities;
    }
    /**
     * After initialization has completed, this will be populated with information about the client's name and version.
     */
    getClientVersion() {
      return this._clientVersion;
    }
    getCapabilities() {
      return this._capabilities;
    }
    async ping() {
      return this.request({ method: "ping" }, EmptyResultSchema);
    }
    async createMessage(params, options) {
      return this.request({ method: "sampling/createMessage", params }, CreateMessageResultSchema, options);
    }
    async elicitInput(params, options) {
      const result = await this.request({ method: "elicitation/create", params }, ElicitResultSchema, options);
      if (result.action === "accept" && result.content) {
        try {
          const ajv2 = new Ajv();
          const validate2 = ajv2.compile(params.requestedSchema);
          const isValid2 = validate2(result.content);
          if (!isValid2) {
            throw new McpError(ErrorCode.InvalidParams, `Elicitation response content does not match requested schema: ${ajv2.errorsText(validate2.errors)}`);
          }
        } catch (error) {
          if (error instanceof McpError) {
            throw error;
          }
          throw new McpError(ErrorCode.InternalError, `Error validating elicitation response: ${error}`);
        }
      }
      return result;
    }
    async listRoots(params, options) {
      return this.request({ method: "roots/list", params }, ListRootsResultSchema, options);
    }
    async sendLoggingMessage(params) {
      return this.notification({ method: "notifications/message", params });
    }
    async sendResourceUpdated(params) {
      return this.notification({
        method: "notifications/resources/updated",
        params
      });
    }
    async sendResourceListChanged() {
      return this.notification({
        method: "notifications/resources/list_changed"
      });
    }
    async sendToolListChanged() {
      return this.notification({ method: "notifications/tools/list_changed" });
    }
    async sendPromptListChanged() {
      return this.notification({ method: "notifications/prompts/list_changed" });
    }
  }
  class NotificationQueue {
    constructor() {
      __publicField(this, "queue", []);
      __publicField(this, "listeners", []);
    }
    push(notification) {
      this.queue.push(notification);
      this.listeners.forEach((fn) => fn(notification));
    }
    filterByRequestId(requestId) {
      return this.queue.filter((n) => n.params.requestId === requestId);
    }
    removeByRequestId(requestId) {
      this.queue = this.queue.filter((n) => n.params.requestId !== requestId);
    }
    addListener(fn) {
      this.listeners.push(fn);
    }
    removeListener(fn) {
      const idx = this.listeners.indexOf(fn);
      if (idx !== -1) this.listeners.splice(idx, 1);
    }
  }
  class StreamManager {
    constructor(protocol) {
      __publicField(this, "protocol");
      this.protocol = protocol;
    }
    /**
     * 发送流数据
     */
    sendStreamData(requestId, data2) {
      this.protocol.notification({
        method: "sdppp/streamResponse",
        params: {
          requestId,
          data: data2,
          error: null,
          finished: false
        }
      });
    }
    /**
     * 发送完成响应
     */
    sendFinishedResponse(requestId) {
      this.protocol.notification({
        method: "sdppp/streamResponse",
        params: {
          requestId,
          data: null,
          error: null,
          finished: true
        }
      });
    }
    /**
     * 发送中止响应
     */
    sendAbortedResponse(requestId) {
      this.protocol.notification({
        method: "sdppp/streamResponse",
        params: {
          requestId,
          data: null,
          error: "Operation was aborted",
          finished: true
        }
      });
    }
    /**
     * 发送错误响应
     */
    sendErrorResponse(requestId, error) {
      this.protocol.notification({
        method: "sdppp/streamResponse",
        params: {
          requestId,
          data: null,
          error,
          finished: true
        }
      });
    }
  }
  class ActionExecutor {
    constructor(streamManager, runningRequests) {
      __publicField(this, "streamManager");
      __publicField(this, "runningRequests");
      this.streamManager = streamManager;
      this.runningRequests = runningRequests;
    }
    /**
     * 异步执行action处理器
     */
    async executeHandlerAsync(requestId, handler, params, extra, abortController) {
      try {
        await this.processHandlerStream(requestId, handler, params, extra, abortController);
      } catch (err) {
        this.streamManager.sendErrorResponse(requestId, (err == null ? void 0 : err.message) || String(err));
      } finally {
        this.runningRequests.delete(requestId);
      }
    }
    /**
     * 处理handler的流输出
     */
    async processHandlerStream(requestId, handler, params, extra, abortController) {
      for await (const item of handler(params, extra, abortController.signal)) {
        if (abortController.signal.aborted) {
          this.streamManager.sendAbortedResponse(requestId);
          return;
        }
        this.streamManager.sendStreamData(requestId, item);
      }
      if (!abortController.signal.aborted) {
        this.streamManager.sendFinishedResponse(requestId);
      } else {
        this.streamManager.sendAbortedResponse(requestId);
      }
    }
  }
  class StreamIterator {
    constructor(protocol, notificationQueue) {
      __publicField(this, "protocol");
      __publicField(this, "notificationQueue");
      this.protocol = protocol;
      this.notificationQueue = notificationQueue;
    }
    /**
     * 验证action请求
     */
    validateActionRequest(signal) {
      if (signal == null ? void 0 : signal.aborted) {
        throw new Error("Operation was aborted");
      }
    }
    /**
     * 发送action请求
     */
    async sendActionRequest(params) {
      const response = await this.protocol.request({
        method: "sdppp/streamRequest",
        params: {
          action: params.action,
          data: params.data
        }
      }, objectType({
        requestId: stringType()
      }));
      return response.requestId;
    }
    /**
     * 初始化响应队列
     */
    initializeResponseQueue(requestId) {
      const queue = this.notificationQueue.filterByRequestId(requestId).map((n) => ({
        data: n.params.data,
        error: n.params.error,
        finished: n.params.finished
      }));
      this.notificationQueue.removeByRequestId(requestId);
      return queue;
    }
    /**
     * 创建流状态对象
     */
    createStreamState() {
      return {
        resolve: null,
        finished: false,
        aborted: false
      };
    }
    /**
     * 设置流处理器
     */
    setupStreamHandlers(requestId, queue, streamState, signal) {
      const onNotification = this.createNotificationHandler(requestId, queue, streamState);
      const onAbort = this.createAbortHandler(requestId, streamState);
      this.notificationQueue.addListener(onNotification);
      signal == null ? void 0 : signal.addEventListener("abort", onAbort);
      return { onNotification, onAbort };
    }
    /**
     * 创建通知处理器
     */
    createNotificationHandler(requestId, queue, streamState) {
      const streamResponseSchema = objectType({
        method: literalType("sdppp/streamResponse"),
        params: objectType({
          requestId: stringType(),
          data: anyType(),
          error: stringType().nullable(),
          finished: booleanType()
        })
      });
      return (notification) => {
        const parsed = streamResponseSchema.safeParse(notification);
        if (!parsed.success || parsed.data.params.requestId !== requestId) {
          return;
        }
        const { data: data2, error, finished } = parsed.data.params;
        queue.push({ data: data2, error, finished });
        if (streamState.resolve) {
          streamState.resolve();
          streamState.resolve = null;
        }
      };
    }
    /**
     * 创建中止处理器
     */
    createAbortHandler(requestId, streamState) {
      return async () => {
        if (streamState.aborted) return;
        streamState.aborted = true;
        try {
          await this.protocol.request({
            method: "sdppp/abort",
            params: { requestId }
          }, objectType({
            success: booleanType()
          }));
        } catch (err) {
        }
        streamState.finished = true;
        if (streamState.resolve) {
          streamState.resolve();
          streamState.resolve = null;
        }
      };
    }
    /**
     * 创建异步迭代器
     */
    createAsyncIterator(queue, streamState, requestId, signal) {
      const self = this;
      return {
        async *[Symbol.asyncIterator]() {
          const handlers = self.setupStreamHandlers(requestId, queue, streamState, signal);
          try {
            yield* self.processStreamQueue(queue, streamState, signal);
          } finally {
            self.cleanupStreamHandlers(requestId, handlers, signal);
          }
        }
      };
    }
    /**
     * 处理流队列
     */
    async *processStreamQueue(queue, streamState, signal) {
      while (!streamState.finished && !streamState.aborted) {
        if ((signal == null ? void 0 : signal.aborted) && !streamState.aborted) {
          streamState.aborted = true;
          break;
        }
        if (queue.length === 0) {
          await new Promise((r) => {
            streamState.resolve = r;
          });
          continue;
        }
        yield* this.processQueueItems(queue, streamState);
      }
      if (streamState.aborted) {
        throw new Error("Operation was aborted");
      }
    }
    /**
     * 处理队列项目
     */
    *processQueueItems(queue, streamState) {
      while (queue.length > 0) {
        const item = queue.shift();
        if (!item) continue;
        const { data: data2, error, finished } = item;
        if (error) {
          throw new Error(error);
        }
        if (finished) {
          streamState.finished = true;
          break;
        }
        yield data2;
      }
    }
    /**
     * 清理流处理器
     */
    cleanupStreamHandlers(requestId, handlers, signal) {
      this.notificationQueue.removeListener(handlers.onNotification);
      signal == null ? void 0 : signal.removeEventListener("abort", handlers.onAbort);
      this.notificationQueue.removeByRequestId(requestId);
    }
  }
  class SDPPPProtocol {
    constructor(protocol) {
      // action handler 注册表
      __publicField(this, "actionHandlers", /* @__PURE__ */ new Map());
      // broadcast handler 注册表
      __publicField(this, "broadcastHandlers", /* @__PURE__ */ new Map());
      // requestId 生成器
      __publicField(this, "requestIdSeq", 1);
      // 正在执行的请求的 AbortController
      __publicField(this, "runningRequests", /* @__PURE__ */ new Map());
      __publicField(this, "protocol");
      __publicField(this, "notificationQueue", new NotificationQueue());
      // 新的依赖类
      __publicField(this, "streamManager");
      __publicField(this, "actionExecutor");
      __publicField(this, "streamIterator");
      this.protocol = protocol;
      this.streamManager = new StreamManager(protocol);
      this.actionExecutor = new ActionExecutor(this.streamManager, this.runningRequests);
      this.streamIterator = new StreamIterator(protocol, this.notificationQueue);
      this.setupNotificationHandler();
      this.setupAbortHandler();
      this.setupStreamRequestHandler();
      this.setupBroadcastHandler();
    }
    /**
     * 设置流响应通知处理器
     */
    setupNotificationHandler() {
      const schema = objectType({
        method: literalType("sdppp/streamResponse"),
        params: objectType({
          requestId: stringType(),
          data: anyType(),
          error: stringType().nullable(),
          finished: booleanType()
        })
      });
      this.protocol.setNotificationHandler(
        schema,
        (notification) => this.notificationQueue.push(notification)
      );
    }
    /**
     * 设置中止请求处理器
     */
    setupAbortHandler() {
      const schema = objectType({
        method: literalType("sdppp/abort"),
        params: objectType({
          requestId: stringType()
        })
      });
      this.protocol.setRequestHandler(schema, async (request, extra) => {
        const { requestId } = request.params;
        const abortController = this.runningRequests.get(requestId);
        if (abortController) {
          abortController.abort();
          this.runningRequests.delete(requestId);
        }
        return { success: true };
      });
    }
    /**
     * 设置流请求处理器
     */
    setupStreamRequestHandler() {
      const schema = objectType({
        method: literalType("sdppp/streamRequest"),
        params: objectType({
          action: stringType(),
          data: anyType()
        })
      });
      this.protocol.setRequestHandler(schema, async (request, extra) => {
        const requestId = `req_${this.requestIdSeq++}`;
        const handler = this.actionHandlers.get(request.params.action);
        if (!handler) {
          throw new Error("No handler for action: " + request.params.action);
        }
        const abortController = new AbortController();
        this.runningRequests.set(requestId, abortController);
        this.actionExecutor.executeHandlerAsync(requestId, handler, request.params, extra, abortController);
        return { requestId };
      });
    }
    /**
     * 注册 action handler
     */
    registerActionHandler(paramsSchema, handler) {
      this.actionHandlers.set(paramsSchema.shape.action.value, handler);
    }
    /**
     * 发起 action 请求，返回异步迭代器
     */
    async action(params, responseSchema, signal) {
      this.streamIterator.validateActionRequest(signal);
      const requestId = await this.streamIterator.sendActionRequest(params);
      const queue = this.streamIterator.initializeResponseQueue(requestId);
      const streamState = this.streamIterator.createStreamState();
      return this.streamIterator.createAsyncIterator(queue, streamState, requestId, signal);
    }
    /**
     * 设置广播通知处理器
     */
    setupBroadcastHandler() {
      const schema = objectType({
        method: literalType("sdppp/broadcast"),
        params: objectType({
          messageType: stringType(),
          message: anyType()
        })
      });
      this.protocol.setNotificationHandler(
        schema,
        (notification) => {
          const { messageType, message } = notification.params;
          const handler = this.broadcastHandlers.get(messageType);
          if (handler) {
            handler(message);
          }
        }
      );
    }
    /**
     * 注册广播消息处理器
     */
    registerBroadcastHandler(messageType, handler) {
      this.broadcastHandlers.set(messageType, handler);
    }
    /**
     * 发送广播消息
     */
    async broadcast(messageType, message) {
      await this.protocol.notification({
        method: "sdppp/broadcast",
        params: {
          messageType,
          message
        }
      });
    }
    /**
     * 发起直接请求（非流式）
     */
    async request(method, params, responseSchema, options) {
      if (!options) options = {};
      options.timeout = options.timeout || 7 * 24 * 60 * 60 * 1e3;
      return await this.protocol.request({
        method,
        params
      }, responseSchema, options);
    }
    /**
     * 注册请求处理器（非流式）
     */
    registerRequestHandler(requestSchema, handler) {
      this.protocol.setRequestHandler(requestSchema, handler);
    }
  }
  class SDPPPServer extends SDPPPProtocol {
    constructor(serverInfo, options) {
      const server = new Server(serverInfo, options);
      server.onerror = (error) => {
        console.error("MCP Server Error:", error);
      };
      super(server);
      /**
       * 底层 Server 实例。
       */
      __publicField(this, "server");
      this.server = server;
    }
    /**
     * 连接到给定的 transport。
     */
    async connect(transport) {
      return await this.server.connect(transport);
    }
    /**
     * 关闭连接。
     */
    async close() {
      await this.server.close();
    }
    /**
     * 检查是否已连接。
     */
    isConnected() {
      return this.server.transport !== void 0;
    }
  }
  function defineGraph(definition) {
    const graphDef = new GraphDefinitionClass(definition);
    return {
      /**
       * Join as a specific node in the graph
       * @param nodeId The node ID to join as
       * @param monitorOptions Optional connection monitoring options
       * @returns GraphInstance for this node
       */
      joinAs(nodeId, monitorOptions) {
        if (!graphDef.getNode(nodeId)) {
          throw new Error(`Node ${String(nodeId)} not found in graph definition`);
        }
        return new GraphInstanceImpl(graphDef, nodeId, monitorOptions);
      },
      /**
       * Get the graph definition
       */
      getDefinition() {
        return definition;
      },
      /**
       * Get all node IDs
       */
      getNodeIds() {
        return graphDef.getNodeIds();
      },
      /**
       * Get neighbors of a node
       */
      getNeighbors(nodeId) {
        return graphDef.getNeighbors(nodeId);
      },
      /**
       * Check if an edge exists
       */
      hasEdge(from, to) {
        return graphDef.hasEdge(from, to);
      },
      /**
       * Check if there's a path between two nodes (direct or indirect)
       */
      hasPath(from, to) {
        return graphDef.hasPath(from, to);
      },
      /**
       * Find path between two nodes using BFS
       */
      findPath(from, to) {
        return graphDef.findPath(from, to);
      }
    };
  }
  const SDKStoreSchema = objectType({
    // Most fields are commented out in the original, keeping minimal
    // Can be expanded as needed for SDK-specific state
  });
  const UXPStoreSchema = objectType({
    // Photoshop state
    uname: stringType().default(""),
    activeDocumentID: numberType().default(0),
    layers: arrayType(objectType({
      id: numberType(),
      name: stringType(),
      identify: stringType()
    })).default([]),
    actions: arrayType(stringType()).default([]),
    theme: stringType().default("kPanelBrightnessMediumGray"),
    sdpppX: recordType(stringType(), anyType()).default({}),
    locale: enumType(["zh-CN", "en-US"]).default("en-US"),
    // ComfyUI webview connection state
    comfyWebviewConnectStatus: enumType(["connecting", "connected", "disconnected"]).default("disconnected"),
    comfyWebviewLoadError: stringType().default(""),
    comfyWebviewLoading: booleanType().default(false),
    comfyWebviewVersion: stringType().default(""),
    comfyAutoRunning: booleanType().default(false),
    comfyHTTPCode: numberType().default(200),
    comfyURL: stringType().default(""),
    // SDK webview state
    sdkWebviewFocusing: booleanType().default(false),
    sdkWebviewConnectStatus: enumType(["connecting", "connected", "disconnected"]).default("disconnected"),
    // SDPPP authentication state
    isLogin: booleanType().default(false),
    isGuest: booleanType().default(false),
    requestingLogin: booleanType().default(false),
    loginMessage: stringType().default(""),
    token: stringType().default(""),
    userInfo: recordType(stringType(), anyType()).default({})
  });
  const WidgetableBaseWidgetSchemaPart = {
    name: stringType(),
    uiWeight: numberType()
  };
  const WidgetableImagesWidgetSchema = objectType({
    ...WidgetableBaseWidgetSchemaPart,
    outputType: literalType("images"),
    options: objectType({
      required: booleanType(),
      maxCount: numberType().optional(),
      maskMode: booleanType().optional()
    })
  });
  const WidgetableMasksWidgetSchema = objectType({
    ...WidgetableBaseWidgetSchemaPart,
    outputType: literalType("masks"),
    options: objectType({
      required: booleanType()
    })
  });
  const WidgetableStringWidgetSchema = objectType({
    ...WidgetableBaseWidgetSchemaPart,
    outputType: literalType("string"),
    options: objectType({
      required: booleanType()
    })
  });
  const WidgetableToggleWidgetSchema = objectType({
    ...WidgetableBaseWidgetSchemaPart,
    outputType: literalType("boolean"),
    options: objectType({
      required: booleanType()
    })
  });
  const WidgetableNumberWidgetSchema = objectType({
    ...WidgetableBaseWidgetSchemaPart,
    outputType: literalType("number"),
    options: objectType({
      required: booleanType(),
      min: numberType().optional(),
      max: numberType().optional(),
      step: numberType().optional(),
      random: booleanType().optional(),
      slider: booleanType().optional()
    })
  });
  const WidgetableComboWidgetSchema = objectType({
    ...WidgetableBaseWidgetSchemaPart,
    outputType: literalType("combo"),
    options: objectType({
      required: booleanType(),
      values: arrayType(stringType()),
      labels: arrayType(stringType()).optional()
    })
  });
  const WidgetableSegmentWidgetSchema = objectType({
    ...WidgetableBaseWidgetSchemaPart,
    outputType: literalType("segment"),
    options: objectType({
      required: booleanType(),
      values: arrayType(stringType())
    })
  });
  const WidgetableWidgetSchema = discriminatedUnionType("outputType", [
    WidgetableImagesWidgetSchema,
    WidgetableMasksWidgetSchema,
    WidgetableStringWidgetSchema,
    WidgetableToggleWidgetSchema,
    WidgetableNumberWidgetSchema,
    WidgetableComboWidgetSchema,
    WidgetableSegmentWidgetSchema
  ]);
  const WidgetableNodeSchema = objectType({
    id: stringType(),
    title: stringType(),
    widgets: arrayType(WidgetableWidgetSchema),
    uiWeightSum: numberType()
  });
  const WidgetableStructureSchema = objectType({
    widgetableID: stringType(),
    widgetablePath: stringType(),
    nodes: recordType(stringType(), WidgetableNodeSchema),
    note: stringType(),
    nodeIndexes: arrayType(stringType()),
    options: recordType(stringType(), anyType())
  });
  const ComfyStoreSchema = objectType({
    widgetableStructure: WidgetableStructureSchema.default({
      widgetableID: "",
      widgetablePath: "",
      nodes: {},
      note: "",
      options: {},
      nodeIndexes: []
    }),
    widgetableValues: recordType(stringType(), arrayType(anyType())).default({}),
    widgetableErrors: recordType(stringType(), stringType()).default({}),
    queueSize: numberType().default(0),
    lastError: stringType().default(""),
    progress: numberType().default(0),
    executingNodeTitle: stringType().default(""),
    graphProgress: numberType().default(0),
    comfyUserToken: stringType().default(""),
    comfyOrgLoggedIn: booleanType().default(false),
    comfyOrgAPIKey: stringType().default(""),
    comfyWSState: enumType(["connected", "reconnecting"]).default("connected"),
    lastRunTime: numberType().default(0)
  });
  const uxpUtilActions = {
    // UXP-related actions
    log: {
      requestSchema: objectType({
        level: enumType(["log", "info", "warn", "error"]),
        messages: arrayType(stringType())
      }),
      responseSchema: objectType({})
    },
    // UXP-related actions
    openExternalLink: {
      requestSchema: objectType({
        url: stringType()
      }),
      responseSchema: objectType({
        error: stringType().optional()
      })
    },
    getStorage: {
      requestSchema: objectType({
        key: stringType()
      }),
      responseSchema: objectType({
        value: stringType(),
        error: stringType().optional()
      })
    },
    setStorage: {
      requestSchema: objectType({
        key: stringType(),
        value: stringType()
      }),
      responseSchema: objectType({
        error: stringType().optional()
      })
    },
    removeStorage: {
      requestSchema: objectType({
        key: stringType()
      }),
      responseSchema: objectType({
        error: stringType().optional()
      })
    },
    // Keyboard action forwarding
    keyboardAction: {
      requestSchema: objectType({
        keycode: stringType()
      }),
      responseSchema: objectType({})
    },
    // Photoshop utility actions
    setComfyWebviewURL: {
      requestSchema: objectType({
        url: stringType()
      }),
      responseSchema: objectType({})
    },
    uploadComfyImage: {
      requestSchema: objectType({
        uploadInput: objectType({
          type: literalType("buffer").or(literalType("token")),
          tokenOrBuffer: anyType(),
          fileName: stringType()
        }),
        overwrite: booleanType().optional().default(true)
      }),
      responseSchema: objectType({
        name: stringType()
      })
    },
    // Proxied fetch action
    proxiedFetch: {
      requestSchema: objectType({
        url: stringType(),
        method: stringType().optional(),
        headers: recordType(stringType()).optional(),
        body: anyType().optional(),
        bodyType: enumType(["json", "formData", "text"]).optional()
      }),
      responseSchema: objectType({
        success: booleanType(),
        status: numberType().optional(),
        statusText: stringType().optional(),
        headers: recordType(stringType()).optional(),
        data: anyType().optional(),
        error: stringType().optional()
      })
    }
  };
  const ImageResultSchema = objectType({
    thumbnail_url: stringType().optional(),
    file_token: stringType().optional(),
    source: stringType().optional(),
    error: stringType().optional()
  });
  const uxpImagingActions = {
    // Content webview image operations
    doGetImage: {
      requestSchema: objectType({
        boundary: enumType(["canvas", "curlayer", "selection"]),
        content: enumType(["canvas", "curlayer", "selection"]).or(stringType()),
        imageSize: numberType(),
        imageQuality: numberType(),
        cropBySelection: enumType(["no", "positive", "negative"])
      }),
      responseSchema: ImageResultSchema
    },
    doGetMask: {
      requestSchema: objectType({
        content: enumType(["canvas", "curlayer", "selection"]),
        reverse: booleanType(),
        imageSize: numberType()
      }),
      responseSchema: ImageResultSchema
    },
    doSendImage: {
      requestSchema: objectType({
        selection: enumType(["newdoc_canvas", "newlayer_canvas", "newlayer_curlayer", "newlayer_selection", "curlayer_canvas", "curlayer_curlayer", "curlayer_selection", "newdoc_canvas"]),
        url: stringType(),
        source: stringType(),
        cropBySelection: enumType(["no", "positive", "negative"]).default("no")
      }),
      responseSchema: objectType({
        error: stringType().optional()
      })
    },
    requestImageGet: {
      requestSchema: objectType({}),
      responseSchema: ImageResultSchema
    },
    requestImageSend: {
      requestSchema: objectType({
        url: stringType(),
        source: stringType()
      }),
      responseSchema: objectType({
        error: stringType().optional()
      })
    },
    requestMaskGet: {
      requestSchema: objectType({
        isMask: booleanType().default(false)
      }),
      responseSchema: ImageResultSchema
    }
  };
  const UXPAuthRegisterRequestSchema = objectType({
    passwordPayload: objectType({
      username: stringType(),
      password: stringType()
    }).or(objectType({
      email: stringType(),
      password: stringType()
    })).or(objectType({
      phone: stringType(),
      password: stringType()
    })).or(objectType({
      identifier: stringType(),
      password: stringType()
    }))
  }).or(objectType({
    passcodePayload: objectType({
      phone: stringType(),
      code: stringType()
    }).or(objectType({
      email: stringType(),
      code: stringType()
    }))
  }));
  const UXPAuthLoginRequestSchema = objectType({
    passwordPayload: objectType({
      username: stringType(),
      password: stringType()
    }).or(objectType({
      email: stringType(),
      password: stringType()
    })).or(objectType({
      phone: stringType(),
      password: stringType()
    })).or(objectType({
      identifier: stringType(),
      password: stringType()
    }))
  }).or(objectType({
    passcodePayload: objectType({
      phone: stringType(),
      code: stringType()
    }).or(objectType({
      email: stringType(),
      code: stringType()
    }))
  }));
  const uxpAuthActions = {
    // SDPPP authentication actions
    register: {
      requestSchema: UXPAuthRegisterRequestSchema,
      responseSchema: objectType({})
    },
    login: {
      requestSchema: UXPAuthLoginRequestSchema,
      responseSchema: objectType({})
    },
    sendPassCode: {
      requestSchema: objectType({
        phone: stringType().optional(),
        email: stringType().optional()
      }),
      responseSchema: objectType({})
    },
    logout: {
      requestSchema: objectType({}),
      responseSchema: objectType({})
    },
    guestLogin: {
      requestSchema: objectType({}),
      responseSchema: objectType({})
    }
  };
  const WorkflowListSchema = objectType({
    workflows: arrayType(stringType()),
    error: stringType().optional()
  });
  const RunResultSchema = objectType({
    success: booleanType(),
    nodeErrors: recordType(stringType()).optional(),
    prompt_ids: arrayType(stringType()).optional(),
    images: arrayType(objectType({
      url: stringType(),
      thumbnail: stringType()
    })).optional()
  });
  const comfyWorkflowActions = {
    // Node manipulation
    setWidgetValue: {
      requestSchema: objectType({
        values: arrayType(objectType({
          nodeID: stringType(),
          widgetIndex: numberType(),
          value: recordType(stringType(), anyType()).or(stringType()).or(numberType()).or(booleanType()).or(arrayType(anyType()))
        }))
      }),
      responseSchema: objectType({
        success: booleanType()
      })
    },
    // Workflow management
    openWorkflow: {
      requestSchema: objectType({
        workflow_path: stringType(),
        reset: booleanType().default(false)
      }),
      responseSchema: objectType({
        success: booleanType()
      })
    },
    openWorkflowJSON: {
      requestSchema: objectType({
        workflow_content: recordType(anyType()),
        workflow_path: stringType()
      }),
      responseSchema: objectType({
        success: booleanType()
      })
    },
    listWorkflows: {
      requestSchema: objectType({
        listMode: stringType().optional(),
        sdpppID: stringType().optional(),
        sdpppToken: stringType().optional()
      }),
      responseSchema: WorkflowListSchema
    },
    saveWorkflow: {
      requestSchema: objectType({
        workflow_path: stringType(),
        from_sid: stringType().optional()
      }),
      responseSchema: objectType({
        success: booleanType()
      })
    },
    // Workflow execution
    run: {
      requestSchema: objectType({
        size: numberType()
      }),
      responseSchema: RunResultSchema,
      stream: true
    },
    stopAll: {
      requestSchema: objectType({}),
      responseSchema: objectType({
        success: booleanType()
      })
    }
    // interrupt: {
    //     requestSchema: z.object({}),
    //     responseSchema: z.object({
    //         success: z.boolean(),
    //     })
    // },
    // clearQueue: {
    //     requestSchema: z.object({}),
    //     responseSchema: z.object({
    //         success: z.boolean(),
    //     })
    // }
  };
  const comfyUtilActions = {
    setNodeTitle: {
      requestSchema: objectType({
        node_id: stringType(),
        title: stringType()
      }),
      responseSchema: objectType({
        success: booleanType()
      })
    },
    // System management
    reboot: {
      requestSchema: objectType({}),
      responseSchema: objectType({
        success: booleanType(),
        error: stringType().optional()
      })
    },
    setComfyOrgAPIKey: {
      requestSchema: objectType({
        api_key: stringType()
      }),
      responseSchema: objectType({
        success: booleanType()
      })
    },
    logout: {
      requestSchema: objectType({}),
      responseSchema: objectType({
        success: booleanType()
      })
    }
  };
  const meshDef = defineGraph({
    nodes: {
      // SDK node - represents the content webview/SDK layer
      sdk: {
        store: SDKStoreSchema,
        actions: {}
      },
      // UXP node - represents the Photoshop UXP plugin
      uxp: {
        store: UXPStoreSchema,
        actions: {
          ...uxpImagingActions,
          ...uxpUtilActions,
          ...uxpAuthActions
        }
      },
      // Comfy node - represents ComfyUI instances
      comfy: {
        store: ComfyStoreSchema,
        actions: {
          ...comfyWorkflowActions,
          ...comfyUtilActions
        }
      }
    },
    edges: [
      ["sdk", "uxp"],
      // SDK connects to UXP
      ["comfy", "uxp"]
      // Comfy connects to UXP
    ]
  });
  const mcpMesh = meshDef.joinAs("sdk");
  globalThis.mcpMesh = mcpMesh;
  document.body.addEventListener("keydown", (e) => {
    if (e.target instanceof HTMLInputElement || e.target instanceof HTMLTextAreaElement || e.target instanceof HTMLSelectElement) {
      return;
    }
    mcpMesh.getNode("uxp").actions.keyboardAction({
      keycode: e.code
    });
  });
  const scriptRel = "modulepreload";
  const assetsURL = function(dep) {
    return "/" + dep;
  };
  const seen = {};
  const __vitePreload = function preload(baseModule, deps, importerUrl) {
    let promise = Promise.resolve();
    if (false) {
      let allSettled2 = function(promises) {
        return Promise.all(
          promises.map(
            (p) => Promise.resolve(p).then(
              (value) => ({ status: "fulfilled", value }),
              (reason) => ({ status: "rejected", reason })
            )
          )
        );
      };
      document.getElementsByTagName("link");
      const cspNonceMeta = document.querySelector(
        "meta[property=csp-nonce]"
      );
      const cspNonce = (cspNonceMeta == null ? void 0 : cspNonceMeta.nonce) || (cspNonceMeta == null ? void 0 : cspNonceMeta.getAttribute("nonce"));
      promise = allSettled2(
        deps.map((dep) => {
          dep = assetsURL(dep);
          if (dep in seen) return;
          seen[dep] = true;
          const isCss = dep.endsWith(".css");
          const cssSelector = isCss ? '[rel="stylesheet"]' : "";
          if (document.querySelector(`link[href="${dep}"]${cssSelector}`)) {
            return;
          }
          const link = document.createElement("link");
          link.rel = isCss ? "stylesheet" : scriptRel;
          if (!isCss) {
            link.as = "script";
          }
          link.crossOrigin = "";
          link.href = dep;
          if (cspNonce) {
            link.setAttribute("nonce", cspNonce);
          }
          document.head.appendChild(link);
          if (isCss) {
            return new Promise((res, rej) => {
              link.addEventListener("load", res);
              link.addEventListener(
                "error",
                () => rej(new Error(`Unable to preload CSS for ${dep}`))
              );
            });
          }
        })
      );
    }
    function handlePreloadError(err) {
      const e = new Event("vite:preloadError", {
        cancelable: true
      });
      e.payload = err;
      window.dispatchEvent(e);
      if (!e.defaultPrevented) {
        throw err;
      }
    }
    return promise.then((res) => {
      for (const item of res || []) {
        if (item.status !== "rejected") continue;
        handlePreloadError(item.reason);
      }
      return baseModule().catch(handlePreloadError);
    });
  };
  var browser = { exports: {} };
  var ms;
  var hasRequiredMs;
  function requireMs() {
    if (hasRequiredMs) return ms;
    hasRequiredMs = 1;
    var s = 1e3;
    var m = s * 60;
    var h = m * 60;
    var d = h * 24;
    var w = d * 7;
    var y = d * 365.25;
    ms = function(val, options) {
      options = options || {};
      var type2 = typeof val;
      if (type2 === "string" && val.length > 0) {
        return parse(val);
      } else if (type2 === "number" && isFinite(val)) {
        return options.long ? fmtLong(val) : fmtShort(val);
      }
      throw new Error(
        "val is not a non-empty string or a valid number. val=" + JSON.stringify(val)
      );
    };
    function parse(str) {
      str = String(str);
      if (str.length > 100) {
        return;
      }
      var match = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(
        str
      );
      if (!match) {
        return;
      }
      var n = parseFloat(match[1]);
      var type2 = (match[2] || "ms").toLowerCase();
      switch (type2) {
        case "years":
        case "year":
        case "yrs":
        case "yr":
        case "y":
          return n * y;
        case "weeks":
        case "week":
        case "w":
          return n * w;
        case "days":
        case "day":
        case "d":
          return n * d;
        case "hours":
        case "hour":
        case "hrs":
        case "hr":
        case "h":
          return n * h;
        case "minutes":
        case "minute":
        case "mins":
        case "min":
        case "m":
          return n * m;
        case "seconds":
        case "second":
        case "secs":
        case "sec":
        case "s":
          return n * s;
        case "milliseconds":
        case "millisecond":
        case "msecs":
        case "msec":
        case "ms":
          return n;
        default:
          return void 0;
      }
    }
    function fmtShort(ms2) {
      var msAbs = Math.abs(ms2);
      if (msAbs >= d) {
        return Math.round(ms2 / d) + "d";
      }
      if (msAbs >= h) {
        return Math.round(ms2 / h) + "h";
      }
      if (msAbs >= m) {
        return Math.round(ms2 / m) + "m";
      }
      if (msAbs >= s) {
        return Math.round(ms2 / s) + "s";
      }
      return ms2 + "ms";
    }
    function fmtLong(ms2) {
      var msAbs = Math.abs(ms2);
      if (msAbs >= d) {
        return plural(ms2, msAbs, d, "day");
      }
      if (msAbs >= h) {
        return plural(ms2, msAbs, h, "hour");
      }
      if (msAbs >= m) {
        return plural(ms2, msAbs, m, "minute");
      }
      if (msAbs >= s) {
        return plural(ms2, msAbs, s, "second");
      }
      return ms2 + " ms";
    }
    function plural(ms2, msAbs, n, name) {
      var isPlural = msAbs >= n * 1.5;
      return Math.round(ms2 / n) + " " + name + (isPlural ? "s" : "");
    }
    return ms;
  }
  var common;
  var hasRequiredCommon;
  function requireCommon() {
    if (hasRequiredCommon) return common;
    hasRequiredCommon = 1;
    function setup(env) {
      createDebug.debug = createDebug;
      createDebug.default = createDebug;
      createDebug.coerce = coerce;
      createDebug.disable = disable;
      createDebug.enable = enable;
      createDebug.enabled = enabled;
      createDebug.humanize = requireMs();
      createDebug.destroy = destroy;
      Object.keys(env).forEach((key) => {
        createDebug[key] = env[key];
      });
      createDebug.names = [];
      createDebug.skips = [];
      createDebug.formatters = {};
      function selectColor(namespace) {
        let hash = 0;
        for (let i = 0; i < namespace.length; i++) {
          hash = (hash << 5) - hash + namespace.charCodeAt(i);
          hash |= 0;
        }
        return createDebug.colors[Math.abs(hash) % createDebug.colors.length];
      }
      createDebug.selectColor = selectColor;
      function createDebug(namespace) {
        let prevTime;
        let enableOverride = null;
        let namespacesCache;
        let enabledCache;
        function debug2(...args) {
          if (!debug2.enabled) {
            return;
          }
          const self = debug2;
          const curr = Number(/* @__PURE__ */ new Date());
          const ms2 = curr - (prevTime || curr);
          self.diff = ms2;
          self.prev = prevTime;
          self.curr = curr;
          prevTime = curr;
          args[0] = createDebug.coerce(args[0]);
          if (typeof args[0] !== "string") {
            args.unshift("%O");
          }
          let index2 = 0;
          args[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format2) => {
            if (match === "%%") {
              return "%";
            }
            index2++;
            const formatter = createDebug.formatters[format2];
            if (typeof formatter === "function") {
              const val = args[index2];
              match = formatter.call(self, val);
              args.splice(index2, 1);
              index2--;
            }
            return match;
          });
          createDebug.formatArgs.call(self, args);
          const logFn = self.log || createDebug.log;
          logFn.apply(self, args);
        }
        debug2.namespace = namespace;
        debug2.useColors = createDebug.useColors();
        debug2.color = createDebug.selectColor(namespace);
        debug2.extend = extend;
        debug2.destroy = createDebug.destroy;
        Object.defineProperty(debug2, "enabled", {
          enumerable: true,
          configurable: false,
          get: () => {
            if (enableOverride !== null) {
              return enableOverride;
            }
            if (namespacesCache !== createDebug.namespaces) {
              namespacesCache = createDebug.namespaces;
              enabledCache = createDebug.enabled(namespace);
            }
            return enabledCache;
          },
          set: (v) => {
            enableOverride = v;
          }
        });
        if (typeof createDebug.init === "function") {
          createDebug.init(debug2);
        }
        return debug2;
      }
      function extend(namespace, delimiter) {
        const newDebug = createDebug(this.namespace + (typeof delimiter === "undefined" ? ":" : delimiter) + namespace);
        newDebug.log = this.log;
        return newDebug;
      }
      function enable(namespaces) {
        createDebug.save(namespaces);
        createDebug.namespaces = namespaces;
        createDebug.names = [];
        createDebug.skips = [];
        const split = (typeof namespaces === "string" ? namespaces : "").trim().replace(/\s+/g, ",").split(",").filter(Boolean);
        for (const ns of split) {
          if (ns[0] === "-") {
            createDebug.skips.push(ns.slice(1));
          } else {
            createDebug.names.push(ns);
          }
        }
      }
      function matchesTemplate(search, template) {
        let searchIndex = 0;
        let templateIndex = 0;
        let starIndex = -1;
        let matchIndex = 0;
        while (searchIndex < search.length) {
          if (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === "*")) {
            if (template[templateIndex] === "*") {
              starIndex = templateIndex;
              matchIndex = searchIndex;
              templateIndex++;
            } else {
              searchIndex++;
              templateIndex++;
            }
          } else if (starIndex !== -1) {
            templateIndex = starIndex + 1;
            matchIndex++;
            searchIndex = matchIndex;
          } else {
            return false;
          }
        }
        while (templateIndex < template.length && template[templateIndex] === "*") {
          templateIndex++;
        }
        return templateIndex === template.length;
      }
      function disable() {
        const namespaces = [
          ...createDebug.names,
          ...createDebug.skips.map((namespace) => "-" + namespace)
        ].join(",");
        createDebug.enable("");
        return namespaces;
      }
      function enabled(name) {
        for (const skip of createDebug.skips) {
          if (matchesTemplate(name, skip)) {
            return false;
          }
        }
        for (const ns of createDebug.names) {
          if (matchesTemplate(name, ns)) {
            return true;
          }
        }
        return false;
      }
      function coerce(val) {
        if (val instanceof Error) {
          return val.stack || val.message;
        }
        return val;
      }
      function destroy() {
        console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");
      }
      createDebug.enable(createDebug.load());
      return createDebug;
    }
    common = setup;
    return common;
  }
  var hasRequiredBrowser;
  function requireBrowser() {
    if (hasRequiredBrowser) return browser.exports;
    hasRequiredBrowser = 1;
    (function(module, exports) {
      var define_process_env_default = {};
      exports.formatArgs = formatArgs;
      exports.save = save;
      exports.load = load;
      exports.useColors = useColors;
      exports.storage = localstorage();
      exports.destroy = /* @__PURE__ */ (() => {
        let warned = false;
        return () => {
          if (!warned) {
            warned = true;
            console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");
          }
        };
      })();
      exports.colors = [
        "#0000CC",
        "#0000FF",
        "#0033CC",
        "#0033FF",
        "#0066CC",
        "#0066FF",
        "#0099CC",
        "#0099FF",
        "#00CC00",
        "#00CC33",
        "#00CC66",
        "#00CC99",
        "#00CCCC",
        "#00CCFF",
        "#3300CC",
        "#3300FF",
        "#3333CC",
        "#3333FF",
        "#3366CC",
        "#3366FF",
        "#3399CC",
        "#3399FF",
        "#33CC00",
        "#33CC33",
        "#33CC66",
        "#33CC99",
        "#33CCCC",
        "#33CCFF",
        "#6600CC",
        "#6600FF",
        "#6633CC",
        "#6633FF",
        "#66CC00",
        "#66CC33",
        "#9900CC",
        "#9900FF",
        "#9933CC",
        "#9933FF",
        "#99CC00",
        "#99CC33",
        "#CC0000",
        "#CC0033",
        "#CC0066",
        "#CC0099",
        "#CC00CC",
        "#CC00FF",
        "#CC3300",
        "#CC3333",
        "#CC3366",
        "#CC3399",
        "#CC33CC",
        "#CC33FF",
        "#CC6600",
        "#CC6633",
        "#CC9900",
        "#CC9933",
        "#CCCC00",
        "#CCCC33",
        "#FF0000",
        "#FF0033",
        "#FF0066",
        "#FF0099",
        "#FF00CC",
        "#FF00FF",
        "#FF3300",
        "#FF3333",
        "#FF3366",
        "#FF3399",
        "#FF33CC",
        "#FF33FF",
        "#FF6600",
        "#FF6633",
        "#FF9900",
        "#FF9933",
        "#FFCC00",
        "#FFCC33"
      ];
      function useColors() {
        if (typeof window !== "undefined" && window.process && (window.process.type === "renderer" || window.process.__nwjs)) {
          return true;
        }
        if (typeof navigator !== "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) {
          return false;
        }
        let m;
        return typeof document !== "undefined" && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || // Is firebug? http://stackoverflow.com/a/398120/376773
        typeof window !== "undefined" && window.console && (window.console.firebug || window.console.exception && window.console.table) || // Is firefox >= v31?
        // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages
        typeof navigator !== "undefined" && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)) && parseInt(m[1], 10) >= 31 || // Double check webkit in userAgent just in case we are in a worker
        typeof navigator !== "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/);
      }
      function formatArgs(args) {
        args[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + args[0] + (this.useColors ? "%c " : " ") + "+" + module.exports.humanize(this.diff);
        if (!this.useColors) {
          return;
        }
        const c = "color: " + this.color;
        args.splice(1, 0, c, "color: inherit");
        let index2 = 0;
        let lastC = 0;
        args[0].replace(/%[a-zA-Z%]/g, (match) => {
          if (match === "%%") {
            return;
          }
          index2++;
          if (match === "%c") {
            lastC = index2;
          }
        });
        args.splice(lastC, 0, c);
      }
      exports.log = console.debug || console.log || (() => {
      });
      function save(namespaces) {
        try {
          if (namespaces) {
            exports.storage.setItem("debug", namespaces);
          } else {
            exports.storage.removeItem("debug");
          }
        } catch (error) {
        }
      }
      function load() {
        let r;
        try {
          r = exports.storage.getItem("debug") || exports.storage.getItem("DEBUG");
        } catch (error) {
        }
        if (!r && typeof process !== "undefined" && "env" in process) {
          r = define_process_env_default.DEBUG;
        }
        return r;
      }
      function localstorage() {
        try {
          return localStorage;
        } catch (error) {
        }
      }
      module.exports = requireCommon()(exports);
      const { formatters } = module.exports;
      formatters.j = function(v) {
        try {
          return JSON.stringify(v);
        } catch (error) {
          return "[UnexpectedJSONParseError]: " + error.message;
        }
      };
    })(browser, browser.exports);
    return browser.exports;
  }
  var browserExports = requireBrowser();
  const debug = /* @__PURE__ */ getDefaultExportFromCjs(browserExports);
  debug.enable("*");
  function makeLogger(name, meshLog) {
    const logger2 = debug(name);
    const createLogMethod = (level, originFn) => {
      return async function(...args) {
        try {
          await meshLog({
            level,
            messages: args
          });
        } catch (error) {
        }
      };
    };
    logger2.log = createLogMethod("log");
    return logger2;
  }
  const logger = makeLogger("mesh:sdk", async ({
    level,
    messages
  }) => {
    const { mcpMesh: mcpMesh2 } = await __vitePreload(async () => {
      const { mcpMesh: mcpMesh3 } = await Promise.resolve().then(() => index);
      return { mcpMesh: mcpMesh3 };
    }, false ? __VITE_PRELOAD__ : void 0);
    await mcpMesh2.getNode("uxp").actions.log({
      level,
      messages
    });
  });
  logger.extend("sdk-fetch-proxy");
  async function serializeFormData(formData) {
    const entries = [];
    const formDataAny = formData;
    if (formDataAny.entries) {
      for (const [key, value] of formDataAny.entries()) {
        if (value instanceof File) {
          const arrayBuffer = await value.arrayBuffer();
          const base64Data = Buffer.from(arrayBuffer).toString("base64");
          entries.push([key, {
            type: "file",
            name: value.name,
            data: base64Data,
            mimeType: value.type || "application/octet-stream"
          }]);
        } else {
          entries.push([key, String(value)]);
        }
      }
    } else {
      throw new Error("FormData serialization not supported in this environment");
    }
    return entries;
  }
  async function proxiedFetch(data2) {
    let bodyType = "json";
    if (data2.bodyType) {
      bodyType = data2.bodyType;
    } else if (typeof data2.body === "string") {
      bodyType = "text";
    }
    let serializedBody = data2.body;
    if (data2.body instanceof FormData) {
      serializedBody = await serializeFormData(data2.body);
      bodyType = "formData";
    }
    const response = await mcpMesh.getNode("uxp").actions.proxiedFetch({
      url: data2.url,
      method: data2.method || "GET",
      headers: data2.headers || {},
      body: serializedBody,
      bodyType
    });
    if (!response.success) {
      throw new Error(response.error || "Fetch request failed");
    }
    return {
      ok: response.status >= 200 && response.status < 300,
      status: response.status,
      statusText: response.statusText,
      headers: response.headers,
      data: response.data,
      json: async () => {
        if (typeof response.data === "string") {
          return JSON.parse(response.data);
        }
        return response.data;
      },
      text: async () => {
        if (typeof response.data === "string") {
          return response.data;
        }
        return JSON.stringify(response.data);
      }
    };
  }
  const proxiedDomains = [];
  function normalizeHeaders(headers) {
    if (!headers) return {};
    if (typeof headers === "object" && !Array.isArray(headers)) {
      const result = {};
      if (headers instanceof Headers) {
        headers.forEach((value, key) => {
          result[key] = value;
        });
      } else {
        Object.entries(headers).forEach(([key, value]) => {
          result[key] = value;
        });
      }
      return result;
    }
    if (Array.isArray(headers)) {
      const result = {};
      headers.forEach(([key, value]) => {
        result[key] = value;
      });
      return result;
    }
    return {};
  }
  function shouldProxy(url) {
    let urlString;
    if (typeof url === "string") {
      urlString = url;
    } else if (url instanceof URL) {
      urlString = url.toString();
    } else if (url instanceof Request) {
      urlString = url.url;
    } else {
      return false;
    }
    try {
      const urlObj = new URL(urlString);
      return proxiedDomains.some((domain) => {
        return urlObj.hostname.includes(domain);
      });
    } catch {
      return proxiedDomains.some((domain) => urlString.includes(domain));
    }
  }
  function createCompatibleResponse(response) {
    const responseObj = {
      ok: response.status >= 200 && response.status < 300,
      status: response.status,
      statusText: response.statusText,
      headers: new Headers(response.headers || {}),
      data: response.data,
      // 实现所有Response方法
      json: async () => {
        if (typeof response.data === "string") {
          return JSON.parse(response.data);
        }
        return response.data;
      },
      text: async () => {
        if (typeof response.data === "string") {
          return response.data;
        }
        return JSON.stringify(response.data);
      },
      blob: async () => {
        if (response.data instanceof Blob) {
          return response.data;
        }
        return new Blob([typeof response.data === "string" ? response.data : JSON.stringify(response.data)]);
      },
      arrayBuffer: async () => {
        if (response.data instanceof ArrayBuffer) {
          return response.data;
        }
        const text = typeof response.data === "string" ? response.data : JSON.stringify(response.data);
        return new TextEncoder().encode(text).buffer;
      },
      formData: async () => {
        throw new Error("FormData parsing not implemented in proxy response");
      },
      clone: function() {
        return createCompatibleResponse(response);
      },
      // 添加其他Response属性
      type: "default",
      url: "",
      // 这里可以设置实际的URL
      redirected: false,
      body: null,
      bodyUsed: false
    };
    return responseObj;
  }
  const originalFetch = globalThis.fetch;
  globalThis.fetch = function(input, init) {
    let url;
    let options = {};
    if (typeof input === "string") {
      url = input;
      options = init || {};
    } else if (input instanceof URL) {
      url = input.toString();
      options = init || {};
    } else if (input instanceof Request) {
      url = input.url;
      options = {
        method: input.method,
        headers: input.headers,
        body: input.body,
        mode: input.mode,
        credentials: input.credentials,
        cache: input.cache,
        redirect: input.redirect,
        referrer: input.referrer,
        referrerPolicy: input.referrerPolicy,
        integrity: input.integrity,
        keepalive: input.keepalive,
        signal: input.signal,
        ...init
      };
    } else {
      return originalFetch(input, init);
    }
    if (shouldProxy(url)) {
      let bodyType = "json";
      if (options.body instanceof FormData) {
        bodyType = "formData";
      } else if (typeof options.body === "string") {
        bodyType = "text";
      } else if (options.body instanceof Blob || options.body instanceof ArrayBuffer) {
        bodyType = "text";
      }
      return proxiedFetch({
        url,
        method: options.method || "GET",
        headers: normalizeHeaders(options.headers),
        body: options.body,
        bodyType
      }).then(createCompatibleResponse);
    }
    return originalFetch(input, init);
  };
  function registerProxyDomains(domains) {
    proxiedDomains.push(domains);
  }
  class HeartbeatTimeoutError extends Error {
    constructor(posterIdentifier, timeout) {
      super(`Heartbeat timeout for poster ${posterIdentifier} after ${timeout}ms`);
      this.name = "HeartbeatTimeoutError";
    }
  }
  const serverTransportMap = /* @__PURE__ */ new Map();
  class PostMessageServerTransport {
    constructor(options) {
      this.messageQueue = [];
      this.lastPongReceived = Date.now();
      if (serverTransportMap.has(options.posterIdentifier)) {
        const prevTransport = serverTransportMap.get(options.posterIdentifier);
        if (prevTransport) {
          prevTransport.close();
        }
      }
      this.posterIdentifier = options.posterIdentifier;
      this.messagePoster = options.messagePoster;
      this.addMessageEventListener = options.addMessageEventListener;
      this.removeMessageEventListener = options.removeMessageEventListener;
      this.heartbeatInterval = options.heartbeatInterval ?? 12e4;
      this.heartbeatTimeout = options.heartbeatTimeout ?? 3e4;
      this.debugDisableHeartbeatResponse = options.debugDisableHeartbeatResponse ?? false;
      serverTransportMap.set(this.posterIdentifier, this);
      this.listenMessageCallback = this.listenMessageCallback.bind(this);
      this.externalListenMessageCallback = this.addMessageEventListener(this.listenMessageCallback);
    }
    listenMessageCallback(message) {
      if (message.posterIdentifier !== this.posterIdentifier) return;
      if (message.channel === "sdppp-heartbeat") {
        if (message.type === "ping" && !this.debugDisableHeartbeatResponse) {
          this.messagePoster({
            channel: "sdppp-heartbeat",
            posterIdentifier: this.posterIdentifier,
            type: "pong",
            timestamp: message.timestamp
          });
        } else if (message.type === "pong") {
          this.lastPongReceived = Date.now();
          if (this.heartbeatTimeoutTimer) {
            clearTimeout(this.heartbeatTimeoutTimer);
            this.heartbeatTimeoutTimer = void 0;
          }
        }
        return;
      }
      if (message.channel !== "sdppp") return;
      if (this.onmessage && "payload" in message) {
        this.onmessage(message.payload);
      } else if ("payload" in message) {
        this.messageQueue.push(message.payload);
      }
    }
    async start() {
      while (this.messageQueue.length > 0) {
        const queuedMessage = this.messageQueue.shift();
        if (queuedMessage && this.onmessage) {
          this.onmessage(queuedMessage);
        }
      }
      this.startHeartbeat();
    }
    startHeartbeat() {
      this.heartbeatTimer = setInterval(() => {
        const now = Date.now();
        this.messagePoster({
          channel: "sdppp-heartbeat",
          posterIdentifier: this.posterIdentifier,
          type: "ping",
          timestamp: now
        });
        this.heartbeatTimeoutTimer = setTimeout(() => {
          const error = new HeartbeatTimeoutError(this.posterIdentifier, this.heartbeatTimeout);
          if (this.onerror) {
            this.onerror(error);
          }
        }, this.heartbeatTimeout);
      }, this.heartbeatInterval);
    }
    async send(message, options) {
      this.messagePoster({
        channel: "sdppp",
        posterIdentifier: this.posterIdentifier,
        payload: message
      });
    }
    async close() {
      if (this.heartbeatTimer) {
        clearInterval(this.heartbeatTimer);
        this.heartbeatTimer = void 0;
      }
      if (this.heartbeatTimeoutTimer) {
        clearTimeout(this.heartbeatTimeoutTimer);
        this.heartbeatTimeoutTimer = void 0;
      }
      serverTransportMap.delete(this.posterIdentifier);
      this.removeMessageEventListener(this.externalListenMessageCallback);
    }
  }
  const log = logger.extend("mesh");
  async function connectSDK() {
    return await mcpMesh.connect("uxp", async function() {
      const transport = new PostMessageServerTransport({
        posterIdentifier: "sdk-uxp",
        messagePoster: (message) => {
          window.uxpHost.postMessage(message, "*");
        },
        addMessageEventListener: (originListener) => {
          const listener = (payload) => {
            originListener(payload.data);
          };
          window.addEventListener("message", listener);
          return listener;
        },
        removeMessageEventListener: (listener) => {
          window.removeEventListener("message", listener);
        }
      });
      transport.onerror = (error) => {
        log("sdk side transport.onerror", error);
        if (error.name === "HeartbeatTimeoutError") {
          transport.close();
          location.reload();
        }
      };
      const server = new SDPPPServer({
        name: "sdk-main",
        version: "1.0.0"
      });
      console.log("SDKConnect start");
      server.connect(transport);
      mcpMesh.mountTo(server);
      window.uxpHost.postMessage({
        channel: "mcp-mesh-router",
        meshName: "sdk",
        action: "connect"
      }, "*");
      console.log("SDKConnect end");
      await new Promise((resolve) => {
        server.server.oninitialized = () => {
          server.server.oninitialized = void 0;
          resolve(true);
        };
      });
      return server;
    });
  }
  const index = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
    __proto__: null,
    connectSDK,
    mcpMesh,
    registerProxyDomains
  }, Symbol.toStringTag, { value: "Module" }));
  const sdpppSDK = {
    async init() {
      await connectSDK();
      logger("client connected");
    },
    logger,
    stores: {
      PhotoshopStore: mcpMesh.getNode("uxp").store,
      WebviewStore: mcpMesh.store,
      ComfyStore: mcpMesh.getNode("comfy").store
    },
    plugins: {
      ComfyCaller: mcpMesh.getNode("comfy").actions,
      photoshop: mcpMesh.getNode("uxp").actions,
      fetchProxy: {
        registerProxyDomains
      },
      sdpppX: Object.create({}, {
        broadcast: {
          value: (name, payload) => {
            mcpMesh.broadcast(name, payload);
          },
          enumerable: false
        }
      })
    }
  };
  globalThis.sdpppSDK = sdpppSDK;
})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2RwcHAtcHMtc2RrLWNodW5rLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvbWNwLW1lc2gvc3JjL0dyYXBoRGVmaW5pdGlvbi50cyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96dXN0YW5kQDUuMC43X0B0eXBlcytyZWFjdEAxOS4xLjEyX3JlYWN0QDE5LjEuMC9ub2RlX21vZHVsZXMvenVzdGFuZC9lc20vdmFuaWxsYS5tanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDMuMjUuNzYvbm9kZV9tb2R1bGVzL3pvZC92My9oZWxwZXJzL3V0aWwuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDMuMjUuNzYvbm9kZV9tb2R1bGVzL3pvZC92My9ab2RFcnJvci5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RAMy4yNS43Ni9ub2RlX21vZHVsZXMvem9kL3YzL2xvY2FsZXMvZW4uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDMuMjUuNzYvbm9kZV9tb2R1bGVzL3pvZC92My9lcnJvcnMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vem9kQDMuMjUuNzYvbm9kZV9tb2R1bGVzL3pvZC92My9oZWxwZXJzL3BhcnNlVXRpbC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS96b2RAMy4yNS43Ni9ub2RlX21vZHVsZXMvem9kL3YzL2hlbHBlcnMvZXJyb3JVdGlsLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3pvZEAzLjI1Ljc2L25vZGVfbW9kdWxlcy96b2QvdjMvdHlwZXMuanMiLCIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvbWNwLW1lc2gvc3JjL05vZGVQcm94eS50cyIsIi4uLy4uLy4uLy4uL2ludGVybmFscy9tY3AtbWVzaC9zcmMvU3RvcmVCaW5kZXIvU0RQUFBTdG9yZVN5bmNocm9uaXplci50cyIsIi4uLy4uLy4uLy4uL2ludGVybmFscy9tY3AtbWVzaC9zcmMvU3RvcmVCaW5kZXIvR3JhcGhTdG9yZVN5bmNocm9uaXplci50cyIsIi4uLy4uLy4uLy4uL2ludGVybmFscy9tY3AtbWVzaC9zcmMvU3RvcmVCaW5kZXIvU3RvcmVCaW5kZXIudHMiLCIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvbWNwLW1lc2gvc3JjL1N0b3JlQmluZGVyL1N0b3JlTWFuYWdlci50cyIsIi4uLy4uLy4uLy4uL2ludGVybmFscy9tY3AtbWVzaC9zcmMvQ29ubmVjdGlvbk1vbml0b3IudHMiLCIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvbWNwLW1lc2gvc3JjL0Jyb2FkY2FzdE1hbmFnZXIudHMiLCIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvbWNwLW1lc2gvc3JjL0FjdGlvbk1hbmFnZXIudHMiLCIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvbWNwLW1lc2gvc3JjL0Nvbm5lY3Rpb25NYW5hZ2VyLnRzIiwiLi4vLi4vLi4vLi4vaW50ZXJuYWxzL21jcC1tZXNoL3NyYy9HcmFwaEluc3RhbmNlLnRzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0Btb2RlbGNvbnRleHRwcm90b2NvbCtzZGtAMS4xNi4wL25vZGVfbW9kdWxlcy9AbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL2Rpc3QvZXNtL3R5cGVzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0Btb2RlbGNvbnRleHRwcm90b2NvbCtzZGtAMS4xNi4wL25vZGVfbW9kdWxlcy9AbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL2Rpc3QvZXNtL3NoYXJlZC9wcm90b2NvbC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS91cmktanNANC40LjEvbm9kZV9tb2R1bGVzL3VyaS1qcy9kaXN0L2VzNS91cmkuYWxsLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2Zhc3QtZGVlcC1lcXVhbEAzLjEuMy9ub2RlX21vZHVsZXMvZmFzdC1kZWVwLWVxdWFsL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIvY29tcGlsZS91Y3MybGVuZ3RoLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIvY29tcGlsZS91dGlsLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIvY29tcGlsZS9zY2hlbWFfb2JqLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2pzb24tc2NoZW1hLXRyYXZlcnNlQDAuNC4xL25vZGVfbW9kdWxlcy9qc29uLXNjaGVtYS10cmF2ZXJzZS9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2NvbXBpbGUvcmVzb2x2ZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2NvbXBpbGUvZXJyb3JfY2xhc3Nlcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9mYXN0LWpzb24tc3RhYmxlLXN0cmluZ2lmeUAyLjEuMC9ub2RlX21vZHVsZXMvZmFzdC1qc29uLXN0YWJsZS1zdHJpbmdpZnkvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy92YWxpZGF0ZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2NvbXBpbGUvaW5kZXguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9jYWNoZS5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2NvbXBpbGUvZm9ybWF0cy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL3JlZi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL2FsbE9mLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIvZG90anMvYW55T2YuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy9jb21tZW50LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIvZG90anMvY29uc3QuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy9jb250YWlucy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL2RlcGVuZGVuY2llcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL2VudW0uanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy9mb3JtYXQuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy9pZi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL2l0ZW1zLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIvZG90anMvX2xpbWl0LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIvZG90anMvX2xpbWl0SXRlbXMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy9fbGltaXRMZW5ndGguanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy9fbGltaXRQcm9wZXJ0aWVzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIvZG90anMvbXVsdGlwbGVPZi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL25vdC5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL29uZU9mLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIvZG90anMvcGF0dGVybi5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL3Byb3BlcnRpZXMuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy9wcm9wZXJ0eU5hbWVzLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIvZG90anMvcmVxdWlyZWQuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9kb3Rqcy91bmlxdWVJdGVtcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2RvdGpzL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIvY29tcGlsZS9ydWxlcy5qcyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9hanZANi4xMi42L25vZGVfbW9kdWxlcy9hanYvbGliL2RhdGEuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9jb21waWxlL2FzeW5jLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIvZG90anMvY3VzdG9tLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIvZGVmaW5pdGlvbl9zY2hlbWEuanMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vYWp2QDYuMTIuNi9ub2RlX21vZHVsZXMvYWp2L2xpYi9rZXl3b3JkLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2FqdkA2LjEyLjYvbm9kZV9tb2R1bGVzL2Fqdi9saWIvYWp2LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0Btb2RlbGNvbnRleHRwcm90b2NvbCtzZGtAMS4xNi4wL25vZGVfbW9kdWxlcy9AbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL2Rpc3QvZXNtL3NlcnZlci9pbmRleC5qcyIsIi4uLy4uLy4uLy4uL2ludGVybmFscy9tY3AtbWVzaC9zcmMvTUNQL2xpYi9Ob3RpZmljYXRpb25RdWV1ZS50cyIsIi4uLy4uLy4uLy4uL2ludGVybmFscy9tY3AtbWVzaC9zcmMvTUNQL2xpYi9TdHJlYW1NYW5hZ2VyLnRzIiwiLi4vLi4vLi4vLi4vaW50ZXJuYWxzL21jcC1tZXNoL3NyYy9NQ1AvbGliL0FjdGlvbkV4ZWN1dG9yLnRzIiwiLi4vLi4vLi4vLi4vaW50ZXJuYWxzL21jcC1tZXNoL3NyYy9NQ1AvbGliL1N0cmVhbUl0ZXJhdG9yLnRzIiwiLi4vLi4vLi4vLi4vaW50ZXJuYWxzL21jcC1tZXNoL3NyYy9NQ1Avc2RwcHAtcHJvdG9jb2wudHMiLCIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvbWNwLW1lc2gvc3JjL01DUC9zZHBwcC1zZXJ2ZXIudHMiLCIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvbWNwLW1lc2gvc3JjL2luZGV4LnRzIiwiLi4vLi4vLi4vLi4vaW50ZXJuYWxzL21jcC1tZXNoLXBob3Rvc2hvcC9zdG9yZXMvc2RrLnRzIiwiLi4vLi4vLi4vLi4vaW50ZXJuYWxzL21jcC1tZXNoLXBob3Rvc2hvcC9zdG9yZXMvdXhwLnRzIiwiLi4vLi4vLi4vcHMtY29tbW9uL3NjaGVtYXMvc2NoZW1hcy50cyIsIi4uLy4uLy4uLy4uL2ludGVybmFscy9tY3AtbWVzaC1waG90b3Nob3Avc3RvcmVzL2NvbWZ5LnRzIiwiLi4vLi4vLi4vLi4vaW50ZXJuYWxzL21jcC1tZXNoLXBob3Rvc2hvcC9hY3Rpb25zL3V4cC11dGlsLnRzIiwiLi4vLi4vLi4vLi4vaW50ZXJuYWxzL21jcC1tZXNoLXBob3Rvc2hvcC9hY3Rpb25zL3V4cC1pbWFnaW5nLnRzIiwiLi4vLi4vLi4vLi4vaW50ZXJuYWxzL21jcC1tZXNoLXBob3Rvc2hvcC9hY3Rpb25zL3V4cC1hdXRoLnRzIiwiLi4vLi4vLi4vLi4vaW50ZXJuYWxzL21jcC1tZXNoLXBob3Rvc2hvcC9hY3Rpb25zL2NvbWZ5LXdvcmtmbG93LnRzIiwiLi4vLi4vLi4vLi4vaW50ZXJuYWxzL21jcC1tZXNoLXBob3Rvc2hvcC9hY3Rpb25zL2NvbWZ5LXV0aWwudHMiLCIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvbWNwLW1lc2gtcGhvdG9zaG9wL21lc2hkZWZzLnRzIiwiLi4vLi4vLi4vLi4vaW50ZXJuYWxzL3BzLXV4cC1zZGsvc3JjL21lc2gvbWVzaC50cyIsIi4uLy4uLy4uLy4uL2ludGVybmFscy9wcy11eHAtc2RrL3NyYy9tZXNoL2xpYi9rZXkudHMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vbXNAMi4xLjMvbm9kZV9tb2R1bGVzL21zL2luZGV4LmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RlYnVnQDQuNC4xX3N1cHBvcnRzLWNvbG9yQDguMS4xL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvY29tbW9uLmpzIiwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2RlYnVnQDQuNC4xX3N1cHBvcnRzLWNvbG9yQDguMS4xL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvYnJvd3Nlci5qcyIsIi4uLy4uLy4uLy4uL2ludGVybmFscy9pbnRlcm5hbC1jb21tb24vbG9nZ2VyLnRzIiwiLi4vLi4vLi4vLi4vaW50ZXJuYWxzL3BzLXV4cC1zZGsvc3JjL2xvZ2dlci50cyIsIi4uLy4uLy4uLy4uL2ludGVybmFscy9wcy11eHAtc2RrL3NyYy9tZXNoL2xpYi9mZXRjaC1wcm94eS50cyIsIi4uLy4uLy4uLy4uL2ludGVybmFscy9tY3AtcG9zdG1lc3NhZ2UtdHJhbnNwb3J0L3NjaGVtYS50cyIsIi4uLy4uLy4uLy4uL2ludGVybmFscy9tY3AtcG9zdG1lc3NhZ2UtdHJhbnNwb3J0L1Bvc3RNZXNzYWdlU2VydmVyVHJhbnNwb3J0LnRzIiwiLi4vLi4vLi4vLi4vaW50ZXJuYWxzL3BzLXV4cC1zZGsvc3JjL21lc2gvaW5kZXgudHMiLCIuLi8uLi8uLi8uLi9pbnRlcm5hbHMvcHMtdXhwLXNkay9zcmMvZW50cnkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBHcmFwaERlZmluaXRpb24sIE5vZGVEZWZpbml0aW9uLCBWYWxpZGF0aW9uUmVzdWx0IH0gZnJvbSAnLi90eXBlcy50cyc7XG5cbmV4cG9ydCBjbGFzcyBHcmFwaERlZmluaXRpb25DbGFzcyB7XG4gIHByaXZhdGUgZGVmaW5pdGlvbjogR3JhcGhEZWZpbml0aW9uO1xuXG4gIGNvbnN0cnVjdG9yKGRlZmluaXRpb246IEdyYXBoRGVmaW5pdGlvbikge1xuICAgIHRoaXMuZGVmaW5pdGlvbiA9IGRlZmluaXRpb247XG4gICAgY29uc3QgdmFsaWRhdGlvbiA9IHRoaXMudmFsaWRhdGUoKTtcbiAgICBpZiAoIXZhbGlkYXRpb24udmFsaWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBncmFwaCBkZWZpbml0aW9uOiAke3ZhbGlkYXRpb24uZXJyb3JzLmpvaW4oJywgJyl9YCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlIHRoZSBncmFwaCBkZWZpbml0aW9uXG4gICAqL1xuICBwcml2YXRlIHZhbGlkYXRlKCk6IFZhbGlkYXRpb25SZXN1bHQge1xuICAgIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXTtcblxuICAgIC8vIFZhbGlkYXRlIG5vZGVzIGV4aXN0XG4gICAgaWYgKCF0aGlzLmRlZmluaXRpb24ubm9kZXMgfHwgT2JqZWN0LmtleXModGhpcy5kZWZpbml0aW9uLm5vZGVzKS5sZW5ndGggPT09IDApIHtcbiAgICAgIGVycm9ycy5wdXNoKCdHcmFwaCBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIG5vZGUnKTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBlZGdlcyByZWZlcmVuY2UgdmFsaWQgbm9kZXNcbiAgICBmb3IgKGNvbnN0IFtmcm9tLCB0b10gb2YgdGhpcy5kZWZpbml0aW9uLmVkZ2VzKSB7XG4gICAgICBpZiAoIXRoaXMuZGVmaW5pdGlvbi5ub2Rlc1tmcm9tXSkge1xuICAgICAgICBlcnJvcnMucHVzaChgRWRnZSByZWZlcmVuY2VzIHVua25vd24gc291cmNlIG5vZGU6ICR7ZnJvbX1gKTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5kZWZpbml0aW9uLm5vZGVzW3RvXSkge1xuICAgICAgICBlcnJvcnMucHVzaChgRWRnZSByZWZlcmVuY2VzIHVua25vd24gdGFyZ2V0IG5vZGU6ICR7dG99YCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGN5Y2xlc1xuICAgIGNvbnN0IGN5Y2xlQ2hlY2sgPSB0aGlzLmRldGVjdEN5Y2xlcygpO1xuICAgIGlmICghY3ljbGVDaGVjay52YWxpZCkge1xuICAgICAgZXJyb3JzLnB1c2goLi4uY3ljbGVDaGVjay5lcnJvcnMpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB2YWxpZDogZXJyb3JzLmxlbmd0aCA9PT0gMCxcbiAgICAgIGVycm9yc1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQnVpbGQgZGlyZWN0ZWQgYWRqYWNlbmN5IGxpc3QgZnJvbSBlZGdlcyAoZm9yIGN5Y2xlIGRldGVjdGlvbilcbiAgICovXG4gIHByaXZhdGUgYnVpbGREaXJlY3RlZEFkamFjZW5jeUxpc3QoKTogTWFwPHN0cmluZywgc3RyaW5nW10+IHtcbiAgICBjb25zdCBhZGphY2VuY3lMaXN0ID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZ1tdPigpO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBhbGwgbm9kZXNcbiAgICBmb3IgKGNvbnN0IG5vZGVJZCBvZiBPYmplY3Qua2V5cyh0aGlzLmRlZmluaXRpb24ubm9kZXMpKSB7XG4gICAgICBhZGphY2VuY3lMaXN0LnNldChub2RlSWQsIFtdKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgZWRnZXMgKGRpcmVjdGVkIG9ubHkpXG4gICAgZm9yIChjb25zdCBbZnJvbSwgdG9dIG9mIHRoaXMuZGVmaW5pdGlvbi5lZGdlcykge1xuICAgICAgY29uc3QgbmVpZ2hib3JzID0gYWRqYWNlbmN5TGlzdC5nZXQoZnJvbSkgfHwgW107XG4gICAgICBuZWlnaGJvcnMucHVzaCh0byk7XG4gICAgICBhZGphY2VuY3lMaXN0LnNldChmcm9tLCBuZWlnaGJvcnMpO1xuICAgIH1cblxuICAgIHJldHVybiBhZGphY2VuY3lMaXN0O1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVjdCBjeWNsZXMgaW4gdGhlIGdyYXBoIHVzaW5nIERGU1xuICAgKi9cbiAgcHJpdmF0ZSBkZXRlY3RDeWNsZXMoKTogVmFsaWRhdGlvblJlc3VsdCB7XG4gICAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGNvbnN0IHZpc2l0ZWQgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgICBjb25zdCByZWN1cnNpb25TdGFjayA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgIGNvbnN0IGFkamFjZW5jeUxpc3QgPSB0aGlzLmJ1aWxkRGlyZWN0ZWRBZGphY2VuY3lMaXN0KCk7IC8vIFVzZSBkaXJlY3RlZCBsaXN0IGZvciBjeWNsZSBkZXRlY3Rpb25cblxuICAgIGNvbnN0IGRmcyA9IChub2RlOiBzdHJpbmcsIHBhdGg6IHN0cmluZ1tdKTogYm9vbGVhbiA9PiB7XG4gICAgICBpZiAocmVjdXJzaW9uU3RhY2suaGFzKG5vZGUpKSB7XG4gICAgICAgIGNvbnN0IGN5Y2xlU3RhcnQgPSBwYXRoLmluZGV4T2Yobm9kZSk7XG4gICAgICAgIGNvbnN0IGN5Y2xlID0gcGF0aC5zbGljZShjeWNsZVN0YXJ0KS5jb25jYXQobm9kZSk7XG4gICAgICAgIGVycm9ycy5wdXNoKGBDeWNsZSBkZXRlY3RlZDogJHtjeWNsZS5qb2luKCcgLT4gJyl9YCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodmlzaXRlZC5oYXMobm9kZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB2aXNpdGVkLmFkZChub2RlKTtcbiAgICAgIHJlY3Vyc2lvblN0YWNrLmFkZChub2RlKTtcblxuICAgICAgY29uc3QgbmVpZ2hib3JzID0gYWRqYWNlbmN5TGlzdC5nZXQobm9kZSkgfHwgW107XG4gICAgICBmb3IgKGNvbnN0IG5laWdoYm9yIG9mIG5laWdoYm9ycykge1xuICAgICAgICBpZiAoZGZzKG5laWdoYm9yLCBbLi4ucGF0aCwgbm9kZV0pKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmVjdXJzaW9uU3RhY2suZGVsZXRlKG5vZGUpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvLyBDaGVjayBlYWNoIG5vZGUgYXMgYSBwb3RlbnRpYWwgY3ljbGUgc3RhcnRcbiAgICBmb3IgKGNvbnN0IG5vZGVJZCBvZiBPYmplY3Qua2V5cyh0aGlzLmRlZmluaXRpb24ubm9kZXMpKSB7XG4gICAgICBpZiAoIXZpc2l0ZWQuaGFzKG5vZGVJZCkpIHtcbiAgICAgICAgZGZzKG5vZGVJZCwgW10pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB2YWxpZDogZXJyb3JzLmxlbmd0aCA9PT0gMCxcbiAgICAgIGVycm9yc1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQnVpbGQgYWRqYWNlbmN5IGxpc3QgZnJvbSBlZGdlcyAoYmlkaXJlY3Rpb25hbClcbiAgICovXG4gIHByaXZhdGUgYnVpbGRBZGphY2VuY3lMaXN0KCk6IE1hcDxzdHJpbmcsIHN0cmluZ1tdPiB7XG4gICAgY29uc3QgYWRqYWNlbmN5TGlzdCA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmdbXT4oKTtcblxuICAgIC8vIEluaXRpYWxpemUgYWxsIG5vZGVzXG4gICAgZm9yIChjb25zdCBub2RlSWQgb2YgT2JqZWN0LmtleXModGhpcy5kZWZpbml0aW9uLm5vZGVzKSkge1xuICAgICAgYWRqYWNlbmN5TGlzdC5zZXQobm9kZUlkLCBbXSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIGVkZ2VzIChiaWRpcmVjdGlvbmFsKVxuICAgIGZvciAoY29uc3QgW2Zyb20sIHRvXSBvZiB0aGlzLmRlZmluaXRpb24uZWRnZXMpIHtcbiAgICAgIC8vIEFkZCB0byAtPiBmcm9tXG4gICAgICBjb25zdCBmcm9tTmVpZ2hib3JzID0gYWRqYWNlbmN5TGlzdC5nZXQoZnJvbSkgfHwgW107XG4gICAgICBmcm9tTmVpZ2hib3JzLnB1c2godG8pO1xuICAgICAgYWRqYWNlbmN5TGlzdC5zZXQoZnJvbSwgZnJvbU5laWdoYm9ycyk7XG5cbiAgICAgIC8vIEFkZCBmcm9tIC0+IHRvIChiaWRpcmVjdGlvbmFsKVxuICAgICAgY29uc3QgdG9OZWlnaGJvcnMgPSBhZGphY2VuY3lMaXN0LmdldCh0bykgfHwgW107XG4gICAgICB0b05laWdoYm9ycy5wdXNoKGZyb20pO1xuICAgICAgYWRqYWNlbmN5TGlzdC5zZXQodG8sIHRvTmVpZ2hib3JzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWRqYWNlbmN5TGlzdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIG5laWdoYm9ycyBvZiBhIG5vZGVcbiAgICovXG4gIGdldE5laWdoYm9ycyhub2RlSWQ6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICBjb25zdCBhZGphY2VuY3lMaXN0ID0gdGhpcy5idWlsZEFkamFjZW5jeUxpc3QoKTtcbiAgICByZXR1cm4gYWRqYWNlbmN5TGlzdC5nZXQobm9kZUlkKSB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgbm9kZSBkZWZpbml0aW9uXG4gICAqL1xuICBnZXROb2RlKG5vZGVJZDogc3RyaW5nKTogTm9kZURlZmluaXRpb24gfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmRlZmluaXRpb24ubm9kZXNbbm9kZUlkXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIG5vZGUgSURzXG4gICAqL1xuICBnZXROb2RlSWRzKCk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5kZWZpbml0aW9uLm5vZGVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBlZGdlIGV4aXN0cyBiZXR3ZWVuIHR3byBub2RlcyAoYmlkaXJlY3Rpb25hbClcbiAgICovXG4gIGhhc0VkZ2UoZnJvbTogc3RyaW5nLCB0bzogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZGVmaW5pdGlvbi5lZGdlcy5zb21lKChbZiwgdF0pID0+IFxuICAgICAgKGYgPT09IGZyb20gJiYgdCA9PT0gdG8pIHx8IChmID09PSB0byAmJiB0ID09PSBmcm9tKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogRmluZCBwYXRoIGJldHdlZW4gdHdvIG5vZGVzIHVzaW5nIEJGU1xuICAgKiBSZXR1cm5zIHNob3J0ZXN0IHBhdGggYXMgYXJyYXkgb2Ygbm9kZSBJRHMsIG9yIG51bGwgaWYgbm8gcGF0aCBleGlzdHNcbiAgICovXG4gIGZpbmRQYXRoKGZyb206IHN0cmluZywgdG86IHN0cmluZyk6IHN0cmluZ1tdIHwgbnVsbCB7XG4gICAgaWYgKGZyb20gPT09IHRvKSB7XG4gICAgICByZXR1cm4gW2Zyb21dO1xuICAgIH1cblxuICAgIGNvbnN0IGFkamFjZW5jeUxpc3QgPSB0aGlzLmJ1aWxkQWRqYWNlbmN5TGlzdCgpO1xuICAgIGNvbnN0IHF1ZXVlOiB7IG5vZGVJZDogc3RyaW5nOyBwYXRoOiBzdHJpbmdbXSB9W10gPSBbeyBub2RlSWQ6IGZyb20sIHBhdGg6IFtmcm9tXSB9XTtcbiAgICBjb25zdCB2aXNpdGVkID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbiAgICB3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgeyBub2RlSWQsIHBhdGggfSA9IHF1ZXVlLnNoaWZ0KCkhO1xuICAgICAgXG4gICAgICBpZiAodmlzaXRlZC5oYXMobm9kZUlkKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgdmlzaXRlZC5hZGQobm9kZUlkKTtcbiAgICAgIFxuICAgICAgaWYgKG5vZGVJZCA9PT0gdG8pIHtcbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5laWdoYm9ycyA9IGFkamFjZW5jeUxpc3QuZ2V0KG5vZGVJZCkgfHwgW107XG4gICAgICBmb3IgKGNvbnN0IG5laWdoYm9yIG9mIG5laWdoYm9ycykge1xuICAgICAgICBpZiAoIXZpc2l0ZWQuaGFzKG5laWdoYm9yKSkge1xuICAgICAgICAgIHF1ZXVlLnB1c2goeyBub2RlSWQ6IG5laWdoYm9yLCBwYXRoOiBbLi4ucGF0aCwgbmVpZ2hib3JdIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlcmUncyBhIHBhdGggYmV0d2VlbiB0d28gbm9kZXMgKGRpcmVjdCBvciBpbmRpcmVjdClcbiAgICovXG4gIGhhc1BhdGgoZnJvbTogc3RyaW5nLCB0bzogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZmluZFBhdGgoZnJvbSwgdG8pICE9PSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcmF3IGRlZmluaXRpb25cbiAgICovXG4gIGdldERlZmluaXRpb24oKTogR3JhcGhEZWZpbml0aW9uIHtcbiAgICByZXR1cm4geyAuLi50aGlzLmRlZmluaXRpb24gfTtcbiAgfVxufSIsImNvbnN0IGNyZWF0ZVN0b3JlSW1wbCA9IChjcmVhdGVTdGF0ZSkgPT4ge1xuICBsZXQgc3RhdGU7XG4gIGNvbnN0IGxpc3RlbmVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGNvbnN0IHNldFN0YXRlID0gKHBhcnRpYWwsIHJlcGxhY2UpID0+IHtcbiAgICBjb25zdCBuZXh0U3RhdGUgPSB0eXBlb2YgcGFydGlhbCA9PT0gXCJmdW5jdGlvblwiID8gcGFydGlhbChzdGF0ZSkgOiBwYXJ0aWFsO1xuICAgIGlmICghT2JqZWN0LmlzKG5leHRTdGF0ZSwgc3RhdGUpKSB7XG4gICAgICBjb25zdCBwcmV2aW91c1N0YXRlID0gc3RhdGU7XG4gICAgICBzdGF0ZSA9IChyZXBsYWNlICE9IG51bGwgPyByZXBsYWNlIDogdHlwZW9mIG5leHRTdGF0ZSAhPT0gXCJvYmplY3RcIiB8fCBuZXh0U3RhdGUgPT09IG51bGwpID8gbmV4dFN0YXRlIDogT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUsIG5leHRTdGF0ZSk7XG4gICAgICBsaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IGxpc3RlbmVyKHN0YXRlLCBwcmV2aW91c1N0YXRlKSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBnZXRTdGF0ZSA9ICgpID0+IHN0YXRlO1xuICBjb25zdCBnZXRJbml0aWFsU3RhdGUgPSAoKSA9PiBpbml0aWFsU3RhdGU7XG4gIGNvbnN0IHN1YnNjcmliZSA9IChsaXN0ZW5lcikgPT4ge1xuICAgIGxpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuICAgIHJldHVybiAoKSA9PiBsaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgfTtcbiAgY29uc3QgYXBpID0geyBzZXRTdGF0ZSwgZ2V0U3RhdGUsIGdldEluaXRpYWxTdGF0ZSwgc3Vic2NyaWJlIH07XG4gIGNvbnN0IGluaXRpYWxTdGF0ZSA9IHN0YXRlID0gY3JlYXRlU3RhdGUoc2V0U3RhdGUsIGdldFN0YXRlLCBhcGkpO1xuICByZXR1cm4gYXBpO1xufTtcbmNvbnN0IGNyZWF0ZVN0b3JlID0gKGNyZWF0ZVN0YXRlKSA9PiBjcmVhdGVTdGF0ZSA/IGNyZWF0ZVN0b3JlSW1wbChjcmVhdGVTdGF0ZSkgOiBjcmVhdGVTdG9yZUltcGw7XG5cbmV4cG9ydCB7IGNyZWF0ZVN0b3JlIH07XG4iLCJleHBvcnQgdmFyIHV0aWw7XG4oZnVuY3Rpb24gKHV0aWwpIHtcbiAgICB1dGlsLmFzc2VydEVxdWFsID0gKF8pID0+IHsgfTtcbiAgICBmdW5jdGlvbiBhc3NlcnRJcyhfYXJnKSB7IH1cbiAgICB1dGlsLmFzc2VydElzID0gYXNzZXJ0SXM7XG4gICAgZnVuY3Rpb24gYXNzZXJ0TmV2ZXIoX3gpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgfVxuICAgIHV0aWwuYXNzZXJ0TmV2ZXIgPSBhc3NlcnROZXZlcjtcbiAgICB1dGlsLmFycmF5VG9FbnVtID0gKGl0ZW1zKSA9PiB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgICAgICAgIG9ialtpdGVtXSA9IGl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuICAgIHV0aWwuZ2V0VmFsaWRFbnVtVmFsdWVzID0gKG9iaikgPT4ge1xuICAgICAgICBjb25zdCB2YWxpZEtleXMgPSB1dGlsLm9iamVjdEtleXMob2JqKS5maWx0ZXIoKGspID0+IHR5cGVvZiBvYmpbb2JqW2tdXSAhPT0gXCJudW1iZXJcIik7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkID0ge307XG4gICAgICAgIGZvciAoY29uc3QgayBvZiB2YWxpZEtleXMpIHtcbiAgICAgICAgICAgIGZpbHRlcmVkW2tdID0gb2JqW2tdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1dGlsLm9iamVjdFZhbHVlcyhmaWx0ZXJlZCk7XG4gICAgfTtcbiAgICB1dGlsLm9iamVjdFZhbHVlcyA9IChvYmopID0+IHtcbiAgICAgICAgcmV0dXJuIHV0aWwub2JqZWN0S2V5cyhvYmopLm1hcChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIG9ialtlXTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB1dGlsLm9iamVjdEtleXMgPSB0eXBlb2YgT2JqZWN0LmtleXMgPT09IFwiZnVuY3Rpb25cIiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGJhbi9iYW5cbiAgICAgICAgPyAob2JqKSA9PiBPYmplY3Qua2V5cyhvYmopIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgYmFuL2JhblxuICAgICAgICA6IChvYmplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBrZXlzO1xuICAgICAgICB9O1xuICAgIHV0aWwuZmluZCA9IChhcnIsIGNoZWNrZXIpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGFycikge1xuICAgICAgICAgICAgaWYgKGNoZWNrZXIoaXRlbSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIHV0aWwuaXNJbnRlZ2VyID0gdHlwZW9mIE51bWJlci5pc0ludGVnZXIgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICA/ICh2YWwpID0+IE51bWJlci5pc0ludGVnZXIodmFsKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGJhbi9iYW5cbiAgICAgICAgOiAodmFsKSA9PiB0eXBlb2YgdmFsID09PSBcIm51bWJlclwiICYmIE51bWJlci5pc0Zpbml0ZSh2YWwpICYmIE1hdGguZmxvb3IodmFsKSA9PT0gdmFsO1xuICAgIGZ1bmN0aW9uIGpvaW5WYWx1ZXMoYXJyYXksIHNlcGFyYXRvciA9IFwiIHwgXCIpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5Lm1hcCgodmFsKSA9PiAodHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIiA/IGAnJHt2YWx9J2AgOiB2YWwpKS5qb2luKHNlcGFyYXRvcik7XG4gICAgfVxuICAgIHV0aWwuam9pblZhbHVlcyA9IGpvaW5WYWx1ZXM7XG4gICAgdXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIgPSAoXywgdmFsdWUpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJiaWdpbnRcIikge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG59KSh1dGlsIHx8ICh1dGlsID0ge30pKTtcbmV4cG9ydCB2YXIgb2JqZWN0VXRpbDtcbihmdW5jdGlvbiAob2JqZWN0VXRpbCkge1xuICAgIG9iamVjdFV0aWwubWVyZ2VTaGFwZXMgPSAoZmlyc3QsIHNlY29uZCkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uZmlyc3QsXG4gICAgICAgICAgICAuLi5zZWNvbmQsIC8vIHNlY29uZCBvdmVyd3JpdGVzIGZpcnN0XG4gICAgICAgIH07XG4gICAgfTtcbn0pKG9iamVjdFV0aWwgfHwgKG9iamVjdFV0aWwgPSB7fSkpO1xuZXhwb3J0IGNvbnN0IFpvZFBhcnNlZFR5cGUgPSB1dGlsLmFycmF5VG9FbnVtKFtcbiAgICBcInN0cmluZ1wiLFxuICAgIFwibmFuXCIsXG4gICAgXCJudW1iZXJcIixcbiAgICBcImludGVnZXJcIixcbiAgICBcImZsb2F0XCIsXG4gICAgXCJib29sZWFuXCIsXG4gICAgXCJkYXRlXCIsXG4gICAgXCJiaWdpbnRcIixcbiAgICBcInN5bWJvbFwiLFxuICAgIFwiZnVuY3Rpb25cIixcbiAgICBcInVuZGVmaW5lZFwiLFxuICAgIFwibnVsbFwiLFxuICAgIFwiYXJyYXlcIixcbiAgICBcIm9iamVjdFwiLFxuICAgIFwidW5rbm93blwiLFxuICAgIFwicHJvbWlzZVwiLFxuICAgIFwidm9pZFwiLFxuICAgIFwibmV2ZXJcIixcbiAgICBcIm1hcFwiLFxuICAgIFwic2V0XCIsXG5dKTtcbmV4cG9ydCBjb25zdCBnZXRQYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgc3dpdGNoICh0KSB7XG4gICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZDtcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuc3RyaW5nO1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gWm9kUGFyc2VkVHlwZS5uYW4gOiBab2RQYXJzZWRUeXBlLm51bWJlcjtcbiAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmJvb2xlYW47XG4gICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuZnVuY3Rpb247XG4gICAgICAgIGNhc2UgXCJiaWdpbnRcIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmJpZ2ludDtcbiAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuc3ltYm9sO1xuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmFycmF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5udWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEudGhlbiAmJiB0eXBlb2YgZGF0YS50aGVuID09PSBcImZ1bmN0aW9uXCIgJiYgZGF0YS5jYXRjaCAmJiB0eXBlb2YgZGF0YS5jYXRjaCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUucHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgTWFwICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBNYXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5tYXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIFNldCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgU2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBEYXRlICE9PSBcInVuZGVmaW5lZFwiICYmIGRhdGEgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUuZGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLm9iamVjdDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnVua25vd247XG4gICAgfVxufTtcbiIsImltcG9ydCB7IHV0aWwgfSBmcm9tIFwiLi9oZWxwZXJzL3V0aWwuanNcIjtcbmV4cG9ydCBjb25zdCBab2RJc3N1ZUNvZGUgPSB1dGlsLmFycmF5VG9FbnVtKFtcbiAgICBcImludmFsaWRfdHlwZVwiLFxuICAgIFwiaW52YWxpZF9saXRlcmFsXCIsXG4gICAgXCJjdXN0b21cIixcbiAgICBcImludmFsaWRfdW5pb25cIixcbiAgICBcImludmFsaWRfdW5pb25fZGlzY3JpbWluYXRvclwiLFxuICAgIFwiaW52YWxpZF9lbnVtX3ZhbHVlXCIsXG4gICAgXCJ1bnJlY29nbml6ZWRfa2V5c1wiLFxuICAgIFwiaW52YWxpZF9hcmd1bWVudHNcIixcbiAgICBcImludmFsaWRfcmV0dXJuX3R5cGVcIixcbiAgICBcImludmFsaWRfZGF0ZVwiLFxuICAgIFwiaW52YWxpZF9zdHJpbmdcIixcbiAgICBcInRvb19zbWFsbFwiLFxuICAgIFwidG9vX2JpZ1wiLFxuICAgIFwiaW52YWxpZF9pbnRlcnNlY3Rpb25fdHlwZXNcIixcbiAgICBcIm5vdF9tdWx0aXBsZV9vZlwiLFxuICAgIFwibm90X2Zpbml0ZVwiLFxuXSk7XG5leHBvcnQgY29uc3QgcXVvdGVsZXNzSnNvbiA9IChvYmopID0+IHtcbiAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkob2JqLCBudWxsLCAyKTtcbiAgICByZXR1cm4ganNvbi5yZXBsYWNlKC9cIihbXlwiXSspXCI6L2csIFwiJDE6XCIpO1xufTtcbmV4cG9ydCBjbGFzcyBab2RFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBnZXQgZXJyb3JzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc3N1ZXM7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGlzc3Vlcykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmlzc3VlcyA9IFtdO1xuICAgICAgICB0aGlzLmFkZElzc3VlID0gKHN1YikgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc3N1ZXMgPSBbLi4udGhpcy5pc3N1ZXMsIHN1Yl07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYWRkSXNzdWVzID0gKHN1YnMgPSBbXSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc3N1ZXMgPSBbLi4udGhpcy5pc3N1ZXMsIC4uLnN1YnNdO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBhY3R1YWxQcm90byA9IG5ldy50YXJnZXQucHJvdG90eXBlO1xuICAgICAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgYmFuL2JhblxuICAgICAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIGFjdHVhbFByb3RvKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX19wcm90b19fID0gYWN0dWFsUHJvdG87XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uYW1lID0gXCJab2RFcnJvclwiO1xuICAgICAgICB0aGlzLmlzc3VlcyA9IGlzc3VlcztcbiAgICB9XG4gICAgZm9ybWF0KF9tYXBwZXIpIHtcbiAgICAgICAgY29uc3QgbWFwcGVyID0gX21hcHBlciB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGlzc3VlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzc3VlLm1lc3NhZ2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICBjb25zdCBmaWVsZEVycm9ycyA9IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgY29uc3QgcHJvY2Vzc0Vycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlzc3VlIG9mIGVycm9yLmlzc3Vlcykge1xuICAgICAgICAgICAgICAgIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfdW5pb25cIikge1xuICAgICAgICAgICAgICAgICAgICBpc3N1ZS51bmlvbkVycm9ycy5tYXAocHJvY2Vzc0Vycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX3JldHVybl90eXBlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0Vycm9yKGlzc3VlLnJldHVyblR5cGVFcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF9hcmd1bWVudHNcIikge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzRXJyb3IoaXNzdWUuYXJndW1lbnRzRXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS5wYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBmaWVsZEVycm9ycy5fZXJyb3JzLnB1c2gobWFwcGVyKGlzc3VlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY3VyciA9IGZpZWxkRXJyb3JzO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgaXNzdWUucGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsID0gaXNzdWUucGF0aFtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlcm1pbmFsID0gaSA9PT0gaXNzdWUucGF0aC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0ZXJtaW5hbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgeyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmICh0eXBlb2YgZWwgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgeyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0gZWxzZSBpZiAodHlwZW9mIGVsID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBjb25zdCBlcnJvckFycmF5OiBhbnkgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGVycm9yQXJyYXkuX2Vycm9ycyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgY3VycltlbF0gPSBjdXJyW2VsXSB8fCBlcnJvckFycmF5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgeyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJbZWxdLl9lcnJvcnMucHVzaChtYXBwZXIoaXNzdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnIgPSBjdXJyW2VsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcHJvY2Vzc0Vycm9yKHRoaXMpO1xuICAgICAgICByZXR1cm4gZmllbGRFcnJvcnM7XG4gICAgfVxuICAgIHN0YXRpYyBhc3NlcnQodmFsdWUpIHtcbiAgICAgICAgaWYgKCEodmFsdWUgaW5zdGFuY2VvZiBab2RFcnJvcikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm90IGEgWm9kRXJyb3I6ICR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2U7XG4gICAgfVxuICAgIGdldCBtZXNzYWdlKCkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy5pc3N1ZXMsIHV0aWwuanNvblN0cmluZ2lmeVJlcGxhY2VyLCAyKTtcbiAgICB9XG4gICAgZ2V0IGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzc3Vlcy5sZW5ndGggPT09IDA7XG4gICAgfVxuICAgIGZsYXR0ZW4obWFwcGVyID0gKGlzc3VlKSA9PiBpc3N1ZS5tZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IGZpZWxkRXJyb3JzID0ge307XG4gICAgICAgIGNvbnN0IGZvcm1FcnJvcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBzdWIgb2YgdGhpcy5pc3N1ZXMpIHtcbiAgICAgICAgICAgIGlmIChzdWIucGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3RFbCA9IHN1Yi5wYXRoWzBdO1xuICAgICAgICAgICAgICAgIGZpZWxkRXJyb3JzW2ZpcnN0RWxdID0gZmllbGRFcnJvcnNbZmlyc3RFbF0gfHwgW107XG4gICAgICAgICAgICAgICAgZmllbGRFcnJvcnNbZmlyc3RFbF0ucHVzaChtYXBwZXIoc3ViKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3JtRXJyb3JzLnB1c2gobWFwcGVyKHN1YikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGZvcm1FcnJvcnMsIGZpZWxkRXJyb3JzIH07XG4gICAgfVxuICAgIGdldCBmb3JtRXJyb3JzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mbGF0dGVuKCk7XG4gICAgfVxufVxuWm9kRXJyb3IuY3JlYXRlID0gKGlzc3VlcykgPT4ge1xuICAgIGNvbnN0IGVycm9yID0gbmV3IFpvZEVycm9yKGlzc3Vlcyk7XG4gICAgcmV0dXJuIGVycm9yO1xufTtcbiIsImltcG9ydCB7IFpvZElzc3VlQ29kZSB9IGZyb20gXCIuLi9ab2RFcnJvci5qc1wiO1xuaW1wb3J0IHsgdXRpbCwgWm9kUGFyc2VkVHlwZSB9IGZyb20gXCIuLi9oZWxwZXJzL3V0aWwuanNcIjtcbmNvbnN0IGVycm9yTWFwID0gKGlzc3VlLCBfY3R4KSA9PiB7XG4gICAgbGV0IG1lc3NhZ2U7XG4gICAgc3dpdGNoIChpc3N1ZS5jb2RlKSB7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZTpcbiAgICAgICAgICAgIGlmIChpc3N1ZS5yZWNlaXZlZCA9PT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJSZXF1aXJlZFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBFeHBlY3RlZCAke2lzc3VlLmV4cGVjdGVkfSwgcmVjZWl2ZWQgJHtpc3N1ZS5yZWNlaXZlZH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfbGl0ZXJhbDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBsaXRlcmFsIHZhbHVlLCBleHBlY3RlZCAke0pTT04uc3RyaW5naWZ5KGlzc3VlLmV4cGVjdGVkLCB1dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlcil9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS51bnJlY29nbml6ZWRfa2V5czpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgVW5yZWNvZ25pemVkIGtleShzKSBpbiBvYmplY3Q6ICR7dXRpbC5qb2luVmFsdWVzKGlzc3VlLmtleXMsIFwiLCBcIil9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uX2Rpc2NyaW1pbmF0b3I6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZGlzY3JpbWluYXRvciB2YWx1ZS4gRXhwZWN0ZWQgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUub3B0aW9ucyl9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2VudW1fdmFsdWU6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZW51bSB2YWx1ZS4gRXhwZWN0ZWQgJHt1dGlsLmpvaW5WYWx1ZXMoaXNzdWUub3B0aW9ucyl9LCByZWNlaXZlZCAnJHtpc3N1ZS5yZWNlaXZlZH0nYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2FyZ3VtZW50czpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBmdW5jdGlvbiBhcmd1bWVudHNgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfcmV0dXJuX3R5cGU6XG4gICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgZnVuY3Rpb24gcmV0dXJuIHR5cGVgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLmludmFsaWRfZGF0ZTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBkYXRlYDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZzpcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXNzdWUudmFsaWRhdGlvbiA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIGlmIChcImluY2x1ZGVzXCIgaW4gaXNzdWUudmFsaWRhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXQ6IG11c3QgaW5jbHVkZSBcIiR7aXNzdWUudmFsaWRhdGlvbi5pbmNsdWRlc31cImA7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaXNzdWUudmFsaWRhdGlvbi5wb3NpdGlvbiA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGAke21lc3NhZ2V9IGF0IG9uZSBvciBtb3JlIHBvc2l0aW9ucyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gJHtpc3N1ZS52YWxpZGF0aW9uLnBvc2l0aW9ufWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoXCJzdGFydHNXaXRoXCIgaW4gaXNzdWUudmFsaWRhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEludmFsaWQgaW5wdXQ6IG11c3Qgc3RhcnQgd2l0aCBcIiR7aXNzdWUudmFsaWRhdGlvbi5zdGFydHNXaXRofVwiYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoXCJlbmRzV2l0aFwiIGluIGlzc3VlLnZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0OiBtdXN0IGVuZCB3aXRoIFwiJHtpc3N1ZS52YWxpZGF0aW9uLmVuZHNXaXRofVwiYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoaXNzdWUudmFsaWRhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudmFsaWRhdGlvbiAhPT0gXCJyZWdleFwiKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkICR7aXNzdWUudmFsaWRhdGlvbn1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiSW52YWxpZFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLnRvb19zbWFsbDpcbiAgICAgICAgICAgIGlmIChpc3N1ZS50eXBlID09PSBcImFycmF5XCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBBcnJheSBtdXN0IGNvbnRhaW4gJHtpc3N1ZS5leGFjdCA/IFwiZXhhY3RseVwiIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IGxlYXN0YCA6IGBtb3JlIHRoYW5gfSAke2lzc3VlLm1pbmltdW19IGVsZW1lbnQocylgO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYFN0cmluZyBtdXN0IGNvbnRhaW4gJHtpc3N1ZS5leGFjdCA/IFwiZXhhY3RseVwiIDogaXNzdWUuaW5jbHVzaXZlID8gYGF0IGxlYXN0YCA6IGBvdmVyYH0gJHtpc3N1ZS5taW5pbXVtfSBjaGFyYWN0ZXIocylgO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseSBlcXVhbCB0byBgIDogaXNzdWUuaW5jbHVzaXZlID8gYGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgIDogYGdyZWF0ZXIgdGhhbiBgfSR7aXNzdWUubWluaW11bX1gO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJiaWdpbnRcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYE51bWJlciBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseSBlcXVhbCB0byBgIDogaXNzdWUuaW5jbHVzaXZlID8gYGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgIDogYGdyZWF0ZXIgdGhhbiBgfSR7aXNzdWUubWluaW11bX1gO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJkYXRlXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBEYXRlIG11c3QgYmUgJHtpc3N1ZS5leGFjdCA/IGBleGFjdGx5IGVxdWFsIHRvIGAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGAgOiBgZ3JlYXRlciB0aGFuIGB9JHtuZXcgRGF0ZShOdW1iZXIoaXNzdWUubWluaW11bSkpfWA7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiSW52YWxpZCBpbnB1dFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLnRvb19iaWc6XG4gICAgICAgICAgICBpZiAoaXNzdWUudHlwZSA9PT0gXCJhcnJheVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgQXJyYXkgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgYXQgbW9zdGAgOiBgbGVzcyB0aGFuYH0gJHtpc3N1ZS5tYXhpbXVtfSBlbGVtZW50KHMpYDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGBTdHJpbmcgbXVzdCBjb250YWluICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgYXQgbW9zdGAgOiBgdW5kZXJgfSAke2lzc3VlLm1heGltdW19IGNoYXJhY3RlcihzKWA7XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS50eXBlID09PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgTnVtYmVyIG11c3QgYmUgJHtpc3N1ZS5leGFjdCA/IGBleGFjdGx5YCA6IGlzc3VlLmluY2x1c2l2ZSA/IGBsZXNzIHRoYW4gb3IgZXF1YWwgdG9gIDogYGxlc3MgdGhhbmB9ICR7aXNzdWUubWF4aW11bX1gO1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUudHlwZSA9PT0gXCJiaWdpbnRcIilcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYEJpZ0ludCBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgbGVzcyB0aGFuIG9yIGVxdWFsIHRvYCA6IGBsZXNzIHRoYW5gfSAke2lzc3VlLm1heGltdW19YDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnR5cGUgPT09IFwiZGF0ZVwiKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgRGF0ZSBtdXN0IGJlICR7aXNzdWUuZXhhY3QgPyBgZXhhY3RseWAgOiBpc3N1ZS5pbmNsdXNpdmUgPyBgc21hbGxlciB0aGFuIG9yIGVxdWFsIHRvYCA6IGBzbWFsbGVyIHRoYW5gfSAke25ldyBEYXRlKE51bWJlcihpc3N1ZS5tYXhpbXVtKSl9YDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gXCJJbnZhbGlkIGlucHV0XCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUuY3VzdG9tOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBJbnZhbGlkIGlucHV0YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFpvZElzc3VlQ29kZS5pbnZhbGlkX2ludGVyc2VjdGlvbl90eXBlczpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgSW50ZXJzZWN0aW9uIHJlc3VsdHMgY291bGQgbm90IGJlIG1lcmdlZGA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBab2RJc3N1ZUNvZGUubm90X211bHRpcGxlX29mOlxuICAgICAgICAgICAgbWVzc2FnZSA9IGBOdW1iZXIgbXVzdCBiZSBhIG11bHRpcGxlIG9mICR7aXNzdWUubXVsdGlwbGVPZn1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgWm9kSXNzdWVDb2RlLm5vdF9maW5pdGU6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJOdW1iZXIgbXVzdCBiZSBmaW5pdGVcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgbWVzc2FnZSA9IF9jdHguZGVmYXVsdEVycm9yO1xuICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihpc3N1ZSk7XG4gICAgfVxuICAgIHJldHVybiB7IG1lc3NhZ2UgfTtcbn07XG5leHBvcnQgZGVmYXVsdCBlcnJvck1hcDtcbiIsImltcG9ydCBkZWZhdWx0RXJyb3JNYXAgZnJvbSBcIi4vbG9jYWxlcy9lbi5qc1wiO1xubGV0IG92ZXJyaWRlRXJyb3JNYXAgPSBkZWZhdWx0RXJyb3JNYXA7XG5leHBvcnQgeyBkZWZhdWx0RXJyb3JNYXAgfTtcbmV4cG9ydCBmdW5jdGlvbiBzZXRFcnJvck1hcChtYXApIHtcbiAgICBvdmVycmlkZUVycm9yTWFwID0gbWFwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEVycm9yTWFwKCkge1xuICAgIHJldHVybiBvdmVycmlkZUVycm9yTWFwO1xufVxuIiwiaW1wb3J0IHsgZ2V0RXJyb3JNYXAgfSBmcm9tIFwiLi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgZGVmYXVsdEVycm9yTWFwIGZyb20gXCIuLi9sb2NhbGVzL2VuLmpzXCI7XG5leHBvcnQgY29uc3QgbWFrZUlzc3VlID0gKHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgcGF0aCwgZXJyb3JNYXBzLCBpc3N1ZURhdGEgfSA9IHBhcmFtcztcbiAgICBjb25zdCBmdWxsUGF0aCA9IFsuLi5wYXRoLCAuLi4oaXNzdWVEYXRhLnBhdGggfHwgW10pXTtcbiAgICBjb25zdCBmdWxsSXNzdWUgPSB7XG4gICAgICAgIC4uLmlzc3VlRGF0YSxcbiAgICAgICAgcGF0aDogZnVsbFBhdGgsXG4gICAgfTtcbiAgICBpZiAoaXNzdWVEYXRhLm1lc3NhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uaXNzdWVEYXRhLFxuICAgICAgICAgICAgcGF0aDogZnVsbFBhdGgsXG4gICAgICAgICAgICBtZXNzYWdlOiBpc3N1ZURhdGEubWVzc2FnZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgbGV0IGVycm9yTWVzc2FnZSA9IFwiXCI7XG4gICAgY29uc3QgbWFwcyA9IGVycm9yTWFwc1xuICAgICAgICAuZmlsdGVyKChtKSA9PiAhIW0pXG4gICAgICAgIC5zbGljZSgpXG4gICAgICAgIC5yZXZlcnNlKCk7XG4gICAgZm9yIChjb25zdCBtYXAgb2YgbWFwcykge1xuICAgICAgICBlcnJvck1lc3NhZ2UgPSBtYXAoZnVsbElzc3VlLCB7IGRhdGEsIGRlZmF1bHRFcnJvcjogZXJyb3JNZXNzYWdlIH0pLm1lc3NhZ2U7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmlzc3VlRGF0YSxcbiAgICAgICAgcGF0aDogZnVsbFBhdGgsXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yTWVzc2FnZSxcbiAgICB9O1xufTtcbmV4cG9ydCBjb25zdCBFTVBUWV9QQVRIID0gW107XG5leHBvcnQgZnVuY3Rpb24gYWRkSXNzdWVUb0NvbnRleHQoY3R4LCBpc3N1ZURhdGEpIHtcbiAgICBjb25zdCBvdmVycmlkZU1hcCA9IGdldEVycm9yTWFwKCk7XG4gICAgY29uc3QgaXNzdWUgPSBtYWtlSXNzdWUoe1xuICAgICAgICBpc3N1ZURhdGE6IGlzc3VlRGF0YSxcbiAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICBlcnJvck1hcHM6IFtcbiAgICAgICAgICAgIGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLCAvLyBjb250ZXh0dWFsIGVycm9yIG1hcCBpcyBmaXJzdCBwcmlvcml0eVxuICAgICAgICAgICAgY3R4LnNjaGVtYUVycm9yTWFwLCAvLyB0aGVuIHNjaGVtYS1ib3VuZCBtYXAgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICBvdmVycmlkZU1hcCwgLy8gdGhlbiBnbG9iYWwgb3ZlcnJpZGUgbWFwXG4gICAgICAgICAgICBvdmVycmlkZU1hcCA9PT0gZGVmYXVsdEVycm9yTWFwID8gdW5kZWZpbmVkIDogZGVmYXVsdEVycm9yTWFwLCAvLyB0aGVuIGdsb2JhbCBkZWZhdWx0IG1hcFxuICAgICAgICBdLmZpbHRlcigoeCkgPT4gISF4KSxcbiAgICB9KTtcbiAgICBjdHguY29tbW9uLmlzc3Vlcy5wdXNoKGlzc3VlKTtcbn1cbmV4cG9ydCBjbGFzcyBQYXJzZVN0YXR1cyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSBcInZhbGlkXCI7XG4gICAgfVxuICAgIGRpcnR5KCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZSA9PT0gXCJ2YWxpZFwiKVxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IFwiZGlydHlcIjtcbiAgICB9XG4gICAgYWJvcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlICE9PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBcImFib3J0ZWRcIjtcbiAgICB9XG4gICAgc3RhdGljIG1lcmdlQXJyYXkoc3RhdHVzLCByZXN1bHRzKSB7XG4gICAgICAgIGNvbnN0IGFycmF5VmFsdWUgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBzIG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgIGlmIChzLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICBpZiAocy5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIGFycmF5VmFsdWUucHVzaChzLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGFycmF5VmFsdWUgfTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIG1lcmdlT2JqZWN0QXN5bmMoc3RhdHVzLCBwYWlycykge1xuICAgICAgICBjb25zdCBzeW5jUGFpcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCBwYWlyLmtleTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFpci52YWx1ZTtcbiAgICAgICAgICAgIHN5bmNQYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgc3luY1BhaXJzKTtcbiAgICB9XG4gICAgc3RhdGljIG1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHBhaXJzKSB7XG4gICAgICAgIGNvbnN0IGZpbmFsT2JqZWN0ID0ge307XG4gICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgY29uc3QgeyBrZXksIHZhbHVlIH0gPSBwYWlyO1xuICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgaWYgKHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgaWYgKHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgaWYgKGtleS52YWx1ZSAhPT0gXCJfX3Byb3RvX19cIiAmJiAodHlwZW9mIHZhbHVlLnZhbHVlICE9PSBcInVuZGVmaW5lZFwiIHx8IHBhaXIuYWx3YXlzU2V0KSkge1xuICAgICAgICAgICAgICAgIGZpbmFsT2JqZWN0W2tleS52YWx1ZV0gPSB2YWx1ZS52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGZpbmFsT2JqZWN0IH07XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IElOVkFMSUQgPSBPYmplY3QuZnJlZXplKHtcbiAgICBzdGF0dXM6IFwiYWJvcnRlZFwiLFxufSk7XG5leHBvcnQgY29uc3QgRElSVFkgPSAodmFsdWUpID0+ICh7IHN0YXR1czogXCJkaXJ0eVwiLCB2YWx1ZSB9KTtcbmV4cG9ydCBjb25zdCBPSyA9ICh2YWx1ZSkgPT4gKHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlIH0pO1xuZXhwb3J0IGNvbnN0IGlzQWJvcnRlZCA9ICh4KSA9PiB4LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCI7XG5leHBvcnQgY29uc3QgaXNEaXJ0eSA9ICh4KSA9PiB4LnN0YXR1cyA9PT0gXCJkaXJ0eVwiO1xuZXhwb3J0IGNvbnN0IGlzVmFsaWQgPSAoeCkgPT4geC5zdGF0dXMgPT09IFwidmFsaWRcIjtcbmV4cG9ydCBjb25zdCBpc0FzeW5jID0gKHgpID0+IHR5cGVvZiBQcm9taXNlICE9PSBcInVuZGVmaW5lZFwiICYmIHggaW5zdGFuY2VvZiBQcm9taXNlO1xuIiwiZXhwb3J0IHZhciBlcnJvclV0aWw7XG4oZnVuY3Rpb24gKGVycm9yVXRpbCkge1xuICAgIGVycm9yVXRpbC5lcnJUb09iaiA9IChtZXNzYWdlKSA9PiB0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiA/IHsgbWVzc2FnZSB9IDogbWVzc2FnZSB8fCB7fTtcbiAgICAvLyBiaW9tZS1pZ25vcmUgbGludDpcbiAgICBlcnJvclV0aWwudG9TdHJpbmcgPSAobWVzc2FnZSkgPT4gdHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgPyBtZXNzYWdlIDogbWVzc2FnZT8ubWVzc2FnZTtcbn0pKGVycm9yVXRpbCB8fCAoZXJyb3JVdGlsID0ge30pKTtcbiIsImltcG9ydCB7IFpvZEVycm9yLCBab2RJc3N1ZUNvZGUsIH0gZnJvbSBcIi4vWm9kRXJyb3IuanNcIjtcbmltcG9ydCB7IGRlZmF1bHRFcnJvck1hcCwgZ2V0RXJyb3JNYXAgfSBmcm9tIFwiLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7IGVycm9yVXRpbCB9IGZyb20gXCIuL2hlbHBlcnMvZXJyb3JVdGlsLmpzXCI7XG5pbXBvcnQgeyBESVJUWSwgSU5WQUxJRCwgT0ssIFBhcnNlU3RhdHVzLCBhZGRJc3N1ZVRvQ29udGV4dCwgaXNBYm9ydGVkLCBpc0FzeW5jLCBpc0RpcnR5LCBpc1ZhbGlkLCBtYWtlSXNzdWUsIH0gZnJvbSBcIi4vaGVscGVycy9wYXJzZVV0aWwuanNcIjtcbmltcG9ydCB7IHV0aWwsIFpvZFBhcnNlZFR5cGUsIGdldFBhcnNlZFR5cGUgfSBmcm9tIFwiLi9oZWxwZXJzL3V0aWwuanNcIjtcbmNsYXNzIFBhcnNlSW5wdXRMYXp5UGF0aCB7XG4gICAgY29uc3RydWN0b3IocGFyZW50LCB2YWx1ZSwgcGF0aCwga2V5KSB7XG4gICAgICAgIHRoaXMuX2NhY2hlZFBhdGggPSBbXTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHRoaXMuZGF0YSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9wYXRoID0gcGF0aDtcbiAgICAgICAgdGhpcy5fa2V5ID0ga2V5O1xuICAgIH1cbiAgICBnZXQgcGF0aCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZWRQYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5fa2V5KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlZFBhdGgucHVzaCguLi50aGlzLl9wYXRoLCAuLi50aGlzLl9rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVkUGF0aC5wdXNoKC4uLnRoaXMuX3BhdGgsIHRoaXMuX2tleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZFBhdGg7XG4gICAgfVxufVxuY29uc3QgaGFuZGxlUmVzdWx0ID0gKGN0eCwgcmVzdWx0KSA9PiB7XG4gICAgaWYgKGlzVmFsaWQocmVzdWx0KSkge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXN1bHQudmFsdWUgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICghY3R4LmNvbW1vbi5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWYWxpZGF0aW9uIGZhaWxlZCBidXQgbm8gaXNzdWVzIGRldGVjdGVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBnZXQgZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2Vycm9yKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZXJyb3I7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgWm9kRXJyb3IoY3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gZXJyb3I7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59O1xuZnVuY3Rpb24gcHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpIHtcbiAgICBpZiAoIXBhcmFtcylcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIGNvbnN0IHsgZXJyb3JNYXAsIGludmFsaWRfdHlwZV9lcnJvciwgcmVxdWlyZWRfZXJyb3IsIGRlc2NyaXB0aW9uIH0gPSBwYXJhbXM7XG4gICAgaWYgKGVycm9yTWFwICYmIChpbnZhbGlkX3R5cGVfZXJyb3IgfHwgcmVxdWlyZWRfZXJyb3IpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2FuJ3QgdXNlIFwiaW52YWxpZF90eXBlX2Vycm9yXCIgb3IgXCJyZXF1aXJlZF9lcnJvclwiIGluIGNvbmp1bmN0aW9uIHdpdGggY3VzdG9tIGVycm9yIG1hcC5gKTtcbiAgICB9XG4gICAgaWYgKGVycm9yTWFwKVxuICAgICAgICByZXR1cm4geyBlcnJvck1hcDogZXJyb3JNYXAsIGRlc2NyaXB0aW9uIH07XG4gICAgY29uc3QgY3VzdG9tTWFwID0gKGlzcywgY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZSB9ID0gcGFyYW1zO1xuICAgICAgICBpZiAoaXNzLmNvZGUgPT09IFwiaW52YWxpZF9lbnVtX3ZhbHVlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IG1lc3NhZ2UgPz8gY3R4LmRlZmF1bHRFcnJvciB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY3R4LmRhdGEgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IG1lc3NhZ2UgPz8gcmVxdWlyZWRfZXJyb3IgPz8gY3R4LmRlZmF1bHRFcnJvciB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc3MuY29kZSAhPT0gXCJpbnZhbGlkX3R5cGVcIilcbiAgICAgICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICAgICAgcmV0dXJuIHsgbWVzc2FnZTogbWVzc2FnZSA/PyBpbnZhbGlkX3R5cGVfZXJyb3IgPz8gY3R4LmRlZmF1bHRFcnJvciB9O1xuICAgIH07XG4gICAgcmV0dXJuIHsgZXJyb3JNYXA6IGN1c3RvbU1hcCwgZGVzY3JpcHRpb24gfTtcbn1cbmV4cG9ydCBjbGFzcyBab2RUeXBlIHtcbiAgICBnZXQgZGVzY3JpcHRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuZGVzY3JpcHRpb247XG4gICAgfVxuICAgIF9nZXRUeXBlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBnZXRQYXJzZWRUeXBlKGlucHV0LmRhdGEpO1xuICAgIH1cbiAgICBfZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCkge1xuICAgICAgICByZXR1cm4gKGN0eCB8fCB7XG4gICAgICAgICAgICBjb21tb246IGlucHV0LnBhcmVudC5jb21tb24sXG4gICAgICAgICAgICBkYXRhOiBpbnB1dC5kYXRhLFxuICAgICAgICAgICAgcGFyc2VkVHlwZTogZ2V0UGFyc2VkVHlwZShpbnB1dC5kYXRhKSxcbiAgICAgICAgICAgIHNjaGVtYUVycm9yTWFwOiB0aGlzLl9kZWYuZXJyb3JNYXAsXG4gICAgICAgICAgICBwYXRoOiBpbnB1dC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBpbnB1dC5wYXJlbnQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6IG5ldyBQYXJzZVN0YXR1cygpLFxuICAgICAgICAgICAgY3R4OiB7XG4gICAgICAgICAgICAgICAgY29tbW9uOiBpbnB1dC5wYXJlbnQuY29tbW9uLFxuICAgICAgICAgICAgICAgIGRhdGE6IGlucHV0LmRhdGEsXG4gICAgICAgICAgICAgICAgcGFyc2VkVHlwZTogZ2V0UGFyc2VkVHlwZShpbnB1dC5kYXRhKSxcbiAgICAgICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgICAgIHBhdGg6IGlucHV0LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBpbnB1dC5wYXJlbnQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBfcGFyc2VTeW5jKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlKGlucHV0KTtcbiAgICAgICAgaWYgKGlzQXN5bmMocmVzdWx0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3luY2hyb25vdXMgcGFyc2UgZW5jb3VudGVyZWQgcHJvbWlzZS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgX3BhcnNlQXN5bmMoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcGFyc2UoaW5wdXQpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgfVxuICAgIHBhcnNlKGRhdGEsIHBhcmFtcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnNhZmVQYXJzZShkYXRhLCBwYXJhbXMpO1xuICAgICAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmRhdGE7XG4gICAgICAgIHRocm93IHJlc3VsdC5lcnJvcjtcbiAgICB9XG4gICAgc2FmZVBhcnNlKGRhdGEsIHBhcmFtcykge1xuICAgICAgICBjb25zdCBjdHggPSB7XG4gICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgIGFzeW5jOiBwYXJhbXM/LmFzeW5jID8/IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbnRleHR1YWxFcnJvck1hcDogcGFyYW1zPy5lcnJvck1hcCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXRoOiBwYXJhbXM/LnBhdGggfHwgW10sXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoZGF0YSksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlU3luYyh7IGRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVJlc3VsdChjdHgsIHJlc3VsdCk7XG4gICAgfVxuICAgIFwifnZhbGlkYXRlXCIoZGF0YSkge1xuICAgICAgICBjb25zdCBjdHggPSB7XG4gICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgIGFzeW5jOiAhIXRoaXNbXCJ+c3RhbmRhcmRcIl0uYXN5bmMsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF0aDogW10sXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoZGF0YSksXG4gICAgICAgIH07XG4gICAgICAgIGlmICghdGhpc1tcIn5zdGFuZGFyZFwiXS5hc3luYykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZVN5bmMoeyBkYXRhLCBwYXRoOiBbXSwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQocmVzdWx0KVxuICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IGN0eC5jb21tb24uaXNzdWVzLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChlcnI/Lm1lc3NhZ2U/LnRvTG93ZXJDYXNlKCk/LmluY2x1ZGVzKFwiZW5jb3VudGVyZWRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tcIn5zdGFuZGFyZFwiXS5hc3luYyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN0eC5jb21tb24gPSB7XG4gICAgICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICAgICAgICAgIGFzeW5jOiB0cnVlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnNlQXN5bmMoeyBkYXRhLCBwYXRoOiBbXSwgcGFyZW50OiBjdHggfSkudGhlbigocmVzdWx0KSA9PiBpc1ZhbGlkKHJlc3VsdClcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQudmFsdWUsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IGN0eC5jb21tb24uaXNzdWVzLFxuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlQXN5bmMoZGF0YSwgcGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuc2FmZVBhcnNlQXN5bmMoZGF0YSwgcGFyYW1zKTtcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xuICAgICAgICB0aHJvdyByZXN1bHQuZXJyb3I7XG4gICAgfVxuICAgIGFzeW5jIHNhZmVQYXJzZUFzeW5jKGRhdGEsIHBhcmFtcykge1xuICAgICAgICBjb25zdCBjdHggPSB7XG4gICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgIGNvbnRleHR1YWxFcnJvck1hcDogcGFyYW1zPy5lcnJvck1hcCxcbiAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXRoOiBwYXJhbXM/LnBhdGggfHwgW10sXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoZGF0YSksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG1heWJlQXN5bmNSZXN1bHQgPSB0aGlzLl9wYXJzZSh7IGRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgKGlzQXN5bmMobWF5YmVBc3luY1Jlc3VsdCkgPyBtYXliZUFzeW5jUmVzdWx0IDogUHJvbWlzZS5yZXNvbHZlKG1heWJlQXN5bmNSZXN1bHQpKTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZVJlc3VsdChjdHgsIHJlc3VsdCk7XG4gICAgfVxuICAgIHJlZmluZShjaGVjaywgbWVzc2FnZSkge1xuICAgICAgICBjb25zdCBnZXRJc3N1ZVByb3BlcnRpZXMgPSAodmFsKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIG1lc3NhZ2UgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2UodmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudCgodmFsLCBjdHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGNoZWNrKHZhbCk7XG4gICAgICAgICAgICBjb25zdCBzZXRFcnJvciA9ICgpID0+IGN0eC5hZGRJc3N1ZSh7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmN1c3RvbSxcbiAgICAgICAgICAgICAgICAuLi5nZXRJc3N1ZVByb3BlcnRpZXModmFsKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBQcm9taXNlICE9PSBcInVuZGVmaW5lZFwiICYmIHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgc2V0RXJyb3IoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlZmluZW1lbnQoY2hlY2ssIHJlZmluZW1lbnREYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWZpbmVtZW50KCh2YWwsIGN0eCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFjaGVjayh2YWwpKSB7XG4gICAgICAgICAgICAgICAgY3R4LmFkZElzc3VlKHR5cGVvZiByZWZpbmVtZW50RGF0YSA9PT0gXCJmdW5jdGlvblwiID8gcmVmaW5lbWVudERhdGEodmFsLCBjdHgpIDogcmVmaW5lbWVudERhdGEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3JlZmluZW1lbnQocmVmaW5lbWVudCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICAgICAgc2NoZW1hOiB0aGlzLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICAgICAgZWZmZWN0OiB7IHR5cGU6IFwicmVmaW5lbWVudFwiLCByZWZpbmVtZW50IH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdXBlclJlZmluZShyZWZpbmVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWZpbmVtZW50KHJlZmluZW1lbnQpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihkZWYpIHtcbiAgICAgICAgLyoqIEFsaWFzIG9mIHNhZmVQYXJzZUFzeW5jICovXG4gICAgICAgIHRoaXMuc3BhID0gdGhpcy5zYWZlUGFyc2VBc3luYztcbiAgICAgICAgdGhpcy5fZGVmID0gZGVmO1xuICAgICAgICB0aGlzLnBhcnNlID0gdGhpcy5wYXJzZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNhZmVQYXJzZSA9IHRoaXMuc2FmZVBhcnNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucGFyc2VBc3luYyA9IHRoaXMucGFyc2VBc3luYy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNhZmVQYXJzZUFzeW5jID0gdGhpcy5zYWZlUGFyc2VBc3luYy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnNwYSA9IHRoaXMuc3BhLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVmaW5lID0gdGhpcy5yZWZpbmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWZpbmVtZW50ID0gdGhpcy5yZWZpbmVtZW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuc3VwZXJSZWZpbmUgPSB0aGlzLnN1cGVyUmVmaW5lLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub3B0aW9uYWwgPSB0aGlzLm9wdGlvbmFsLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubnVsbGFibGUgPSB0aGlzLm51bGxhYmxlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMubnVsbGlzaCA9IHRoaXMubnVsbGlzaC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmFycmF5ID0gdGhpcy5hcnJheS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnByb21pc2UgPSB0aGlzLnByb21pc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vciA9IHRoaXMub3IuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hbmQgPSB0aGlzLmFuZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYnJhbmQgPSB0aGlzLmJyYW5kLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IHRoaXMuZGVmYXVsdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNhdGNoID0gdGhpcy5jYXRjaC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmRlc2NyaWJlID0gdGhpcy5kZXNjcmliZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnBpcGUgPSB0aGlzLnBpcGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWFkb25seSA9IHRoaXMucmVhZG9ubHkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5pc051bGxhYmxlID0gdGhpcy5pc051bGxhYmxlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaXNPcHRpb25hbCA9IHRoaXMuaXNPcHRpb25hbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzW1wifnN0YW5kYXJkXCJdID0ge1xuICAgICAgICAgICAgdmVyc2lvbjogMSxcbiAgICAgICAgICAgIHZlbmRvcjogXCJ6b2RcIixcbiAgICAgICAgICAgIHZhbGlkYXRlOiAoZGF0YSkgPT4gdGhpc1tcIn52YWxpZGF0ZVwiXShkYXRhKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgb3B0aW9uYWwoKSB7XG4gICAgICAgIHJldHVybiBab2RPcHRpb25hbC5jcmVhdGUodGhpcywgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgbnVsbGFibGUoKSB7XG4gICAgICAgIHJldHVybiBab2ROdWxsYWJsZS5jcmVhdGUodGhpcywgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgbnVsbGlzaCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubnVsbGFibGUoKS5vcHRpb25hbCgpO1xuICAgIH1cbiAgICBhcnJheSgpIHtcbiAgICAgICAgcmV0dXJuIFpvZEFycmF5LmNyZWF0ZSh0aGlzKTtcbiAgICB9XG4gICAgcHJvbWlzZSgpIHtcbiAgICAgICAgcmV0dXJuIFpvZFByb21pc2UuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIG9yKG9wdGlvbikge1xuICAgICAgICByZXR1cm4gWm9kVW5pb24uY3JlYXRlKFt0aGlzLCBvcHRpb25dLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBhbmQoaW5jb21pbmcpIHtcbiAgICAgICAgcmV0dXJuIFpvZEludGVyc2VjdGlvbi5jcmVhdGUodGhpcywgaW5jb21pbmcsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIHRyYW5zZm9ybSh0cmFuc2Zvcm0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgICAgICAgIHNjaGVtYTogdGhpcyxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgICAgIGVmZmVjdDogeyB0eXBlOiBcInRyYW5zZm9ybVwiLCB0cmFuc2Zvcm0gfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlZmF1bHQoZGVmKSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZUZ1bmMgPSB0eXBlb2YgZGVmID09PSBcImZ1bmN0aW9uXCIgPyBkZWYgOiAoKSA9PiBkZWY7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRGVmYXVsdCh7XG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgICAgICBpbm5lclR5cGU6IHRoaXMsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZUZ1bmMsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERlZmF1bHQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBicmFuZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RCcmFuZGVkKHtcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQnJhbmRlZCxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMsXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaChkZWYpIHtcbiAgICAgICAgY29uc3QgY2F0Y2hWYWx1ZUZ1bmMgPSB0eXBlb2YgZGVmID09PSBcImZ1bmN0aW9uXCIgPyBkZWYgOiAoKSA9PiBkZWY7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQ2F0Y2goe1xuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICAgICAgaW5uZXJUeXBlOiB0aGlzLFxuICAgICAgICAgICAgY2F0Y2hWYWx1ZTogY2F0Y2hWYWx1ZUZ1bmMsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZENhdGNoLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGVzY3JpYmUoZGVzY3JpcHRpb24pIHtcbiAgICAgICAgY29uc3QgVGhpcyA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgIHJldHVybiBuZXcgVGhpcyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBpcGUodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBab2RQaXBlbGluZS5jcmVhdGUodGhpcywgdGFyZ2V0KTtcbiAgICB9XG4gICAgcmVhZG9ubHkoKSB7XG4gICAgICAgIHJldHVybiBab2RSZWFkb25seS5jcmVhdGUodGhpcyk7XG4gICAgfVxuICAgIGlzT3B0aW9uYWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNhZmVQYXJzZSh1bmRlZmluZWQpLnN1Y2Nlc3M7XG4gICAgfVxuICAgIGlzTnVsbGFibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNhZmVQYXJzZShudWxsKS5zdWNjZXNzO1xuICAgIH1cbn1cbmNvbnN0IGN1aWRSZWdleCA9IC9eY1teXFxzLV17OCx9JC9pO1xuY29uc3QgY3VpZDJSZWdleCA9IC9eWzAtOWEtel0rJC87XG5jb25zdCB1bGlkUmVnZXggPSAvXlswLTlBLUhKS01OUC1UVi1aXXsyNn0kL2k7XG4vLyBjb25zdCB1dWlkUmVnZXggPVxuLy8gICAvXihbYS1mMC05XXs4fS1bYS1mMC05XXs0fS1bMS01XVthLWYwLTldezN9LVthLWYwLTldezR9LVthLWYwLTldezEyfXwwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDApJC9pO1xuY29uc3QgdXVpZFJlZ2V4ID0gL15bMC05YS1mQS1GXXs4fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXs0fVxcYi1bMC05YS1mQS1GXXsxMn0kL2k7XG5jb25zdCBuYW5vaWRSZWdleCA9IC9eW2EtejAtOV8tXXsyMX0kL2k7XG5jb25zdCBqd3RSZWdleCA9IC9eW0EtWmEtejAtOS1fXStcXC5bQS1aYS16MC05LV9dK1xcLltBLVphLXowLTktX10qJC87XG5jb25zdCBkdXJhdGlvblJlZ2V4ID0gL15bLStdP1AoPyEkKSg/Oig/OlstK10/XFxkK1kpfCg/OlstK10/XFxkK1suLF1cXGQrWSQpKT8oPzooPzpbLStdP1xcZCtNKXwoPzpbLStdP1xcZCtbLixdXFxkK00kKSk/KD86KD86Wy0rXT9cXGQrVyl8KD86Wy0rXT9cXGQrWy4sXVxcZCtXJCkpPyg/Oig/OlstK10/XFxkK0QpfCg/OlstK10/XFxkK1suLF1cXGQrRCQpKT8oPzpUKD89W1xcZCstXSkoPzooPzpbLStdP1xcZCtIKXwoPzpbLStdP1xcZCtbLixdXFxkK0gkKSk/KD86KD86Wy0rXT9cXGQrTSl8KD86Wy0rXT9cXGQrWy4sXVxcZCtNJCkpPyg/OlstK10/XFxkKyg/OlsuLF1cXGQrKT9TKT8pPz8kLztcbi8vIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ2MTgxLzE1NTAxNTVcbi8vIG9sZCB2ZXJzaW9uOiB0b28gc2xvdywgZGlkbid0IHN1cHBvcnQgdW5pY29kZVxuLy8gY29uc3QgZW1haWxSZWdleCA9IC9eKCgoW2Etel18XFxkfFshI1xcJCUmJ1xcKlxcK1xcLVxcLz1cXD9cXF5fYHtcXHx9fl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKyhcXC4oW2Etel18XFxkfFshI1xcJCUmJ1xcKlxcK1xcLVxcLz1cXD9cXF5fYHtcXHx9fl18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKykqKXwoKFxceDIyKSgoKChcXHgyMHxcXHgwOSkqKFxceDBkXFx4MGEpKT8oXFx4MjB8XFx4MDkpKyk/KChbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHg3Zl18XFx4MjF8W1xceDIzLVxceDViXXxbXFx4NWQtXFx4N2VdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoXFxcXChbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGQtXFx4N2ZdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpKSooKChcXHgyMHxcXHgwOSkqKFxceDBkXFx4MGEpKT8oXFx4MjB8XFx4MDkpKyk/KFxceDIyKSkpQCgoKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSlcXC4pKygoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKFthLXpdfFxcZHwtfFxcLnxffH58W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKihbYS16XXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKSQvaTtcbi8vb2xkIGVtYWlsIHJlZ2V4XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID0gL14oKFtePD4oKVtcXF0uLDs6XFxzQFwiXSsoXFwuW148PigpW1xcXS4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKCg/IS0pKFtePD4oKVtcXF0uLDs6XFxzQFwiXStcXC4pK1tePD4oKVtcXF0uLDs6XFxzQFwiXXsxLH0pW14tPD4oKVtcXF0uLDs6XFxzQFwiXSQvaTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuLy8gY29uc3QgZW1haWxSZWdleCA9XG4vLyAgIC9eKChbXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKFxcLltePD4oKVtcXF1cXFxcLiw7Olxcc0BcXFwiXSspKil8KFxcXCIuK1xcXCIpKUAoKFxcWygoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcXSl8KFxcW0lQdjY6KChbYS1mMC05XXsxLDR9Oil7N318OjooW2EtZjAtOV17MSw0fTopezAsNn18KFthLWYwLTldezEsNH06KXsxfTooW2EtZjAtOV17MSw0fTopezAsNX18KFthLWYwLTldezEsNH06KXsyfTooW2EtZjAtOV17MSw0fTopezAsNH18KFthLWYwLTldezEsNH06KXszfTooW2EtZjAtOV17MSw0fTopezAsM318KFthLWYwLTldezEsNH06KXs0fTooW2EtZjAtOV17MSw0fTopezAsMn18KFthLWYwLTldezEsNH06KXs1fTooW2EtZjAtOV17MSw0fTopezAsMX0pKFthLWYwLTldezEsNH18KCgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFwuKXszfSgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpKVxcXSl8KFtBLVphLXowLTldKFtBLVphLXowLTktXSpbQS1aYS16MC05XSkqKFxcLltBLVphLXpdezIsfSkrKSkkLztcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXlthLXpBLVowLTlcXC5cXCFcXCNcXCRcXCVcXCZcXCdcXCpcXCtcXC9cXD1cXD9cXF5cXF9cXGBcXHtcXHxcXH1cXH5cXC1dK0BbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcXC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKiQvO1xuLy8gY29uc3QgZW1haWxSZWdleCA9XG4vLyAgIC9eKD86W2EtejAtOSEjJCUmJyorLz0/Xl9ge3x9fi1dKyg/OlxcLlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSspKnxcIig/OltcXHgwMS1cXHgwOFxceDBiXFx4MGNcXHgwZS1cXHgxZlxceDIxXFx4MjMtXFx4NWJcXHg1ZC1cXHg3Zl18XFxcXFtcXHgwMS1cXHgwOVxceDBiXFx4MGNcXHgwZS1cXHg3Zl0pKlwiKUAoPzooPzpbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/XFwuKStbYS16MC05XSg/OlthLXowLTktXSpbYS16MC05XSk/fFxcWyg/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPylcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXxbMDFdP1swLTldWzAtOV0/fFthLXowLTktXSpbYS16MC05XTooPzpbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHgyMS1cXHg1YVxceDUzLVxceDdmXXxcXFxcW1xceDAxLVxceDA5XFx4MGJcXHgwY1xceDBlLVxceDdmXSkrKVxcXSkkL2k7XG5jb25zdCBlbWFpbFJlZ2V4ID0gL14oPyFcXC4pKD8hLipcXC5cXC4pKFtBLVowLTlfJytcXC1cXC5dKilbQS1aMC05XystXUAoW0EtWjAtOV1bQS1aMC05XFwtXSpcXC4pK1tBLVpdezIsfSQvaTtcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXlthLXowLTkuISMkJSbigJkqKy89P15fYHt8fX4tXStAW2EtejAtOS1dKyg/OlxcLlthLXowLTlcXC1dKykqJC9pO1xuLy8gZnJvbSBodHRwczovL3RoZWtldmluc2NvdHQuY29tL2Vtb2ppcy1pbi1qYXZhc2NyaXB0LyN3cml0aW5nLWEtcmVndWxhci1leHByZXNzaW9uXG5jb25zdCBfZW1vamlSZWdleCA9IGBeKFxcXFxwe0V4dGVuZGVkX1BpY3RvZ3JhcGhpY318XFxcXHB7RW1vamlfQ29tcG9uZW50fSkrJGA7XG5sZXQgZW1vamlSZWdleDtcbi8vIGZhc3Rlciwgc2ltcGxlciwgc2FmZXJcbmNvbnN0IGlwdjRSZWdleCA9IC9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pJC87XG5jb25zdCBpcHY0Q2lkclJlZ2V4ID0gL14oPzooPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC8oM1swLTJdfFsxMl0/WzAtOV0pJC87XG4vLyBjb25zdCBpcHY2UmVnZXggPVxuLy8gL14oKFthLWYwLTldezEsNH06KXs3fXw6OihbYS1mMC05XXsxLDR9Oil7MCw2fXwoW2EtZjAtOV17MSw0fTopezF9OihbYS1mMC05XXsxLDR9Oil7MCw1fXwoW2EtZjAtOV17MSw0fTopezJ9OihbYS1mMC05XXsxLDR9Oil7MCw0fXwoW2EtZjAtOV17MSw0fTopezN9OihbYS1mMC05XXsxLDR9Oil7MCwzfXwoW2EtZjAtOV17MSw0fTopezR9OihbYS1mMC05XXsxLDR9Oil7MCwyfXwoW2EtZjAtOV17MSw0fTopezV9OihbYS1mMC05XXsxLDR9Oil7MCwxfSkoW2EtZjAtOV17MSw0fXwoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSkpJC87XG5jb25zdCBpcHY2UmVnZXggPSAvXigoWzAtOWEtZkEtRl17MSw0fTopezcsN31bMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw3fTp8KFswLTlhLWZBLUZdezEsNH06KXsxLDZ9OlswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDV9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDJ9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwzfXwoWzAtOWEtZkEtRl17MSw0fTopezEsM30oOlswLTlhLWZBLUZdezEsNH0pezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDJ9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDV9fFswLTlhLWZBLUZdezEsNH06KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw2fSl8OigoOlswLTlhLWZBLUZdezEsNH0pezEsN318Oil8ZmU4MDooOlswLTlhLWZBLUZdezAsNH0pezAsNH0lWzAtOWEtekEtWl17MSx9fDo6KGZmZmYoOjB7MSw0fSl7MCwxfTopezAsMX0oKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSl8KFswLTlhLWZBLUZdezEsNH06KXsxLDR9OigoMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pXFwuKXszLDN9KDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKSkkLztcbmNvbnN0IGlwdjZDaWRyUmVnZXggPSAvXigoWzAtOWEtZkEtRl17MSw0fTopezcsN31bMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw3fTp8KFswLTlhLWZBLUZdezEsNH06KXsxLDZ9OlswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDV9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDJ9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwzfXwoWzAtOWEtZkEtRl17MSw0fTopezEsM30oOlswLTlhLWZBLUZdezEsNH0pezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDJ9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDV9fFswLTlhLWZBLUZdezEsNH06KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw2fSl8OigoOlswLTlhLWZBLUZdezEsNH0pezEsN318Oil8ZmU4MDooOlswLTlhLWZBLUZdezAsNH0pezAsNH0lWzAtOWEtekEtWl17MSx9fDo6KGZmZmYoOjB7MSw0fSl7MCwxfTopezAsMX0oKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSl8KFswLTlhLWZBLUZdezEsNH06KXsxLDR9OigoMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pXFwuKXszLDN9KDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKSlcXC8oMTJbMC04XXwxWzAxXVswLTldfFsxLTldP1swLTldKSQvO1xuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzg2MDM5Mi9kZXRlcm1pbmUtaWYtc3RyaW5nLWlzLWluLWJhc2U2NC11c2luZy1qYXZhc2NyaXB0XG5jb25zdCBiYXNlNjRSZWdleCA9IC9eKFswLTlhLXpBLVorL117NH0pKigoWzAtOWEtekEtWisvXXsyfT09KXwoWzAtOWEtekEtWisvXXszfT0pKT8kLztcbi8vIGh0dHBzOi8vYmFzZTY0Lmd1cnUvc3RhbmRhcmRzL2Jhc2U2NHVybFxuY29uc3QgYmFzZTY0dXJsUmVnZXggPSAvXihbMC05YS16QS1aLV9dezR9KSooKFswLTlhLXpBLVotX117Mn0oPT0pPyl8KFswLTlhLXpBLVotX117M30oPSk/KSk/JC87XG4vLyBzaW1wbGVcbi8vIGNvbnN0IGRhdGVSZWdleFNvdXJjZSA9IGBcXFxcZHs0fS1cXFxcZHsyfS1cXFxcZHsyfWA7XG4vLyBubyBsZWFwIHllYXIgdmFsaWRhdGlvblxuLy8gY29uc3QgZGF0ZVJlZ2V4U291cmNlID0gYFxcXFxkezR9LSgoMFsxMzU3OF18MTB8MTIpLTMxfCgwWzEzLTldfDFbMC0yXSktMzB8KDBbMS05XXwxWzAtMl0pLSgwWzEtOV18MVxcXFxkfDJcXFxcZCkpYDtcbi8vIHdpdGggbGVhcCB5ZWFyIHZhbGlkYXRpb25cbmNvbnN0IGRhdGVSZWdleFNvdXJjZSA9IGAoKFxcXFxkXFxcXGRbMjQ2OF1bMDQ4XXxcXFxcZFxcXFxkWzEzNTc5XVsyNl18XFxcXGRcXFxcZDBbNDhdfFswMjQ2OF1bMDQ4XTAwfFsxMzU3OV1bMjZdMDApLTAyLTI5fFxcXFxkezR9LSgoMFsxMzU3OF18MVswMl0pLSgwWzEtOV18WzEyXVxcXFxkfDNbMDFdKXwoMFs0NjldfDExKS0oMFsxLTldfFsxMl1cXFxcZHwzMCl8KDAyKS0oMFsxLTldfDFcXFxcZHwyWzAtOF0pKSlgO1xuY29uc3QgZGF0ZVJlZ2V4ID0gbmV3IFJlZ0V4cChgXiR7ZGF0ZVJlZ2V4U291cmNlfSRgKTtcbmZ1bmN0aW9uIHRpbWVSZWdleFNvdXJjZShhcmdzKSB7XG4gICAgbGV0IHNlY29uZHNSZWdleFNvdXJjZSA9IGBbMC01XVxcXFxkYDtcbiAgICBpZiAoYXJncy5wcmVjaXNpb24pIHtcbiAgICAgICAgc2Vjb25kc1JlZ2V4U291cmNlID0gYCR7c2Vjb25kc1JlZ2V4U291cmNlfVxcXFwuXFxcXGR7JHthcmdzLnByZWNpc2lvbn19YDtcbiAgICB9XG4gICAgZWxzZSBpZiAoYXJncy5wcmVjaXNpb24gPT0gbnVsbCkge1xuICAgICAgICBzZWNvbmRzUmVnZXhTb3VyY2UgPSBgJHtzZWNvbmRzUmVnZXhTb3VyY2V9KFxcXFwuXFxcXGQrKT9gO1xuICAgIH1cbiAgICBjb25zdCBzZWNvbmRzUXVhbnRpZmllciA9IGFyZ3MucHJlY2lzaW9uID8gXCIrXCIgOiBcIj9cIjsgLy8gcmVxdWlyZSBzZWNvbmRzIGlmIHByZWNpc2lvbiBpcyBub256ZXJvXG4gICAgcmV0dXJuIGAoWzAxXVxcXFxkfDJbMC0zXSk6WzAtNV1cXFxcZCg6JHtzZWNvbmRzUmVnZXhTb3VyY2V9KSR7c2Vjb25kc1F1YW50aWZpZXJ9YDtcbn1cbmZ1bmN0aW9uIHRpbWVSZWdleChhcmdzKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke3RpbWVSZWdleFNvdXJjZShhcmdzKX0kYCk7XG59XG4vLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzMxNDMyMzFcbmV4cG9ydCBmdW5jdGlvbiBkYXRldGltZVJlZ2V4KGFyZ3MpIHtcbiAgICBsZXQgcmVnZXggPSBgJHtkYXRlUmVnZXhTb3VyY2V9VCR7dGltZVJlZ2V4U291cmNlKGFyZ3MpfWA7XG4gICAgY29uc3Qgb3B0cyA9IFtdO1xuICAgIG9wdHMucHVzaChhcmdzLmxvY2FsID8gYFo/YCA6IGBaYCk7XG4gICAgaWYgKGFyZ3Mub2Zmc2V0KVxuICAgICAgICBvcHRzLnB1c2goYChbKy1dXFxcXGR7Mn06P1xcXFxkezJ9KWApO1xuICAgIHJlZ2V4ID0gYCR7cmVnZXh9KCR7b3B0cy5qb2luKFwifFwiKX0pYDtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7cmVnZXh9JGApO1xufVxuZnVuY3Rpb24gaXNWYWxpZElQKGlwLCB2ZXJzaW9uKSB7XG4gICAgaWYgKCh2ZXJzaW9uID09PSBcInY0XCIgfHwgIXZlcnNpb24pICYmIGlwdjRSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCh2ZXJzaW9uID09PSBcInY2XCIgfHwgIXZlcnNpb24pICYmIGlwdjZSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNWYWxpZEpXVChqd3QsIGFsZykge1xuICAgIGlmICghand0UmVnZXgudGVzdChqd3QpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgW2hlYWRlcl0gPSBqd3Quc3BsaXQoXCIuXCIpO1xuICAgICAgICBpZiAoIWhlYWRlcilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gQ29udmVydCBiYXNlNjR1cmwgdG8gYmFzZTY0XG4gICAgICAgIGNvbnN0IGJhc2U2NCA9IGhlYWRlclxuICAgICAgICAgICAgLnJlcGxhY2UoLy0vZywgXCIrXCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvXy9nLCBcIi9cIilcbiAgICAgICAgICAgIC5wYWRFbmQoaGVhZGVyLmxlbmd0aCArICgoNCAtIChoZWFkZXIubGVuZ3RoICUgNCkpICUgNCksIFwiPVwiKTtcbiAgICAgICAgY29uc3QgZGVjb2RlZCA9IEpTT04ucGFyc2UoYXRvYihiYXNlNjQpKTtcbiAgICAgICAgaWYgKHR5cGVvZiBkZWNvZGVkICE9PSBcIm9iamVjdFwiIHx8IGRlY29kZWQgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChcInR5cFwiIGluIGRlY29kZWQgJiYgZGVjb2RlZD8udHlwICE9PSBcIkpXVFwiKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIWRlY29kZWQuYWxnKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoYWxnICYmIGRlY29kZWQuYWxnICE9PSBhbGcpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc1ZhbGlkQ2lkcihpcCwgdmVyc2lvbikge1xuICAgIGlmICgodmVyc2lvbiA9PT0gXCJ2NFwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY0Q2lkclJlZ2V4LnRlc3QoaXApKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoKHZlcnNpb24gPT09IFwidjZcIiB8fCAhdmVyc2lvbikgJiYgaXB2NkNpZHJSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGNsYXNzIFpvZFN0cmluZyBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IFN0cmluZyhpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnN0cmluZykge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5zdHJpbmcsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmxlbmd0aCA8IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmxlbmd0aCA+IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibGVuZ3RoXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29CaWcgPSBpbnB1dC5kYXRhLmxlbmd0aCA+IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gaW5wdXQuZGF0YS5sZW5ndGggPCBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vQmlnIHx8IHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9vQmlnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW1haWxcIikge1xuICAgICAgICAgICAgICAgIGlmICghZW1haWxSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZW1haWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImVtb2ppXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWVtb2ppUmVnZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgZW1vamlSZWdleCA9IG5ldyBSZWdFeHAoX2Vtb2ppUmVnZXgsIFwidVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFlbW9qaVJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJlbW9qaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidXVpZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1dWlkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInV1aWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm5hbm9pZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFuYW5vaWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwibmFub2lkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJjdWlkXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWN1aWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiY3VpZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiY3VpZDJcIikge1xuICAgICAgICAgICAgICAgIGlmICghY3VpZDJSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiY3VpZDJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInVsaWRcIikge1xuICAgICAgICAgICAgICAgIGlmICghdWxpZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ1bGlkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ1cmxcIikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG5ldyBVUkwoaW5wdXQuZGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ1cmxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInJlZ2V4XCIpIHtcbiAgICAgICAgICAgICAgICBjaGVjay5yZWdleC5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlc3RSZXN1bHQgPSBjaGVjay5yZWdleC50ZXN0KGlucHV0LmRhdGEpO1xuICAgICAgICAgICAgICAgIGlmICghdGVzdFJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInJlZ2V4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0cmltXCIpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5kYXRhID0gaW5wdXQuZGF0YS50cmltKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImluY2x1ZGVzXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0LmRhdGEuaW5jbHVkZXMoY2hlY2sudmFsdWUsIGNoZWNrLnBvc2l0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiB7IGluY2x1ZGVzOiBjaGVjay52YWx1ZSwgcG9zaXRpb246IGNoZWNrLnBvc2l0aW9uIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0b0xvd2VyQ2FzZVwiKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IGlucHV0LmRhdGEudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidG9VcHBlckNhc2VcIikge1xuICAgICAgICAgICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInN0YXJ0c1dpdGhcIikge1xuICAgICAgICAgICAgICAgIGlmICghaW5wdXQuZGF0YS5zdGFydHNXaXRoKGNoZWNrLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiB7IHN0YXJ0c1dpdGg6IGNoZWNrLnZhbHVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJlbmRzV2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbnB1dC5kYXRhLmVuZHNXaXRoKGNoZWNrLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiB7IGVuZHNXaXRoOiBjaGVjay52YWx1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZGF0ZXRpbWVcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gZGF0ZXRpbWVSZWdleChjaGVjayk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZGF0ZXRpbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImRhdGVcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gZGF0ZVJlZ2V4O1xuICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRpbWVcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gdGltZVJlZ2V4KGNoZWNrKTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ0aW1lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJkdXJhdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFkdXJhdGlvblJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJkdXJhdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiaXBcIikge1xuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZElQKGlucHV0LmRhdGEsIGNoZWNrLnZlcnNpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiaXBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImp3dFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkSldUKGlucHV0LmRhdGEsIGNoZWNrLmFsZykpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJqd3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImNpZHJcIikge1xuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZENpZHIoaW5wdXQuZGF0YSwgY2hlY2sudmVyc2lvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJjaWRyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJiYXNlNjRcIikge1xuICAgICAgICAgICAgICAgIGlmICghYmFzZTY0UmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImJhc2U2NFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiYmFzZTY0dXJsXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWJhc2U2NHVybFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJiYXNlNjR1cmxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG4gICAgX3JlZ2V4KHJlZ2V4LCB2YWxpZGF0aW9uLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZmluZW1lbnQoKGRhdGEpID0+IHJlZ2V4LnRlc3QoZGF0YSksIHtcbiAgICAgICAgICAgIHZhbGlkYXRpb24sXG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZW1haWwobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImVtYWlsXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgdXJsKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJ1cmxcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBlbW9qaShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZW1vamlcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICB1dWlkKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJ1dWlkXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgbmFub2lkKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJuYW5vaWRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBjdWlkKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJjdWlkXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgY3VpZDIobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImN1aWQyXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgdWxpZChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwidWxpZFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGJhc2U2NChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiYmFzZTY0XCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgYmFzZTY0dXJsKG1lc3NhZ2UpIHtcbiAgICAgICAgLy8gYmFzZTY0dXJsIGVuY29kaW5nIGlzIGEgbW9kaWZpY2F0aW9uIG9mIGJhc2U2NCB0aGF0IGNhbiBzYWZlbHkgYmUgdXNlZCBpbiBVUkxzIGFuZCBmaWxlbmFtZXNcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiYmFzZTY0dXJsXCIsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBqd3Qob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImp3dFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucykgfSk7XG4gICAgfVxuICAgIGlwKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJpcFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucykgfSk7XG4gICAgfVxuICAgIGNpZHIob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImNpZHJcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnMpIH0pO1xuICAgIH1cbiAgICBkYXRldGltZShvcHRpb25zKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgICAgICBraW5kOiBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICAgICAgcHJlY2lzaW9uOiBudWxsLFxuICAgICAgICAgICAgICAgIG9mZnNldDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbG9jYWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJkYXRldGltZVwiLFxuICAgICAgICAgICAgcHJlY2lzaW9uOiB0eXBlb2Ygb3B0aW9ucz8ucHJlY2lzaW9uID09PSBcInVuZGVmaW5lZFwiID8gbnVsbCA6IG9wdGlvbnM/LnByZWNpc2lvbixcbiAgICAgICAgICAgIG9mZnNldDogb3B0aW9ucz8ub2Zmc2V0ID8/IGZhbHNlLFxuICAgICAgICAgICAgbG9jYWw6IG9wdGlvbnM/LmxvY2FsID8/IGZhbHNlLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnM/Lm1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGF0ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZGF0ZVwiLCBtZXNzYWdlIH0pO1xuICAgIH1cbiAgICB0aW1lKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAgICAgIGtpbmQ6IFwidGltZVwiLFxuICAgICAgICAgICAgICAgIHByZWNpc2lvbjogbnVsbCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBvcHRpb25zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwidGltZVwiLFxuICAgICAgICAgICAgcHJlY2lzaW9uOiB0eXBlb2Ygb3B0aW9ucz8ucHJlY2lzaW9uID09PSBcInVuZGVmaW5lZFwiID8gbnVsbCA6IG9wdGlvbnM/LnByZWNpc2lvbixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zPy5tZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGR1cmF0aW9uKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJkdXJhdGlvblwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIHJlZ2V4KHJlZ2V4LCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcInJlZ2V4XCIsXG4gICAgICAgICAgICByZWdleDogcmVnZXgsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbmNsdWRlcyh2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJpbmNsdWRlc1wiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgcG9zaXRpb246IG9wdGlvbnM/LnBvc2l0aW9uLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnM/Lm1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhcnRzV2l0aCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJzdGFydHNXaXRoXCIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbmRzV2l0aCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJlbmRzV2l0aFwiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWluKG1pbkxlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBtaW5MZW5ndGgsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4TGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IG1heExlbmd0aCxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxlbmd0aChsZW4sIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibGVuZ3RoXCIsXG4gICAgICAgICAgICB2YWx1ZTogbGVuLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byBgLm1pbigxKWBcbiAgICAgKi9cbiAgICBub25lbXB0eShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbigxLCBlcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkpO1xuICAgIH1cbiAgICB0cmltKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCB7IGtpbmQ6IFwidHJpbVwiIH1dLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdG9Mb3dlckNhc2UoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIHsga2luZDogXCJ0b0xvd2VyQ2FzZVwiIH1dLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdG9VcHBlckNhc2UoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIHsga2luZDogXCJ0b1VwcGVyQ2FzZVwiIH1dLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IGlzRGF0ZXRpbWUoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZGF0ZXRpbWVcIik7XG4gICAgfVxuICAgIGdldCBpc0RhdGUoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZGF0ZVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzVGltZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ0aW1lXCIpO1xuICAgIH1cbiAgICBnZXQgaXNEdXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJkdXJhdGlvblwiKTtcbiAgICB9XG4gICAgZ2V0IGlzRW1haWwoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZW1haWxcIik7XG4gICAgfVxuICAgIGdldCBpc1VSTCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ1cmxcIik7XG4gICAgfVxuICAgIGdldCBpc0Vtb2ppKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImVtb2ppXCIpO1xuICAgIH1cbiAgICBnZXQgaXNVVUlEKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInV1aWRcIik7XG4gICAgfVxuICAgIGdldCBpc05BTk9JRCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJuYW5vaWRcIik7XG4gICAgfVxuICAgIGdldCBpc0NVSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiY3VpZFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQ1VJRDIoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiY3VpZDJcIik7XG4gICAgfVxuICAgIGdldCBpc1VMSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidWxpZFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzSVAoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiaXBcIik7XG4gICAgfVxuICAgIGdldCBpc0NJRFIoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiY2lkclwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQmFzZTY0KCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImJhc2U2NFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQmFzZTY0dXJsKCkge1xuICAgICAgICAvLyBiYXNlNjR1cmwgZW5jb2RpbmcgaXMgYSBtb2RpZmljYXRpb24gb2YgYmFzZTY0IHRoYXQgY2FuIHNhZmVseSBiZSB1c2VkIGluIFVSTHMgYW5kIGZpbGVuYW1lc1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImJhc2U2NHVybFwiKTtcbiAgICB9XG4gICAgZ2V0IG1pbkxlbmd0aCgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluO1xuICAgIH1cbiAgICBnZXQgbWF4TGVuZ3RoKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxufVxuWm9kU3RyaW5nLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3RyaW5nLFxuICAgICAgICBjb2VyY2U6IHBhcmFtcz8uY29lcmNlID8/IGZhbHNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzk2NjQ4NC93aHktZG9lcy1tb2R1bHVzLW9wZXJhdG9yLXJldHVybi1mcmFjdGlvbmFsLW51bWJlci1pbi1qYXZhc2NyaXB0LzMxNzExMDM0IzMxNzExMDM0XG5mdW5jdGlvbiBmbG9hdFNhZmVSZW1haW5kZXIodmFsLCBzdGVwKSB7XG4gICAgY29uc3QgdmFsRGVjQ291bnQgPSAodmFsLnRvU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzFdIHx8IFwiXCIpLmxlbmd0aDtcbiAgICBjb25zdCBzdGVwRGVjQ291bnQgPSAoc3RlcC50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXSB8fCBcIlwiKS5sZW5ndGg7XG4gICAgY29uc3QgZGVjQ291bnQgPSB2YWxEZWNDb3VudCA+IHN0ZXBEZWNDb3VudCA/IHZhbERlY0NvdW50IDogc3RlcERlY0NvdW50O1xuICAgIGNvbnN0IHZhbEludCA9IE51bWJlci5wYXJzZUludCh2YWwudG9GaXhlZChkZWNDb3VudCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgIGNvbnN0IHN0ZXBJbnQgPSBOdW1iZXIucGFyc2VJbnQoc3RlcC50b0ZpeGVkKGRlY0NvdW50KS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgcmV0dXJuICh2YWxJbnQgJSBzdGVwSW50KSAvIDEwICoqIGRlY0NvdW50O1xufVxuZXhwb3J0IGNsYXNzIFpvZE51bWJlciBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm1pbiA9IHRoaXMuZ3RlO1xuICAgICAgICB0aGlzLm1heCA9IHRoaXMubHRlO1xuICAgICAgICB0aGlzLnN0ZXAgPSB0aGlzLm11bHRpcGxlT2Y7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IE51bWJlcihpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm51bWJlcikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5udW1iZXIsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJpbnRcIikge1xuICAgICAgICAgICAgICAgIGlmICghdXRpbC5pc0ludGVnZXIoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcImludGVnZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBcImZsb2F0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gY2hlY2suaW5jbHVzaXZlID8gaW5wdXQuZGF0YSA8IGNoZWNrLnZhbHVlIDogaW5wdXQuZGF0YSA8PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29CaWcgPSBjaGVjay5pbmNsdXNpdmUgPyBpbnB1dC5kYXRhID4gY2hlY2sudmFsdWUgOiBpbnB1dC5kYXRhID49IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICAgICAgICAgIGlmIChmbG9hdFNhZmVSZW1haW5kZXIoaW5wdXQuZGF0YSwgY2hlY2sudmFsdWUpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5ub3RfbXVsdGlwbGVfb2YsXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZU9mOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImZpbml0ZVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLm5vdF9maW5pdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIGd0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgZ3QodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgc2V0TGltaXQoa2luZCwgdmFsdWUsIGluY2x1c2l2ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE51bWJlcih7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuY2hlY2tzLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2luZCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kTnVtYmVyKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIGNoZWNrXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGludChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImludFwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25wb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25uZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtdWx0aXBsZU9mKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm11bHRpcGxlT2ZcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZpbml0ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImZpbml0ZVwiLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2FmZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KS5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBtaW5WYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluO1xuICAgIH1cbiAgICBnZXQgbWF4VmFsdWUoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heDtcbiAgICB9XG4gICAgZ2V0IGlzSW50KCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImludFwiIHx8IChjaC5raW5kID09PSBcIm11bHRpcGxlT2ZcIiAmJiB1dGlsLmlzSW50ZWdlcihjaC52YWx1ZSkpKTtcbiAgICB9XG4gICAgZ2V0IGlzRmluaXRlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwiZmluaXRlXCIgfHwgY2gua2luZCA9PT0gXCJpbnRcIiB8fCBjaC5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBOdW1iZXIuaXNGaW5pdGUobWluKSAmJiBOdW1iZXIuaXNGaW5pdGUobWF4KTtcbiAgICB9XG59XG5ab2ROdW1iZXIuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTnVtYmVyKHtcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdW1iZXIsXG4gICAgICAgIGNvZXJjZTogcGFyYW1zPy5jb2VyY2UgfHwgZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kQmlnSW50IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubWluID0gdGhpcy5ndGU7XG4gICAgICAgIHRoaXMubWF4ID0gdGhpcy5sdGU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpbnB1dC5kYXRhID0gQmlnSW50KGlucHV0LmRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRJbnZhbGlkSW5wdXQoaW5wdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYmlnaW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0SW52YWxpZElucHV0KGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3R4ID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gY2hlY2suaW5jbHVzaXZlID8gaW5wdXQuZGF0YSA8IGNoZWNrLnZhbHVlIDogaW5wdXQuZGF0YSA8PSBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYmlnaW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29CaWcgPSBjaGVjay5pbmNsdXNpdmUgPyBpbnB1dC5kYXRhID4gY2hlY2sudmFsdWUgOiBpbnB1dC5kYXRhID49IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29CaWcpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImJpZ2ludFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGNoZWNrLmluY2x1c2l2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm11bHRpcGxlT2ZcIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhICUgY2hlY2sudmFsdWUgIT09IEJpZ0ludCgwKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUubm90X211bHRpcGxlX29mLFxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGVPZjogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIF9nZXRJbnZhbGlkSW5wdXQoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5iaWdpbnQsXG4gICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG4gICAgZ3RlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBndCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgbHQodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBzZXRMaW1pdChraW5kLCB2YWx1ZSwgaW5jbHVzaXZlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQmlnSW50KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogW1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5jaGVja3MsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBraW5kLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ucG9zaXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBCaWdJbnQoMCksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25uZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG11bHRpcGxlT2YodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibXVsdGlwbGVPZlwiLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgbWluVmFsdWUoKSB7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbjtcbiAgICB9XG4gICAgZ2V0IG1heFZhbHVlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxufVxuWm9kQmlnSW50LmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEJpZ0ludCh7XG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQmlnSW50LFxuICAgICAgICBjb2VyY2U6IHBhcmFtcz8uY29lcmNlID8/IGZhbHNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZEJvb2xlYW4gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBCb29sZWFuKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYm9vbGVhbikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5ib29sZWFuLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZEJvb2xlYW4uY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQm9vbGVhbih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQm9vbGVhbixcbiAgICAgICAgY29lcmNlOiBwYXJhbXM/LmNvZXJjZSB8fCBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2REYXRlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gbmV3IERhdGUoaW5wdXQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5kYXRlKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmRhdGUsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKGlucHV0LmRhdGEuZ2V0VGltZSgpKSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfZGF0ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdHVzID0gbmV3IFBhcnNlU3RhdHVzKCk7XG4gICAgICAgIGxldCBjdHggPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2sgb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoZWNrLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5nZXRUaW1lKCkgPCBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4YWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEuZ2V0VGltZSgpID4gY2hlY2sudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGF0dXM6IHN0YXR1cy52YWx1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZShpbnB1dC5kYXRhLmdldFRpbWUoKSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZERhdGUoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWluKG1pbkRhdGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogbWluRGF0ZS5nZXRUaW1lKCksXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4RGF0ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiBtYXhEYXRlLmdldFRpbWUoKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBtaW5EYXRlKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW4gIT0gbnVsbCA/IG5ldyBEYXRlKG1pbikgOiBudWxsO1xuICAgIH1cbiAgICBnZXQgbWF4RGF0ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4ICE9IG51bGwgPyBuZXcgRGF0ZShtYXgpIDogbnVsbDtcbiAgICB9XG59XG5ab2REYXRlLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZERhdGUoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICBjb2VyY2U6IHBhcmFtcz8uY29lcmNlIHx8IGZhbHNlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERhdGUsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kU3ltYm9sIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuc3ltYm9sKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnN5bWJvbCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RTeW1ib2wuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kU3ltYm9sKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTeW1ib2wsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kVW5kZWZpbmVkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RVbmRlZmluZWQuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kVW5kZWZpbmVkKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmRlZmluZWQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kTnVsbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubnVsbCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2ROdWxsLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE51bGwoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kQW55IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIC8vIHRvIHByZXZlbnQgaW5zdGFuY2VzIG9mIG90aGVyIGNsYXNzZXMgZnJvbSBleHRlbmRpbmcgWm9kQW55LiB0aGlzIGNhdXNlcyBpc3N1ZXMgd2l0aCBjYXRjaGFsbCBpbiBab2RPYmplY3QuXG4gICAgICAgIHRoaXMuX2FueSA9IHRydWU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kQW55LmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEFueSh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQW55LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFVua25vd24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgLy8gcmVxdWlyZWRcbiAgICAgICAgdGhpcy5fdW5rbm93biA9IHRydWU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kVW5rbm93bi5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RVbmtub3duKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmtub3duLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZE5ldmVyIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubmV2ZXIsXG4gICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICB9XG59XG5ab2ROZXZlci5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROZXZlcih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmV2ZXIsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kVm9pZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS52b2lkLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZFZvaWQuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kVm9pZCh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVm9pZCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RBcnJheSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCwgc3RhdHVzIH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBkZWYgPSB0aGlzLl9kZWY7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5hcnJheSkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5hcnJheSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYuZXhhY3RMZW5ndGggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvb0JpZyA9IGN0eC5kYXRhLmxlbmd0aCA+IGRlZi5leGFjdExlbmd0aC52YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gY3R4LmRhdGEubGVuZ3RoIDwgZGVmLmV4YWN0TGVuZ3RoLnZhbHVlO1xuICAgICAgICAgICAgaWYgKHRvb0JpZyB8fCB0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiB0b29CaWcgPyBab2RJc3N1ZUNvZGUudG9vX2JpZyA6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgIG1pbmltdW06ICh0b29TbWFsbCA/IGRlZi5leGFjdExlbmd0aC52YWx1ZSA6IHVuZGVmaW5lZCksXG4gICAgICAgICAgICAgICAgICAgIG1heGltdW06ICh0b29CaWcgPyBkZWYuZXhhY3RMZW5ndGgudmFsdWUgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5leGFjdExlbmd0aC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYubWluTGVuZ3RoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmRhdGEubGVuZ3RoIDwgZGVmLm1pbkxlbmd0aC52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBkZWYubWluTGVuZ3RoLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYubWluTGVuZ3RoLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5tYXhMZW5ndGggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdHguZGF0YS5sZW5ndGggPiBkZWYubWF4TGVuZ3RoLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBkZWYubWF4TGVuZ3RoLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYubWF4TGVuZ3RoLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbLi4uY3R4LmRhdGFdLm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWYudHlwZS5fcGFyc2VBc3luYyhuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGkpKTtcbiAgICAgICAgICAgIH0pKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBbLi4uY3R4LmRhdGFdLm1hcCgoaXRlbSwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGRlZi50eXBlLl9wYXJzZVN5bmMobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGl0ZW0sIGN0eC5wYXRoLCBpKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdCk7XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGU7XG4gICAgfVxuICAgIG1pbihtaW5MZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBtaW5MZW5ndGg6IHsgdmFsdWU6IG1pbkxlbmd0aCwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXgobWF4TGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWF4TGVuZ3RoOiB7IHZhbHVlOiBtYXhMZW5ndGgsIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGVuZ3RoKGxlbiwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGV4YWN0TGVuZ3RoOiB7IHZhbHVlOiBsZW4sIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9uZW1wdHkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oMSwgbWVzc2FnZSk7XG4gICAgfVxufVxuWm9kQXJyYXkuY3JlYXRlID0gKHNjaGVtYSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgIHR5cGU6IHNjaGVtYSxcbiAgICAgICAgbWluTGVuZ3RoOiBudWxsLFxuICAgICAgICBtYXhMZW5ndGg6IG51bGwsXG4gICAgICAgIGV4YWN0TGVuZ3RoOiBudWxsLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFycmF5LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZnVuY3Rpb24gZGVlcFBhcnRpYWxpZnkoc2NoZW1hKSB7XG4gICAgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZE9iamVjdCkge1xuICAgICAgICBjb25zdCBuZXdTaGFwZSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzY2hlbWEuc2hhcGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkU2NoZW1hID0gc2NoZW1hLnNoYXBlW2tleV07XG4gICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gWm9kT3B0aW9uYWwuY3JlYXRlKGRlZXBQYXJ0aWFsaWZ5KGZpZWxkU2NoZW1hKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4uc2NoZW1hLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gbmV3U2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RBcnJheSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAgIC4uLnNjaGVtYS5fZGVmLFxuICAgICAgICAgICAgdHlwZTogZGVlcFBhcnRpYWxpZnkoc2NoZW1hLmVsZW1lbnQpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kT3B0aW9uYWwpIHtcbiAgICAgICAgcmV0dXJuIFpvZE9wdGlvbmFsLmNyZWF0ZShkZWVwUGFydGlhbGlmeShzY2hlbWEudW53cmFwKCkpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kTnVsbGFibGUpIHtcbiAgICAgICAgcmV0dXJuIFpvZE51bGxhYmxlLmNyZWF0ZShkZWVwUGFydGlhbGlmeShzY2hlbWEudW53cmFwKCkpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kVHVwbGUpIHtcbiAgICAgICAgcmV0dXJuIFpvZFR1cGxlLmNyZWF0ZShzY2hlbWEuaXRlbXMubWFwKChpdGVtKSA9PiBkZWVwUGFydGlhbGlmeShpdGVtKSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNjaGVtYTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgWm9kT2JqZWN0IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuX2NhY2hlZCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBJbiBtb3N0IGNhc2VzLCB0aGlzIGlzIG5vIGxvbmdlciBuZWVkZWQgLSB1bmtub3duIHByb3BlcnRpZXMgYXJlIG5vdyBzaWxlbnRseSBzdHJpcHBlZC5cbiAgICAgICAgICogSWYgeW91IHdhbnQgdG8gcGFzcyB0aHJvdWdoIHVua25vd24gcHJvcGVydGllcywgdXNlIGAucGFzc3Rocm91Z2goKWAgaW5zdGVhZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubm9uc3RyaWN0ID0gdGhpcy5wYXNzdGhyb3VnaDtcbiAgICAgICAgLy8gZXh0ZW5kPFxuICAgICAgICAvLyAgIEF1Z21lbnRhdGlvbiBleHRlbmRzIFpvZFJhd1NoYXBlLFxuICAgICAgICAvLyAgIE5ld091dHB1dCBleHRlbmRzIHV0aWwuZmxhdHRlbjx7XG4gICAgICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBPdXRwdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgICAgIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX291dHB1dFwiXVxuICAgICAgICAvLyAgICAgICA6IGsgZXh0ZW5kcyBrZXlvZiBPdXRwdXRcbiAgICAgICAgLy8gICAgICAgPyBPdXRwdXRba11cbiAgICAgICAgLy8gICAgICAgOiBuZXZlcjtcbiAgICAgICAgLy8gICB9PixcbiAgICAgICAgLy8gICBOZXdJbnB1dCBleHRlbmRzIHV0aWwuZmxhdHRlbjx7XG4gICAgICAgIC8vICAgICBbayBpbiBrZXlvZiBBdWdtZW50YXRpb24gfCBrZXlvZiBJbnB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAgICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfaW5wdXRcIl1cbiAgICAgICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgSW5wdXRcbiAgICAgICAgLy8gICAgICAgPyBJbnB1dFtrXVxuICAgICAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgICAgICAvLyAgIH0+XG4gICAgICAgIC8vID4oXG4gICAgICAgIC8vICAgYXVnbWVudGF0aW9uOiBBdWdtZW50YXRpb25cbiAgICAgICAgLy8gKTogWm9kT2JqZWN0PFxuICAgICAgICAvLyAgIGV4dGVuZFNoYXBlPFQsIEF1Z21lbnRhdGlvbj4sXG4gICAgICAgIC8vICAgVW5rbm93bktleXMsXG4gICAgICAgIC8vICAgQ2F0Y2hhbGwsXG4gICAgICAgIC8vICAgTmV3T3V0cHV0LFxuICAgICAgICAvLyAgIE5ld0lucHV0XG4gICAgICAgIC8vID4ge1xuICAgICAgICAvLyAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgLy8gICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgLy8gICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgICAgICAvLyAgICAgICAuLi50aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgLy8gICAgICAgLi4uYXVnbWVudGF0aW9uLFxuICAgICAgICAvLyAgICAgfSksXG4gICAgICAgIC8vICAgfSkgYXMgYW55O1xuICAgICAgICAvLyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBVc2UgYC5leHRlbmRgIGluc3RlYWRcbiAgICAgICAgICogICovXG4gICAgICAgIHRoaXMuYXVnbWVudCA9IHRoaXMuZXh0ZW5kO1xuICAgIH1cbiAgICBfZ2V0Q2FjaGVkKCkge1xuICAgICAgICBpZiAodGhpcy5fY2FjaGVkICE9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZDtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSB0aGlzLl9kZWYuc2hhcGUoKTtcbiAgICAgICAgY29uc3Qga2V5cyA9IHV0aWwub2JqZWN0S2V5cyhzaGFwZSk7XG4gICAgICAgIHRoaXMuX2NhY2hlZCA9IHsgc2hhcGUsIGtleXMgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZDtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm9iamVjdCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IHsgc2hhcGUsIGtleXM6IHNoYXBlS2V5cyB9ID0gdGhpcy5fZ2V0Q2FjaGVkKCk7XG4gICAgICAgIGNvbnN0IGV4dHJhS2V5cyA9IFtdO1xuICAgICAgICBpZiAoISh0aGlzLl9kZWYuY2F0Y2hhbGwgaW5zdGFuY2VvZiBab2ROZXZlciAmJiB0aGlzLl9kZWYudW5rbm93bktleXMgPT09IFwic3RyaXBcIikpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIGN0eC5kYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzaGFwZUtleXMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBleHRyYUtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYWlycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBzaGFwZUtleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleVZhbGlkYXRvciA9IHNoYXBlW2tleV07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN0eC5kYXRhW2tleV07XG4gICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXk6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBrZXkgfSxcbiAgICAgICAgICAgICAgICB2YWx1ZToga2V5VmFsaWRhdG9yLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgdmFsdWUsIGN0eC5wYXRoLCBrZXkpKSxcbiAgICAgICAgICAgICAgICBhbHdheXNTZXQ6IGtleSBpbiBjdHguZGF0YSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY2F0Y2hhbGwgaW5zdGFuY2VvZiBab2ROZXZlcikge1xuICAgICAgICAgICAgY29uc3QgdW5rbm93bktleXMgPSB0aGlzLl9kZWYudW5rbm93bktleXM7XG4gICAgICAgICAgICBpZiAodW5rbm93bktleXMgPT09IFwicGFzc3Rocm91Z2hcIikge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGV4dHJhS2V5cykge1xuICAgICAgICAgICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGtleSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBjdHguZGF0YVtrZXldIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHVua25vd25LZXlzID09PSBcInN0cmljdFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV4dHJhS2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnVucmVjb2duaXplZF9rZXlzLFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5czogZXh0cmFLZXlzLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodW5rbm93bktleXMgPT09IFwic3RyaXBcIikge1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnRlcm5hbCBab2RPYmplY3QgZXJyb3I6IGludmFsaWQgdW5rbm93bktleXMgdmFsdWUuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBydW4gY2F0Y2hhbGwgdmFsaWRhdGlvblxuICAgICAgICAgICAgY29uc3QgY2F0Y2hhbGwgPSB0aGlzLl9kZWYuY2F0Y2hhbGw7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBleHRyYUtleXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN0eC5kYXRhW2tleV07XG4gICAgICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGtleTogeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGtleSB9LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY2F0Y2hhbGwuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCB2YWx1ZSwgY3R4LnBhdGgsIGtleSkgLy8sIGN0eC5jaGlsZChrZXkpLCB2YWx1ZSwgZ2V0UGFyc2VkVHlwZSh2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBrZXkgaW4gY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgICAgICAgICAgIC50aGVuKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzeW5jUGFpcnMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgcGFpci5rZXk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFpci52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgc3luY1BhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHdheXNTZXQ6IHBhaXIuYWx3YXlzU2V0LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN5bmNQYWlycztcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4oKHN5bmNQYWlycykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBzeW5jUGFpcnMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgcGFpcnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBzaGFwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zaGFwZSgpO1xuICAgIH1cbiAgICBzdHJpY3QobWVzc2FnZSkge1xuICAgICAgICBlcnJvclV0aWwuZXJyVG9PYmo7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHVua25vd25LZXlzOiBcInN0cmljdFwiLFxuICAgICAgICAgICAgLi4uKG1lc3NhZ2UgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICBlcnJvck1hcDogKGlzc3VlLCBjdHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRFcnJvciA9IHRoaXMuX2RlZi5lcnJvck1hcD8uKGlzc3VlLCBjdHgpLm1lc3NhZ2UgPz8gY3R4LmRlZmF1bHRFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc3N1ZS5jb2RlID09PSBcInVucmVjb2duaXplZF9rZXlzXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLm1lc3NhZ2UgPz8gZGVmYXVsdEVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZmF1bHRFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RyaXAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHVua25vd25LZXlzOiBcInN0cmlwXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwYXNzdGhyb3VnaCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgdW5rbm93bktleXM6IFwicGFzc3Rocm91Z2hcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGNvbnN0IEF1Z21lbnRGYWN0b3J5ID1cbiAgICAvLyAgIDxEZWYgZXh0ZW5kcyBab2RPYmplY3REZWY+KGRlZjogRGVmKSA9PlxuICAgIC8vICAgPEF1Z21lbnRhdGlvbiBleHRlbmRzIFpvZFJhd1NoYXBlPihcbiAgICAvLyAgICAgYXVnbWVudGF0aW9uOiBBdWdtZW50YXRpb25cbiAgICAvLyAgICk6IFpvZE9iamVjdDxcbiAgICAvLyAgICAgZXh0ZW5kU2hhcGU8UmV0dXJuVHlwZTxEZWZbXCJzaGFwZVwiXT4sIEF1Z21lbnRhdGlvbj4sXG4gICAgLy8gICAgIERlZltcInVua25vd25LZXlzXCJdLFxuICAgIC8vICAgICBEZWZbXCJjYXRjaGFsbFwiXVxuICAgIC8vICAgPiA9PiB7XG4gICAgLy8gICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAvLyAgICAgICAuLi5kZWYsXG4gICAgLy8gICAgICAgc2hhcGU6ICgpID0+ICh7XG4gICAgLy8gICAgICAgICAuLi5kZWYuc2hhcGUoKSxcbiAgICAvLyAgICAgICAgIC4uLmF1Z21lbnRhdGlvbixcbiAgICAvLyAgICAgICB9KSxcbiAgICAvLyAgICAgfSkgYXMgYW55O1xuICAgIC8vICAgfTtcbiAgICBleHRlbmQoYXVnbWVudGF0aW9uKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5zaGFwZSgpLFxuICAgICAgICAgICAgICAgIC4uLmF1Z21lbnRhdGlvbixcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJpb3IgdG8gem9kQDEuMC4xMiB0aGVyZSB3YXMgYSBidWcgaW4gdGhlXG4gICAgICogaW5mZXJyZWQgdHlwZSBvZiBtZXJnZWQgb2JqZWN0cy4gUGxlYXNlXG4gICAgICogdXBncmFkZSBpZiB5b3UgYXJlIGV4cGVyaWVuY2luZyBpc3N1ZXMuXG4gICAgICovXG4gICAgbWVyZ2UobWVyZ2luZykge1xuICAgICAgICBjb25zdCBtZXJnZWQgPSBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIHVua25vd25LZXlzOiBtZXJnaW5nLl9kZWYudW5rbm93bktleXMsXG4gICAgICAgICAgICBjYXRjaGFsbDogbWVyZ2luZy5fZGVmLmNhdGNoYWxsLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLnNoYXBlKCksXG4gICAgICAgICAgICAgICAgLi4ubWVyZ2luZy5fZGVmLnNoYXBlKCksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1lcmdlZDtcbiAgICB9XG4gICAgLy8gbWVyZ2U8XG4gICAgLy8gICBJbmNvbWluZyBleHRlbmRzIEFueVpvZE9iamVjdCxcbiAgICAvLyAgIEF1Z21lbnRhdGlvbiBleHRlbmRzIEluY29taW5nW1wic2hhcGVcIl0sXG4gICAgLy8gICBOZXdPdXRwdXQgZXh0ZW5kcyB7XG4gICAgLy8gICAgIFtrIGluIGtleW9mIEF1Z21lbnRhdGlvbiB8IGtleW9mIE91dHB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9vdXRwdXRcIl1cbiAgICAvLyAgICAgICA6IGsgZXh0ZW5kcyBrZXlvZiBPdXRwdXRcbiAgICAvLyAgICAgICA/IE91dHB1dFtrXVxuICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgLy8gICB9LFxuICAgIC8vICAgTmV3SW5wdXQgZXh0ZW5kcyB7XG4gICAgLy8gICAgIFtrIGluIGtleW9mIEF1Z21lbnRhdGlvbiB8IGtleW9mIElucHV0XTogayBleHRlbmRzIGtleW9mIEF1Z21lbnRhdGlvblxuICAgIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX2lucHV0XCJdXG4gICAgLy8gICAgICAgOiBrIGV4dGVuZHMga2V5b2YgSW5wdXRcbiAgICAvLyAgICAgICA/IElucHV0W2tdXG4gICAgLy8gICAgICAgOiBuZXZlcjtcbiAgICAvLyAgIH1cbiAgICAvLyA+KFxuICAgIC8vICAgbWVyZ2luZzogSW5jb21pbmdcbiAgICAvLyApOiBab2RPYmplY3Q8XG4gICAgLy8gICBleHRlbmRTaGFwZTxULCBSZXR1cm5UeXBlPEluY29taW5nW1wiX2RlZlwiXVtcInNoYXBlXCJdPj4sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJ1bmtub3duS2V5c1wiXSxcbiAgICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcImNhdGNoYWxsXCJdLFxuICAgIC8vICAgTmV3T3V0cHV0LFxuICAgIC8vICAgTmV3SW5wdXRcbiAgICAvLyA+IHtcbiAgICAvLyAgIGNvbnN0IG1lcmdlZDogYW55ID0gbmV3IFpvZE9iamVjdCh7XG4gICAgLy8gICAgIHVua25vd25LZXlzOiBtZXJnaW5nLl9kZWYudW5rbm93bktleXMsXG4gICAgLy8gICAgIGNhdGNoYWxsOiBtZXJnaW5nLl9kZWYuY2F0Y2hhbGwsXG4gICAgLy8gICAgIHNoYXBlOiAoKSA9PlxuICAgIC8vICAgICAgIG9iamVjdFV0aWwubWVyZ2VTaGFwZXModGhpcy5fZGVmLnNoYXBlKCksIG1lcmdpbmcuX2RlZi5zaGFwZSgpKSxcbiAgICAvLyAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgLy8gICB9KSBhcyBhbnk7XG4gICAgLy8gICByZXR1cm4gbWVyZ2VkO1xuICAgIC8vIH1cbiAgICBzZXRLZXkoa2V5LCBzY2hlbWEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXVnbWVudCh7IFtrZXldOiBzY2hlbWEgfSk7XG4gICAgfVxuICAgIC8vIG1lcmdlPEluY29taW5nIGV4dGVuZHMgQW55Wm9kT2JqZWN0PihcbiAgICAvLyAgIG1lcmdpbmc6IEluY29taW5nXG4gICAgLy8gKTogLy9ab2RPYmplY3Q8VCAmIEluY29taW5nW1wiX3NoYXBlXCJdLCBVbmtub3duS2V5cywgQ2F0Y2hhbGw+ID0gKG1lcmdpbmcpID0+IHtcbiAgICAvLyBab2RPYmplY3Q8XG4gICAgLy8gICBleHRlbmRTaGFwZTxULCBSZXR1cm5UeXBlPEluY29taW5nW1wiX2RlZlwiXVtcInNoYXBlXCJdPj4sXG4gICAgLy8gICBJbmNvbWluZ1tcIl9kZWZcIl1bXCJ1bmtub3duS2V5c1wiXSxcbiAgICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcImNhdGNoYWxsXCJdXG4gICAgLy8gPiB7XG4gICAgLy8gICAvLyBjb25zdCBtZXJnZWRTaGFwZSA9IG9iamVjdFV0aWwubWVyZ2VTaGFwZXMoXG4gICAgLy8gICAvLyAgIHRoaXMuX2RlZi5zaGFwZSgpLFxuICAgIC8vICAgLy8gICBtZXJnaW5nLl9kZWYuc2hhcGUoKVxuICAgIC8vICAgLy8gKTtcbiAgICAvLyAgIGNvbnN0IG1lcmdlZDogYW55ID0gbmV3IFpvZE9iamVjdCh7XG4gICAgLy8gICAgIHVua25vd25LZXlzOiBtZXJnaW5nLl9kZWYudW5rbm93bktleXMsXG4gICAgLy8gICAgIGNhdGNoYWxsOiBtZXJnaW5nLl9kZWYuY2F0Y2hhbGwsXG4gICAgLy8gICAgIHNoYXBlOiAoKSA9PlxuICAgIC8vICAgICAgIG9iamVjdFV0aWwubWVyZ2VTaGFwZXModGhpcy5fZGVmLnNoYXBlKCksIG1lcmdpbmcuX2RlZi5zaGFwZSgpKSxcbiAgICAvLyAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgLy8gICB9KSBhcyBhbnk7XG4gICAgLy8gICByZXR1cm4gbWVyZ2VkO1xuICAgIC8vIH1cbiAgICBjYXRjaGFsbChpbmRleCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjYXRjaGFsbDogaW5kZXgsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwaWNrKG1hc2spIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdXRpbC5vYmplY3RLZXlzKG1hc2spKSB7XG4gICAgICAgICAgICBpZiAobWFza1trZXldICYmIHRoaXMuc2hhcGVba2V5XSkge1xuICAgICAgICAgICAgICAgIHNoYXBlW2tleV0gPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IHNoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgb21pdChtYXNrKSB7XG4gICAgICAgIGNvbnN0IHNoYXBlID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKSkge1xuICAgICAgICAgICAgaWYgKCFtYXNrW2tleV0pIHtcbiAgICAgICAgICAgICAgICBzaGFwZVtrZXldID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG4gICAgZGVlcFBhcnRpYWwoKSB7XG4gICAgICAgIHJldHVybiBkZWVwUGFydGlhbGlmeSh0aGlzKTtcbiAgICB9XG4gICAgcGFydGlhbChtYXNrKSB7XG4gICAgICAgIGNvbnN0IG5ld1NoYXBlID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKSkge1xuICAgICAgICAgICAgY29uc3QgZmllbGRTY2hlbWEgPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICBpZiAobWFzayAmJiAhbWFza1trZXldKSB7XG4gICAgICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IGZpZWxkU2NoZW1hO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IGZpZWxkU2NoZW1hLm9wdGlvbmFsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IG5ld1NoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVxdWlyZWQobWFzaykge1xuICAgICAgICBjb25zdCBuZXdTaGFwZSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiB1dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkpIHtcbiAgICAgICAgICAgIGlmIChtYXNrICYmICFtYXNrW2tleV0pIHtcbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gdGhpcy5zaGFwZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGRTY2hlbWEgPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICAgICAgbGV0IG5ld0ZpZWxkID0gZmllbGRTY2hlbWE7XG4gICAgICAgICAgICAgICAgd2hpbGUgKG5ld0ZpZWxkIGluc3RhbmNlb2YgWm9kT3B0aW9uYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3RmllbGQgPSBuZXdGaWVsZC5fZGVmLmlubmVyVHlwZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3U2hhcGVba2V5XSA9IG5ld0ZpZWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBuZXdTaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGtleW9mKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlWm9kRW51bSh1dGlsLm9iamVjdEtleXModGhpcy5zaGFwZSkpO1xuICAgIH1cbn1cblpvZE9iamVjdC5jcmVhdGUgPSAoc2hhcGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgc2hhcGU6ICgpID0+IHNoYXBlLFxuICAgICAgICB1bmtub3duS2V5czogXCJzdHJpcFwiLFxuICAgICAgICBjYXRjaGFsbDogWm9kTmV2ZXIuY3JlYXRlKCksXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuWm9kT2JqZWN0LnN0cmljdENyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgICAgIHVua25vd25LZXlzOiBcInN0cmljdFwiLFxuICAgICAgICBjYXRjaGFsbDogWm9kTmV2ZXIuY3JlYXRlKCksXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT2JqZWN0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuWm9kT2JqZWN0LmxhenljcmVhdGUgPSAoc2hhcGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgc2hhcGUsXG4gICAgICAgIHVua25vd25LZXlzOiBcInN0cmlwXCIsXG4gICAgICAgIGNhdGNoYWxsOiBab2ROZXZlci5jcmVhdGUoKSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kVW5pb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLl9kZWYub3B0aW9ucztcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlUmVzdWx0cyhyZXN1bHRzKSB7XG4gICAgICAgICAgICAvLyByZXR1cm4gZmlyc3QgaXNzdWUtZnJlZSB2YWxpZGF0aW9uIGlmIGl0IGV4aXN0c1xuICAgICAgICAgICAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQucmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQucmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBhZGQgaXNzdWVzIGZyb20gZGlydHkgb3B0aW9uXG4gICAgICAgICAgICAgICAgICAgIGN0eC5jb21tb24uaXNzdWVzLnB1c2goLi4ucmVzdWx0LmN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcmV0dXJuIGludmFsaWRcbiAgICAgICAgICAgIGNvbnN0IHVuaW9uRXJyb3JzID0gcmVzdWx0cy5tYXAoKHJlc3VsdCkgPT4gbmV3IFpvZEVycm9yKHJlc3VsdC5jdHguY29tbW9uLmlzc3VlcykpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb24sXG4gICAgICAgICAgICAgICAgdW5pb25FcnJvcnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwob3B0aW9ucy5tYXAoYXN5bmMgKG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkQ3R4ID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5jdHgsXG4gICAgICAgICAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3R4LmNvbW1vbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogYXdhaXQgb3B0aW9uLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGNoaWxkQ3R4LFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgY3R4OiBjaGlsZEN0eCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSkpLnRoZW4oaGFuZGxlUmVzdWx0cyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgZGlydHkgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBjb25zdCBpc3N1ZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb3B0aW9uIG9mIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEN0eCA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgICAgICAgICAgICBjb21tb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmN0eC5jb21tb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBvcHRpb24uX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjaGlsZEN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIiAmJiAhZGlydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlydHkgPSB7IHJlc3VsdCwgY3R4OiBjaGlsZEN0eCB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGRDdHguY29tbW9uLmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNzdWVzLnB1c2goY2hpbGRDdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRpcnR5KSB7XG4gICAgICAgICAgICAgICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaCguLi5kaXJ0eS5jdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpcnR5LnJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVuaW9uRXJyb3JzID0gaXNzdWVzLm1hcCgoaXNzdWVzKSA9PiBuZXcgWm9kRXJyb3IoaXNzdWVzKSk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbixcbiAgICAgICAgICAgICAgICB1bmlvbkVycm9ycyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYub3B0aW9ucztcbiAgICB9XG59XG5ab2RVbmlvbi5jcmVhdGUgPSAodHlwZXMsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kVW5pb24oe1xuICAgICAgICBvcHRpb25zOiB0eXBlcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RVbmlvbixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICBab2REaXNjcmltaW5hdGVkVW5pb24gICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5jb25zdCBnZXREaXNjcmltaW5hdG9yID0gKHR5cGUpID0+IHtcbiAgICBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZExhenkpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5zY2hlbWEpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kRWZmZWN0cykge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLmlubmVyVHlwZSgpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZExpdGVyYWwpIHtcbiAgICAgICAgcmV0dXJuIFt0eXBlLnZhbHVlXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZEVudW0pIHtcbiAgICAgICAgcmV0dXJuIHR5cGUub3B0aW9ucztcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE5hdGl2ZUVudW0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGJhbi9iYW5cbiAgICAgICAgcmV0dXJuIHV0aWwub2JqZWN0VmFsdWVzKHR5cGUuZW51bSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2REZWZhdWx0KSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuX2RlZi5pbm5lclR5cGUpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kVW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBbdW5kZWZpbmVkXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtudWxsXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE9wdGlvbmFsKSB7XG4gICAgICAgIHJldHVybiBbdW5kZWZpbmVkLCAuLi5nZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZE51bGxhYmxlKSB7XG4gICAgICAgIHJldHVybiBbbnVsbCwgLi4uZ2V0RGlzY3JpbWluYXRvcih0eXBlLnVud3JhcCgpKV07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RCcmFuZGVkKSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kUmVhZG9ubHkpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS51bndyYXAoKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RDYXRjaCkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLl9kZWYuaW5uZXJUeXBlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG59O1xuZXhwb3J0IGNsYXNzIFpvZERpc2NyaW1pbmF0ZWRVbmlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5vYmplY3QsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkaXNjcmltaW5hdG9yID0gdGhpcy5kaXNjcmltaW5hdG9yO1xuICAgICAgICBjb25zdCBkaXNjcmltaW5hdG9yVmFsdWUgPSBjdHguZGF0YVtkaXNjcmltaW5hdG9yXTtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gdGhpcy5vcHRpb25zTWFwLmdldChkaXNjcmltaW5hdG9yVmFsdWUpO1xuICAgICAgICBpZiAoIW9wdGlvbikge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdW5pb25fZGlzY3JpbWluYXRvcixcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBcnJheS5mcm9tKHRoaXMub3B0aW9uc01hcC5rZXlzKCkpLFxuICAgICAgICAgICAgICAgIHBhdGg6IFtkaXNjcmltaW5hdG9yXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb24uX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9uLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGRpc2NyaW1pbmF0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuZGlzY3JpbWluYXRvcjtcbiAgICB9XG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYub3B0aW9ucztcbiAgICB9XG4gICAgZ2V0IG9wdGlvbnNNYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYub3B0aW9uc01hcDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGNvbnN0cnVjdG9yIG9mIHRoZSBkaXNjcmltaW5hdGVkIHVuaW9uIHNjaGVtYS4gSXRzIGJlaGF2aW91ciBpcyB2ZXJ5IHNpbWlsYXIgdG8gdGhhdCBvZiB0aGUgbm9ybWFsIHoudW5pb24oKSBjb25zdHJ1Y3Rvci5cbiAgICAgKiBIb3dldmVyLCBpdCBvbmx5IGFsbG93cyBhIHVuaW9uIG9mIG9iamVjdHMsIGFsbCBvZiB3aGljaCBuZWVkIHRvIHNoYXJlIGEgZGlzY3JpbWluYXRvciBwcm9wZXJ0eS4gVGhpcyBwcm9wZXJ0eSBtdXN0XG4gICAgICogaGF2ZSBhIGRpZmZlcmVudCB2YWx1ZSBmb3IgZWFjaCBvYmplY3QgaW4gdGhlIHVuaW9uLlxuICAgICAqIEBwYXJhbSBkaXNjcmltaW5hdG9yIHRoZSBuYW1lIG9mIHRoZSBkaXNjcmltaW5hdG9yIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHR5cGVzIGFuIGFycmF5IG9mIG9iamVjdCBzY2hlbWFzXG4gICAgICogQHBhcmFtIHBhcmFtc1xuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGUoZGlzY3JpbWluYXRvciwgb3B0aW9ucywgcGFyYW1zKSB7XG4gICAgICAgIC8vIEdldCBhbGwgdGhlIHZhbGlkIGRpc2NyaW1pbmF0b3IgdmFsdWVzXG4gICAgICAgIGNvbnN0IG9wdGlvbnNNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIC8vIHRyeSB7XG4gICAgICAgIGZvciAoY29uc3QgdHlwZSBvZiBvcHRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCBkaXNjcmltaW5hdG9yVmFsdWVzID0gZ2V0RGlzY3JpbWluYXRvcih0eXBlLnNoYXBlW2Rpc2NyaW1pbmF0b3JdKTtcbiAgICAgICAgICAgIGlmICghZGlzY3JpbWluYXRvclZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEEgZGlzY3JpbWluYXRvciB2YWx1ZSBmb3Iga2V5IFxcYCR7ZGlzY3JpbWluYXRvcn1cXGAgY291bGQgbm90IGJlIGV4dHJhY3RlZCBmcm9tIGFsbCBzY2hlbWEgb3B0aW9uc2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBkaXNjcmltaW5hdG9yVmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnNNYXAuaGFzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYERpc2NyaW1pbmF0b3IgcHJvcGVydHkgJHtTdHJpbmcoZGlzY3JpbWluYXRvcil9IGhhcyBkdXBsaWNhdGUgdmFsdWUgJHtTdHJpbmcodmFsdWUpfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcHRpb25zTWFwLnNldCh2YWx1ZSwgdHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2REaXNjcmltaW5hdGVkVW5pb24oe1xuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REaXNjcmltaW5hdGVkVW5pb24sXG4gICAgICAgICAgICBkaXNjcmltaW5hdG9yLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIG9wdGlvbnNNYXAsXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1lcmdlVmFsdWVzKGEsIGIpIHtcbiAgICBjb25zdCBhVHlwZSA9IGdldFBhcnNlZFR5cGUoYSk7XG4gICAgY29uc3QgYlR5cGUgPSBnZXRQYXJzZWRUeXBlKGIpO1xuICAgIGlmIChhID09PSBiKSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBhIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGFUeXBlID09PSBab2RQYXJzZWRUeXBlLm9iamVjdCAmJiBiVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgICAgY29uc3QgYktleXMgPSB1dGlsLm9iamVjdEtleXMoYik7XG4gICAgICAgIGNvbnN0IHNoYXJlZEtleXMgPSB1dGlsLm9iamVjdEtleXMoYSkuZmlsdGVyKChrZXkpID0+IGJLZXlzLmluZGV4T2Yoa2V5KSAhPT0gLTEpO1xuICAgICAgICBjb25zdCBuZXdPYmogPSB7IC4uLmEsIC4uLmIgfTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Ygc2hhcmVkS2V5cykge1xuICAgICAgICAgICAgY29uc3Qgc2hhcmVkVmFsdWUgPSBtZXJnZVZhbHVlcyhhW2tleV0sIGJba2V5XSk7XG4gICAgICAgICAgICBpZiAoIXNoYXJlZFZhbHVlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdPYmpba2V5XSA9IHNoYXJlZFZhbHVlLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IG5ld09iaiB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChhVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5hcnJheSAmJiBiVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5hcnJheSkge1xuICAgICAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdBcnJheSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1BID0gYVtpbmRleF07XG4gICAgICAgICAgICBjb25zdCBpdGVtQiA9IGJbaW5kZXhdO1xuICAgICAgICAgICAgY29uc3Qgc2hhcmVkVmFsdWUgPSBtZXJnZVZhbHVlcyhpdGVtQSwgaXRlbUIpO1xuICAgICAgICAgICAgaWYgKCFzaGFyZWRWYWx1ZS52YWxpZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3QXJyYXkucHVzaChzaGFyZWRWYWx1ZS5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogbmV3QXJyYXkgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYVR5cGUgPT09IFpvZFBhcnNlZFR5cGUuZGF0ZSAmJiBiVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5kYXRlICYmICthID09PSArYikge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogYSB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFpvZEludGVyc2VjdGlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBoYW5kbGVQYXJzZWQgPSAocGFyc2VkTGVmdCwgcGFyc2VkUmlnaHQpID0+IHtcbiAgICAgICAgICAgIGlmIChpc0Fib3J0ZWQocGFyc2VkTGVmdCkgfHwgaXNBYm9ydGVkKHBhcnNlZFJpZ2h0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWVyZ2VkID0gbWVyZ2VWYWx1ZXMocGFyc2VkTGVmdC52YWx1ZSwgcGFyc2VkUmlnaHQudmFsdWUpO1xuICAgICAgICAgICAgaWYgKCFtZXJnZWQudmFsaWQpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfaW50ZXJzZWN0aW9uX3R5cGVzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzRGlydHkocGFyc2VkTGVmdCkgfHwgaXNEaXJ0eShwYXJzZWRSaWdodCkpIHtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogbWVyZ2VkLmRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVmLmxlZnQuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHRoaXMuX2RlZi5yaWdodC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBdKS50aGVuKChbbGVmdCwgcmlnaHRdKSA9PiBoYW5kbGVQYXJzZWQobGVmdCwgcmlnaHQpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVQYXJzZWQodGhpcy5fZGVmLmxlZnQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KSwgdGhpcy5fZGVmLnJpZ2h0Ll9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuWm9kSW50ZXJzZWN0aW9uLmNyZWF0ZSA9IChsZWZ0LCByaWdodCwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RJbnRlcnNlY3Rpb24oe1xuICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICByaWdodDogcmlnaHQsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kSW50ZXJzZWN0aW9uLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuLy8gdHlwZSBab2RUdXBsZUl0ZW1zID0gW1pvZFR5cGVBbnksIC4uLlpvZFR5cGVBbnlbXV07XG5leHBvcnQgY2xhc3MgWm9kVHVwbGUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmFycmF5KSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmFycmF5LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5kYXRhLmxlbmd0aCA8IHRoaXMuX2RlZi5pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgbWluaW11bTogdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdCA9IHRoaXMuX2RlZi5yZXN0O1xuICAgICAgICBpZiAoIXJlc3QgJiYgY3R4LmRhdGEubGVuZ3RoID4gdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgbWF4aW11bTogdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXRlbXMgPSBbLi4uY3R4LmRhdGFdXG4gICAgICAgICAgICAubWFwKChpdGVtLCBpdGVtSW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNjaGVtYSA9IHRoaXMuX2RlZi5pdGVtc1tpdGVtSW5kZXhdIHx8IHRoaXMuX2RlZi5yZXN0O1xuICAgICAgICAgICAgaWYgKCFzY2hlbWEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICByZXR1cm4gc2NoZW1hLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGl0ZW1JbmRleCkpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmZpbHRlcigoeCkgPT4gISF4KTsgLy8gZmlsdGVyIG51bGxzXG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoaXRlbXMpLnRoZW4oKHJlc3VsdHMpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIHJlc3VsdHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VBcnJheShzdGF0dXMsIGl0ZW1zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgaXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaXRlbXM7XG4gICAgfVxuICAgIHJlc3QocmVzdCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFR1cGxlKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHJlc3QsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblpvZFR1cGxlLmNyZWF0ZSA9IChzY2hlbWFzLCBwYXJhbXMpID0+IHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2NoZW1hcykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IG11c3QgcGFzcyBhbiBhcnJheSBvZiBzY2hlbWFzIHRvIHoudHVwbGUoWyAuLi4gXSlcIik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgWm9kVHVwbGUoe1xuICAgICAgICBpdGVtczogc2NoZW1hcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RUdXBsZSxcbiAgICAgICAgcmVzdDogbnVsbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RSZWNvcmQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBnZXQga2V5U2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgfVxuICAgIGdldCB2YWx1ZVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm9iamVjdCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhaXJzID0gW107XG4gICAgICAgIGNvbnN0IGtleVR5cGUgPSB0aGlzLl9kZWYua2V5VHlwZTtcbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY3R4LmRhdGEpIHtcbiAgICAgICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIGtleToga2V5VHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGtleSwgY3R4LnBhdGgsIGtleSkpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBjdHguZGF0YVtrZXldLCBjdHgucGF0aCwga2V5KSksXG4gICAgICAgICAgICAgICAgYWx3YXlzU2V0OiBrZXkgaW4gY3R4LmRhdGEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0QXN5bmMoc3RhdHVzLCBwYWlycyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RTeW5jKHN0YXR1cywgcGFpcnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShmaXJzdCwgc2Vjb25kLCB0aGlyZCkge1xuICAgICAgICBpZiAoc2Vjb25kIGluc3RhbmNlb2YgWm9kVHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBab2RSZWNvcmQoe1xuICAgICAgICAgICAgICAgIGtleVR5cGU6IGZpcnN0LFxuICAgICAgICAgICAgICAgIHZhbHVlVHlwZTogc2Vjb25kLFxuICAgICAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVjb3JkLFxuICAgICAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcmQpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RSZWNvcmQoe1xuICAgICAgICAgICAga2V5VHlwZTogWm9kU3RyaW5nLmNyZWF0ZSgpLFxuICAgICAgICAgICAgdmFsdWVUeXBlOiBmaXJzdCxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVjb3JkLFxuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhzZWNvbmQpLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgWm9kTWFwIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgZ2V0IGtleVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgIH1cbiAgICBnZXQgdmFsdWVTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm1hcCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5tYXAsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBrZXlUeXBlID0gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgICAgIGNvbnN0IHBhaXJzID0gWy4uLmN0eC5kYXRhLmVudHJpZXMoKV0ubWFwKChba2V5LCB2YWx1ZV0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGtleToga2V5VHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGtleSwgY3R4LnBhdGgsIFtpbmRleCwgXCJrZXlcIl0pKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgdmFsdWUsIGN0eC5wYXRoLCBbaW5kZXgsIFwidmFsdWVcIl0pKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgY29uc3QgZmluYWxNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIHBhaXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGF3YWl0IHBhaXIua2V5O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHBhaXIudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImFib3J0ZWRcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJkaXJ0eVwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbE1hcC5zZXQoa2V5LnZhbHVlLCB2YWx1ZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogZmluYWxNYXAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZmluYWxNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBwYWlyLmtleTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBhaXIudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImRpcnR5XCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsTWFwLnNldChrZXkudmFsdWUsIHZhbHVlLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogZmluYWxNYXAgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cblpvZE1hcC5jcmVhdGUgPSAoa2V5VHlwZSwgdmFsdWVUeXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE1hcCh7XG4gICAgICAgIHZhbHVlVHlwZSxcbiAgICAgICAga2V5VHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RNYXAsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kU2V0IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5zZXQpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuc2V0LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGVmID0gdGhpcy5fZGVmO1xuICAgICAgICBpZiAoZGVmLm1pblNpemUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdHguZGF0YS5zaXplIDwgZGVmLm1pblNpemUudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgbWluaW11bTogZGVmLm1pblNpemUudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYubWluU2l6ZS5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYubWF4U2l6ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLnNpemUgPiBkZWYubWF4U2l6ZS52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogZGVmLm1heFNpemUudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkZWYubWF4U2l6ZS5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlVHlwZSA9IHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgICAgIGZ1bmN0aW9uIGZpbmFsaXplU2V0KGVsZW1lbnRzKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRTZXQgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgcGFyc2VkU2V0LmFkZChlbGVtZW50LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogcGFyc2VkU2V0IH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWxlbWVudHMgPSBbLi4uY3R4LmRhdGEudmFsdWVzKCldLm1hcCgoaXRlbSwgaSkgPT4gdmFsdWVUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGkpKSk7XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZWxlbWVudHMpLnRoZW4oKGVsZW1lbnRzKSA9PiBmaW5hbGl6ZVNldChlbGVtZW50cykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZpbmFsaXplU2V0KGVsZW1lbnRzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtaW4obWluU2l6ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFNldCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBtaW5TaXplOiB7IHZhbHVlOiBtaW5TaXplLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1heChtYXhTaXplLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU2V0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1heFNpemU6IHsgdmFsdWU6IG1heFNpemUsIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2l6ZShzaXplLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbihzaXplLCBtZXNzYWdlKS5tYXgoc2l6ZSwgbWVzc2FnZSk7XG4gICAgfVxuICAgIG5vbmVtcHR5KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKDEsIG1lc3NhZ2UpO1xuICAgIH1cbn1cblpvZFNldC5jcmVhdGUgPSAodmFsdWVUeXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFNldCh7XG4gICAgICAgIHZhbHVlVHlwZSxcbiAgICAgICAgbWluU2l6ZTogbnVsbCxcbiAgICAgICAgbWF4U2l6ZTogbnVsbCxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTZXQsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kRnVuY3Rpb24gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSA9IHRoaXMuaW1wbGVtZW50O1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5mdW5jdGlvbikge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5mdW5jdGlvbixcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VBcmdzSXNzdWUoYXJncywgZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBtYWtlSXNzdWUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGFyZ3MsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgZXJyb3JNYXBzOiBbY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAsIGN0eC5zY2hlbWFFcnJvck1hcCwgZ2V0RXJyb3JNYXAoKSwgZGVmYXVsdEVycm9yTWFwXS5maWx0ZXIoKHgpID0+ICEheCksXG4gICAgICAgICAgICAgICAgaXNzdWVEYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2FyZ3VtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzRXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBtYWtlUmV0dXJuc0lzc3VlKHJldHVybnMsIGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFrZUlzc3VlKHtcbiAgICAgICAgICAgICAgICBkYXRhOiByZXR1cm5zLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIGVycm9yTWFwczogW2N0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLCBjdHguc2NoZW1hRXJyb3JNYXAsIGdldEVycm9yTWFwKCksIGRlZmF1bHRFcnJvck1hcF0uZmlsdGVyKCh4KSA9PiAhIXgpLFxuICAgICAgICAgICAgICAgIGlzc3VlRGF0YToge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9yZXR1cm5fdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuVHlwZUVycm9yOiBlcnJvcixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyYW1zID0geyBlcnJvck1hcDogY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAgfTtcbiAgICAgICAgY29uc3QgZm4gPSBjdHguZGF0YTtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5yZXR1cm5zIGluc3RhbmNlb2YgWm9kUHJvbWlzZSkge1xuICAgICAgICAgICAgLy8gV291bGQgbG92ZSBhIHdheSB0byBhdm9pZCBkaXNhYmxpbmcgdGhpcyBydWxlLCBidXQgd2UgbmVlZFxuICAgICAgICAgICAgLy8gYW4gYWxpYXMgKHVzaW5nIGFuIGFycm93IGZ1bmN0aW9uIHdhcyB3aGF0IGNhdXNlZCAyNjUxKS5cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgICAgICAgICAgY29uc3QgbWUgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIE9LKGFzeW5jIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgWm9kRXJyb3IoW10pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZEFyZ3MgPSBhd2FpdCBtZS5fZGVmLmFyZ3MucGFyc2VBc3luYyhhcmdzLCBwYXJhbXMpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLmFkZElzc3VlKG1ha2VBcmdzSXNzdWUoYXJncywgZSkpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBSZWZsZWN0LmFwcGx5KGZuLCB0aGlzLCBwYXJzZWRBcmdzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRSZXR1cm5zID0gYXdhaXQgbWUuX2RlZi5yZXR1cm5zLl9kZWYudHlwZVxuICAgICAgICAgICAgICAgICAgICAucGFyc2VBc3luYyhyZXN1bHQsIHBhcmFtcylcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLmFkZElzc3VlKG1ha2VSZXR1cm5zSXNzdWUocmVzdWx0LCBlKSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWRSZXR1cm5zO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBXb3VsZCBsb3ZlIGEgd2F5IHRvIGF2b2lkIGRpc2FibGluZyB0aGlzIHJ1bGUsIGJ1dCB3ZSBuZWVkXG4gICAgICAgICAgICAvLyBhbiBhbGlhcyAodXNpbmcgYW4gYXJyb3cgZnVuY3Rpb24gd2FzIHdoYXQgY2F1c2VkIDI2NTEpLlxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgICAgICAgICBjb25zdCBtZSA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gT0soZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRBcmdzID0gbWUuX2RlZi5hcmdzLnNhZmVQYXJzZShhcmdzLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgIGlmICghcGFyc2VkQXJncy5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBab2RFcnJvcihbbWFrZUFyZ3NJc3N1ZShhcmdzLCBwYXJzZWRBcmdzLmVycm9yKV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0LmFwcGx5KGZuLCB0aGlzLCBwYXJzZWRBcmdzLmRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFJldHVybnMgPSBtZS5fZGVmLnJldHVybnMuc2FmZVBhcnNlKHJlc3VsdCwgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICBpZiAoIXBhcnNlZFJldHVybnMuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgWm9kRXJyb3IoW21ha2VSZXR1cm5zSXNzdWUocmVzdWx0LCBwYXJzZWRSZXR1cm5zLmVycm9yKV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VkUmV0dXJucy5kYXRhO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGFyYW1ldGVycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5hcmdzO1xuICAgIH1cbiAgICByZXR1cm5UeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnJldHVybnM7XG4gICAgfVxuICAgIGFyZ3MoLi4uaXRlbXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RGdW5jdGlvbih7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBhcmdzOiBab2RUdXBsZS5jcmVhdGUoaXRlbXMpLnJlc3QoWm9kVW5rbm93bi5jcmVhdGUoKSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm5zKHJldHVyblR5cGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RGdW5jdGlvbih7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICByZXR1cm5zOiByZXR1cm5UeXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaW1wbGVtZW50KGZ1bmMpIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGVkRnVuYyA9IHRoaXMucGFyc2UoZnVuYyk7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZWRGdW5jO1xuICAgIH1cbiAgICBzdHJpY3RJbXBsZW1lbnQoZnVuYykge1xuICAgICAgICBjb25zdCB2YWxpZGF0ZWRGdW5jID0gdGhpcy5wYXJzZShmdW5jKTtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlZEZ1bmM7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoYXJncywgcmV0dXJucywgcGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRnVuY3Rpb24oe1xuICAgICAgICAgICAgYXJnczogKGFyZ3MgPyBhcmdzIDogWm9kVHVwbGUuY3JlYXRlKFtdKS5yZXN0KFpvZFVua25vd24uY3JlYXRlKCkpKSxcbiAgICAgICAgICAgIHJldHVybnM6IHJldHVybnMgfHwgWm9kVW5rbm93bi5jcmVhdGUoKSxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRnVuY3Rpb24sXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBab2RMYXp5IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgZ2V0IHNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5nZXR0ZXIoKTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBsYXp5U2NoZW1hID0gdGhpcy5fZGVmLmdldHRlcigpO1xuICAgICAgICByZXR1cm4gbGF6eVNjaGVtYS5fcGFyc2UoeyBkYXRhOiBjdHguZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pO1xuICAgIH1cbn1cblpvZExhenkuY3JlYXRlID0gKGdldHRlciwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RMYXp5KHtcbiAgICAgICAgZ2V0dGVyOiBnZXR0ZXIsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTGF6eSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RMaXRlcmFsIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmIChpbnB1dC5kYXRhICE9PSB0aGlzLl9kZWYudmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9saXRlcmFsLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB0aGlzLl9kZWYudmFsdWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbiAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWU7XG4gICAgfVxufVxuWm9kTGl0ZXJhbC5jcmVhdGUgPSAodmFsdWUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTGl0ZXJhbCh7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMaXRlcmFsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZnVuY3Rpb24gY3JlYXRlWm9kRW51bSh2YWx1ZXMsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kRW51bSh7XG4gICAgICAgIHZhbHVlcyxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFbnVtLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgY2xhc3MgWm9kRW51bSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0LmRhdGEgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdGhpcy5fZGVmLnZhbHVlcztcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsLmpvaW5WYWx1ZXMoZXhwZWN0ZWRWYWx1ZXMpLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZSA9IG5ldyBTZXQodGhpcy5fZGVmLnZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZS5oYXMoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdGhpcy5fZGVmLnZhbHVlcztcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGV4cGVjdGVkVmFsdWVzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlcztcbiAgICB9XG4gICAgZ2V0IGVudW0oKSB7XG4gICAgICAgIGNvbnN0IGVudW1WYWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCB2YWwgb2YgdGhpcy5fZGVmLnZhbHVlcykge1xuICAgICAgICAgICAgZW51bVZhbHVlc1t2YWxdID0gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbnVtVmFsdWVzO1xuICAgIH1cbiAgICBnZXQgVmFsdWVzKCkge1xuICAgICAgICBjb25zdCBlbnVtVmFsdWVzID0ge307XG4gICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHRoaXMuX2RlZi52YWx1ZXMpIHtcbiAgICAgICAgICAgIGVudW1WYWx1ZXNbdmFsXSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW51bVZhbHVlcztcbiAgICB9XG4gICAgZ2V0IEVudW0oKSB7XG4gICAgICAgIGNvbnN0IGVudW1WYWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCB2YWwgb2YgdGhpcy5fZGVmLnZhbHVlcykge1xuICAgICAgICAgICAgZW51bVZhbHVlc1t2YWxdID0gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbnVtVmFsdWVzO1xuICAgIH1cbiAgICBleHRyYWN0KHZhbHVlcywgbmV3RGVmID0gdGhpcy5fZGVmKSB7XG4gICAgICAgIHJldHVybiBab2RFbnVtLmNyZWF0ZSh2YWx1ZXMsIHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIC4uLm5ld0RlZixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGV4Y2x1ZGUodmFsdWVzLCBuZXdEZWYgPSB0aGlzLl9kZWYpIHtcbiAgICAgICAgcmV0dXJuIFpvZEVudW0uY3JlYXRlKHRoaXMub3B0aW9ucy5maWx0ZXIoKG9wdCkgPT4gIXZhbHVlcy5pbmNsdWRlcyhvcHQpKSwge1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgLi4ubmV3RGVmLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5ab2RFbnVtLmNyZWF0ZSA9IGNyZWF0ZVpvZEVudW07XG5leHBvcnQgY2xhc3MgWm9kTmF0aXZlRW51bSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBuYXRpdmVFbnVtVmFsdWVzID0gdXRpbC5nZXRWYWxpZEVudW1WYWx1ZXModGhpcy5fZGVmLnZhbHVlcyk7XG4gICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnN0cmluZyAmJiBjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5udW1iZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4cGVjdGVkVmFsdWVzID0gdXRpbC5vYmplY3RWYWx1ZXMobmF0aXZlRW51bVZhbHVlcyk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogdXRpbC5qb2luVmFsdWVzKGV4cGVjdGVkVmFsdWVzKSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZSkge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGUgPSBuZXcgU2V0KHV0aWwuZ2V0VmFsaWRFbnVtVmFsdWVzKHRoaXMuX2RlZi52YWx1ZXMpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlLmhhcyhpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB1dGlsLm9iamVjdFZhbHVlcyhuYXRpdmVFbnVtVmFsdWVzKTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9lbnVtX3ZhbHVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGV4cGVjdGVkVmFsdWVzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxuICAgIGdldCBlbnVtKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlcztcbiAgICB9XG59XG5ab2ROYXRpdmVFbnVtLmNyZWF0ZSA9ICh2YWx1ZXMsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTmF0aXZlRW51bSh7XG4gICAgICAgIHZhbHVlczogdmFsdWVzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hdGl2ZUVudW0sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kUHJvbWlzZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5wcm9taXNlICYmIGN0eC5jb21tb24uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnByb21pc2UsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9taXNpZmllZCA9IGN0eC5wYXJzZWRUeXBlID09PSBab2RQYXJzZWRUeXBlLnByb21pc2UgPyBjdHguZGF0YSA6IFByb21pc2UucmVzb2x2ZShjdHguZGF0YSk7XG4gICAgICAgIHJldHVybiBPSyhwcm9taXNpZmllZC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGUucGFyc2VBc3luYyhkYXRhLCB7XG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgZXJyb3JNYXA6IGN0eC5jb21tb24uY29udGV4dHVhbEVycm9yTWFwLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5ab2RQcm9taXNlLmNyZWF0ZSA9IChzY2hlbWEsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kUHJvbWlzZSh7XG4gICAgICAgIHR5cGU6IHNjaGVtYSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQcm9taXNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZEVmZmVjdHMgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBpbm5lclR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hO1xuICAgIH1cbiAgICBzb3VyY2VUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNjaGVtYS5fZGVmLnR5cGVOYW1lID09PSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0c1xuICAgICAgICAgICAgPyB0aGlzLl9kZWYuc2NoZW1hLnNvdXJjZVR5cGUoKVxuICAgICAgICAgICAgOiB0aGlzLl9kZWYuc2NoZW1hO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgZWZmZWN0ID0gdGhpcy5fZGVmLmVmZmVjdCB8fCBudWxsO1xuICAgICAgICBjb25zdCBjaGVja0N0eCA9IHtcbiAgICAgICAgICAgIGFkZElzc3VlOiAoYXJnKSA9PiB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCBhcmcpO1xuICAgICAgICAgICAgICAgIGlmIChhcmcuZmF0YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN0eC5wYXRoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgY2hlY2tDdHguYWRkSXNzdWUgPSBjaGVja0N0eC5hZGRJc3N1ZS5iaW5kKGNoZWNrQ3R4KTtcbiAgICAgICAgaWYgKGVmZmVjdC50eXBlID09PSBcInByZXByb2Nlc3NcIikge1xuICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VkID0gZWZmZWN0LnRyYW5zZm9ybShjdHguZGF0YSwgY2hlY2tDdHgpO1xuICAgICAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHByb2Nlc3NlZCkudGhlbihhc3luYyAocHJvY2Vzc2VkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogcHJvY2Vzc2VkLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERJUlRZKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXMudmFsdWUgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBESVJUWShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cy52YWx1ZSA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHByb2Nlc3NlZCxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERJUlRZKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cy52YWx1ZSA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRElSVFkocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlZmZlY3QudHlwZSA9PT0gXCJyZWZpbmVtZW50XCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4ZWN1dGVSZWZpbmVtZW50ID0gKGFjYykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVmZmVjdC5yZWZpbmVtZW50KGFjYywgY2hlY2tDdHgpO1xuICAgICAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXN5bmMgcmVmaW5lbWVudCBlbmNvdW50ZXJlZCBkdXJpbmcgc3luY2hyb25vdXMgcGFyc2Ugb3BlcmF0aW9uLiBVc2UgLnBhcnNlQXN5bmMgaW5zdGVhZC5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5uZXIgPSB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIC8vIHJldHVybiB2YWx1ZSBpcyBpZ25vcmVkXG4gICAgICAgICAgICAgICAgZXhlY3V0ZVJlZmluZW1lbnQoaW5uZXIudmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5uZXIudmFsdWUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZUFzeW5jKHsgZGF0YTogY3R4LmRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KS50aGVuKChpbm5lcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXIuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4ZWN1dGVSZWZpbmVtZW50KGlubmVyLnZhbHVlKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5uZXIudmFsdWUgfTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVmZmVjdC50eXBlID09PSBcInRyYW5zZm9ybVwiKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlID0gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQoYmFzZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGVmZmVjdC50cmFuc2Zvcm0oYmFzZS52YWx1ZSwgY2hlY2tDdHgpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQXN5bmNocm9ub3VzIHRyYW5zZm9ybSBlbmNvdW50ZXJlZCBkdXJpbmcgc3luY2hyb25vdXMgcGFyc2Ugb3BlcmF0aW9uLiBVc2UgLnBhcnNlQXN5bmMgaW5zdGVhZC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiByZXN1bHQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZUFzeW5jKHsgZGF0YTogY3R4LmRhdGEsIHBhdGg6IGN0eC5wYXRoLCBwYXJlbnQ6IGN0eCB9KS50aGVuKChiYXNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZChiYXNlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGVmZmVjdC50cmFuc2Zvcm0oYmFzZS52YWx1ZSwgY2hlY2tDdHgpKS50aGVuKChyZXN1bHQpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHN0YXR1cy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGVmZmVjdCk7XG4gICAgfVxufVxuWm9kRWZmZWN0cy5jcmVhdGUgPSAoc2NoZW1hLCBlZmZlY3QsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzLFxuICAgICAgICBlZmZlY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5ab2RFZmZlY3RzLmNyZWF0ZVdpdGhQcmVwcm9jZXNzID0gKHByZXByb2Nlc3MsIHNjaGVtYSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgc2NoZW1hLFxuICAgICAgICBlZmZlY3Q6IHsgdHlwZTogXCJwcmVwcm9jZXNzXCIsIHRyYW5zZm9ybTogcHJlcHJvY2VzcyB9LFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgeyBab2RFZmZlY3RzIGFzIFpvZFRyYW5zZm9ybWVyIH07XG5leHBvcnQgY2xhc3MgWm9kT3B0aW9uYWwgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBPSyh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuWm9kT3B0aW9uYWwuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kT3B0aW9uYWwoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kT3B0aW9uYWwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kTnVsbGFibGUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5udWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gT0sobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKGlucHV0KTtcbiAgICB9XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5ab2ROdWxsYWJsZS5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROdWxsYWJsZSh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsYWJsZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2REZWZhdWx0IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBsZXQgZGF0YSA9IGN0eC5kYXRhO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgPT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkYXRhID0gdGhpcy5fZGVmLmRlZmF1bHRWYWx1ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZSh7XG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlbW92ZURlZmF1bHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cblpvZERlZmF1bHQuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kRGVmYXVsdCh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REZWZhdWx0LFxuICAgICAgICBkZWZhdWx0VmFsdWU6IHR5cGVvZiBwYXJhbXMuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiID8gcGFyYW1zLmRlZmF1bHQgOiAoKSA9PiBwYXJhbXMuZGVmYXVsdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RDYXRjaCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgLy8gbmV3Q3R4IGlzIHVzZWQgdG8gbm90IGNvbGxlY3QgaXNzdWVzIGZyb20gaW5uZXIgdHlwZXMgaW4gY3R4XG4gICAgICAgIGNvbnN0IG5ld0N0eCA9IHtcbiAgICAgICAgICAgIC4uLmN0eCxcbiAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgIC4uLmN0eC5jb21tb24sXG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKHtcbiAgICAgICAgICAgIGRhdGE6IG5ld0N0eC5kYXRhLFxuICAgICAgICAgICAgcGF0aDogbmV3Q3R4LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IHtcbiAgICAgICAgICAgICAgICAuLi5uZXdDdHgsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGlzQXN5bmMocmVzdWx0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFwidmFsaWRcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPyByZXN1bHQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5fZGVmLmNhdGNoVmFsdWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldCBlcnJvcigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBab2RFcnJvcihuZXdDdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogbmV3Q3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXR1czogXCJ2YWxpZFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCJcbiAgICAgICAgICAgICAgICAgICAgPyByZXN1bHQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLl9kZWYuY2F0Y2hWYWx1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQgZXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBab2RFcnJvcihuZXdDdHguY29tbW9uLmlzc3Vlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IG5ld0N0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlQ2F0Y2goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cblpvZENhdGNoLmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZENhdGNoKHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZENhdGNoLFxuICAgICAgICBjYXRjaFZhbHVlOiB0eXBlb2YgcGFyYW1zLmNhdGNoID09PSBcImZ1bmN0aW9uXCIgPyBwYXJhbXMuY2F0Y2ggOiAoKSA9PiBwYXJhbXMuY2F0Y2gsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kTmFOIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUubmFuKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm5hbixcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbn1cblpvZE5hTi5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROYU4oe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5hTixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjb25zdCBCUkFORCA9IFN5bWJvbChcInpvZF9icmFuZFwiKTtcbmV4cG9ydCBjbGFzcyBab2RCcmFuZGVkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBkYXRhID0gY3R4LmRhdGE7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZS5fcGFyc2Uoe1xuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgWm9kUGlwZWxpbmUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUFzeW5jID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluUmVzdWx0ID0gYXdhaXQgdGhpcy5fZGVmLmluLl9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRElSVFkoaW5SZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vdXQuX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogaW5SZXN1bHQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUFzeW5jKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpblJlc3VsdCA9IHRoaXMuX2RlZi5pbi5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGluUmVzdWx0LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFwiZGlydHlcIixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGluUmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm91dC5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogaW5SZXN1bHQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RQaXBlbGluZSh7XG4gICAgICAgICAgICBpbjogYSxcbiAgICAgICAgICAgIG91dDogYixcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUGlwZWxpbmUsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBab2RSZWFkb25seSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9kZWYuaW5uZXJUeXBlLl9wYXJzZShpbnB1dCk7XG4gICAgICAgIGNvbnN0IGZyZWV6ZSA9IChkYXRhKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNWYWxpZChkYXRhKSkge1xuICAgICAgICAgICAgICAgIGRhdGEudmFsdWUgPSBPYmplY3QuZnJlZXplKGRhdGEudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBpc0FzeW5jKHJlc3VsdCkgPyByZXN1bHQudGhlbigoZGF0YSkgPT4gZnJlZXplKGRhdGEpKSA6IGZyZWV6ZShyZXN1bHQpO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cblpvZFJlYWRvbmx5LmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFJlYWRvbmx5KHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlYWRvbmx5LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgIHouY3VzdG9tICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZnVuY3Rpb24gY2xlYW5QYXJhbXMocGFyYW1zLCBkYXRhKSB7XG4gICAgY29uc3QgcCA9IHR5cGVvZiBwYXJhbXMgPT09IFwiZnVuY3Rpb25cIiA/IHBhcmFtcyhkYXRhKSA6IHR5cGVvZiBwYXJhbXMgPT09IFwic3RyaW5nXCIgPyB7IG1lc3NhZ2U6IHBhcmFtcyB9IDogcGFyYW1zO1xuICAgIGNvbnN0IHAyID0gdHlwZW9mIHAgPT09IFwic3RyaW5nXCIgPyB7IG1lc3NhZ2U6IHAgfSA6IHA7XG4gICAgcmV0dXJuIHAyO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGN1c3RvbShjaGVjaywgX3BhcmFtcyA9IHt9LCBcbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqXG4gKiBQYXNzIGBmYXRhbGAgaW50byB0aGUgcGFyYW1zIG9iamVjdCBpbnN0ZWFkOlxuICpcbiAqIGBgYHRzXG4gKiB6LnN0cmluZygpLmN1c3RvbSgodmFsKSA9PiB2YWwubGVuZ3RoID4gNSwgeyBmYXRhbDogZmFsc2UgfSlcbiAqIGBgYFxuICpcbiAqL1xuZmF0YWwpIHtcbiAgICBpZiAoY2hlY2spXG4gICAgICAgIHJldHVybiBab2RBbnkuY3JlYXRlKCkuc3VwZXJSZWZpbmUoKGRhdGEsIGN0eCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgciA9IGNoZWNrKGRhdGEpO1xuICAgICAgICAgICAgaWYgKHIgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHIudGhlbigocikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IGNsZWFuUGFyYW1zKF9wYXJhbXMsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgX2ZhdGFsID0gcGFyYW1zLmZhdGFsID8/IGZhdGFsID8/IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguYWRkSXNzdWUoeyBjb2RlOiBcImN1c3RvbVwiLCAuLi5wYXJhbXMsIGZhdGFsOiBfZmF0YWwgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IGNsZWFuUGFyYW1zKF9wYXJhbXMsIGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IF9mYXRhbCA9IHBhcmFtcy5mYXRhbCA/PyBmYXRhbCA/PyB0cnVlO1xuICAgICAgICAgICAgICAgIGN0eC5hZGRJc3N1ZSh7IGNvZGU6IFwiY3VzdG9tXCIsIC4uLnBhcmFtcywgZmF0YWw6IF9mYXRhbCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSk7XG4gICAgcmV0dXJuIFpvZEFueS5jcmVhdGUoKTtcbn1cbmV4cG9ydCB7IFpvZFR5cGUgYXMgU2NoZW1hLCBab2RUeXBlIGFzIFpvZFNjaGVtYSB9O1xuZXhwb3J0IGNvbnN0IGxhdGUgPSB7XG4gICAgb2JqZWN0OiBab2RPYmplY3QubGF6eWNyZWF0ZSxcbn07XG5leHBvcnQgdmFyIFpvZEZpcnN0UGFydHlUeXBlS2luZDtcbihmdW5jdGlvbiAoWm9kRmlyc3RQYXJ0eVR5cGVLaW5kKSB7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kU3RyaW5nXCJdID0gXCJab2RTdHJpbmdcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROdW1iZXJcIl0gPSBcIlpvZE51bWJlclwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE5hTlwiXSA9IFwiWm9kTmFOXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQmlnSW50XCJdID0gXCJab2RCaWdJbnRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RCb29sZWFuXCJdID0gXCJab2RCb29sZWFuXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRGF0ZVwiXSA9IFwiWm9kRGF0ZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFN5bWJvbFwiXSA9IFwiWm9kU3ltYm9sXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVW5kZWZpbmVkXCJdID0gXCJab2RVbmRlZmluZWRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROdWxsXCJdID0gXCJab2ROdWxsXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQW55XCJdID0gXCJab2RBbnlcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RVbmtub3duXCJdID0gXCJab2RVbmtub3duXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTmV2ZXJcIl0gPSBcIlpvZE5ldmVyXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVm9pZFwiXSA9IFwiWm9kVm9pZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEFycmF5XCJdID0gXCJab2RBcnJheVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE9iamVjdFwiXSA9IFwiWm9kT2JqZWN0XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVW5pb25cIl0gPSBcIlpvZFVuaW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRGlzY3JpbWluYXRlZFVuaW9uXCJdID0gXCJab2REaXNjcmltaW5hdGVkVW5pb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RJbnRlcnNlY3Rpb25cIl0gPSBcIlpvZEludGVyc2VjdGlvblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFR1cGxlXCJdID0gXCJab2RUdXBsZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFJlY29yZFwiXSA9IFwiWm9kUmVjb3JkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTWFwXCJdID0gXCJab2RNYXBcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RTZXRcIl0gPSBcIlpvZFNldFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEZ1bmN0aW9uXCJdID0gXCJab2RGdW5jdGlvblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZExhenlcIl0gPSBcIlpvZExhenlcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RMaXRlcmFsXCJdID0gXCJab2RMaXRlcmFsXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRW51bVwiXSA9IFwiWm9kRW51bVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEVmZmVjdHNcIl0gPSBcIlpvZEVmZmVjdHNcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROYXRpdmVFbnVtXCJdID0gXCJab2ROYXRpdmVFbnVtXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kT3B0aW9uYWxcIl0gPSBcIlpvZE9wdGlvbmFsXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTnVsbGFibGVcIl0gPSBcIlpvZE51bGxhYmxlXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRGVmYXVsdFwiXSA9IFwiWm9kRGVmYXVsdFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZENhdGNoXCJdID0gXCJab2RDYXRjaFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFByb21pc2VcIl0gPSBcIlpvZFByb21pc2VcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RCcmFuZGVkXCJdID0gXCJab2RCcmFuZGVkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kUGlwZWxpbmVcIl0gPSBcIlpvZFBpcGVsaW5lXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kUmVhZG9ubHlcIl0gPSBcIlpvZFJlYWRvbmx5XCI7XG59KShab2RGaXJzdFBhcnR5VHlwZUtpbmQgfHwgKFpvZEZpcnN0UGFydHlUeXBlS2luZCA9IHt9KSk7XG4vLyByZXF1aXJlcyBUUyA0LjQrXG5jbGFzcyBDbGFzcyB7XG4gICAgY29uc3RydWN0b3IoLi4uXykgeyB9XG59XG5jb25zdCBpbnN0YW5jZU9mVHlwZSA9IChcbi8vIGNvbnN0IGluc3RhbmNlT2ZUeXBlID0gPFQgZXh0ZW5kcyBuZXcgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+KFxuY2xzLCBwYXJhbXMgPSB7XG4gICAgbWVzc2FnZTogYElucHV0IG5vdCBpbnN0YW5jZSBvZiAke2Nscy5uYW1lfWAsXG59KSA9PiBjdXN0b20oKGRhdGEpID0+IGRhdGEgaW5zdGFuY2VvZiBjbHMsIHBhcmFtcyk7XG5jb25zdCBzdHJpbmdUeXBlID0gWm9kU3RyaW5nLmNyZWF0ZTtcbmNvbnN0IG51bWJlclR5cGUgPSBab2ROdW1iZXIuY3JlYXRlO1xuY29uc3QgbmFuVHlwZSA9IFpvZE5hTi5jcmVhdGU7XG5jb25zdCBiaWdJbnRUeXBlID0gWm9kQmlnSW50LmNyZWF0ZTtcbmNvbnN0IGJvb2xlYW5UeXBlID0gWm9kQm9vbGVhbi5jcmVhdGU7XG5jb25zdCBkYXRlVHlwZSA9IFpvZERhdGUuY3JlYXRlO1xuY29uc3Qgc3ltYm9sVHlwZSA9IFpvZFN5bWJvbC5jcmVhdGU7XG5jb25zdCB1bmRlZmluZWRUeXBlID0gWm9kVW5kZWZpbmVkLmNyZWF0ZTtcbmNvbnN0IG51bGxUeXBlID0gWm9kTnVsbC5jcmVhdGU7XG5jb25zdCBhbnlUeXBlID0gWm9kQW55LmNyZWF0ZTtcbmNvbnN0IHVua25vd25UeXBlID0gWm9kVW5rbm93bi5jcmVhdGU7XG5jb25zdCBuZXZlclR5cGUgPSBab2ROZXZlci5jcmVhdGU7XG5jb25zdCB2b2lkVHlwZSA9IFpvZFZvaWQuY3JlYXRlO1xuY29uc3QgYXJyYXlUeXBlID0gWm9kQXJyYXkuY3JlYXRlO1xuY29uc3Qgb2JqZWN0VHlwZSA9IFpvZE9iamVjdC5jcmVhdGU7XG5jb25zdCBzdHJpY3RPYmplY3RUeXBlID0gWm9kT2JqZWN0LnN0cmljdENyZWF0ZTtcbmNvbnN0IHVuaW9uVHlwZSA9IFpvZFVuaW9uLmNyZWF0ZTtcbmNvbnN0IGRpc2NyaW1pbmF0ZWRVbmlvblR5cGUgPSBab2REaXNjcmltaW5hdGVkVW5pb24uY3JlYXRlO1xuY29uc3QgaW50ZXJzZWN0aW9uVHlwZSA9IFpvZEludGVyc2VjdGlvbi5jcmVhdGU7XG5jb25zdCB0dXBsZVR5cGUgPSBab2RUdXBsZS5jcmVhdGU7XG5jb25zdCByZWNvcmRUeXBlID0gWm9kUmVjb3JkLmNyZWF0ZTtcbmNvbnN0IG1hcFR5cGUgPSBab2RNYXAuY3JlYXRlO1xuY29uc3Qgc2V0VHlwZSA9IFpvZFNldC5jcmVhdGU7XG5jb25zdCBmdW5jdGlvblR5cGUgPSBab2RGdW5jdGlvbi5jcmVhdGU7XG5jb25zdCBsYXp5VHlwZSA9IFpvZExhenkuY3JlYXRlO1xuY29uc3QgbGl0ZXJhbFR5cGUgPSBab2RMaXRlcmFsLmNyZWF0ZTtcbmNvbnN0IGVudW1UeXBlID0gWm9kRW51bS5jcmVhdGU7XG5jb25zdCBuYXRpdmVFbnVtVHlwZSA9IFpvZE5hdGl2ZUVudW0uY3JlYXRlO1xuY29uc3QgcHJvbWlzZVR5cGUgPSBab2RQcm9taXNlLmNyZWF0ZTtcbmNvbnN0IGVmZmVjdHNUeXBlID0gWm9kRWZmZWN0cy5jcmVhdGU7XG5jb25zdCBvcHRpb25hbFR5cGUgPSBab2RPcHRpb25hbC5jcmVhdGU7XG5jb25zdCBudWxsYWJsZVR5cGUgPSBab2ROdWxsYWJsZS5jcmVhdGU7XG5jb25zdCBwcmVwcm9jZXNzVHlwZSA9IFpvZEVmZmVjdHMuY3JlYXRlV2l0aFByZXByb2Nlc3M7XG5jb25zdCBwaXBlbGluZVR5cGUgPSBab2RQaXBlbGluZS5jcmVhdGU7XG5jb25zdCBvc3RyaW5nID0gKCkgPT4gc3RyaW5nVHlwZSgpLm9wdGlvbmFsKCk7XG5jb25zdCBvbnVtYmVyID0gKCkgPT4gbnVtYmVyVHlwZSgpLm9wdGlvbmFsKCk7XG5jb25zdCBvYm9vbGVhbiA9ICgpID0+IGJvb2xlYW5UeXBlKCkub3B0aW9uYWwoKTtcbmV4cG9ydCBjb25zdCBjb2VyY2UgPSB7XG4gICAgc3RyaW5nOiAoKGFyZykgPT4gWm9kU3RyaW5nLmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbiAgICBudW1iZXI6ICgoYXJnKSA9PiBab2ROdW1iZXIuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSkpLFxuICAgIGJvb2xlYW46ICgoYXJnKSA9PiBab2RCb29sZWFuLmNyZWF0ZSh7XG4gICAgICAgIC4uLmFyZyxcbiAgICAgICAgY29lcmNlOiB0cnVlLFxuICAgIH0pKSxcbiAgICBiaWdpbnQ6ICgoYXJnKSA9PiBab2RCaWdJbnQuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSkpLFxuICAgIGRhdGU6ICgoYXJnKSA9PiBab2REYXRlLmNyZWF0ZSh7IC4uLmFyZywgY29lcmNlOiB0cnVlIH0pKSxcbn07XG5leHBvcnQgeyBhbnlUeXBlIGFzIGFueSwgYXJyYXlUeXBlIGFzIGFycmF5LCBiaWdJbnRUeXBlIGFzIGJpZ2ludCwgYm9vbGVhblR5cGUgYXMgYm9vbGVhbiwgZGF0ZVR5cGUgYXMgZGF0ZSwgZGlzY3JpbWluYXRlZFVuaW9uVHlwZSBhcyBkaXNjcmltaW5hdGVkVW5pb24sIGVmZmVjdHNUeXBlIGFzIGVmZmVjdCwgZW51bVR5cGUgYXMgZW51bSwgZnVuY3Rpb25UeXBlIGFzIGZ1bmN0aW9uLCBpbnN0YW5jZU9mVHlwZSBhcyBpbnN0YW5jZW9mLCBpbnRlcnNlY3Rpb25UeXBlIGFzIGludGVyc2VjdGlvbiwgbGF6eVR5cGUgYXMgbGF6eSwgbGl0ZXJhbFR5cGUgYXMgbGl0ZXJhbCwgbWFwVHlwZSBhcyBtYXAsIG5hblR5cGUgYXMgbmFuLCBuYXRpdmVFbnVtVHlwZSBhcyBuYXRpdmVFbnVtLCBuZXZlclR5cGUgYXMgbmV2ZXIsIG51bGxUeXBlIGFzIG51bGwsIG51bGxhYmxlVHlwZSBhcyBudWxsYWJsZSwgbnVtYmVyVHlwZSBhcyBudW1iZXIsIG9iamVjdFR5cGUgYXMgb2JqZWN0LCBvYm9vbGVhbiwgb251bWJlciwgb3B0aW9uYWxUeXBlIGFzIG9wdGlvbmFsLCBvc3RyaW5nLCBwaXBlbGluZVR5cGUgYXMgcGlwZWxpbmUsIHByZXByb2Nlc3NUeXBlIGFzIHByZXByb2Nlc3MsIHByb21pc2VUeXBlIGFzIHByb21pc2UsIHJlY29yZFR5cGUgYXMgcmVjb3JkLCBzZXRUeXBlIGFzIHNldCwgc3RyaWN0T2JqZWN0VHlwZSBhcyBzdHJpY3RPYmplY3QsIHN0cmluZ1R5cGUgYXMgc3RyaW5nLCBzeW1ib2xUeXBlIGFzIHN5bWJvbCwgZWZmZWN0c1R5cGUgYXMgdHJhbnNmb3JtZXIsIHR1cGxlVHlwZSBhcyB0dXBsZSwgdW5kZWZpbmVkVHlwZSBhcyB1bmRlZmluZWQsIHVuaW9uVHlwZSBhcyB1bmlvbiwgdW5rbm93blR5cGUgYXMgdW5rbm93biwgdm9pZFR5cGUgYXMgdm9pZCwgfTtcbmV4cG9ydCBjb25zdCBORVZFUiA9IElOVkFMSUQ7XG4iLCJpbXBvcnQgdHlwZSB7IE5vZGVQcm94eSwgU3RyZWFtQWN0aW9uSXRlcmF0b3IsIE5vZGVTdG9yZSwgTm9kZURlZmluaXRpb24gfSBmcm9tICcuL3R5cGVzLnRzJztcbmltcG9ydCB7IEdyYXBoSW5zdGFuY2VJbXBsIH0gZnJvbSAnLi9HcmFwaEluc3RhbmNlLnRzJztcbmltcG9ydCB7IFNEUFBQUHJvdG9jb2wgfSBmcm9tICcuL01DUC9zZHBwcC1wcm90b2NvbC50cyc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcblxuZXhwb3J0IGNsYXNzIE5vZGVQcm94eUltcGw8VE5vZGVEZWYgZXh0ZW5kcyBOb2RlRGVmaW5pdGlvbiA9IE5vZGVEZWZpbml0aW9uPiBpbXBsZW1lbnRzIE5vZGVQcm94eTxUTm9kZURlZj4ge1xuICBwcml2YXRlIGdyYXBoSW5zdGFuY2U6IEdyYXBoSW5zdGFuY2VJbXBsO1xuICBwdWJsaWMgcmVhZG9ubHkgbm9kZUlkOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoZ3JhcGhJbnN0YW5jZTogR3JhcGhJbnN0YW5jZUltcGwsIG5vZGVJZDogc3RyaW5nKSB7XG4gICAgdGhpcy5ncmFwaEluc3RhbmNlID0gZ3JhcGhJbnN0YW5jZTtcbiAgICB0aGlzLm5vZGVJZCA9IG5vZGVJZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHN0b3JlIGZvciB0aGlzIG5vZGVcbiAgICovXG4gIGdldCBzdG9yZSgpOiBOb2RlU3RvcmUge1xuICAgIGNvbnN0IG5vZGVTdG9yZSA9IHRoaXMuZ3JhcGhJbnN0YW5jZS5nZXROb2RlU3RvcmUodGhpcy5ub2RlSWQpO1xuICAgIGlmICghbm9kZVN0b3JlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHN0b3JlIGZvdW5kIGZvciBub2RlICR7dGhpcy5ub2RlSWR9YCk7XG4gICAgfVxuICAgIFxuICAgIC8vIElmIHRoaXMgaXMgbm90IG91ciBvd24gc3RvcmUsIGVuc3VyZSBjb25zdW1lciBiaW5kaW5nIGlzIHNldCB1cCBmb3IgYnJvYWRjYXN0IHN5bmNocm9uaXphdGlvblxuICAgIGlmICh0aGlzLm5vZGVJZCAhPT0gdGhpcy5ncmFwaEluc3RhbmNlLmdldEN1cnJlbnROb2RlSWQoKSkge1xuICAgICAgdGhpcy5ncmFwaEluc3RhbmNlLmVuc3VyZVN0b3JlQ29uc3VtZXJCaW5kaW5nKHRoaXMubm9kZUlkKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIG5vZGVTdG9yZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdHlwZWQgYWN0aW9ucyBmb3IgdGhpcyBub2RlXG4gICAqL1xuICBnZXQgYWN0aW9ucygpOiBhbnkge1xuICAgIGNvbnN0IG5vZGVEZWYgPSB0aGlzLmdyYXBoSW5zdGFuY2UuZ2V0RGVmaW5pdGlvbigpLmdldE5vZGUodGhpcy5ub2RlSWQpO1xuICAgIGlmICghbm9kZURlZikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBOb2RlIGRlZmluaXRpb24gbm90IGZvdW5kIGZvciAke3RoaXMubm9kZUlkfWApO1xuICAgIH1cblxuICAgIGNvbnN0IGFjdGlvblByb3h5ID0gbmV3IFByb3h5KHt9LCB7XG4gICAgICBnZXQ6ICh0YXJnZXQsIGFjdGlvbk5hbWU6IHN0cmluZyB8IHN5bWJvbCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGFjdGlvbk5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgYWN0aW9uRGVmID0gbm9kZURlZi5hY3Rpb25zW2FjdGlvbk5hbWVdO1xuICAgICAgICBpZiAoIWFjdGlvbkRlZikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQWN0aW9uICR7YWN0aW9uTmFtZX0gbm90IGZvdW5kIGZvciBub2RlICR7dGhpcy5ub2RlSWR9YCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYXN5bmMgKGRhdGE6IGFueSwgc2lnbmFsPzogQWJvcnRTaWduYWwpID0+IHtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnYWN0aW9uJywgYWN0aW9uTmFtZSwgJ2Zyb206JywgdGhpcy5ub2RlSWQsICd0bzonLCB0aGlzLmdyYXBoSW5zdGFuY2UuZ2V0Q3VycmVudE5vZGVJZCgpLCBkYXRhKTtcbiAgICAgICAgICBjb25zdCBjb25uZWN0aW9uSW5mbyA9IHRoaXMuZ2V0Q29ubmVjdGlvbkluZm8oKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoIWNvbm5lY3Rpb25JbmZvKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGNvbm5lY3Rpb24gYXZhaWxhYmxlIGZvciBub2RlICR7dGhpcy5ub2RlSWR9YCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgeyBjb25uZWN0aW9uLCBwYXRoIH0gPSBjb25uZWN0aW9uSW5mbztcbiAgICAgICAgICBjb25zdCBzb3VyY2VOb2RlSWQgPSB0aGlzLmdyYXBoSW5zdGFuY2UuZ2V0Q3VycmVudE5vZGVJZCgpO1xuXG4gICAgICAgICAgLy8gSWYgdGhlIGFjdGlvbiBpcyBub3Qgc3RyZWFtaW5nLCB1c2UgZGlyZWN0IHJlcXVlc3RcbiAgICAgICAgICBpZiAoIWFjdGlvbkRlZi5zdHJlYW0pIHtcbiAgICAgICAgICAgIC8vIEZvciBkaXJlY3QgcmVxdWVzdHMsIHdlIGV4cGVjdCB0aGUgcmVzcG9uc2UgdG8gYmUgdGhlIGFjdGlvbiByZXN1bHQgZGlyZWN0bHlcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlU2NoZW1hID0gei5hbnkoKTsgLy8gQWNjZXB0IGFueSByZXNwb25zZSBzaW5jZSB3ZSBoYW5kbGUgdmFsaWRhdGlvbiBlbHNld2hlcmVcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IHJlc3VsdDogYW55O1xuICAgICAgICAgICAgLy8gSWYgaXQncyBhIGRpcmVjdCBjb25uZWN0aW9uIChwYXRoIGxlbmd0aCBpcyAyOiBbY3VycmVudCwgdGFyZ2V0XSlcbiAgICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICByZXN1bHQgPSBhd2FpdCBjb25uZWN0aW9uLnJlcXVlc3QoXG4gICAgICAgICAgICAgICAgJ3NkcHBwL2RpcmVjdFJlcXVlc3QnLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uTmFtZSxcbiAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgICBzb3VyY2VOb2RlSWQ6IHNvdXJjZU5vZGVJZFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVzcG9uc2VTY2hlbWFcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgaXQncyBhbiBpbmRpcmVjdCBjb25uZWN0aW9uLCB1c2UgcHJveHkgZm9yd2FyZGluZ1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IGNvbm5lY3Rpb24ucmVxdWVzdChcbiAgICAgICAgICAgICAgICAgICdzZHBwcC9kaXJlY3RSZXF1ZXN0JyxcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnX19wcm94eV9mb3J3YXJkJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgIHRhcmdldE5vZGVJZDogdGhpcy5ub2RlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QWN0aW9uOiBhY3Rpb25OYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIHRhcmdldERhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgZm9yd2FyZFBhdGg6IHBhdGguc2xpY2UoMSkgLy8gUmVtb3ZlIGN1cnJlbnQgbm9kZSBmcm9tIHBhdGhcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlTm9kZUlkOiBzb3VyY2VOb2RlSWRcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICByZXNwb25zZVNjaGVtYVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gZGlyZWN0IHJlcXVlc3Q6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgdGFyZ2V0Tm9kZUlkOiB0aGlzLm5vZGVJZCxcbiAgICAgICAgICAgICAgICAgIHRhcmdldEFjdGlvbjogYWN0aW9uTmFtZSxcbiAgICAgICAgICAgICAgICAgIHRhcmdldERhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgICBmb3J3YXJkUGF0aDogcGF0aC5zbGljZSgxKSAvLyBSZW1vdmUgY3VycmVudCBub2RlIGZyb20gcGF0aFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdhY3Rpb24nLCBhY3Rpb25OYW1lLCAnZnJvbTonLCB0aGlzLm5vZGVJZCwgJ3RvOicsIHRoaXMuZ3JhcGhJbnN0YW5jZS5nZXRDdXJyZW50Tm9kZUlkKCksICdyZXN1bHQ6JywgcmVzdWx0KTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gSWYgdGhlIGFjdGlvbiBpcyBzdHJlYW1pbmcsIHVzZSB0aGUgZXhpc3RpbmcgYWN0aW9uIG1ldGhvZFxuICAgICAgICAgIGxldCBzdHJlYW1JdGVyYXRvclByb21pc2U6IFByb21pc2U8U3RyZWFtQWN0aW9uSXRlcmF0b3I8YW55Pj47XG5cbiAgICAgICAgICAvLyBJZiBpdCdzIGEgZGlyZWN0IGNvbm5lY3Rpb24gKHBhdGggbGVuZ3RoIGlzIDI6IFtjdXJyZW50LCB0YXJnZXRdKVxuICAgICAgICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgc3RyZWFtSXRlcmF0b3JQcm9taXNlID0gY29ubmVjdGlvbi5hY3Rpb24oe1xuICAgICAgICAgICAgICBhY3Rpb246IGFjdGlvbk5hbWUsXG4gICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgIHNvdXJjZU5vZGVJZDogc291cmNlTm9kZUlkXG4gICAgICAgICAgICB9LCBhY3Rpb25EZWYucmVzcG9uc2VTY2hlbWEgYXMgYW55LCBzaWduYWwpIGFzIFByb21pc2U8U3RyZWFtQWN0aW9uSXRlcmF0b3I8YW55Pj47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElmIGl0J3MgYW4gaW5kaXJlY3QgY29ubmVjdGlvbiwgdXNlIHByb3h5IGZvcndhcmRpbmdcbiAgICAgICAgICAgIHN0cmVhbUl0ZXJhdG9yUHJvbWlzZSA9IGNvbm5lY3Rpb24uYWN0aW9uKHtcbiAgICAgICAgICAgICAgYWN0aW9uOiAnX19wcm94eV9mb3J3YXJkJyxcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHRhcmdldE5vZGVJZDogdGhpcy5ub2RlSWQsXG4gICAgICAgICAgICAgICAgdGFyZ2V0QWN0aW9uOiBhY3Rpb25OYW1lLFxuICAgICAgICAgICAgICAgIHRhcmdldERhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgZm9yd2FyZFBhdGg6IHBhdGguc2xpY2UoMSkgLy8gUmVtb3ZlIGN1cnJlbnQgbm9kZSBmcm9tIHBhdGhcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgc291cmNlTm9kZUlkOiBzb3VyY2VOb2RlSWRcbiAgICAgICAgICAgIH0sIGFjdGlvbkRlZi5yZXNwb25zZVNjaGVtYSBhcyBhbnksIHNpZ25hbCkgYXMgUHJvbWlzZTxTdHJlYW1BY3Rpb25JdGVyYXRvcjxhbnk+PjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gc3RyZWFtSXRlcmF0b3JQcm9taXNlO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGFjdGlvblByb3h5O1xuICB9XG5cblxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvbm5lY3Rpb24gZm9yIHRoaXMgbm9kZSBwcm94eVxuICAgKi9cbiAgcHJpdmF0ZSBnZXRDb25uZWN0aW9uSW5mbygpOiB7IGNvbm5lY3Rpb246IFNEUFBQUHJvdG9jb2w7IHBhdGg6IHN0cmluZ1tdIH0gfCB1bmRlZmluZWQge1xuICAgIC8vIFRyeSBkaXJlY3Qgb3IgaW5kaXJlY3QgY29ubmVjdGlvblxuICAgIHJldHVybiAodGhpcy5ncmFwaEluc3RhbmNlIGFzIGFueSkuZ2V0Q29ubmVjdGlvblRvTm9kZUludGVybmFsKHRoaXMubm9kZUlkKTtcbiAgfVxuXG59IiwiaW1wb3J0IHR5cGUgeyBTdG9yZUFwaSB9IGZyb20gXCJ6dXN0YW5kXCI7XG5pbXBvcnQgeyBDbGllbnQgfSBmcm9tIFwiQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay9jbGllbnQvaW5kZXguanNcIjtcbmltcG9ydCB7IFNlcnZlciB9IGZyb20gXCJAbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL3NlcnZlci9pbmRleC5qc1wiO1xuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcbmltcG9ydCB0eXBlIHsgU3RvcmVTeW5jaHJvbml6ZXIgfSBmcm9tICcuL2ludGVyZmFjZXMudHMnO1xuXG4vLyBTdG9yZSBwZW5kaW5nIHN0YXRlIHVwZGF0ZXMgdG8gc2VuZCBvbmNlIHRyYW5zcG9ydCBiZWNvbWVzIGF2YWlsYWJsZVxuY29uc3QgcGVuZGluZ1N0YXRlVXBkYXRlcyA9IG5ldyBNYXA8c3RyaW5nLCBhbnk+KCk7XG5jb25zdCB0cmFuc3BvcnRSZWFkeUNhbGxiYWNrcyA9IG5ldyBNYXA8c3RyaW5nLCBTZXQ8KCkgPT4gdm9pZD4+KCk7XG5cbi8qKlxuICogU0RQUFAtYmFzZWQgaW1wbGVtZW50YXRpb24gb2YgU3RvcmVTeW5jaHJvbml6ZXJcbiAqL1xuZXhwb3J0IGNsYXNzIFNEUFBQU3RvcmVTeW5jaHJvbml6ZXI8VFN0b3JlIGV4dGVuZHMgb2JqZWN0ID0gb2JqZWN0PiBpbXBsZW1lbnRzIFN0b3JlU3luY2hyb25pemVyPFRTdG9yZT4ge1xuICBwcml2YXRlIGVuZHBvaW50OiBDbGllbnQgfCBTZXJ2ZXI7XG5cbiAgY29uc3RydWN0b3IoZW5kcG9pbnQ6IENsaWVudCB8IFNlcnZlcikge1xuICAgIHRoaXMuZW5kcG9pbnQgPSBlbmRwb2ludDtcbiAgfVxuXG4gIGluaXRpYWxpemVDb25zdW1lcih7XG4gICAgc3RvcmUsXG4gICAgc3RvcmVOYW1lLFxuICAgIG9uU3RhdGVVcGRhdGUsXG4gICAgcmVxdWVzdEluaXRpYWxTdGF0ZVxuICB9OiB7XG4gICAgc3RvcmU6IFN0b3JlQXBpPFRTdG9yZT47XG4gICAgc3RvcmVOYW1lOiBzdHJpbmc7XG4gICAgb25TdGF0ZVVwZGF0ZTogKG5ld1N0YXRlOiBQYXJ0aWFsPFRTdG9yZT4pID0+IHZvaWQ7XG4gICAgcmVxdWVzdEluaXRpYWxTdGF0ZTogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgfSk6IHZvaWQge1xuICAgIC8vIFNldCB1cCBub3RpZmljYXRpb24gaGFuZGxlciBmb3Igc3RvcmUgdXBkYXRlc1xuICAgIHRoaXMuZW5kcG9pbnQuc2V0Tm90aWZpY2F0aW9uSGFuZGxlcihcbiAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgbWV0aG9kOiB6LmxpdGVyYWwoYHNkcHBwL3VwZGF0ZVN0b3JlLyR7c3RvcmVOYW1lfWApLFxuICAgICAgICBwYXJhbXM6IHouYW55KCksXG4gICAgICB9KSwgKG5vdGlmaWNhdGlvbikgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIG9uU3RhdGVVcGRhdGUobm90aWZpY2F0aW9uLnBhcmFtcyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgdXBkYXRpbmcgc3RvcmUgJHtzdG9yZU5hbWV9OmAsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG5cbiAgICAvLyBFbmhhbmNlZCBpbml0aWFsIHN0YXRlIHJlcXVlc3Qgd2l0aCByZXRyeSBtZWNoYW5pc21cbiAgICBjb25zdCBkb1JlcXVlc3RJbml0aWFsU3RhdGUgPSBhc3luYyAocmV0cnlDb3VudCA9IDAsIG1heFJldHJpZXMgPSA1LCBkZWxheSA9IDEwMCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgcmVxdWVzdEluaXRpYWxTdGF0ZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKHJldHJ5Q291bnQgPCBtYXhSZXRyaWVzKSB7XG4gICAgICAgICAgLy8gRXhwb25lbnRpYWwgYmFja29mZiB3aXRoIGppdHRlclxuICAgICAgICAgIGNvbnN0IGJhY2tvZmZEZWxheSA9IGRlbGF5ICogTWF0aC5wb3coMiwgcmV0cnlDb3VudCkgKyBNYXRoLnJhbmRvbSgpICogMTAwO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZG9SZXF1ZXN0SW5pdGlhbFN0YXRlKHJldHJ5Q291bnQgKyAxLCBtYXhSZXRyaWVzLCBkZWxheSk7XG4gICAgICAgICAgfSwgYmFja29mZkRlbGF5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYEZhaWxlZCB0byByZXF1ZXN0IGluaXRpYWwgc3RhdGUgZm9yICR7c3RvcmVOYW1lfSBhZnRlciAke21heFJldHJpZXN9IHJldHJpZXNgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBSZXF1ZXN0IGluaXRpYWwgc3RhdGUgd2l0aCByZXRyeSBtZWNoYW5pc21cbiAgICBzZXRUaW1lb3V0KCgpID0+IGRvUmVxdWVzdEluaXRpYWxTdGF0ZSgpLCA1MCk7XG4gIH1cblxuICBpbml0aWFsaXplUHJvZHVjZXIoe1xuICAgIHN0b3JlLFxuICAgIHN0b3JlTmFtZSxcbiAgICBzZW5kU3RhdGVVcGRhdGUsXG4gICAgb25Jbml0aWFsU3RhdGVSZXF1ZXN0ZWRcbiAgfToge1xuICAgIHN0b3JlOiBTdG9yZUFwaTxUU3RvcmU+O1xuICAgIHN0b3JlTmFtZTogc3RyaW5nO1xuICAgIHNlbmRTdGF0ZVVwZGF0ZTogKHN0YXRlOiBUU3RvcmUpID0+IFByb21pc2U8dm9pZD47XG4gICAgb25Jbml0aWFsU3RhdGVSZXF1ZXN0ZWQ6IChjYWxsYmFjazogKCkgPT4gdm9pZCkgPT4gdm9pZDtcbiAgfSk6ICgpID0+IHZvaWQge1xuICAgIGNvbnN0IGVuZHBvaW50S2V5ID0gYCR7c3RvcmVOYW1lfV8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKX1gO1xuXG4gICAgLy8gU2VuZCBzdGF0ZSB1cGRhdGUgd2l0aCB0cmFuc3BvcnQgYXZhaWxhYmlsaXR5IGNoZWNrXG4gICAgY29uc3Qgc3RvcmVVcGRhdGVDYWxsYmFjayA9IGFzeW5jIChzdGF0ZTogVFN0b3JlLCBpc0luaXRpYWxTdGF0ZSA9IGZhbHNlKSA9PiB7XG4gICAgICBpZiAodGhpcy5pc1RyYW5zcG9ydFJlYWR5KCkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBzZW5kU3RhdGVVcGRhdGUoc3RhdGUpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENsZWFyIHBlbmRpbmcgc3RhdGUgaWYgdGhpcyB3YXMgc3VjY2Vzc2Z1bFxuICAgICAgICAgIGlmIChwZW5kaW5nU3RhdGVVcGRhdGVzLmhhcyhlbmRwb2ludEtleSkpIHtcbiAgICAgICAgICAgIHBlbmRpbmdTdGF0ZVVwZGF0ZXMuZGVsZXRlKGVuZHBvaW50S2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpO1xuICAgICAgICAgIGlmICghZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdUcmFuc3BvcnQnKSAmJiAhZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCd0cmFuc3BvcnQnKSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3Igc2VuZGluZyBzdG9yZSB1cGRhdGUgZm9yICR7c3RvcmVOYW1lfTpgLCBlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIFN0b3JlIGFzIHBlbmRpbmcgaWYgdHJhbnNwb3J0LXJlbGF0ZWQgZXJyb3JcbiAgICAgICAgICBpZiAoZXJyb3JNZXNzYWdlLmluY2x1ZGVzKCdUcmFuc3BvcnQnKSB8fCBlcnJvck1lc3NhZ2UuaW5jbHVkZXMoJ3RyYW5zcG9ydCcpKSB7XG4gICAgICAgICAgICBwZW5kaW5nU3RhdGVVcGRhdGVzLnNldChlbmRwb2ludEtleSwgc3RhdGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVHJhbnNwb3J0IG5vdCByZWFkeSwgc3RvcmUgYXMgcGVuZGluZ1xuICAgICAgICBwZW5kaW5nU3RhdGVVcGRhdGVzLnNldChlbmRwb2ludEtleSwgc3RhdGUpO1xuICAgICAgICBcbiAgICAgICAgLy8gU2V0IHVwIGNhbGxiYWNrIGZvciB3aGVuIHRyYW5zcG9ydCBiZWNvbWVzIHJlYWR5XG4gICAgICAgIGlmICghdHJhbnNwb3J0UmVhZHlDYWxsYmFja3MuaGFzKGVuZHBvaW50S2V5KSkge1xuICAgICAgICAgIHRyYW5zcG9ydFJlYWR5Q2FsbGJhY2tzLnNldChlbmRwb2ludEtleSwgbmV3IFNldCgpKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gdHJhbnNwb3J0UmVhZHlDYWxsYmFja3MuZ2V0KGVuZHBvaW50S2V5KSE7XG4gICAgICAgIGNvbnN0IHNlbmRQZW5kaW5nVXBkYXRlID0gKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHBlbmRpbmdTdGF0ZSA9IHBlbmRpbmdTdGF0ZVVwZGF0ZXMuZ2V0KGVuZHBvaW50S2V5KTtcbiAgICAgICAgICBpZiAocGVuZGluZ1N0YXRlKSB7XG4gICAgICAgICAgICBzdG9yZVVwZGF0ZUNhbGxiYWNrKHBlbmRpbmdTdGF0ZSwgdHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgY2FsbGJhY2tzLmFkZChzZW5kUGVuZGluZ1VwZGF0ZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBQb2xsIGZvciB0cmFuc3BvcnQgcmVhZGluZXNzXG4gICAgICAgIGNvbnN0IGNoZWNrVHJhbnNwb3J0UmVhZHkgPSAoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuaXNUcmFuc3BvcnRSZWFkeSgpKSB7XG4gICAgICAgICAgICAvLyBUcmFuc3BvcnQgaXMgbm93IHJlYWR5LCBzZW5kIHBlbmRpbmcgdXBkYXRlc1xuICAgICAgICAgICAgY2FsbGJhY2tzLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2soKSk7XG4gICAgICAgICAgICBjYWxsYmFja3MuY2xlYXIoKTtcbiAgICAgICAgICAgIHRyYW5zcG9ydFJlYWR5Q2FsbGJhY2tzLmRlbGV0ZShlbmRwb2ludEtleSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGFnYWluIGFmdGVyIGEgc2hvcnQgZGVsYXlcbiAgICAgICAgICAgIHNldFRpbWVvdXQoY2hlY2tUcmFuc3BvcnRSZWFkeSwgMTAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICAvLyBTdGFydCBjaGVja2luZyBhZnRlciBhIHNob3J0IGRlbGF5XG4gICAgICAgIHNldFRpbWVvdXQoY2hlY2tUcmFuc3BvcnRSZWFkeSwgNTApO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBTdWJzY3JpYmUgdG8gc3RvcmUgY2hhbmdlc1xuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gc3RvcmUuc3Vic2NyaWJlKChzdGF0ZSkgPT4ge1xuICAgICAgc3RvcmVVcGRhdGVDYWxsYmFjayhzdGF0ZSwgZmFsc2UpO1xuICAgIH0pO1xuXG4gICAgLy8gU2V0IHVwIGhhbmRsZXIgZm9yIGluaXRpYWwgc3RhdGUgcmVxdWVzdHMgZnJvbSBjb25zdW1lcnNcbiAgICBvbkluaXRpYWxTdGF0ZVJlcXVlc3RlZCgoKSA9PiB7XG4gICAgICBzdG9yZVVwZGF0ZUNhbGxiYWNrKHN0b3JlLmdldFN0YXRlKCksIHRydWUpO1xuICAgIH0pO1xuXG4gICAgLy8gU2VuZCBpbml0aWFsIHN0YXRlIGltbWVkaWF0ZWx5ICh3aXRoIHRyYW5zcG9ydCBhdmFpbGFiaWxpdHkgaGFuZGxpbmcpXG4gICAgc3RvcmVVcGRhdGVDYWxsYmFjayhzdG9yZS5nZXRTdGF0ZSgpLCB0cnVlKTtcblxuICAgIC8vIFJldHVybiBjbGVhbnVwIGZ1bmN0aW9uXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICBcbiAgICAgIC8vIENsZWFuIHVwIHBlbmRpbmcgdXBkYXRlcyBhbmQgY2FsbGJhY2tzXG4gICAgICBwZW5kaW5nU3RhdGVVcGRhdGVzLmRlbGV0ZShlbmRwb2ludEtleSk7XG4gICAgICBpZiAodHJhbnNwb3J0UmVhZHlDYWxsYmFja3MuaGFzKGVuZHBvaW50S2V5KSkge1xuICAgICAgICB0cmFuc3BvcnRSZWFkeUNhbGxiYWNrcy5nZXQoZW5kcG9pbnRLZXkpIS5jbGVhcigpO1xuICAgICAgICB0cmFuc3BvcnRSZWFkeUNhbGxiYWNrcy5kZWxldGUoZW5kcG9pbnRLZXkpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBpc1RyYW5zcG9ydFJlYWR5KCk6IGJvb2xlYW4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBUcnkgdG8gYWNjZXNzIHRoZSB1bmRlcmx5aW5nIHRyYW5zcG9ydFxuICAgICAgY29uc3QgaGFzVHJhbnNwb3J0ID0gKHRoaXMuZW5kcG9pbnQgYXMgYW55KS50cmFuc3BvcnQgfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzLmVuZHBvaW50IGFzIGFueSkuX3RyYW5zcG9ydCB8fCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuZW5kcG9pbnQgYXMgYW55KS5jb25uZWN0aW9uO1xuICAgICAgXG4gICAgICAvLyBJZiB3ZSBjYW4ndCBkZXRlcm1pbmUgdHJhbnNwb3J0IHN0YXR1cyAoZS5nLiwgaW4gdGVzdHMgd2l0aCBtb2NrcyksXG4gICAgICAvLyBhc3N1bWUgdHJhbnNwb3J0IGlzIHJlYWR5IHRvIG1haW50YWluIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICAgIGlmIChoYXNUcmFuc3BvcnQgPT09IHVuZGVmaW5lZCAmJiBcbiAgICAgICAgICB0eXBlb2YgKHRoaXMuZW5kcG9pbnQgYXMgYW55KS5ub3RpZmljYXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiAhIWhhc1RyYW5zcG9ydDtcbiAgICB9IGNhdGNoIHtcbiAgICAgIC8vIElmIHRoZXJlJ3MgYW4gZXJyb3IgYWNjZXNzaW5nIHRyYW5zcG9ydCBwcm9wZXJ0aWVzLFxuICAgICAgLy8gYnV0IG5vdGlmaWNhdGlvbiBtZXRob2QgZXhpc3RzLCBhc3N1bWUgaXQncyByZWFkeSAobGlrZWx5IGEgbW9jaylcbiAgICAgIHJldHVybiB0eXBlb2YgKHRoaXMuZW5kcG9pbnQgYXMgYW55KS5ub3RpZmljYXRpb24gPT09ICdmdW5jdGlvbic7XG4gICAgfVxuICB9XG59IiwiaW1wb3J0IHR5cGUgeyBTdG9yZUFwaSB9IGZyb20gXCJ6dXN0YW5kXCI7XG5pbXBvcnQgdHlwZSB7IFN0b3JlU3luY2hyb25pemVyIH0gZnJvbSAnLi9pbnRlcmZhY2VzLnRzJztcblxuLyoqXG4gKiBHcmFwaC1iYXNlZCBpbXBsZW1lbnRhdGlvbiBvZiBTdG9yZVN5bmNocm9uaXplciB0aGF0IHVzZXMgZ3JhcGggYWN0aW9ucyBhbmQgYnJvYWRjYXN0XG4gKiBmb3Igc3RvcmUgc3luY2hyb25pemF0aW9uLCBlbmFibGluZyBpbmRpcmVjdCBub2RlIHN5bmNocm9uaXphdGlvbiB0aHJvdWdoIHRoZSBncmFwaCB0b3BvbG9neVxuICovXG5leHBvcnQgY2xhc3MgR3JhcGhTdG9yZVN5bmNocm9uaXplcjxUU3RvcmUgZXh0ZW5kcyBvYmplY3QgPSBvYmplY3Q+IGltcGxlbWVudHMgU3RvcmVTeW5jaHJvbml6ZXI8VFN0b3JlPiB7XG4gIHByaXZhdGUgZ3JhcGhJbnN0YW5jZTogYW55OyAvLyBHcmFwaEluc3RhbmNlIHR5cGVcbiAgcHJpdmF0ZSBhY3Rpb25NYW5hZ2VyOiBhbnk7IC8vIEFjdGlvbk1hbmFnZXIgdHlwZVxuICBwcml2YXRlIGJyb2FkY2FzdE1hbmFnZXI6IGFueTsgLy8gQnJvYWRjYXN0TWFuYWdlciB0eXBlXG5cbiAgY29uc3RydWN0b3IoZ3JhcGhJbnN0YW5jZTogYW55KSB7XG4gICAgdGhpcy5ncmFwaEluc3RhbmNlID0gZ3JhcGhJbnN0YW5jZTtcbiAgICAvLyBBY2Nlc3MgcHJpdmF0ZSBtZW1iZXJzIHRocm91Z2ggcHJvcGVyIHdheSAodGhlc2Ugc2hvdWxkIGJlIG1hZGUgYWNjZXNzaWJsZSlcbiAgICB0aGlzLmFjdGlvbk1hbmFnZXIgPSAoZ3JhcGhJbnN0YW5jZSBhcyBhbnkpLmFjdGlvbk1hbmFnZXI7XG4gICAgdGhpcy5icm9hZGNhc3RNYW5hZ2VyID0gKGdyYXBoSW5zdGFuY2UgYXMgYW55KS5icm9hZGNhc3RNYW5hZ2VyO1xuICB9XG5cbiAgaW5pdGlhbGl6ZUNvbnN1bWVyKHtcbiAgICBzdG9yZSxcbiAgICBzdG9yZU5hbWUsXG4gICAgb25TdGF0ZVVwZGF0ZSxcbiAgICByZXF1ZXN0SW5pdGlhbFN0YXRlXG4gIH06IHtcbiAgICBzdG9yZTogU3RvcmVBcGk8VFN0b3JlPjtcbiAgICBzdG9yZU5hbWU6IHN0cmluZztcbiAgICBvblN0YXRlVXBkYXRlOiAobmV3U3RhdGU6IFBhcnRpYWw8VFN0b3JlPikgPT4gdm9pZDtcbiAgICByZXF1ZXN0SW5pdGlhbFN0YXRlOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICB9KTogdm9pZCB7XG4gICAgLy8gUmVnaXN0ZXIgYnJvYWRjYXN0IGhhbmRsZXIgZm9yIHN0b3JlIHVwZGF0ZXNcbiAgICB0aGlzLmJyb2FkY2FzdE1hbmFnZXIucmVnaXN0ZXJIYW5kbGVyKGBzdG9yZTp1cGRhdGU6JHtzdG9yZU5hbWV9YCwgKHBheWxvYWQ6IGFueSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyB1cGRhdGUgaXMgbm90IGZyb20gb3Vyc2VsdmVzXG4gICAgICAgIGlmIChwYXlsb2FkLnNvdXJjZU5vZGVJZCAhPT0gdGhpcy5ncmFwaEluc3RhbmNlLmdldEN1cnJlbnROb2RlSWQoKSkge1xuICAgICAgICAgIG9uU3RhdGVVcGRhdGUocGF5bG9hZC5zdGF0ZVVwZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIFNpbGVudCBlcnJvciBoYW5kbGluZyAtIGNvdWxkIGFkZCBwcm9wZXIgbG9nZ2luZyBpZiBuZWVkZWRcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEVuaGFuY2VkIGluaXRpYWwgc3RhdGUgcmVxdWVzdCB3aXRoIHJldHJ5IG1lY2hhbmlzbVxuICAgIGNvbnN0IGRvUmVxdWVzdEluaXRpYWxTdGF0ZSA9IGFzeW5jIChyZXRyeUNvdW50ID0gMCwgbWF4UmV0cmllcyA9IDUsIGRlbGF5ID0gMTAwKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCByZXF1ZXN0SW5pdGlhbFN0YXRlKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAocmV0cnlDb3VudCA8IG1heFJldHJpZXMpIHtcbiAgICAgICAgICAvLyBFeHBvbmVudGlhbCBiYWNrb2ZmIHdpdGggaml0dGVyXG4gICAgICAgICAgY29uc3QgYmFja29mZkRlbGF5ID0gZGVsYXkgKiBNYXRoLnBvdygyLCByZXRyeUNvdW50KSArIE1hdGgucmFuZG9tKCkgKiAxMDA7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBkb1JlcXVlc3RJbml0aWFsU3RhdGUocmV0cnlDb3VudCArIDEsIG1heFJldHJpZXMsIGRlbGF5KTtcbiAgICAgICAgICB9LCBiYWNrb2ZmRGVsYXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEZhaWxlZCB0byByZXF1ZXN0IGluaXRpYWwgc3RhdGUgYWZ0ZXIgbWF4IHJldHJpZXNcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBSZXF1ZXN0IGluaXRpYWwgc3RhdGUgd2l0aCByZXRyeSBtZWNoYW5pc21cbiAgICBzZXRUaW1lb3V0KCgpID0+IGRvUmVxdWVzdEluaXRpYWxTdGF0ZSgpLCA1MCk7XG4gIH1cblxuICBpbml0aWFsaXplUHJvZHVjZXIoe1xuICAgIHN0b3JlLFxuICAgIHN0b3JlTmFtZSxcbiAgICBzZW5kU3RhdGVVcGRhdGUsXG4gICAgb25Jbml0aWFsU3RhdGVSZXF1ZXN0ZWRcbiAgfToge1xuICAgIHN0b3JlOiBTdG9yZUFwaTxUU3RvcmU+O1xuICAgIHN0b3JlTmFtZTogc3RyaW5nO1xuICAgIHNlbmRTdGF0ZVVwZGF0ZTogKHN0YXRlOiBUU3RvcmUpID0+IFByb21pc2U8dm9pZD47XG4gICAgb25Jbml0aWFsU3RhdGVSZXF1ZXN0ZWQ6IChjYWxsYmFjazogKCkgPT4gdm9pZCkgPT4gdm9pZDtcbiAgfSk6ICgpID0+IHZvaWQge1xuICAgIGNvbnN0IGN1cnJlbnROb2RlSWQgPSB0aGlzLmdyYXBoSW5zdGFuY2UuZ2V0Q3VycmVudE5vZGVJZCgpO1xuXG4gICAgLy8gU2VuZCBzdGF0ZSB1cGRhdGUgdmlhIGJyb2FkY2FzdCB0byBhbGwgbm9kZXMgaW4gdGhlIGdyYXBoXG4gICAgY29uc3QgYnJvYWRjYXN0U3RhdGVVcGRhdGUgPSBhc3luYyAoc3RhdGU6IFRTdG9yZSwgaXNJbml0aWFsU3RhdGUgPSBmYWxzZSkgPT4ge1xuICAgICAgY29uc3QgdHJhbnNwb3J0UmVhZHkgPSB0aGlzLmlzVHJhbnNwb3J0UmVhZHkoKTtcbiAgICAgIFxuICAgICAgaWYgKHRyYW5zcG9ydFJlYWR5KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gQnJvYWRjYXN0IHN0b3JlIHVwZGF0ZSB0byBhbGwgbm9kZXNcbiAgICAgICAgICBhd2FpdCB0aGlzLmJyb2FkY2FzdE1hbmFnZXIuYnJvYWRjYXN0KGBzdG9yZTp1cGRhdGU6JHtzdG9yZU5hbWV9YCwge1xuICAgICAgICAgICAgc3RvcmVOYW1lLFxuICAgICAgICAgICAgc291cmNlTm9kZUlkOiBjdXJyZW50Tm9kZUlkLFxuICAgICAgICAgICAgc3RhdGVVcGRhdGU6IHN0YXRlLFxuICAgICAgICAgICAgaXNJbml0aWFsU3RhdGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBBbHNvIGNhbGwgdGhlIHByb3ZpZGVkIHNlbmRTdGF0ZVVwZGF0ZSBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuICAgICAgICAgIGF3YWl0IHNlbmRTdGF0ZVVwZGF0ZShzdGF0ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgLy8gU2lsZW50IGVycm9yIGhhbmRsaW5nIC0gY291bGQgYWRkIHByb3BlciBsb2dnaW5nIGlmIG5lZWRlZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIFN1YnNjcmliZSB0byBzdG9yZSBjaGFuZ2VzIGFuZCBicm9hZGNhc3QgdXBkYXRlc1xuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gc3RvcmUuc3Vic2NyaWJlKChzdGF0ZSkgPT4ge1xuICAgICAgYnJvYWRjYXN0U3RhdGVVcGRhdGUoc3RhdGUsIGZhbHNlKTtcbiAgICB9KTtcblxuICAgIC8vIEhhbmRsZSBpbml0aWFsIHN0YXRlIHJlcXVlc3RzXG4gICAgb25Jbml0aWFsU3RhdGVSZXF1ZXN0ZWQoKCkgPT4ge1xuICAgICAgYnJvYWRjYXN0U3RhdGVVcGRhdGUoc3RvcmUuZ2V0U3RhdGUoKSwgdHJ1ZSk7XG4gICAgfSk7XG5cbiAgICAvLyBJbXBsZW1lbnQgaW50ZXJuYWwgYWN0aW9uIGZvciByZXF1ZXN0aW5nIGluaXRpYWwgc3RhdGUgZnJvbSB0aGlzIHByb2R1Y2VyXG4gICAgY29uc3QgYWN0aW9uTmFtZSA9IGBfX2ludGVybmFsX3JlcXVlc3RJbml0aWFsU3RhdGVfJHtzdG9yZU5hbWV9YDtcbiAgICB0aGlzLmFjdGlvbk1hbmFnZXIuaW1wbGVtZW50SW50ZXJuYWxBY3Rpb24oYWN0aW9uTmFtZSwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY3VycmVudFN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgICAgIC8vIEJyb2FkY2FzdCB0aGUgY3VycmVudCBzdGF0ZSBhcyBpbml0aWFsIHN0YXRlXG4gICAgICBhd2FpdCBicm9hZGNhc3RTdGF0ZVVwZGF0ZShjdXJyZW50U3RhdGUsIHRydWUpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuICAgIH0pO1xuXG4gICAgLy8gU2VuZCBpbml0aWFsIHN0YXRlIGltbWVkaWF0ZWx5XG4gICAgYnJvYWRjYXN0U3RhdGVVcGRhdGUoc3RvcmUuZ2V0U3RhdGUoKSwgdHJ1ZSk7XG5cbiAgICAvLyBSZXR1cm4gY2xlYW51cCBmdW5jdGlvblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgLy8gUmVtb3ZlIHRoZSBpbnRlcm5hbCBhY3Rpb24gaGFuZGxlclxuICAgICAgKHRoaXMuYWN0aW9uTWFuYWdlciBhcyBhbnkpLmFjdGlvbkhhbmRsZXJzPy5kZWxldGUoYWN0aW9uTmFtZSk7XG4gICAgfTtcbiAgfVxuXG4gIGlzVHJhbnNwb3J0UmVhZHkoKTogYm9vbGVhbiB7XG4gICAgLy8gQ2hlY2sgaWYgZ3JhcGggaGFzIGFueSBhY3RpdmUgY29ubmVjdGlvbnMgb3IgbW91bnRlZCBlbmRwb2ludHNcbiAgICB0cnkge1xuICAgICAgLy8gQ2hlY2sgaWYgY29ubmVjdGlvbiBtYW5hZ2VyIGhhcyBjb25uZWN0aW9ucyAtIG1lc2hTdG9yZSBmdW5jdGlvbmFsaXR5IHJlbW92ZWRcbiAgICAgIGNvbnN0IGNvbm5lY3Rpb25NYW5hZ2VyID0gKHRoaXMuZ3JhcGhJbnN0YW5jZSBhcyBhbnkpLmNvbm5lY3Rpb25NYW5hZ2VyO1xuICAgICAgY29uc3QgaGFzQ29ubmVjdGVkTm9kZXMgPSBjb25uZWN0aW9uTWFuYWdlciAmJiBjb25uZWN0aW9uTWFuYWdlci5nZXRDb25uZWN0aW9uQ291bnQoKSA+IDA7XG4gICAgICBcbiAgICAgIC8vIEFsc28gY2hlY2sgaWYgd2UgaGF2ZSBtb3VudGVkIGVuZHBvaW50cyAoZm9yIHNlcnZlciBub2RlcylcbiAgICAgIGNvbnN0IGhhc01vdW50ZWRFbmRwb2ludCA9ICh0aGlzLmJyb2FkY2FzdE1hbmFnZXIgYXMgYW55KS5tb3VudGVkRW5kcG9pbnRzPy5zaXplID4gMDtcbiAgICAgIFxuICAgICAgcmV0dXJuIGhhc0Nvbm5lY3RlZE5vZGVzIHx8IGhhc01vdW50ZWRFbmRwb2ludDtcbiAgICB9IGNhdGNoIHtcbiAgICAgIC8vIEZhbGxiYWNrOiBhc3N1bWUgcmVhZHkgaWYgd2UgaGF2ZSB0aGUgYnJvYWRjYXN0IG1hbmFnZXJcbiAgICAgIHJldHVybiAhIXRoaXMuYnJvYWRjYXN0TWFuYWdlcjtcbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgdHlwZSB7IFN0b3JlQXBpIH0gZnJvbSBcInp1c3RhbmRcIjtcbmltcG9ydCB7IENsaWVudCB9IGZyb20gXCJAbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL2NsaWVudC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgU2VydmVyIH0gZnJvbSBcIkBtb2RlbGNvbnRleHRwcm90b2NvbC9zZGsvc2VydmVyL2luZGV4LmpzXCI7XG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xuaW1wb3J0IHR5cGUgeyBTdG9yZVN5bmNocm9uaXplciwgU3RvcmVCaW5kaW5nQ29uZmlnIH0gZnJvbSAnLi9pbnRlcmZhY2VzLnRzJztcbmltcG9ydCB7IFNEUFBQU3RvcmVTeW5jaHJvbml6ZXIgfSBmcm9tICcuL1NEUFBQU3RvcmVTeW5jaHJvbml6ZXIudHMnO1xuaW1wb3J0IHsgR3JhcGhTdG9yZVN5bmNocm9uaXplciB9IGZyb20gJy4vR3JhcGhTdG9yZVN5bmNocm9uaXplci50cyc7XG5cbi8qKlxuICogQmluZCBzdG9yZSBjb25zdW1lciBzaWRlIHVzaW5nIGNvbmZpZ3VyYWJsZSBzeW5jaHJvbml6ZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmRTdG9yZUNvbnN1bWVyU2lkZTxTVE9SRSBleHRlbmRzIG9iamVjdD4oe1xuICAgIHN0b3JlLFxuICAgIHN0b3JlTmFtZSxcbiAgICBzeW5jaHJvbml6ZXJcbn06IFN0b3JlQmluZGluZ0NvbmZpZzxTVE9SRT4pOiB2b2lkIHtcbiAgICBjb25zdCBvblN0YXRlVXBkYXRlID0gKG5ld1N0YXRlOiBQYXJ0aWFsPFNUT1JFPikgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50U3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCB1cGRhdGVkU3RhdGUgPSB7IC4uLmN1cnJlbnRTdGF0ZSwgLi4ubmV3U3RhdGUgfTtcbiAgICAgICAgc3RvcmUuc2V0U3RhdGUodXBkYXRlZFN0YXRlKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVxdWVzdEluaXRpYWxTdGF0ZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIGJlIGhhbmRsZWQgYnkgdGhlIHN5bmNocm9uaXplciBpbXBsZW1lbnRhdGlvblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlcXVlc3RJbml0aWFsU3RhdGUgc2hvdWxkIGJlIGltcGxlbWVudGVkIGJ5IHN5bmNocm9uaXplcicpO1xuICAgIH07XG5cbiAgICBzeW5jaHJvbml6ZXIuaW5pdGlhbGl6ZUNvbnN1bWVyKHtcbiAgICAgICAgc3RvcmUsXG4gICAgICAgIHN0b3JlTmFtZSxcbiAgICAgICAgb25TdGF0ZVVwZGF0ZSxcbiAgICAgICAgcmVxdWVzdEluaXRpYWxTdGF0ZVxuICAgIH0pO1xufVxuXG4vKipcbiAqIEJpbmQgc3RvcmUgcHJvZHVjZXIgc2lkZSB1c2luZyBjb25maWd1cmFibGUgc3luY2hyb25pemVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5kU3RvcmVQcm9kdWNlclNpZGU8U1RPUkUgZXh0ZW5kcyBvYmplY3Q+KHtcbiAgICBzdG9yZSxcbiAgICBzdG9yZU5hbWUsXG4gICAgc3luY2hyb25pemVyXG59OiBTdG9yZUJpbmRpbmdDb25maWc8U1RPUkU+KTogKCkgPT4gdm9pZCB7XG4gICAgY29uc3Qgc2VuZFN0YXRlVXBkYXRlID0gYXN5bmMgKHN0YXRlOiBTVE9SRSkgPT4ge1xuICAgICAgICAvLyBUaGlzIHdpbGwgYmUgaGFuZGxlZCBieSB0aGUgc3luY2hyb25pemVyIGltcGxlbWVudGF0aW9uXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignc2VuZFN0YXRlVXBkYXRlIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBieSBzeW5jaHJvbml6ZXInKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgb25Jbml0aWFsU3RhdGVSZXF1ZXN0ZWQgPSAoY2FsbGJhY2s6ICgpID0+IHZvaWQpID0+IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIGJlIGhhbmRsZWQgYnkgdGhlIHN5bmNocm9uaXplciBpbXBsZW1lbnRhdGlvblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ29uSW5pdGlhbFN0YXRlUmVxdWVzdGVkIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBieSBzeW5jaHJvbml6ZXInKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHN5bmNocm9uaXplci5pbml0aWFsaXplUHJvZHVjZXIoe1xuICAgICAgICBzdG9yZSxcbiAgICAgICAgc3RvcmVOYW1lLFxuICAgICAgICBzZW5kU3RhdGVVcGRhdGUsXG4gICAgICAgIG9uSW5pdGlhbFN0YXRlUmVxdWVzdGVkXG4gICAgfSk7XG59XG5cbi8vIEJhY2t3YXJkIGNvbXBhdGliaWxpdHkgZnVuY3Rpb25zIGZvciBleGlzdGluZyBjb2RlXG5leHBvcnQgZnVuY3Rpb24gYmluZFN0b3JlQ29uc3VtZXJTaWRlU0RQUFA8U1RPUkUgZXh0ZW5kcyBvYmplY3Q+KHtcbiAgICBlbmRwb2ludCxcbiAgICBzdG9yZSxcbiAgICBuYW1lXG59OiB7XG4gICAgZW5kcG9pbnQ6IENsaWVudCB8IFNlcnZlcixcbiAgICBzdG9yZTogU3RvcmVBcGk8U1RPUkU+LFxuICAgIG5hbWU6IHN0cmluZyxcbn0pOiB2b2lkIHtcbiAgICBjb25zdCBzeW5jaHJvbml6ZXIgPSBuZXcgU0RQUFBTdG9yZVN5bmNocm9uaXplcjxTVE9SRT4oZW5kcG9pbnQpO1xuICAgIFxuICAgIGNvbnN0IG9uU3RhdGVVcGRhdGUgPSAobmV3U3RhdGU6IFBhcnRpYWw8U1RPUkU+KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRTdGF0ZSA9IHsgLi4uY3VycmVudFN0YXRlLCAuLi5uZXdTdGF0ZSB9O1xuICAgICAgICBzdG9yZS5zZXRTdGF0ZSh1cGRhdGVkU3RhdGUpO1xuICAgIH07XG5cbiAgICBjb25zdCByZXF1ZXN0SW5pdGlhbFN0YXRlID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCBlbmRwb2ludC5ub3RpZmljYXRpb24oe1xuICAgICAgICAgICAgbWV0aG9kOiBgc2RwcHAvcmVxdWVzdEluaXRpYWxTdGF0ZS8ke25hbWV9YCxcbiAgICAgICAgICAgIHBhcmFtczoge31cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHN5bmNocm9uaXplci5pbml0aWFsaXplQ29uc3VtZXIoe1xuICAgICAgICBzdG9yZSxcbiAgICAgICAgc3RvcmVOYW1lOiBuYW1lLFxuICAgICAgICBvblN0YXRlVXBkYXRlLFxuICAgICAgICByZXF1ZXN0SW5pdGlhbFN0YXRlXG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBiaW5kU3RvcmVQcm9kdWNlclNpZGVTRFBQUDxTVE9SRSBleHRlbmRzIG9iamVjdD4oe1xuICAgIGVuZHBvaW50LFxuICAgIHN0b3JlLFxuICAgIG5hbWVcbn06IHtcbiAgICBlbmRwb2ludDogQ2xpZW50IHwgU2VydmVyLFxuICAgIHN0b3JlOiBTdG9yZUFwaTxTVE9SRT4sXG4gICAgbmFtZTogc3RyaW5nLFxufSk6ICgpID0+IHZvaWQge1xuICAgIGNvbnN0IHN5bmNocm9uaXplciA9IG5ldyBTRFBQUFN0b3JlU3luY2hyb25pemVyPFNUT1JFPihlbmRwb2ludCk7XG4gICAgXG4gICAgY29uc3Qgc2VuZFN0YXRlVXBkYXRlID0gYXN5bmMgKHN0YXRlOiBTVE9SRSkgPT4ge1xuICAgICAgICBhd2FpdCBlbmRwb2ludC5ub3RpZmljYXRpb24oe1xuICAgICAgICAgICAgbWV0aG9kOiBgc2RwcHAvdXBkYXRlU3RvcmUvJHtuYW1lfWAsXG4gICAgICAgICAgICBwYXJhbXM6IHN0YXRlIGFzIGFueVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3Qgb25Jbml0aWFsU3RhdGVSZXF1ZXN0ZWQgPSAoY2FsbGJhY2s6ICgpID0+IHZvaWQpID0+IHtcbiAgICAgICAgZW5kcG9pbnQuc2V0Tm90aWZpY2F0aW9uSGFuZGxlcihcbiAgICAgICAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6IHoubGl0ZXJhbChgc2RwcHAvcmVxdWVzdEluaXRpYWxTdGF0ZS8ke25hbWV9YCksXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB6LmFueSgpLFxuICAgICAgICAgICAgfSksICgpID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH07XG5cbiAgICByZXR1cm4gc3luY2hyb25pemVyLmluaXRpYWxpemVQcm9kdWNlcih7XG4gICAgICAgIHN0b3JlLFxuICAgICAgICBzdG9yZU5hbWU6IG5hbWUsXG4gICAgICAgIHNlbmRTdGF0ZVVwZGF0ZSxcbiAgICAgICAgb25Jbml0aWFsU3RhdGVSZXF1ZXN0ZWRcbiAgICB9KTtcbn1cblxuLy8gR3JhcGgtYmFzZWQgc3RvcmUgYmluZGluZyBmdW5jdGlvbnMgdXNpbmcgYWN0aW9ucyBhbmQgYnJvYWRjYXN0XG5leHBvcnQgZnVuY3Rpb24gYmluZFN0b3JlQ29uc3VtZXJTaWRlR3JhcGg8U1RPUkUgZXh0ZW5kcyBvYmplY3Q+KHtcbiAgICBncmFwaEluc3RhbmNlLFxuICAgIHN0b3JlLFxuICAgIG5hbWVcbn06IHtcbiAgICBncmFwaEluc3RhbmNlOiBhbnksIC8vIEdyYXBoSW5zdGFuY2UgdHlwZVxuICAgIHN0b3JlOiBTdG9yZUFwaTxTVE9SRT4sXG4gICAgbmFtZTogc3RyaW5nLFxufSk6IHZvaWQge1xuICAgIGNvbnN0IHN5bmNocm9uaXplciA9IG5ldyBHcmFwaFN0b3JlU3luY2hyb25pemVyPFNUT1JFPihncmFwaEluc3RhbmNlKTtcbiAgICBcbiAgICBjb25zdCBvblN0YXRlVXBkYXRlID0gKG5ld1N0YXRlOiBQYXJ0aWFsPFNUT1JFPikgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50U3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICAgICAgICBjb25zdCB1cGRhdGVkU3RhdGUgPSB7IC4uLmN1cnJlbnRTdGF0ZSwgLi4ubmV3U3RhdGUgfTtcbiAgICAgICAgc3RvcmUuc2V0U3RhdGUodXBkYXRlZFN0YXRlKTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVxdWVzdEluaXRpYWxTdGF0ZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgLy8gVXNlIGdyYXBoIGFjdGlvbiB0byByZXF1ZXN0IGluaXRpYWwgc3RhdGUgZnJvbSBwcm9kdWNlciBub2Rlc1xuICAgICAgICBjb25zdCBhY3Rpb25OYW1lID0gYF9faW50ZXJuYWxfcmVxdWVzdEluaXRpYWxTdGF0ZV8ke25hbWV9YDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFRyeSB0byBjYWxsIHRoZSBhY3Rpb24gb24gYW55IG5vZGUgdGhhdCBoYXMgdGhpcyBzdG9yZSAtIG1lc2hTdG9yZSBmdW5jdGlvbmFsaXR5IHJlbW92ZWRcbiAgICAgICAgICAgIC8vIEdldCBuZWlnaGJvcnMgZnJvbSBncmFwaCBkZWZpbml0aW9uIGluc3RlYWRcbiAgICAgICAgICAgIGNvbnN0IG5laWdoYm9ycyA9IChncmFwaEluc3RhbmNlIGFzIGFueSkuZ2V0RGVmaW5pdGlvbigpLmdldE5laWdoYm9ycygoZ3JhcGhJbnN0YW5jZSBhcyBhbnkpLmdldEN1cnJlbnROb2RlSWQoKSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5vZGVJZCBvZiBuZWlnaGJvcnMpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBub2RlUHJveHkgPSBncmFwaEluc3RhbmNlLmdldE5vZGUobm9kZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGVQcm94eSAmJiBub2RlUHJveHkuYWN0aW9ucyAmJiBub2RlUHJveHkuYWN0aW9uc1thY3Rpb25OYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbm9kZVByb3h5LmFjdGlvbnNbYWN0aW9uTmFtZV0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBTdWNjZXNzZnVsbHkgcmVxdWVzdGVkIGZyb20gb25lIG5vZGVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRyeSBuZXh0IG5vZGUgaWYgdGhpcyBvbmUgZmFpbHNcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBGYWlsZWQgdG8gcmVxdWVzdCBpbml0aWFsIHN0YXRlIGZvciAke25hbWV9OmAsIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBzeW5jaHJvbml6ZXIuaW5pdGlhbGl6ZUNvbnN1bWVyKHtcbiAgICAgICAgc3RvcmUsXG4gICAgICAgIHN0b3JlTmFtZTogbmFtZSxcbiAgICAgICAgb25TdGF0ZVVwZGF0ZSxcbiAgICAgICAgcmVxdWVzdEluaXRpYWxTdGF0ZVxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmluZFN0b3JlUHJvZHVjZXJTaWRlR3JhcGg8U1RPUkUgZXh0ZW5kcyBvYmplY3Q+KHtcbiAgICBncmFwaEluc3RhbmNlLFxuICAgIHN0b3JlLFxuICAgIG5hbWVcbn06IHtcbiAgICBncmFwaEluc3RhbmNlOiBhbnksIC8vIEdyYXBoSW5zdGFuY2UgdHlwZVxuICAgIHN0b3JlOiBTdG9yZUFwaTxTVE9SRT4sXG4gICAgbmFtZTogc3RyaW5nLFxufSk6ICgpID0+IHZvaWQge1xuICAgIGNvbnN0IHN5bmNocm9uaXplciA9IG5ldyBHcmFwaFN0b3JlU3luY2hyb25pemVyPFNUT1JFPihncmFwaEluc3RhbmNlKTtcbiAgICBcbiAgICBjb25zdCBzZW5kU3RhdGVVcGRhdGUgPSBhc3luYyAoc3RhdGU6IFNUT1JFKSA9PiB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCBiZSBoYW5kbGVkIGJ5IHRoZSBHcmFwaFN0b3JlU3luY2hyb25pemVyIHZpYSBicm9hZGNhc3RcbiAgICAgICAgLy8gTm8gZGlyZWN0IHNlbmRpbmcgbmVlZGVkIGFzIGJyb2FkY2FzdCBoYW5kbGVzIGl0XG4gICAgfTtcblxuICAgIGNvbnN0IG9uSW5pdGlhbFN0YXRlUmVxdWVzdGVkID0gKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSA9PiB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCBiZSBoYW5kbGVkIGJ5IHRoZSBHcmFwaFN0b3JlU3luY2hyb25pemVyIHZpYSBpbnRlcm5hbCBhY3Rpb25zXG4gICAgICAgIC8vIE5vIGRpcmVjdCBoYW5kbGVyIHNldHVwIG5lZWRlZFxuICAgIH07XG5cbiAgICByZXR1cm4gc3luY2hyb25pemVyLmluaXRpYWxpemVQcm9kdWNlcih7XG4gICAgICAgIHN0b3JlLFxuICAgICAgICBzdG9yZU5hbWU6IG5hbWUsXG4gICAgICAgIHNlbmRTdGF0ZVVwZGF0ZSxcbiAgICAgICAgb25Jbml0aWFsU3RhdGVSZXF1ZXN0ZWRcbiAgICB9KTtcbn0iLCJpbXBvcnQgdHlwZSB7IFN0b3JlQXBpIH0gZnJvbSBcInp1c3RhbmRcIjtcbmltcG9ydCB7IENsaWVudCB9IGZyb20gXCJAbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL2NsaWVudC9pbmRleC5qc1wiO1xuaW1wb3J0IHsgU2VydmVyIH0gZnJvbSBcIkBtb2RlbGNvbnRleHRwcm90b2NvbC9zZGsvc2VydmVyL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBiaW5kU3RvcmVDb25zdW1lclNpZGVTRFBQUCwgYmluZFN0b3JlUHJvZHVjZXJTaWRlU0RQUFAgfSBmcm9tICcuL1N0b3JlQmluZGVyLnRzJztcblxuZXhwb3J0IGludGVyZmFjZSBTdG9yZUJpbmRpbmcge1xuICBub2RlSWQ6IHN0cmluZztcbiAgaXNQcm9kdWNlcjogYm9vbGVhbjtcbiAgY2xlYW51cD86ICgpID0+IHZvaWQ7XG59XG5cbi8qKlxuICogTWFuYWdlcyBzdG9yZSBiaW5kaW5ncyBiZXR3ZWVuIG5vZGVzIHdpdGggYXV0b21hdGljIGNsZWFudXBcbiAqL1xuZXhwb3J0IGNsYXNzIFN0b3JlTWFuYWdlciB7XG4gIHByaXZhdGUgYmluZGluZ3M6IE1hcDxzdHJpbmcsIFN0b3JlQmluZGluZz4gPSBuZXcgTWFwKCk7XG5cbiAgLyoqXG4gICAqIEJpbmQgYSBzdG9yZSBhcyBhIGNvbnN1bWVyIChyZWNlaXZlcyB1cGRhdGVzIGZyb20gcmVtb3RlIHByb2R1Y2VyKVxuICAgKi9cbiAgYmluZENvbnN1bWVyPFNUT1JFIGV4dGVuZHMgb2JqZWN0Pih7XG4gICAgZW5kcG9pbnQsXG4gICAgc3RvcmUsXG4gICAgbm9kZUlkXG4gIH06IHtcbiAgICBlbmRwb2ludDogQ2xpZW50IHwgU2VydmVyO1xuICAgIHN0b3JlOiBTdG9yZUFwaTxTVE9SRT47XG4gICAgbm9kZUlkOiBzdHJpbmc7XG4gIH0pOiB2b2lkIHtcbiAgICAvLyBDbGVhbiB1cCBleGlzdGluZyBiaW5kaW5nIGlmIGl0IGV4aXN0c1xuICAgIHRoaXMudW5iaW5kKG5vZGVJZCk7XG5cbiAgICBiaW5kU3RvcmVDb25zdW1lclNpZGVTRFBQUCh7XG4gICAgICBlbmRwb2ludCxcbiAgICAgIHN0b3JlLFxuICAgICAgbmFtZTogbm9kZUlkXG4gICAgfSk7XG5cbiAgICB0aGlzLmJpbmRpbmdzLnNldChub2RlSWQsIHtcbiAgICAgIG5vZGVJZCxcbiAgICAgIGlzUHJvZHVjZXI6IGZhbHNlXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQmluZCBhIHN0b3JlIGFzIGEgcHJvZHVjZXIgKHNlbmRzIHVwZGF0ZXMgdG8gcmVtb3RlIGNvbnN1bWVycylcbiAgICovXG4gIGJpbmRQcm9kdWNlcjxTVE9SRSBleHRlbmRzIG9iamVjdD4oe1xuICAgIGVuZHBvaW50LFxuICAgIHN0b3JlLFxuICAgIG5vZGVJZFxuICB9OiB7XG4gICAgZW5kcG9pbnQ6IENsaWVudCB8IFNlcnZlcjtcbiAgICBzdG9yZTogU3RvcmVBcGk8U1RPUkU+O1xuICAgIG5vZGVJZDogc3RyaW5nO1xuICB9KTogdm9pZCB7XG4gICAgLy8gQ2xlYW4gdXAgZXhpc3RpbmcgYmluZGluZyBpZiBpdCBleGlzdHNcbiAgICB0aGlzLnVuYmluZChub2RlSWQpO1xuXG4gICAgY29uc3QgY2xlYW51cCA9IGJpbmRTdG9yZVByb2R1Y2VyU2lkZVNEUFBQKHtcbiAgICAgIGVuZHBvaW50LFxuICAgICAgc3RvcmUsXG4gICAgICBuYW1lOiBub2RlSWRcbiAgICB9KTtcblxuICAgIHRoaXMuYmluZGluZ3Muc2V0KG5vZGVJZCwge1xuICAgICAgbm9kZUlkLFxuICAgICAgaXNQcm9kdWNlcjogdHJ1ZSxcbiAgICAgIGNsZWFudXBcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVbmJpbmQgYSBzcGVjaWZpYyBub2RlJ3Mgc3RvcmVcbiAgICovXG4gIHVuYmluZChub2RlSWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IGJpbmRpbmcgPSB0aGlzLmJpbmRpbmdzLmdldChub2RlSWQpO1xuICAgIGlmIChiaW5kaW5nKSB7XG4gICAgICBpZiAoYmluZGluZy5jbGVhbnVwKSB7XG4gICAgICAgIGJpbmRpbmcuY2xlYW51cCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5iaW5kaW5ncy5kZWxldGUobm9kZUlkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IGJpbmRpbmcgaW5mbyBmb3IgYSBub2RlXG4gICAqL1xuICBnZXRCaW5kaW5nKG5vZGVJZDogc3RyaW5nKTogU3RvcmVCaW5kaW5nIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5iaW5kaW5ncy5nZXQobm9kZUlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGN1cnJlbnQgYmluZGluZ3NcbiAgICovXG4gIGdldEFsbEJpbmRpbmdzKCk6IFN0b3JlQmluZGluZ1tdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmJpbmRpbmdzLnZhbHVlcygpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIGNvbnN1bWVyIGJpbmRpbmcgZXhpc3RzIGZvciBhIG5vZGVcbiAgICovXG4gIGhhc0NvbnN1bWVyQmluZGluZyhub2RlSWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGJpbmRpbmcgPSB0aGlzLmJpbmRpbmdzLmdldChub2RlSWQpO1xuICAgIHJldHVybiBiaW5kaW5nID8gIWJpbmRpbmcuaXNQcm9kdWNlciA6IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hcmsgdGhhdCBhIGNvbnN1bWVyIGJpbmRpbmcgaGFzIGJlZW4gc2V0IHVwIGZvciBhIG5vZGVcbiAgICovXG4gIG1hcmtDb25zdW1lckJpbmRpbmcobm9kZUlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLmJpbmRpbmdzLnNldChub2RlSWQsIHtcbiAgICAgIG5vZGVJZCxcbiAgICAgIGlzUHJvZHVjZXI6IGZhbHNlXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYW4gdXAgYWxsIGJpbmRpbmdzXG4gICAqL1xuICBjbGVhbnVwKCk6IHZvaWQge1xuICAgIGZvciAoY29uc3QgYmluZGluZyBvZiB0aGlzLmJpbmRpbmdzLnZhbHVlcygpKSB7XG4gICAgICBpZiAoYmluZGluZy5jbGVhbnVwKSB7XG4gICAgICAgIGJpbmRpbmcuY2xlYW51cCgpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmJpbmRpbmdzLmNsZWFyKCk7XG4gIH1cbn0iLCJpbXBvcnQgeyBHcmFwaEluc3RhbmNlSW1wbCB9IGZyb20gJy4vR3JhcGhJbnN0YW5jZS50cyc7XG5pbXBvcnQgdHlwZSB7IEdyYXBoRGVmaW5pdGlvbkNsYXNzIH0gZnJvbSAnLi9HcmFwaERlZmluaXRpb24udHMnO1xuLy8gaW1wb3J0ICogYXMgZGVidWcgZnJvbSAnZGVidWcnO1xuXG4vLyBjb25zdCBsb2cgPSBkZWJ1Zy5kZWZhdWx0KCdzZHBwcDpDb25uZWN0aW9uTW9uaXRvcicpO1xuLy8gY29uc3QgbG9nID0gY29uc29sZS5sb2cuYmluZChjb25zb2xlLCAnW0Nvbm5lY3Rpb25Nb25pdG9yXScpO1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbm5lY3Rpb25Nb25pdG9yT3B0aW9ucyB7XG4gIHBpbmdJbnRlcnZhbD86IG51bWJlcjtcbiAgbWF4UmV0cmllcz86IG51bWJlcjtcbiAgcmV0cnlEZWxheT86IG51bWJlcjtcbiAgZGZzSW50ZXJ2YWw/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uTW9uaXRvciB7XG4gIHByaXZhdGUgZ3JhcGhJbnN0YW5jZTogR3JhcGhJbnN0YW5jZUltcGw7XG4gIHByaXZhdGUgb3B0aW9uczogUmVxdWlyZWQ8Q29ubmVjdGlvbk1vbml0b3JPcHRpb25zPjtcbiAgcHJpdmF0ZSBtb25pdG9yaW5nSW50ZXJ2YWxzOiBNYXA8c3RyaW5nLCBOb2RlSlMuVGltZW91dD4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgZGVmaW5pdGlvbjogR3JhcGhEZWZpbml0aW9uQ2xhc3M7XG4gIHByaXZhdGUgY3VycmVudE5vZGVJZDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKGdyYXBoSW5zdGFuY2U6IEdyYXBoSW5zdGFuY2VJbXBsLCBvcHRpb25zOiBDb25uZWN0aW9uTW9uaXRvck9wdGlvbnMgPSB7fSkge1xuICAgIHRoaXMuZ3JhcGhJbnN0YW5jZSA9IGdyYXBoSW5zdGFuY2U7XG4gICAgdGhpcy5kZWZpbml0aW9uID0gKGdyYXBoSW5zdGFuY2UgYXMgYW55KS5kZWZpbml0aW9uO1xuICAgIHRoaXMuY3VycmVudE5vZGVJZCA9IChncmFwaEluc3RhbmNlIGFzIGFueSkuY3VycmVudE5vZGVJZDtcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICBwaW5nSW50ZXJ2YWw6IG9wdGlvbnMucGluZ0ludGVydmFsIHx8IDMwMDAwLCAvLyAzMCBzZWNvbmRzXG4gICAgICBtYXhSZXRyaWVzOiBvcHRpb25zLm1heFJldHJpZXMgfHwgMyxcbiAgICAgIHJldHJ5RGVsYXk6IG9wdGlvbnMucmV0cnlEZWxheSB8fCA1MDAwLCAvLyA1IHNlY29uZHNcbiAgICAgIGRmc0ludGVydmFsOiBvcHRpb25zLmRmc0ludGVydmFsIHx8IDMwMDAwLCAvLyAzMCBzZWNvbmRzIGZvciBERlMgY2hlY2tzXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydCBtb25pdG9yaW5nIGEgc3BlY2lmaWMgbm9kZSBjb25uZWN0aW9uXG4gICAqL1xuICBzdGFydE1vbml0b3Jpbmcobm9kZUlkOiBzdHJpbmcpIHtcbiAgICBpZiAodGhpcy5tb25pdG9yaW5nSW50ZXJ2YWxzLmhhcyhub2RlSWQpKSB7XG4gICAgICByZXR1cm47IC8vIEFscmVhZHkgbW9uaXRvcmluZ1xuICAgIH1cblxuICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgdGhpcy5jaGVja0Nvbm5lY3Rpb24obm9kZUlkKTtcbiAgICB9LCB0aGlzLm9wdGlvbnMucGluZ0ludGVydmFsKTtcblxuICAgIHRoaXMubW9uaXRvcmluZ0ludGVydmFscy5zZXQobm9kZUlkLCBpbnRlcnZhbCk7XG4gIH1cblxuICAvKipcbiAgICogU3RvcCBtb25pdG9yaW5nIGEgc3BlY2lmaWMgbm9kZVxuICAgKi9cbiAgc3RvcE1vbml0b3Jpbmcobm9kZUlkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBpbnRlcnZhbCA9IHRoaXMubW9uaXRvcmluZ0ludGVydmFscy5nZXQobm9kZUlkKTtcbiAgICBpZiAoaW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgdGhpcy5tb25pdG9yaW5nSW50ZXJ2YWxzLmRlbGV0ZShub2RlSWQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBjb25uZWN0aW9uIGhlYWx0aCBmb3IgYSBub2RlXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGNoZWNrQ29ubmVjdGlvbihub2RlSWQ6IHN0cmluZykge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLnBpbmdDb25uZWN0aW9uKG5vZGVJZCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIEhhbmRsZSBjb25uZWN0aW9uIGZhaWx1cmUgLSBpbiBzaW1wbGlmaWVkIHZlcnNpb24sIGp1c3QgbG9nXG4gICAgICBjb25zb2xlLndhcm4oYENvbm5lY3Rpb24gdG8gJHtub2RlSWR9IGFwcGVhcnMgdW5oZWFsdGh5OmAsIGVycm9yKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUGluZyBhIGNvbm5lY3Rpb24gdG8gY2hlY2sgaWYgaXQncyBhbGl2ZVxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBwaW5nQ29ubmVjdGlvbihub2RlSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGNvbm5lY3Rpb24gPSAodGhpcy5ncmFwaEluc3RhbmNlIGFzIGFueSkuZ2V0Q29ubmVjdGlvbkludGVybmFsKG5vZGVJZCk7XG4gICAgaWYgKCFjb25uZWN0aW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGNvbm5lY3Rpb24gYXZhaWxhYmxlJyk7XG4gICAgfVxuXG4gICAgLy8gRm9yIFNEUFBQUHJvdG9jb2wsIGNoZWNrIGlmIHRoZSB1bmRlcmx5aW5nIGNsaWVudCBvciBzZXJ2ZXIgaXMgY29ubmVjdGVkXG4gICAgaWYgKChjb25uZWN0aW9uIGFzIGFueSkuaXNDb25uZWN0ZWQgJiYgdHlwZW9mIChjb25uZWN0aW9uIGFzIGFueSkuaXNDb25uZWN0ZWQgPT09ICdmdW5jdGlvbicgJiYgKGNvbm5lY3Rpb24gYXMgYW55KS5pc0Nvbm5lY3RlZCgpKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIFxuICAgIHRocm93IG5ldyBFcnJvcignQ29ubmVjdGlvbiBhcHBlYXJzIHRvIGJlIGRpc2Nvbm5lY3RlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFudXAgYWxsIG1vbml0b3JpbmdcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgZm9yIChjb25zdCBpbnRlcnZhbCBvZiB0aGlzLm1vbml0b3JpbmdJbnRlcnZhbHMudmFsdWVzKCkpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgIH1cbiAgICB0aGlzLm1vbml0b3JpbmdJbnRlcnZhbHMuY2xlYXIoKTtcbiAgfVxufSIsImltcG9ydCB7IFNEUFBQUHJvdG9jb2wgfSBmcm9tICcuL01DUC9zZHBwcC1wcm90b2NvbC50cyc7XG5cbi8qKlxuICogTWFuYWdlcyBicm9hZGNhc3QgZnVuY3Rpb25hbGl0eSBmb3IgZ3JhcGggaW5zdGFuY2VzXG4gKi9cbmV4cG9ydCBjbGFzcyBCcm9hZGNhc3RNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBicm9hZGNhc3RIYW5kbGVyczogTWFwPHN0cmluZywgU2V0PChwYXlsb2FkOiBhbnkpID0+IHZvaWQ+PiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBjb25uZWN0aW9uczogTWFwPHN0cmluZywgU0RQUFBQcm90b2NvbD4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgbW91bnRlZEVuZHBvaW50czogU2V0PFNEUFBQUHJvdG9jb2w+ID0gbmV3IFNldCgpO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBnbG9iYWwgZGlzcGF0Y2hlciB0aGF0IGhhbmRsZXMgYWxsIG1lc3NhZ2UgdHlwZXNcbiAgICovXG4gIHByaXZhdGUgY3JlYXRlR2xvYmFsRGlzcGF0Y2hlckZvclR5cGUoYnJvYWRjYXN0VHlwZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIChwYXlsb2FkOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IGhhbmRsZXJzID0gdGhpcy5icm9hZGNhc3RIYW5kbGVycy5nZXQoYnJvYWRjYXN0VHlwZSk7XG4gICAgICBpZiAoaGFuZGxlcnMpIHtcbiAgICAgICAgZm9yIChjb25zdCBoYW5kbGVyIG9mIGhhbmRsZXJzKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGhhbmRsZXIocGF5bG9hZCk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGluIGJyb2FkY2FzdCBoYW5kbGVyIGZvciAke2Jyb2FkY2FzdFR5cGV9OmAsIGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gRm9yd2FyZCB0aGUgbWVzc2FnZSB0byBvdGhlciBjb25uZWN0aW9ucyBmb3Igc3RvcmUgdXBkYXRlcyBhbmQgbWVzaCBzdGF0ZSB1cGRhdGVzXG4gICAgICAvLyBUaGlzIGVuYWJsZXMgaW5kaXJlY3Qgc3luY2hyb25pemF0aW9uIHRocm91Z2ggaW50ZXJtZWRpYXRlIG5vZGVzXG4gICAgICBpZiAoKGJyb2FkY2FzdFR5cGUuc3RhcnRzV2l0aCgnc3RvcmU6dXBkYXRlOicpIHx8IGJyb2FkY2FzdFR5cGUgPT09ICdtZXNoOnN0YXRlOnVwZGF0ZScpICYmICFwYXlsb2FkLmZvcndhcmRlZCkge1xuICAgICAgICB0aGlzLmZvcndhcmRCcm9hZGNhc3QoYnJvYWRjYXN0VHlwZSwgcGF5bG9hZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3J3YXJkIGEgYnJvYWRjYXN0IG1lc3NhZ2UgdG8gYWxsIG90aGVyIGNvbm5lY3Rpb25zXG4gICAqIFRoaXMgZW5hYmxlcyBpbmRpcmVjdCBzeW5jaHJvbml6YXRpb24gdGhyb3VnaCBpbnRlcm1lZGlhdGUgbm9kZXNcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZm9yd2FyZEJyb2FkY2FzdChicm9hZGNhc3RUeXBlOiBzdHJpbmcsIHBheWxvYWQ6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBNYXJrIHRoZSBwYXlsb2FkIGFzIGZvcndhcmRlZCB0byBhdm9pZCBpbmZpbml0ZSBsb29wc1xuICAgICAgY29uc3QgZm9yd2FyZGVkUGF5bG9hZCA9IHsgLi4ucGF5bG9hZCwgZm9yd2FyZGVkOiB0cnVlIH07XG4gICAgICBcbiAgICAgIC8vIEdldCBhbGwgb3V0Z29pbmcgY29ubmVjdGlvbnNcbiAgICAgIGNvbnN0IG91dGdvaW5nQ29ubmVjdGlvbnM6IFNEUFBQUHJvdG9jb2xbXSA9IEFycmF5LmZyb20odGhpcy5jb25uZWN0aW9ucy52YWx1ZXMoKSk7XG4gICAgICBcbiAgICAgIC8vIEFsc28gaW5jbHVkZSBtb3VudGVkIGVuZHBvaW50cyBmb3IgYmlkaXJlY3Rpb25hbCBmb3J3YXJkaW5nXG4gICAgICAvLyBUaGlzIGFsbG93cyBzZXJ2ZXIgbm9kZXMgdG8gZm9yd2FyZCBtZXNzYWdlcyBiYWNrIHRvIHRoZWlyIGNsaWVudHNcbiAgICAgIGNvbnN0IGFsbEZvcndhcmRUYXJnZXRzOiBTRFBQUFByb3RvY29sW10gPSBbLi4ub3V0Z29pbmdDb25uZWN0aW9uc107XG4gICAgICBcbiAgICAgIFxuICAgICAgbGV0IG1vdW50ZWRFbmRwb2ludHNBZGRlZCA9IDA7XG4gICAgICBmb3IgKGNvbnN0IG1vdW50ZWRFbmRwb2ludCBvZiB0aGlzLm1vdW50ZWRFbmRwb2ludHMpIHtcbiAgICAgICAgaWYgKCFvdXRnb2luZ0Nvbm5lY3Rpb25zLmluY2x1ZGVzKG1vdW50ZWRFbmRwb2ludCkpIHtcbiAgICAgICAgICBhbGxGb3J3YXJkVGFyZ2V0cy5wdXNoKG1vdW50ZWRFbmRwb2ludCk7XG4gICAgICAgICAgbW91bnRlZEVuZHBvaW50c0FkZGVkKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHRoaXMubW91bnRlZEVuZHBvaW50cy5zaXplID09PSAwKSB7XG4gICAgICB9XG4gICAgICBcbiAgICAgIFxuICAgICAgLy8gRm9yd2FyZCB0byBhbGwgZW5kcG9pbnRzXG4gICAgICBjb25zdCBmb3J3YXJkUHJvbWlzZXMgPSBhbGxGb3J3YXJkVGFyZ2V0cy5tYXAoKGVuZHBvaW50LCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBlbmRwb2ludFR5cGUgPSBvdXRnb2luZ0Nvbm5lY3Rpb25zLmluY2x1ZGVzKGVuZHBvaW50KSA/ICdvdXRnb2luZycgOiAnbW91bnRlZCc7XG4gICAgICAgIHJldHVybiBlbmRwb2ludC5icm9hZGNhc3QoYnJvYWRjYXN0VHlwZSwgZm9yd2FyZGVkUGF5bG9hZCkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChmb3J3YXJkUHJvbWlzZXMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbQnJvYWRjYXN0TWFuYWdlcl0gRXJyb3IgZm9yd2FyZGluZyBicm9hZGNhc3Q6JywgZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBhIGJyb2FkY2FzdCBtZXNzYWdlIGhhbmRsZXJcbiAgICovXG4gIHJlZ2lzdGVySGFuZGxlcihicm9hZGNhc3RUeXBlOiBzdHJpbmcsIGhhbmRsZXI6IChwYXlsb2FkOiBhbnkpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuYnJvYWRjYXN0SGFuZGxlcnMuaGFzKGJyb2FkY2FzdFR5cGUpKSB7XG4gICAgICB0aGlzLmJyb2FkY2FzdEhhbmRsZXJzLnNldChicm9hZGNhc3RUeXBlLCBuZXcgU2V0KCkpO1xuICAgIH1cbiAgICB0aGlzLmJyb2FkY2FzdEhhbmRsZXJzLmdldChicm9hZGNhc3RUeXBlKSEuYWRkKGhhbmRsZXIpO1xuICAgIFxuICAgIC8vIFVwZGF0ZSBhbGwgY29ubmVjdGlvbnMgd2l0aCB0aGUgZGlzcGF0Y2hlciBmb3IgdGhpcyBicm9hZGNhc3QgdHlwZVxuICAgIGNvbnN0IGRpc3BhdGNoZXIgPSB0aGlzLmNyZWF0ZUdsb2JhbERpc3BhdGNoZXJGb3JUeXBlKGJyb2FkY2FzdFR5cGUpO1xuICAgIGZvciAoY29uc3QgY29ubmVjdGlvbiBvZiB0aGlzLmNvbm5lY3Rpb25zLnZhbHVlcygpKSB7XG4gICAgICBjb25uZWN0aW9uLnJlZ2lzdGVyQnJvYWRjYXN0SGFuZGxlcihicm9hZGNhc3RUeXBlLCBkaXNwYXRjaGVyKTtcbiAgICB9XG4gICAgXG4gICAgLy8gQWxzbyB1cGRhdGUgbW91bnRlZCBlbmRwb2ludHNcbiAgICBmb3IgKGNvbnN0IGVuZHBvaW50IG9mIHRoaXMubW91bnRlZEVuZHBvaW50cykge1xuICAgICAgZW5kcG9pbnQucmVnaXN0ZXJCcm9hZGNhc3RIYW5kbGVyKGJyb2FkY2FzdFR5cGUsIGRpc3BhdGNoZXIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXR1cCBicm9hZGNhc3QgaGFuZGxlcnMgZm9yIGEgbmV3IGNvbm5lY3Rpb25cbiAgICovXG4gIHNldHVwQ29ubmVjdGlvbkhhbmRsZXJzKGNvbm5lY3Rpb246IFNEUFBQUHJvdG9jb2wpOiB2b2lkIHtcbiAgICAvLyBSZWdpc3RlciBkaXNwYXRjaGVycyBmb3IgYWxsIGV4aXN0aW5nIGJyb2FkY2FzdCB0eXBlc1xuICAgIGZvciAoY29uc3QgYnJvYWRjYXN0VHlwZSBvZiB0aGlzLmJyb2FkY2FzdEhhbmRsZXJzLmtleXMoKSkge1xuICAgICAgY29uc3QgZGlzcGF0Y2hlciA9IHRoaXMuY3JlYXRlR2xvYmFsRGlzcGF0Y2hlckZvclR5cGUoYnJvYWRjYXN0VHlwZSk7XG4gICAgICBjb25uZWN0aW9uLnJlZ2lzdGVyQnJvYWRjYXN0SGFuZGxlcihicm9hZGNhc3RUeXBlLCBkaXNwYXRjaGVyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgY29ubmVjdGlvbiB0byB0aGUgYnJvYWRjYXN0IG1hbmFnZXJcbiAgICovXG4gIGFkZENvbm5lY3Rpb24obm9kZUlkOiBzdHJpbmcsIGNvbm5lY3Rpb246IFNEUFBQUHJvdG9jb2wpOiB2b2lkIHtcbiAgICB0aGlzLmNvbm5lY3Rpb25zLnNldChub2RlSWQsIGNvbm5lY3Rpb24pO1xuICAgIHRoaXMuc2V0dXBDb25uZWN0aW9uSGFuZGxlcnMoY29ubmVjdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgY29ubmVjdGlvbiBmcm9tIHRoZSBicm9hZGNhc3QgbWFuYWdlclxuICAgKi9cbiAgcmVtb3ZlQ29ubmVjdGlvbihub2RlSWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuY29ubmVjdGlvbnMuZGVsZXRlKG5vZGVJZCk7XG4gIH1cblxuICAvKipcbiAgICogQnJvYWRjYXN0IGEgbmFtZWQgbWVzc2FnZSB0byBhbGwgY29ubmVjdGVkIG5vZGVzIChleGNsdWRpbmcgc2VsZilcbiAgICovXG4gIGFzeW5jIGJyb2FkY2FzdChicm9hZGNhc3ROYW1lOiBzdHJpbmcsIHBheWxvYWQ6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGNvbm5lY3Rpb25zOiBTRFBQUFByb3RvY29sW10gPSBBcnJheS5mcm9tKHRoaXMuY29ubmVjdGlvbnMudmFsdWVzKCkpO1xuICAgIFxuICAgIC8vIEFsc28gaW5jbHVkZSBtb3VudGVkIGVuZHBvaW50cyBpZiB0aGV5IGV4aXN0IChmb3Igc2VydmVyIG5vZGVzKVxuICAgIGNvbnN0IGFsbEVuZHBvaW50czogU0RQUFBQcm90b2NvbFtdID0gWy4uLmNvbm5lY3Rpb25zXTtcbiAgICBsZXQgbW91bnRlZENvdW50ID0gMDtcbiAgICBmb3IgKGNvbnN0IG1vdW50ZWRFbmRwb2ludCBvZiB0aGlzLm1vdW50ZWRFbmRwb2ludHMpIHtcbiAgICAgIGlmICghY29ubmVjdGlvbnMuaW5jbHVkZXMobW91bnRlZEVuZHBvaW50KSkge1xuICAgICAgICBhbGxFbmRwb2ludHMucHVzaChtb3VudGVkRW5kcG9pbnQpO1xuICAgICAgICBtb3VudGVkQ291bnQrKztcbiAgICAgIH1cbiAgICB9XG4gICAgXG5cbiAgICAvLyBCcm9hZGNhc3QgdG8gYWxsIGVuZHBvaW50c1xuICAgIGNvbnN0IGJyb2FkY2FzdFByb21pc2VzID0gYWxsRW5kcG9pbnRzLm1hcChlbmRwb2ludCA9PiB7XG4gICAgICByZXR1cm4gZW5kcG9pbnQuYnJvYWRjYXN0KGJyb2FkY2FzdE5hbWUsIHBheWxvYWQpO1xuICAgIH0pO1xuXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoYnJvYWRjYXN0UHJvbWlzZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vdW50IGJyb2FkY2FzdCBoYW5kbGVycyB0byBhbiBlbmRwb2ludFxuICAgKi9cbiAgbW91bnRUbyhlbmRwb2ludDogU0RQUFBQcm90b2NvbCk6IHZvaWQge1xuICAgIC8vIFN0b3JlIHRoZSBtb3VudGVkIGVuZHBvaW50IGZvciBicm9hZGNhc3RpbmdcbiAgICB0aGlzLm1vdW50ZWRFbmRwb2ludHMuYWRkKGVuZHBvaW50KTtcbiAgICBcbiAgICAvLyBSZWdpc3RlciBkaXNwYXRjaGVycyBmb3IgYWxsIGV4aXN0aW5nIGJyb2FkY2FzdCB0eXBlc1xuICAgIGZvciAoY29uc3QgYnJvYWRjYXN0VHlwZSBvZiB0aGlzLmJyb2FkY2FzdEhhbmRsZXJzLmtleXMoKSkge1xuICAgICAgY29uc3QgZGlzcGF0Y2hlciA9IHRoaXMuY3JlYXRlR2xvYmFsRGlzcGF0Y2hlckZvclR5cGUoYnJvYWRjYXN0VHlwZSk7XG4gICAgICBlbmRwb2ludC5yZWdpc3RlckJyb2FkY2FzdEhhbmRsZXIoYnJvYWRjYXN0VHlwZSwgZGlzcGF0Y2hlcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgcmVnaXN0ZXJlZCBoYW5kbGVyIHR5cGVzXG4gICAqL1xuICBnZXRIYW5kbGVyVHlwZXMoKTogc3RyaW5nW10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuYnJvYWRjYXN0SGFuZGxlcnMua2V5cygpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBhbGwgaGFuZGxlcnMgYW5kIGNvbm5lY3Rpb25zXG4gICAqL1xuICBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLmJyb2FkY2FzdEhhbmRsZXJzLmNsZWFyKCk7XG4gICAgdGhpcy5jb25uZWN0aW9ucy5jbGVhcigpO1xuICAgIHRoaXMubW91bnRlZEVuZHBvaW50cy5jbGVhcigpO1xuICB9XG59IiwiaW1wb3J0IHsgU0RQUFBQcm90b2NvbCB9IGZyb20gJy4vTUNQL3NkcHBwLXByb3RvY29sLnRzJztcbmltcG9ydCB0eXBlIHsgR3JhcGhEZWZpbml0aW9uQ2xhc3MgfSBmcm9tICcuL0dyYXBoRGVmaW5pdGlvbi50cyc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcblxuLyoqXG4gKiBNYW5hZ2VzIGFjdGlvbiBpbXBsZW1lbnRhdGlvbiBhbmQgcm91dGluZyBmb3IgZ3JhcGggaW5zdGFuY2VzXG4gKi9cbmV4cG9ydCBjbGFzcyBBY3Rpb25NYW5hZ2VyIHtcbiAgcHJpdmF0ZSBhY3Rpb25IYW5kbGVyczogTWFwPHN0cmluZywgKHBhcmFtczogYW55LCBleHRyYTogYW55LCBzaWduYWw/OiBBYm9ydFNpZ25hbCkgPT4gQXN5bmNJdGVyYWJsZTxhbnk+IHwgUHJvbWlzZTxhbnk+PiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBkZWZpbml0aW9uOiBHcmFwaERlZmluaXRpb25DbGFzcztcbiAgcHJpdmF0ZSBjdXJyZW50Tm9kZUlkOiBzdHJpbmc7XG4gIHByaXZhdGUgZ2V0Q29ubmVjdGlvbjogKG5vZGVJZDogc3RyaW5nKSA9PiBTRFBQUFByb3RvY29sIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGRlZmluaXRpb246IEdyYXBoRGVmaW5pdGlvbkNsYXNzLCBcbiAgICBjdXJyZW50Tm9kZUlkOiBzdHJpbmcsXG4gICAgZ2V0Q29ubmVjdGlvbjogKG5vZGVJZDogc3RyaW5nKSA9PiBTRFBQUFByb3RvY29sIHwgdW5kZWZpbmVkXG4gICkge1xuICAgIHRoaXMuZGVmaW5pdGlvbiA9IGRlZmluaXRpb247XG4gICAgdGhpcy5jdXJyZW50Tm9kZUlkID0gY3VycmVudE5vZGVJZDtcbiAgICB0aGlzLmdldENvbm5lY3Rpb24gPSBnZXRDb25uZWN0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIEltcGxlbWVudCBhbiBhY3Rpb24gaGFuZGxlclxuICAgKi9cbiAgaW1wbGVtZW50QWN0aW9uPFRBY3Rpb25OYW1lIGV4dGVuZHMgc3RyaW5nPihcbiAgICBhY3Rpb25OYW1lOiBUQWN0aW9uTmFtZSxcbiAgICBoYW5kbGVyOiAoXG4gICAgICBwYXJhbXM6IGFueSxcbiAgICAgIGV4dHJhOiBhbnksXG4gICAgICBzaWduYWw/OiBBYm9ydFNpZ25hbFxuICAgICkgPT4gQXN5bmNJdGVyYWJsZTxhbnk+IHwgUHJvbWlzZTxhbnk+XG4gICk6IHZvaWQge1xuICAgIC8vIFZhbGlkYXRlIHRoYXQgdGhlIGFjdGlvbiBleGlzdHMgaW4gdGhlIGN1cnJlbnQgbm9kZSdzIGRlZmluaXRpb25cbiAgICBjb25zdCBub2RlRGVmID0gdGhpcy5kZWZpbml0aW9uLmdldE5vZGUodGhpcy5jdXJyZW50Tm9kZUlkKTtcbiAgICBpZiAoIW5vZGVEZWYpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm9kZSBkZWZpbml0aW9uIG5vdCBmb3VuZCBmb3IgJHt0aGlzLmN1cnJlbnROb2RlSWR9YCk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGFjdGlvbkRlZiA9IG5vZGVEZWYuYWN0aW9uc1thY3Rpb25OYW1lIGFzIHN0cmluZ107XG4gICAgaWYgKCFhY3Rpb25EZWYpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQWN0aW9uICR7U3RyaW5nKGFjdGlvbk5hbWUpfSBub3QgZm91bmQgZm9yIG5vZGUgJHt0aGlzLmN1cnJlbnROb2RlSWR9YCk7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgaGFuZGxlciB0eXBlIGJhc2VkIG9uIHN0cmVhbSBwcm9wZXJ0eVxuICAgIHRoaXMudmFsaWRhdGVIYW5kbGVyVHlwZShhY3Rpb25OYW1lIGFzIHN0cmluZywgaGFuZGxlciwgYWN0aW9uRGVmKTtcblxuICAgIC8vIFN0b3JlIHRoZSBvcmlnaW5hbCBoYW5kbGVyIC0gbW91bnRUbyB3aWxsIGhhbmRsZSB0aGUgd3JhcHBpbmdcbiAgICB0aGlzLmFjdGlvbkhhbmRsZXJzLnNldChhY3Rpb25OYW1lIGFzIHN0cmluZywgaGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhdGUgdGhhdCB0aGUgaGFuZGxlciBtYXRjaGVzIHRoZSBleHBlY3RlZCB0eXBlIGJhc2VkIG9uIHN0cmVhbSBwcm9wZXJ0eVxuICAgKi9cbiAgcHJpdmF0ZSB2YWxpZGF0ZUhhbmRsZXJUeXBlKFxuICAgIGFjdGlvbk5hbWU6IHN0cmluZyxcbiAgICBoYW5kbGVyOiAocGFyYW1zOiBhbnksIGV4dHJhOiBhbnksIHNpZ25hbD86IEFib3J0U2lnbmFsKSA9PiBBc3luY0l0ZXJhYmxlPGFueT4gfCBQcm9taXNlPGFueT4sXG4gICAgYWN0aW9uRGVmOiBhbnlcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgaXNTdHJlYW1pbmcgPSBhY3Rpb25EZWYuc3RyZWFtID09PSB0cnVlO1xuICAgIFxuICAgIC8vIENyZWF0ZSBhIHRlc3QgY2FsbCB0byBkZXRlcm1pbmUgdGhlIGhhbmRsZXIncyByZXR1cm4gdHlwZVxuICAgIGNvbnN0IHRlc3RIYW5kbGVyID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gaGFuZGxlcih7fSwge30pO1xuICAgICAgICBcbiAgICAgICAgaWYgKGlzU3RyZWFtaW5nKSB7XG4gICAgICAgICAgLy8gRm9yIHN0cmVhbWluZyBhY3Rpb25zLCBoYW5kbGVyIG11c3QgcmV0dXJuIEFzeW5jSXRlcmFibGUgKGFzeW5jIGdlbmVyYXRvcilcbiAgICAgICAgICBpZiAoIXJlc3VsdCB8fCB0eXBlb2YgcmVzdWx0ICE9PSAnb2JqZWN0JyB8fCAhKFN5bWJvbC5hc3luY0l0ZXJhdG9yIGluIHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQWN0aW9uICcke2FjdGlvbk5hbWV9JyBoYXMgc3RyZWFtOiB0cnVlIGJ1dCBoYW5kbGVyIGRvZXMgbm90IHJldHVybiBBc3luY0l0ZXJhYmxlLiBVc2UgYXN5bmMgZnVuY3Rpb24qIGZvciBzdHJlYW1pbmcgYWN0aW9ucy5gKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gRm9yIG5vbi1zdHJlYW1pbmcgYWN0aW9ucywgaGFuZGxlciBzaG91bGQgcmV0dXJuIFByb21pc2VcbiAgICAgICAgICBpZiAocmVzdWx0ICYmIHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnICYmIFN5bWJvbC5hc3luY0l0ZXJhdG9yIGluIHJlc3VsdCkge1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gRG9uJ3QgdmFsaWRhdGUgZHVyaW5nIHRoZSB0ZXN0IGNhbGwgLSBqdXN0IGNoZWNrIHRoZSBzdHJ1Y3R1cmVcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEltcGxlbWVudCBhbiBpbnRlcm5hbCBhY3Rpb24gaGFuZGxlciB3aXRob3V0IHZhbGlkYXRpb24gYWdhaW5zdCBncmFwaCBkZWZpbml0aW9uXG4gICAqIFRoaXMgaXMgdXNlZCBmb3Igc3lzdGVtLWxldmVsIGFjdGlvbnMgbGlrZSBzdG9yZSBzeW5jaHJvbml6YXRpb25cbiAgICovXG4gIGltcGxlbWVudEludGVybmFsQWN0aW9uPFRBY3Rpb25OYW1lIGV4dGVuZHMgc3RyaW5nPihcbiAgICBhY3Rpb25OYW1lOiBUQWN0aW9uTmFtZSxcbiAgICBoYW5kbGVyOiAoXG4gICAgICBwYXJhbXM6IGFueSxcbiAgICAgIGV4dHJhOiBhbnksXG4gICAgICBzaWduYWw/OiBBYm9ydFNpZ25hbFxuICAgICkgPT4gQXN5bmNJdGVyYWJsZTxhbnk+IHwgUHJvbWlzZTxhbnk+XG4gICk6IHZvaWQge1xuICAgIC8vIFN0b3JlIHRoZSBoYW5kbGVyIHdpdGhvdXQgdmFsaWRhdGlvbiAtIGludGVybmFsIGFjdGlvbnMgZG9uJ3QgbmVlZCB0byBiZSBpbiBncmFwaCBkZWZcbiAgICB0aGlzLmFjdGlvbkhhbmRsZXJzLnNldChhY3Rpb25OYW1lIGFzIHN0cmluZywgaGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICogTW91bnQgYWN0aW9uIGhhbmRsZXJzIHRvIGFuIGVuZHBvaW50XG4gICAqL1xuICBtb3VudFRvKGVuZHBvaW50OiBTRFBQUFByb3RvY29sKTogdm9pZCB7XG4gICAgLy8gUmVnaXN0ZXIgYWxsIGFjdGlvbiBoYW5kbGVycyB3aXRoIHRoZSBlbmRwb2ludFxuICAgIGZvciAoY29uc3QgW2FjdGlvbk5hbWUsIGhhbmRsZXJdIG9mIHRoaXMuYWN0aW9uSGFuZGxlcnMpIHtcbiAgICAgIC8vIEdldCBhY3Rpb24gZGVmaW5pdGlvbiB0byBjaGVjayBpZiBpdCdzIHN0cmVhbWluZyBvciBub3RcbiAgICAgIGNvbnN0IG5vZGVEZWYgPSB0aGlzLmRlZmluaXRpb24uZ2V0Tm9kZSh0aGlzLmN1cnJlbnROb2RlSWQpO1xuICAgICAgY29uc3QgYWN0aW9uRGVmID0gbm9kZURlZj8uYWN0aW9uc1thY3Rpb25OYW1lXTtcbiAgICAgIGNvbnN0IGlzU3RyZWFtaW5nID0gYWN0aW9uRGVmPy5zdHJlYW0gPT09IHRydWU7XG5cbiAgICAgIGlmICghaXNTdHJlYW1pbmcpIHtcbiAgICAgICAgLy8gRm9yIG5vbi1zdHJlYW1pbmcgYWN0aW9ucywgcmVnaXN0ZXIgYSBkaXJlY3QgcmVxdWVzdCBoYW5kbGVyXG4gICAgICAgIHRoaXMucmVnaXN0ZXJEaXJlY3RSZXF1ZXN0SGFuZGxlcihlbmRwb2ludCwgYWN0aW9uTmFtZSwgaGFuZGxlcik7XG4gICAgICB9XG5cbiAgICAgIC8vIEFsd2F5cyByZWdpc3RlciB0aGUgc3RyZWFtaW5nIGFjdGlvbiBoYW5kbGVyIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gICAgICBjb25zdCBhY3Rpb25TY2hlbWEgPSB7XG4gICAgICAgIHNoYXBlOiB7XG4gICAgICAgICAgYWN0aW9uOiB7IHZhbHVlOiBhY3Rpb25OYW1lIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gRW5zdXJlIGhhbmRsZXIgcmV0dXJucyBBc3luY0l0ZXJhYmxlXG4gICAgICAvLyBOb3RlOiBNQ1Agc2VuZHMgeyBhY3Rpb246IHN0cmluZywgZGF0YTogYW55IH0sIGJ1dCB3ZSB3YW50IHRvIHBhc3Mgb25seSB0aGUgZGF0YSBwYXJ0XG4gICAgICBjb25zdCBhc3luY0hhbmRsZXIgPSBhc3luYyBmdW5jdGlvbiogKHBhcmFtczogYW55LCBleHRyYTogYW55LCBzaWduYWw/OiBBYm9ydFNpZ25hbCkge1xuICAgICAgICBjb25zdCBhY3R1YWxQYXJhbXMgPSBwYXJhbXMuZGF0YSB8fCBwYXJhbXM7IC8vIEV4dHJhY3QgZGF0YSBwYXJ0IGZyb20gTUNQIHJlcXVlc3RcbiAgICAgICAgXG4gICAgICAgIC8vIENhbGwgdGhlIGhhbmRsZXJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gaGFuZGxlcihhY3R1YWxQYXJhbXMsIGV4dHJhLCBzaWduYWwpO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgcmVzdWx0IGlzIGFuIGFzeW5jIGl0ZXJhdG9yIChhc3luYyBnZW5lcmF0b3IpXG4gICAgICAgIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcgJiYgU3ltYm9sLmFzeW5jSXRlcmF0b3IgaW4gcmVzdWx0ICYmIHR5cGVvZiByZXN1bHRbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgLy8gRm9yIGFzeW5jIGdlbmVyYXRvcnMsIHlpZWxkIGFsbCBpdGVtcyAoY29udmVydGluZyB1bmRlZmluZWQgdG8ge30pXG4gICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBpdGVtIG9mIHJlc3VsdCBhcyBBc3luY0l0ZXJhYmxlPGFueT4pIHtcbiAgICAgICAgICAgIHlpZWxkIGl0ZW0gPT09IHVuZGVmaW5lZCA/IHt9IDogaXRlbTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gRm9yIHJlZ3VsYXIgZnVuY3Rpb25zLCBhd2FpdCB0aGUgcmVzdWx0XG4gICAgICAgICAgY29uc3QgYXdhaXRlZFJlc3VsdCA9IGF3YWl0IHJlc3VsdDtcbiAgICAgICAgICBpZiAoYXdhaXRlZFJlc3VsdCAmJiB0eXBlb2YgYXdhaXRlZFJlc3VsdFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIC8vIElmIHJlc3VsdCBpcyBhbiBhc3luYyBpdGVyYWJsZSwgeWllbGQgYWxsIGl0ZW1zIChjb252ZXJ0aW5nIHVuZGVmaW5lZCB0byB7fSlcbiAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiBhd2FpdGVkUmVzdWx0KSB7XG4gICAgICAgICAgICAgIHlpZWxkIGl0ZW0gPT09IHVuZGVmaW5lZCA/IHt9IDogaXRlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgcmVzdWx0IGlzIGEgc2luZ2xlIHZhbHVlLCB5aWVsZCBpdCBvbmNlXG4gICAgICAgICAgICAvLyBJZiB0aGUgcmVzdWx0IGlzIHVuZGVmaW5lZCwgeWllbGQgZW1wdHkgb2JqZWN0XG4gICAgICAgICAgICB5aWVsZCBhd2FpdGVkUmVzdWx0ID09PSB1bmRlZmluZWQgPyB7fSA6IGF3YWl0ZWRSZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgXG4gICAgICBlbmRwb2ludC5yZWdpc3RlckFjdGlvbkhhbmRsZXIoYWN0aW9uU2NoZW1hIGFzIGFueSwgYXN5bmNIYW5kbGVyKTtcbiAgICB9XG5cbiAgICAvLyBSZWdpc3RlciBwcm94eSBmb3J3YXJkIGhhbmRsZXIgZm9yIGluZGlyZWN0IGFjdGlvbiBjYWxsc1xuICAgIHRoaXMucmVnaXN0ZXJQcm94eUZvcndhcmRIYW5kbGVyKGVuZHBvaW50KTtcbiAgICBcbiAgICAvLyBSZWdpc3RlciBkaXJlY3QgcmVxdWVzdCBoYW5kbGVyXG4gICAgdGhpcy5yZWdpc3RlckRpcmVjdFJlcXVlc3RIYW5kbGVyR2VuZXJpYyhlbmRwb2ludCk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgdGhlIHByb3h5IGZvcndhcmQgaGFuZGxlciBmb3IgaW5kaXJlY3QgYWN0aW9uIGNhbGxzXG4gICAqL1xuICBwcml2YXRlIHJlZ2lzdGVyUHJveHlGb3J3YXJkSGFuZGxlcihlbmRwb2ludDogU0RQUFBQcm90b2NvbCk6IHZvaWQge1xuICAgIGNvbnN0IHByb3h5Rm9yd2FyZFNjaGVtYSA9IHtcbiAgICAgIHNoYXBlOiB7XG4gICAgICAgIGFjdGlvbjogeyB2YWx1ZTogJ19fcHJveHlfZm9yd2FyZCcgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBwcm94eUZvcndhcmRIYW5kbGVyID0gYXN5bmMgZnVuY3Rpb24qIChwYXJhbXM6IGFueSwgZXh0cmE6IGFueSwgc2lnbmFsPzogQWJvcnRTaWduYWwpIHtcbiAgICAgIC8vIEV4dHJhY3QgZGF0YSBmcm9tIE1DUCByZXF1ZXN0IHN0cnVjdHVyZVxuICAgICAgY29uc3QgcmVxdWVzdERhdGEgPSBwYXJhbXMuZGF0YSB8fCBwYXJhbXM7XG4gICAgICBjb25zdCB7IHRhcmdldE5vZGVJZCwgdGFyZ2V0QWN0aW9uLCB0YXJnZXREYXRhLCBmb3J3YXJkUGF0aCB9ID0gcmVxdWVzdERhdGE7XG4gICAgICBcbiAgICAgIGlmICghZm9yd2FyZFBhdGggfHwgZm9yd2FyZFBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBmb3J3YXJkIHBhdGggZm9yIHByb3h5IGFjdGlvbicpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBuZXh0Tm9kZUlkID0gZm9yd2FyZFBhdGhbMF07XG4gICAgICBjb25zdCByZW1haW5pbmdQYXRoID0gZm9yd2FyZFBhdGguc2xpY2UoMSk7XG5cbiAgICAgIC8vIElmIHRoaXMgaXMgdGhlIGZpbmFsIGRlc3RpbmF0aW9uXG4gICAgICBpZiAocmVtYWluaW5nUGF0aC5sZW5ndGggPT09IDAgJiYgbmV4dE5vZGVJZCA9PT0gc2VsZi5jdXJyZW50Tm9kZUlkKSB7XG4gICAgICAgIC8vIEV4ZWN1dGUgdGhlIGFjdGlvbiBsb2NhbGx5XG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSBzZWxmLmFjdGlvbkhhbmRsZXJzLmdldCh0YXJnZXRBY3Rpb24pO1xuICAgICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFjdGlvbiAke3RhcmdldEFjdGlvbn0gbm90IGZvdW5kIG9uIG5vZGUgJHtzZWxmLmN1cnJlbnROb2RlSWR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGhhbmRsZXIodGFyZ2V0RGF0YSwgZXh0cmEsIHNpZ25hbCk7XG4gICAgICAgIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcgJiYgU3ltYm9sLmFzeW5jSXRlcmF0b3IgaW4gcmVzdWx0ICYmIHR5cGVvZiByZXN1bHRbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBpdGVtIG9mIHJlc3VsdCBhcyBBc3luY0l0ZXJhYmxlPGFueT4pIHtcbiAgICAgICAgICAgIHlpZWxkIGl0ZW0gPT09IHVuZGVmaW5lZCA/IHt9IDogaXRlbTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgYXdhaXRlZFJlc3VsdCA9IGF3YWl0IHJlc3VsdDtcbiAgICAgICAgICAvLyBJZiB0aGUgcmVzdWx0IGlzIHVuZGVmaW5lZCwgeWllbGQgZW1wdHkgb2JqZWN0XG4gICAgICAgICAgeWllbGQgYXdhaXRlZFJlc3VsdCA9PT0gdW5kZWZpbmVkID8ge30gOiBhd2FpdGVkUmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gRm9yd2FyZCB0byBuZXh0IG5vZGUgaW4gcGF0aFxuICAgICAgaWYgKG5leHROb2RlSWQgPT09IHNlbGYuY3VycmVudE5vZGVJZCAmJiByZW1haW5pbmdQYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgbmV4dEhvcE5vZGVJZCA9IHJlbWFpbmluZ1BhdGhbMF07XG4gICAgICAgIGNvbnN0IG5leHRIb3BDb25uZWN0aW9uID0gc2VsZi5nZXRDb25uZWN0aW9uKG5leHRIb3BOb2RlSWQpO1xuICAgICAgICBcbiAgICAgICAgaWYgKG5leHRIb3BDb25uZWN0aW9uKSB7XG4gICAgICAgICAgY29uc3QgZm9yd2FyZGVkQWN0aW9uID0gYXdhaXQgbmV4dEhvcENvbm5lY3Rpb24uYWN0aW9uKHtcbiAgICAgICAgICAgIGFjdGlvbjogJ19fcHJveHlfZm9yd2FyZCcsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIHRhcmdldE5vZGVJZCxcbiAgICAgICAgICAgICAgdGFyZ2V0QWN0aW9uLFxuICAgICAgICAgICAgICB0YXJnZXREYXRhLFxuICAgICAgICAgICAgICBmb3J3YXJkUGF0aDogcmVtYWluaW5nUGF0aFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIHt9IGFzIGFueSwgc2lnbmFsKTtcblxuICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiBmb3J3YXJkZWRBY3Rpb24pIHtcbiAgICAgICAgICAgIHlpZWxkIGl0ZW0gPT09IHVuZGVmaW5lZCA/IHt9IDogaXRlbTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBmb3J3YXJkIHRvIG5vZGUgJHtuZXh0SG9wTm9kZUlkfSAtIG5vIGNvbm5lY3Rpb24gYXZhaWxhYmxlYCk7XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBwcm94eSBmb3J3YXJkaW5nOiBjdXJyZW50IG5vZGUgJHtzZWxmLmN1cnJlbnROb2RlSWR9IG5vdCBpbiBwYXRoICR7Zm9yd2FyZFBhdGh9YCk7XG4gICAgfTtcblxuICAgIGVuZHBvaW50LnJlZ2lzdGVyQWN0aW9uSGFuZGxlcihwcm94eUZvcndhcmRTY2hlbWEgYXMgYW55LCBwcm94eUZvcndhcmRIYW5kbGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIHJlZ2lzdGVyZWQgYWN0aW9uIG5hbWVzXG4gICAqL1xuICBnZXRSZWdpc3RlcmVkQWN0aW9ucygpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5hY3Rpb25IYW5kbGVycy5rZXlzKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGFuIGFjdGlvbiBpcyByZWdpc3RlcmVkXG4gICAqL1xuICBoYXNBY3Rpb24oYWN0aW9uTmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuYWN0aW9uSGFuZGxlcnMuaGFzKGFjdGlvbk5hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhY3Rpb24gaGFuZGxlciBieSBuYW1lIChmb3IgaW50ZXJuYWwgdXNlIGJ5IEdyYXBoSW5zdGFuY2UpXG4gICAqL1xuICBnZXRIYW5kbGVyKGFjdGlvbk5hbWU6IHN0cmluZyk6ICgocGFyYW1zOiBhbnksIGV4dHJhOiBhbnksIHNpZ25hbD86IEFib3J0U2lnbmFsKSA9PiBBc3luY0l0ZXJhYmxlPGFueT4gfCBQcm9taXNlPGFueT4pIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5hY3Rpb25IYW5kbGVycy5nZXQoYWN0aW9uTmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgYWxsIGFjdGlvbiBoYW5kbGVyc1xuICAgKi9cbiAgY2xlYXIoKTogdm9pZCB7XG4gICAgdGhpcy5hY3Rpb25IYW5kbGVycy5jbGVhcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGRpcmVjdCByZXF1ZXN0IGhhbmRsZXIgZm9yIGEgc3BlY2lmaWMgYWN0aW9uIChub24tc3RyZWFtaW5nKVxuICAgKi9cbiAgcHJpdmF0ZSByZWdpc3RlckRpcmVjdFJlcXVlc3RIYW5kbGVyKFxuICAgIGVuZHBvaW50OiBTRFBQUFByb3RvY29sLCBcbiAgICBhY3Rpb25OYW1lOiBzdHJpbmcsIFxuICAgIGhhbmRsZXI6IChwYXJhbXM6IGFueSwgZXh0cmE6IGFueSwgc2lnbmFsPzogQWJvcnRTaWduYWwpID0+IEFzeW5jSXRlcmFibGU8YW55PiB8IFByb21pc2U8YW55PlxuICApOiB2b2lkIHtcbiAgICAvLyBUaGlzIGlzIGhhbmRsZWQgYnkgdGhlIGdlbmVyaWMgZGlyZWN0IHJlcXVlc3QgaGFuZGxlclxuICAgIC8vIEluZGl2aWR1YWwgYWN0aW9ucyBkb24ndCBuZWVkIHNlcGFyYXRlIGhhbmRsZXJzIHNpbmNlIHdlIHJvdXRlIGJ5IGFjdGlvbiBuYW1lXG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgZ2VuZXJpYyBkaXJlY3QgcmVxdWVzdCBoYW5kbGVyIGZvciBhbGwgbm9uLXN0cmVhbWluZyBhY3Rpb25zXG4gICAqL1xuICBwcml2YXRlIHJlZ2lzdGVyRGlyZWN0UmVxdWVzdEhhbmRsZXJHZW5lcmljKGVuZHBvaW50OiBTRFBQUFByb3RvY29sKTogdm9pZCB7XG4gICAgY29uc3QgZGlyZWN0UmVxdWVzdFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICAgIG1ldGhvZDogei5saXRlcmFsKCdzZHBwcC9kaXJlY3RSZXF1ZXN0JyksXG4gICAgICBwYXJhbXM6IHoub2JqZWN0KHtcbiAgICAgICAgYWN0aW9uOiB6LnN0cmluZygpLFxuICAgICAgICBkYXRhOiB6LmFueSgpLm9wdGlvbmFsKClcbiAgICAgIH0pXG4gICAgfSk7XG5cbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBlbmRwb2ludC5yZWdpc3RlclJlcXVlc3RIYW5kbGVyKGRpcmVjdFJlcXVlc3RTY2hlbWEsIGFzeW5jIChyZXF1ZXN0OiBhbnksIGV4dHJhOiBhbnkpID0+IHtcbiAgICAgIGNvbnN0IHsgYWN0aW9uLCBkYXRhIH0gPSByZXF1ZXN0LnBhcmFtcztcbiAgICAgIFxuICAgICAgLy8gSGFuZGxlIHByb3h5IGZvcndhcmRpbmcgZm9yIGRpcmVjdCByZXF1ZXN0c1xuICAgICAgaWYgKGFjdGlvbiA9PT0gJ19fcHJveHlfZm9yd2FyZCcpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHNlbGYuaGFuZGxlRGlyZWN0UHJveHlGb3J3YXJkKGRhdGEsIGV4dHJhKTtcbiAgICAgIH1cblxuICAgICAgLy8gSGFuZGxlIHJlZ3VsYXIgZGlyZWN0IGFjdGlvbiBjYWxsc1xuICAgICAgY29uc3QgYWN0aW9uSGFuZGxlciA9IHNlbGYuYWN0aW9uSGFuZGxlcnMuZ2V0KGFjdGlvbik7XG4gICAgICBpZiAoIWFjdGlvbkhhbmRsZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBY3Rpb24gJHthY3Rpb259IG5vdCBmb3VuZCBvbiBub2RlICR7c2VsZi5jdXJyZW50Tm9kZUlkfWApO1xuICAgICAgfVxuXG4gICAgICAvLyBjb25zb2xlLmxvZygnYWN0aW9uIGNhbGxlZCcsIGFjdGlvbiwgJ3RvOicsIHNlbGYuY3VycmVudE5vZGVJZCwgJ2RhdGE6JywgZGF0YSk7XG4gICAgICAvLyBDYWxsIHRoZSBoYW5kbGVyIGFuZCByZXR1cm4gdGhlIHJlc3VsdCBkaXJlY3RseSAobm8gc3RyZWFtaW5nKVxuICAgICAgY29uc3QgcmVzdWx0ID0gYWN0aW9uSGFuZGxlcihkYXRhLCBleHRyYSk7XG4gICAgICBcbiAgICAgIC8vIElmIGl0J3MgYSBwcm9taXNlLCBhd2FpdCBpdFxuICAgICAgY29uc3QgYXdhaXRlZFJlc3VsdCA9IGF3YWl0IHJlc3VsdDtcbiAgICAgIC8vIElmIHRoZSByZXN1bHQgaXMgdW5kZWZpbmVkLCByZXR1cm4gZW1wdHkgb2JqZWN0XG4gICAgICByZXR1cm4gYXdhaXRlZFJlc3VsdCA9PT0gdW5kZWZpbmVkID8ge30gOiBhd2FpdGVkUmVzdWx0O1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBkaXJlY3QgcHJveHkgZm9yd2FyZCBmb3Igbm9uLXN0cmVhbWluZyBhY3Rpb25zXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGhhbmRsZURpcmVjdFByb3h5Rm9yd2FyZChyZXF1ZXN0RGF0YTogYW55LCBleHRyYTogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICBjb25zdCB7IHRhcmdldE5vZGVJZCwgdGFyZ2V0QWN0aW9uLCB0YXJnZXREYXRhLCBmb3J3YXJkUGF0aCB9ID0gcmVxdWVzdERhdGE7XG4gICAgXG4gICAgaWYgKCFmb3J3YXJkUGF0aCB8fCBmb3J3YXJkUGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBmb3J3YXJkIHBhdGggZm9yIHByb3h5IGFjdGlvbicpO1xuICAgIH1cblxuICAgIGNvbnN0IG5leHROb2RlSWQgPSBmb3J3YXJkUGF0aFswXTtcbiAgICBjb25zdCByZW1haW5pbmdQYXRoID0gZm9yd2FyZFBhdGguc2xpY2UoMSk7XG5cbiAgICAvLyBJZiB0aGlzIGlzIHRoZSBmaW5hbCBkZXN0aW5hdGlvblxuICAgIGlmIChyZW1haW5pbmdQYXRoLmxlbmd0aCA9PT0gMCAmJiBuZXh0Tm9kZUlkID09PSB0aGlzLmN1cnJlbnROb2RlSWQpIHtcbiAgICAgIC8vIEV4ZWN1dGUgdGhlIGFjdGlvbiBsb2NhbGx5XG4gICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5hY3Rpb25IYW5kbGVycy5nZXQodGFyZ2V0QWN0aW9uKTtcbiAgICAgIGlmICghaGFuZGxlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFjdGlvbiAke3RhcmdldEFjdGlvbn0gbm90IGZvdW5kIG9uIG5vZGUgJHt0aGlzLmN1cnJlbnROb2RlSWR9YCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdhY3Rpb24gY2FsbGVkJywgdGFyZ2V0QWN0aW9uLCAndG86JywgdGhpcy5jdXJyZW50Tm9kZUlkLCAndG86JywgbmV4dE5vZGVJZCwgJ2RhdGE6JywgdGFyZ2V0RGF0YSk7XG4gICAgICBjb25zdCByZXN1bHQgPSBoYW5kbGVyKHRhcmdldERhdGEsIGV4dHJhKTtcbiAgICAgIGNvbnN0IGF3YWl0ZWRSZXN1bHQgPSBhd2FpdCByZXN1bHQ7XG4gICAgICAvLyBJZiB0aGUgcmVzdWx0IGlzIHVuZGVmaW5lZCwgcmV0dXJuIGVtcHR5IG9iamVjdFxuICAgICAgcmV0dXJuIGF3YWl0ZWRSZXN1bHQgPT09IHVuZGVmaW5lZCA/IHt9IDogYXdhaXRlZFJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBGb3J3YXJkIHRvIG5leHQgbm9kZSBpbiBwYXRoXG4gICAgaWYgKG5leHROb2RlSWQgPT09IHRoaXMuY3VycmVudE5vZGVJZCAmJiByZW1haW5pbmdQYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IG5leHRIb3BOb2RlSWQgPSByZW1haW5pbmdQYXRoWzBdO1xuICAgICAgY29uc3QgbmV4dEhvcENvbm5lY3Rpb24gPSB0aGlzLmdldENvbm5lY3Rpb24obmV4dEhvcE5vZGVJZCk7XG4gICAgICBcbiAgICAgIGlmIChuZXh0SG9wQ29ubmVjdGlvbikge1xuICAgICAgICByZXR1cm4gYXdhaXQgbmV4dEhvcENvbm5lY3Rpb24ucmVxdWVzdChcbiAgICAgICAgICAnc2RwcHAvZGlyZWN0UmVxdWVzdCcsXG4gICAgICAgICAge1xuICAgICAgICAgICAgYWN0aW9uOiAnX19wcm94eV9mb3J3YXJkJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgdGFyZ2V0Tm9kZUlkLFxuICAgICAgICAgICAgICB0YXJnZXRBY3Rpb24sXG4gICAgICAgICAgICAgIHRhcmdldERhdGEsXG4gICAgICAgICAgICAgIGZvcndhcmRQYXRoOiByZW1haW5pbmdQYXRoXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB6LmFueSgpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGZvcndhcmQgdG8gbm9kZSAke25leHRIb3BOb2RlSWR9IC0gbm8gY29ubmVjdGlvbiBhdmFpbGFibGVgKTtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgcHJveHkgZm9yd2FyZGluZzogY3VycmVudCBub2RlICR7dGhpcy5jdXJyZW50Tm9kZUlkfSBub3QgaW4gcGF0aCAke2ZvcndhcmRQYXRofWApO1xuICB9XG59IiwiaW1wb3J0IHsgU0RQUFBQcm90b2NvbCB9IGZyb20gJy4vTUNQL3NkcHBwLXByb3RvY29sLnRzJztcbmltcG9ydCB0eXBlIHsgR3JhcGhEZWZpbml0aW9uQ2xhc3MgfSBmcm9tICcuL0dyYXBoRGVmaW5pdGlvbi50cyc7XG5pbXBvcnQgdHlwZSB7IENvbm5lY3Rpb25GYWN0b3J5IH0gZnJvbSAnLi90eXBlcy50cyc7XG5pbXBvcnQgeyBCcm9hZGNhc3RNYW5hZ2VyIH0gZnJvbSAnLi9Ccm9hZGNhc3RNYW5hZ2VyLnRzJztcbmltcG9ydCB7IEFjdGlvbk1hbmFnZXIgfSBmcm9tICcuL0FjdGlvbk1hbmFnZXIudHMnO1xuXG4vKipcbiAqIE1hbmFnZXMgY29ubmVjdGlvbnMgYmV0d2VlbiBub2RlcyBpbiBhIGdyYXBoIGluc3RhbmNlXG4gKi9cbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uTWFuYWdlciB7XG4gIHByaXZhdGUgZGVmaW5pdGlvbjogR3JhcGhEZWZpbml0aW9uQ2xhc3M7XG4gIHByaXZhdGUgY3VycmVudE5vZGVJZDogc3RyaW5nO1xuICBwcml2YXRlIGNvbm5lY3Rpb25zOiBNYXA8c3RyaW5nLCBTRFBQUFByb3RvY29sPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBicm9hZGNhc3RNYW5hZ2VyOiBCcm9hZGNhc3RNYW5hZ2VyO1xuICBwcml2YXRlIGFjdGlvbk1hbmFnZXI6IEFjdGlvbk1hbmFnZXI7XG4gIHByaXZhdGUgc2V0dXBTdG9yZUJpbmRpbmc6IChub2RlSWQ6IHN0cmluZywgY29ubmVjdGlvbjogU0RQUFBQcm90b2NvbCkgPT4gdm9pZDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBkZWZpbml0aW9uOiBHcmFwaERlZmluaXRpb25DbGFzcyxcbiAgICBjdXJyZW50Tm9kZUlkOiBzdHJpbmcsXG4gICAgYnJvYWRjYXN0TWFuYWdlcjogQnJvYWRjYXN0TWFuYWdlcixcbiAgICBhY3Rpb25NYW5hZ2VyOiBBY3Rpb25NYW5hZ2VyLFxuICAgIHNldHVwU3RvcmVCaW5kaW5nOiAobm9kZUlkOiBzdHJpbmcsIGNvbm5lY3Rpb246IFNEUFBQUHJvdG9jb2wpID0+IHZvaWRcbiAgKSB7XG4gICAgdGhpcy5kZWZpbml0aW9uID0gZGVmaW5pdGlvbjtcbiAgICB0aGlzLmN1cnJlbnROb2RlSWQgPSBjdXJyZW50Tm9kZUlkO1xuICAgIHRoaXMuYnJvYWRjYXN0TWFuYWdlciA9IGJyb2FkY2FzdE1hbmFnZXI7XG4gICAgdGhpcy5hY3Rpb25NYW5hZ2VyID0gYWN0aW9uTWFuYWdlcjtcbiAgICB0aGlzLnNldHVwU3RvcmVCaW5kaW5nID0gc2V0dXBTdG9yZUJpbmRpbmc7XG4gIH1cblxuICAvKipcbiAgICogQ29ubmVjdCB0byBhIG5vZGUgdXNpbmcgdGhlIHByb3ZpZGVkIGZhY3RvcnlcbiAgICovXG4gIGFzeW5jIGNvbm5lY3Qobm9kZUlkOiBzdHJpbmcsIGZhY3Rvcnk6IENvbm5lY3Rpb25GYWN0b3J5KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgLy8gVmFsaWRhdGUgZGlyZWN0IGVkZ2UgZXhpc3RzXG4gICAgaWYgKCF0aGlzLmRlZmluaXRpb24uaGFzRWRnZSh0aGlzLmN1cnJlbnROb2RlSWQsIG5vZGVJZCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gZWRnZSBkZWZpbmVkIGZyb20gJHt0aGlzLmN1cnJlbnROb2RlSWR9IHRvICR7bm9kZUlkfWApO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIGFscmVhZHkgY29ubmVjdGVkXG4gICAgaWYgKHRoaXMuY29ubmVjdGlvbnMuaGFzKG5vZGVJZCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQWxyZWFkeSBjb25uZWN0ZWQgdG8gbm9kZSAke25vZGVJZH1gKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgLy8gRXN0YWJsaXNoIGNvbm5lY3Rpb25cbiAgICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBhd2FpdCBmYWN0b3J5KCk7XG5cbiAgICAgIC8vIFN0b3JlIHRoZSBjb25uZWN0aW9uXG4gICAgICB0aGlzLmNvbm5lY3Rpb25zLnNldChub2RlSWQsIGNvbm5lY3Rpb24pO1xuXG4gICAgICAvLyBTZXR1cCBzdG9yZSBiaW5kaW5nXG4gICAgICB0aGlzLnNldHVwU3RvcmVCaW5kaW5nKG5vZGVJZCwgY29ubmVjdGlvbik7XG5cbiAgICAgIC8vIFNldHVwIGJyb2FkY2FzdCBoYW5kbGVyc1xuICAgICAgdGhpcy5icm9hZGNhc3RNYW5hZ2VyLmFkZENvbm5lY3Rpb24obm9kZUlkLCBjb25uZWN0aW9uKTtcblxuICAgICAgLy8gU2V0dXAgY29ubmVjdGlvbiBjbG9zZSBoYW5kbGVyIHRvIGRldGVjdCBkaXNjb25uZWN0aW9uc1xuICAgICAgdGhpcy5zZXR1cENvbm5lY3Rpb25DbG9zZUhhbmRsZXIobm9kZUlkLCBjb25uZWN0aW9uKTtcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjb25uZWN0aW9uIGZvciBhIHNwZWNpZmljIG5vZGVcbiAgICovXG4gIGdldENvbm5lY3Rpb24obm9kZUlkOiBzdHJpbmcpOiBTRFBQUFByb3RvY29sIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9ucy5nZXQobm9kZUlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY29ubmVjdGlvbiB0byBhIG5vZGUgKGRpcmVjdCBvciBpbmRpcmVjdClcbiAgICovXG4gIGdldENvbm5lY3Rpb25Ub05vZGUobm9kZUlkOiBzdHJpbmcpOiB7IGNvbm5lY3Rpb246IFNEUFBQUHJvdG9jb2w7IHBhdGg6IHN0cmluZ1tdIH0gfCB1bmRlZmluZWQge1xuICAgIC8vIFRyeSBkaXJlY3QgY29ubmVjdGlvbiBmaXJzdFxuICAgIGNvbnN0IGRpcmVjdENvbm5lY3Rpb24gPSB0aGlzLmNvbm5lY3Rpb25zLmdldChub2RlSWQpO1xuICAgIGlmIChkaXJlY3RDb25uZWN0aW9uKSB7XG4gICAgICByZXR1cm4geyBjb25uZWN0aW9uOiBkaXJlY3RDb25uZWN0aW9uLCBwYXRoOiBbdGhpcy5jdXJyZW50Tm9kZUlkLCBub2RlSWRdIH07XG4gICAgfVxuXG4gICAgLy8gVHJ5IGluZGlyZWN0IGNvbm5lY3Rpb24gdGhyb3VnaCBwYXRoIGZpbmRpbmdcbiAgICBjb25zdCBwYXRoID0gdGhpcy5maW5kUGF0aCh0aGlzLmN1cnJlbnROb2RlSWQsIG5vZGVJZCk7XG4gICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggPiAxKSB7XG4gICAgICAvLyBGaW5kIHRoZSBmaXJzdCBob3AgY29ubmVjdGlvblxuICAgICAgY29uc3QgZmlyc3RIb3AgPSBwYXRoWzFdO1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IHRoaXMuY29ubmVjdGlvbnMuZ2V0KGZpcnN0SG9wKTtcbiAgICAgIGlmIChjb25uZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB7IGNvbm5lY3Rpb24sIHBhdGggfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmQgcGF0aCBiZXR3ZWVuIHR3byBub2RlcyB1c2luZyBCRlNcbiAgICovXG4gIGZpbmRQYXRoKGZyb21Ob2RlSWQ6IHN0cmluZywgdG9Ob2RlSWQ6IHN0cmluZyk6IHN0cmluZ1tdIHwgdW5kZWZpbmVkIHtcbiAgICBpZiAoZnJvbU5vZGVJZCA9PT0gdG9Ob2RlSWQpIHtcbiAgICAgIHJldHVybiBbZnJvbU5vZGVJZF07XG4gICAgfVxuXG4gICAgY29uc3QgdmlzaXRlZCA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICAgIGNvbnN0IHF1ZXVlOiB7IG5vZGVJZDogc3RyaW5nOyBwYXRoOiBzdHJpbmdbXSB9W10gPSBbeyBub2RlSWQ6IGZyb21Ob2RlSWQsIHBhdGg6IFtmcm9tTm9kZUlkXSB9XTtcbiAgICBcbiAgICB3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgeyBub2RlSWQsIHBhdGggfSA9IHF1ZXVlLnNoaWZ0KCkhO1xuICAgICAgXG4gICAgICBpZiAodmlzaXRlZC5oYXMobm9kZUlkKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZpc2l0ZWQuYWRkKG5vZGVJZCk7XG4gICAgICBcbiAgICAgIGNvbnN0IG5laWdoYm9ycyA9IHRoaXMuZGVmaW5pdGlvbi5nZXROZWlnaGJvcnMobm9kZUlkKTtcbiAgICAgIGZvciAoY29uc3QgbmVpZ2hib3Igb2YgbmVpZ2hib3JzKSB7XG4gICAgICAgIGlmIChuZWlnaGJvciA9PT0gdG9Ob2RlSWQpIHtcbiAgICAgICAgICByZXR1cm4gWy4uLnBhdGgsIG5laWdoYm9yXTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKCF2aXNpdGVkLmhhcyhuZWlnaGJvcikpIHtcbiAgICAgICAgICBxdWV1ZS5wdXNoKHsgbm9kZUlkOiBuZWlnaGJvciwgcGF0aDogWy4uLnBhdGgsIG5laWdoYm9yXSB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gdW5kZWZpbmVkOyAvLyBObyBwYXRoIGZvdW5kXG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBjb25uZWN0aW9uIG5vZGUgSURzXG4gICAqL1xuICBnZXRDb25uZWN0ZWROb2RlSWRzKCk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmNvbm5lY3Rpb25zLmtleXMoKSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgY29ubmVjdGVkIHRvIGEgc3BlY2lmaWMgbm9kZVxuICAgKi9cbiAgaXNDb25uZWN0ZWRUbyhub2RlSWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb25zLmhhcyhub2RlSWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbnVtYmVyIG9mIGNvbm5lY3Rpb25zXG4gICAqL1xuICBnZXRDb25uZWN0aW9uQ291bnQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9ucy5zaXplO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc2Nvbm5lY3QgZnJvbSBhIHNwZWNpZmljIG5vZGVcbiAgICovXG4gIGRpc2Nvbm5lY3Qobm9kZUlkOiBzdHJpbmcsIGNsb3NlVW5kZXJseWluZ1RyYW5zcG9ydDogYm9vbGVhbiA9IGZhbHNlKTogdm9pZCB7XG4gICAgY29uc3QgY29ubmVjdGlvbiA9IHRoaXMuY29ubmVjdGlvbnMuZ2V0KG5vZGVJZCk7XG4gICAgaWYgKGNvbm5lY3Rpb24pIHtcbiAgICAgIC8vIENsb3NlIHRoZSB1bmRlcmx5aW5nIHRyYW5zcG9ydFxuICAgICAgaWYgKGNsb3NlVW5kZXJseWluZ1RyYW5zcG9ydCAmJiAnY2xvc2UnIGluIGNvbm5lY3Rpb24gJiYgdHlwZW9mIGNvbm5lY3Rpb24uY2xvc2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY29ubmVjdGlvbi5jbG9zZSgpLmNhdGNoKChlcnJvcjogYW55KSA9PiB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGBFcnJvciBjbG9zaW5nIGNvbm5lY3Rpb24gdG8gJHtub2RlSWR9OmAsIGVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHRoaXMuY29ubmVjdGlvbnMuZGVsZXRlKG5vZGVJZCk7XG4gICAgICB0aGlzLmJyb2FkY2FzdE1hbmFnZXIucmVtb3ZlQ29ubmVjdGlvbihub2RlSWQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXR1cCBjb25uZWN0aW9uIGNsb3NlIGhhbmRsZXIgdG8gZGV0ZWN0IGRpc2Nvbm5lY3Rpb25zXG4gICAqL1xuICBwcml2YXRlIHNldHVwQ29ubmVjdGlvbkNsb3NlSGFuZGxlcihub2RlSWQ6IHN0cmluZywgY29ubmVjdGlvbjogU0RQUFBQcm90b2NvbCk6IHZvaWQge1xuICAgIC8vIE1vbml0b3IgY29ubmVjdGlvbiBzdGF0ZSAtIGNoZWNrIGlmIGNvbm5lY3Rpb24gaGFzIG9uY2xvc2Ugb3Igc2ltaWxhciBldmVudHNcbiAgICBjb25zdCBjaGVja0Nvbm5lY3Rpb24gPSAoKSA9PiB7XG4gICAgICAvLyBUcnkgdG8gYWNjZXNzIHRoZSB1bmRlcmx5aW5nIHRyYW5zcG9ydCB0byBtb25pdG9yIGNsb3NlIGV2ZW50c1xuICAgICAgY29uc3QgdW5kZXJseWluZ0NsaWVudCA9IChjb25uZWN0aW9uIGFzIGFueSkuY2xpZW50O1xuICAgICAgY29uc3QgdW5kZXJseWluZ1NlcnZlciA9IChjb25uZWN0aW9uIGFzIGFueSkuc2VydmVyO1xuICAgICAgXG4gICAgICAvLyBIYW5kbGUgY2xpZW50LXNpZGUgY2xvc2UgZXZlbnRzXG4gICAgICBpZiAodW5kZXJseWluZ0NsaWVudCAmJiB1bmRlcmx5aW5nQ2xpZW50Lm9uY2xvc2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBvcmlnaW5hbE9uQ2xvc2UgPSB1bmRlcmx5aW5nQ2xpZW50Lm9uY2xvc2U7XG4gICAgICAgIHVuZGVybHlpbmdDbGllbnQub25jbG9zZSA9IChlcnJvcj86IEVycm9yKSA9PiB7XG4gICAgICAgICAgLy8gSGFuZGxlIGNvbm5lY3Rpb24gY2xvc2VcbiAgICAgICAgICB0aGlzLmhhbmRsZUNvbm5lY3Rpb25DbG9zZShub2RlSWQsIGVycm9yKTtcbiAgICAgICAgICAvLyBDYWxsIG9yaWdpbmFsIGhhbmRsZXIgaWYgaXQgZXhpc3RzXG4gICAgICAgICAgaWYgKG9yaWdpbmFsT25DbG9zZSAmJiB0eXBlb2Ygb3JpZ2luYWxPbkNsb3NlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBvcmlnaW5hbE9uQ2xvc2UoZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gSGFuZGxlIHNlcnZlci1zaWRlIGNsb3NlIGV2ZW50c1xuICAgICAgaWYgKHVuZGVybHlpbmdTZXJ2ZXIgJiYgdW5kZXJseWluZ1NlcnZlci5vbmNsb3NlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxPbkNsb3NlID0gdW5kZXJseWluZ1NlcnZlci5vbmNsb3NlO1xuICAgICAgICB1bmRlcmx5aW5nU2VydmVyLm9uY2xvc2UgPSAoZXJyb3I/OiBFcnJvcikgPT4ge1xuICAgICAgICAgIC8vIEhhbmRsZSBjb25uZWN0aW9uIGNsb3NlXG4gICAgICAgICAgdGhpcy5oYW5kbGVDb25uZWN0aW9uQ2xvc2Uobm9kZUlkLCBlcnJvcik7XG4gICAgICAgICAgLy8gQ2FsbCBvcmlnaW5hbCBoYW5kbGVyIGlmIGl0IGV4aXN0c1xuICAgICAgICAgIGlmIChvcmlnaW5hbE9uQ2xvc2UgJiYgdHlwZW9mIG9yaWdpbmFsT25DbG9zZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgb3JpZ2luYWxPbkNsb3NlKGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIC8vIEFsc28gdHJ5IHRvIGhvb2sgaW50byB0aGUgcHJvdG9jb2wtbGV2ZWwgY2xvc2VcbiAgICAgIGlmIChjb25uZWN0aW9uICYmIHR5cGVvZiAoY29ubmVjdGlvbiBhcyBhbnkpLm9uQ2xvc2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgKGNvbm5lY3Rpb24gYXMgYW55KS5vbkNsb3NlKCgpID0+IHtcbiAgICAgICAgICB0aGlzLmhhbmRsZUNvbm5lY3Rpb25DbG9zZShub2RlSWQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gQWx0ZXJuYXRpdmU6IG1vbml0b3IgdHJhbnNwb3J0IGRpcmVjdGx5IGlmIGF2YWlsYWJsZVxuICAgICAgY29uc3QgdHJhbnNwb3J0ID0gKGNvbm5lY3Rpb24gYXMgYW55KS50cmFuc3BvcnQ7XG4gICAgICBpZiAodHJhbnNwb3J0ICYmIHRyYW5zcG9ydC5vbmNsb3NlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxPbkNsb3NlID0gdHJhbnNwb3J0Lm9uY2xvc2U7XG4gICAgICAgIHRyYW5zcG9ydC5vbmNsb3NlID0gKGVycm9yPzogRXJyb3IpID0+IHtcbiAgICAgICAgICB0aGlzLmhhbmRsZUNvbm5lY3Rpb25DbG9zZShub2RlSWQsIGVycm9yKTtcbiAgICAgICAgICBpZiAob3JpZ2luYWxPbkNsb3NlICYmIHR5cGVvZiBvcmlnaW5hbE9uQ2xvc2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsT25DbG9zZShlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBTZXQgdXAgdGhlIGNsb3NlIGhhbmRsZXJcbiAgICB0cnkge1xuICAgICAgY2hlY2tDb25uZWN0aW9uKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIElmIHdlIGNhbid0IHNldCB1cCBjbG9zZSBtb25pdG9yaW5nLCB0aGF0J3Mgb2sgLSBkaXNjb25uZWN0IHdpbGwgYmUgaGFuZGxlZCBtYW51YWxseVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgY29ubmVjdGlvbiBjbG9zZSBldmVudFxuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVDb25uZWN0aW9uQ2xvc2Uobm9kZUlkOiBzdHJpbmcsIGVycm9yPzogRXJyb3IpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jb25uZWN0aW9ucy5oYXMobm9kZUlkKSkge1xuICAgICAgdGhpcy5jb25uZWN0aW9ucy5kZWxldGUobm9kZUlkKTtcbiAgICAgIHRoaXMuYnJvYWRjYXN0TWFuYWdlci5yZW1vdmVDb25uZWN0aW9uKG5vZGVJZCk7XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICogQ2xlYXIgYWxsIGNvbm5lY3Rpb25zXG4gICAqL1xuICBjbGVhcigpOiB2b2lkIHtcbiAgICBmb3IgKGNvbnN0IG5vZGVJZCBvZiB0aGlzLmNvbm5lY3Rpb25zLmtleXMoKSkge1xuICAgICAgdGhpcy5kaXNjb25uZWN0KG5vZGVJZCk7XG4gICAgfVxuICAgIC8vIGNvbm5lY3Rpb25zLmNsZWFyKCkgaXMgcmVkdW5kYW50IHNpbmNlIGRpc2Nvbm5lY3QoKSBhbHJlYWR5IHJlbW92ZXMgZnJvbSB0aGUgbWFwXG4gIH1cbn0iLCJpbXBvcnQgeyBjcmVhdGVTdG9yZSB9IGZyb20gJ3p1c3RhbmQvdmFuaWxsYSc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcbmltcG9ydCB7IEdyYXBoRGVmaW5pdGlvbkNsYXNzIH0gZnJvbSAnLi9HcmFwaERlZmluaXRpb24udHMnO1xuaW1wb3J0IHR5cGUgeyBcbiAgQ29ubmVjdGlvbkZhY3RvcnksIFxuICBHcmFwaEluc3RhbmNlLCBcbiAgTm9kZVByb3h5LCBcbiAgTm9kZVN0b3JlLFxuICBHcmFwaERlZmluaXRpb24sXG4gIEV4dHJhY3RBbGxCcm9hZGNhc3ROYW1lcyxcbiAgRXh0cmFjdEFsbEJyb2FkY2FzdFBheWxvYWRcbn0gZnJvbSAnLi90eXBlcy50cyc7XG5pbXBvcnQgeyBOb2RlUHJveHlJbXBsIH0gZnJvbSAnLi9Ob2RlUHJveHkudHMnO1xuaW1wb3J0IHsgYmluZFN0b3JlQ29uc3VtZXJTaWRlU0RQUFAsIGJpbmRTdG9yZVByb2R1Y2VyU2lkZVNEUFBQLCBiaW5kU3RvcmVDb25zdW1lclNpZGVHcmFwaCwgYmluZFN0b3JlUHJvZHVjZXJTaWRlR3JhcGggfSBmcm9tICcuL1N0b3JlQmluZGVyL1N0b3JlQmluZGVyLnRzJztcbmltcG9ydCB7IFN0b3JlTWFuYWdlciB9IGZyb20gJy4vU3RvcmVCaW5kZXIvU3RvcmVNYW5hZ2VyLnRzJztcbmltcG9ydCB7IENvbm5lY3Rpb25Nb25pdG9yLCB0eXBlIENvbm5lY3Rpb25Nb25pdG9yT3B0aW9ucyB9IGZyb20gJy4vQ29ubmVjdGlvbk1vbml0b3IudHMnO1xuaW1wb3J0IHsgU0RQUFBQcm90b2NvbCB9IGZyb20gJy4vTUNQL3NkcHBwLXByb3RvY29sLnRzJztcbmltcG9ydCB7IEJyb2FkY2FzdE1hbmFnZXIgfSBmcm9tICcuL0Jyb2FkY2FzdE1hbmFnZXIudHMnO1xuaW1wb3J0IHsgQWN0aW9uTWFuYWdlciB9IGZyb20gJy4vQWN0aW9uTWFuYWdlci50cyc7XG5pbXBvcnQgeyBDb25uZWN0aW9uTWFuYWdlciB9IGZyb20gJy4vQ29ubmVjdGlvbk1hbmFnZXIudHMnO1xuXG5leHBvcnQgY2xhc3MgR3JhcGhJbnN0YW5jZUltcGw8XG4gIFRHcmFwaERlZiBleHRlbmRzIEdyYXBoRGVmaW5pdGlvbiA9IEdyYXBoRGVmaW5pdGlvbixcbiAgVEN1cnJlbnROb2RlSWQgZXh0ZW5kcyBrZXlvZiBUR3JhcGhEZWZbJ25vZGVzJ10gPSBrZXlvZiBUR3JhcGhEZWZbJ25vZGVzJ11cbj4gaW1wbGVtZW50cyBHcmFwaEluc3RhbmNlPFRHcmFwaERlZiwgVEN1cnJlbnROb2RlSWQ+IHtcbiAgcHJpdmF0ZSBkZWZpbml0aW9uOiBHcmFwaERlZmluaXRpb25DbGFzcztcbiAgcHJpdmF0ZSBjdXJyZW50Tm9kZUlkOiBzdHJpbmc7XG4gIHByaXZhdGUgbm9kZVN0b3JlczogTWFwPHN0cmluZywgTm9kZVN0b3JlPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBub2RlUHJveGllczogTWFwPHN0cmluZywgTm9kZVByb3h5PiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBjb25uZWN0aW9uTW9uaXRvcjogQ29ubmVjdGlvbk1vbml0b3I7XG4gIHByaXZhdGUgc3RvcmVNYW5hZ2VyOiBTdG9yZU1hbmFnZXIgPSBuZXcgU3RvcmVNYW5hZ2VyKCk7XG4gIHByaXZhdGUgYnJvYWRjYXN0TWFuYWdlcjogQnJvYWRjYXN0TWFuYWdlcjtcbiAgcHJpdmF0ZSBhY3Rpb25NYW5hZ2VyOiBBY3Rpb25NYW5hZ2VyO1xuICBwcml2YXRlIGNvbm5lY3Rpb25NYW5hZ2VyOiBDb25uZWN0aW9uTWFuYWdlcjtcblxuICBjb25zdHJ1Y3RvcihkZWZpbml0aW9uOiBHcmFwaERlZmluaXRpb25DbGFzcywgbm9kZUlkOiBzdHJpbmcsIG1vbml0b3JPcHRpb25zPzogQ29ubmVjdGlvbk1vbml0b3JPcHRpb25zKSB7XG4gICAgdGhpcy5kZWZpbml0aW9uID0gZGVmaW5pdGlvbjtcbiAgICB0aGlzLmN1cnJlbnROb2RlSWQgPSBub2RlSWQ7XG5cbiAgICAvLyBJbml0aWFsaXplIHN0b3JlcyBmb3IgYWxsIG5vZGVzXG4gICAgdGhpcy5pbml0aWFsaXplTm9kZVN0b3JlcygpO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBtYW5hZ2Vyc1xuICAgIHRoaXMuYnJvYWRjYXN0TWFuYWdlciA9IG5ldyBCcm9hZGNhc3RNYW5hZ2VyKCk7XG4gICAgdGhpcy5hY3Rpb25NYW5hZ2VyID0gbmV3IEFjdGlvbk1hbmFnZXIoXG4gICAgICBkZWZpbml0aW9uLCBcbiAgICAgIG5vZGVJZCwgXG4gICAgICAobm9kZUlkOiBzdHJpbmcpID0+IHRoaXMuZ2V0Q29ubmVjdGlvbkludGVybmFsKG5vZGVJZClcbiAgICApO1xuICAgIHRoaXMuY29ubmVjdGlvbk1hbmFnZXIgPSBuZXcgQ29ubmVjdGlvbk1hbmFnZXIoXG4gICAgICBkZWZpbml0aW9uLFxuICAgICAgbm9kZUlkLFxuICAgICAgdGhpcy5icm9hZGNhc3RNYW5hZ2VyLFxuICAgICAgdGhpcy5hY3Rpb25NYW5hZ2VyLFxuICAgICAgKG5vZGVJZDogc3RyaW5nLCBjb25uZWN0aW9uOiBTRFBQUFByb3RvY29sKSA9PiB0aGlzLnNldHVwU3RvcmVCaW5kaW5nKG5vZGVJZCwgY29ubmVjdGlvbilcbiAgICApO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBjb25uZWN0aW9uIG1vbml0b3JcbiAgICB0aGlzLmNvbm5lY3Rpb25Nb25pdG9yID0gbmV3IENvbm5lY3Rpb25Nb25pdG9yKHRoaXMsIG1vbml0b3JPcHRpb25zKTtcblxuICAgIC8vIFNldHVwIGdyYXBoLWJhc2VkIHN0b3JlIHN5bmNocm9uaXphdGlvblxuICAgIHRoaXMuc2V0dXBHcmFwaFN0b3JlU3luYygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgWnVzdGFuZCBzdG9yZXMgZm9yIGFsbCBub2RlcyBiYXNlZCBvbiB0aGVpciBzY2hlbWFzXG4gICAqL1xuICBwcml2YXRlIGluaXRpYWxpemVOb2RlU3RvcmVzKCkge1xuICAgIGZvciAoY29uc3Qgbm9kZUlkIG9mIHRoaXMuZGVmaW5pdGlvbi5nZXROb2RlSWRzKCkpIHtcbiAgICAgIGNvbnN0IG5vZGVEZWYgPSB0aGlzLmRlZmluaXRpb24uZ2V0Tm9kZShub2RlSWQpO1xuICAgICAgaWYgKG5vZGVEZWYgJiYgbm9kZURlZi5zdG9yZSkge1xuICAgICAgICAvLyBQYXJzZSB0aGUgc2NoZW1hIHRvIGdldCBkZWZhdWx0IHZhbHVlc1xuICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWVzID0gdGhpcy5nZXREZWZhdWx0VmFsdWVzRnJvbVNjaGVtYShub2RlRGVmLnN0b3JlKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENyZWF0ZSBzdG9yZSB3aXRoIHNjaGVtYS1iYXNlZCBkZWZhdWx0IHN0YXRlXG4gICAgICAgIGNvbnN0IHN0b3JlID0gY3JlYXRlU3RvcmUoKCkgPT4gZGVmYXVsdFZhbHVlcyk7XG4gICAgICAgIHRoaXMubm9kZVN0b3Jlcy5zZXQobm9kZUlkLCBzdG9yZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEV4dHJhY3QgZGVmYXVsdCB2YWx1ZXMgZnJvbSBab2Qgc2NoZW1hXG4gICAqL1xuICBwcml2YXRlIGdldERlZmF1bHRWYWx1ZXNGcm9tU2NoZW1hKHNjaGVtYTogYW55KTogYW55IHtcbiAgICBpZiAoIXNjaGVtYSkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cblxuICAgIC8vIFVzZSBab2QncyBidWlsdC1pbiBwYXJzaW5nIHdpdGggZW1wdHkgb2JqZWN0IHRvIGdldCBkZWZhdWx0c1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gc2NoZW1hLnBhcnNlKHt9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gSWYgcGFyc2luZyBmYWlscywgdHJ5IG1hbnVhbCBleHRyYWN0aW9uXG4gICAgICByZXR1cm4gdGhpcy5tYW51YWxseUV4dHJhY3REZWZhdWx0cyhzY2hlbWEpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNYW51YWxseSBleHRyYWN0IGRlZmF1bHRzIGFzIGZhbGxiYWNrXG4gICAqL1xuICBwcml2YXRlIG1hbnVhbGx5RXh0cmFjdERlZmF1bHRzKHNjaGVtYTogYW55KTogYW55IHtcbiAgICBpZiAoIXNjaGVtYSB8fCAhc2NoZW1hLmRlZikge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBab2REZWZhdWx0XG4gICAgaWYgKHNjaGVtYS5kZWYudHlwZSA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSBzY2hlbWEuZGVmLmRlZmF1bHRWYWx1ZTtcbiAgICAgIHJldHVybiB0eXBlb2YgZGVmYXVsdFZhbHVlID09PSAnZnVuY3Rpb24nID8gZGVmYXVsdFZhbHVlKCkgOiBkZWZhdWx0VmFsdWU7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIFpvZE9iamVjdFxuICAgIGlmIChzY2hlbWEuZGVmLnR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICBjb25zdCByZXN1bHQ6IGFueSA9IHt9O1xuICAgICAgbGV0IHNoYXBlO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBzaGFwZSA9IHNjaGVtYS5kZWYuc2hhcGU7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChzaGFwZSkge1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIGZpZWxkU2NoZW1hXSBvZiBPYmplY3QuZW50cmllcyhzaGFwZSkpIHtcbiAgICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSB0aGlzLmdldERlZmF1bHRWYWx1ZUZyb21GaWVsZChmaWVsZFNjaGVtYSBhcyBhbnkpO1xuICAgICAgICAgIGlmIChkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgZGVmYXVsdCB2YWx1ZSBmcm9tIGluZGl2aWR1YWwgZmllbGQgc2NoZW1hXG4gICAqL1xuICBwcml2YXRlIGdldERlZmF1bHRWYWx1ZUZyb21GaWVsZChzY2hlbWE6IGFueSk6IGFueSB7XG4gICAgaWYgKCFzY2hlbWEpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLy8gVHJ5IHRvIHBhcnNlIHdpdGggZW1wdHkgaW5wdXQgdG8gZ2V0IGRlZmF1bHRzXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBzY2hlbWEucGFyc2UodW5kZWZpbmVkKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIC8vIElmIHRoYXQgZmFpbHMsIHRyeSBtYW51YWwgZXh0cmFjdGlvblxuICAgICAgcmV0dXJuIHRoaXMubWFudWFsbHlFeHRyYWN0RGVmYXVsdHMoc2NoZW1hKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29ubmVjdCB0byBhIG5vZGUgdXNpbmcgdGhlIHByb3ZpZGVkIGZhY3RvcnlcbiAgICovXG4gIGFzeW5jIGNvbm5lY3Qobm9kZUlkOiBzdHJpbmcsIGZhY3Rvcnk6IENvbm5lY3Rpb25GYWN0b3J5KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbk1hbmFnZXIuY29ubmVjdChub2RlSWQsIGZhY3RvcnkpO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc2Nvbm5lY3QgZnJvbSBhIG5vZGVcbiAgICovXG4gIGRpc2Nvbm5lY3Qobm9kZUlkOiBzdHJpbmcsIGNsb3NlVW5kZXJseWluZ1RyYW5zcG9ydDogYm9vbGVhbiA9IGZhbHNlKTogdm9pZCB7XG4gICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbk1hbmFnZXIuZGlzY29ubmVjdChub2RlSWQsIGNsb3NlVW5kZXJseWluZ1RyYW5zcG9ydCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBTZXR1cCBzdG9yZSBiaW5kaW5nIGZvciBhIGNvbm5lY3Rpb24gKGxlZ2FjeSBTRFBQUC1iYXNlZClcbiAgICovXG4gIHByaXZhdGUgc2V0dXBTdG9yZUJpbmRpbmcobm9kZUlkOiBzdHJpbmcsIGNvbm5lY3Rpb246IFNEUFBQUHJvdG9jb2wpIHtcbiAgICBjb25zdCBub2RlU3RvcmUgPSB0aGlzLm5vZGVTdG9yZXMuZ2V0KG5vZGVJZCk7XG4gICAgaWYgKCFub2RlU3RvcmUpIHJldHVybjtcblxuICAgIC8vIEdldCB0aGUgdW5kZXJseWluZyBlbmRwb2ludCBmb3Igc3RvcmUgYmluZGluZ1xuICAgIGNvbnN0IHVuZGVybHlpbmdFbmRwb2ludCA9IChjb25uZWN0aW9uIGFzIGFueSkuc2VydmVyIHx8IChjb25uZWN0aW9uIGFzIGFueSkuY2xpZW50O1xuICAgIGlmICh1bmRlcmx5aW5nRW5kcG9pbnQpIHtcbiAgICAgIC8vIERldGVybWluZSBpZiB3ZSBzaG91bGQgYmUgY29uc3VtZXIgb3IgcHJvZHVjZXIgYmFzZWQgb24gdGhlIHVuZGVybHlpbmcgZW5kcG9pbnQgdHlwZVxuICAgICAgaWYgKChjb25uZWN0aW9uIGFzIGFueSkuY2xpZW50KSB7XG4gICAgICAgIHRoaXMuc3RvcmVNYW5hZ2VyLmJpbmRDb25zdW1lcih7XG4gICAgICAgICAgZW5kcG9pbnQ6IHVuZGVybHlpbmdFbmRwb2ludCxcbiAgICAgICAgICBzdG9yZTogbm9kZVN0b3JlLFxuICAgICAgICAgIG5vZGVJZFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3RvcmVNYW5hZ2VyLmJpbmRQcm9kdWNlcih7XG4gICAgICAgICAgZW5kcG9pbnQ6IHVuZGVybHlpbmdFbmRwb2ludCxcbiAgICAgICAgICBzdG9yZTogbm9kZVN0b3JlLFxuICAgICAgICAgIG5vZGVJZFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0dXAgZ3JhcGgtYmFzZWQgc3RvcmUgc3luY2hyb25pemF0aW9uIGZvciBhbGwgc3RvcmVzXG4gICAqIFRoaXMgZW5hYmxlcyBpbmRpcmVjdCBzeW5jaHJvbml6YXRpb24gdGhyb3VnaCBicm9hZGNhc3QgbWVjaGFuaXNtXG4gICAqL1xuICBwdWJsaWMgc2V0dXBHcmFwaFN0b3JlU3luYygpOiB2b2lkIHtcbiAgICBmb3IgKGNvbnN0IFtub2RlSWQsIHN0b3JlXSBvZiB0aGlzLm5vZGVTdG9yZXMpIHtcbiAgICAgIGlmIChub2RlSWQgPT09IHRoaXMuY3VycmVudE5vZGVJZCkge1xuICAgICAgICAvLyBUaGlzIG5vZGUgaXMgdGhlIHByb2R1Y2VyIG9mIGl0cyBvd24gc3RvcmVcbiAgICAgICAgYmluZFN0b3JlUHJvZHVjZXJTaWRlR3JhcGgoe1xuICAgICAgICAgIGdyYXBoSW5zdGFuY2U6IHRoaXMsXG4gICAgICAgICAgc3RvcmU6IHN0b3JlLFxuICAgICAgICAgIG5hbWU6IG5vZGVJZFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFRoaXMgbm9kZSBpcyBhIGNvbnN1bWVyIG9mIHJlbW90ZSBzdG9yZXNcbiAgICAgICAgYmluZFN0b3JlQ29uc3VtZXJTaWRlR3JhcGgoe1xuICAgICAgICAgIGdyYXBoSW5zdGFuY2U6IHRoaXMsXG4gICAgICAgICAgc3RvcmU6IHN0b3JlLFxuICAgICAgICAgIG5hbWU6IG5vZGVJZFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG5vZGUgcHJveHlcbiAgICovXG4gIGdldE5vZGU8VE5vZGVJZCBleHRlbmRzIGtleW9mIFRHcmFwaERlZlsnbm9kZXMnXT4obm9kZUlkOiBUTm9kZUlkKTogTm9kZVByb3h5PFRHcmFwaERlZlsnbm9kZXMnXVtUTm9kZUlkXT4ge1xuICAgIGlmICghdGhpcy5ub2RlUHJveGllcy5oYXMobm9kZUlkIGFzIHN0cmluZykpIHtcbiAgICAgIGNvbnN0IHByb3h5ID0gbmV3IE5vZGVQcm94eUltcGwodGhpcywgbm9kZUlkIGFzIHN0cmluZyk7XG4gICAgICB0aGlzLm5vZGVQcm94aWVzLnNldChub2RlSWQgYXMgc3RyaW5nLCBwcm94eSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm5vZGVQcm94aWVzLmdldChub2RlSWQgYXMgc3RyaW5nKSEgYXMgTm9kZVByb3h5PFRHcmFwaERlZlsnbm9kZXMnXVtUTm9kZUlkXT47XG4gIH1cblxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvbm5lY3Rpb24gZm9yIGEgc3BlY2lmaWMgbm9kZSAoaW50ZXJuYWwgdXNlIG9ubHkpXG4gICAqL1xuICBwcml2YXRlIGdldENvbm5lY3Rpb25JbnRlcm5hbChub2RlSWQ6IHN0cmluZyk6IFNEUFBQUHJvdG9jb2wgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb25NYW5hZ2VyLmdldENvbm5lY3Rpb24obm9kZUlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgaW50ZXJuYWwgY29ubmVjdGlvbiBtYW5hZ2VtZW50IGluc3RlYWRcbiAgICovXG4gIGdldENvbm5lY3Rpb24obm9kZUlkOiBzdHJpbmcpOiBTRFBQUFByb3RvY29sIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDb25uZWN0aW9uSW50ZXJuYWwobm9kZUlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgbm9kZSBzdG9yZVxuICAgKi9cbiAgZ2V0Tm9kZVN0b3JlPE5vZGVJZCBleHRlbmRzIGtleW9mIFRHcmFwaERlZlsnbm9kZXMnXT4obm9kZUlkOiBOb2RlSWQpOiBOb2RlU3RvcmU8ei5pbmZlcjxUR3JhcGhEZWZbJ25vZGVzJ11bTm9kZUlkXVsnc3RvcmUnXT4+IHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5ub2RlU3RvcmVzLmdldChub2RlSWQgYXMgc3RyaW5nKSBhcyBOb2RlU3RvcmU8ei5pbmZlcjxUR3JhcGhEZWZbJ25vZGVzJ11bTm9kZUlkXVsnc3RvcmUnXT4+IHwgdW5kZWZpbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc3RvcmUgZm9yIHRoZSBjdXJyZW50IG5vZGVcbiAgICovXG4gIGdldCBzdG9yZSgpOiBOb2RlU3RvcmU8YW55PiB7XG4gICAgY29uc3QgY3VycmVudFN0b3JlID0gdGhpcy5ub2RlU3RvcmVzLmdldCh0aGlzLmN1cnJlbnROb2RlSWQpO1xuICAgIGlmICghY3VycmVudFN0b3JlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFN0b3JlIG5vdCBmb3VuZCBmb3IgY3VycmVudCBub2RlICR7dGhpcy5jdXJyZW50Tm9kZUlkfWApO1xuICAgIH1cbiAgICByZXR1cm4gY3VycmVudFN0b3JlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0eXBlZCBhY3Rpb25zIGZvciB0aGUgY3VycmVudCBub2RlXG4gICAqL1xuICBnZXQgYWN0aW9ucygpOiB7XG4gICAgW1RBY3Rpb25OYW1lIGluIGtleW9mIFRHcmFwaERlZlsnbm9kZXMnXVtUQ3VycmVudE5vZGVJZF1bJ2FjdGlvbnMnXV06IChcbiAgICAgIGRhdGE6IGFueSxcbiAgICAgIHNpZ25hbD86IEFib3J0U2lnbmFsXG4gICAgKSA9PiBhbnk7XG4gIH0ge1xuICAgIC8vIEdldCBjdXJyZW50IG5vZGUgZGVmaW5pdGlvblxuICAgIGNvbnN0IGN1cnJlbnROb2RlRGVmID0gdGhpcy5kZWZpbml0aW9uLmdldE5vZGUodGhpcy5jdXJyZW50Tm9kZUlkKTtcbiAgICBpZiAoIWN1cnJlbnROb2RlRGVmKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vZGUgZGVmaW5pdGlvbiBub3QgZm91bmQgZm9yIGN1cnJlbnQgbm9kZSAke3RoaXMuY3VycmVudE5vZGVJZH1gKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgcHJveHkgb2JqZWN0XG4gICAgY29uc3QgYWN0aW9uUHJveHkgPSBuZXcgUHJveHkoe30sIHtcbiAgICAgIGdldDogKF90YXJnZXQsIGFjdGlvbk5hbWU6IHN0cmluZyB8IHN5bWJvbCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGFjdGlvbk5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgYWN0aW9uIGV4aXN0cyBpbiBjdXJyZW50IG5vZGUgZGVmaW5pdGlvblxuICAgICAgICBjb25zdCBhY3Rpb25EZWYgPSBjdXJyZW50Tm9kZURlZi5hY3Rpb25zW2FjdGlvbk5hbWVdO1xuICAgICAgICBpZiAoIWFjdGlvbkRlZikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQWN0aW9uICR7YWN0aW9uTmFtZX0gbm90IGZvdW5kIGZvciBjdXJyZW50IG5vZGUgJHt0aGlzLmN1cnJlbnROb2RlSWR9YCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXR1cm4gYWN0aW9uIGNhbGwgZnVuY3Rpb25cbiAgICAgICAgcmV0dXJuIChkYXRhOiBhbnksIHNpZ25hbD86IEFib3J0U2lnbmFsKSA9PiB7XG4gICAgICAgICAgLy8gR2V0IGxvY2FsIGFjdGlvbiBoYW5kbGVyIGZyb20gQWN0aW9uTWFuYWdlclxuICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLmFjdGlvbk1hbmFnZXIuZ2V0SGFuZGxlcihhY3Rpb25OYW1lKTtcbiAgICAgICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQWN0aW9uIGhhbmRsZXIgJHthY3Rpb25OYW1lfSBub3QgaW1wbGVtZW50ZWQgZm9yIG5vZGUgJHt0aGlzLmN1cnJlbnROb2RlSWR9YCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQ29uc3RydWN0IGV4dHJhIHBhcmFtZXRlcnMgKHNpbXVsYXRpbmcgTUNQIGNhbGwgZW52aXJvbm1lbnQpXG4gICAgICAgICAgY29uc3QgZXh0cmEgPSB7XG4gICAgICAgICAgICBub2RlSWQ6IHRoaXMuY3VycmVudE5vZGVJZCxcbiAgICAgICAgICAgIC8vIENhbiBhZGQgb3RoZXIgY29udGV4dCBpbmZvcm1hdGlvblxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBEZWNpZGUgcmV0dXJuIHR5cGUgYmFzZWQgb24gYWN0aW9uIGRlZmluaXRpb25cbiAgICAgICAgICBpZiAoYWN0aW9uRGVmLnN0cmVhbSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8gU3RyZWFtaW5nIGFjdGlvbjogcmV0dXJuIEFzeW5jSXRlcmFibGUgZGlyZWN0bHlcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGhhbmRsZXIoZGF0YSwgZXh0cmEsIHNpZ25hbCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEVuc3VyZSBBc3luY0l0ZXJhYmxlIGlzIHJldHVybmVkXG4gICAgICAgICAgICBpZiAocmVzdWx0ICYmIHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnICYmIFN5bWJvbC5hc3luY0l0ZXJhdG9yIGluIHJlc3VsdCkge1xuICAgICAgICAgICAgICAvLyBDcmVhdGUgYSB3cmFwcGVyIHRoYXQgY29udmVydHMgdW5kZWZpbmVkIHRvIHt9XG4gICAgICAgICAgICAgIHJldHVybiAoYXN5bmMgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGl0ZW0gb2YgcmVzdWx0IGFzIEFzeW5jSXRlcmFibGU8YW55Pikge1xuICAgICAgICAgICAgICAgICAgeWllbGQgaXRlbSA9PT0gdW5kZWZpbmVkID8ge30gOiBpdGVtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIElmIGhhbmRsZXIgcmV0dXJucyBQcm9taXNlLCB3cmFwIGFzIEFzeW5jSXRlcmFibGVcbiAgICAgICAgICAgICAgcmV0dXJuIChhc3luYyBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF3YWl0ZWRSZXN1bHQgPSBhd2FpdCByZXN1bHQ7XG4gICAgICAgICAgICAgICAgeWllbGQgYXdhaXRlZFJlc3VsdCA9PT0gdW5kZWZpbmVkID8ge30gOiBhd2FpdGVkUmVzdWx0O1xuICAgICAgICAgICAgICB9KSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBOb24tc3RyZWFtaW5nIGFjdGlvbjogcmV0dXJuIFByb21pc2VcbiAgICAgICAgICAgIHJldHVybiAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBoYW5kbGVyKGRhdGEsIGV4dHJhLCBzaWduYWwpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gSWYgcmVzdWx0IGlzIEFzeW5jSXRlcmFibGUsIGNvbnZlcnQgdG8gc2luZ2xlIHZhbHVlXG4gICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgdHlwZW9mIHJlc3VsdCA9PT0gJ29iamVjdCcgJiYgU3ltYm9sLmFzeW5jSXRlcmF0b3IgaW4gcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlcmF0b3IgPSByZXN1bHRbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3RSZXN1bHQgPSBhd2FpdCBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpcnN0UmVzdWx0LnZhbHVlID09PSB1bmRlZmluZWQgPyB7fSA6IGZpcnN0UmVzdWx0LnZhbHVlO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFJldHVybiBQcm9taXNlIHJlc3VsdCBkaXJlY3RseVxuICAgICAgICAgICAgICAgIGNvbnN0IGF3YWl0ZWRSZXN1bHQgPSBhd2FpdCByZXN1bHQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0ZWRSZXN1bHQgPT09IHVuZGVmaW5lZCA/IHt9IDogYXdhaXRlZFJlc3VsdDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gYWN0aW9uUHJveHkgYXMgYW55O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZ3JhcGggZGVmaW5pdGlvblxuICAgKi9cbiAgZ2V0RGVmaW5pdGlvbigpOiBHcmFwaERlZmluaXRpb25DbGFzcyB7XG4gICAgcmV0dXJuIHRoaXMuZGVmaW5pdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGN1cnJlbnQgbm9kZSBJRFxuICAgKi9cbiAgZ2V0Q3VycmVudE5vZGVJZCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnROb2RlSWQ7XG4gIH1cblxuICAvKipcbiAgICogRW5zdXJlIHRoYXQgYSBzdG9yZSBjb25zdW1lciBiaW5kaW5nIGlzIHNldCB1cCBmb3IgYSByZW1vdGUgbm9kZSdzIHN0b3JlXG4gICAqIFRoaXMgZW5hYmxlcyBicm9hZGNhc3QtYmFzZWQgc3luY2hyb25pemF0aW9uIGZvciBpbmRpcmVjdCBzdG9yZSBhY2Nlc3NcbiAgICovXG4gIGVuc3VyZVN0b3JlQ29uc3VtZXJCaW5kaW5nKHJlbW90ZU5vZGVJZDogc3RyaW5nKTogdm9pZCB7XG4gICAgLy8gU2tpcCBpZiBpdCdzIG91ciBvd24gc3RvcmUgb3IgaWYgYWxyZWFkeSBzZXQgdXBcbiAgICBpZiAocmVtb3RlTm9kZUlkID09PSB0aGlzLmN1cnJlbnROb2RlSWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgd2UgYWxyZWFkeSBoYXZlIGEgY29uc3VtZXIgYmluZGluZyBmb3IgdGhpcyByZW1vdGUgc3RvcmVcbiAgICBpZiAodGhpcy5zdG9yZU1hbmFnZXIuaGFzQ29uc3VtZXJCaW5kaW5nKHJlbW90ZU5vZGVJZCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcmVtb3RlU3RvcmUgPSB0aGlzLm5vZGVTdG9yZXMuZ2V0KHJlbW90ZU5vZGVJZCk7XG4gICAgaWYgKCFyZW1vdGVTdG9yZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBcbiAgICAvLyBTZXQgdXAgYnJvYWRjYXN0LWJhc2VkIGNvbnN1bWVyIGJpbmRpbmcgdXNpbmcgR3JhcGhTdG9yZVN5bmNocm9uaXplclxuICAgIHRyeSB7XG4gICAgICBiaW5kU3RvcmVDb25zdW1lclNpZGVHcmFwaCh7XG4gICAgICAgIGdyYXBoSW5zdGFuY2U6IHRoaXMsXG4gICAgICAgIHN0b3JlOiByZW1vdGVTdG9yZSxcbiAgICAgICAgbmFtZTogcmVtb3RlTm9kZUlkXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gTWFyayB0aGlzIGNvbnN1bWVyIGJpbmRpbmcgYXMgc2V0IHVwXG4gICAgICB0aGlzLnN0b3JlTWFuYWdlci5tYXJrQ29uc3VtZXJCaW5kaW5nKHJlbW90ZU5vZGVJZCk7XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY29ubmVjdGlvbiB0byBhIG5vZGUgKGRpcmVjdCBvciBpbmRpcmVjdCkgLSBpbnRlcm5hbCB1c2VcbiAgICovXG4gIHByaXZhdGUgZ2V0Q29ubmVjdGlvblRvTm9kZUludGVybmFsKG5vZGVJZDogc3RyaW5nKTogeyBjb25uZWN0aW9uOiBTRFBQUFByb3RvY29sOyBwYXRoOiBzdHJpbmdbXSB9IHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uTWFuYWdlci5nZXRDb25uZWN0aW9uVG9Ob2RlKG5vZGVJZCk7XG4gIH1cblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIE5vZGVQcm94eSBpbnN0ZWFkIG9mIGRpcmVjdCBjb25uZWN0aW9uIGFjY2Vzc1xuICAgKi9cbiAgZ2V0Q29ubmVjdGlvblRvTm9kZShub2RlSWQ6IHN0cmluZyk6IHsgY29ubmVjdGlvbjogU0RQUFBQcm90b2NvbDsgcGF0aDogc3RyaW5nW10gfSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q29ubmVjdGlvblRvTm9kZUludGVybmFsKG5vZGVJZCk7XG4gIH1cblxuICAvKipcbiAgICogTW91bnQgc3RvcmUgbGlzdGVuZXJzIGFuZCBhY3Rpb24gaGFuZGxlcnMgdG8gU0RQUFBQcm90b2NvbCBlbmRwb2ludFxuICAgKi9cbiAgbW91bnRUbyhlbmRwb2ludDogU0RQUFBQcm90b2NvbCk6IHZvaWQge1xuICAgIGNvbnN0IGN1cnJlbnRTdG9yZSA9IHRoaXMubm9kZVN0b3Jlcy5nZXQodGhpcy5jdXJyZW50Tm9kZUlkKTtcbiAgICBpZiAoIWN1cnJlbnRTdG9yZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBTdG9yZSBub3QgZm91bmQgZm9yICR7dGhpcy5jdXJyZW50Tm9kZUlkfWApO1xuICAgIH1cblxuICAgIC8vIFNldHVwIHN0b3JlIHByb2R1Y2VyIGJpbmRpbmcgZm9yIGN1cnJlbnQgbm9kZSB1c2luZyB1bmRlcmx5aW5nIHByb3RvY29sXG4gICAgY29uc3QgdW5kZXJseWluZ0VuZHBvaW50ID0gKGVuZHBvaW50IGFzIGFueSkuc2VydmVyIHx8IChlbmRwb2ludCBhcyBhbnkpLmNsaWVudDtcbiAgICBiaW5kU3RvcmVQcm9kdWNlclNpZGVTRFBQUCh7XG4gICAgICBlbmRwb2ludDogdW5kZXJseWluZ0VuZHBvaW50LFxuICAgICAgc3RvcmU6IGN1cnJlbnRTdG9yZSxcbiAgICAgIG5hbWU6IHRoaXMuY3VycmVudE5vZGVJZCBhcyBzdHJpbmdcbiAgICB9KTtcblxuICAgIC8vIE1vdW50IGFjdGlvbiBoYW5kbGVyc1xuICAgIHRoaXMuYWN0aW9uTWFuYWdlci5tb3VudFRvKGVuZHBvaW50KTtcblxuICAgIC8vIE1vdW50IGJyb2FkY2FzdCBoYW5kbGVyc1xuICAgIHRoaXMuYnJvYWRjYXN0TWFuYWdlci5tb3VudFRvKGVuZHBvaW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbXBsZW1lbnQgYWN0aW9uIGZvciBjdXJyZW50IG5vZGUgd2l0aCB0eXBlIHNhZmV0eVxuICAgKi9cbiAgaW1wbGVtZW50QWN0aW9uPFRBY3Rpb25OYW1lIGV4dGVuZHMga2V5b2YgVEdyYXBoRGVmWydub2RlcyddW1RDdXJyZW50Tm9kZUlkXVsnYWN0aW9ucyddPihcbiAgICBhY3Rpb25OYW1lOiBUQWN0aW9uTmFtZSxcbiAgICBoYW5kbGVyOiAoXG4gICAgICBwYXJhbXM6IGFueSwgLy8gV2lsbCBiZSBwcm9wZXJseSB0eXBlZCBieSB0aGUgaW50ZXJmYWNlIGNvbnN0cmFpbnRcbiAgICAgIGV4dHJhOiBhbnksXG4gICAgICBzaWduYWw/OiBBYm9ydFNpZ25hbFxuICAgICkgPT4gQXN5bmNJdGVyYWJsZTxhbnk+IHwgUHJvbWlzZTxhbnk+XG4gICk6IHZvaWQge1xuICAgIHRoaXMuYWN0aW9uTWFuYWdlci5pbXBsZW1lbnRBY3Rpb24oYWN0aW9uTmFtZSBhcyBzdHJpbmcsIGhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsZWFudXAgcmVzb3VyY2VzXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuY29ubmVjdGlvbk1vbml0b3IuZGVzdHJveSgpO1xuICAgIHRoaXMuc3RvcmVNYW5hZ2VyLmNsZWFudXAoKTtcbiAgICB0aGlzLmJyb2FkY2FzdE1hbmFnZXIuY2xlYXIoKTtcbiAgICB0aGlzLmFjdGlvbk1hbmFnZXIuY2xlYXIoKTtcbiAgICB0aGlzLmNvbm5lY3Rpb25NYW5hZ2VyLmNsZWFyKCk7XG4gIH1cblxuICAvKipcbiAgICogRmluZCBwYXRoIGJldHdlZW4gdHdvIG5vZGVzIHVzaW5nIEJGUyAtIGludGVybmFsIHVzZVxuICAgKi9cbiAgcHJpdmF0ZSBmaW5kUGF0aEludGVybmFsKGZyb21Ob2RlSWQ6IHN0cmluZywgdG9Ob2RlSWQ6IHN0cmluZyk6IHN0cmluZ1tdIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uTWFuYWdlci5maW5kUGF0aChmcm9tTm9kZUlkLCB0b05vZGVJZCk7XG4gIH1cblxuICAvKipcbiAgICogRmluZCBwYXRoIGJldHdlZW4gdHdvIG5vZGVzIHVzaW5nIEJGU1xuICAgKiBAZGVwcmVjYXRlZCBUaGlzIG1ldGhvZCB3aWxsIGJlIG1hZGUgcHJpdmF0ZSBpbiBmdXR1cmUgdmVyc2lvbnNcbiAgICovXG4gIGZpbmRQYXRoKGZyb21Ob2RlSWQ6IHN0cmluZywgdG9Ob2RlSWQ6IHN0cmluZyk6IHN0cmluZ1tdIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5maW5kUGF0aEludGVybmFsKGZyb21Ob2RlSWQsIHRvTm9kZUlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCcm9hZGNhc3QgYSBuYW1lZCBtZXNzYWdlIHRvIGFsbCBjb25uZWN0ZWQgbm9kZXMgKGV4Y2x1ZGluZyBzZWxmKVxuICAgKi9cbiAgYXN5bmMgYnJvYWRjYXN0PFRCcm9hZGNhc3ROYW1lIGV4dGVuZHMgRXh0cmFjdEFsbEJyb2FkY2FzdE5hbWVzPFRHcmFwaERlZj4+KFxuICAgIGJyb2FkY2FzdE5hbWU6IFRCcm9hZGNhc3ROYW1lLFxuICAgIHBheWxvYWQ6IEV4dHJhY3RBbGxCcm9hZGNhc3RQYXlsb2FkPFRHcmFwaERlZiwgVEJyb2FkY2FzdE5hbWU+XG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLmJyb2FkY2FzdE1hbmFnZXIuYnJvYWRjYXN0KGJyb2FkY2FzdE5hbWUgYXMgc3RyaW5nLCBwYXlsb2FkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlciBhIGhhbmRsZXIgZm9yIHJlY2VpdmVkIGJyb2FkY2FzdCBtZXNzYWdlc1xuICAgKi9cbiAgYnJvYWRjYXN0UmVjZWl2ZWQ8VEJyb2FkY2FzdE5hbWUgZXh0ZW5kcyBFeHRyYWN0QWxsQnJvYWRjYXN0TmFtZXM8VEdyYXBoRGVmPj4oXG4gICAgYnJvYWRjYXN0TmFtZTogVEJyb2FkY2FzdE5hbWUsXG4gICAgaGFuZGxlcjogKHBheWxvYWQ6IEV4dHJhY3RBbGxCcm9hZGNhc3RQYXlsb2FkPFRHcmFwaERlZiwgVEJyb2FkY2FzdE5hbWU+KSA9PiB2b2lkXG4gICk6IHZvaWQge1xuICAgIHRoaXMuYnJvYWRjYXN0TWFuYWdlci5yZWdpc3RlckhhbmRsZXIoYnJvYWRjYXN0TmFtZSBhcyBzdHJpbmcsIGhhbmRsZXIpO1xuICB9XG59IiwiaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcbmV4cG9ydCBjb25zdCBMQVRFU1RfUFJPVE9DT0xfVkVSU0lPTiA9IFwiMjAyNS0wNi0xOFwiO1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfTkVHT1RJQVRFRF9QUk9UT0NPTF9WRVJTSU9OID0gXCIyMDI1LTAzLTI2XCI7XG5leHBvcnQgY29uc3QgU1VQUE9SVEVEX1BST1RPQ09MX1ZFUlNJT05TID0gW1xuICAgIExBVEVTVF9QUk9UT0NPTF9WRVJTSU9OLFxuICAgIFwiMjAyNS0wMy0yNlwiLFxuICAgIFwiMjAyNC0xMS0wNVwiLFxuICAgIFwiMjAyNC0xMC0wN1wiLFxuXTtcbi8qIEpTT04tUlBDIHR5cGVzICovXG5leHBvcnQgY29uc3QgSlNPTlJQQ19WRVJTSU9OID0gXCIyLjBcIjtcbi8qKlxuICogQSBwcm9ncmVzcyB0b2tlbiwgdXNlZCB0byBhc3NvY2lhdGUgcHJvZ3Jlc3Mgbm90aWZpY2F0aW9ucyB3aXRoIHRoZSBvcmlnaW5hbCByZXF1ZXN0LlxuICovXG5leHBvcnQgY29uc3QgUHJvZ3Jlc3NUb2tlblNjaGVtYSA9IHoudW5pb24oW3ouc3RyaW5nKCksIHoubnVtYmVyKCkuaW50KCldKTtcbi8qKlxuICogQW4gb3BhcXVlIHRva2VuIHVzZWQgdG8gcmVwcmVzZW50IGEgY3Vyc29yIGZvciBwYWdpbmF0aW9uLlxuICovXG5leHBvcnQgY29uc3QgQ3Vyc29yU2NoZW1hID0gei5zdHJpbmcoKTtcbmNvbnN0IFJlcXVlc3RNZXRhU2NoZW1hID0gelxuICAgIC5vYmplY3Qoe1xuICAgIC8qKlxuICAgICAqIElmIHNwZWNpZmllZCwgdGhlIGNhbGxlciBpcyByZXF1ZXN0aW5nIG91dC1vZi1iYW5kIHByb2dyZXNzIG5vdGlmaWNhdGlvbnMgZm9yIHRoaXMgcmVxdWVzdCAoYXMgcmVwcmVzZW50ZWQgYnkgbm90aWZpY2F0aW9ucy9wcm9ncmVzcykuIFRoZSB2YWx1ZSBvZiB0aGlzIHBhcmFtZXRlciBpcyBhbiBvcGFxdWUgdG9rZW4gdGhhdCB3aWxsIGJlIGF0dGFjaGVkIHRvIGFueSBzdWJzZXF1ZW50IG5vdGlmaWNhdGlvbnMuIFRoZSByZWNlaXZlciBpcyBub3Qgb2JsaWdhdGVkIHRvIHByb3ZpZGUgdGhlc2Ugbm90aWZpY2F0aW9ucy5cbiAgICAgKi9cbiAgICBwcm9ncmVzc1Rva2VuOiB6Lm9wdGlvbmFsKFByb2dyZXNzVG9rZW5TY2hlbWEpLFxufSlcbiAgICAucGFzc3Rocm91Z2goKTtcbmNvbnN0IEJhc2VSZXF1ZXN0UGFyYW1zU2NoZW1hID0gelxuICAgIC5vYmplY3Qoe1xuICAgIF9tZXRhOiB6Lm9wdGlvbmFsKFJlcXVlc3RNZXRhU2NoZW1hKSxcbn0pXG4gICAgLnBhc3N0aHJvdWdoKCk7XG5leHBvcnQgY29uc3QgUmVxdWVzdFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICBtZXRob2Q6IHouc3RyaW5nKCksXG4gICAgcGFyYW1zOiB6Lm9wdGlvbmFsKEJhc2VSZXF1ZXN0UGFyYW1zU2NoZW1hKSxcbn0pO1xuY29uc3QgQmFzZU5vdGlmaWNhdGlvblBhcmFtc1NjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICAvKipcbiAgICAgKiBTZWUgW01DUCBzcGVjaWZpY2F0aW9uXShodHRwczovL2dpdGh1Yi5jb20vbW9kZWxjb250ZXh0cHJvdG9jb2wvbW9kZWxjb250ZXh0cHJvdG9jb2wvYmxvYi80NzMzOWMwM2MxNDNiYjRlYzAxYTI2ZTcyMWExYjhmZTY2NjM0ZWJlL2RvY3Mvc3BlY2lmaWNhdGlvbi9kcmFmdC9iYXNpYy9pbmRleC5tZHgjZ2VuZXJhbC1maWVsZHMpXG4gICAgICogZm9yIG5vdGVzIG9uIF9tZXRhIHVzYWdlLlxuICAgICAqL1xuICAgIF9tZXRhOiB6Lm9wdGlvbmFsKHoub2JqZWN0KHt9KS5wYXNzdGhyb3VnaCgpKSxcbn0pXG4gICAgLnBhc3N0aHJvdWdoKCk7XG5leHBvcnQgY29uc3QgTm90aWZpY2F0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xuICAgIG1ldGhvZDogei5zdHJpbmcoKSxcbiAgICBwYXJhbXM6IHoub3B0aW9uYWwoQmFzZU5vdGlmaWNhdGlvblBhcmFtc1NjaGVtYSksXG59KTtcbmV4cG9ydCBjb25zdCBSZXN1bHRTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgLyoqXG4gICAgICogU2VlIFtNQ1Agc3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL21vZGVsY29udGV4dHByb3RvY29sL21vZGVsY29udGV4dHByb3RvY29sL2Jsb2IvNDczMzljMDNjMTQzYmI0ZWMwMWEyNmU3MjFhMWI4ZmU2NjYzNGViZS9kb2NzL3NwZWNpZmljYXRpb24vZHJhZnQvYmFzaWMvaW5kZXgubWR4I2dlbmVyYWwtZmllbGRzKVxuICAgICAqIGZvciBub3RlcyBvbiBfbWV0YSB1c2FnZS5cbiAgICAgKi9cbiAgICBfbWV0YTogei5vcHRpb25hbCh6Lm9iamVjdCh7fSkucGFzc3Rocm91Z2goKSksXG59KVxuICAgIC5wYXNzdGhyb3VnaCgpO1xuLyoqXG4gKiBBIHVuaXF1ZWx5IGlkZW50aWZ5aW5nIElEIGZvciBhIHJlcXVlc3QgaW4gSlNPTi1SUEMuXG4gKi9cbmV4cG9ydCBjb25zdCBSZXF1ZXN0SWRTY2hlbWEgPSB6LnVuaW9uKFt6LnN0cmluZygpLCB6Lm51bWJlcigpLmludCgpXSk7XG4vKipcbiAqIEEgcmVxdWVzdCB0aGF0IGV4cGVjdHMgYSByZXNwb25zZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEpTT05SUENSZXF1ZXN0U2NoZW1hID0gelxuICAgIC5vYmplY3Qoe1xuICAgIGpzb25ycGM6IHoubGl0ZXJhbChKU09OUlBDX1ZFUlNJT04pLFxuICAgIGlkOiBSZXF1ZXN0SWRTY2hlbWEsXG59KVxuICAgIC5tZXJnZShSZXF1ZXN0U2NoZW1hKVxuICAgIC5zdHJpY3QoKTtcbmV4cG9ydCBjb25zdCBpc0pTT05SUENSZXF1ZXN0ID0gKHZhbHVlKSA9PiBKU09OUlBDUmVxdWVzdFNjaGVtYS5zYWZlUGFyc2UodmFsdWUpLnN1Y2Nlc3M7XG4vKipcbiAqIEEgbm90aWZpY2F0aW9uIHdoaWNoIGRvZXMgbm90IGV4cGVjdCBhIHJlc3BvbnNlLlxuICovXG5leHBvcnQgY29uc3QgSlNPTlJQQ05vdGlmaWNhdGlvblNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICBqc29ucnBjOiB6LmxpdGVyYWwoSlNPTlJQQ19WRVJTSU9OKSxcbn0pXG4gICAgLm1lcmdlKE5vdGlmaWNhdGlvblNjaGVtYSlcbiAgICAuc3RyaWN0KCk7XG5leHBvcnQgY29uc3QgaXNKU09OUlBDTm90aWZpY2F0aW9uID0gKHZhbHVlKSA9PiBKU09OUlBDTm90aWZpY2F0aW9uU2NoZW1hLnNhZmVQYXJzZSh2YWx1ZSkuc3VjY2Vzcztcbi8qKlxuICogQSBzdWNjZXNzZnVsIChub24tZXJyb3IpIHJlc3BvbnNlIHRvIGEgcmVxdWVzdC5cbiAqL1xuZXhwb3J0IGNvbnN0IEpTT05SUENSZXNwb25zZVNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICBqc29ucnBjOiB6LmxpdGVyYWwoSlNPTlJQQ19WRVJTSU9OKSxcbiAgICBpZDogUmVxdWVzdElkU2NoZW1hLFxuICAgIHJlc3VsdDogUmVzdWx0U2NoZW1hLFxufSlcbiAgICAuc3RyaWN0KCk7XG5leHBvcnQgY29uc3QgaXNKU09OUlBDUmVzcG9uc2UgPSAodmFsdWUpID0+IEpTT05SUENSZXNwb25zZVNjaGVtYS5zYWZlUGFyc2UodmFsdWUpLnN1Y2Nlc3M7XG4vKipcbiAqIEVycm9yIGNvZGVzIGRlZmluZWQgYnkgdGhlIEpTT04tUlBDIHNwZWNpZmljYXRpb24uXG4gKi9cbmV4cG9ydCB2YXIgRXJyb3JDb2RlO1xuKGZ1bmN0aW9uIChFcnJvckNvZGUpIHtcbiAgICAvLyBTREsgZXJyb3IgY29kZXNcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiQ29ubmVjdGlvbkNsb3NlZFwiXSA9IC0zMjAwMF0gPSBcIkNvbm5lY3Rpb25DbG9zZWRcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiUmVxdWVzdFRpbWVvdXRcIl0gPSAtMzIwMDFdID0gXCJSZXF1ZXN0VGltZW91dFwiO1xuICAgIC8vIFN0YW5kYXJkIEpTT04tUlBDIGVycm9yIGNvZGVzXG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIlBhcnNlRXJyb3JcIl0gPSAtMzI3MDBdID0gXCJQYXJzZUVycm9yXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIkludmFsaWRSZXF1ZXN0XCJdID0gLTMyNjAwXSA9IFwiSW52YWxpZFJlcXVlc3RcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiTWV0aG9kTm90Rm91bmRcIl0gPSAtMzI2MDFdID0gXCJNZXRob2ROb3RGb3VuZFwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJJbnZhbGlkUGFyYW1zXCJdID0gLTMyNjAyXSA9IFwiSW52YWxpZFBhcmFtc1wiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJJbnRlcm5hbEVycm9yXCJdID0gLTMyNjAzXSA9IFwiSW50ZXJuYWxFcnJvclwiO1xufSkoRXJyb3JDb2RlIHx8IChFcnJvckNvZGUgPSB7fSkpO1xuLyoqXG4gKiBBIHJlc3BvbnNlIHRvIGEgcmVxdWVzdCB0aGF0IGluZGljYXRlcyBhbiBlcnJvciBvY2N1cnJlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IEpTT05SUENFcnJvclNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICBqc29ucnBjOiB6LmxpdGVyYWwoSlNPTlJQQ19WRVJTSU9OKSxcbiAgICBpZDogUmVxdWVzdElkU2NoZW1hLFxuICAgIGVycm9yOiB6Lm9iamVjdCh7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZXJyb3IgdHlwZSB0aGF0IG9jY3VycmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgY29kZTogei5udW1iZXIoKS5pbnQoKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgc2hvcnQgZGVzY3JpcHRpb24gb2YgdGhlIGVycm9yLiBUaGUgbWVzc2FnZSBTSE9VTEQgYmUgbGltaXRlZCB0byBhIGNvbmNpc2Ugc2luZ2xlIHNlbnRlbmNlLlxuICAgICAgICAgKi9cbiAgICAgICAgbWVzc2FnZTogei5zdHJpbmcoKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGVycm9yLiBUaGUgdmFsdWUgb2YgdGhpcyBtZW1iZXIgaXMgZGVmaW5lZCBieSB0aGUgc2VuZGVyIChlLmcuIGRldGFpbGVkIGVycm9yIGluZm9ybWF0aW9uLCBuZXN0ZWQgZXJyb3JzIGV0Yy4pLlxuICAgICAgICAgKi9cbiAgICAgICAgZGF0YTogei5vcHRpb25hbCh6LnVua25vd24oKSksXG4gICAgfSksXG59KVxuICAgIC5zdHJpY3QoKTtcbmV4cG9ydCBjb25zdCBpc0pTT05SUENFcnJvciA9ICh2YWx1ZSkgPT4gSlNPTlJQQ0Vycm9yU2NoZW1hLnNhZmVQYXJzZSh2YWx1ZSkuc3VjY2VzcztcbmV4cG9ydCBjb25zdCBKU09OUlBDTWVzc2FnZVNjaGVtYSA9IHoudW5pb24oW1xuICAgIEpTT05SUENSZXF1ZXN0U2NoZW1hLFxuICAgIEpTT05SUENOb3RpZmljYXRpb25TY2hlbWEsXG4gICAgSlNPTlJQQ1Jlc3BvbnNlU2NoZW1hLFxuICAgIEpTT05SUENFcnJvclNjaGVtYSxcbl0pO1xuLyogRW1wdHkgcmVzdWx0ICovXG4vKipcbiAqIEEgcmVzcG9uc2UgdGhhdCBpbmRpY2F0ZXMgc3VjY2VzcyBidXQgY2FycmllcyBubyBkYXRhLlxuICovXG5leHBvcnQgY29uc3QgRW1wdHlSZXN1bHRTY2hlbWEgPSBSZXN1bHRTY2hlbWEuc3RyaWN0KCk7XG4vKiBDYW5jZWxsYXRpb24gKi9cbi8qKlxuICogVGhpcyBub3RpZmljYXRpb24gY2FuIGJlIHNlbnQgYnkgZWl0aGVyIHNpZGUgdG8gaW5kaWNhdGUgdGhhdCBpdCBpcyBjYW5jZWxsaW5nIGEgcHJldmlvdXNseS1pc3N1ZWQgcmVxdWVzdC5cbiAqXG4gKiBUaGUgcmVxdWVzdCBTSE9VTEQgc3RpbGwgYmUgaW4tZmxpZ2h0LCBidXQgZHVlIHRvIGNvbW11bmljYXRpb24gbGF0ZW5jeSwgaXQgaXMgYWx3YXlzIHBvc3NpYmxlIHRoYXQgdGhpcyBub3RpZmljYXRpb24gTUFZIGFycml2ZSBhZnRlciB0aGUgcmVxdWVzdCBoYXMgYWxyZWFkeSBmaW5pc2hlZC5cbiAqXG4gKiBUaGlzIG5vdGlmaWNhdGlvbiBpbmRpY2F0ZXMgdGhhdCB0aGUgcmVzdWx0IHdpbGwgYmUgdW51c2VkLCBzbyBhbnkgYXNzb2NpYXRlZCBwcm9jZXNzaW5nIFNIT1VMRCBjZWFzZS5cbiAqXG4gKiBBIGNsaWVudCBNVVNUIE5PVCBhdHRlbXB0IHRvIGNhbmNlbCBpdHMgYGluaXRpYWxpemVgIHJlcXVlc3QuXG4gKi9cbmV4cG9ydCBjb25zdCBDYW5jZWxsZWROb3RpZmljYXRpb25TY2hlbWEgPSBOb3RpZmljYXRpb25TY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbChcIm5vdGlmaWNhdGlvbnMvY2FuY2VsbGVkXCIpLFxuICAgIHBhcmFtczogQmFzZU5vdGlmaWNhdGlvblBhcmFtc1NjaGVtYS5leHRlbmQoe1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIElEIG9mIHRoZSByZXF1ZXN0IHRvIGNhbmNlbC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBNVVNUIGNvcnJlc3BvbmQgdG8gdGhlIElEIG9mIGEgcmVxdWVzdCBwcmV2aW91c2x5IGlzc3VlZCBpbiB0aGUgc2FtZSBkaXJlY3Rpb24uXG4gICAgICAgICAqL1xuICAgICAgICByZXF1ZXN0SWQ6IFJlcXVlc3RJZFNjaGVtYSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIG9wdGlvbmFsIHN0cmluZyBkZXNjcmliaW5nIHRoZSByZWFzb24gZm9yIHRoZSBjYW5jZWxsYXRpb24uIFRoaXMgTUFZIGJlIGxvZ2dlZCBvciBwcmVzZW50ZWQgdG8gdGhlIHVzZXIuXG4gICAgICAgICAqL1xuICAgICAgICByZWFzb246IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICB9KSxcbn0pO1xuLyogQmFzZSBNZXRhZGF0YSAqL1xuLyoqXG4gKiBCYXNlIG1ldGFkYXRhIGludGVyZmFjZSBmb3IgY29tbW9uIHByb3BlcnRpZXMgYWNyb3NzIHJlc291cmNlcywgdG9vbHMsIHByb21wdHMsIGFuZCBpbXBsZW1lbnRhdGlvbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBCYXNlTWV0YWRhdGFTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgLyoqIEludGVuZGVkIGZvciBwcm9ncmFtbWF0aWMgb3IgbG9naWNhbCB1c2UsIGJ1dCB1c2VkIGFzIGEgZGlzcGxheSBuYW1lIGluIHBhc3Qgc3BlY3Mgb3IgZmFsbGJhY2sgKi9cbiAgICBuYW1lOiB6LnN0cmluZygpLFxuICAgIC8qKlxuICAgICogSW50ZW5kZWQgZm9yIFVJIGFuZCBlbmQtdXNlciBjb250ZXh0cyDigJQgb3B0aW1pemVkIHRvIGJlIGh1bWFuLXJlYWRhYmxlIGFuZCBlYXNpbHkgdW5kZXJzdG9vZCxcbiAgICAqIGV2ZW4gYnkgdGhvc2UgdW5mYW1pbGlhciB3aXRoIGRvbWFpbi1zcGVjaWZpYyB0ZXJtaW5vbG9neS5cbiAgICAqXG4gICAgKiBJZiBub3QgcHJvdmlkZWQsIHRoZSBuYW1lIHNob3VsZCBiZSB1c2VkIGZvciBkaXNwbGF5IChleGNlcHQgZm9yIFRvb2wsXG4gICAgKiB3aGVyZSBgYW5ub3RhdGlvbnMudGl0bGVgIHNob3VsZCBiZSBnaXZlbiBwcmVjZWRlbmNlIG92ZXIgdXNpbmcgYG5hbWVgLFxuICAgICogaWYgcHJlc2VudCkuXG4gICAgKi9cbiAgICB0aXRsZTogei5vcHRpb25hbCh6LnN0cmluZygpKSxcbn0pXG4gICAgLnBhc3N0aHJvdWdoKCk7XG4vKiBJbml0aWFsaXphdGlvbiAqL1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIG5hbWUgYW5kIHZlcnNpb24gb2YgYW4gTUNQIGltcGxlbWVudGF0aW9uLlxuICovXG5leHBvcnQgY29uc3QgSW1wbGVtZW50YXRpb25TY2hlbWEgPSBCYXNlTWV0YWRhdGFTY2hlbWEuZXh0ZW5kKHtcbiAgICB2ZXJzaW9uOiB6LnN0cmluZygpLFxufSk7XG4vKipcbiAqIENhcGFiaWxpdGllcyBhIGNsaWVudCBtYXkgc3VwcG9ydC4gS25vd24gY2FwYWJpbGl0aWVzIGFyZSBkZWZpbmVkIGhlcmUsIGluIHRoaXMgc2NoZW1hLCBidXQgdGhpcyBpcyBub3QgYSBjbG9zZWQgc2V0OiBhbnkgY2xpZW50IGNhbiBkZWZpbmUgaXRzIG93biwgYWRkaXRpb25hbCBjYXBhYmlsaXRpZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBDbGllbnRDYXBhYmlsaXRpZXNTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgLyoqXG4gICAgICogRXhwZXJpbWVudGFsLCBub24tc3RhbmRhcmQgY2FwYWJpbGl0aWVzIHRoYXQgdGhlIGNsaWVudCBzdXBwb3J0cy5cbiAgICAgKi9cbiAgICBleHBlcmltZW50YWw6IHoub3B0aW9uYWwoei5vYmplY3Qoe30pLnBhc3N0aHJvdWdoKCkpLFxuICAgIC8qKlxuICAgICAqIFByZXNlbnQgaWYgdGhlIGNsaWVudCBzdXBwb3J0cyBzYW1wbGluZyBmcm9tIGFuIExMTS5cbiAgICAgKi9cbiAgICBzYW1wbGluZzogei5vcHRpb25hbCh6Lm9iamVjdCh7fSkucGFzc3Rocm91Z2goKSksXG4gICAgLyoqXG4gICAgICogUHJlc2VudCBpZiB0aGUgY2xpZW50IHN1cHBvcnRzIGVsaWNpdGluZyB1c2VyIGlucHV0LlxuICAgICAqL1xuICAgIGVsaWNpdGF0aW9uOiB6Lm9wdGlvbmFsKHoub2JqZWN0KHt9KS5wYXNzdGhyb3VnaCgpKSxcbiAgICAvKipcbiAgICAgKiBQcmVzZW50IGlmIHRoZSBjbGllbnQgc3VwcG9ydHMgbGlzdGluZyByb290cy5cbiAgICAgKi9cbiAgICByb290czogei5vcHRpb25hbCh6XG4gICAgICAgIC5vYmplY3Qoe1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGUgY2xpZW50IHN1cHBvcnRzIGlzc3Vpbmcgbm90aWZpY2F0aW9ucyBmb3IgY2hhbmdlcyB0byB0aGUgcm9vdHMgbGlzdC5cbiAgICAgICAgICovXG4gICAgICAgIGxpc3RDaGFuZ2VkOiB6Lm9wdGlvbmFsKHouYm9vbGVhbigpKSxcbiAgICB9KVxuICAgICAgICAucGFzc3Rocm91Z2goKSksXG59KVxuICAgIC5wYXNzdGhyb3VnaCgpO1xuLyoqXG4gKiBUaGlzIHJlcXVlc3QgaXMgc2VudCBmcm9tIHRoZSBjbGllbnQgdG8gdGhlIHNlcnZlciB3aGVuIGl0IGZpcnN0IGNvbm5lY3RzLCBhc2tpbmcgaXQgdG8gYmVnaW4gaW5pdGlhbGl6YXRpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBJbml0aWFsaXplUmVxdWVzdFNjaGVtYSA9IFJlcXVlc3RTY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbChcImluaXRpYWxpemVcIiksXG4gICAgcGFyYW1zOiBCYXNlUmVxdWVzdFBhcmFtc1NjaGVtYS5leHRlbmQoe1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxhdGVzdCB2ZXJzaW9uIG9mIHRoZSBNb2RlbCBDb250ZXh0IFByb3RvY29sIHRoYXQgdGhlIGNsaWVudCBzdXBwb3J0cy4gVGhlIGNsaWVudCBNQVkgZGVjaWRlIHRvIHN1cHBvcnQgb2xkZXIgdmVyc2lvbnMgYXMgd2VsbC5cbiAgICAgICAgICovXG4gICAgICAgIHByb3RvY29sVmVyc2lvbjogei5zdHJpbmcoKSxcbiAgICAgICAgY2FwYWJpbGl0aWVzOiBDbGllbnRDYXBhYmlsaXRpZXNTY2hlbWEsXG4gICAgICAgIGNsaWVudEluZm86IEltcGxlbWVudGF0aW9uU2NoZW1hLFxuICAgIH0pLFxufSk7XG5leHBvcnQgY29uc3QgaXNJbml0aWFsaXplUmVxdWVzdCA9ICh2YWx1ZSkgPT4gSW5pdGlhbGl6ZVJlcXVlc3RTY2hlbWEuc2FmZVBhcnNlKHZhbHVlKS5zdWNjZXNzO1xuLyoqXG4gKiBDYXBhYmlsaXRpZXMgdGhhdCBhIHNlcnZlciBtYXkgc3VwcG9ydC4gS25vd24gY2FwYWJpbGl0aWVzIGFyZSBkZWZpbmVkIGhlcmUsIGluIHRoaXMgc2NoZW1hLCBidXQgdGhpcyBpcyBub3QgYSBjbG9zZWQgc2V0OiBhbnkgc2VydmVyIGNhbiBkZWZpbmUgaXRzIG93biwgYWRkaXRpb25hbCBjYXBhYmlsaXRpZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBTZXJ2ZXJDYXBhYmlsaXRpZXNTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgLyoqXG4gICAgICogRXhwZXJpbWVudGFsLCBub24tc3RhbmRhcmQgY2FwYWJpbGl0aWVzIHRoYXQgdGhlIHNlcnZlciBzdXBwb3J0cy5cbiAgICAgKi9cbiAgICBleHBlcmltZW50YWw6IHoub3B0aW9uYWwoei5vYmplY3Qoe30pLnBhc3N0aHJvdWdoKCkpLFxuICAgIC8qKlxuICAgICAqIFByZXNlbnQgaWYgdGhlIHNlcnZlciBzdXBwb3J0cyBzZW5kaW5nIGxvZyBtZXNzYWdlcyB0byB0aGUgY2xpZW50LlxuICAgICAqL1xuICAgIGxvZ2dpbmc6IHoub3B0aW9uYWwoei5vYmplY3Qoe30pLnBhc3N0aHJvdWdoKCkpLFxuICAgIC8qKlxuICAgICAqIFByZXNlbnQgaWYgdGhlIHNlcnZlciBzdXBwb3J0cyBzZW5kaW5nIGNvbXBsZXRpb25zIHRvIHRoZSBjbGllbnQuXG4gICAgICovXG4gICAgY29tcGxldGlvbnM6IHoub3B0aW9uYWwoei5vYmplY3Qoe30pLnBhc3N0aHJvdWdoKCkpLFxuICAgIC8qKlxuICAgICAqIFByZXNlbnQgaWYgdGhlIHNlcnZlciBvZmZlcnMgYW55IHByb21wdCB0ZW1wbGF0ZXMuXG4gICAgICovXG4gICAgcHJvbXB0czogei5vcHRpb25hbCh6XG4gICAgICAgIC5vYmplY3Qoe1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGlzIHNlcnZlciBzdXBwb3J0cyBpc3N1aW5nIG5vdGlmaWNhdGlvbnMgZm9yIGNoYW5nZXMgdG8gdGhlIHByb21wdCBsaXN0LlxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdENoYW5nZWQ6IHoub3B0aW9uYWwoei5ib29sZWFuKCkpLFxuICAgIH0pXG4gICAgICAgIC5wYXNzdGhyb3VnaCgpKSxcbiAgICAvKipcbiAgICAgKiBQcmVzZW50IGlmIHRoZSBzZXJ2ZXIgb2ZmZXJzIGFueSByZXNvdXJjZXMgdG8gcmVhZC5cbiAgICAgKi9cbiAgICByZXNvdXJjZXM6IHoub3B0aW9uYWwoelxuICAgICAgICAub2JqZWN0KHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhpcyBzZXJ2ZXIgc3VwcG9ydHMgY2xpZW50cyBzdWJzY3JpYmluZyB0byByZXNvdXJjZSB1cGRhdGVzLlxuICAgICAgICAgKi9cbiAgICAgICAgc3Vic2NyaWJlOiB6Lm9wdGlvbmFsKHouYm9vbGVhbigpKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhpcyBzZXJ2ZXIgc3VwcG9ydHMgaXNzdWluZyBub3RpZmljYXRpb25zIGZvciBjaGFuZ2VzIHRvIHRoZSByZXNvdXJjZSBsaXN0LlxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdENoYW5nZWQ6IHoub3B0aW9uYWwoei5ib29sZWFuKCkpLFxuICAgIH0pXG4gICAgICAgIC5wYXNzdGhyb3VnaCgpKSxcbiAgICAvKipcbiAgICAgKiBQcmVzZW50IGlmIHRoZSBzZXJ2ZXIgb2ZmZXJzIGFueSB0b29scyB0byBjYWxsLlxuICAgICAqL1xuICAgIHRvb2xzOiB6Lm9wdGlvbmFsKHpcbiAgICAgICAgLm9iamVjdCh7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoaXMgc2VydmVyIHN1cHBvcnRzIGlzc3Vpbmcgbm90aWZpY2F0aW9ucyBmb3IgY2hhbmdlcyB0byB0aGUgdG9vbCBsaXN0LlxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdENoYW5nZWQ6IHoub3B0aW9uYWwoei5ib29sZWFuKCkpLFxuICAgIH0pXG4gICAgICAgIC5wYXNzdGhyb3VnaCgpKSxcbn0pXG4gICAgLnBhc3N0aHJvdWdoKCk7XG4vKipcbiAqIEFmdGVyIHJlY2VpdmluZyBhbiBpbml0aWFsaXplIHJlcXVlc3QgZnJvbSB0aGUgY2xpZW50LCB0aGUgc2VydmVyIHNlbmRzIHRoaXMgcmVzcG9uc2UuXG4gKi9cbmV4cG9ydCBjb25zdCBJbml0aWFsaXplUmVzdWx0U2NoZW1hID0gUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gICAgLyoqXG4gICAgICogVGhlIHZlcnNpb24gb2YgdGhlIE1vZGVsIENvbnRleHQgUHJvdG9jb2wgdGhhdCB0aGUgc2VydmVyIHdhbnRzIHRvIHVzZS4gVGhpcyBtYXkgbm90IG1hdGNoIHRoZSB2ZXJzaW9uIHRoYXQgdGhlIGNsaWVudCByZXF1ZXN0ZWQuIElmIHRoZSBjbGllbnQgY2Fubm90IHN1cHBvcnQgdGhpcyB2ZXJzaW9uLCBpdCBNVVNUIGRpc2Nvbm5lY3QuXG4gICAgICovXG4gICAgcHJvdG9jb2xWZXJzaW9uOiB6LnN0cmluZygpLFxuICAgIGNhcGFiaWxpdGllczogU2VydmVyQ2FwYWJpbGl0aWVzU2NoZW1hLFxuICAgIHNlcnZlckluZm86IEltcGxlbWVudGF0aW9uU2NoZW1hLFxuICAgIC8qKlxuICAgICAqIEluc3RydWN0aW9ucyBkZXNjcmliaW5nIGhvdyB0byB1c2UgdGhlIHNlcnZlciBhbmQgaXRzIGZlYXR1cmVzLlxuICAgICAqXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZCBieSBjbGllbnRzIHRvIGltcHJvdmUgdGhlIExMTSdzIHVuZGVyc3RhbmRpbmcgb2YgYXZhaWxhYmxlIHRvb2xzLCByZXNvdXJjZXMsIGV0Yy4gSXQgY2FuIGJlIHRob3VnaHQgb2YgbGlrZSBhIFwiaGludFwiIHRvIHRoZSBtb2RlbC4gRm9yIGV4YW1wbGUsIHRoaXMgaW5mb3JtYXRpb24gTUFZIGJlIGFkZGVkIHRvIHRoZSBzeXN0ZW0gcHJvbXB0LlxuICAgICAqL1xuICAgIGluc3RydWN0aW9uczogei5vcHRpb25hbCh6LnN0cmluZygpKSxcbn0pO1xuLyoqXG4gKiBUaGlzIG5vdGlmaWNhdGlvbiBpcyBzZW50IGZyb20gdGhlIGNsaWVudCB0byB0aGUgc2VydmVyIGFmdGVyIGluaXRpYWxpemF0aW9uIGhhcyBmaW5pc2hlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IEluaXRpYWxpemVkTm90aWZpY2F0aW9uU2NoZW1hID0gTm90aWZpY2F0aW9uU2NoZW1hLmV4dGVuZCh7XG4gICAgbWV0aG9kOiB6LmxpdGVyYWwoXCJub3RpZmljYXRpb25zL2luaXRpYWxpemVkXCIpLFxufSk7XG5leHBvcnQgY29uc3QgaXNJbml0aWFsaXplZE5vdGlmaWNhdGlvbiA9ICh2YWx1ZSkgPT4gSW5pdGlhbGl6ZWROb3RpZmljYXRpb25TY2hlbWEuc2FmZVBhcnNlKHZhbHVlKS5zdWNjZXNzO1xuLyogUGluZyAqL1xuLyoqXG4gKiBBIHBpbmcsIGlzc3VlZCBieSBlaXRoZXIgdGhlIHNlcnZlciBvciB0aGUgY2xpZW50LCB0byBjaGVjayB0aGF0IHRoZSBvdGhlciBwYXJ0eSBpcyBzdGlsbCBhbGl2ZS4gVGhlIHJlY2VpdmVyIG11c3QgcHJvbXB0bHkgcmVzcG9uZCwgb3IgZWxzZSBtYXkgYmUgZGlzY29ubmVjdGVkLlxuICovXG5leHBvcnQgY29uc3QgUGluZ1JlcXVlc3RTY2hlbWEgPSBSZXF1ZXN0U2NoZW1hLmV4dGVuZCh7XG4gICAgbWV0aG9kOiB6LmxpdGVyYWwoXCJwaW5nXCIpLFxufSk7XG4vKiBQcm9ncmVzcyBub3RpZmljYXRpb25zICovXG5leHBvcnQgY29uc3QgUHJvZ3Jlc3NTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgLyoqXG4gICAgICogVGhlIHByb2dyZXNzIHRodXMgZmFyLiBUaGlzIHNob3VsZCBpbmNyZWFzZSBldmVyeSB0aW1lIHByb2dyZXNzIGlzIG1hZGUsIGV2ZW4gaWYgdGhlIHRvdGFsIGlzIHVua25vd24uXG4gICAgICovXG4gICAgcHJvZ3Jlc3M6IHoubnVtYmVyKCksXG4gICAgLyoqXG4gICAgICogVG90YWwgbnVtYmVyIG9mIGl0ZW1zIHRvIHByb2Nlc3MgKG9yIHRvdGFsIHByb2dyZXNzIHJlcXVpcmVkKSwgaWYga25vd24uXG4gICAgICovXG4gICAgdG90YWw6IHoub3B0aW9uYWwoei5udW1iZXIoKSksXG4gICAgLyoqXG4gICAgICogQW4gb3B0aW9uYWwgbWVzc2FnZSBkZXNjcmliaW5nIHRoZSBjdXJyZW50IHByb2dyZXNzLlxuICAgICAqL1xuICAgIG1lc3NhZ2U6IHoub3B0aW9uYWwoei5zdHJpbmcoKSksXG59KVxuICAgIC5wYXNzdGhyb3VnaCgpO1xuLyoqXG4gKiBBbiBvdXQtb2YtYmFuZCBub3RpZmljYXRpb24gdXNlZCB0byBpbmZvcm0gdGhlIHJlY2VpdmVyIG9mIGEgcHJvZ3Jlc3MgdXBkYXRlIGZvciBhIGxvbmctcnVubmluZyByZXF1ZXN0LlxuICovXG5leHBvcnQgY29uc3QgUHJvZ3Jlc3NOb3RpZmljYXRpb25TY2hlbWEgPSBOb3RpZmljYXRpb25TY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbChcIm5vdGlmaWNhdGlvbnMvcHJvZ3Jlc3NcIiksXG4gICAgcGFyYW1zOiBCYXNlTm90aWZpY2F0aW9uUGFyYW1zU2NoZW1hLm1lcmdlKFByb2dyZXNzU2NoZW1hKS5leHRlbmQoe1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHByb2dyZXNzIHRva2VuIHdoaWNoIHdhcyBnaXZlbiBpbiB0aGUgaW5pdGlhbCByZXF1ZXN0LCB1c2VkIHRvIGFzc29jaWF0ZSB0aGlzIG5vdGlmaWNhdGlvbiB3aXRoIHRoZSByZXF1ZXN0IHRoYXQgaXMgcHJvY2VlZGluZy5cbiAgICAgICAgICovXG4gICAgICAgIHByb2dyZXNzVG9rZW46IFByb2dyZXNzVG9rZW5TY2hlbWEsXG4gICAgfSksXG59KTtcbi8qIFBhZ2luYXRpb24gKi9cbmV4cG9ydCBjb25zdCBQYWdpbmF0ZWRSZXF1ZXN0U2NoZW1hID0gUmVxdWVzdFNjaGVtYS5leHRlbmQoe1xuICAgIHBhcmFtczogQmFzZVJlcXVlc3RQYXJhbXNTY2hlbWEuZXh0ZW5kKHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIG9wYXF1ZSB0b2tlbiByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgcGFnaW5hdGlvbiBwb3NpdGlvbi5cbiAgICAgICAgICogSWYgcHJvdmlkZWQsIHRoZSBzZXJ2ZXIgc2hvdWxkIHJldHVybiByZXN1bHRzIHN0YXJ0aW5nIGFmdGVyIHRoaXMgY3Vyc29yLlxuICAgICAgICAgKi9cbiAgICAgICAgY3Vyc29yOiB6Lm9wdGlvbmFsKEN1cnNvclNjaGVtYSksXG4gICAgfSkub3B0aW9uYWwoKSxcbn0pO1xuZXhwb3J0IGNvbnN0IFBhZ2luYXRlZFJlc3VsdFNjaGVtYSA9IFJlc3VsdFNjaGVtYS5leHRlbmQoe1xuICAgIC8qKlxuICAgICAqIEFuIG9wYXF1ZSB0b2tlbiByZXByZXNlbnRpbmcgdGhlIHBhZ2luYXRpb24gcG9zaXRpb24gYWZ0ZXIgdGhlIGxhc3QgcmV0dXJuZWQgcmVzdWx0LlxuICAgICAqIElmIHByZXNlbnQsIHRoZXJlIG1heSBiZSBtb3JlIHJlc3VsdHMgYXZhaWxhYmxlLlxuICAgICAqL1xuICAgIG5leHRDdXJzb3I6IHoub3B0aW9uYWwoQ3Vyc29yU2NoZW1hKSxcbn0pO1xuLyogUmVzb3VyY2VzICovXG4vKipcbiAqIFRoZSBjb250ZW50cyBvZiBhIHNwZWNpZmljIHJlc291cmNlIG9yIHN1Yi1yZXNvdXJjZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFJlc291cmNlQ29udGVudHNTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgLyoqXG4gICAgICogVGhlIFVSSSBvZiB0aGlzIHJlc291cmNlLlxuICAgICAqL1xuICAgIHVyaTogei5zdHJpbmcoKSxcbiAgICAvKipcbiAgICAgKiBUaGUgTUlNRSB0eXBlIG9mIHRoaXMgcmVzb3VyY2UsIGlmIGtub3duLlxuICAgICAqL1xuICAgIG1pbWVUeXBlOiB6Lm9wdGlvbmFsKHouc3RyaW5nKCkpLFxuICAgIC8qKlxuICAgICAqIFNlZSBbTUNQIHNwZWNpZmljYXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9tb2RlbGNvbnRleHRwcm90b2NvbC9tb2RlbGNvbnRleHRwcm90b2NvbC9ibG9iLzQ3MzM5YzAzYzE0M2JiNGVjMDFhMjZlNzIxYTFiOGZlNjY2MzRlYmUvZG9jcy9zcGVjaWZpY2F0aW9uL2RyYWZ0L2Jhc2ljL2luZGV4Lm1keCNnZW5lcmFsLWZpZWxkcylcbiAgICAgKiBmb3Igbm90ZXMgb24gX21ldGEgdXNhZ2UuXG4gICAgICovXG4gICAgX21ldGE6IHoub3B0aW9uYWwoei5vYmplY3Qoe30pLnBhc3N0aHJvdWdoKCkpLFxufSlcbiAgICAucGFzc3Rocm91Z2goKTtcbmV4cG9ydCBjb25zdCBUZXh0UmVzb3VyY2VDb250ZW50c1NjaGVtYSA9IFJlc291cmNlQ29udGVudHNTY2hlbWEuZXh0ZW5kKHtcbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dCBvZiB0aGUgaXRlbS4gVGhpcyBtdXN0IG9ubHkgYmUgc2V0IGlmIHRoZSBpdGVtIGNhbiBhY3R1YWxseSBiZSByZXByZXNlbnRlZCBhcyB0ZXh0IChub3QgYmluYXJ5IGRhdGEpLlxuICAgICAqL1xuICAgIHRleHQ6IHouc3RyaW5nKCksXG59KTtcbmV4cG9ydCBjb25zdCBCbG9iUmVzb3VyY2VDb250ZW50c1NjaGVtYSA9IFJlc291cmNlQ29udGVudHNTY2hlbWEuZXh0ZW5kKHtcbiAgICAvKipcbiAgICAgKiBBIGJhc2U2NC1lbmNvZGVkIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGJpbmFyeSBkYXRhIG9mIHRoZSBpdGVtLlxuICAgICAqL1xuICAgIGJsb2I6IHouc3RyaW5nKCkuYmFzZTY0KCksXG59KTtcbi8qKlxuICogQSBrbm93biByZXNvdXJjZSB0aGF0IHRoZSBzZXJ2ZXIgaXMgY2FwYWJsZSBvZiByZWFkaW5nLlxuICovXG5leHBvcnQgY29uc3QgUmVzb3VyY2VTY2hlbWEgPSBCYXNlTWV0YWRhdGFTY2hlbWEuZXh0ZW5kKHtcbiAgICAvKipcbiAgICAgKiBUaGUgVVJJIG9mIHRoaXMgcmVzb3VyY2UuXG4gICAgICovXG4gICAgdXJpOiB6LnN0cmluZygpLFxuICAgIC8qKlxuICAgICAqIEEgZGVzY3JpcHRpb24gb2Ygd2hhdCB0aGlzIHJlc291cmNlIHJlcHJlc2VudHMuXG4gICAgICpcbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VkIGJ5IGNsaWVudHMgdG8gaW1wcm92ZSB0aGUgTExNJ3MgdW5kZXJzdGFuZGluZyBvZiBhdmFpbGFibGUgcmVzb3VyY2VzLiBJdCBjYW4gYmUgdGhvdWdodCBvZiBsaWtlIGEgXCJoaW50XCIgdG8gdGhlIG1vZGVsLlxuICAgICAqL1xuICAgIGRlc2NyaXB0aW9uOiB6Lm9wdGlvbmFsKHouc3RyaW5nKCkpLFxuICAgIC8qKlxuICAgICAqIFRoZSBNSU1FIHR5cGUgb2YgdGhpcyByZXNvdXJjZSwgaWYga25vd24uXG4gICAgICovXG4gICAgbWltZVR5cGU6IHoub3B0aW9uYWwoei5zdHJpbmcoKSksXG4gICAgLyoqXG4gICAgICogU2VlIFtNQ1Agc3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL21vZGVsY29udGV4dHByb3RvY29sL21vZGVsY29udGV4dHByb3RvY29sL2Jsb2IvNDczMzljMDNjMTQzYmI0ZWMwMWEyNmU3MjFhMWI4ZmU2NjYzNGViZS9kb2NzL3NwZWNpZmljYXRpb24vZHJhZnQvYmFzaWMvaW5kZXgubWR4I2dlbmVyYWwtZmllbGRzKVxuICAgICAqIGZvciBub3RlcyBvbiBfbWV0YSB1c2FnZS5cbiAgICAgKi9cbiAgICBfbWV0YTogei5vcHRpb25hbCh6Lm9iamVjdCh7fSkucGFzc3Rocm91Z2goKSksXG59KTtcbi8qKlxuICogQSB0ZW1wbGF0ZSBkZXNjcmlwdGlvbiBmb3IgcmVzb3VyY2VzIGF2YWlsYWJsZSBvbiB0aGUgc2VydmVyLlxuICovXG5leHBvcnQgY29uc3QgUmVzb3VyY2VUZW1wbGF0ZVNjaGVtYSA9IEJhc2VNZXRhZGF0YVNjaGVtYS5leHRlbmQoe1xuICAgIC8qKlxuICAgICAqIEEgVVJJIHRlbXBsYXRlIChhY2NvcmRpbmcgdG8gUkZDIDY1NzApIHRoYXQgY2FuIGJlIHVzZWQgdG8gY29uc3RydWN0IHJlc291cmNlIFVSSXMuXG4gICAgICovXG4gICAgdXJpVGVtcGxhdGU6IHouc3RyaW5nKCksXG4gICAgLyoqXG4gICAgICogQSBkZXNjcmlwdGlvbiBvZiB3aGF0IHRoaXMgdGVtcGxhdGUgaXMgZm9yLlxuICAgICAqXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZCBieSBjbGllbnRzIHRvIGltcHJvdmUgdGhlIExMTSdzIHVuZGVyc3RhbmRpbmcgb2YgYXZhaWxhYmxlIHJlc291cmNlcy4gSXQgY2FuIGJlIHRob3VnaHQgb2YgbGlrZSBhIFwiaGludFwiIHRvIHRoZSBtb2RlbC5cbiAgICAgKi9cbiAgICBkZXNjcmlwdGlvbjogei5vcHRpb25hbCh6LnN0cmluZygpKSxcbiAgICAvKipcbiAgICAgKiBUaGUgTUlNRSB0eXBlIGZvciBhbGwgcmVzb3VyY2VzIHRoYXQgbWF0Y2ggdGhpcyB0ZW1wbGF0ZS4gVGhpcyBzaG91bGQgb25seSBiZSBpbmNsdWRlZCBpZiBhbGwgcmVzb3VyY2VzIG1hdGNoaW5nIHRoaXMgdGVtcGxhdGUgaGF2ZSB0aGUgc2FtZSB0eXBlLlxuICAgICAqL1xuICAgIG1pbWVUeXBlOiB6Lm9wdGlvbmFsKHouc3RyaW5nKCkpLFxuICAgIC8qKlxuICAgICAqIFNlZSBbTUNQIHNwZWNpZmljYXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9tb2RlbGNvbnRleHRwcm90b2NvbC9tb2RlbGNvbnRleHRwcm90b2NvbC9ibG9iLzQ3MzM5YzAzYzE0M2JiNGVjMDFhMjZlNzIxYTFiOGZlNjY2MzRlYmUvZG9jcy9zcGVjaWZpY2F0aW9uL2RyYWZ0L2Jhc2ljL2luZGV4Lm1keCNnZW5lcmFsLWZpZWxkcylcbiAgICAgKiBmb3Igbm90ZXMgb24gX21ldGEgdXNhZ2UuXG4gICAgICovXG4gICAgX21ldGE6IHoub3B0aW9uYWwoei5vYmplY3Qoe30pLnBhc3N0aHJvdWdoKCkpLFxufSk7XG4vKipcbiAqIFNlbnQgZnJvbSB0aGUgY2xpZW50IHRvIHJlcXVlc3QgYSBsaXN0IG9mIHJlc291cmNlcyB0aGUgc2VydmVyIGhhcy5cbiAqL1xuZXhwb3J0IGNvbnN0IExpc3RSZXNvdXJjZXNSZXF1ZXN0U2NoZW1hID0gUGFnaW5hdGVkUmVxdWVzdFNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKFwicmVzb3VyY2VzL2xpc3RcIiksXG59KTtcbi8qKlxuICogVGhlIHNlcnZlcidzIHJlc3BvbnNlIHRvIGEgcmVzb3VyY2VzL2xpc3QgcmVxdWVzdCBmcm9tIHRoZSBjbGllbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBMaXN0UmVzb3VyY2VzUmVzdWx0U2NoZW1hID0gUGFnaW5hdGVkUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gICAgcmVzb3VyY2VzOiB6LmFycmF5KFJlc291cmNlU2NoZW1hKSxcbn0pO1xuLyoqXG4gKiBTZW50IGZyb20gdGhlIGNsaWVudCB0byByZXF1ZXN0IGEgbGlzdCBvZiByZXNvdXJjZSB0ZW1wbGF0ZXMgdGhlIHNlcnZlciBoYXMuXG4gKi9cbmV4cG9ydCBjb25zdCBMaXN0UmVzb3VyY2VUZW1wbGF0ZXNSZXF1ZXN0U2NoZW1hID0gUGFnaW5hdGVkUmVxdWVzdFNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKFwicmVzb3VyY2VzL3RlbXBsYXRlcy9saXN0XCIpLFxufSk7XG4vKipcbiAqIFRoZSBzZXJ2ZXIncyByZXNwb25zZSB0byBhIHJlc291cmNlcy90ZW1wbGF0ZXMvbGlzdCByZXF1ZXN0IGZyb20gdGhlIGNsaWVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IExpc3RSZXNvdXJjZVRlbXBsYXRlc1Jlc3VsdFNjaGVtYSA9IFBhZ2luYXRlZFJlc3VsdFNjaGVtYS5leHRlbmQoe1xuICAgIHJlc291cmNlVGVtcGxhdGVzOiB6LmFycmF5KFJlc291cmNlVGVtcGxhdGVTY2hlbWEpLFxufSk7XG4vKipcbiAqIFNlbnQgZnJvbSB0aGUgY2xpZW50IHRvIHRoZSBzZXJ2ZXIsIHRvIHJlYWQgYSBzcGVjaWZpYyByZXNvdXJjZSBVUkkuXG4gKi9cbmV4cG9ydCBjb25zdCBSZWFkUmVzb3VyY2VSZXF1ZXN0U2NoZW1hID0gUmVxdWVzdFNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKFwicmVzb3VyY2VzL3JlYWRcIiksXG4gICAgcGFyYW1zOiBCYXNlUmVxdWVzdFBhcmFtc1NjaGVtYS5leHRlbmQoe1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFVSSSBvZiB0aGUgcmVzb3VyY2UgdG8gcmVhZC4gVGhlIFVSSSBjYW4gdXNlIGFueSBwcm90b2NvbDsgaXQgaXMgdXAgdG8gdGhlIHNlcnZlciBob3cgdG8gaW50ZXJwcmV0IGl0LlxuICAgICAgICAgKi9cbiAgICAgICAgdXJpOiB6LnN0cmluZygpLFxuICAgIH0pLFxufSk7XG4vKipcbiAqIFRoZSBzZXJ2ZXIncyByZXNwb25zZSB0byBhIHJlc291cmNlcy9yZWFkIHJlcXVlc3QgZnJvbSB0aGUgY2xpZW50LlxuICovXG5leHBvcnQgY29uc3QgUmVhZFJlc291cmNlUmVzdWx0U2NoZW1hID0gUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gICAgY29udGVudHM6IHouYXJyYXkoei51bmlvbihbVGV4dFJlc291cmNlQ29udGVudHNTY2hlbWEsIEJsb2JSZXNvdXJjZUNvbnRlbnRzU2NoZW1hXSkpLFxufSk7XG4vKipcbiAqIEFuIG9wdGlvbmFsIG5vdGlmaWNhdGlvbiBmcm9tIHRoZSBzZXJ2ZXIgdG8gdGhlIGNsaWVudCwgaW5mb3JtaW5nIGl0IHRoYXQgdGhlIGxpc3Qgb2YgcmVzb3VyY2VzIGl0IGNhbiByZWFkIGZyb20gaGFzIGNoYW5nZWQuIFRoaXMgbWF5IGJlIGlzc3VlZCBieSBzZXJ2ZXJzIHdpdGhvdXQgYW55IHByZXZpb3VzIHN1YnNjcmlwdGlvbiBmcm9tIHRoZSBjbGllbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBSZXNvdXJjZUxpc3RDaGFuZ2VkTm90aWZpY2F0aW9uU2NoZW1hID0gTm90aWZpY2F0aW9uU2NoZW1hLmV4dGVuZCh7XG4gICAgbWV0aG9kOiB6LmxpdGVyYWwoXCJub3RpZmljYXRpb25zL3Jlc291cmNlcy9saXN0X2NoYW5nZWRcIiksXG59KTtcbi8qKlxuICogU2VudCBmcm9tIHRoZSBjbGllbnQgdG8gcmVxdWVzdCByZXNvdXJjZXMvdXBkYXRlZCBub3RpZmljYXRpb25zIGZyb20gdGhlIHNlcnZlciB3aGVuZXZlciBhIHBhcnRpY3VsYXIgcmVzb3VyY2UgY2hhbmdlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IFN1YnNjcmliZVJlcXVlc3RTY2hlbWEgPSBSZXF1ZXN0U2NoZW1hLmV4dGVuZCh7XG4gICAgbWV0aG9kOiB6LmxpdGVyYWwoXCJyZXNvdXJjZXMvc3Vic2NyaWJlXCIpLFxuICAgIHBhcmFtczogQmFzZVJlcXVlc3RQYXJhbXNTY2hlbWEuZXh0ZW5kKHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBVUkkgb2YgdGhlIHJlc291cmNlIHRvIHN1YnNjcmliZSB0by4gVGhlIFVSSSBjYW4gdXNlIGFueSBwcm90b2NvbDsgaXQgaXMgdXAgdG8gdGhlIHNlcnZlciBob3cgdG8gaW50ZXJwcmV0IGl0LlxuICAgICAgICAgKi9cbiAgICAgICAgdXJpOiB6LnN0cmluZygpLFxuICAgIH0pLFxufSk7XG4vKipcbiAqIFNlbnQgZnJvbSB0aGUgY2xpZW50IHRvIHJlcXVlc3QgY2FuY2VsbGF0aW9uIG9mIHJlc291cmNlcy91cGRhdGVkIG5vdGlmaWNhdGlvbnMgZnJvbSB0aGUgc2VydmVyLiBUaGlzIHNob3VsZCBmb2xsb3cgYSBwcmV2aW91cyByZXNvdXJjZXMvc3Vic2NyaWJlIHJlcXVlc3QuXG4gKi9cbmV4cG9ydCBjb25zdCBVbnN1YnNjcmliZVJlcXVlc3RTY2hlbWEgPSBSZXF1ZXN0U2NoZW1hLmV4dGVuZCh7XG4gICAgbWV0aG9kOiB6LmxpdGVyYWwoXCJyZXNvdXJjZXMvdW5zdWJzY3JpYmVcIiksXG4gICAgcGFyYW1zOiBCYXNlUmVxdWVzdFBhcmFtc1NjaGVtYS5leHRlbmQoe1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFVSSSBvZiB0aGUgcmVzb3VyY2UgdG8gdW5zdWJzY3JpYmUgZnJvbS5cbiAgICAgICAgICovXG4gICAgICAgIHVyaTogei5zdHJpbmcoKSxcbiAgICB9KSxcbn0pO1xuLyoqXG4gKiBBIG5vdGlmaWNhdGlvbiBmcm9tIHRoZSBzZXJ2ZXIgdG8gdGhlIGNsaWVudCwgaW5mb3JtaW5nIGl0IHRoYXQgYSByZXNvdXJjZSBoYXMgY2hhbmdlZCBhbmQgbWF5IG5lZWQgdG8gYmUgcmVhZCBhZ2Fpbi4gVGhpcyBzaG91bGQgb25seSBiZSBzZW50IGlmIHRoZSBjbGllbnQgcHJldmlvdXNseSBzZW50IGEgcmVzb3VyY2VzL3N1YnNjcmliZSByZXF1ZXN0LlxuICovXG5leHBvcnQgY29uc3QgUmVzb3VyY2VVcGRhdGVkTm90aWZpY2F0aW9uU2NoZW1hID0gTm90aWZpY2F0aW9uU2NoZW1hLmV4dGVuZCh7XG4gICAgbWV0aG9kOiB6LmxpdGVyYWwoXCJub3RpZmljYXRpb25zL3Jlc291cmNlcy91cGRhdGVkXCIpLFxuICAgIHBhcmFtczogQmFzZU5vdGlmaWNhdGlvblBhcmFtc1NjaGVtYS5leHRlbmQoe1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFVSSSBvZiB0aGUgcmVzb3VyY2UgdGhhdCBoYXMgYmVlbiB1cGRhdGVkLiBUaGlzIG1pZ2h0IGJlIGEgc3ViLXJlc291cmNlIG9mIHRoZSBvbmUgdGhhdCB0aGUgY2xpZW50IGFjdHVhbGx5IHN1YnNjcmliZWQgdG8uXG4gICAgICAgICAqL1xuICAgICAgICB1cmk6IHouc3RyaW5nKCksXG4gICAgfSksXG59KTtcbi8qIFByb21wdHMgKi9cbi8qKlxuICogRGVzY3JpYmVzIGFuIGFyZ3VtZW50IHRoYXQgYSBwcm9tcHQgY2FuIGFjY2VwdC5cbiAqL1xuZXhwb3J0IGNvbnN0IFByb21wdEFyZ3VtZW50U2NoZW1hID0gelxuICAgIC5vYmplY3Qoe1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBhcmd1bWVudC5cbiAgICAgKi9cbiAgICBuYW1lOiB6LnN0cmluZygpLFxuICAgIC8qKlxuICAgICAqIEEgaHVtYW4tcmVhZGFibGUgZGVzY3JpcHRpb24gb2YgdGhlIGFyZ3VtZW50LlxuICAgICAqL1xuICAgIGRlc2NyaXB0aW9uOiB6Lm9wdGlvbmFsKHouc3RyaW5nKCkpLFxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyBhcmd1bWVudCBtdXN0IGJlIHByb3ZpZGVkLlxuICAgICAqL1xuICAgIHJlcXVpcmVkOiB6Lm9wdGlvbmFsKHouYm9vbGVhbigpKSxcbn0pXG4gICAgLnBhc3N0aHJvdWdoKCk7XG4vKipcbiAqIEEgcHJvbXB0IG9yIHByb21wdCB0ZW1wbGF0ZSB0aGF0IHRoZSBzZXJ2ZXIgb2ZmZXJzLlxuICovXG5leHBvcnQgY29uc3QgUHJvbXB0U2NoZW1hID0gQmFzZU1ldGFkYXRhU2NoZW1hLmV4dGVuZCh7XG4gICAgLyoqXG4gICAgICogQW4gb3B0aW9uYWwgZGVzY3JpcHRpb24gb2Ygd2hhdCB0aGlzIHByb21wdCBwcm92aWRlc1xuICAgICAqL1xuICAgIGRlc2NyaXB0aW9uOiB6Lm9wdGlvbmFsKHouc3RyaW5nKCkpLFxuICAgIC8qKlxuICAgICAqIEEgbGlzdCBvZiBhcmd1bWVudHMgdG8gdXNlIGZvciB0ZW1wbGF0aW5nIHRoZSBwcm9tcHQuXG4gICAgICovXG4gICAgYXJndW1lbnRzOiB6Lm9wdGlvbmFsKHouYXJyYXkoUHJvbXB0QXJndW1lbnRTY2hlbWEpKSxcbiAgICAvKipcbiAgICAgKiBTZWUgW01DUCBzcGVjaWZpY2F0aW9uXShodHRwczovL2dpdGh1Yi5jb20vbW9kZWxjb250ZXh0cHJvdG9jb2wvbW9kZWxjb250ZXh0cHJvdG9jb2wvYmxvYi80NzMzOWMwM2MxNDNiYjRlYzAxYTI2ZTcyMWExYjhmZTY2NjM0ZWJlL2RvY3Mvc3BlY2lmaWNhdGlvbi9kcmFmdC9iYXNpYy9pbmRleC5tZHgjZ2VuZXJhbC1maWVsZHMpXG4gICAgICogZm9yIG5vdGVzIG9uIF9tZXRhIHVzYWdlLlxuICAgICAqL1xuICAgIF9tZXRhOiB6Lm9wdGlvbmFsKHoub2JqZWN0KHt9KS5wYXNzdGhyb3VnaCgpKSxcbn0pO1xuLyoqXG4gKiBTZW50IGZyb20gdGhlIGNsaWVudCB0byByZXF1ZXN0IGEgbGlzdCBvZiBwcm9tcHRzIGFuZCBwcm9tcHQgdGVtcGxhdGVzIHRoZSBzZXJ2ZXIgaGFzLlxuICovXG5leHBvcnQgY29uc3QgTGlzdFByb21wdHNSZXF1ZXN0U2NoZW1hID0gUGFnaW5hdGVkUmVxdWVzdFNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKFwicHJvbXB0cy9saXN0XCIpLFxufSk7XG4vKipcbiAqIFRoZSBzZXJ2ZXIncyByZXNwb25zZSB0byBhIHByb21wdHMvbGlzdCByZXF1ZXN0IGZyb20gdGhlIGNsaWVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IExpc3RQcm9tcHRzUmVzdWx0U2NoZW1hID0gUGFnaW5hdGVkUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gICAgcHJvbXB0czogei5hcnJheShQcm9tcHRTY2hlbWEpLFxufSk7XG4vKipcbiAqIFVzZWQgYnkgdGhlIGNsaWVudCB0byBnZXQgYSBwcm9tcHQgcHJvdmlkZWQgYnkgdGhlIHNlcnZlci5cbiAqL1xuZXhwb3J0IGNvbnN0IEdldFByb21wdFJlcXVlc3RTY2hlbWEgPSBSZXF1ZXN0U2NoZW1hLmV4dGVuZCh7XG4gICAgbWV0aG9kOiB6LmxpdGVyYWwoXCJwcm9tcHRzL2dldFwiKSxcbiAgICBwYXJhbXM6IEJhc2VSZXF1ZXN0UGFyYW1zU2NoZW1hLmV4dGVuZCh7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgcHJvbXB0IG9yIHByb21wdCB0ZW1wbGF0ZS5cbiAgICAgICAgICovXG4gICAgICAgIG5hbWU6IHouc3RyaW5nKCksXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBcmd1bWVudHMgdG8gdXNlIGZvciB0ZW1wbGF0aW5nIHRoZSBwcm9tcHQuXG4gICAgICAgICAqL1xuICAgICAgICBhcmd1bWVudHM6IHoub3B0aW9uYWwoei5yZWNvcmQoei5zdHJpbmcoKSkpLFxuICAgIH0pLFxufSk7XG4vKipcbiAqIFRleHQgcHJvdmlkZWQgdG8gb3IgZnJvbSBhbiBMTE0uXG4gKi9cbmV4cG9ydCBjb25zdCBUZXh0Q29udGVudFNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoXCJ0ZXh0XCIpLFxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0IGNvbnRlbnQgb2YgdGhlIG1lc3NhZ2UuXG4gICAgICovXG4gICAgdGV4dDogei5zdHJpbmcoKSxcbiAgICAvKipcbiAgICAgKiBTZWUgW01DUCBzcGVjaWZpY2F0aW9uXShodHRwczovL2dpdGh1Yi5jb20vbW9kZWxjb250ZXh0cHJvdG9jb2wvbW9kZWxjb250ZXh0cHJvdG9jb2wvYmxvYi80NzMzOWMwM2MxNDNiYjRlYzAxYTI2ZTcyMWExYjhmZTY2NjM0ZWJlL2RvY3Mvc3BlY2lmaWNhdGlvbi9kcmFmdC9iYXNpYy9pbmRleC5tZHgjZ2VuZXJhbC1maWVsZHMpXG4gICAgICogZm9yIG5vdGVzIG9uIF9tZXRhIHVzYWdlLlxuICAgICAqL1xuICAgIF9tZXRhOiB6Lm9wdGlvbmFsKHoub2JqZWN0KHt9KS5wYXNzdGhyb3VnaCgpKSxcbn0pXG4gICAgLnBhc3N0aHJvdWdoKCk7XG4vKipcbiAqIEFuIGltYWdlIHByb3ZpZGVkIHRvIG9yIGZyb20gYW4gTExNLlxuICovXG5leHBvcnQgY29uc3QgSW1hZ2VDb250ZW50U2NoZW1hID0gelxuICAgIC5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbChcImltYWdlXCIpLFxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlNjQtZW5jb2RlZCBpbWFnZSBkYXRhLlxuICAgICAqL1xuICAgIGRhdGE6IHouc3RyaW5nKCkuYmFzZTY0KCksXG4gICAgLyoqXG4gICAgICogVGhlIE1JTUUgdHlwZSBvZiB0aGUgaW1hZ2UuIERpZmZlcmVudCBwcm92aWRlcnMgbWF5IHN1cHBvcnQgZGlmZmVyZW50IGltYWdlIHR5cGVzLlxuICAgICAqL1xuICAgIG1pbWVUeXBlOiB6LnN0cmluZygpLFxuICAgIC8qKlxuICAgICAqIFNlZSBbTUNQIHNwZWNpZmljYXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9tb2RlbGNvbnRleHRwcm90b2NvbC9tb2RlbGNvbnRleHRwcm90b2NvbC9ibG9iLzQ3MzM5YzAzYzE0M2JiNGVjMDFhMjZlNzIxYTFiOGZlNjY2MzRlYmUvZG9jcy9zcGVjaWZpY2F0aW9uL2RyYWZ0L2Jhc2ljL2luZGV4Lm1keCNnZW5lcmFsLWZpZWxkcylcbiAgICAgKiBmb3Igbm90ZXMgb24gX21ldGEgdXNhZ2UuXG4gICAgICovXG4gICAgX21ldGE6IHoub3B0aW9uYWwoei5vYmplY3Qoe30pLnBhc3N0aHJvdWdoKCkpLFxufSlcbiAgICAucGFzc3Rocm91Z2goKTtcbi8qKlxuICogQW4gQXVkaW8gcHJvdmlkZWQgdG8gb3IgZnJvbSBhbiBMTE0uXG4gKi9cbmV4cG9ydCBjb25zdCBBdWRpb0NvbnRlbnRTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKFwiYXVkaW9cIiksXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2U2NC1lbmNvZGVkIGF1ZGlvIGRhdGEuXG4gICAgICovXG4gICAgZGF0YTogei5zdHJpbmcoKS5iYXNlNjQoKSxcbiAgICAvKipcbiAgICAgKiBUaGUgTUlNRSB0eXBlIG9mIHRoZSBhdWRpby4gRGlmZmVyZW50IHByb3ZpZGVycyBtYXkgc3VwcG9ydCBkaWZmZXJlbnQgYXVkaW8gdHlwZXMuXG4gICAgICovXG4gICAgbWltZVR5cGU6IHouc3RyaW5nKCksXG4gICAgLyoqXG4gICAgICogU2VlIFtNQ1Agc3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL21vZGVsY29udGV4dHByb3RvY29sL21vZGVsY29udGV4dHByb3RvY29sL2Jsb2IvNDczMzljMDNjMTQzYmI0ZWMwMWEyNmU3MjFhMWI4ZmU2NjYzNGViZS9kb2NzL3NwZWNpZmljYXRpb24vZHJhZnQvYmFzaWMvaW5kZXgubWR4I2dlbmVyYWwtZmllbGRzKVxuICAgICAqIGZvciBub3RlcyBvbiBfbWV0YSB1c2FnZS5cbiAgICAgKi9cbiAgICBfbWV0YTogei5vcHRpb25hbCh6Lm9iamVjdCh7fSkucGFzc3Rocm91Z2goKSksXG59KVxuICAgIC5wYXNzdGhyb3VnaCgpO1xuLyoqXG4gKiBUaGUgY29udGVudHMgb2YgYSByZXNvdXJjZSwgZW1iZWRkZWQgaW50byBhIHByb21wdCBvciB0b29sIGNhbGwgcmVzdWx0LlxuICovXG5leHBvcnQgY29uc3QgRW1iZWRkZWRSZXNvdXJjZVNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoXCJyZXNvdXJjZVwiKSxcbiAgICByZXNvdXJjZTogei51bmlvbihbVGV4dFJlc291cmNlQ29udGVudHNTY2hlbWEsIEJsb2JSZXNvdXJjZUNvbnRlbnRzU2NoZW1hXSksXG4gICAgLyoqXG4gICAgICogU2VlIFtNQ1Agc3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL21vZGVsY29udGV4dHByb3RvY29sL21vZGVsY29udGV4dHByb3RvY29sL2Jsb2IvNDczMzljMDNjMTQzYmI0ZWMwMWEyNmU3MjFhMWI4ZmU2NjYzNGViZS9kb2NzL3NwZWNpZmljYXRpb24vZHJhZnQvYmFzaWMvaW5kZXgubWR4I2dlbmVyYWwtZmllbGRzKVxuICAgICAqIGZvciBub3RlcyBvbiBfbWV0YSB1c2FnZS5cbiAgICAgKi9cbiAgICBfbWV0YTogei5vcHRpb25hbCh6Lm9iamVjdCh7fSkucGFzc3Rocm91Z2goKSksXG59KVxuICAgIC5wYXNzdGhyb3VnaCgpO1xuLyoqXG4gKiBBIHJlc291cmNlIHRoYXQgdGhlIHNlcnZlciBpcyBjYXBhYmxlIG9mIHJlYWRpbmcsIGluY2x1ZGVkIGluIGEgcHJvbXB0IG9yIHRvb2wgY2FsbCByZXN1bHQuXG4gKlxuICogTm90ZTogcmVzb3VyY2UgbGlua3MgcmV0dXJuZWQgYnkgdG9vbHMgYXJlIG5vdCBndWFyYW50ZWVkIHRvIGFwcGVhciBpbiB0aGUgcmVzdWx0cyBvZiBgcmVzb3VyY2VzL2xpc3RgIHJlcXVlc3RzLlxuICovXG5leHBvcnQgY29uc3QgUmVzb3VyY2VMaW5rU2NoZW1hID0gUmVzb3VyY2VTY2hlbWEuZXh0ZW5kKHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoXCJyZXNvdXJjZV9saW5rXCIpLFxufSk7XG4vKipcbiAqIEEgY29udGVudCBibG9jayB0aGF0IGNhbiBiZSB1c2VkIGluIHByb21wdHMgYW5kIHRvb2wgcmVzdWx0cy5cbiAqL1xuZXhwb3J0IGNvbnN0IENvbnRlbnRCbG9ja1NjaGVtYSA9IHoudW5pb24oW1xuICAgIFRleHRDb250ZW50U2NoZW1hLFxuICAgIEltYWdlQ29udGVudFNjaGVtYSxcbiAgICBBdWRpb0NvbnRlbnRTY2hlbWEsXG4gICAgUmVzb3VyY2VMaW5rU2NoZW1hLFxuICAgIEVtYmVkZGVkUmVzb3VyY2VTY2hlbWEsXG5dKTtcbi8qKlxuICogRGVzY3JpYmVzIGEgbWVzc2FnZSByZXR1cm5lZCBhcyBwYXJ0IG9mIGEgcHJvbXB0LlxuICovXG5leHBvcnQgY29uc3QgUHJvbXB0TWVzc2FnZVNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICByb2xlOiB6LmVudW0oW1widXNlclwiLCBcImFzc2lzdGFudFwiXSksXG4gICAgY29udGVudDogQ29udGVudEJsb2NrU2NoZW1hLFxufSlcbiAgICAucGFzc3Rocm91Z2goKTtcbi8qKlxuICogVGhlIHNlcnZlcidzIHJlc3BvbnNlIHRvIGEgcHJvbXB0cy9nZXQgcmVxdWVzdCBmcm9tIHRoZSBjbGllbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBHZXRQcm9tcHRSZXN1bHRTY2hlbWEgPSBSZXN1bHRTY2hlbWEuZXh0ZW5kKHtcbiAgICAvKipcbiAgICAgKiBBbiBvcHRpb25hbCBkZXNjcmlwdGlvbiBmb3IgdGhlIHByb21wdC5cbiAgICAgKi9cbiAgICBkZXNjcmlwdGlvbjogei5vcHRpb25hbCh6LnN0cmluZygpKSxcbiAgICBtZXNzYWdlczogei5hcnJheShQcm9tcHRNZXNzYWdlU2NoZW1hKSxcbn0pO1xuLyoqXG4gKiBBbiBvcHRpb25hbCBub3RpZmljYXRpb24gZnJvbSB0aGUgc2VydmVyIHRvIHRoZSBjbGllbnQsIGluZm9ybWluZyBpdCB0aGF0IHRoZSBsaXN0IG9mIHByb21wdHMgaXQgb2ZmZXJzIGhhcyBjaGFuZ2VkLiBUaGlzIG1heSBiZSBpc3N1ZWQgYnkgc2VydmVycyB3aXRob3V0IGFueSBwcmV2aW91cyBzdWJzY3JpcHRpb24gZnJvbSB0aGUgY2xpZW50LlxuICovXG5leHBvcnQgY29uc3QgUHJvbXB0TGlzdENoYW5nZWROb3RpZmljYXRpb25TY2hlbWEgPSBOb3RpZmljYXRpb25TY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbChcIm5vdGlmaWNhdGlvbnMvcHJvbXB0cy9saXN0X2NoYW5nZWRcIiksXG59KTtcbi8qIFRvb2xzICovXG4vKipcbiAqIEFkZGl0aW9uYWwgcHJvcGVydGllcyBkZXNjcmliaW5nIGEgVG9vbCB0byBjbGllbnRzLlxuICpcbiAqIE5PVEU6IGFsbCBwcm9wZXJ0aWVzIGluIFRvb2xBbm5vdGF0aW9ucyBhcmUgKipoaW50cyoqLlxuICogVGhleSBhcmUgbm90IGd1YXJhbnRlZWQgdG8gcHJvdmlkZSBhIGZhaXRoZnVsIGRlc2NyaXB0aW9uIG9mXG4gKiB0b29sIGJlaGF2aW9yIChpbmNsdWRpbmcgZGVzY3JpcHRpdmUgcHJvcGVydGllcyBsaWtlIGB0aXRsZWApLlxuICpcbiAqIENsaWVudHMgc2hvdWxkIG5ldmVyIG1ha2UgdG9vbCB1c2UgZGVjaXNpb25zIGJhc2VkIG9uIFRvb2xBbm5vdGF0aW9uc1xuICogcmVjZWl2ZWQgZnJvbSB1bnRydXN0ZWQgc2VydmVycy5cbiAqL1xuZXhwb3J0IGNvbnN0IFRvb2xBbm5vdGF0aW9uc1NjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICAvKipcbiAgICAgKiBBIGh1bWFuLXJlYWRhYmxlIHRpdGxlIGZvciB0aGUgdG9vbC5cbiAgICAgKi9cbiAgICB0aXRsZTogei5vcHRpb25hbCh6LnN0cmluZygpKSxcbiAgICAvKipcbiAgICAgKiBJZiB0cnVlLCB0aGUgdG9vbCBkb2VzIG5vdCBtb2RpZnkgaXRzIGVudmlyb25tZW50LlxuICAgICAqXG4gICAgICogRGVmYXVsdDogZmFsc2VcbiAgICAgKi9cbiAgICByZWFkT25seUhpbnQ6IHoub3B0aW9uYWwoei5ib29sZWFuKCkpLFxuICAgIC8qKlxuICAgICAqIElmIHRydWUsIHRoZSB0b29sIG1heSBwZXJmb3JtIGRlc3RydWN0aXZlIHVwZGF0ZXMgdG8gaXRzIGVudmlyb25tZW50LlxuICAgICAqIElmIGZhbHNlLCB0aGUgdG9vbCBwZXJmb3JtcyBvbmx5IGFkZGl0aXZlIHVwZGF0ZXMuXG4gICAgICpcbiAgICAgKiAoVGhpcyBwcm9wZXJ0eSBpcyBtZWFuaW5nZnVsIG9ubHkgd2hlbiBgcmVhZE9ubHlIaW50ID09IGZhbHNlYClcbiAgICAgKlxuICAgICAqIERlZmF1bHQ6IHRydWVcbiAgICAgKi9cbiAgICBkZXN0cnVjdGl2ZUhpbnQ6IHoub3B0aW9uYWwoei5ib29sZWFuKCkpLFxuICAgIC8qKlxuICAgICAqIElmIHRydWUsIGNhbGxpbmcgdGhlIHRvb2wgcmVwZWF0ZWRseSB3aXRoIHRoZSBzYW1lIGFyZ3VtZW50c1xuICAgICAqIHdpbGwgaGF2ZSBubyBhZGRpdGlvbmFsIGVmZmVjdCBvbiB0aGUgaXRzIGVudmlyb25tZW50LlxuICAgICAqXG4gICAgICogKFRoaXMgcHJvcGVydHkgaXMgbWVhbmluZ2Z1bCBvbmx5IHdoZW4gYHJlYWRPbmx5SGludCA9PSBmYWxzZWApXG4gICAgICpcbiAgICAgKiBEZWZhdWx0OiBmYWxzZVxuICAgICAqL1xuICAgIGlkZW1wb3RlbnRIaW50OiB6Lm9wdGlvbmFsKHouYm9vbGVhbigpKSxcbiAgICAvKipcbiAgICAgKiBJZiB0cnVlLCB0aGlzIHRvb2wgbWF5IGludGVyYWN0IHdpdGggYW4gXCJvcGVuIHdvcmxkXCIgb2YgZXh0ZXJuYWxcbiAgICAgKiBlbnRpdGllcy4gSWYgZmFsc2UsIHRoZSB0b29sJ3MgZG9tYWluIG9mIGludGVyYWN0aW9uIGlzIGNsb3NlZC5cbiAgICAgKiBGb3IgZXhhbXBsZSwgdGhlIHdvcmxkIG9mIGEgd2ViIHNlYXJjaCB0b29sIGlzIG9wZW4sIHdoZXJlYXMgdGhhdFxuICAgICAqIG9mIGEgbWVtb3J5IHRvb2wgaXMgbm90LlxuICAgICAqXG4gICAgICogRGVmYXVsdDogdHJ1ZVxuICAgICAqL1xuICAgIG9wZW5Xb3JsZEhpbnQ6IHoub3B0aW9uYWwoei5ib29sZWFuKCkpLFxufSlcbiAgICAucGFzc3Rocm91Z2goKTtcbi8qKlxuICogRGVmaW5pdGlvbiBmb3IgYSB0b29sIHRoZSBjbGllbnQgY2FuIGNhbGwuXG4gKi9cbmV4cG9ydCBjb25zdCBUb29sU2NoZW1hID0gQmFzZU1ldGFkYXRhU2NoZW1hLmV4dGVuZCh7XG4gICAgLyoqXG4gICAgICogQSBodW1hbi1yZWFkYWJsZSBkZXNjcmlwdGlvbiBvZiB0aGUgdG9vbC5cbiAgICAgKi9cbiAgICBkZXNjcmlwdGlvbjogei5vcHRpb25hbCh6LnN0cmluZygpKSxcbiAgICAvKipcbiAgICAgKiBBIEpTT04gU2NoZW1hIG9iamVjdCBkZWZpbmluZyB0aGUgZXhwZWN0ZWQgcGFyYW1ldGVycyBmb3IgdGhlIHRvb2wuXG4gICAgICovXG4gICAgaW5wdXRTY2hlbWE6IHpcbiAgICAgICAgLm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbChcIm9iamVjdFwiKSxcbiAgICAgICAgcHJvcGVydGllczogei5vcHRpb25hbCh6Lm9iamVjdCh7fSkucGFzc3Rocm91Z2goKSksXG4gICAgICAgIHJlcXVpcmVkOiB6Lm9wdGlvbmFsKHouYXJyYXkoei5zdHJpbmcoKSkpLFxuICAgIH0pXG4gICAgICAgIC5wYXNzdGhyb3VnaCgpLFxuICAgIC8qKlxuICAgICAqIEFuIG9wdGlvbmFsIEpTT04gU2NoZW1hIG9iamVjdCBkZWZpbmluZyB0aGUgc3RydWN0dXJlIG9mIHRoZSB0b29sJ3Mgb3V0cHV0IHJldHVybmVkIGluXG4gICAgICogdGhlIHN0cnVjdHVyZWRDb250ZW50IGZpZWxkIG9mIGEgQ2FsbFRvb2xSZXN1bHQuXG4gICAgICovXG4gICAgb3V0cHV0U2NoZW1hOiB6Lm9wdGlvbmFsKHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKFwib2JqZWN0XCIpLFxuICAgICAgICBwcm9wZXJ0aWVzOiB6Lm9wdGlvbmFsKHoub2JqZWN0KHt9KS5wYXNzdGhyb3VnaCgpKSxcbiAgICAgICAgcmVxdWlyZWQ6IHoub3B0aW9uYWwoei5hcnJheSh6LnN0cmluZygpKSksXG4gICAgfSlcbiAgICAgICAgLnBhc3N0aHJvdWdoKCkpLFxuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIGFkZGl0aW9uYWwgdG9vbCBpbmZvcm1hdGlvbi5cbiAgICAgKi9cbiAgICBhbm5vdGF0aW9uczogei5vcHRpb25hbChUb29sQW5ub3RhdGlvbnNTY2hlbWEpLFxuICAgIC8qKlxuICAgICAqIFNlZSBbTUNQIHNwZWNpZmljYXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9tb2RlbGNvbnRleHRwcm90b2NvbC9tb2RlbGNvbnRleHRwcm90b2NvbC9ibG9iLzQ3MzM5YzAzYzE0M2JiNGVjMDFhMjZlNzIxYTFiOGZlNjY2MzRlYmUvZG9jcy9zcGVjaWZpY2F0aW9uL2RyYWZ0L2Jhc2ljL2luZGV4Lm1keCNnZW5lcmFsLWZpZWxkcylcbiAgICAgKiBmb3Igbm90ZXMgb24gX21ldGEgdXNhZ2UuXG4gICAgICovXG4gICAgX21ldGE6IHoub3B0aW9uYWwoei5vYmplY3Qoe30pLnBhc3N0aHJvdWdoKCkpLFxufSk7XG4vKipcbiAqIFNlbnQgZnJvbSB0aGUgY2xpZW50IHRvIHJlcXVlc3QgYSBsaXN0IG9mIHRvb2xzIHRoZSBzZXJ2ZXIgaGFzLlxuICovXG5leHBvcnQgY29uc3QgTGlzdFRvb2xzUmVxdWVzdFNjaGVtYSA9IFBhZ2luYXRlZFJlcXVlc3RTY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbChcInRvb2xzL2xpc3RcIiksXG59KTtcbi8qKlxuICogVGhlIHNlcnZlcidzIHJlc3BvbnNlIHRvIGEgdG9vbHMvbGlzdCByZXF1ZXN0IGZyb20gdGhlIGNsaWVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IExpc3RUb29sc1Jlc3VsdFNjaGVtYSA9IFBhZ2luYXRlZFJlc3VsdFNjaGVtYS5leHRlbmQoe1xuICAgIHRvb2xzOiB6LmFycmF5KFRvb2xTY2hlbWEpLFxufSk7XG4vKipcbiAqIFRoZSBzZXJ2ZXIncyByZXNwb25zZSB0byBhIHRvb2wgY2FsbC5cbiAqL1xuZXhwb3J0IGNvbnN0IENhbGxUb29sUmVzdWx0U2NoZW1hID0gUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gICAgLyoqXG4gICAgICogQSBsaXN0IG9mIGNvbnRlbnQgb2JqZWN0cyB0aGF0IHJlcHJlc2VudCB0aGUgcmVzdWx0IG9mIHRoZSB0b29sIGNhbGwuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgVG9vbCBkb2VzIG5vdCBkZWZpbmUgYW4gb3V0cHV0U2NoZW1hLCB0aGlzIGZpZWxkIE1VU1QgYmUgcHJlc2VudCBpbiB0aGUgcmVzdWx0LlxuICAgICAqIEZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSwgdGhpcyBmaWVsZCBpcyBhbHdheXMgcHJlc2VudCwgYnV0IGl0IG1heSBiZSBlbXB0eS5cbiAgICAgKi9cbiAgICBjb250ZW50OiB6LmFycmF5KENvbnRlbnRCbG9ja1NjaGVtYSkuZGVmYXVsdChbXSksXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IGNvbnRhaW5pbmcgc3RydWN0dXJlZCB0b29sIG91dHB1dC5cbiAgICAgKlxuICAgICAqIElmIHRoZSBUb29sIGRlZmluZXMgYW4gb3V0cHV0U2NoZW1hLCB0aGlzIGZpZWxkIE1VU1QgYmUgcHJlc2VudCBpbiB0aGUgcmVzdWx0LCBhbmQgY29udGFpbiBhIEpTT04gb2JqZWN0IHRoYXQgbWF0Y2hlcyB0aGUgc2NoZW1hLlxuICAgICAqL1xuICAgIHN0cnVjdHVyZWRDb250ZW50OiB6Lm9iamVjdCh7fSkucGFzc3Rocm91Z2goKS5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHRvb2wgY2FsbCBlbmRlZCBpbiBhbiBlcnJvci5cbiAgICAgKlxuICAgICAqIElmIG5vdCBzZXQsIHRoaXMgaXMgYXNzdW1lZCB0byBiZSBmYWxzZSAodGhlIGNhbGwgd2FzIHN1Y2Nlc3NmdWwpLlxuICAgICAqXG4gICAgICogQW55IGVycm9ycyB0aGF0IG9yaWdpbmF0ZSBmcm9tIHRoZSB0b29sIFNIT1VMRCBiZSByZXBvcnRlZCBpbnNpZGUgdGhlIHJlc3VsdFxuICAgICAqIG9iamVjdCwgd2l0aCBgaXNFcnJvcmAgc2V0IHRvIHRydWUsIF9ub3RfIGFzIGFuIE1DUCBwcm90b2NvbC1sZXZlbCBlcnJvclxuICAgICAqIHJlc3BvbnNlLiBPdGhlcndpc2UsIHRoZSBMTE0gd291bGQgbm90IGJlIGFibGUgdG8gc2VlIHRoYXQgYW4gZXJyb3Igb2NjdXJyZWRcbiAgICAgKiBhbmQgc2VsZi1jb3JyZWN0LlxuICAgICAqXG4gICAgICogSG93ZXZlciwgYW55IGVycm9ycyBpbiBfZmluZGluZ18gdGhlIHRvb2wsIGFuIGVycm9yIGluZGljYXRpbmcgdGhhdCB0aGVcbiAgICAgKiBzZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCB0b29sIGNhbGxzLCBvciBhbnkgb3RoZXIgZXhjZXB0aW9uYWwgY29uZGl0aW9ucyxcbiAgICAgKiBzaG91bGQgYmUgcmVwb3J0ZWQgYXMgYW4gTUNQIGVycm9yIHJlc3BvbnNlLlxuICAgICAqL1xuICAgIGlzRXJyb3I6IHoub3B0aW9uYWwoei5ib29sZWFuKCkpLFxufSk7XG4vKipcbiAqIENhbGxUb29sUmVzdWx0U2NoZW1hIGV4dGVuZGVkIHdpdGggYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgdG8gcHJvdG9jb2wgdmVyc2lvbiAyMDI0LTEwLTA3LlxuICovXG5leHBvcnQgY29uc3QgQ29tcGF0aWJpbGl0eUNhbGxUb29sUmVzdWx0U2NoZW1hID0gQ2FsbFRvb2xSZXN1bHRTY2hlbWEub3IoUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gICAgdG9vbFJlc3VsdDogei51bmtub3duKCksXG59KSk7XG4vKipcbiAqIFVzZWQgYnkgdGhlIGNsaWVudCB0byBpbnZva2UgYSB0b29sIHByb3ZpZGVkIGJ5IHRoZSBzZXJ2ZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBDYWxsVG9vbFJlcXVlc3RTY2hlbWEgPSBSZXF1ZXN0U2NoZW1hLmV4dGVuZCh7XG4gICAgbWV0aG9kOiB6LmxpdGVyYWwoXCJ0b29scy9jYWxsXCIpLFxuICAgIHBhcmFtczogQmFzZVJlcXVlc3RQYXJhbXNTY2hlbWEuZXh0ZW5kKHtcbiAgICAgICAgbmFtZTogei5zdHJpbmcoKSxcbiAgICAgICAgYXJndW1lbnRzOiB6Lm9wdGlvbmFsKHoucmVjb3JkKHoudW5rbm93bigpKSksXG4gICAgfSksXG59KTtcbi8qKlxuICogQW4gb3B0aW9uYWwgbm90aWZpY2F0aW9uIGZyb20gdGhlIHNlcnZlciB0byB0aGUgY2xpZW50LCBpbmZvcm1pbmcgaXQgdGhhdCB0aGUgbGlzdCBvZiB0b29scyBpdCBvZmZlcnMgaGFzIGNoYW5nZWQuIFRoaXMgbWF5IGJlIGlzc3VlZCBieSBzZXJ2ZXJzIHdpdGhvdXQgYW55IHByZXZpb3VzIHN1YnNjcmlwdGlvbiBmcm9tIHRoZSBjbGllbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBUb29sTGlzdENoYW5nZWROb3RpZmljYXRpb25TY2hlbWEgPSBOb3RpZmljYXRpb25TY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbChcIm5vdGlmaWNhdGlvbnMvdG9vbHMvbGlzdF9jaGFuZ2VkXCIpLFxufSk7XG4vKiBMb2dnaW5nICovXG4vKipcbiAqIFRoZSBzZXZlcml0eSBvZiBhIGxvZyBtZXNzYWdlLlxuICovXG5leHBvcnQgY29uc3QgTG9nZ2luZ0xldmVsU2NoZW1hID0gei5lbnVtKFtcbiAgICBcImRlYnVnXCIsXG4gICAgXCJpbmZvXCIsXG4gICAgXCJub3RpY2VcIixcbiAgICBcIndhcm5pbmdcIixcbiAgICBcImVycm9yXCIsXG4gICAgXCJjcml0aWNhbFwiLFxuICAgIFwiYWxlcnRcIixcbiAgICBcImVtZXJnZW5jeVwiLFxuXSk7XG4vKipcbiAqIEEgcmVxdWVzdCBmcm9tIHRoZSBjbGllbnQgdG8gdGhlIHNlcnZlciwgdG8gZW5hYmxlIG9yIGFkanVzdCBsb2dnaW5nLlxuICovXG5leHBvcnQgY29uc3QgU2V0TGV2ZWxSZXF1ZXN0U2NoZW1hID0gUmVxdWVzdFNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKFwibG9nZ2luZy9zZXRMZXZlbFwiKSxcbiAgICBwYXJhbXM6IEJhc2VSZXF1ZXN0UGFyYW1zU2NoZW1hLmV4dGVuZCh7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGV2ZWwgb2YgbG9nZ2luZyB0aGF0IHRoZSBjbGllbnQgd2FudHMgdG8gcmVjZWl2ZSBmcm9tIHRoZSBzZXJ2ZXIuIFRoZSBzZXJ2ZXIgc2hvdWxkIHNlbmQgYWxsIGxvZ3MgYXQgdGhpcyBsZXZlbCBhbmQgaGlnaGVyIChpLmUuLCBtb3JlIHNldmVyZSkgdG8gdGhlIGNsaWVudCBhcyBub3RpZmljYXRpb25zL2xvZ2dpbmcvbWVzc2FnZS5cbiAgICAgICAgICovXG4gICAgICAgIGxldmVsOiBMb2dnaW5nTGV2ZWxTY2hlbWEsXG4gICAgfSksXG59KTtcbi8qKlxuICogTm90aWZpY2F0aW9uIG9mIGEgbG9nIG1lc3NhZ2UgcGFzc2VkIGZyb20gc2VydmVyIHRvIGNsaWVudC4gSWYgbm8gbG9nZ2luZy9zZXRMZXZlbCByZXF1ZXN0IGhhcyBiZWVuIHNlbnQgZnJvbSB0aGUgY2xpZW50LCB0aGUgc2VydmVyIE1BWSBkZWNpZGUgd2hpY2ggbWVzc2FnZXMgdG8gc2VuZCBhdXRvbWF0aWNhbGx5LlxuICovXG5leHBvcnQgY29uc3QgTG9nZ2luZ01lc3NhZ2VOb3RpZmljYXRpb25TY2hlbWEgPSBOb3RpZmljYXRpb25TY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbChcIm5vdGlmaWNhdGlvbnMvbWVzc2FnZVwiKSxcbiAgICBwYXJhbXM6IEJhc2VOb3RpZmljYXRpb25QYXJhbXNTY2hlbWEuZXh0ZW5kKHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzZXZlcml0eSBvZiB0aGlzIGxvZyBtZXNzYWdlLlxuICAgICAgICAgKi9cbiAgICAgICAgbGV2ZWw6IExvZ2dpbmdMZXZlbFNjaGVtYSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIG9wdGlvbmFsIG5hbWUgb2YgdGhlIGxvZ2dlciBpc3N1aW5nIHRoaXMgbWVzc2FnZS5cbiAgICAgICAgICovXG4gICAgICAgIGxvZ2dlcjogei5vcHRpb25hbCh6LnN0cmluZygpKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIHRvIGJlIGxvZ2dlZCwgc3VjaCBhcyBhIHN0cmluZyBtZXNzYWdlIG9yIGFuIG9iamVjdC4gQW55IEpTT04gc2VyaWFsaXphYmxlIHR5cGUgaXMgYWxsb3dlZCBoZXJlLlxuICAgICAgICAgKi9cbiAgICAgICAgZGF0YTogei51bmtub3duKCksXG4gICAgfSksXG59KTtcbi8qIFNhbXBsaW5nICovXG4vKipcbiAqIEhpbnRzIHRvIHVzZSBmb3IgbW9kZWwgc2VsZWN0aW9uLlxuICovXG5leHBvcnQgY29uc3QgTW9kZWxIaW50U2NoZW1hID0gelxuICAgIC5vYmplY3Qoe1xuICAgIC8qKlxuICAgICAqIEEgaGludCBmb3IgYSBtb2RlbCBuYW1lLlxuICAgICAqL1xuICAgIG5hbWU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pXG4gICAgLnBhc3N0aHJvdWdoKCk7XG4vKipcbiAqIFRoZSBzZXJ2ZXIncyBwcmVmZXJlbmNlcyBmb3IgbW9kZWwgc2VsZWN0aW9uLCByZXF1ZXN0ZWQgb2YgdGhlIGNsaWVudCBkdXJpbmcgc2FtcGxpbmcuXG4gKi9cbmV4cG9ydCBjb25zdCBNb2RlbFByZWZlcmVuY2VzU2NoZW1hID0gelxuICAgIC5vYmplY3Qoe1xuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIGhpbnRzIHRvIHVzZSBmb3IgbW9kZWwgc2VsZWN0aW9uLlxuICAgICAqL1xuICAgIGhpbnRzOiB6Lm9wdGlvbmFsKHouYXJyYXkoTW9kZWxIaW50U2NoZW1hKSksXG4gICAgLyoqXG4gICAgICogSG93IG11Y2ggdG8gcHJpb3JpdGl6ZSBjb3N0IHdoZW4gc2VsZWN0aW5nIGEgbW9kZWwuXG4gICAgICovXG4gICAgY29zdFByaW9yaXR5OiB6Lm9wdGlvbmFsKHoubnVtYmVyKCkubWluKDApLm1heCgxKSksXG4gICAgLyoqXG4gICAgICogSG93IG11Y2ggdG8gcHJpb3JpdGl6ZSBzYW1wbGluZyBzcGVlZCAobGF0ZW5jeSkgd2hlbiBzZWxlY3RpbmcgYSBtb2RlbC5cbiAgICAgKi9cbiAgICBzcGVlZFByaW9yaXR5OiB6Lm9wdGlvbmFsKHoubnVtYmVyKCkubWluKDApLm1heCgxKSksXG4gICAgLyoqXG4gICAgICogSG93IG11Y2ggdG8gcHJpb3JpdGl6ZSBpbnRlbGxpZ2VuY2UgYW5kIGNhcGFiaWxpdGllcyB3aGVuIHNlbGVjdGluZyBhIG1vZGVsLlxuICAgICAqL1xuICAgIGludGVsbGlnZW5jZVByaW9yaXR5OiB6Lm9wdGlvbmFsKHoubnVtYmVyKCkubWluKDApLm1heCgxKSksXG59KVxuICAgIC5wYXNzdGhyb3VnaCgpO1xuLyoqXG4gKiBEZXNjcmliZXMgYSBtZXNzYWdlIGlzc3VlZCB0byBvciByZWNlaXZlZCBmcm9tIGFuIExMTSBBUEkuXG4gKi9cbmV4cG9ydCBjb25zdCBTYW1wbGluZ01lc3NhZ2VTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgcm9sZTogei5lbnVtKFtcInVzZXJcIiwgXCJhc3Npc3RhbnRcIl0pLFxuICAgIGNvbnRlbnQ6IHoudW5pb24oW1RleHRDb250ZW50U2NoZW1hLCBJbWFnZUNvbnRlbnRTY2hlbWEsIEF1ZGlvQ29udGVudFNjaGVtYV0pLFxufSlcbiAgICAucGFzc3Rocm91Z2goKTtcbi8qKlxuICogQSByZXF1ZXN0IGZyb20gdGhlIHNlcnZlciB0byBzYW1wbGUgYW4gTExNIHZpYSB0aGUgY2xpZW50LiBUaGUgY2xpZW50IGhhcyBmdWxsIGRpc2NyZXRpb24gb3ZlciB3aGljaCBtb2RlbCB0byBzZWxlY3QuIFRoZSBjbGllbnQgc2hvdWxkIGFsc28gaW5mb3JtIHRoZSB1c2VyIGJlZm9yZSBiZWdpbm5pbmcgc2FtcGxpbmcsIHRvIGFsbG93IHRoZW0gdG8gaW5zcGVjdCB0aGUgcmVxdWVzdCAoaHVtYW4gaW4gdGhlIGxvb3ApIGFuZCBkZWNpZGUgd2hldGhlciB0byBhcHByb3ZlIGl0LlxuICovXG5leHBvcnQgY29uc3QgQ3JlYXRlTWVzc2FnZVJlcXVlc3RTY2hlbWEgPSBSZXF1ZXN0U2NoZW1hLmV4dGVuZCh7XG4gICAgbWV0aG9kOiB6LmxpdGVyYWwoXCJzYW1wbGluZy9jcmVhdGVNZXNzYWdlXCIpLFxuICAgIHBhcmFtczogQmFzZVJlcXVlc3RQYXJhbXNTY2hlbWEuZXh0ZW5kKHtcbiAgICAgICAgbWVzc2FnZXM6IHouYXJyYXkoU2FtcGxpbmdNZXNzYWdlU2NoZW1hKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIG9wdGlvbmFsIHN5c3RlbSBwcm9tcHQgdGhlIHNlcnZlciB3YW50cyB0byB1c2UgZm9yIHNhbXBsaW5nLiBUaGUgY2xpZW50IE1BWSBtb2RpZnkgb3Igb21pdCB0aGlzIHByb21wdC5cbiAgICAgICAgICovXG4gICAgICAgIHN5c3RlbVByb21wdDogei5vcHRpb25hbCh6LnN0cmluZygpKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVxdWVzdCB0byBpbmNsdWRlIGNvbnRleHQgZnJvbSBvbmUgb3IgbW9yZSBNQ1Agc2VydmVycyAoaW5jbHVkaW5nIHRoZSBjYWxsZXIpLCB0byBiZSBhdHRhY2hlZCB0byB0aGUgcHJvbXB0LiBUaGUgY2xpZW50IE1BWSBpZ25vcmUgdGhpcyByZXF1ZXN0LlxuICAgICAgICAgKi9cbiAgICAgICAgaW5jbHVkZUNvbnRleHQ6IHoub3B0aW9uYWwoei5lbnVtKFtcIm5vbmVcIiwgXCJ0aGlzU2VydmVyXCIsIFwiYWxsU2VydmVyc1wiXSkpLFxuICAgICAgICB0ZW1wZXJhdHVyZTogei5vcHRpb25hbCh6Lm51bWJlcigpKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiB0b2tlbnMgdG8gc2FtcGxlLCBhcyByZXF1ZXN0ZWQgYnkgdGhlIHNlcnZlci4gVGhlIGNsaWVudCBNQVkgY2hvb3NlIHRvIHNhbXBsZSBmZXdlciB0b2tlbnMgdGhhbiByZXF1ZXN0ZWQuXG4gICAgICAgICAqL1xuICAgICAgICBtYXhUb2tlbnM6IHoubnVtYmVyKCkuaW50KCksXG4gICAgICAgIHN0b3BTZXF1ZW5jZXM6IHoub3B0aW9uYWwoei5hcnJheSh6LnN0cmluZygpKSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPcHRpb25hbCBtZXRhZGF0YSB0byBwYXNzIHRocm91Z2ggdG8gdGhlIExMTSBwcm92aWRlci4gVGhlIGZvcm1hdCBvZiB0aGlzIG1ldGFkYXRhIGlzIHByb3ZpZGVyLXNwZWNpZmljLlxuICAgICAgICAgKi9cbiAgICAgICAgbWV0YWRhdGE6IHoub3B0aW9uYWwoei5vYmplY3Qoe30pLnBhc3N0aHJvdWdoKCkpLFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNlcnZlcidzIHByZWZlcmVuY2VzIGZvciB3aGljaCBtb2RlbCB0byBzZWxlY3QuXG4gICAgICAgICAqL1xuICAgICAgICBtb2RlbFByZWZlcmVuY2VzOiB6Lm9wdGlvbmFsKE1vZGVsUHJlZmVyZW5jZXNTY2hlbWEpLFxuICAgIH0pLFxufSk7XG4vKipcbiAqIFRoZSBjbGllbnQncyByZXNwb25zZSB0byBhIHNhbXBsaW5nL2NyZWF0ZV9tZXNzYWdlIHJlcXVlc3QgZnJvbSB0aGUgc2VydmVyLiBUaGUgY2xpZW50IHNob3VsZCBpbmZvcm0gdGhlIHVzZXIgYmVmb3JlIHJldHVybmluZyB0aGUgc2FtcGxlZCBtZXNzYWdlLCB0byBhbGxvdyB0aGVtIHRvIGluc3BlY3QgdGhlIHJlc3BvbnNlIChodW1hbiBpbiB0aGUgbG9vcCkgYW5kIGRlY2lkZSB3aGV0aGVyIHRvIGFsbG93IHRoZSBzZXJ2ZXIgdG8gc2VlIGl0LlxuICovXG5leHBvcnQgY29uc3QgQ3JlYXRlTWVzc2FnZVJlc3VsdFNjaGVtYSA9IFJlc3VsdFNjaGVtYS5leHRlbmQoe1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBtb2RlbCB0aGF0IGdlbmVyYXRlZCB0aGUgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBtb2RlbDogei5zdHJpbmcoKSxcbiAgICAvKipcbiAgICAgKiBUaGUgcmVhc29uIHdoeSBzYW1wbGluZyBzdG9wcGVkLlxuICAgICAqL1xuICAgIHN0b3BSZWFzb246IHoub3B0aW9uYWwoei5lbnVtKFtcImVuZFR1cm5cIiwgXCJzdG9wU2VxdWVuY2VcIiwgXCJtYXhUb2tlbnNcIl0pLm9yKHouc3RyaW5nKCkpKSxcbiAgICByb2xlOiB6LmVudW0oW1widXNlclwiLCBcImFzc2lzdGFudFwiXSksXG4gICAgY29udGVudDogei5kaXNjcmltaW5hdGVkVW5pb24oXCJ0eXBlXCIsIFtcbiAgICAgICAgVGV4dENvbnRlbnRTY2hlbWEsXG4gICAgICAgIEltYWdlQ29udGVudFNjaGVtYSxcbiAgICAgICAgQXVkaW9Db250ZW50U2NoZW1hXG4gICAgXSksXG59KTtcbi8qIEVsaWNpdGF0aW9uICovXG4vKipcbiAqIFByaW1pdGl2ZSBzY2hlbWEgZGVmaW5pdGlvbiBmb3IgYm9vbGVhbiBmaWVsZHMuXG4gKi9cbmV4cG9ydCBjb25zdCBCb29sZWFuU2NoZW1hU2NoZW1hID0gelxuICAgIC5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbChcImJvb2xlYW5cIiksXG4gICAgdGl0bGU6IHoub3B0aW9uYWwoei5zdHJpbmcoKSksXG4gICAgZGVzY3JpcHRpb246IHoub3B0aW9uYWwoei5zdHJpbmcoKSksXG4gICAgZGVmYXVsdDogei5vcHRpb25hbCh6LmJvb2xlYW4oKSksXG59KVxuICAgIC5wYXNzdGhyb3VnaCgpO1xuLyoqXG4gKiBQcmltaXRpdmUgc2NoZW1hIGRlZmluaXRpb24gZm9yIHN0cmluZyBmaWVsZHMuXG4gKi9cbmV4cG9ydCBjb25zdCBTdHJpbmdTY2hlbWFTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKFwic3RyaW5nXCIpLFxuICAgIHRpdGxlOiB6Lm9wdGlvbmFsKHouc3RyaW5nKCkpLFxuICAgIGRlc2NyaXB0aW9uOiB6Lm9wdGlvbmFsKHouc3RyaW5nKCkpLFxuICAgIG1pbkxlbmd0aDogei5vcHRpb25hbCh6Lm51bWJlcigpKSxcbiAgICBtYXhMZW5ndGg6IHoub3B0aW9uYWwoei5udW1iZXIoKSksXG4gICAgZm9ybWF0OiB6Lm9wdGlvbmFsKHouZW51bShbXCJlbWFpbFwiLCBcInVyaVwiLCBcImRhdGVcIiwgXCJkYXRlLXRpbWVcIl0pKSxcbn0pXG4gICAgLnBhc3N0aHJvdWdoKCk7XG4vKipcbiAqIFByaW1pdGl2ZSBzY2hlbWEgZGVmaW5pdGlvbiBmb3IgbnVtYmVyIGZpZWxkcy5cbiAqL1xuZXhwb3J0IGNvbnN0IE51bWJlclNjaGVtYVNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICB0eXBlOiB6LmVudW0oW1wibnVtYmVyXCIsIFwiaW50ZWdlclwiXSksXG4gICAgdGl0bGU6IHoub3B0aW9uYWwoei5zdHJpbmcoKSksXG4gICAgZGVzY3JpcHRpb246IHoub3B0aW9uYWwoei5zdHJpbmcoKSksXG4gICAgbWluaW11bTogei5vcHRpb25hbCh6Lm51bWJlcigpKSxcbiAgICBtYXhpbXVtOiB6Lm9wdGlvbmFsKHoubnVtYmVyKCkpLFxufSlcbiAgICAucGFzc3Rocm91Z2goKTtcbi8qKlxuICogUHJpbWl0aXZlIHNjaGVtYSBkZWZpbml0aW9uIGZvciBlbnVtIGZpZWxkcy5cbiAqL1xuZXhwb3J0IGNvbnN0IEVudW1TY2hlbWFTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKFwic3RyaW5nXCIpLFxuICAgIHRpdGxlOiB6Lm9wdGlvbmFsKHouc3RyaW5nKCkpLFxuICAgIGRlc2NyaXB0aW9uOiB6Lm9wdGlvbmFsKHouc3RyaW5nKCkpLFxuICAgIGVudW06IHouYXJyYXkoei5zdHJpbmcoKSksXG4gICAgZW51bU5hbWVzOiB6Lm9wdGlvbmFsKHouYXJyYXkoei5zdHJpbmcoKSkpLFxufSlcbiAgICAucGFzc3Rocm91Z2goKTtcbi8qKlxuICogVW5pb24gb2YgYWxsIHByaW1pdGl2ZSBzY2hlbWEgZGVmaW5pdGlvbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBQcmltaXRpdmVTY2hlbWFEZWZpbml0aW9uU2NoZW1hID0gei51bmlvbihbXG4gICAgQm9vbGVhblNjaGVtYVNjaGVtYSxcbiAgICBTdHJpbmdTY2hlbWFTY2hlbWEsXG4gICAgTnVtYmVyU2NoZW1hU2NoZW1hLFxuICAgIEVudW1TY2hlbWFTY2hlbWEsXG5dKTtcbi8qKlxuICogQSByZXF1ZXN0IGZyb20gdGhlIHNlcnZlciB0byBlbGljaXQgdXNlciBpbnB1dCB2aWEgdGhlIGNsaWVudC5cbiAqIFRoZSBjbGllbnQgc2hvdWxkIHByZXNlbnQgdGhlIG1lc3NhZ2UgYW5kIGZvcm0gZmllbGRzIHRvIHRoZSB1c2VyLlxuICovXG5leHBvcnQgY29uc3QgRWxpY2l0UmVxdWVzdFNjaGVtYSA9IFJlcXVlc3RTY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbChcImVsaWNpdGF0aW9uL2NyZWF0ZVwiKSxcbiAgICBwYXJhbXM6IEJhc2VSZXF1ZXN0UGFyYW1zU2NoZW1hLmV4dGVuZCh7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWVzc2FnZSB0byBwcmVzZW50IHRvIHRoZSB1c2VyLlxuICAgICAgICAgKi9cbiAgICAgICAgbWVzc2FnZTogei5zdHJpbmcoKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzY2hlbWEgZm9yIHRoZSByZXF1ZXN0ZWQgdXNlciBpbnB1dC5cbiAgICAgICAgICovXG4gICAgICAgIHJlcXVlc3RlZFNjaGVtYTogelxuICAgICAgICAgICAgLm9iamVjdCh7XG4gICAgICAgICAgICB0eXBlOiB6LmxpdGVyYWwoXCJvYmplY3RcIiksXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiB6LnJlY29yZCh6LnN0cmluZygpLCBQcmltaXRpdmVTY2hlbWFEZWZpbml0aW9uU2NoZW1hKSxcbiAgICAgICAgICAgIHJlcXVpcmVkOiB6Lm9wdGlvbmFsKHouYXJyYXkoei5zdHJpbmcoKSkpLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLnBhc3N0aHJvdWdoKCksXG4gICAgfSksXG59KTtcbi8qKlxuICogVGhlIGNsaWVudCdzIHJlc3BvbnNlIHRvIGFuIGVsaWNpdGF0aW9uL2NyZWF0ZSByZXF1ZXN0IGZyb20gdGhlIHNlcnZlci5cbiAqL1xuZXhwb3J0IGNvbnN0IEVsaWNpdFJlc3VsdFNjaGVtYSA9IFJlc3VsdFNjaGVtYS5leHRlbmQoe1xuICAgIC8qKlxuICAgICAqIFRoZSB1c2VyJ3MgcmVzcG9uc2UgYWN0aW9uLlxuICAgICAqL1xuICAgIGFjdGlvbjogei5lbnVtKFtcImFjY2VwdFwiLCBcImRlY2xpbmVcIiwgXCJjYW5jZWxcIl0pLFxuICAgIC8qKlxuICAgICAqIFRoZSBjb2xsZWN0ZWQgdXNlciBpbnB1dCBjb250ZW50IChvbmx5IHByZXNlbnQgaWYgYWN0aW9uIGlzIFwiYWNjZXB0XCIpLlxuICAgICAqL1xuICAgIGNvbnRlbnQ6IHoub3B0aW9uYWwoei5yZWNvcmQoei5zdHJpbmcoKSwgei51bmtub3duKCkpKSxcbn0pO1xuLyogQXV0b2NvbXBsZXRlICovXG4vKipcbiAqIEEgcmVmZXJlbmNlIHRvIGEgcmVzb3VyY2Ugb3IgcmVzb3VyY2UgdGVtcGxhdGUgZGVmaW5pdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IFJlc291cmNlVGVtcGxhdGVSZWZlcmVuY2VTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKFwicmVmL3Jlc291cmNlXCIpLFxuICAgIC8qKlxuICAgICAqIFRoZSBVUkkgb3IgVVJJIHRlbXBsYXRlIG9mIHRoZSByZXNvdXJjZS5cbiAgICAgKi9cbiAgICB1cmk6IHouc3RyaW5nKCksXG59KVxuICAgIC5wYXNzdGhyb3VnaCgpO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgUmVzb3VyY2VUZW1wbGF0ZVJlZmVyZW5jZVNjaGVtYSBpbnN0ZWFkXG4gKi9cbmV4cG9ydCBjb25zdCBSZXNvdXJjZVJlZmVyZW5jZVNjaGVtYSA9IFJlc291cmNlVGVtcGxhdGVSZWZlcmVuY2VTY2hlbWE7XG4vKipcbiAqIElkZW50aWZpZXMgYSBwcm9tcHQuXG4gKi9cbmV4cG9ydCBjb25zdCBQcm9tcHRSZWZlcmVuY2VTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKFwicmVmL3Byb21wdFwiKSxcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgcHJvbXB0IG9yIHByb21wdCB0ZW1wbGF0ZVxuICAgICAqL1xuICAgIG5hbWU6IHouc3RyaW5nKCksXG59KVxuICAgIC5wYXNzdGhyb3VnaCgpO1xuLyoqXG4gKiBBIHJlcXVlc3QgZnJvbSB0aGUgY2xpZW50IHRvIHRoZSBzZXJ2ZXIsIHRvIGFzayBmb3IgY29tcGxldGlvbiBvcHRpb25zLlxuICovXG5leHBvcnQgY29uc3QgQ29tcGxldGVSZXF1ZXN0U2NoZW1hID0gUmVxdWVzdFNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKFwiY29tcGxldGlvbi9jb21wbGV0ZVwiKSxcbiAgICBwYXJhbXM6IEJhc2VSZXF1ZXN0UGFyYW1zU2NoZW1hLmV4dGVuZCh7XG4gICAgICAgIHJlZjogei51bmlvbihbUHJvbXB0UmVmZXJlbmNlU2NoZW1hLCBSZXNvdXJjZVRlbXBsYXRlUmVmZXJlbmNlU2NoZW1hXSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYXJndW1lbnQncyBpbmZvcm1hdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgYXJndW1lbnQ6IHpcbiAgICAgICAgICAgIC5vYmplY3Qoe1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgYXJndW1lbnRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbmFtZTogei5zdHJpbmcoKSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGhlIHZhbHVlIG9mIHRoZSBhcmd1bWVudCB0byB1c2UgZm9yIGNvbXBsZXRpb24gbWF0Y2hpbmcuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZhbHVlOiB6LnN0cmluZygpLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLnBhc3N0aHJvdWdoKCksXG4gICAgICAgIGNvbnRleHQ6IHoub3B0aW9uYWwoei5vYmplY3Qoe1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQcmV2aW91c2x5LXJlc29sdmVkIHZhcmlhYmxlcyBpbiBhIFVSSSB0ZW1wbGF0ZSBvciBwcm9tcHQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGFyZ3VtZW50czogei5vcHRpb25hbCh6LnJlY29yZCh6LnN0cmluZygpLCB6LnN0cmluZygpKSksXG4gICAgICAgIH0pKSxcbiAgICB9KSxcbn0pO1xuLyoqXG4gKiBUaGUgc2VydmVyJ3MgcmVzcG9uc2UgdG8gYSBjb21wbGV0aW9uL2NvbXBsZXRlIHJlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IENvbXBsZXRlUmVzdWx0U2NoZW1hID0gUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gICAgY29tcGxldGlvbjogelxuICAgICAgICAub2JqZWN0KHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIGNvbXBsZXRpb24gdmFsdWVzLiBNdXN0IG5vdCBleGNlZWQgMTAwIGl0ZW1zLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFsdWVzOiB6LmFycmF5KHouc3RyaW5nKCkpLm1heCgxMDApLFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRvdGFsIG51bWJlciBvZiBjb21wbGV0aW9uIG9wdGlvbnMgYXZhaWxhYmxlLiBUaGlzIGNhbiBleGNlZWQgdGhlIG51bWJlciBvZiB2YWx1ZXMgYWN0dWFsbHkgc2VudCBpbiB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAqL1xuICAgICAgICB0b3RhbDogei5vcHRpb25hbCh6Lm51bWJlcigpLmludCgpKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZXJlIGFyZSBhZGRpdGlvbmFsIGNvbXBsZXRpb24gb3B0aW9ucyBiZXlvbmQgdGhvc2UgcHJvdmlkZWQgaW4gdGhlIGN1cnJlbnQgcmVzcG9uc2UsIGV2ZW4gaWYgdGhlIGV4YWN0IHRvdGFsIGlzIHVua25vd24uXG4gICAgICAgICAqL1xuICAgICAgICBoYXNNb3JlOiB6Lm9wdGlvbmFsKHouYm9vbGVhbigpKSxcbiAgICB9KVxuICAgICAgICAucGFzc3Rocm91Z2goKSxcbn0pO1xuLyogUm9vdHMgKi9cbi8qKlxuICogUmVwcmVzZW50cyBhIHJvb3QgZGlyZWN0b3J5IG9yIGZpbGUgdGhhdCB0aGUgc2VydmVyIGNhbiBvcGVyYXRlIG9uLlxuICovXG5leHBvcnQgY29uc3QgUm9vdFNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICAvKipcbiAgICAgKiBUaGUgVVJJIGlkZW50aWZ5aW5nIHRoZSByb290LiBUaGlzICptdXN0KiBzdGFydCB3aXRoIGZpbGU6Ly8gZm9yIG5vdy5cbiAgICAgKi9cbiAgICB1cmk6IHouc3RyaW5nKCkuc3RhcnRzV2l0aChcImZpbGU6Ly9cIiksXG4gICAgLyoqXG4gICAgICogQW4gb3B0aW9uYWwgbmFtZSBmb3IgdGhlIHJvb3QuXG4gICAgICovXG4gICAgbmFtZTogei5vcHRpb25hbCh6LnN0cmluZygpKSxcbiAgICAvKipcbiAgICAgKiBTZWUgW01DUCBzcGVjaWZpY2F0aW9uXShodHRwczovL2dpdGh1Yi5jb20vbW9kZWxjb250ZXh0cHJvdG9jb2wvbW9kZWxjb250ZXh0cHJvdG9jb2wvYmxvYi80NzMzOWMwM2MxNDNiYjRlYzAxYTI2ZTcyMWExYjhmZTY2NjM0ZWJlL2RvY3Mvc3BlY2lmaWNhdGlvbi9kcmFmdC9iYXNpYy9pbmRleC5tZHgjZ2VuZXJhbC1maWVsZHMpXG4gICAgICogZm9yIG5vdGVzIG9uIF9tZXRhIHVzYWdlLlxuICAgICAqL1xuICAgIF9tZXRhOiB6Lm9wdGlvbmFsKHoub2JqZWN0KHt9KS5wYXNzdGhyb3VnaCgpKSxcbn0pXG4gICAgLnBhc3N0aHJvdWdoKCk7XG4vKipcbiAqIFNlbnQgZnJvbSB0aGUgc2VydmVyIHRvIHJlcXVlc3QgYSBsaXN0IG9mIHJvb3QgVVJJcyBmcm9tIHRoZSBjbGllbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBMaXN0Um9vdHNSZXF1ZXN0U2NoZW1hID0gUmVxdWVzdFNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKFwicm9vdHMvbGlzdFwiKSxcbn0pO1xuLyoqXG4gKiBUaGUgY2xpZW50J3MgcmVzcG9uc2UgdG8gYSByb290cy9saXN0IHJlcXVlc3QgZnJvbSB0aGUgc2VydmVyLlxuICovXG5leHBvcnQgY29uc3QgTGlzdFJvb3RzUmVzdWx0U2NoZW1hID0gUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gICAgcm9vdHM6IHouYXJyYXkoUm9vdFNjaGVtYSksXG59KTtcbi8qKlxuICogQSBub3RpZmljYXRpb24gZnJvbSB0aGUgY2xpZW50IHRvIHRoZSBzZXJ2ZXIsIGluZm9ybWluZyBpdCB0aGF0IHRoZSBsaXN0IG9mIHJvb3RzIGhhcyBjaGFuZ2VkLlxuICovXG5leHBvcnQgY29uc3QgUm9vdHNMaXN0Q2hhbmdlZE5vdGlmaWNhdGlvblNjaGVtYSA9IE5vdGlmaWNhdGlvblNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKFwibm90aWZpY2F0aW9ucy9yb290cy9saXN0X2NoYW5nZWRcIiksXG59KTtcbi8qIENsaWVudCBtZXNzYWdlcyAqL1xuZXhwb3J0IGNvbnN0IENsaWVudFJlcXVlc3RTY2hlbWEgPSB6LnVuaW9uKFtcbiAgICBQaW5nUmVxdWVzdFNjaGVtYSxcbiAgICBJbml0aWFsaXplUmVxdWVzdFNjaGVtYSxcbiAgICBDb21wbGV0ZVJlcXVlc3RTY2hlbWEsXG4gICAgU2V0TGV2ZWxSZXF1ZXN0U2NoZW1hLFxuICAgIEdldFByb21wdFJlcXVlc3RTY2hlbWEsXG4gICAgTGlzdFByb21wdHNSZXF1ZXN0U2NoZW1hLFxuICAgIExpc3RSZXNvdXJjZXNSZXF1ZXN0U2NoZW1hLFxuICAgIExpc3RSZXNvdXJjZVRlbXBsYXRlc1JlcXVlc3RTY2hlbWEsXG4gICAgUmVhZFJlc291cmNlUmVxdWVzdFNjaGVtYSxcbiAgICBTdWJzY3JpYmVSZXF1ZXN0U2NoZW1hLFxuICAgIFVuc3Vic2NyaWJlUmVxdWVzdFNjaGVtYSxcbiAgICBDYWxsVG9vbFJlcXVlc3RTY2hlbWEsXG4gICAgTGlzdFRvb2xzUmVxdWVzdFNjaGVtYSxcbl0pO1xuZXhwb3J0IGNvbnN0IENsaWVudE5vdGlmaWNhdGlvblNjaGVtYSA9IHoudW5pb24oW1xuICAgIENhbmNlbGxlZE5vdGlmaWNhdGlvblNjaGVtYSxcbiAgICBQcm9ncmVzc05vdGlmaWNhdGlvblNjaGVtYSxcbiAgICBJbml0aWFsaXplZE5vdGlmaWNhdGlvblNjaGVtYSxcbiAgICBSb290c0xpc3RDaGFuZ2VkTm90aWZpY2F0aW9uU2NoZW1hLFxuXSk7XG5leHBvcnQgY29uc3QgQ2xpZW50UmVzdWx0U2NoZW1hID0gei51bmlvbihbXG4gICAgRW1wdHlSZXN1bHRTY2hlbWEsXG4gICAgQ3JlYXRlTWVzc2FnZVJlc3VsdFNjaGVtYSxcbiAgICBFbGljaXRSZXN1bHRTY2hlbWEsXG4gICAgTGlzdFJvb3RzUmVzdWx0U2NoZW1hLFxuXSk7XG4vKiBTZXJ2ZXIgbWVzc2FnZXMgKi9cbmV4cG9ydCBjb25zdCBTZXJ2ZXJSZXF1ZXN0U2NoZW1hID0gei51bmlvbihbXG4gICAgUGluZ1JlcXVlc3RTY2hlbWEsXG4gICAgQ3JlYXRlTWVzc2FnZVJlcXVlc3RTY2hlbWEsXG4gICAgRWxpY2l0UmVxdWVzdFNjaGVtYSxcbiAgICBMaXN0Um9vdHNSZXF1ZXN0U2NoZW1hLFxuXSk7XG5leHBvcnQgY29uc3QgU2VydmVyTm90aWZpY2F0aW9uU2NoZW1hID0gei51bmlvbihbXG4gICAgQ2FuY2VsbGVkTm90aWZpY2F0aW9uU2NoZW1hLFxuICAgIFByb2dyZXNzTm90aWZpY2F0aW9uU2NoZW1hLFxuICAgIExvZ2dpbmdNZXNzYWdlTm90aWZpY2F0aW9uU2NoZW1hLFxuICAgIFJlc291cmNlVXBkYXRlZE5vdGlmaWNhdGlvblNjaGVtYSxcbiAgICBSZXNvdXJjZUxpc3RDaGFuZ2VkTm90aWZpY2F0aW9uU2NoZW1hLFxuICAgIFRvb2xMaXN0Q2hhbmdlZE5vdGlmaWNhdGlvblNjaGVtYSxcbiAgICBQcm9tcHRMaXN0Q2hhbmdlZE5vdGlmaWNhdGlvblNjaGVtYSxcbl0pO1xuZXhwb3J0IGNvbnN0IFNlcnZlclJlc3VsdFNjaGVtYSA9IHoudW5pb24oW1xuICAgIEVtcHR5UmVzdWx0U2NoZW1hLFxuICAgIEluaXRpYWxpemVSZXN1bHRTY2hlbWEsXG4gICAgQ29tcGxldGVSZXN1bHRTY2hlbWEsXG4gICAgR2V0UHJvbXB0UmVzdWx0U2NoZW1hLFxuICAgIExpc3RQcm9tcHRzUmVzdWx0U2NoZW1hLFxuICAgIExpc3RSZXNvdXJjZXNSZXN1bHRTY2hlbWEsXG4gICAgTGlzdFJlc291cmNlVGVtcGxhdGVzUmVzdWx0U2NoZW1hLFxuICAgIFJlYWRSZXNvdXJjZVJlc3VsdFNjaGVtYSxcbiAgICBDYWxsVG9vbFJlc3VsdFNjaGVtYSxcbiAgICBMaXN0VG9vbHNSZXN1bHRTY2hlbWEsXG5dKTtcbmV4cG9ydCBjbGFzcyBNY3BFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcihjb2RlLCBtZXNzYWdlLCBkYXRhKSB7XG4gICAgICAgIHN1cGVyKGBNQ1AgZXJyb3IgJHtjb2RlfTogJHttZXNzYWdlfWApO1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIk1jcEVycm9yXCI7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZXMuanMubWFwIiwiaW1wb3J0IHsgQ2FuY2VsbGVkTm90aWZpY2F0aW9uU2NoZW1hLCBFcnJvckNvZGUsIGlzSlNPTlJQQ0Vycm9yLCBpc0pTT05SUENSZXF1ZXN0LCBpc0pTT05SUENSZXNwb25zZSwgaXNKU09OUlBDTm90aWZpY2F0aW9uLCBNY3BFcnJvciwgUGluZ1JlcXVlc3RTY2hlbWEsIFByb2dyZXNzTm90aWZpY2F0aW9uU2NoZW1hLCB9IGZyb20gXCIuLi90eXBlcy5qc1wiO1xuLyoqXG4gKiBUaGUgZGVmYXVsdCByZXF1ZXN0IHRpbWVvdXQsIGluIG1pbGlzZWNvbmRzLlxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9SRVFVRVNUX1RJTUVPVVRfTVNFQyA9IDYwMDAwO1xuLyoqXG4gKiBJbXBsZW1lbnRzIE1DUCBwcm90b2NvbCBmcmFtaW5nIG9uIHRvcCBvZiBhIHBsdWdnYWJsZSB0cmFuc3BvcnQsIGluY2x1ZGluZ1xuICogZmVhdHVyZXMgbGlrZSByZXF1ZXN0L3Jlc3BvbnNlIGxpbmtpbmcsIG5vdGlmaWNhdGlvbnMsIGFuZCBwcm9ncmVzcy5cbiAqL1xuZXhwb3J0IGNsYXNzIFByb3RvY29sIHtcbiAgICBjb25zdHJ1Y3Rvcihfb3B0aW9ucykge1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gX29wdGlvbnM7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RNZXNzYWdlSWQgPSAwO1xuICAgICAgICB0aGlzLl9yZXF1ZXN0SGFuZGxlcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RIYW5kbGVyQWJvcnRDb250cm9sbGVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fbm90aWZpY2F0aW9uSGFuZGxlcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX3Jlc3BvbnNlSGFuZGxlcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX3Byb2dyZXNzSGFuZGxlcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX3RpbWVvdXRJbmZvID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9wZW5kaW5nRGVib3VuY2VkTm90aWZpY2F0aW9ucyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5zZXROb3RpZmljYXRpb25IYW5kbGVyKENhbmNlbGxlZE5vdGlmaWNhdGlvblNjaGVtYSwgKG5vdGlmaWNhdGlvbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29udHJvbGxlciA9IHRoaXMuX3JlcXVlc3RIYW5kbGVyQWJvcnRDb250cm9sbGVycy5nZXQobm90aWZpY2F0aW9uLnBhcmFtcy5yZXF1ZXN0SWQpO1xuICAgICAgICAgICAgY29udHJvbGxlciA9PT0gbnVsbCB8fCBjb250cm9sbGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb250cm9sbGVyLmFib3J0KG5vdGlmaWNhdGlvbi5wYXJhbXMucmVhc29uKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2V0Tm90aWZpY2F0aW9uSGFuZGxlcihQcm9ncmVzc05vdGlmaWNhdGlvblNjaGVtYSwgKG5vdGlmaWNhdGlvbikgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25wcm9ncmVzcyhub3RpZmljYXRpb24pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXRSZXF1ZXN0SGFuZGxlcihQaW5nUmVxdWVzdFNjaGVtYSwgXG4gICAgICAgIC8vIEF1dG9tYXRpYyBwb25nIGJ5IGRlZmF1bHQuXG4gICAgICAgIChfcmVxdWVzdCkgPT4gKHt9KSk7XG4gICAgfVxuICAgIF9zZXR1cFRpbWVvdXQobWVzc2FnZUlkLCB0aW1lb3V0LCBtYXhUb3RhbFRpbWVvdXQsIG9uVGltZW91dCwgcmVzZXRUaW1lb3V0T25Qcm9ncmVzcyA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuX3RpbWVvdXRJbmZvLnNldChtZXNzYWdlSWQsIHtcbiAgICAgICAgICAgIHRpbWVvdXRJZDogc2V0VGltZW91dChvblRpbWVvdXQsIHRpbWVvdXQpLFxuICAgICAgICAgICAgc3RhcnRUaW1lOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgdGltZW91dCxcbiAgICAgICAgICAgIG1heFRvdGFsVGltZW91dCxcbiAgICAgICAgICAgIHJlc2V0VGltZW91dE9uUHJvZ3Jlc3MsXG4gICAgICAgICAgICBvblRpbWVvdXRcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9yZXNldFRpbWVvdXQobWVzc2FnZUlkKSB7XG4gICAgICAgIGNvbnN0IGluZm8gPSB0aGlzLl90aW1lb3V0SW5mby5nZXQobWVzc2FnZUlkKTtcbiAgICAgICAgaWYgKCFpbmZvKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBjb25zdCB0b3RhbEVsYXBzZWQgPSBEYXRlLm5vdygpIC0gaW5mby5zdGFydFRpbWU7XG4gICAgICAgIGlmIChpbmZvLm1heFRvdGFsVGltZW91dCAmJiB0b3RhbEVsYXBzZWQgPj0gaW5mby5tYXhUb3RhbFRpbWVvdXQpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVvdXRJbmZvLmRlbGV0ZShtZXNzYWdlSWQpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1jcEVycm9yKEVycm9yQ29kZS5SZXF1ZXN0VGltZW91dCwgXCJNYXhpbXVtIHRvdGFsIHRpbWVvdXQgZXhjZWVkZWRcIiwgeyBtYXhUb3RhbFRpbWVvdXQ6IGluZm8ubWF4VG90YWxUaW1lb3V0LCB0b3RhbEVsYXBzZWQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJUaW1lb3V0KGluZm8udGltZW91dElkKTtcbiAgICAgICAgaW5mby50aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGluZm8ub25UaW1lb3V0LCBpbmZvLnRpbWVvdXQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgX2NsZWFudXBUaW1lb3V0KG1lc3NhZ2VJZCkge1xuICAgICAgICBjb25zdCBpbmZvID0gdGhpcy5fdGltZW91dEluZm8uZ2V0KG1lc3NhZ2VJZCk7XG4gICAgICAgIGlmIChpbmZvKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoaW5mby50aW1lb3V0SWQpO1xuICAgICAgICAgICAgdGhpcy5fdGltZW91dEluZm8uZGVsZXRlKG1lc3NhZ2VJZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgdG8gdGhlIGdpdmVuIHRyYW5zcG9ydCwgc3RhcnRzIGl0LCBhbmQgc3RhcnRzIGxpc3RlbmluZyBmb3IgbWVzc2FnZXMuXG4gICAgICpcbiAgICAgKiBUaGUgUHJvdG9jb2wgb2JqZWN0IGFzc3VtZXMgb3duZXJzaGlwIG9mIHRoZSBUcmFuc3BvcnQsIHJlcGxhY2luZyBhbnkgY2FsbGJhY2tzIHRoYXQgaGF2ZSBhbHJlYWR5IGJlZW4gc2V0LCBhbmQgZXhwZWN0cyB0aGF0IGl0IGlzIHRoZSBvbmx5IHVzZXIgb2YgdGhlIFRyYW5zcG9ydCBpbnN0YW5jZSBnb2luZyBmb3J3YXJkLlxuICAgICAqL1xuICAgIGFzeW5jIGNvbm5lY3QodHJhbnNwb3J0KSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICB0aGlzLl90cmFuc3BvcnQgPSB0cmFuc3BvcnQ7XG4gICAgICAgIGNvbnN0IF9vbmNsb3NlID0gKF9hID0gdGhpcy50cmFuc3BvcnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vbmNsb3NlO1xuICAgICAgICB0aGlzLl90cmFuc3BvcnQub25jbG9zZSA9ICgpID0+IHtcbiAgICAgICAgICAgIF9vbmNsb3NlID09PSBudWxsIHx8IF9vbmNsb3NlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb25jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fb25jbG9zZSgpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBfb25lcnJvciA9IChfYiA9IHRoaXMudHJhbnNwb3J0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iub25lcnJvcjtcbiAgICAgICAgdGhpcy5fdHJhbnNwb3J0Lm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIF9vbmVycm9yID09PSBudWxsIHx8IF9vbmVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb25lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB0aGlzLl9vbmVycm9yKGVycm9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgX29ubWVzc2FnZSA9IChfYyA9IHRoaXMuX3RyYW5zcG9ydCkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLm9ubWVzc2FnZTtcbiAgICAgICAgdGhpcy5fdHJhbnNwb3J0Lm9ubWVzc2FnZSA9IChtZXNzYWdlLCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgX29ubWVzc2FnZSA9PT0gbnVsbCB8fCBfb25tZXNzYWdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb25tZXNzYWdlKG1lc3NhZ2UsIGV4dHJhKTtcbiAgICAgICAgICAgIGlmIChpc0pTT05SUENSZXNwb25zZShtZXNzYWdlKSB8fCBpc0pTT05SUENFcnJvcihtZXNzYWdlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29ucmVzcG9uc2UobWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0pTT05SUENSZXF1ZXN0KG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25yZXF1ZXN0KG1lc3NhZ2UsIGV4dHJhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzSlNPTlJQQ05vdGlmaWNhdGlvbihtZXNzYWdlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29ubm90aWZpY2F0aW9uKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25lcnJvcihuZXcgRXJyb3IoYFVua25vd24gbWVzc2FnZSB0eXBlOiAke0pTT04uc3RyaW5naWZ5KG1lc3NhZ2UpfWApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgYXdhaXQgdGhpcy5fdHJhbnNwb3J0LnN0YXJ0KCk7XG4gICAgfVxuICAgIF9vbmNsb3NlKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlSGFuZGxlcnMgPSB0aGlzLl9yZXNwb25zZUhhbmRsZXJzO1xuICAgICAgICB0aGlzLl9yZXNwb25zZUhhbmRsZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9wcm9ncmVzc0hhbmRsZXJzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdEZWJvdW5jZWROb3RpZmljYXRpb25zLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX3RyYW5zcG9ydCA9IHVuZGVmaW5lZDtcbiAgICAgICAgKF9hID0gdGhpcy5vbmNsb3NlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0aGlzKTtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgTWNwRXJyb3IoRXJyb3JDb2RlLkNvbm5lY3Rpb25DbG9zZWQsIFwiQ29ubmVjdGlvbiBjbG9zZWRcIik7XG4gICAgICAgIGZvciAoY29uc3QgaGFuZGxlciBvZiByZXNwb25zZUhhbmRsZXJzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBoYW5kbGVyKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfb25lcnJvcihlcnJvcikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMub25lcnJvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcywgZXJyb3IpO1xuICAgIH1cbiAgICBfb25ub3RpZmljYXRpb24obm90aWZpY2F0aW9uKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IChfYSA9IHRoaXMuX25vdGlmaWNhdGlvbkhhbmRsZXJzLmdldChub3RpZmljYXRpb24ubWV0aG9kKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdGhpcy5mYWxsYmFja05vdGlmaWNhdGlvbkhhbmRsZXI7XG4gICAgICAgIC8vIElnbm9yZSBub3RpZmljYXRpb25zIG5vdCBiZWluZyBzdWJzY3JpYmVkIHRvLlxuICAgICAgICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RhcnRpbmcgd2l0aCBQcm9taXNlLnJlc29sdmUoKSBwdXRzIGFueSBzeW5jaHJvbm91cyBlcnJvcnMgaW50byB0aGUgbW9uYWQgYXMgd2VsbC5cbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IGhhbmRsZXIobm90aWZpY2F0aW9uKSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHRoaXMuX29uZXJyb3IobmV3IEVycm9yKGBVbmNhdWdodCBlcnJvciBpbiBub3RpZmljYXRpb24gaGFuZGxlcjogJHtlcnJvcn1gKSkpO1xuICAgIH1cbiAgICBfb25yZXF1ZXN0KHJlcXVlc3QsIGV4dHJhKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IChfYSA9IHRoaXMuX3JlcXVlc3RIYW5kbGVycy5nZXQocmVxdWVzdC5tZXRob2QpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLmZhbGxiYWNrUmVxdWVzdEhhbmRsZXI7XG4gICAgICAgIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIChfYiA9IHRoaXMuX3RyYW5zcG9ydCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNlbmQoe1xuICAgICAgICAgICAgICAgIGpzb25ycGM6IFwiMi4wXCIsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogRXJyb3JDb2RlLk1ldGhvZE5vdEZvdW5kLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk1ldGhvZCBub3QgZm91bmRcIixcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB0aGlzLl9vbmVycm9yKG5ldyBFcnJvcihgRmFpbGVkIHRvIHNlbmQgYW4gZXJyb3IgcmVzcG9uc2U6ICR7ZXJyb3J9YCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RIYW5kbGVyQWJvcnRDb250cm9sbGVycy5zZXQocmVxdWVzdC5pZCwgYWJvcnRDb250cm9sbGVyKTtcbiAgICAgICAgY29uc3QgZnVsbEV4dHJhID0ge1xuICAgICAgICAgICAgc2lnbmFsOiBhYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgICAgICAgc2Vzc2lvbklkOiAoX2MgPSB0aGlzLl90cmFuc3BvcnQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5zZXNzaW9uSWQsXG4gICAgICAgICAgICBfbWV0YTogKF9kID0gcmVxdWVzdC5wYXJhbXMpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5fbWV0YSxcbiAgICAgICAgICAgIHNlbmROb3RpZmljYXRpb246IChub3RpZmljYXRpb24pID0+IHRoaXMubm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbiwgeyByZWxhdGVkUmVxdWVzdElkOiByZXF1ZXN0LmlkIH0pLFxuICAgICAgICAgICAgc2VuZFJlcXVlc3Q6IChyLCByZXN1bHRTY2hlbWEsIG9wdGlvbnMpID0+IHRoaXMucmVxdWVzdChyLCByZXN1bHRTY2hlbWEsIHsgLi4ub3B0aW9ucywgcmVsYXRlZFJlcXVlc3RJZDogcmVxdWVzdC5pZCB9KSxcbiAgICAgICAgICAgIGF1dGhJbmZvOiBleHRyYSA9PT0gbnVsbCB8fCBleHRyYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXh0cmEuYXV0aEluZm8sXG4gICAgICAgICAgICByZXF1ZXN0SWQ6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICByZXF1ZXN0SW5mbzogZXh0cmEgPT09IG51bGwgfHwgZXh0cmEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGV4dHJhLnJlcXVlc3RJbmZvXG4gICAgICAgIH07XG4gICAgICAgIC8vIFN0YXJ0aW5nIHdpdGggUHJvbWlzZS5yZXNvbHZlKCkgcHV0cyBhbnkgc3luY2hyb25vdXMgZXJyb3JzIGludG8gdGhlIG1vbmFkIGFzIHdlbGwuXG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgICAgICAudGhlbigoKSA9PiBoYW5kbGVyKHJlcXVlc3QsIGZ1bGxFeHRyYSkpXG4gICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAoYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMuX3RyYW5zcG9ydCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNlbmQoe1xuICAgICAgICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICAgICAgICBqc29ucnBjOiBcIjIuMFwiLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIGlmIChhYm9ydENvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5fdHJhbnNwb3J0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2VuZCh7XG4gICAgICAgICAgICAgICAganNvbnJwYzogXCIyLjBcIixcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBOdW1iZXIuaXNTYWZlSW50ZWdlcihlcnJvcltcImNvZGVcIl0pXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGVycm9yW1wiY29kZVwiXVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBFcnJvckNvZGUuSW50ZXJuYWxFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogKF9iID0gZXJyb3IubWVzc2FnZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogXCJJbnRlcm5hbCBlcnJvclwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHRoaXMuX29uZXJyb3IobmV3IEVycm9yKGBGYWlsZWQgdG8gc2VuZCByZXNwb25zZTogJHtlcnJvcn1gKSkpXG4gICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SGFuZGxlckFib3J0Q29udHJvbGxlcnMuZGVsZXRlKHJlcXVlc3QuaWQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX29ucHJvZ3Jlc3Mobm90aWZpY2F0aW9uKSB7XG4gICAgICAgIGNvbnN0IHsgcHJvZ3Jlc3NUb2tlbiwgLi4ucGFyYW1zIH0gPSBub3RpZmljYXRpb24ucGFyYW1zO1xuICAgICAgICBjb25zdCBtZXNzYWdlSWQgPSBOdW1iZXIocHJvZ3Jlc3NUb2tlbik7XG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLl9wcm9ncmVzc0hhbmRsZXJzLmdldChtZXNzYWdlSWQpO1xuICAgICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX29uZXJyb3IobmV3IEVycm9yKGBSZWNlaXZlZCBhIHByb2dyZXNzIG5vdGlmaWNhdGlvbiBmb3IgYW4gdW5rbm93biB0b2tlbjogJHtKU09OLnN0cmluZ2lmeShub3RpZmljYXRpb24pfWApKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZUhhbmRsZXIgPSB0aGlzLl9yZXNwb25zZUhhbmRsZXJzLmdldChtZXNzYWdlSWQpO1xuICAgICAgICBjb25zdCB0aW1lb3V0SW5mbyA9IHRoaXMuX3RpbWVvdXRJbmZvLmdldChtZXNzYWdlSWQpO1xuICAgICAgICBpZiAodGltZW91dEluZm8gJiYgcmVzcG9uc2VIYW5kbGVyICYmIHRpbWVvdXRJbmZvLnJlc2V0VGltZW91dE9uUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzZXRUaW1lb3V0KG1lc3NhZ2VJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZUhhbmRsZXIoZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBoYW5kbGVyKHBhcmFtcyk7XG4gICAgfVxuICAgIF9vbnJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VJZCA9IE51bWJlcihyZXNwb25zZS5pZCk7XG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLl9yZXNwb25zZUhhbmRsZXJzLmdldChtZXNzYWdlSWQpO1xuICAgICAgICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9vbmVycm9yKG5ldyBFcnJvcihgUmVjZWl2ZWQgYSByZXNwb25zZSBmb3IgYW4gdW5rbm93biBtZXNzYWdlIElEOiAke0pTT04uc3RyaW5naWZ5KHJlc3BvbnNlKX1gKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVzcG9uc2VIYW5kbGVycy5kZWxldGUobWVzc2FnZUlkKTtcbiAgICAgICAgdGhpcy5fcHJvZ3Jlc3NIYW5kbGVycy5kZWxldGUobWVzc2FnZUlkKTtcbiAgICAgICAgdGhpcy5fY2xlYW51cFRpbWVvdXQobWVzc2FnZUlkKTtcbiAgICAgICAgaWYgKGlzSlNPTlJQQ1Jlc3BvbnNlKHJlc3BvbnNlKSkge1xuICAgICAgICAgICAgaGFuZGxlcihyZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBNY3BFcnJvcihyZXNwb25zZS5lcnJvci5jb2RlLCByZXNwb25zZS5lcnJvci5tZXNzYWdlLCByZXNwb25zZS5lcnJvci5kYXRhKTtcbiAgICAgICAgICAgIGhhbmRsZXIoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCB0cmFuc3BvcnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFuc3BvcnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlcyB0aGUgY29ubmVjdGlvbi5cbiAgICAgKi9cbiAgICBhc3luYyBjbG9zZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBhd2FpdCAoKF9hID0gdGhpcy5fdHJhbnNwb3J0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xvc2UoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGEgcmVxdWVzdCBhbmQgd2FpdCBmb3IgYSByZXNwb25zZS5cbiAgICAgKlxuICAgICAqIERvIG5vdCB1c2UgdGhpcyBtZXRob2QgdG8gZW1pdCBub3RpZmljYXRpb25zISBVc2Ugbm90aWZpY2F0aW9uKCkgaW5zdGVhZC5cbiAgICAgKi9cbiAgICByZXF1ZXN0KHJlcXVlc3QsIHJlc3VsdFNjaGVtYSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IHJlbGF0ZWRSZXF1ZXN0SWQsIHJlc3VtcHRpb25Ub2tlbiwgb25yZXN1bXB0aW9udG9rZW4gfSA9IG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucyAhPT0gdm9pZCAwID8gb3B0aW9ucyA6IHt9O1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3RyYW5zcG9ydCkge1xuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJOb3QgY29ubmVjdGVkXCIpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKChfYSA9IHRoaXMuX29wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbmZvcmNlU3RyaWN0Q2FwYWJpbGl0aWVzKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0Q2FwYWJpbGl0eUZvck1ldGhvZChyZXF1ZXN0Lm1ldGhvZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAoX2IgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuc2lnbmFsKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudGhyb3dJZkFib3J0ZWQoKTtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VJZCA9IHRoaXMuX3JlcXVlc3RNZXNzYWdlSWQrKztcbiAgICAgICAgICAgIGNvbnN0IGpzb25ycGNSZXF1ZXN0ID0ge1xuICAgICAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgICAgICAgICAganNvbnJwYzogXCIyLjBcIixcbiAgICAgICAgICAgICAgICBpZDogbWVzc2FnZUlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMub25wcm9ncmVzcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Byb2dyZXNzSGFuZGxlcnMuc2V0KG1lc3NhZ2VJZCwgb3B0aW9ucy5vbnByb2dyZXNzKTtcbiAgICAgICAgICAgICAgICBqc29ucnBjUmVxdWVzdC5wYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnJlcXVlc3QucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICBfbWV0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uKCgoX2MgPSByZXF1ZXN0LnBhcmFtcykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLl9tZXRhKSB8fCB7fSksXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc1Rva2VuOiBtZXNzYWdlSWRcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2FuY2VsID0gKHJlYXNvbikgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNwb25zZUhhbmRsZXJzLmRlbGV0ZShtZXNzYWdlSWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Byb2dyZXNzSGFuZGxlcnMuZGVsZXRlKG1lc3NhZ2VJZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2xlYW51cFRpbWVvdXQobWVzc2FnZUlkKTtcbiAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLl90cmFuc3BvcnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZW5kKHtcbiAgICAgICAgICAgICAgICAgICAganNvbnJwYzogXCIyLjBcIixcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcIm5vdGlmaWNhdGlvbnMvY2FuY2VsbGVkXCIsXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdElkOiBtZXNzYWdlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFzb246IFN0cmluZyhyZWFzb24pLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sIHsgcmVsYXRlZFJlcXVlc3RJZCwgcmVzdW1wdGlvblRva2VuLCBvbnJlc3VtcHRpb250b2tlbiB9KS5jYXRjaCgoZXJyb3IpID0+IHRoaXMuX29uZXJyb3IobmV3IEVycm9yKGBGYWlsZWQgdG8gc2VuZCBjYW5jZWxsYXRpb246ICR7ZXJyb3J9YCkpKTtcbiAgICAgICAgICAgICAgICByZWplY3QocmVhc29uKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9yZXNwb25zZUhhbmRsZXJzLnNldChtZXNzYWdlSWQsIChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBpZiAoKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnNpZ25hbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVzdWx0U2NoZW1hLnBhcnNlKHJlc3BvbnNlLnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAoX2QgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuc2lnbmFsKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsICgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgY2FuY2VsKChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5zaWduYWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZWFzb24pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCB0aW1lb3V0ID0gKF9lID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnRpbWVvdXQpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IERFRkFVTFRfUkVRVUVTVF9USU1FT1VUX01TRUM7XG4gICAgICAgICAgICBjb25zdCB0aW1lb3V0SGFuZGxlciA9ICgpID0+IGNhbmNlbChuZXcgTWNwRXJyb3IoRXJyb3JDb2RlLlJlcXVlc3RUaW1lb3V0LCBcIlJlcXVlc3QgdGltZWQgb3V0XCIsIHsgdGltZW91dCB9KSk7XG4gICAgICAgICAgICB0aGlzLl9zZXR1cFRpbWVvdXQobWVzc2FnZUlkLCB0aW1lb3V0LCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubWF4VG90YWxUaW1lb3V0LCB0aW1lb3V0SGFuZGxlciwgKF9mID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJlc2V0VGltZW91dE9uUHJvZ3Jlc3MpICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6IGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zcG9ydC5zZW5kKGpzb25ycGNSZXF1ZXN0LCB7IHJlbGF0ZWRSZXF1ZXN0SWQsIHJlc3VtcHRpb25Ub2tlbiwgb25yZXN1bXB0aW9udG9rZW4gfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2xlYW51cFRpbWVvdXQobWVzc2FnZUlkKTtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbWl0cyBhIG5vdGlmaWNhdGlvbiwgd2hpY2ggaXMgYSBvbmUtd2F5IG1lc3NhZ2UgdGhhdCBkb2VzIG5vdCBleHBlY3QgYSByZXNwb25zZS5cbiAgICAgKi9cbiAgICBhc3luYyBub3RpZmljYXRpb24obm90aWZpY2F0aW9uLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICghdGhpcy5fdHJhbnNwb3J0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgY29ubmVjdGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXNzZXJ0Tm90aWZpY2F0aW9uQ2FwYWJpbGl0eShub3RpZmljYXRpb24ubWV0aG9kKTtcbiAgICAgICAgY29uc3QgZGVib3VuY2VkTWV0aG9kcyA9IChfYiA9IChfYSA9IHRoaXMuX29wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZWJvdW5jZWROb3RpZmljYXRpb25NZXRob2RzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXTtcbiAgICAgICAgLy8gQSBub3RpZmljYXRpb24gY2FuIG9ubHkgYmUgZGVib3VuY2VkIGlmIGl0J3MgaW4gdGhlIGxpc3QgQU5EIGl0J3MgXCJzaW1wbGVcIlxuICAgICAgICAvLyAoaS5lLiwgaGFzIG5vIHBhcmFtZXRlcnMgYW5kIG5vIHJlbGF0ZWQgcmVxdWVzdCBJRCB0aGF0IGNvdWxkIGJlIGxvc3QpLlxuICAgICAgICBjb25zdCBjYW5EZWJvdW5jZSA9IGRlYm91bmNlZE1ldGhvZHMuaW5jbHVkZXMobm90aWZpY2F0aW9uLm1ldGhvZClcbiAgICAgICAgICAgICYmICFub3RpZmljYXRpb24ucGFyYW1zXG4gICAgICAgICAgICAmJiAhKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yZWxhdGVkUmVxdWVzdElkKTtcbiAgICAgICAgaWYgKGNhbkRlYm91bmNlKSB7XG4gICAgICAgICAgICAvLyBJZiBhIG5vdGlmaWNhdGlvbiBvZiB0aGlzIHR5cGUgaXMgYWxyZWFkeSBzY2hlZHVsZWQsIGRvIG5vdGhpbmcuXG4gICAgICAgICAgICBpZiAodGhpcy5fcGVuZGluZ0RlYm91bmNlZE5vdGlmaWNhdGlvbnMuaGFzKG5vdGlmaWNhdGlvbi5tZXRob2QpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWFyayB0aGlzIG5vdGlmaWNhdGlvbiB0eXBlIGFzIHBlbmRpbmcuXG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nRGVib3VuY2VkTm90aWZpY2F0aW9ucy5hZGQobm90aWZpY2F0aW9uLm1ldGhvZCk7XG4gICAgICAgICAgICAvLyBTY2hlZHVsZSB0aGUgYWN0dWFsIHNlbmQgdG8gaGFwcGVuIGluIHRoZSBuZXh0IG1pY3JvdGFzay5cbiAgICAgICAgICAgIC8vIFRoaXMgYWxsb3dzIGFsbCBzeW5jaHJvbm91cyBjYWxscyBpbiB0aGUgY3VycmVudCBldmVudCBsb29wIHRpY2sgdG8gYmUgY29hbGVzY2VkLlxuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIC8vIFVuLW1hcmsgdGhlIG5vdGlmaWNhdGlvbiBzbyB0aGUgbmV4dCBvbmUgY2FuIGJlIHNjaGVkdWxlZC5cbiAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nRGVib3VuY2VkTm90aWZpY2F0aW9ucy5kZWxldGUobm90aWZpY2F0aW9uLm1ldGhvZCk7XG4gICAgICAgICAgICAgICAgLy8gU0FGRVRZIENIRUNLOiBJZiB0aGUgY29ubmVjdGlvbiB3YXMgY2xvc2VkIHdoaWxlIHRoaXMgd2FzIHBlbmRpbmcsIGFib3J0LlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fdHJhbnNwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QganNvbnJwY05vdGlmaWNhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4ubm90aWZpY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgICBqc29ucnBjOiBcIjIuMFwiLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gU2VuZCB0aGUgbm90aWZpY2F0aW9uLCBidXQgZG9uJ3QgYXdhaXQgaXQgaGVyZSB0byBhdm9pZCBibG9ja2luZy5cbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgcG90ZW50aWFsIGVycm9ycyB3aXRoIGEgLmNhdGNoKCkuXG4gICAgICAgICAgICAgICAgKF9hID0gdGhpcy5fdHJhbnNwb3J0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2VuZChqc29ucnBjTm90aWZpY2F0aW9uLCBvcHRpb25zKS5jYXRjaChlcnJvciA9PiB0aGlzLl9vbmVycm9yKGVycm9yKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIFJldHVybiBpbW1lZGlhdGVseS5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBqc29ucnBjTm90aWZpY2F0aW9uID0ge1xuICAgICAgICAgICAgLi4ubm90aWZpY2F0aW9uLFxuICAgICAgICAgICAganNvbnJwYzogXCIyLjBcIixcbiAgICAgICAgfTtcbiAgICAgICAgYXdhaXQgdGhpcy5fdHJhbnNwb3J0LnNlbmQoanNvbnJwY05vdGlmaWNhdGlvbiwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIGhhbmRsZXIgdG8gaW52b2tlIHdoZW4gdGhpcyBwcm90b2NvbCBvYmplY3QgcmVjZWl2ZXMgYSByZXF1ZXN0IHdpdGggdGhlIGdpdmVuIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCB0aGlzIHdpbGwgcmVwbGFjZSBhbnkgcHJldmlvdXMgcmVxdWVzdCBoYW5kbGVyIGZvciB0aGUgc2FtZSBtZXRob2QuXG4gICAgICovXG4gICAgc2V0UmVxdWVzdEhhbmRsZXIocmVxdWVzdFNjaGVtYSwgaGFuZGxlcikge1xuICAgICAgICBjb25zdCBtZXRob2QgPSByZXF1ZXN0U2NoZW1hLnNoYXBlLm1ldGhvZC52YWx1ZTtcbiAgICAgICAgdGhpcy5hc3NlcnRSZXF1ZXN0SGFuZGxlckNhcGFiaWxpdHkobWV0aG9kKTtcbiAgICAgICAgdGhpcy5fcmVxdWVzdEhhbmRsZXJzLnNldChtZXRob2QsIChyZXF1ZXN0LCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShoYW5kbGVyKHJlcXVlc3RTY2hlbWEucGFyc2UocmVxdWVzdCksIGV4dHJhKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSByZXF1ZXN0IGhhbmRsZXIgZm9yIHRoZSBnaXZlbiBtZXRob2QuXG4gICAgICovXG4gICAgcmVtb3ZlUmVxdWVzdEhhbmRsZXIobWV0aG9kKSB7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RIYW5kbGVycy5kZWxldGUobWV0aG9kKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXNzZXJ0cyB0aGF0IGEgcmVxdWVzdCBoYW5kbGVyIGhhcyBub3QgYWxyZWFkeSBiZWVuIHNldCBmb3IgdGhlIGdpdmVuIG1ldGhvZCwgaW4gcHJlcGFyYXRpb24gZm9yIGEgbmV3IG9uZSBiZWluZyBhdXRvbWF0aWNhbGx5IGluc3RhbGxlZC5cbiAgICAgKi9cbiAgICBhc3NlcnRDYW5TZXRSZXF1ZXN0SGFuZGxlcihtZXRob2QpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RIYW5kbGVycy5oYXMobWV0aG9kKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBIHJlcXVlc3QgaGFuZGxlciBmb3IgJHttZXRob2R9IGFscmVhZHkgZXhpc3RzLCB3aGljaCB3b3VsZCBiZSBvdmVycmlkZGVuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgaGFuZGxlciB0byBpbnZva2Ugd2hlbiB0aGlzIHByb3RvY29sIG9iamVjdCByZWNlaXZlcyBhIG5vdGlmaWNhdGlvbiB3aXRoIHRoZSBnaXZlbiBtZXRob2QuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgdGhpcyB3aWxsIHJlcGxhY2UgYW55IHByZXZpb3VzIG5vdGlmaWNhdGlvbiBoYW5kbGVyIGZvciB0aGUgc2FtZSBtZXRob2QuXG4gICAgICovXG4gICAgc2V0Tm90aWZpY2F0aW9uSGFuZGxlcihub3RpZmljYXRpb25TY2hlbWEsIGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5fbm90aWZpY2F0aW9uSGFuZGxlcnMuc2V0KG5vdGlmaWNhdGlvblNjaGVtYS5zaGFwZS5tZXRob2QudmFsdWUsIChub3RpZmljYXRpb24pID0+IFByb21pc2UucmVzb2x2ZShoYW5kbGVyKG5vdGlmaWNhdGlvblNjaGVtYS5wYXJzZShub3RpZmljYXRpb24pKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBub3RpZmljYXRpb24gaGFuZGxlciBmb3IgdGhlIGdpdmVuIG1ldGhvZC5cbiAgICAgKi9cbiAgICByZW1vdmVOb3RpZmljYXRpb25IYW5kbGVyKG1ldGhvZCkge1xuICAgICAgICB0aGlzLl9ub3RpZmljYXRpb25IYW5kbGVycy5kZWxldGUobWV0aG9kKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VDYXBhYmlsaXRpZXMoYmFzZSwgYWRkaXRpb25hbCkge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhhZGRpdGlvbmFsKS5yZWR1Y2UoKGFjYywgW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIGFjY1trZXldID0gYWNjW2tleV0gPyB7IC4uLmFjY1trZXldLCAuLi52YWx1ZSB9IDogdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgeyAuLi5iYXNlIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvdG9jb2wuanMubWFwIiwiLyoqIEBsaWNlbnNlIFVSSS5qcyB2NC40LjEgKGMpIDIwMTEgR2FyeSBDb3VydC4gTGljZW5zZTogaHR0cDovL2dpdGh1Yi5jb20vZ2FyeWNvdXJ0L3VyaS1qcyAqL1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcblx0dHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gZmFjdG9yeShleHBvcnRzKSA6XG5cdHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShbJ2V4cG9ydHMnXSwgZmFjdG9yeSkgOlxuXHQoZmFjdG9yeSgoZ2xvYmFsLlVSSSA9IGdsb2JhbC5VUkkgfHwge30pKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoZXhwb3J0cykgeyAndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIG1lcmdlKCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBzZXRzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIHNldHNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgaWYgKHNldHMubGVuZ3RoID4gMSkge1xuICAgICAgICBzZXRzWzBdID0gc2V0c1swXS5zbGljZSgwLCAtMSk7XG4gICAgICAgIHZhciB4bCA9IHNldHMubGVuZ3RoIC0gMTtcbiAgICAgICAgZm9yICh2YXIgeCA9IDE7IHggPCB4bDsgKyt4KSB7XG4gICAgICAgICAgICBzZXRzW3hdID0gc2V0c1t4XS5zbGljZSgxLCAtMSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0c1t4bF0gPSBzZXRzW3hsXS5zbGljZSgxKTtcbiAgICAgICAgcmV0dXJuIHNldHMuam9pbignJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHNldHNbMF07XG4gICAgfVxufVxuZnVuY3Rpb24gc3ViZXhwKHN0cikge1xuICAgIHJldHVybiBcIig/OlwiICsgc3RyICsgXCIpXCI7XG59XG5mdW5jdGlvbiB0eXBlT2Yobykge1xuICAgIHJldHVybiBvID09PSB1bmRlZmluZWQgPyBcInVuZGVmaW5lZFwiIDogbyA9PT0gbnVsbCA/IFwibnVsbFwiIDogT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNwbGl0KFwiIFwiKS5wb3AoKS5zcGxpdChcIl1cIikuc2hpZnQoKS50b0xvd2VyQ2FzZSgpO1xufVxuZnVuY3Rpb24gdG9VcHBlckNhc2Uoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci50b1VwcGVyQ2FzZSgpO1xufVxuZnVuY3Rpb24gdG9BcnJheShvYmopIHtcbiAgICByZXR1cm4gb2JqICE9PSB1bmRlZmluZWQgJiYgb2JqICE9PSBudWxsID8gb2JqIGluc3RhbmNlb2YgQXJyYXkgPyBvYmogOiB0eXBlb2Ygb2JqLmxlbmd0aCAhPT0gXCJudW1iZXJcIiB8fCBvYmouc3BsaXQgfHwgb2JqLnNldEludGVydmFsIHx8IG9iai5jYWxsID8gW29ial0gOiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChvYmopIDogW107XG59XG5mdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2UpIHtcbiAgICB2YXIgb2JqID0gdGFyZ2V0O1xuICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgb2JqW2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBidWlsZEV4cHMoaXNJUkkpIHtcbiAgICB2YXIgQUxQSEEkJCA9IFwiW0EtWmEtel1cIixcbiAgICAgICAgQ1IkID0gXCJbXFxcXHgwRF1cIixcbiAgICAgICAgRElHSVQkJCA9IFwiWzAtOV1cIixcbiAgICAgICAgRFFVT1RFJCQgPSBcIltcXFxceDIyXVwiLFxuICAgICAgICBIRVhESUckJCA9IG1lcmdlKERJR0lUJCQsIFwiW0EtRmEtZl1cIiksXG4gICAgICAgIC8vY2FzZS1pbnNlbnNpdGl2ZVxuICAgIExGJCQgPSBcIltcXFxceDBBXVwiLFxuICAgICAgICBTUCQkID0gXCJbXFxcXHgyMF1cIixcbiAgICAgICAgUENUX0VOQ09ERUQkID0gc3ViZXhwKHN1YmV4cChcIiVbRUZlZl1cIiArIEhFWERJRyQkICsgXCIlXCIgKyBIRVhESUckJCArIEhFWERJRyQkICsgXCIlXCIgKyBIRVhESUckJCArIEhFWERJRyQkKSArIFwifFwiICsgc3ViZXhwKFwiJVs4OUEtRmEtZl1cIiArIEhFWERJRyQkICsgXCIlXCIgKyBIRVhESUckJCArIEhFWERJRyQkKSArIFwifFwiICsgc3ViZXhwKFwiJVwiICsgSEVYRElHJCQgKyBIRVhESUckJCkpLFxuICAgICAgICAvL2V4cGFuZGVkXG4gICAgR0VOX0RFTElNUyQkID0gXCJbXFxcXDpcXFxcL1xcXFw/XFxcXCNcXFxcW1xcXFxdXFxcXEBdXCIsXG4gICAgICAgIFNVQl9ERUxJTVMkJCA9IFwiW1xcXFwhXFxcXCRcXFxcJlxcXFwnXFxcXChcXFxcKVxcXFwqXFxcXCtcXFxcLFxcXFw7XFxcXD1dXCIsXG4gICAgICAgIFJFU0VSVkVEJCQgPSBtZXJnZShHRU5fREVMSU1TJCQsIFNVQl9ERUxJTVMkJCksXG4gICAgICAgIFVDU0NIQVIkJCA9IGlzSVJJID8gXCJbXFxcXHhBMC1cXFxcdTIwMERcXFxcdTIwMTAtXFxcXHUyMDI5XFxcXHUyMDJGLVxcXFx1RDdGRlxcXFx1RjkwMC1cXFxcdUZEQ0ZcXFxcdUZERjAtXFxcXHVGRkVGXVwiIDogXCJbXVwiLFxuICAgICAgICAvL3N1YnNldCwgZXhjbHVkZXMgYmlkaSBjb250cm9sIGNoYXJhY3RlcnNcbiAgICBJUFJJVkFURSQkID0gaXNJUkkgPyBcIltcXFxcdUUwMDAtXFxcXHVGOEZGXVwiIDogXCJbXVwiLFxuICAgICAgICAvL3N1YnNldFxuICAgIFVOUkVTRVJWRUQkJCA9IG1lcmdlKEFMUEhBJCQsIERJR0lUJCQsIFwiW1xcXFwtXFxcXC5cXFxcX1xcXFx+XVwiLCBVQ1NDSEFSJCQpLFxuICAgICAgICBTQ0hFTUUkID0gc3ViZXhwKEFMUEhBJCQgKyBtZXJnZShBTFBIQSQkLCBESUdJVCQkLCBcIltcXFxcK1xcXFwtXFxcXC5dXCIpICsgXCIqXCIpLFxuICAgICAgICBVU0VSSU5GTyQgPSBzdWJleHAoc3ViZXhwKFBDVF9FTkNPREVEJCArIFwifFwiICsgbWVyZ2UoVU5SRVNFUlZFRCQkLCBTVUJfREVMSU1TJCQsIFwiW1xcXFw6XVwiKSkgKyBcIipcIiksXG4gICAgICAgIERFQ19PQ1RFVCQgPSBzdWJleHAoc3ViZXhwKFwiMjVbMC01XVwiKSArIFwifFwiICsgc3ViZXhwKFwiMlswLTRdXCIgKyBESUdJVCQkKSArIFwifFwiICsgc3ViZXhwKFwiMVwiICsgRElHSVQkJCArIERJR0lUJCQpICsgXCJ8XCIgKyBzdWJleHAoXCJbMS05XVwiICsgRElHSVQkJCkgKyBcInxcIiArIERJR0lUJCQpLFxuICAgICAgICBERUNfT0NURVRfUkVMQVhFRCQgPSBzdWJleHAoc3ViZXhwKFwiMjVbMC01XVwiKSArIFwifFwiICsgc3ViZXhwKFwiMlswLTRdXCIgKyBESUdJVCQkKSArIFwifFwiICsgc3ViZXhwKFwiMVwiICsgRElHSVQkJCArIERJR0lUJCQpICsgXCJ8XCIgKyBzdWJleHAoXCIwP1sxLTldXCIgKyBESUdJVCQkKSArIFwifDA/MD9cIiArIERJR0lUJCQpLFxuICAgICAgICAvL3JlbGF4ZWQgcGFyc2luZyBydWxlc1xuICAgIElQVjRBRERSRVNTJCA9IHN1YmV4cChERUNfT0NURVRfUkVMQVhFRCQgKyBcIlxcXFwuXCIgKyBERUNfT0NURVRfUkVMQVhFRCQgKyBcIlxcXFwuXCIgKyBERUNfT0NURVRfUkVMQVhFRCQgKyBcIlxcXFwuXCIgKyBERUNfT0NURVRfUkVMQVhFRCQpLFxuICAgICAgICBIMTYkID0gc3ViZXhwKEhFWERJRyQkICsgXCJ7MSw0fVwiKSxcbiAgICAgICAgTFMzMiQgPSBzdWJleHAoc3ViZXhwKEgxNiQgKyBcIlxcXFw6XCIgKyBIMTYkKSArIFwifFwiICsgSVBWNEFERFJFU1MkKSxcbiAgICAgICAgSVBWNkFERFJFU1MxJCA9IHN1YmV4cChzdWJleHAoSDE2JCArIFwiXFxcXDpcIikgKyBcIns2fVwiICsgTFMzMiQpLFxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgIDYoIGgxNiBcIjpcIiApIGxzMzJcbiAgICBJUFY2QUREUkVTUzIkID0gc3ViZXhwKFwiXFxcXDpcXFxcOlwiICsgc3ViZXhwKEgxNiQgKyBcIlxcXFw6XCIpICsgXCJ7NX1cIiArIExTMzIkKSxcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgXCI6OlwiIDUoIGgxNiBcIjpcIiApIGxzMzJcbiAgICBJUFY2QUREUkVTUzMkID0gc3ViZXhwKHN1YmV4cChIMTYkKSArIFwiP1xcXFw6XFxcXDpcIiArIHN1YmV4cChIMTYkICsgXCJcXFxcOlwiKSArIFwiezR9XCIgKyBMUzMyJCksXG4gICAgICAgIC8vWyAgICAgICAgICAgICAgIGgxNiBdIFwiOjpcIiA0KCBoMTYgXCI6XCIgKSBsczMyXG4gICAgSVBWNkFERFJFU1M0JCA9IHN1YmV4cChzdWJleHAoc3ViZXhwKEgxNiQgKyBcIlxcXFw6XCIpICsgXCJ7MCwxfVwiICsgSDE2JCkgKyBcIj9cXFxcOlxcXFw6XCIgKyBzdWJleHAoSDE2JCArIFwiXFxcXDpcIikgKyBcInszfVwiICsgTFMzMiQpLFxuICAgICAgICAvL1sgKjEoIGgxNiBcIjpcIiApIGgxNiBdIFwiOjpcIiAzKCBoMTYgXCI6XCIgKSBsczMyXG4gICAgSVBWNkFERFJFU1M1JCA9IHN1YmV4cChzdWJleHAoc3ViZXhwKEgxNiQgKyBcIlxcXFw6XCIpICsgXCJ7MCwyfVwiICsgSDE2JCkgKyBcIj9cXFxcOlxcXFw6XCIgKyBzdWJleHAoSDE2JCArIFwiXFxcXDpcIikgKyBcInsyfVwiICsgTFMzMiQpLFxuICAgICAgICAvL1sgKjIoIGgxNiBcIjpcIiApIGgxNiBdIFwiOjpcIiAyKCBoMTYgXCI6XCIgKSBsczMyXG4gICAgSVBWNkFERFJFU1M2JCA9IHN1YmV4cChzdWJleHAoc3ViZXhwKEgxNiQgKyBcIlxcXFw6XCIpICsgXCJ7MCwzfVwiICsgSDE2JCkgKyBcIj9cXFxcOlxcXFw6XCIgKyBIMTYkICsgXCJcXFxcOlwiICsgTFMzMiQpLFxuICAgICAgICAvL1sgKjMoIGgxNiBcIjpcIiApIGgxNiBdIFwiOjpcIiAgICBoMTYgXCI6XCIgICBsczMyXG4gICAgSVBWNkFERFJFU1M3JCA9IHN1YmV4cChzdWJleHAoc3ViZXhwKEgxNiQgKyBcIlxcXFw6XCIpICsgXCJ7MCw0fVwiICsgSDE2JCkgKyBcIj9cXFxcOlxcXFw6XCIgKyBMUzMyJCksXG4gICAgICAgIC8vWyAqNCggaDE2IFwiOlwiICkgaDE2IF0gXCI6OlwiICAgICAgICAgICAgICBsczMyXG4gICAgSVBWNkFERFJFU1M4JCA9IHN1YmV4cChzdWJleHAoc3ViZXhwKEgxNiQgKyBcIlxcXFw6XCIpICsgXCJ7MCw1fVwiICsgSDE2JCkgKyBcIj9cXFxcOlxcXFw6XCIgKyBIMTYkKSxcbiAgICAgICAgLy9bICo1KCBoMTYgXCI6XCIgKSBoMTYgXSBcIjo6XCIgICAgICAgICAgICAgIGgxNlxuICAgIElQVjZBRERSRVNTOSQgPSBzdWJleHAoc3ViZXhwKHN1YmV4cChIMTYkICsgXCJcXFxcOlwiKSArIFwiezAsNn1cIiArIEgxNiQpICsgXCI/XFxcXDpcXFxcOlwiKSxcbiAgICAgICAgLy9bICo2KCBoMTYgXCI6XCIgKSBoMTYgXSBcIjo6XCJcbiAgICBJUFY2QUREUkVTUyQgPSBzdWJleHAoW0lQVjZBRERSRVNTMSQsIElQVjZBRERSRVNTMiQsIElQVjZBRERSRVNTMyQsIElQVjZBRERSRVNTNCQsIElQVjZBRERSRVNTNSQsIElQVjZBRERSRVNTNiQsIElQVjZBRERSRVNTNyQsIElQVjZBRERSRVNTOCQsIElQVjZBRERSRVNTOSRdLmpvaW4oXCJ8XCIpKSxcbiAgICAgICAgWk9ORUlEJCA9IHN1YmV4cChzdWJleHAoVU5SRVNFUlZFRCQkICsgXCJ8XCIgKyBQQ1RfRU5DT0RFRCQpICsgXCIrXCIpLFxuICAgICAgICAvL1JGQyA2ODc0XG4gICAgSVBWNkFERFJaJCA9IHN1YmV4cChJUFY2QUREUkVTUyQgKyBcIlxcXFwlMjVcIiArIFpPTkVJRCQpLFxuICAgICAgICAvL1JGQyA2ODc0XG4gICAgSVBWNkFERFJaX1JFTEFYRUQkID0gc3ViZXhwKElQVjZBRERSRVNTJCArIHN1YmV4cChcIlxcXFwlMjV8XFxcXCUoPyFcIiArIEhFWERJRyQkICsgXCJ7Mn0pXCIpICsgWk9ORUlEJCksXG4gICAgICAgIC8vUkZDIDY4NzQsIHdpdGggcmVsYXhlZCBwYXJzaW5nIHJ1bGVzXG4gICAgSVBWRlVUVVJFJCA9IHN1YmV4cChcIlt2Vl1cIiArIEhFWERJRyQkICsgXCIrXFxcXC5cIiArIG1lcmdlKFVOUkVTRVJWRUQkJCwgU1VCX0RFTElNUyQkLCBcIltcXFxcOl1cIikgKyBcIitcIiksXG4gICAgICAgIElQX0xJVEVSQUwkID0gc3ViZXhwKFwiXFxcXFtcIiArIHN1YmV4cChJUFY2QUREUlpfUkVMQVhFRCQgKyBcInxcIiArIElQVjZBRERSRVNTJCArIFwifFwiICsgSVBWRlVUVVJFJCkgKyBcIlxcXFxdXCIpLFxuICAgICAgICAvL1JGQyA2ODc0XG4gICAgUkVHX05BTUUkID0gc3ViZXhwKHN1YmV4cChQQ1RfRU5DT0RFRCQgKyBcInxcIiArIG1lcmdlKFVOUkVTRVJWRUQkJCwgU1VCX0RFTElNUyQkKSkgKyBcIipcIiksXG4gICAgICAgIEhPU1QkID0gc3ViZXhwKElQX0xJVEVSQUwkICsgXCJ8XCIgKyBJUFY0QUREUkVTUyQgKyBcIig/IVwiICsgUkVHX05BTUUkICsgXCIpXCIgKyBcInxcIiArIFJFR19OQU1FJCksXG4gICAgICAgIFBPUlQkID0gc3ViZXhwKERJR0lUJCQgKyBcIipcIiksXG4gICAgICAgIEFVVEhPUklUWSQgPSBzdWJleHAoc3ViZXhwKFVTRVJJTkZPJCArIFwiQFwiKSArIFwiP1wiICsgSE9TVCQgKyBzdWJleHAoXCJcXFxcOlwiICsgUE9SVCQpICsgXCI/XCIpLFxuICAgICAgICBQQ0hBUiQgPSBzdWJleHAoUENUX0VOQ09ERUQkICsgXCJ8XCIgKyBtZXJnZShVTlJFU0VSVkVEJCQsIFNVQl9ERUxJTVMkJCwgXCJbXFxcXDpcXFxcQF1cIikpLFxuICAgICAgICBTRUdNRU5UJCA9IHN1YmV4cChQQ0hBUiQgKyBcIipcIiksXG4gICAgICAgIFNFR01FTlRfTlokID0gc3ViZXhwKFBDSEFSJCArIFwiK1wiKSxcbiAgICAgICAgU0VHTUVOVF9OWl9OQyQgPSBzdWJleHAoc3ViZXhwKFBDVF9FTkNPREVEJCArIFwifFwiICsgbWVyZ2UoVU5SRVNFUlZFRCQkLCBTVUJfREVMSU1TJCQsIFwiW1xcXFxAXVwiKSkgKyBcIitcIiksXG4gICAgICAgIFBBVEhfQUJFTVBUWSQgPSBzdWJleHAoc3ViZXhwKFwiXFxcXC9cIiArIFNFR01FTlQkKSArIFwiKlwiKSxcbiAgICAgICAgUEFUSF9BQlNPTFVURSQgPSBzdWJleHAoXCJcXFxcL1wiICsgc3ViZXhwKFNFR01FTlRfTlokICsgUEFUSF9BQkVNUFRZJCkgKyBcIj9cIiksXG4gICAgICAgIC8vc2ltcGxpZmllZFxuICAgIFBBVEhfTk9TQ0hFTUUkID0gc3ViZXhwKFNFR01FTlRfTlpfTkMkICsgUEFUSF9BQkVNUFRZJCksXG4gICAgICAgIC8vc2ltcGxpZmllZFxuICAgIFBBVEhfUk9PVExFU1MkID0gc3ViZXhwKFNFR01FTlRfTlokICsgUEFUSF9BQkVNUFRZJCksXG4gICAgICAgIC8vc2ltcGxpZmllZFxuICAgIFBBVEhfRU1QVFkkID0gXCIoPyFcIiArIFBDSEFSJCArIFwiKVwiLFxuICAgICAgICBQQVRIJCA9IHN1YmV4cChQQVRIX0FCRU1QVFkkICsgXCJ8XCIgKyBQQVRIX0FCU09MVVRFJCArIFwifFwiICsgUEFUSF9OT1NDSEVNRSQgKyBcInxcIiArIFBBVEhfUk9PVExFU1MkICsgXCJ8XCIgKyBQQVRIX0VNUFRZJCksXG4gICAgICAgIFFVRVJZJCA9IHN1YmV4cChzdWJleHAoUENIQVIkICsgXCJ8XCIgKyBtZXJnZShcIltcXFxcL1xcXFw/XVwiLCBJUFJJVkFURSQkKSkgKyBcIipcIiksXG4gICAgICAgIEZSQUdNRU5UJCA9IHN1YmV4cChzdWJleHAoUENIQVIkICsgXCJ8W1xcXFwvXFxcXD9dXCIpICsgXCIqXCIpLFxuICAgICAgICBISUVSX1BBUlQkID0gc3ViZXhwKHN1YmV4cChcIlxcXFwvXFxcXC9cIiArIEFVVEhPUklUWSQgKyBQQVRIX0FCRU1QVFkkKSArIFwifFwiICsgUEFUSF9BQlNPTFVURSQgKyBcInxcIiArIFBBVEhfUk9PVExFU1MkICsgXCJ8XCIgKyBQQVRIX0VNUFRZJCksXG4gICAgICAgIFVSSSQgPSBzdWJleHAoU0NIRU1FJCArIFwiXFxcXDpcIiArIEhJRVJfUEFSVCQgKyBzdWJleHAoXCJcXFxcP1wiICsgUVVFUlkkKSArIFwiP1wiICsgc3ViZXhwKFwiXFxcXCNcIiArIEZSQUdNRU5UJCkgKyBcIj9cIiksXG4gICAgICAgIFJFTEFUSVZFX1BBUlQkID0gc3ViZXhwKHN1YmV4cChcIlxcXFwvXFxcXC9cIiArIEFVVEhPUklUWSQgKyBQQVRIX0FCRU1QVFkkKSArIFwifFwiICsgUEFUSF9BQlNPTFVURSQgKyBcInxcIiArIFBBVEhfTk9TQ0hFTUUkICsgXCJ8XCIgKyBQQVRIX0VNUFRZJCksXG4gICAgICAgIFJFTEFUSVZFJCA9IHN1YmV4cChSRUxBVElWRV9QQVJUJCArIHN1YmV4cChcIlxcXFw/XCIgKyBRVUVSWSQpICsgXCI/XCIgKyBzdWJleHAoXCJcXFxcI1wiICsgRlJBR01FTlQkKSArIFwiP1wiKSxcbiAgICAgICAgVVJJX1JFRkVSRU5DRSQgPSBzdWJleHAoVVJJJCArIFwifFwiICsgUkVMQVRJVkUkKSxcbiAgICAgICAgQUJTT0xVVEVfVVJJJCA9IHN1YmV4cChTQ0hFTUUkICsgXCJcXFxcOlwiICsgSElFUl9QQVJUJCArIHN1YmV4cChcIlxcXFw/XCIgKyBRVUVSWSQpICsgXCI/XCIpLFxuICAgICAgICBHRU5FUklDX1JFRiQgPSBcIl4oXCIgKyBTQ0hFTUUkICsgXCIpXFxcXDpcIiArIHN1YmV4cChzdWJleHAoXCJcXFxcL1xcXFwvKFwiICsgc3ViZXhwKFwiKFwiICsgVVNFUklORk8kICsgXCIpQFwiKSArIFwiPyhcIiArIEhPU1QkICsgXCIpXCIgKyBzdWJleHAoXCJcXFxcOihcIiArIFBPUlQkICsgXCIpXCIpICsgXCI/KVwiKSArIFwiPyhcIiArIFBBVEhfQUJFTVBUWSQgKyBcInxcIiArIFBBVEhfQUJTT0xVVEUkICsgXCJ8XCIgKyBQQVRIX1JPT1RMRVNTJCArIFwifFwiICsgUEFUSF9FTVBUWSQgKyBcIilcIikgKyBzdWJleHAoXCJcXFxcPyhcIiArIFFVRVJZJCArIFwiKVwiKSArIFwiP1wiICsgc3ViZXhwKFwiXFxcXCMoXCIgKyBGUkFHTUVOVCQgKyBcIilcIikgKyBcIj8kXCIsXG4gICAgICAgIFJFTEFUSVZFX1JFRiQgPSBcIl4oKXswfVwiICsgc3ViZXhwKHN1YmV4cChcIlxcXFwvXFxcXC8oXCIgKyBzdWJleHAoXCIoXCIgKyBVU0VSSU5GTyQgKyBcIilAXCIpICsgXCI/KFwiICsgSE9TVCQgKyBcIilcIiArIHN1YmV4cChcIlxcXFw6KFwiICsgUE9SVCQgKyBcIilcIikgKyBcIj8pXCIpICsgXCI/KFwiICsgUEFUSF9BQkVNUFRZJCArIFwifFwiICsgUEFUSF9BQlNPTFVURSQgKyBcInxcIiArIFBBVEhfTk9TQ0hFTUUkICsgXCJ8XCIgKyBQQVRIX0VNUFRZJCArIFwiKVwiKSArIHN1YmV4cChcIlxcXFw/KFwiICsgUVVFUlkkICsgXCIpXCIpICsgXCI/XCIgKyBzdWJleHAoXCJcXFxcIyhcIiArIEZSQUdNRU5UJCArIFwiKVwiKSArIFwiPyRcIixcbiAgICAgICAgQUJTT0xVVEVfUkVGJCA9IFwiXihcIiArIFNDSEVNRSQgKyBcIilcXFxcOlwiICsgc3ViZXhwKHN1YmV4cChcIlxcXFwvXFxcXC8oXCIgKyBzdWJleHAoXCIoXCIgKyBVU0VSSU5GTyQgKyBcIilAXCIpICsgXCI/KFwiICsgSE9TVCQgKyBcIilcIiArIHN1YmV4cChcIlxcXFw6KFwiICsgUE9SVCQgKyBcIilcIikgKyBcIj8pXCIpICsgXCI/KFwiICsgUEFUSF9BQkVNUFRZJCArIFwifFwiICsgUEFUSF9BQlNPTFVURSQgKyBcInxcIiArIFBBVEhfUk9PVExFU1MkICsgXCJ8XCIgKyBQQVRIX0VNUFRZJCArIFwiKVwiKSArIHN1YmV4cChcIlxcXFw/KFwiICsgUVVFUlkkICsgXCIpXCIpICsgXCI/JFwiLFxuICAgICAgICBTQU1FRE9DX1JFRiQgPSBcIl5cIiArIHN1YmV4cChcIlxcXFwjKFwiICsgRlJBR01FTlQkICsgXCIpXCIpICsgXCI/JFwiLFxuICAgICAgICBBVVRIT1JJVFlfUkVGJCA9IFwiXlwiICsgc3ViZXhwKFwiKFwiICsgVVNFUklORk8kICsgXCIpQFwiKSArIFwiPyhcIiArIEhPU1QkICsgXCIpXCIgKyBzdWJleHAoXCJcXFxcOihcIiArIFBPUlQkICsgXCIpXCIpICsgXCI/JFwiO1xuICAgIHJldHVybiB7XG4gICAgICAgIE5PVF9TQ0hFTUU6IG5ldyBSZWdFeHAobWVyZ2UoXCJbXl1cIiwgQUxQSEEkJCwgRElHSVQkJCwgXCJbXFxcXCtcXFxcLVxcXFwuXVwiKSwgXCJnXCIpLFxuICAgICAgICBOT1RfVVNFUklORk86IG5ldyBSZWdFeHAobWVyZ2UoXCJbXlxcXFwlXFxcXDpdXCIsIFVOUkVTRVJWRUQkJCwgU1VCX0RFTElNUyQkKSwgXCJnXCIpLFxuICAgICAgICBOT1RfSE9TVDogbmV3IFJlZ0V4cChtZXJnZShcIlteXFxcXCVcXFxcW1xcXFxdXFxcXDpdXCIsIFVOUkVTRVJWRUQkJCwgU1VCX0RFTElNUyQkKSwgXCJnXCIpLFxuICAgICAgICBOT1RfUEFUSDogbmV3IFJlZ0V4cChtZXJnZShcIlteXFxcXCVcXFxcL1xcXFw6XFxcXEBdXCIsIFVOUkVTRVJWRUQkJCwgU1VCX0RFTElNUyQkKSwgXCJnXCIpLFxuICAgICAgICBOT1RfUEFUSF9OT1NDSEVNRTogbmV3IFJlZ0V4cChtZXJnZShcIlteXFxcXCVcXFxcL1xcXFxAXVwiLCBVTlJFU0VSVkVEJCQsIFNVQl9ERUxJTVMkJCksIFwiZ1wiKSxcbiAgICAgICAgTk9UX1FVRVJZOiBuZXcgUmVnRXhwKG1lcmdlKFwiW15cXFxcJV1cIiwgVU5SRVNFUlZFRCQkLCBTVUJfREVMSU1TJCQsIFwiW1xcXFw6XFxcXEBcXFxcL1xcXFw/XVwiLCBJUFJJVkFURSQkKSwgXCJnXCIpLFxuICAgICAgICBOT1RfRlJBR01FTlQ6IG5ldyBSZWdFeHAobWVyZ2UoXCJbXlxcXFwlXVwiLCBVTlJFU0VSVkVEJCQsIFNVQl9ERUxJTVMkJCwgXCJbXFxcXDpcXFxcQFxcXFwvXFxcXD9dXCIpLCBcImdcIiksXG4gICAgICAgIEVTQ0FQRTogbmV3IFJlZ0V4cChtZXJnZShcIlteXVwiLCBVTlJFU0VSVkVEJCQsIFNVQl9ERUxJTVMkJCksIFwiZ1wiKSxcbiAgICAgICAgVU5SRVNFUlZFRDogbmV3IFJlZ0V4cChVTlJFU0VSVkVEJCQsIFwiZ1wiKSxcbiAgICAgICAgT1RIRVJfQ0hBUlM6IG5ldyBSZWdFeHAobWVyZ2UoXCJbXlxcXFwlXVwiLCBVTlJFU0VSVkVEJCQsIFJFU0VSVkVEJCQpLCBcImdcIiksXG4gICAgICAgIFBDVF9FTkNPREVEOiBuZXcgUmVnRXhwKFBDVF9FTkNPREVEJCwgXCJnXCIpLFxuICAgICAgICBJUFY0QUREUkVTUzogbmV3IFJlZ0V4cChcIl4oXCIgKyBJUFY0QUREUkVTUyQgKyBcIikkXCIpLFxuICAgICAgICBJUFY2QUREUkVTUzogbmV3IFJlZ0V4cChcIl5cXFxcWz8oXCIgKyBJUFY2QUREUkVTUyQgKyBcIilcIiArIHN1YmV4cChzdWJleHAoXCJcXFxcJTI1fFxcXFwlKD8hXCIgKyBIRVhESUckJCArIFwiezJ9KVwiKSArIFwiKFwiICsgWk9ORUlEJCArIFwiKVwiKSArIFwiP1xcXFxdPyRcIikgLy9SRkMgNjg3NCwgd2l0aCByZWxheGVkIHBhcnNpbmcgcnVsZXNcbiAgICB9O1xufVxudmFyIFVSSV9QUk9UT0NPTCA9IGJ1aWxkRXhwcyhmYWxzZSk7XG5cbnZhciBJUklfUFJPVE9DT0wgPSBidWlsZEV4cHModHJ1ZSk7XG5cbnZhciBzbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkge1xuICAgIHZhciBfYXJyID0gW107XG4gICAgdmFyIF9uID0gdHJ1ZTtcbiAgICB2YXIgX2QgPSBmYWxzZTtcbiAgICB2YXIgX2UgPSB1bmRlZmluZWQ7XG5cbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkge1xuICAgICAgICBfYXJyLnB1c2goX3MudmFsdWUpO1xuXG4gICAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIF9kID0gdHJ1ZTtcbiAgICAgIF9lID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdKSBfaVtcInJldHVyblwiXSgpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gX2FycjtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkge1xuICAgICAgcmV0dXJuIGFycjtcbiAgICB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkge1xuICAgICAgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7XG4gICAgfVxuICB9O1xufSgpO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG52YXIgdG9Db25zdW1hYmxlQXJyYXkgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuXG4gICAgcmV0dXJuIGFycjI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oYXJyKTtcbiAgfVxufTtcblxuLyoqIEhpZ2hlc3QgcG9zaXRpdmUgc2lnbmVkIDMyLWJpdCBmbG9hdCB2YWx1ZSAqL1xuXG52YXIgbWF4SW50ID0gMjE0NzQ4MzY0NzsgLy8gYWthLiAweDdGRkZGRkZGIG9yIDJeMzEtMVxuXG4vKiogQm9vdHN0cmluZyBwYXJhbWV0ZXJzICovXG52YXIgYmFzZSA9IDM2O1xudmFyIHRNaW4gPSAxO1xudmFyIHRNYXggPSAyNjtcbnZhciBza2V3ID0gMzg7XG52YXIgZGFtcCA9IDcwMDtcbnZhciBpbml0aWFsQmlhcyA9IDcyO1xudmFyIGluaXRpYWxOID0gMTI4OyAvLyAweDgwXG52YXIgZGVsaW1pdGVyID0gJy0nOyAvLyAnXFx4MkQnXG5cbi8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovXG52YXIgcmVnZXhQdW55Y29kZSA9IC9eeG4tLS87XG52YXIgcmVnZXhOb25BU0NJSSA9IC9bXlxcMC1cXHg3RV0vOyAvLyBub24tQVNDSUkgY2hhcnNcbnZhciByZWdleFNlcGFyYXRvcnMgPSAvW1xceDJFXFx1MzAwMlxcdUZGMEVcXHVGRjYxXS9nOyAvLyBSRkMgMzQ5MCBzZXBhcmF0b3JzXG5cbi8qKiBFcnJvciBtZXNzYWdlcyAqL1xudmFyIGVycm9ycyA9IHtcblx0J292ZXJmbG93JzogJ092ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzJyxcblx0J25vdC1iYXNpYyc6ICdJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpJyxcblx0J2ludmFsaWQtaW5wdXQnOiAnSW52YWxpZCBpbnB1dCdcbn07XG5cbi8qKiBDb252ZW5pZW5jZSBzaG9ydGN1dHMgKi9cbnZhciBiYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW47XG52YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xudmFyIHN0cmluZ0Zyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGU7XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4vKipcbiAqIEEgZ2VuZXJpYyBlcnJvciB1dGlsaXR5IGZ1bmN0aW9uLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLlxuICogQHJldHVybnMge0Vycm9yfSBUaHJvd3MgYSBgUmFuZ2VFcnJvcmAgd2l0aCB0aGUgYXBwbGljYWJsZSBlcnJvciBtZXNzYWdlLlxuICovXG5mdW5jdGlvbiBlcnJvciQxKHR5cGUpIHtcblx0dGhyb3cgbmV3IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTtcbn1cblxuLyoqXG4gKiBBIGdlbmVyaWMgYEFycmF5I21hcGAgdXRpbGl0eSBmdW5jdGlvbi5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5IGFycmF5XG4gKiBpdGVtLlxuICogQHJldHVybnMge0FycmF5fSBBIG5ldyBhcnJheSBvZiB2YWx1ZXMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBtYXAoYXJyYXksIGZuKSB7XG5cdHZhciByZXN1bHQgPSBbXTtcblx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0d2hpbGUgKGxlbmd0aC0tKSB7XG5cdFx0cmVzdWx0W2xlbmd0aF0gPSBmbihhcnJheVtsZW5ndGhdKTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEEgc2ltcGxlIGBBcnJheSNtYXBgLWxpa2Ugd3JhcHBlciB0byB3b3JrIHdpdGggZG9tYWluIG5hbWUgc3RyaW5ncyBvciBlbWFpbFxuICogYWRkcmVzc2VzLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBmb3IgZXZlcnlcbiAqIGNoYXJhY3Rlci5cbiAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgc3RyaW5nIG9mIGNoYXJhY3RlcnMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrXG4gKiBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gbWFwRG9tYWluKHN0cmluZywgZm4pIHtcblx0dmFyIHBhcnRzID0gc3RyaW5nLnNwbGl0KCdAJyk7XG5cdHZhciByZXN1bHQgPSAnJztcblx0aWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcblx0XHQvLyBJbiBlbWFpbCBhZGRyZXNzZXMsIG9ubHkgdGhlIGRvbWFpbiBuYW1lIHNob3VsZCBiZSBwdW55Y29kZWQuIExlYXZlXG5cdFx0Ly8gdGhlIGxvY2FsIHBhcnQgKGkuZS4gZXZlcnl0aGluZyB1cCB0byBgQGApIGludGFjdC5cblx0XHRyZXN1bHQgPSBwYXJ0c1swXSArICdAJztcblx0XHRzdHJpbmcgPSBwYXJ0c1sxXTtcblx0fVxuXHQvLyBBdm9pZCBgc3BsaXQocmVnZXgpYCBmb3IgSUU4IGNvbXBhdGliaWxpdHkuIFNlZSAjMTcuXG5cdHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKHJlZ2V4U2VwYXJhdG9ycywgJ1xceDJFJyk7XG5cdHZhciBsYWJlbHMgPSBzdHJpbmcuc3BsaXQoJy4nKTtcblx0dmFyIGVuY29kZWQgPSBtYXAobGFiZWxzLCBmbikuam9pbignLicpO1xuXHRyZXR1cm4gcmVzdWx0ICsgZW5jb2RlZDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIG51bWVyaWMgY29kZSBwb2ludHMgb2YgZWFjaCBVbmljb2RlXG4gKiBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZy4gV2hpbGUgSmF2YVNjcmlwdCB1c2VzIFVDUy0yIGludGVybmFsbHksXG4gKiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udmVydCBhIHBhaXIgb2Ygc3Vycm9nYXRlIGhhbHZlcyAoZWFjaCBvZiB3aGljaFxuICogVUNTLTIgZXhwb3NlcyBhcyBzZXBhcmF0ZSBjaGFyYWN0ZXJzKSBpbnRvIGEgc2luZ2xlIGNvZGUgcG9pbnQsXG4gKiBtYXRjaGluZyBVVEYtMTYuXG4gKiBAc2VlIGBwdW55Y29kZS51Y3MyLmVuY29kZWBcbiAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcbiAqIEBuYW1lIGRlY29kZVxuICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZyBUaGUgVW5pY29kZSBpbnB1dCBzdHJpbmcgKFVDUy0yKS5cbiAqIEByZXR1cm5zIHtBcnJheX0gVGhlIG5ldyBhcnJheSBvZiBjb2RlIHBvaW50cy5cbiAqL1xuZnVuY3Rpb24gdWNzMmRlY29kZShzdHJpbmcpIHtcblx0dmFyIG91dHB1dCA9IFtdO1xuXHR2YXIgY291bnRlciA9IDA7XG5cdHZhciBsZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuXHR3aGlsZSAoY291bnRlciA8IGxlbmd0aCkge1xuXHRcdHZhciB2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0aWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0Ly8gSXQncyBhIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3Rlci5cblx0XHRcdHZhciBleHRyYSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHtcblx0XHRcdFx0Ly8gTG93IHN1cnJvZ2F0ZS5cblx0XHRcdFx0b3V0cHV0LnB1c2goKCh2YWx1ZSAmIDB4M0ZGKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNGRikgKyAweDEwMDAwKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIEl0J3MgYW4gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlXG5cdFx0XHRcdC8vIG5leHQgY29kZSB1bml0IGlzIHRoZSBoaWdoIHN1cnJvZ2F0ZSBvZiBhIHN1cnJvZ2F0ZSBwYWlyLlxuXHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdGNvdW50ZXItLTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0b3V0cHV0LnB1c2godmFsdWUpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gb3V0cHV0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBzdHJpbmcgYmFzZWQgb24gYW4gYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cbiAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYFxuICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcbiAqIEBuYW1lIGVuY29kZVxuICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS5cbiAqL1xudmFyIHVjczJlbmNvZGUgPSBmdW5jdGlvbiB1Y3MyZW5jb2RlKGFycmF5KSB7XG5cdHJldHVybiBTdHJpbmcuZnJvbUNvZGVQb2ludC5hcHBseShTdHJpbmcsIHRvQ29uc3VtYWJsZUFycmF5KGFycmF5KSk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgYmFzaWMgY29kZSBwb2ludCBpbnRvIGEgZGlnaXQvaW50ZWdlci5cbiAqIEBzZWUgYGRpZ2l0VG9CYXNpYygpYFxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7TnVtYmVyfSBjb2RlUG9pbnQgVGhlIGJhc2ljIG51bWVyaWMgY29kZSBwb2ludCB2YWx1ZS5cbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludCAoZm9yIHVzZSBpblxuICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpbiB0aGUgcmFuZ2UgYDBgIHRvIGBiYXNlIC0gMWAsIG9yIGBiYXNlYCBpZlxuICogdGhlIGNvZGUgcG9pbnQgZG9lcyBub3QgcmVwcmVzZW50IGEgdmFsdWUuXG4gKi9cbnZhciBiYXNpY1RvRGlnaXQgPSBmdW5jdGlvbiBiYXNpY1RvRGlnaXQoY29kZVBvaW50KSB7XG5cdGlmIChjb2RlUG9pbnQgLSAweDMwIDwgMHgwQSkge1xuXHRcdHJldHVybiBjb2RlUG9pbnQgLSAweDE2O1xuXHR9XG5cdGlmIChjb2RlUG9pbnQgLSAweDQxIDwgMHgxQSkge1xuXHRcdHJldHVybiBjb2RlUG9pbnQgLSAweDQxO1xuXHR9XG5cdGlmIChjb2RlUG9pbnQgLSAweDYxIDwgMHgxQSkge1xuXHRcdHJldHVybiBjb2RlUG9pbnQgLSAweDYxO1xuXHR9XG5cdHJldHVybiBiYXNlO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuXG4gKiBAc2VlIGBiYXNpY1RvRGlnaXQoKWBcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LlxuICogQHJldHVybnMge051bWJlcn0gVGhlIGJhc2ljIGNvZGUgcG9pbnQgd2hvc2UgdmFsdWUgKHdoZW4gdXNlZCBmb3JcbiAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlXG4gKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXNcbiAqIHVzZWQ7IGVsc2UsIHRoZSBsb3dlcmNhc2UgZm9ybSBpcyB1c2VkLiBUaGUgYmVoYXZpb3IgaXMgdW5kZWZpbmVkXG4gKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLlxuICovXG52YXIgZGlnaXRUb0Jhc2ljID0gZnVuY3Rpb24gZGlnaXRUb0Jhc2ljKGRpZ2l0LCBmbGFnKSB7XG5cdC8vICAwLi4yNSBtYXAgdG8gQVNDSUkgYS4ueiBvciBBLi5aXG5cdC8vIDI2Li4zNSBtYXAgdG8gQVNDSUkgMC4uOVxuXHRyZXR1cm4gZGlnaXQgKyAyMiArIDc1ICogKGRpZ2l0IDwgMjYpIC0gKChmbGFnICE9IDApIDw8IDUpO1xufTtcblxuLyoqXG4gKiBCaWFzIGFkYXB0YXRpb24gZnVuY3Rpb24gYXMgcGVyIHNlY3Rpb24gMy40IG9mIFJGQyAzNDkyLlxuICogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM0OTIjc2VjdGlvbi0zLjRcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBhZGFwdCA9IGZ1bmN0aW9uIGFkYXB0KGRlbHRhLCBudW1Qb2ludHMsIGZpcnN0VGltZSkge1xuXHR2YXIgayA9IDA7XG5cdGRlbHRhID0gZmlyc3RUaW1lID8gZmxvb3IoZGVsdGEgLyBkYW1wKSA6IGRlbHRhID4+IDE7XG5cdGRlbHRhICs9IGZsb29yKGRlbHRhIC8gbnVtUG9pbnRzKTtcblx0Zm9yICg7IC8qIG5vIGluaXRpYWxpemF0aW9uICovZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxOyBrICs9IGJhc2UpIHtcblx0XHRkZWx0YSA9IGZsb29yKGRlbHRhIC8gYmFzZU1pbnVzVE1pbik7XG5cdH1cblx0cmV0dXJuIGZsb29yKGsgKyAoYmFzZU1pbnVzVE1pbiArIDEpICogZGVsdGEgLyAoZGVsdGEgKyBza2V3KSk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scyB0byBhIHN0cmluZyBvZiBVbmljb2RlXG4gKiBzeW1ib2xzLlxuICogQG1lbWJlck9mIHB1bnljb2RlXG4gKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG4gKi9cbnZhciBkZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUoaW5wdXQpIHtcblx0Ly8gRG9uJ3QgdXNlIFVDUy0yLlxuXHR2YXIgb3V0cHV0ID0gW107XG5cdHZhciBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcblx0dmFyIGkgPSAwO1xuXHR2YXIgbiA9IGluaXRpYWxOO1xuXHR2YXIgYmlhcyA9IGluaXRpYWxCaWFzO1xuXG5cdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHM6IGxldCBgYmFzaWNgIGJlIHRoZSBudW1iZXIgb2YgaW5wdXQgY29kZVxuXHQvLyBwb2ludHMgYmVmb3JlIHRoZSBsYXN0IGRlbGltaXRlciwgb3IgYDBgIGlmIHRoZXJlIGlzIG5vbmUsIHRoZW4gY29weVxuXHQvLyB0aGUgZmlyc3QgYmFzaWMgY29kZSBwb2ludHMgdG8gdGhlIG91dHB1dC5cblxuXHR2YXIgYmFzaWMgPSBpbnB1dC5sYXN0SW5kZXhPZihkZWxpbWl0ZXIpO1xuXHRpZiAoYmFzaWMgPCAwKSB7XG5cdFx0YmFzaWMgPSAwO1xuXHR9XG5cblx0Zm9yICh2YXIgaiA9IDA7IGogPCBiYXNpYzsgKytqKSB7XG5cdFx0Ly8gaWYgaXQncyBub3QgYSBiYXNpYyBjb2RlIHBvaW50XG5cdFx0aWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkge1xuXHRcdFx0ZXJyb3IkMSgnbm90LWJhc2ljJyk7XG5cdFx0fVxuXHRcdG91dHB1dC5wdXNoKGlucHV0LmNoYXJDb2RlQXQoaikpO1xuXHR9XG5cblx0Ly8gTWFpbiBkZWNvZGluZyBsb29wOiBzdGFydCBqdXN0IGFmdGVyIHRoZSBsYXN0IGRlbGltaXRlciBpZiBhbnkgYmFzaWMgY29kZVxuXHQvLyBwb2ludHMgd2VyZSBjb3BpZWQ7IHN0YXJ0IGF0IHRoZSBiZWdpbm5pbmcgb3RoZXJ3aXNlLlxuXG5cdGZvciAodmFyIGluZGV4ID0gYmFzaWMgPiAwID8gYmFzaWMgKyAxIDogMDsgaW5kZXggPCBpbnB1dExlbmd0aDspIC8qIG5vIGZpbmFsIGV4cHJlc3Npb24gKi97XG5cblx0XHQvLyBgaW5kZXhgIGlzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBjaGFyYWN0ZXIgdG8gYmUgY29uc3VtZWQuXG5cdFx0Ly8gRGVjb2RlIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXIgaW50byBgZGVsdGFgLFxuXHRcdC8vIHdoaWNoIGdldHMgYWRkZWQgdG8gYGlgLiBUaGUgb3ZlcmZsb3cgY2hlY2tpbmcgaXMgZWFzaWVyXG5cdFx0Ly8gaWYgd2UgaW5jcmVhc2UgYGlgIGFzIHdlIGdvLCB0aGVuIHN1YnRyYWN0IG9mZiBpdHMgc3RhcnRpbmdcblx0XHQvLyB2YWx1ZSBhdCB0aGUgZW5kIHRvIG9idGFpbiBgZGVsdGFgLlxuXHRcdHZhciBvbGRpID0gaTtcblx0XHRmb3IgKHZhciB3ID0gMSwgayA9IGJhc2U7OyAvKiBubyBjb25kaXRpb24gKi9rICs9IGJhc2UpIHtcblxuXHRcdFx0aWYgKGluZGV4ID49IGlucHV0TGVuZ3RoKSB7XG5cdFx0XHRcdGVycm9yJDEoJ2ludmFsaWQtaW5wdXQnKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGRpZ2l0ID0gYmFzaWNUb0RpZ2l0KGlucHV0LmNoYXJDb2RlQXQoaW5kZXgrKykpO1xuXG5cdFx0XHRpZiAoZGlnaXQgPj0gYmFzZSB8fCBkaWdpdCA+IGZsb29yKChtYXhJbnQgLSBpKSAvIHcpKSB7XG5cdFx0XHRcdGVycm9yJDEoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdGkgKz0gZGlnaXQgKiB3O1xuXHRcdFx0dmFyIHQgPSBrIDw9IGJpYXMgPyB0TWluIDogayA+PSBiaWFzICsgdE1heCA/IHRNYXggOiBrIC0gYmlhcztcblxuXHRcdFx0aWYgKGRpZ2l0IDwgdCkge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblxuXHRcdFx0dmFyIGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdGlmICh3ID4gZmxvb3IobWF4SW50IC8gYmFzZU1pbnVzVCkpIHtcblx0XHRcdFx0ZXJyb3IkMSgnb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0dyAqPSBiYXNlTWludXNUO1xuXHRcdH1cblxuXHRcdHZhciBvdXQgPSBvdXRwdXQubGVuZ3RoICsgMTtcblx0XHRiaWFzID0gYWRhcHQoaSAtIG9sZGksIG91dCwgb2xkaSA9PSAwKTtcblxuXHRcdC8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsXG5cdFx0Ly8gaW5jcmVtZW50aW5nIGBuYCBlYWNoIHRpbWUsIHNvIHdlJ2xsIGZpeCB0aGF0IG5vdzpcblx0XHRpZiAoZmxvb3IoaSAvIG91dCkgPiBtYXhJbnQgLSBuKSB7XG5cdFx0XHRlcnJvciQxKCdvdmVyZmxvdycpO1xuXHRcdH1cblxuXHRcdG4gKz0gZmxvb3IoaSAvIG91dCk7XG5cdFx0aSAlPSBvdXQ7XG5cblx0XHQvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0LlxuXHRcdG91dHB1dC5zcGxpY2UoaSsrLCAwLCBuKTtcblx0fVxuXG5cdHJldHVybiBTdHJpbmcuZnJvbUNvZGVQb2ludC5hcHBseShTdHJpbmcsIG91dHB1dCk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scyAoZS5nLiBhIGRvbWFpbiBuYW1lIGxhYmVsKSB0byBhXG4gKiBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuICogQG1lbWJlck9mIHB1bnljb2RlXG4gKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG4gKi9cbnZhciBlbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUoaW5wdXQpIHtcblx0dmFyIG91dHB1dCA9IFtdO1xuXG5cdC8vIENvbnZlcnQgdGhlIGlucHV0IGluIFVDUy0yIHRvIGFuIGFycmF5IG9mIFVuaWNvZGUgY29kZSBwb2ludHMuXG5cdGlucHV0ID0gdWNzMmRlY29kZShpbnB1dCk7XG5cblx0Ly8gQ2FjaGUgdGhlIGxlbmd0aC5cblx0dmFyIGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuXG5cdC8vIEluaXRpYWxpemUgdGhlIHN0YXRlLlxuXHR2YXIgbiA9IGluaXRpYWxOO1xuXHR2YXIgZGVsdGEgPSAwO1xuXHR2YXIgYmlhcyA9IGluaXRpYWxCaWFzO1xuXG5cdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHMuXG5cdHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcblx0dmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG5cdHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuXHR0cnkge1xuXHRcdGZvciAodmFyIF9pdGVyYXRvciA9IGlucHV0W1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuXHRcdFx0dmFyIF9jdXJyZW50VmFsdWUyID0gX3N0ZXAudmFsdWU7XG5cblx0XHRcdGlmIChfY3VycmVudFZhbHVlMiA8IDB4ODApIHtcblx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKF9jdXJyZW50VmFsdWUyKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG5cdFx0X2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG5cdH0gZmluYWxseSB7XG5cdFx0dHJ5IHtcblx0XHRcdGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG5cdFx0XHRcdF9pdGVyYXRvci5yZXR1cm4oKTtcblx0XHRcdH1cblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0aWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG5cdFx0XHRcdHRocm93IF9pdGVyYXRvckVycm9yO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHZhciBiYXNpY0xlbmd0aCA9IG91dHB1dC5sZW5ndGg7XG5cdHZhciBoYW5kbGVkQ1BDb3VudCA9IGJhc2ljTGVuZ3RoO1xuXG5cdC8vIGBoYW5kbGVkQ1BDb3VudGAgaXMgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyB0aGF0IGhhdmUgYmVlbiBoYW5kbGVkO1xuXHQvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuXG5cblx0Ly8gRmluaXNoIHRoZSBiYXNpYyBzdHJpbmcgd2l0aCBhIGRlbGltaXRlciB1bmxlc3MgaXQncyBlbXB0eS5cblx0aWYgKGJhc2ljTGVuZ3RoKSB7XG5cdFx0b3V0cHV0LnB1c2goZGVsaW1pdGVyKTtcblx0fVxuXG5cdC8vIE1haW4gZW5jb2RpbmcgbG9vcDpcblx0d2hpbGUgKGhhbmRsZWRDUENvdW50IDwgaW5wdXRMZW5ndGgpIHtcblxuXHRcdC8vIEFsbCBub24tYmFzaWMgY29kZSBwb2ludHMgPCBuIGhhdmUgYmVlbiBoYW5kbGVkIGFscmVhZHkuIEZpbmQgdGhlIG5leHRcblx0XHQvLyBsYXJnZXIgb25lOlxuXHRcdHZhciBtID0gbWF4SW50O1xuXHRcdHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG5cdFx0dmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuXHRcdHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cblx0XHR0cnkge1xuXHRcdFx0Zm9yICh2YXIgX2l0ZXJhdG9yMiA9IGlucHV0W1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG5cdFx0XHRcdHZhciBjdXJyZW50VmFsdWUgPSBfc3RlcDIudmFsdWU7XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA+PSBuICYmIGN1cnJlbnRWYWx1ZSA8IG0pIHtcblx0XHRcdFx0XHRtID0gY3VycmVudFZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEluY3JlYXNlIGBkZWx0YWAgZW5vdWdoIHRvIGFkdmFuY2UgdGhlIGRlY29kZXIncyA8bixpPiBzdGF0ZSB0byA8bSwwPixcblx0XHRcdC8vIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93LlxuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcblx0XHRcdF9pdGVyYXRvckVycm9yMiA9IGVycjtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuXHRcdFx0XHRcdF9pdGVyYXRvcjIucmV0dXJuKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcblx0XHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHR2YXIgaGFuZGxlZENQQ291bnRQbHVzT25lID0gaGFuZGxlZENQQ291bnQgKyAxO1xuXHRcdGlmIChtIC0gbiA+IGZsb29yKChtYXhJbnQgLSBkZWx0YSkgLyBoYW5kbGVkQ1BDb3VudFBsdXNPbmUpKSB7XG5cdFx0XHRlcnJvciQxKCdvdmVyZmxvdycpO1xuXHRcdH1cblxuXHRcdGRlbHRhICs9IChtIC0gbikgKiBoYW5kbGVkQ1BDb3VudFBsdXNPbmU7XG5cdFx0biA9IG07XG5cblx0XHR2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xuXHRcdHZhciBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcblx0XHR2YXIgX2l0ZXJhdG9yRXJyb3IzID0gdW5kZWZpbmVkO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGZvciAodmFyIF9pdGVyYXRvcjMgPSBpbnB1dFtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMzsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IChfc3RlcDMgPSBfaXRlcmF0b3IzLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZSkge1xuXHRcdFx0XHR2YXIgX2N1cnJlbnRWYWx1ZSA9IF9zdGVwMy52YWx1ZTtcblxuXHRcdFx0XHRpZiAoX2N1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkge1xuXHRcdFx0XHRcdGVycm9yJDEoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKF9jdXJyZW50VmFsdWUgPT0gbikge1xuXHRcdFx0XHRcdC8vIFJlcHJlc2VudCBkZWx0YSBhcyBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyLlxuXHRcdFx0XHRcdHZhciBxID0gZGVsdGE7XG5cdFx0XHRcdFx0Zm9yICh2YXIgayA9IGJhc2U7OyAvKiBubyBjb25kaXRpb24gKi9rICs9IGJhc2UpIHtcblx0XHRcdFx0XHRcdHZhciB0ID0gayA8PSBiaWFzID8gdE1pbiA6IGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXM7XG5cdFx0XHRcdFx0XHRpZiAocSA8IHQpIHtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR2YXIgcU1pbnVzVCA9IHEgLSB0O1xuXHRcdFx0XHRcdFx0dmFyIGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSkpO1xuXHRcdFx0XHRcdFx0cSA9IGZsb29yKHFNaW51c1QgLyBiYXNlTWludXNUKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHEsIDApKSk7XG5cdFx0XHRcdFx0YmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTtcblx0XHRcdFx0XHRkZWx0YSA9IDA7XG5cdFx0XHRcdFx0KytoYW5kbGVkQ1BDb3VudDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0X2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTtcblx0XHRcdF9pdGVyYXRvckVycm9yMyA9IGVycjtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0aWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzLnJldHVybikge1xuXHRcdFx0XHRcdF9pdGVyYXRvcjMucmV0dXJuKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdGlmIChfZGlkSXRlcmF0b3JFcnJvcjMpIHtcblx0XHRcdFx0XHR0aHJvdyBfaXRlcmF0b3JFcnJvcjM7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQrK2RlbHRhO1xuXHRcdCsrbjtcblx0fVxuXHRyZXR1cm4gb3V0cHV0LmpvaW4oJycpO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzXG4gKiB0byBVbmljb2RlLiBPbmx5IHRoZSBQdW55Y29kZWQgcGFydHMgb2YgdGhlIGlucHV0IHdpbGwgYmUgY29udmVydGVkLCBpLmUuXG4gKiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCBvbiBhIHN0cmluZyB0aGF0IGhhcyBhbHJlYWR5IGJlZW5cbiAqIGNvbnZlcnRlZCB0byBVbmljb2RlLlxuICogQG1lbWJlck9mIHB1bnljb2RlXG4gKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlZCBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvXG4gKiBjb252ZXJ0IHRvIFVuaWNvZGUuXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgVW5pY29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gUHVueWNvZGVcbiAqIHN0cmluZy5cbiAqL1xudmFyIHRvVW5pY29kZSA9IGZ1bmN0aW9uIHRvVW5pY29kZShpbnB1dCkge1xuXHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbiAoc3RyaW5nKSB7XG5cdFx0cmV0dXJuIHJlZ2V4UHVueWNvZGUudGVzdChzdHJpbmcpID8gZGVjb2RlKHN0cmluZy5zbGljZSg0KS50b0xvd2VyQ2FzZSgpKSA6IHN0cmluZztcblx0fSk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgVW5pY29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzcyB0b1xuICogUHVueWNvZGUuIE9ubHkgdGhlIG5vbi1BU0NJSSBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgd2lsbCBiZSBjb252ZXJ0ZWQsXG4gKiBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCdzIGFscmVhZHkgaW5cbiAqIEFTQ0lJLlxuICogQG1lbWJlck9mIHB1bnljb2RlXG4gKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8gY29udmVydCwgYXMgYVxuICogVW5pY29kZSBzdHJpbmcuXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgUHVueWNvZGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIGRvbWFpbiBuYW1lIG9yXG4gKiBlbWFpbCBhZGRyZXNzLlxuICovXG52YXIgdG9BU0NJSSA9IGZ1bmN0aW9uIHRvQVNDSUkoaW5wdXQpIHtcblx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24gKHN0cmluZykge1xuXHRcdHJldHVybiByZWdleE5vbkFTQ0lJLnRlc3Qoc3RyaW5nKSA/ICd4bi0tJyArIGVuY29kZShzdHJpbmcpIDogc3RyaW5nO1xuXHR9KTtcbn07XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4vKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovXG52YXIgcHVueWNvZGUgPSB7XG5cdC8qKlxuICAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBQdW55Y29kZS5qcyB2ZXJzaW9uIG51bWJlci5cbiAgKiBAbWVtYmVyT2YgcHVueWNvZGVcbiAgKiBAdHlwZSBTdHJpbmdcbiAgKi9cblx0J3ZlcnNpb24nOiAnMi4xLjAnLFxuXHQvKipcbiAgKiBBbiBvYmplY3Qgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGZyb20gSmF2YVNjcmlwdCdzIGludGVybmFsIGNoYXJhY3RlclxuICAqIHJlcHJlc2VudGF0aW9uIChVQ1MtMikgdG8gVW5pY29kZSBjb2RlIHBvaW50cywgYW5kIGJhY2suXG4gICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG4gICogQG1lbWJlck9mIHB1bnljb2RlXG4gICogQHR5cGUgT2JqZWN0XG4gICovXG5cdCd1Y3MyJzoge1xuXHRcdCdkZWNvZGUnOiB1Y3MyZGVjb2RlLFxuXHRcdCdlbmNvZGUnOiB1Y3MyZW5jb2RlXG5cdH0sXG5cdCdkZWNvZGUnOiBkZWNvZGUsXG5cdCdlbmNvZGUnOiBlbmNvZGUsXG5cdCd0b0FTQ0lJJzogdG9BU0NJSSxcblx0J3RvVW5pY29kZSc6IHRvVW5pY29kZVxufTtcblxuLyoqXG4gKiBVUkkuanNcbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IEFuIFJGQyAzOTg2IGNvbXBsaWFudCwgc2NoZW1lIGV4dGVuZGFibGUgVVJJIHBhcnNpbmcvdmFsaWRhdGluZy9yZXNvbHZpbmcgbGlicmFyeSBmb3IgSmF2YVNjcmlwdC5cbiAqIEBhdXRob3IgPGEgaHJlZj1cIm1haWx0bzpnYXJ5LmNvdXJ0QGdtYWlsLmNvbVwiPkdhcnkgQ291cnQ8L2E+XG4gKiBAc2VlIGh0dHA6Ly9naXRodWIuY29tL2dhcnljb3VydC91cmktanNcbiAqL1xuLyoqXG4gKiBDb3B5cmlnaHQgMjAxMSBHYXJ5IENvdXJ0LiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sIGFyZVxuICogcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG4gKlxuICogICAgMS4gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2ZcbiAqICAgICAgIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqXG4gKiAgICAyLiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdFxuICogICAgICAgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHNcbiAqICAgICAgIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqXG4gKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIEdBUlkgQ09VUlQgYGBBUyBJUycnIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEXG4gKiBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgR0FSWSBDT1VSVCBPUlxuICogQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1JcbiAqIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1JcbiAqIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT05cbiAqIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkdcbiAqIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRlxuICogQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKlxuICogVGhlIHZpZXdzIGFuZCBjb25jbHVzaW9ucyBjb250YWluZWQgaW4gdGhlIHNvZnR3YXJlIGFuZCBkb2N1bWVudGF0aW9uIGFyZSB0aG9zZSBvZiB0aGVcbiAqIGF1dGhvcnMgYW5kIHNob3VsZCBub3QgYmUgaW50ZXJwcmV0ZWQgYXMgcmVwcmVzZW50aW5nIG9mZmljaWFsIHBvbGljaWVzLCBlaXRoZXIgZXhwcmVzc2VkXG4gKiBvciBpbXBsaWVkLCBvZiBHYXJ5IENvdXJ0LlxuICovXG52YXIgU0NIRU1FUyA9IHt9O1xuZnVuY3Rpb24gcGN0RW5jQ2hhcihjaHIpIHtcbiAgICB2YXIgYyA9IGNoci5jaGFyQ29kZUF0KDApO1xuICAgIHZhciBlID0gdm9pZCAwO1xuICAgIGlmIChjIDwgMTYpIGUgPSBcIiUwXCIgKyBjLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO2Vsc2UgaWYgKGMgPCAxMjgpIGUgPSBcIiVcIiArIGMudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7ZWxzZSBpZiAoYyA8IDIwNDgpIGUgPSBcIiVcIiArIChjID4+IDYgfCAxOTIpLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpICsgXCIlXCIgKyAoYyAmIDYzIHwgMTI4KS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtlbHNlIGUgPSBcIiVcIiArIChjID4+IDEyIHwgMjI0KS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKSArIFwiJVwiICsgKGMgPj4gNiAmIDYzIHwgMTI4KS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKSArIFwiJVwiICsgKGMgJiA2MyB8IDEyOCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG4gICAgcmV0dXJuIGU7XG59XG5mdW5jdGlvbiBwY3REZWNDaGFycyhzdHIpIHtcbiAgICB2YXIgbmV3U3RyID0gXCJcIjtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIGlsID0gc3RyLmxlbmd0aDtcbiAgICB3aGlsZSAoaSA8IGlsKSB7XG4gICAgICAgIHZhciBjID0gcGFyc2VJbnQoc3RyLnN1YnN0cihpICsgMSwgMiksIDE2KTtcbiAgICAgICAgaWYgKGMgPCAxMjgpIHtcbiAgICAgICAgICAgIG5ld1N0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMpO1xuICAgICAgICAgICAgaSArPSAzO1xuICAgICAgICB9IGVsc2UgaWYgKGMgPj0gMTk0ICYmIGMgPCAyMjQpIHtcbiAgICAgICAgICAgIGlmIChpbCAtIGkgPj0gNikge1xuICAgICAgICAgICAgICAgIHZhciBjMiA9IHBhcnNlSW50KHN0ci5zdWJzdHIoaSArIDQsIDIpLCAxNik7XG4gICAgICAgICAgICAgICAgbmV3U3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKGMgJiAzMSkgPDwgNiB8IGMyICYgNjMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdTdHIgKz0gc3RyLnN1YnN0cihpLCA2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkgKz0gNjtcbiAgICAgICAgfSBlbHNlIGlmIChjID49IDIyNCkge1xuICAgICAgICAgICAgaWYgKGlsIC0gaSA+PSA5KSB7XG4gICAgICAgICAgICAgICAgdmFyIF9jID0gcGFyc2VJbnQoc3RyLnN1YnN0cihpICsgNCwgMiksIDE2KTtcbiAgICAgICAgICAgICAgICB2YXIgYzMgPSBwYXJzZUludChzdHIuc3Vic3RyKGkgKyA3LCAyKSwgMTYpO1xuICAgICAgICAgICAgICAgIG5ld1N0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChjICYgMTUpIDw8IDEyIHwgKF9jICYgNjMpIDw8IDYgfCBjMyAmIDYzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3U3RyICs9IHN0ci5zdWJzdHIoaSwgOSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpICs9IDk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdTdHIgKz0gc3RyLnN1YnN0cihpLCAzKTtcbiAgICAgICAgICAgIGkgKz0gMztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3U3RyO1xufVxuZnVuY3Rpb24gX25vcm1hbGl6ZUNvbXBvbmVudEVuY29kaW5nKGNvbXBvbmVudHMsIHByb3RvY29sKSB7XG4gICAgZnVuY3Rpb24gZGVjb2RlVW5yZXNlcnZlZChzdHIpIHtcbiAgICAgICAgdmFyIGRlY1N0ciA9IHBjdERlY0NoYXJzKHN0cik7XG4gICAgICAgIHJldHVybiAhZGVjU3RyLm1hdGNoKHByb3RvY29sLlVOUkVTRVJWRUQpID8gc3RyIDogZGVjU3RyO1xuICAgIH1cbiAgICBpZiAoY29tcG9uZW50cy5zY2hlbWUpIGNvbXBvbmVudHMuc2NoZW1lID0gU3RyaW5nKGNvbXBvbmVudHMuc2NoZW1lKS5yZXBsYWNlKHByb3RvY29sLlBDVF9FTkNPREVELCBkZWNvZGVVbnJlc2VydmVkKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UocHJvdG9jb2wuTk9UX1NDSEVNRSwgXCJcIik7XG4gICAgaWYgKGNvbXBvbmVudHMudXNlcmluZm8gIT09IHVuZGVmaW5lZCkgY29tcG9uZW50cy51c2VyaW5mbyA9IFN0cmluZyhjb21wb25lbnRzLnVzZXJpbmZvKS5yZXBsYWNlKHByb3RvY29sLlBDVF9FTkNPREVELCBkZWNvZGVVbnJlc2VydmVkKS5yZXBsYWNlKHByb3RvY29sLk5PVF9VU0VSSU5GTywgcGN0RW5jQ2hhcikucmVwbGFjZShwcm90b2NvbC5QQ1RfRU5DT0RFRCwgdG9VcHBlckNhc2UpO1xuICAgIGlmIChjb21wb25lbnRzLmhvc3QgIT09IHVuZGVmaW5lZCkgY29tcG9uZW50cy5ob3N0ID0gU3RyaW5nKGNvbXBvbmVudHMuaG9zdCkucmVwbGFjZShwcm90b2NvbC5QQ1RfRU5DT0RFRCwgZGVjb2RlVW5yZXNlcnZlZCkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKHByb3RvY29sLk5PVF9IT1NULCBwY3RFbmNDaGFyKS5yZXBsYWNlKHByb3RvY29sLlBDVF9FTkNPREVELCB0b1VwcGVyQ2FzZSk7XG4gICAgaWYgKGNvbXBvbmVudHMucGF0aCAhPT0gdW5kZWZpbmVkKSBjb21wb25lbnRzLnBhdGggPSBTdHJpbmcoY29tcG9uZW50cy5wYXRoKS5yZXBsYWNlKHByb3RvY29sLlBDVF9FTkNPREVELCBkZWNvZGVVbnJlc2VydmVkKS5yZXBsYWNlKGNvbXBvbmVudHMuc2NoZW1lID8gcHJvdG9jb2wuTk9UX1BBVEggOiBwcm90b2NvbC5OT1RfUEFUSF9OT1NDSEVNRSwgcGN0RW5jQ2hhcikucmVwbGFjZShwcm90b2NvbC5QQ1RfRU5DT0RFRCwgdG9VcHBlckNhc2UpO1xuICAgIGlmIChjb21wb25lbnRzLnF1ZXJ5ICE9PSB1bmRlZmluZWQpIGNvbXBvbmVudHMucXVlcnkgPSBTdHJpbmcoY29tcG9uZW50cy5xdWVyeSkucmVwbGFjZShwcm90b2NvbC5QQ1RfRU5DT0RFRCwgZGVjb2RlVW5yZXNlcnZlZCkucmVwbGFjZShwcm90b2NvbC5OT1RfUVVFUlksIHBjdEVuY0NoYXIpLnJlcGxhY2UocHJvdG9jb2wuUENUX0VOQ09ERUQsIHRvVXBwZXJDYXNlKTtcbiAgICBpZiAoY29tcG9uZW50cy5mcmFnbWVudCAhPT0gdW5kZWZpbmVkKSBjb21wb25lbnRzLmZyYWdtZW50ID0gU3RyaW5nKGNvbXBvbmVudHMuZnJhZ21lbnQpLnJlcGxhY2UocHJvdG9jb2wuUENUX0VOQ09ERUQsIGRlY29kZVVucmVzZXJ2ZWQpLnJlcGxhY2UocHJvdG9jb2wuTk9UX0ZSQUdNRU5ULCBwY3RFbmNDaGFyKS5yZXBsYWNlKHByb3RvY29sLlBDVF9FTkNPREVELCB0b1VwcGVyQ2FzZSk7XG4gICAgcmV0dXJuIGNvbXBvbmVudHM7XG59XG5cbmZ1bmN0aW9uIF9zdHJpcExlYWRpbmdaZXJvcyhzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL14wKiguKikvLCBcIiQxXCIpIHx8IFwiMFwiO1xufVxuZnVuY3Rpb24gX25vcm1hbGl6ZUlQdjQoaG9zdCwgcHJvdG9jb2wpIHtcbiAgICB2YXIgbWF0Y2hlcyA9IGhvc3QubWF0Y2gocHJvdG9jb2wuSVBWNEFERFJFU1MpIHx8IFtdO1xuXG4gICAgdmFyIF9tYXRjaGVzID0gc2xpY2VkVG9BcnJheShtYXRjaGVzLCAyKSxcbiAgICAgICAgYWRkcmVzcyA9IF9tYXRjaGVzWzFdO1xuXG4gICAgaWYgKGFkZHJlc3MpIHtcbiAgICAgICAgcmV0dXJuIGFkZHJlc3Muc3BsaXQoXCIuXCIpLm1hcChfc3RyaXBMZWFkaW5nWmVyb3MpLmpvaW4oXCIuXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBob3N0O1xuICAgIH1cbn1cbmZ1bmN0aW9uIF9ub3JtYWxpemVJUHY2KGhvc3QsIHByb3RvY29sKSB7XG4gICAgdmFyIG1hdGNoZXMgPSBob3N0Lm1hdGNoKHByb3RvY29sLklQVjZBRERSRVNTKSB8fCBbXTtcblxuICAgIHZhciBfbWF0Y2hlczIgPSBzbGljZWRUb0FycmF5KG1hdGNoZXMsIDMpLFxuICAgICAgICBhZGRyZXNzID0gX21hdGNoZXMyWzFdLFxuICAgICAgICB6b25lID0gX21hdGNoZXMyWzJdO1xuXG4gICAgaWYgKGFkZHJlc3MpIHtcbiAgICAgICAgdmFyIF9hZGRyZXNzJHRvTG93ZXJDYXNlJCA9IGFkZHJlc3MudG9Mb3dlckNhc2UoKS5zcGxpdCgnOjonKS5yZXZlcnNlKCksXG4gICAgICAgICAgICBfYWRkcmVzcyR0b0xvd2VyQ2FzZSQyID0gc2xpY2VkVG9BcnJheShfYWRkcmVzcyR0b0xvd2VyQ2FzZSQsIDIpLFxuICAgICAgICAgICAgbGFzdCA9IF9hZGRyZXNzJHRvTG93ZXJDYXNlJDJbMF0sXG4gICAgICAgICAgICBmaXJzdCA9IF9hZGRyZXNzJHRvTG93ZXJDYXNlJDJbMV07XG5cbiAgICAgICAgdmFyIGZpcnN0RmllbGRzID0gZmlyc3QgPyBmaXJzdC5zcGxpdChcIjpcIikubWFwKF9zdHJpcExlYWRpbmdaZXJvcykgOiBbXTtcbiAgICAgICAgdmFyIGxhc3RGaWVsZHMgPSBsYXN0LnNwbGl0KFwiOlwiKS5tYXAoX3N0cmlwTGVhZGluZ1plcm9zKTtcbiAgICAgICAgdmFyIGlzTGFzdEZpZWxkSVB2NEFkZHJlc3MgPSBwcm90b2NvbC5JUFY0QUREUkVTUy50ZXN0KGxhc3RGaWVsZHNbbGFzdEZpZWxkcy5sZW5ndGggLSAxXSk7XG4gICAgICAgIHZhciBmaWVsZENvdW50ID0gaXNMYXN0RmllbGRJUHY0QWRkcmVzcyA/IDcgOiA4O1xuICAgICAgICB2YXIgbGFzdEZpZWxkc1N0YXJ0ID0gbGFzdEZpZWxkcy5sZW5ndGggLSBmaWVsZENvdW50O1xuICAgICAgICB2YXIgZmllbGRzID0gQXJyYXkoZmllbGRDb3VudCk7XG4gICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgZmllbGRDb3VudDsgKyt4KSB7XG4gICAgICAgICAgICBmaWVsZHNbeF0gPSBmaXJzdEZpZWxkc1t4XSB8fCBsYXN0RmllbGRzW2xhc3RGaWVsZHNTdGFydCArIHhdIHx8ICcnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0xhc3RGaWVsZElQdjRBZGRyZXNzKSB7XG4gICAgICAgICAgICBmaWVsZHNbZmllbGRDb3VudCAtIDFdID0gX25vcm1hbGl6ZUlQdjQoZmllbGRzW2ZpZWxkQ291bnQgLSAxXSwgcHJvdG9jb2wpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhbGxaZXJvRmllbGRzID0gZmllbGRzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBmaWVsZCwgaW5kZXgpIHtcbiAgICAgICAgICAgIGlmICghZmllbGQgfHwgZmllbGQgPT09IFwiMFwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxhc3RMb25nZXN0ID0gYWNjW2FjYy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdExvbmdlc3QgJiYgbGFzdExvbmdlc3QuaW5kZXggKyBsYXN0TG9uZ2VzdC5sZW5ndGggPT09IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RMb25nZXN0Lmxlbmd0aCsrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFjYy5wdXNoKHsgaW5kZXg6IGluZGV4LCBsZW5ndGg6IDEgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwgW10pO1xuICAgICAgICB2YXIgbG9uZ2VzdFplcm9GaWVsZHMgPSBhbGxaZXJvRmllbGRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBiLmxlbmd0aCAtIGEubGVuZ3RoO1xuICAgICAgICB9KVswXTtcbiAgICAgICAgdmFyIG5ld0hvc3QgPSB2b2lkIDA7XG4gICAgICAgIGlmIChsb25nZXN0WmVyb0ZpZWxkcyAmJiBsb25nZXN0WmVyb0ZpZWxkcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICB2YXIgbmV3Rmlyc3QgPSBmaWVsZHMuc2xpY2UoMCwgbG9uZ2VzdFplcm9GaWVsZHMuaW5kZXgpO1xuICAgICAgICAgICAgdmFyIG5ld0xhc3QgPSBmaWVsZHMuc2xpY2UobG9uZ2VzdFplcm9GaWVsZHMuaW5kZXggKyBsb25nZXN0WmVyb0ZpZWxkcy5sZW5ndGgpO1xuICAgICAgICAgICAgbmV3SG9zdCA9IG5ld0ZpcnN0LmpvaW4oXCI6XCIpICsgXCI6OlwiICsgbmV3TGFzdC5qb2luKFwiOlwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld0hvc3QgPSBmaWVsZHMuam9pbihcIjpcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHpvbmUpIHtcbiAgICAgICAgICAgIG5ld0hvc3QgKz0gXCIlXCIgKyB6b25lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdIb3N0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBob3N0O1xuICAgIH1cbn1cbnZhciBVUklfUEFSU0UgPSAvXig/OihbXjpcXC8/I10rKTopPyg/OlxcL1xcLygoPzooW15cXC8/I0BdKilAKT8oXFxbW15cXC8/I1xcXV0rXFxdfFteXFwvPyM6XSopKD86XFw6KFxcZCopKT8pKT8oW14/I10qKSg/OlxcPyhbXiNdKikpPyg/OiMoKD86LnxcXG58XFxyKSopKT8vaTtcbnZhciBOT19NQVRDSF9JU19VTkRFRklORUQgPSBcIlwiLm1hdGNoKC8oKXswfS8pWzFdID09PSB1bmRlZmluZWQ7XG5mdW5jdGlvbiBwYXJzZSh1cmlTdHJpbmcpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICB2YXIgY29tcG9uZW50cyA9IHt9O1xuICAgIHZhciBwcm90b2NvbCA9IG9wdGlvbnMuaXJpICE9PSBmYWxzZSA/IElSSV9QUk9UT0NPTCA6IFVSSV9QUk9UT0NPTDtcbiAgICBpZiAob3B0aW9ucy5yZWZlcmVuY2UgPT09IFwic3VmZml4XCIpIHVyaVN0cmluZyA9IChvcHRpb25zLnNjaGVtZSA/IG9wdGlvbnMuc2NoZW1lICsgXCI6XCIgOiBcIlwiKSArIFwiLy9cIiArIHVyaVN0cmluZztcbiAgICB2YXIgbWF0Y2hlcyA9IHVyaVN0cmluZy5tYXRjaChVUklfUEFSU0UpO1xuICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgIGlmIChOT19NQVRDSF9JU19VTkRFRklORUQpIHtcbiAgICAgICAgICAgIC8vc3RvcmUgZWFjaCBjb21wb25lbnRcbiAgICAgICAgICAgIGNvbXBvbmVudHMuc2NoZW1lID0gbWF0Y2hlc1sxXTtcbiAgICAgICAgICAgIGNvbXBvbmVudHMudXNlcmluZm8gPSBtYXRjaGVzWzNdO1xuICAgICAgICAgICAgY29tcG9uZW50cy5ob3N0ID0gbWF0Y2hlc1s0XTtcbiAgICAgICAgICAgIGNvbXBvbmVudHMucG9ydCA9IHBhcnNlSW50KG1hdGNoZXNbNV0sIDEwKTtcbiAgICAgICAgICAgIGNvbXBvbmVudHMucGF0aCA9IG1hdGNoZXNbNl0gfHwgXCJcIjtcbiAgICAgICAgICAgIGNvbXBvbmVudHMucXVlcnkgPSBtYXRjaGVzWzddO1xuICAgICAgICAgICAgY29tcG9uZW50cy5mcmFnbWVudCA9IG1hdGNoZXNbOF07XG4gICAgICAgICAgICAvL2ZpeCBwb3J0IG51bWJlclxuICAgICAgICAgICAgaWYgKGlzTmFOKGNvbXBvbmVudHMucG9ydCkpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRzLnBvcnQgPSBtYXRjaGVzWzVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9JRSBGSVggZm9yIGltcHJvcGVyIFJlZ0V4cCBtYXRjaGluZ1xuICAgICAgICAgICAgLy9zdG9yZSBlYWNoIGNvbXBvbmVudFxuICAgICAgICAgICAgY29tcG9uZW50cy5zY2hlbWUgPSBtYXRjaGVzWzFdIHx8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbXBvbmVudHMudXNlcmluZm8gPSB1cmlTdHJpbmcuaW5kZXhPZihcIkBcIikgIT09IC0xID8gbWF0Y2hlc1szXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbXBvbmVudHMuaG9zdCA9IHVyaVN0cmluZy5pbmRleE9mKFwiLy9cIikgIT09IC0xID8gbWF0Y2hlc1s0XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbXBvbmVudHMucG9ydCA9IHBhcnNlSW50KG1hdGNoZXNbNV0sIDEwKTtcbiAgICAgICAgICAgIGNvbXBvbmVudHMucGF0aCA9IG1hdGNoZXNbNl0gfHwgXCJcIjtcbiAgICAgICAgICAgIGNvbXBvbmVudHMucXVlcnkgPSB1cmlTdHJpbmcuaW5kZXhPZihcIj9cIikgIT09IC0xID8gbWF0Y2hlc1s3XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbXBvbmVudHMuZnJhZ21lbnQgPSB1cmlTdHJpbmcuaW5kZXhPZihcIiNcIikgIT09IC0xID8gbWF0Y2hlc1s4XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIC8vZml4IHBvcnQgbnVtYmVyXG4gICAgICAgICAgICBpZiAoaXNOYU4oY29tcG9uZW50cy5wb3J0KSkge1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudHMucG9ydCA9IHVyaVN0cmluZy5tYXRjaCgvXFwvXFwvKD86LnxcXG4pKlxcOig/OlxcL3xcXD98XFwjfCQpLykgPyBtYXRjaGVzWzRdIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb21wb25lbnRzLmhvc3QpIHtcbiAgICAgICAgICAgIC8vbm9ybWFsaXplIElQIGhvc3RzXG4gICAgICAgICAgICBjb21wb25lbnRzLmhvc3QgPSBfbm9ybWFsaXplSVB2Nihfbm9ybWFsaXplSVB2NChjb21wb25lbnRzLmhvc3QsIHByb3RvY29sKSwgcHJvdG9jb2wpO1xuICAgICAgICB9XG4gICAgICAgIC8vZGV0ZXJtaW5lIHJlZmVyZW5jZSB0eXBlXG4gICAgICAgIGlmIChjb21wb25lbnRzLnNjaGVtZSA9PT0gdW5kZWZpbmVkICYmIGNvbXBvbmVudHMudXNlcmluZm8gPT09IHVuZGVmaW5lZCAmJiBjb21wb25lbnRzLmhvc3QgPT09IHVuZGVmaW5lZCAmJiBjb21wb25lbnRzLnBvcnQgPT09IHVuZGVmaW5lZCAmJiAhY29tcG9uZW50cy5wYXRoICYmIGNvbXBvbmVudHMucXVlcnkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29tcG9uZW50cy5yZWZlcmVuY2UgPSBcInNhbWUtZG9jdW1lbnRcIjtcbiAgICAgICAgfSBlbHNlIGlmIChjb21wb25lbnRzLnNjaGVtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb21wb25lbnRzLnJlZmVyZW5jZSA9IFwicmVsYXRpdmVcIjtcbiAgICAgICAgfSBlbHNlIGlmIChjb21wb25lbnRzLmZyYWdtZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudHMucmVmZXJlbmNlID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29tcG9uZW50cy5yZWZlcmVuY2UgPSBcInVyaVwiO1xuICAgICAgICB9XG4gICAgICAgIC8vY2hlY2sgZm9yIHJlZmVyZW5jZSBlcnJvcnNcbiAgICAgICAgaWYgKG9wdGlvbnMucmVmZXJlbmNlICYmIG9wdGlvbnMucmVmZXJlbmNlICE9PSBcInN1ZmZpeFwiICYmIG9wdGlvbnMucmVmZXJlbmNlICE9PSBjb21wb25lbnRzLnJlZmVyZW5jZSkge1xuICAgICAgICAgICAgY29tcG9uZW50cy5lcnJvciA9IGNvbXBvbmVudHMuZXJyb3IgfHwgXCJVUkkgaXMgbm90IGEgXCIgKyBvcHRpb25zLnJlZmVyZW5jZSArIFwiIHJlZmVyZW5jZS5cIjtcbiAgICAgICAgfVxuICAgICAgICAvL2ZpbmQgc2NoZW1lIGhhbmRsZXJcbiAgICAgICAgdmFyIHNjaGVtZUhhbmRsZXIgPSBTQ0hFTUVTWyhvcHRpb25zLnNjaGVtZSB8fCBjb21wb25lbnRzLnNjaGVtZSB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgLy9jaGVjayBpZiBzY2hlbWUgY2FuJ3QgaGFuZGxlIElSSXNcbiAgICAgICAgaWYgKCFvcHRpb25zLnVuaWNvZGVTdXBwb3J0ICYmICghc2NoZW1lSGFuZGxlciB8fCAhc2NoZW1lSGFuZGxlci51bmljb2RlU3VwcG9ydCkpIHtcbiAgICAgICAgICAgIC8vaWYgaG9zdCBjb21wb25lbnQgaXMgYSBkb21haW4gbmFtZVxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudHMuaG9zdCAmJiAob3B0aW9ucy5kb21haW5Ib3N0IHx8IHNjaGVtZUhhbmRsZXIgJiYgc2NoZW1lSGFuZGxlci5kb21haW5Ib3N0KSkge1xuICAgICAgICAgICAgICAgIC8vY29udmVydCBVbmljb2RlIElETiAtPiBBU0NJSSBJRE5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzLmhvc3QgPSBwdW55Y29kZS50b0FTQ0lJKGNvbXBvbmVudHMuaG9zdC5yZXBsYWNlKHByb3RvY29sLlBDVF9FTkNPREVELCBwY3REZWNDaGFycykudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzLmVycm9yID0gY29tcG9uZW50cy5lcnJvciB8fCBcIkhvc3QncyBkb21haW4gbmFtZSBjYW4gbm90IGJlIGNvbnZlcnRlZCB0byBBU0NJSSB2aWEgcHVueWNvZGU6IFwiICsgZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2NvbnZlcnQgSVJJIC0+IFVSSVxuICAgICAgICAgICAgX25vcm1hbGl6ZUNvbXBvbmVudEVuY29kaW5nKGNvbXBvbmVudHMsIFVSSV9QUk9UT0NPTCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL25vcm1hbGl6ZSBlbmNvZGluZ3NcbiAgICAgICAgICAgIF9ub3JtYWxpemVDb21wb25lbnRFbmNvZGluZyhjb21wb25lbnRzLCBwcm90b2NvbCk7XG4gICAgICAgIH1cbiAgICAgICAgLy9wZXJmb3JtIHNjaGVtZSBzcGVjaWZpYyBwYXJzaW5nXG4gICAgICAgIGlmIChzY2hlbWVIYW5kbGVyICYmIHNjaGVtZUhhbmRsZXIucGFyc2UpIHtcbiAgICAgICAgICAgIHNjaGVtZUhhbmRsZXIucGFyc2UoY29tcG9uZW50cywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBjb21wb25lbnRzLmVycm9yID0gY29tcG9uZW50cy5lcnJvciB8fCBcIlVSSSBjYW4gbm90IGJlIHBhcnNlZC5cIjtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXBvbmVudHM7XG59XG5cbmZ1bmN0aW9uIF9yZWNvbXBvc2VBdXRob3JpdHkoY29tcG9uZW50cywgb3B0aW9ucykge1xuICAgIHZhciBwcm90b2NvbCA9IG9wdGlvbnMuaXJpICE9PSBmYWxzZSA/IElSSV9QUk9UT0NPTCA6IFVSSV9QUk9UT0NPTDtcbiAgICB2YXIgdXJpVG9rZW5zID0gW107XG4gICAgaWYgKGNvbXBvbmVudHMudXNlcmluZm8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB1cmlUb2tlbnMucHVzaChjb21wb25lbnRzLnVzZXJpbmZvKTtcbiAgICAgICAgdXJpVG9rZW5zLnB1c2goXCJAXCIpO1xuICAgIH1cbiAgICBpZiAoY29tcG9uZW50cy5ob3N0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy9ub3JtYWxpemUgSVAgaG9zdHMsIGFkZCBicmFja2V0cyBhbmQgZXNjYXBlIHpvbmUgc2VwYXJhdG9yIGZvciBJUHY2XG4gICAgICAgIHVyaVRva2Vucy5wdXNoKF9ub3JtYWxpemVJUHY2KF9ub3JtYWxpemVJUHY0KFN0cmluZyhjb21wb25lbnRzLmhvc3QpLCBwcm90b2NvbCksIHByb3RvY29sKS5yZXBsYWNlKHByb3RvY29sLklQVjZBRERSRVNTLCBmdW5jdGlvbiAoXywgJDEsICQyKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJbXCIgKyAkMSArICgkMiA/IFwiJTI1XCIgKyAkMiA6IFwiXCIpICsgXCJdXCI7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb21wb25lbnRzLnBvcnQgPT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIGNvbXBvbmVudHMucG9ydCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICB1cmlUb2tlbnMucHVzaChcIjpcIik7XG4gICAgICAgIHVyaVRva2Vucy5wdXNoKFN0cmluZyhjb21wb25lbnRzLnBvcnQpKTtcbiAgICB9XG4gICAgcmV0dXJuIHVyaVRva2Vucy5sZW5ndGggPyB1cmlUb2tlbnMuam9pbihcIlwiKSA6IHVuZGVmaW5lZDtcbn1cblxudmFyIFJEUzEgPSAvXlxcLlxcLj9cXC8vO1xudmFyIFJEUzIgPSAvXlxcL1xcLihcXC98JCkvO1xudmFyIFJEUzMgPSAvXlxcL1xcLlxcLihcXC98JCkvO1xudmFyIFJEUzUgPSAvXlxcLz8oPzoufFxcbikqPyg/PVxcL3wkKS87XG5mdW5jdGlvbiByZW1vdmVEb3RTZWdtZW50cyhpbnB1dCkge1xuICAgIHZhciBvdXRwdXQgPSBbXTtcbiAgICB3aGlsZSAoaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgIGlmIChpbnB1dC5tYXRjaChSRFMxKSkge1xuICAgICAgICAgICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKFJEUzEsIFwiXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0Lm1hdGNoKFJEUzIpKSB7XG4gICAgICAgICAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoUkRTMiwgXCIvXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0Lm1hdGNoKFJEUzMpKSB7XG4gICAgICAgICAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoUkRTMywgXCIvXCIpO1xuICAgICAgICAgICAgb3V0cHV0LnBvcCgpO1xuICAgICAgICB9IGVsc2UgaWYgKGlucHV0ID09PSBcIi5cIiB8fCBpbnB1dCA9PT0gXCIuLlwiKSB7XG4gICAgICAgICAgICBpbnB1dCA9IFwiXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgaW0gPSBpbnB1dC5tYXRjaChSRFM1KTtcbiAgICAgICAgICAgIGlmIChpbSkge1xuICAgICAgICAgICAgICAgIHZhciBzID0gaW1bMF07XG4gICAgICAgICAgICAgICAgaW5wdXQgPSBpbnB1dC5zbGljZShzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgb3V0cHV0LnB1c2gocyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgZG90IHNlZ21lbnQgY29uZGl0aW9uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQuam9pbihcIlwiKTtcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplKGNvbXBvbmVudHMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICB2YXIgcHJvdG9jb2wgPSBvcHRpb25zLmlyaSA/IElSSV9QUk9UT0NPTCA6IFVSSV9QUk9UT0NPTDtcbiAgICB2YXIgdXJpVG9rZW5zID0gW107XG4gICAgLy9maW5kIHNjaGVtZSBoYW5kbGVyXG4gICAgdmFyIHNjaGVtZUhhbmRsZXIgPSBTQ0hFTUVTWyhvcHRpb25zLnNjaGVtZSB8fCBjb21wb25lbnRzLnNjaGVtZSB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpXTtcbiAgICAvL3BlcmZvcm0gc2NoZW1lIHNwZWNpZmljIHNlcmlhbGl6YXRpb25cbiAgICBpZiAoc2NoZW1lSGFuZGxlciAmJiBzY2hlbWVIYW5kbGVyLnNlcmlhbGl6ZSkgc2NoZW1lSGFuZGxlci5zZXJpYWxpemUoY29tcG9uZW50cywgb3B0aW9ucyk7XG4gICAgaWYgKGNvbXBvbmVudHMuaG9zdCkge1xuICAgICAgICAvL2lmIGhvc3QgY29tcG9uZW50IGlzIGFuIElQdjYgYWRkcmVzc1xuICAgICAgICBpZiAocHJvdG9jb2wuSVBWNkFERFJFU1MudGVzdChjb21wb25lbnRzLmhvc3QpKSB7fVxuICAgICAgICAvL1RPRE86IG5vcm1hbGl6ZSBJUHY2IGFkZHJlc3MgYXMgcGVyIFJGQyA1OTUyXG5cbiAgICAgICAgLy9pZiBob3N0IGNvbXBvbmVudCBpcyBhIGRvbWFpbiBuYW1lXG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnMuZG9tYWluSG9zdCB8fCBzY2hlbWVIYW5kbGVyICYmIHNjaGVtZUhhbmRsZXIuZG9tYWluSG9zdCkge1xuICAgICAgICAgICAgICAgIC8vY29udmVydCBJRE4gdmlhIHB1bnljb2RlXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50cy5ob3N0ID0gIW9wdGlvbnMuaXJpID8gcHVueWNvZGUudG9BU0NJSShjb21wb25lbnRzLmhvc3QucmVwbGFjZShwcm90b2NvbC5QQ1RfRU5DT0RFRCwgcGN0RGVjQ2hhcnMpLnRvTG93ZXJDYXNlKCkpIDogcHVueWNvZGUudG9Vbmljb2RlKGNvbXBvbmVudHMuaG9zdCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzLmVycm9yID0gY29tcG9uZW50cy5lcnJvciB8fCBcIkhvc3QncyBkb21haW4gbmFtZSBjYW4gbm90IGJlIGNvbnZlcnRlZCB0byBcIiArICghb3B0aW9ucy5pcmkgPyBcIkFTQ0lJXCIgOiBcIlVuaWNvZGVcIikgKyBcIiB2aWEgcHVueWNvZGU6IFwiICsgZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgfVxuICAgIC8vbm9ybWFsaXplIGVuY29kaW5nXG4gICAgX25vcm1hbGl6ZUNvbXBvbmVudEVuY29kaW5nKGNvbXBvbmVudHMsIHByb3RvY29sKTtcbiAgICBpZiAob3B0aW9ucy5yZWZlcmVuY2UgIT09IFwic3VmZml4XCIgJiYgY29tcG9uZW50cy5zY2hlbWUpIHtcbiAgICAgICAgdXJpVG9rZW5zLnB1c2goY29tcG9uZW50cy5zY2hlbWUpO1xuICAgICAgICB1cmlUb2tlbnMucHVzaChcIjpcIik7XG4gICAgfVxuICAgIHZhciBhdXRob3JpdHkgPSBfcmVjb21wb3NlQXV0aG9yaXR5KGNvbXBvbmVudHMsIG9wdGlvbnMpO1xuICAgIGlmIChhdXRob3JpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAob3B0aW9ucy5yZWZlcmVuY2UgIT09IFwic3VmZml4XCIpIHtcbiAgICAgICAgICAgIHVyaVRva2Vucy5wdXNoKFwiLy9cIik7XG4gICAgICAgIH1cbiAgICAgICAgdXJpVG9rZW5zLnB1c2goYXV0aG9yaXR5KTtcbiAgICAgICAgaWYgKGNvbXBvbmVudHMucGF0aCAmJiBjb21wb25lbnRzLnBhdGguY2hhckF0KDApICE9PSBcIi9cIikge1xuICAgICAgICAgICAgdXJpVG9rZW5zLnB1c2goXCIvXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjb21wb25lbnRzLnBhdGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgcyA9IGNvbXBvbmVudHMucGF0aDtcbiAgICAgICAgaWYgKCFvcHRpb25zLmFic29sdXRlUGF0aCAmJiAoIXNjaGVtZUhhbmRsZXIgfHwgIXNjaGVtZUhhbmRsZXIuYWJzb2x1dGVQYXRoKSkge1xuICAgICAgICAgICAgcyA9IHJlbW92ZURvdFNlZ21lbnRzKHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdXRob3JpdHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcyA9IHMucmVwbGFjZSgvXlxcL1xcLy8sIFwiLyUyRlwiKTsgLy9kb24ndCBhbGxvdyB0aGUgcGF0aCB0byBzdGFydCB3aXRoIFwiLy9cIlxuICAgICAgICB9XG4gICAgICAgIHVyaVRva2Vucy5wdXNoKHMpO1xuICAgIH1cbiAgICBpZiAoY29tcG9uZW50cy5xdWVyeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVyaVRva2Vucy5wdXNoKFwiP1wiKTtcbiAgICAgICAgdXJpVG9rZW5zLnB1c2goY29tcG9uZW50cy5xdWVyeSk7XG4gICAgfVxuICAgIGlmIChjb21wb25lbnRzLmZyYWdtZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXJpVG9rZW5zLnB1c2goXCIjXCIpO1xuICAgICAgICB1cmlUb2tlbnMucHVzaChjb21wb25lbnRzLmZyYWdtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIHVyaVRva2Vucy5qb2luKFwiXCIpOyAvL21lcmdlIHRva2VucyBpbnRvIGEgc3RyaW5nXG59XG5cbmZ1bmN0aW9uIHJlc29sdmVDb21wb25lbnRzKGJhc2UsIHJlbGF0aXZlKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgIHZhciBza2lwTm9ybWFsaXphdGlvbiA9IGFyZ3VtZW50c1szXTtcblxuICAgIHZhciB0YXJnZXQgPSB7fTtcbiAgICBpZiAoIXNraXBOb3JtYWxpemF0aW9uKSB7XG4gICAgICAgIGJhc2UgPSBwYXJzZShzZXJpYWxpemUoYmFzZSwgb3B0aW9ucyksIG9wdGlvbnMpOyAvL25vcm1hbGl6ZSBiYXNlIGNvbXBvbmVudHNcbiAgICAgICAgcmVsYXRpdmUgPSBwYXJzZShzZXJpYWxpemUocmVsYXRpdmUsIG9wdGlvbnMpLCBvcHRpb25zKTsgLy9ub3JtYWxpemUgcmVsYXRpdmUgY29tcG9uZW50c1xuICAgIH1cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBpZiAoIW9wdGlvbnMudG9sZXJhbnQgJiYgcmVsYXRpdmUuc2NoZW1lKSB7XG4gICAgICAgIHRhcmdldC5zY2hlbWUgPSByZWxhdGl2ZS5zY2hlbWU7XG4gICAgICAgIC8vdGFyZ2V0LmF1dGhvcml0eSA9IHJlbGF0aXZlLmF1dGhvcml0eTtcbiAgICAgICAgdGFyZ2V0LnVzZXJpbmZvID0gcmVsYXRpdmUudXNlcmluZm87XG4gICAgICAgIHRhcmdldC5ob3N0ID0gcmVsYXRpdmUuaG9zdDtcbiAgICAgICAgdGFyZ2V0LnBvcnQgPSByZWxhdGl2ZS5wb3J0O1xuICAgICAgICB0YXJnZXQucGF0aCA9IHJlbW92ZURvdFNlZ21lbnRzKHJlbGF0aXZlLnBhdGggfHwgXCJcIik7XG4gICAgICAgIHRhcmdldC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChyZWxhdGl2ZS51c2VyaW5mbyAhPT0gdW5kZWZpbmVkIHx8IHJlbGF0aXZlLmhvc3QgIT09IHVuZGVmaW5lZCB8fCByZWxhdGl2ZS5wb3J0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vdGFyZ2V0LmF1dGhvcml0eSA9IHJlbGF0aXZlLmF1dGhvcml0eTtcbiAgICAgICAgICAgIHRhcmdldC51c2VyaW5mbyA9IHJlbGF0aXZlLnVzZXJpbmZvO1xuICAgICAgICAgICAgdGFyZ2V0Lmhvc3QgPSByZWxhdGl2ZS5ob3N0O1xuICAgICAgICAgICAgdGFyZ2V0LnBvcnQgPSByZWxhdGl2ZS5wb3J0O1xuICAgICAgICAgICAgdGFyZ2V0LnBhdGggPSByZW1vdmVEb3RTZWdtZW50cyhyZWxhdGl2ZS5wYXRoIHx8IFwiXCIpO1xuICAgICAgICAgICAgdGFyZ2V0LnF1ZXJ5ID0gcmVsYXRpdmUucXVlcnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXJlbGF0aXZlLnBhdGgpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQucGF0aCA9IGJhc2UucGF0aDtcbiAgICAgICAgICAgICAgICBpZiAocmVsYXRpdmUucXVlcnkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQucXVlcnkgPSBiYXNlLnF1ZXJ5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlbGF0aXZlLnBhdGguY2hhckF0KDApID09PSBcIi9cIikge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQucGF0aCA9IHJlbW92ZURvdFNlZ21lbnRzKHJlbGF0aXZlLnBhdGgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoYmFzZS51c2VyaW5mbyAhPT0gdW5kZWZpbmVkIHx8IGJhc2UuaG9zdCAhPT0gdW5kZWZpbmVkIHx8IGJhc2UucG9ydCAhPT0gdW5kZWZpbmVkKSAmJiAhYmFzZS5wYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQucGF0aCA9IFwiL1wiICsgcmVsYXRpdmUucGF0aDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghYmFzZS5wYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQucGF0aCA9IHJlbGF0aXZlLnBhdGg7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQucGF0aCA9IGJhc2UucGF0aC5zbGljZSgwLCBiYXNlLnBhdGgubGFzdEluZGV4T2YoXCIvXCIpICsgMSkgKyByZWxhdGl2ZS5wYXRoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5wYXRoID0gcmVtb3ZlRG90U2VnbWVudHModGFyZ2V0LnBhdGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0YXJnZXQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vdGFyZ2V0LmF1dGhvcml0eSA9IGJhc2UuYXV0aG9yaXR5O1xuICAgICAgICAgICAgdGFyZ2V0LnVzZXJpbmZvID0gYmFzZS51c2VyaW5mbztcbiAgICAgICAgICAgIHRhcmdldC5ob3N0ID0gYmFzZS5ob3N0O1xuICAgICAgICAgICAgdGFyZ2V0LnBvcnQgPSBiYXNlLnBvcnQ7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0LnNjaGVtZSA9IGJhc2Uuc2NoZW1lO1xuICAgIH1cbiAgICB0YXJnZXQuZnJhZ21lbnQgPSByZWxhdGl2ZS5mcmFnbWVudDtcbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiByZXNvbHZlKGJhc2VVUkksIHJlbGF0aXZlVVJJLCBvcHRpb25zKSB7XG4gICAgdmFyIHNjaGVtZWxlc3NPcHRpb25zID0gYXNzaWduKHsgc2NoZW1lOiAnbnVsbCcgfSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIHNlcmlhbGl6ZShyZXNvbHZlQ29tcG9uZW50cyhwYXJzZShiYXNlVVJJLCBzY2hlbWVsZXNzT3B0aW9ucyksIHBhcnNlKHJlbGF0aXZlVVJJLCBzY2hlbWVsZXNzT3B0aW9ucyksIHNjaGVtZWxlc3NPcHRpb25zLCB0cnVlKSwgc2NoZW1lbGVzc09wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemUodXJpLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiB1cmkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdXJpID0gc2VyaWFsaXplKHBhcnNlKHVyaSwgb3B0aW9ucyksIG9wdGlvbnMpO1xuICAgIH0gZWxzZSBpZiAodHlwZU9mKHVyaSkgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgdXJpID0gcGFyc2Uoc2VyaWFsaXplKHVyaSwgb3B0aW9ucyksIG9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gdXJpO1xufVxuXG5mdW5jdGlvbiBlcXVhbCh1cmlBLCB1cmlCLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiB1cmlBID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHVyaUEgPSBzZXJpYWxpemUocGFyc2UodXJpQSwgb3B0aW9ucyksIG9wdGlvbnMpO1xuICAgIH0gZWxzZSBpZiAodHlwZU9mKHVyaUEpID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHVyaUEgPSBzZXJpYWxpemUodXJpQSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdXJpQiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICB1cmlCID0gc2VyaWFsaXplKHBhcnNlKHVyaUIsIG9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVPZih1cmlCKSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICB1cmlCID0gc2VyaWFsaXplKHVyaUIsIG9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gdXJpQSA9PT0gdXJpQjtcbn1cblxuZnVuY3Rpb24gZXNjYXBlQ29tcG9uZW50KHN0ciwgb3B0aW9ucykge1xuICAgIHJldHVybiBzdHIgJiYgc3RyLnRvU3RyaW5nKCkucmVwbGFjZSghb3B0aW9ucyB8fCAhb3B0aW9ucy5pcmkgPyBVUklfUFJPVE9DT0wuRVNDQVBFIDogSVJJX1BST1RPQ09MLkVTQ0FQRSwgcGN0RW5jQ2hhcik7XG59XG5cbmZ1bmN0aW9uIHVuZXNjYXBlQ29tcG9uZW50KHN0ciwgb3B0aW9ucykge1xuICAgIHJldHVybiBzdHIgJiYgc3RyLnRvU3RyaW5nKCkucmVwbGFjZSghb3B0aW9ucyB8fCAhb3B0aW9ucy5pcmkgPyBVUklfUFJPVE9DT0wuUENUX0VOQ09ERUQgOiBJUklfUFJPVE9DT0wuUENUX0VOQ09ERUQsIHBjdERlY0NoYXJzKTtcbn1cblxudmFyIGhhbmRsZXIgPSB7XG4gICAgc2NoZW1lOiBcImh0dHBcIixcbiAgICBkb21haW5Ib3N0OiB0cnVlLFxuICAgIHBhcnNlOiBmdW5jdGlvbiBwYXJzZShjb21wb25lbnRzLCBvcHRpb25zKSB7XG4gICAgICAgIC8vcmVwb3J0IG1pc3NpbmcgaG9zdFxuICAgICAgICBpZiAoIWNvbXBvbmVudHMuaG9zdCkge1xuICAgICAgICAgICAgY29tcG9uZW50cy5lcnJvciA9IGNvbXBvbmVudHMuZXJyb3IgfHwgXCJIVFRQIFVSSXMgbXVzdCBoYXZlIGEgaG9zdC5cIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29tcG9uZW50cztcbiAgICB9LFxuICAgIHNlcmlhbGl6ZTogZnVuY3Rpb24gc2VyaWFsaXplKGNvbXBvbmVudHMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHNlY3VyZSA9IFN0cmluZyhjb21wb25lbnRzLnNjaGVtZSkudG9Mb3dlckNhc2UoKSA9PT0gXCJodHRwc1wiO1xuICAgICAgICAvL25vcm1hbGl6ZSB0aGUgZGVmYXVsdCBwb3J0XG4gICAgICAgIGlmIChjb21wb25lbnRzLnBvcnQgPT09IChzZWN1cmUgPyA0NDMgOiA4MCkgfHwgY29tcG9uZW50cy5wb3J0ID09PSBcIlwiKSB7XG4gICAgICAgICAgICBjb21wb25lbnRzLnBvcnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy9ub3JtYWxpemUgdGhlIGVtcHR5IHBhdGhcbiAgICAgICAgaWYgKCFjb21wb25lbnRzLnBhdGgpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudHMucGF0aCA9IFwiL1wiO1xuICAgICAgICB9XG4gICAgICAgIC8vTk9URTogV2UgZG8gbm90IHBhcnNlIHF1ZXJ5IHN0cmluZ3MgZm9yIEhUVFAgVVJJc1xuICAgICAgICAvL2FzIFdXVyBGb3JtIFVybCBFbmNvZGVkIHF1ZXJ5IHN0cmluZ3MgYXJlIHBhcnQgb2YgdGhlIEhUTUw0KyBzcGVjLFxuICAgICAgICAvL2FuZCBub3QgdGhlIEhUVFAgc3BlYy5cbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudHM7XG4gICAgfVxufTtcblxudmFyIGhhbmRsZXIkMSA9IHtcbiAgICBzY2hlbWU6IFwiaHR0cHNcIixcbiAgICBkb21haW5Ib3N0OiBoYW5kbGVyLmRvbWFpbkhvc3QsXG4gICAgcGFyc2U6IGhhbmRsZXIucGFyc2UsXG4gICAgc2VyaWFsaXplOiBoYW5kbGVyLnNlcmlhbGl6ZVxufTtcblxuZnVuY3Rpb24gaXNTZWN1cmUod3NDb21wb25lbnRzKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB3c0NvbXBvbmVudHMuc2VjdXJlID09PSAnYm9vbGVhbicgPyB3c0NvbXBvbmVudHMuc2VjdXJlIDogU3RyaW5nKHdzQ29tcG9uZW50cy5zY2hlbWUpLnRvTG93ZXJDYXNlKCkgPT09IFwid3NzXCI7XG59XG4vL1JGQyA2NDU1XG52YXIgaGFuZGxlciQyID0ge1xuICAgIHNjaGVtZTogXCJ3c1wiLFxuICAgIGRvbWFpbkhvc3Q6IHRydWUsXG4gICAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKGNvbXBvbmVudHMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHdzQ29tcG9uZW50cyA9IGNvbXBvbmVudHM7XG4gICAgICAgIC8vaW5kaWNhdGUgaWYgdGhlIHNlY3VyZSBmbGFnIGlzIHNldFxuICAgICAgICB3c0NvbXBvbmVudHMuc2VjdXJlID0gaXNTZWN1cmUod3NDb21wb25lbnRzKTtcbiAgICAgICAgLy9jb25zdHJ1Y3QgcmVzb3VjZSBuYW1lXG4gICAgICAgIHdzQ29tcG9uZW50cy5yZXNvdXJjZU5hbWUgPSAod3NDb21wb25lbnRzLnBhdGggfHwgJy8nKSArICh3c0NvbXBvbmVudHMucXVlcnkgPyAnPycgKyB3c0NvbXBvbmVudHMucXVlcnkgOiAnJyk7XG4gICAgICAgIHdzQ29tcG9uZW50cy5wYXRoID0gdW5kZWZpbmVkO1xuICAgICAgICB3c0NvbXBvbmVudHMucXVlcnkgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiB3c0NvbXBvbmVudHM7XG4gICAgfSxcbiAgICBzZXJpYWxpemU6IGZ1bmN0aW9uIHNlcmlhbGl6ZSh3c0NvbXBvbmVudHMsIG9wdGlvbnMpIHtcbiAgICAgICAgLy9ub3JtYWxpemUgdGhlIGRlZmF1bHQgcG9ydFxuICAgICAgICBpZiAod3NDb21wb25lbnRzLnBvcnQgPT09IChpc1NlY3VyZSh3c0NvbXBvbmVudHMpID8gNDQzIDogODApIHx8IHdzQ29tcG9uZW50cy5wb3J0ID09PSBcIlwiKSB7XG4gICAgICAgICAgICB3c0NvbXBvbmVudHMucG9ydCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvL2Vuc3VyZSBzY2hlbWUgbWF0Y2hlcyBzZWN1cmUgZmxhZ1xuICAgICAgICBpZiAodHlwZW9mIHdzQ29tcG9uZW50cy5zZWN1cmUgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgd3NDb21wb25lbnRzLnNjaGVtZSA9IHdzQ29tcG9uZW50cy5zZWN1cmUgPyAnd3NzJyA6ICd3cyc7XG4gICAgICAgICAgICB3c0NvbXBvbmVudHMuc2VjdXJlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vcmVjb25zdHJ1Y3QgcGF0aCBmcm9tIHJlc291cmNlIG5hbWVcbiAgICAgICAgaWYgKHdzQ29tcG9uZW50cy5yZXNvdXJjZU5hbWUpIHtcbiAgICAgICAgICAgIHZhciBfd3NDb21wb25lbnRzJHJlc291cmMgPSB3c0NvbXBvbmVudHMucmVzb3VyY2VOYW1lLnNwbGl0KCc/JyksXG4gICAgICAgICAgICAgICAgX3dzQ29tcG9uZW50cyRyZXNvdXJjMiA9IHNsaWNlZFRvQXJyYXkoX3dzQ29tcG9uZW50cyRyZXNvdXJjLCAyKSxcbiAgICAgICAgICAgICAgICBwYXRoID0gX3dzQ29tcG9uZW50cyRyZXNvdXJjMlswXSxcbiAgICAgICAgICAgICAgICBxdWVyeSA9IF93c0NvbXBvbmVudHMkcmVzb3VyYzJbMV07XG5cbiAgICAgICAgICAgIHdzQ29tcG9uZW50cy5wYXRoID0gcGF0aCAmJiBwYXRoICE9PSAnLycgPyBwYXRoIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgd3NDb21wb25lbnRzLnF1ZXJ5ID0gcXVlcnk7XG4gICAgICAgICAgICB3c0NvbXBvbmVudHMucmVzb3VyY2VOYW1lID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vZm9yYmlkIGZyYWdtZW50IGNvbXBvbmVudFxuICAgICAgICB3c0NvbXBvbmVudHMuZnJhZ21lbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiB3c0NvbXBvbmVudHM7XG4gICAgfVxufTtcblxudmFyIGhhbmRsZXIkMyA9IHtcbiAgICBzY2hlbWU6IFwid3NzXCIsXG4gICAgZG9tYWluSG9zdDogaGFuZGxlciQyLmRvbWFpbkhvc3QsXG4gICAgcGFyc2U6IGhhbmRsZXIkMi5wYXJzZSxcbiAgICBzZXJpYWxpemU6IGhhbmRsZXIkMi5zZXJpYWxpemVcbn07XG5cbnZhciBPID0ge307XG52YXIgaXNJUkkgPSB0cnVlO1xuLy9SRkMgMzk4NlxudmFyIFVOUkVTRVJWRUQkJCA9IFwiW0EtWmEtejAtOVxcXFwtXFxcXC5cXFxcX1xcXFx+XCIgKyAoaXNJUkkgPyBcIlxcXFx4QTAtXFxcXHUyMDBEXFxcXHUyMDEwLVxcXFx1MjAyOVxcXFx1MjAyRi1cXFxcdUQ3RkZcXFxcdUY5MDAtXFxcXHVGRENGXFxcXHVGREYwLVxcXFx1RkZFRlwiIDogXCJcIikgKyBcIl1cIjtcbnZhciBIRVhESUckJCA9IFwiWzAtOUEtRmEtZl1cIjsgLy9jYXNlLWluc2Vuc2l0aXZlXG52YXIgUENUX0VOQ09ERUQkID0gc3ViZXhwKHN1YmV4cChcIiVbRUZlZl1cIiArIEhFWERJRyQkICsgXCIlXCIgKyBIRVhESUckJCArIEhFWERJRyQkICsgXCIlXCIgKyBIRVhESUckJCArIEhFWERJRyQkKSArIFwifFwiICsgc3ViZXhwKFwiJVs4OUEtRmEtZl1cIiArIEhFWERJRyQkICsgXCIlXCIgKyBIRVhESUckJCArIEhFWERJRyQkKSArIFwifFwiICsgc3ViZXhwKFwiJVwiICsgSEVYRElHJCQgKyBIRVhESUckJCkpOyAvL2V4cGFuZGVkXG4vL1JGQyA1MzIyLCBleGNlcHQgdGhlc2Ugc3ltYm9scyBhcyBwZXIgUkZDIDYwNjg6IEAgOiAvID8gIyBbIF0gJiA7ID1cbi8vY29uc3QgQVRFWFQkJCA9IFwiW0EtWmEtejAtOVxcXFwhXFxcXCNcXFxcJFxcXFwlXFxcXCZcXFxcJ1xcXFwqXFxcXCtcXFxcLVxcXFwvXFxcXD1cXFxcP1xcXFxeXFxcXF9cXFxcYFxcXFx7XFxcXHxcXFxcfVxcXFx+XVwiO1xuLy9jb25zdCBXU1AkJCA9IFwiW1xcXFx4MjBcXFxceDA5XVwiO1xuLy9jb25zdCBPQlNfUVRFWFQkJCA9IFwiW1xcXFx4MDEtXFxcXHgwOFxcXFx4MEJcXFxceDBDXFxcXHgwRS1cXFxceDFGXFxcXHg3Rl1cIjsgIC8vKCVkMS04IC8gJWQxMS0xMiAvICVkMTQtMzEgLyAlZDEyNylcbi8vY29uc3QgUVRFWFQkJCA9IG1lcmdlKFwiW1xcXFx4MjFcXFxceDIzLVxcXFx4NUJcXFxceDVELVxcXFx4N0VdXCIsIE9CU19RVEVYVCQkKTsgIC8vJWQzMyAvICVkMzUtOTEgLyAlZDkzLTEyNiAvIG9icy1xdGV4dFxuLy9jb25zdCBWQ0hBUiQkID0gXCJbXFxcXHgyMS1cXFxceDdFXVwiO1xuLy9jb25zdCBXU1AkJCA9IFwiW1xcXFx4MjBcXFxceDA5XVwiO1xuLy9jb25zdCBPQlNfUVAkID0gc3ViZXhwKFwiXFxcXFxcXFxcIiArIG1lcmdlKFwiW1xcXFx4MDBcXFxceDBEXFxcXHgwQV1cIiwgT0JTX1FURVhUJCQpKTsgIC8vJWQwIC8gQ1IgLyBMRiAvIG9icy1xdGV4dFxuLy9jb25zdCBGV1MkID0gc3ViZXhwKHN1YmV4cChXU1AkJCArIFwiKlwiICsgXCJcXFxceDBEXFxcXHgwQVwiKSArIFwiP1wiICsgV1NQJCQgKyBcIitcIik7XG4vL2NvbnN0IFFVT1RFRF9QQUlSJCA9IHN1YmV4cChzdWJleHAoXCJcXFxcXFxcXFwiICsgc3ViZXhwKFZDSEFSJCQgKyBcInxcIiArIFdTUCQkKSkgKyBcInxcIiArIE9CU19RUCQpO1xuLy9jb25zdCBRVU9URURfU1RSSU5HJCA9IHN1YmV4cCgnXFxcXFwiJyArIHN1YmV4cChGV1MkICsgXCI/XCIgKyBRQ09OVEVOVCQpICsgXCIqXCIgKyBGV1MkICsgXCI/XCIgKyAnXFxcXFwiJyk7XG52YXIgQVRFWFQkJCA9IFwiW0EtWmEtejAtOVxcXFwhXFxcXCRcXFxcJVxcXFwnXFxcXCpcXFxcK1xcXFwtXFxcXF5cXFxcX1xcXFxgXFxcXHtcXFxcfFxcXFx9XFxcXH5dXCI7XG52YXIgUVRFWFQkJCA9IFwiW1xcXFwhXFxcXCRcXFxcJVxcXFwnXFxcXChcXFxcKVxcXFwqXFxcXCtcXFxcLFxcXFwtXFxcXC4wLTlcXFxcPFxcXFw+QS1aXFxcXHg1RS1cXFxceDdFXVwiO1xudmFyIFZDSEFSJCQgPSBtZXJnZShRVEVYVCQkLCBcIltcXFxcXFxcIlxcXFxcXFxcXVwiKTtcbnZhciBTT01FX0RFTElNUyQkID0gXCJbXFxcXCFcXFxcJFxcXFwnXFxcXChcXFxcKVxcXFwqXFxcXCtcXFxcLFxcXFw7XFxcXDpcXFxcQF1cIjtcbnZhciBVTlJFU0VSVkVEID0gbmV3IFJlZ0V4cChVTlJFU0VSVkVEJCQsIFwiZ1wiKTtcbnZhciBQQ1RfRU5DT0RFRCA9IG5ldyBSZWdFeHAoUENUX0VOQ09ERUQkLCBcImdcIik7XG52YXIgTk9UX0xPQ0FMX1BBUlQgPSBuZXcgUmVnRXhwKG1lcmdlKFwiW15dXCIsIEFURVhUJCQsIFwiW1xcXFwuXVwiLCAnW1xcXFxcIl0nLCBWQ0hBUiQkKSwgXCJnXCIpO1xudmFyIE5PVF9IRk5BTUUgPSBuZXcgUmVnRXhwKG1lcmdlKFwiW15dXCIsIFVOUkVTRVJWRUQkJCwgU09NRV9ERUxJTVMkJCksIFwiZ1wiKTtcbnZhciBOT1RfSEZWQUxVRSA9IE5PVF9IRk5BTUU7XG5mdW5jdGlvbiBkZWNvZGVVbnJlc2VydmVkKHN0cikge1xuICAgIHZhciBkZWNTdHIgPSBwY3REZWNDaGFycyhzdHIpO1xuICAgIHJldHVybiAhZGVjU3RyLm1hdGNoKFVOUkVTRVJWRUQpID8gc3RyIDogZGVjU3RyO1xufVxudmFyIGhhbmRsZXIkNCA9IHtcbiAgICBzY2hlbWU6IFwibWFpbHRvXCIsXG4gICAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlJCQxKGNvbXBvbmVudHMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG1haWx0b0NvbXBvbmVudHMgPSBjb21wb25lbnRzO1xuICAgICAgICB2YXIgdG8gPSBtYWlsdG9Db21wb25lbnRzLnRvID0gbWFpbHRvQ29tcG9uZW50cy5wYXRoID8gbWFpbHRvQ29tcG9uZW50cy5wYXRoLnNwbGl0KFwiLFwiKSA6IFtdO1xuICAgICAgICBtYWlsdG9Db21wb25lbnRzLnBhdGggPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChtYWlsdG9Db21wb25lbnRzLnF1ZXJ5KSB7XG4gICAgICAgICAgICB2YXIgdW5rbm93bkhlYWRlcnMgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBoZWFkZXJzID0ge307XG4gICAgICAgICAgICB2YXIgaGZpZWxkcyA9IG1haWx0b0NvbXBvbmVudHMucXVlcnkuc3BsaXQoXCImXCIpO1xuICAgICAgICAgICAgZm9yICh2YXIgeCA9IDAsIHhsID0gaGZpZWxkcy5sZW5ndGg7IHggPCB4bDsgKyt4KSB7XG4gICAgICAgICAgICAgICAgdmFyIGhmaWVsZCA9IGhmaWVsZHNbeF0uc3BsaXQoXCI9XCIpO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoaGZpZWxkWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0b1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRvQWRkcnMgPSBoZmllbGRbMV0uc3BsaXQoXCIsXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX3ggPSAwLCBfeGwgPSB0b0FkZHJzLmxlbmd0aDsgX3ggPCBfeGw7ICsrX3gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0by5wdXNoKHRvQWRkcnNbX3hdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3ViamVjdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgbWFpbHRvQ29tcG9uZW50cy5zdWJqZWN0ID0gdW5lc2NhcGVDb21wb25lbnQoaGZpZWxkWzFdLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYm9keVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgbWFpbHRvQ29tcG9uZW50cy5ib2R5ID0gdW5lc2NhcGVDb21wb25lbnQoaGZpZWxkWzFdLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgdW5rbm93bkhlYWRlcnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1t1bmVzY2FwZUNvbXBvbmVudChoZmllbGRbMF0sIG9wdGlvbnMpXSA9IHVuZXNjYXBlQ29tcG9uZW50KGhmaWVsZFsxXSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodW5rbm93bkhlYWRlcnMpIG1haWx0b0NvbXBvbmVudHMuaGVhZGVycyA9IGhlYWRlcnM7XG4gICAgICAgIH1cbiAgICAgICAgbWFpbHRvQ29tcG9uZW50cy5xdWVyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yICh2YXIgX3gyID0gMCwgX3hsMiA9IHRvLmxlbmd0aDsgX3gyIDwgX3hsMjsgKytfeDIpIHtcbiAgICAgICAgICAgIHZhciBhZGRyID0gdG9bX3gyXS5zcGxpdChcIkBcIik7XG4gICAgICAgICAgICBhZGRyWzBdID0gdW5lc2NhcGVDb21wb25lbnQoYWRkclswXSk7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMudW5pY29kZVN1cHBvcnQpIHtcbiAgICAgICAgICAgICAgICAvL2NvbnZlcnQgVW5pY29kZSBJRE4gLT4gQVNDSUkgSUROXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgYWRkclsxXSA9IHB1bnljb2RlLnRvQVNDSUkodW5lc2NhcGVDb21wb25lbnQoYWRkclsxXSwgb3B0aW9ucykudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBtYWlsdG9Db21wb25lbnRzLmVycm9yID0gbWFpbHRvQ29tcG9uZW50cy5lcnJvciB8fCBcIkVtYWlsIGFkZHJlc3MncyBkb21haW4gbmFtZSBjYW4gbm90IGJlIGNvbnZlcnRlZCB0byBBU0NJSSB2aWEgcHVueWNvZGU6IFwiICsgZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFkZHJbMV0gPSB1bmVzY2FwZUNvbXBvbmVudChhZGRyWzFdLCBvcHRpb25zKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9bX3gyXSA9IGFkZHIuam9pbihcIkBcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1haWx0b0NvbXBvbmVudHM7XG4gICAgfSxcbiAgICBzZXJpYWxpemU6IGZ1bmN0aW9uIHNlcmlhbGl6ZSQkMShtYWlsdG9Db21wb25lbnRzLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBjb21wb25lbnRzID0gbWFpbHRvQ29tcG9uZW50cztcbiAgICAgICAgdmFyIHRvID0gdG9BcnJheShtYWlsdG9Db21wb25lbnRzLnRvKTtcbiAgICAgICAgaWYgKHRvKSB7XG4gICAgICAgICAgICBmb3IgKHZhciB4ID0gMCwgeGwgPSB0by5sZW5ndGg7IHggPCB4bDsgKyt4KSB7XG4gICAgICAgICAgICAgICAgdmFyIHRvQWRkciA9IFN0cmluZyh0b1t4XSk7XG4gICAgICAgICAgICAgICAgdmFyIGF0SWR4ID0gdG9BZGRyLmxhc3RJbmRleE9mKFwiQFwiKTtcbiAgICAgICAgICAgICAgICB2YXIgbG9jYWxQYXJ0ID0gdG9BZGRyLnNsaWNlKDAsIGF0SWR4KS5yZXBsYWNlKFBDVF9FTkNPREVELCBkZWNvZGVVbnJlc2VydmVkKS5yZXBsYWNlKFBDVF9FTkNPREVELCB0b1VwcGVyQ2FzZSkucmVwbGFjZShOT1RfTE9DQUxfUEFSVCwgcGN0RW5jQ2hhcik7XG4gICAgICAgICAgICAgICAgdmFyIGRvbWFpbiA9IHRvQWRkci5zbGljZShhdElkeCArIDEpO1xuICAgICAgICAgICAgICAgIC8vY29udmVydCBJRE4gdmlhIHB1bnljb2RlXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZG9tYWluID0gIW9wdGlvbnMuaXJpID8gcHVueWNvZGUudG9BU0NJSSh1bmVzY2FwZUNvbXBvbmVudChkb21haW4sIG9wdGlvbnMpLnRvTG93ZXJDYXNlKCkpIDogcHVueWNvZGUudG9Vbmljb2RlKGRvbWFpbik7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzLmVycm9yID0gY29tcG9uZW50cy5lcnJvciB8fCBcIkVtYWlsIGFkZHJlc3MncyBkb21haW4gbmFtZSBjYW4gbm90IGJlIGNvbnZlcnRlZCB0byBcIiArICghb3B0aW9ucy5pcmkgPyBcIkFTQ0lJXCIgOiBcIlVuaWNvZGVcIikgKyBcIiB2aWEgcHVueWNvZGU6IFwiICsgZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9beF0gPSBsb2NhbFBhcnQgKyBcIkBcIiArIGRvbWFpbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXBvbmVudHMucGF0aCA9IHRvLmpvaW4oXCIsXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBoZWFkZXJzID0gbWFpbHRvQ29tcG9uZW50cy5oZWFkZXJzID0gbWFpbHRvQ29tcG9uZW50cy5oZWFkZXJzIHx8IHt9O1xuICAgICAgICBpZiAobWFpbHRvQ29tcG9uZW50cy5zdWJqZWN0KSBoZWFkZXJzW1wic3ViamVjdFwiXSA9IG1haWx0b0NvbXBvbmVudHMuc3ViamVjdDtcbiAgICAgICAgaWYgKG1haWx0b0NvbXBvbmVudHMuYm9keSkgaGVhZGVyc1tcImJvZHlcIl0gPSBtYWlsdG9Db21wb25lbnRzLmJvZHk7XG4gICAgICAgIHZhciBmaWVsZHMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBoZWFkZXJzKSB7XG4gICAgICAgICAgICBpZiAoaGVhZGVyc1tuYW1lXSAhPT0gT1tuYW1lXSkge1xuICAgICAgICAgICAgICAgIGZpZWxkcy5wdXNoKG5hbWUucmVwbGFjZShQQ1RfRU5DT0RFRCwgZGVjb2RlVW5yZXNlcnZlZCkucmVwbGFjZShQQ1RfRU5DT0RFRCwgdG9VcHBlckNhc2UpLnJlcGxhY2UoTk9UX0hGTkFNRSwgcGN0RW5jQ2hhcikgKyBcIj1cIiArIGhlYWRlcnNbbmFtZV0ucmVwbGFjZShQQ1RfRU5DT0RFRCwgZGVjb2RlVW5yZXNlcnZlZCkucmVwbGFjZShQQ1RfRU5DT0RFRCwgdG9VcHBlckNhc2UpLnJlcGxhY2UoTk9UX0hGVkFMVUUsIHBjdEVuY0NoYXIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZmllbGRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29tcG9uZW50cy5xdWVyeSA9IGZpZWxkcy5qb2luKFwiJlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29tcG9uZW50cztcbiAgICB9XG59O1xuXG52YXIgVVJOX1BBUlNFID0gL14oW15cXDpdKylcXDooLiopLztcbi8vUkZDIDIxNDFcbnZhciBoYW5kbGVyJDUgPSB7XG4gICAgc2NoZW1lOiBcInVyblwiLFxuICAgIHBhcnNlOiBmdW5jdGlvbiBwYXJzZSQkMShjb21wb25lbnRzLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBtYXRjaGVzID0gY29tcG9uZW50cy5wYXRoICYmIGNvbXBvbmVudHMucGF0aC5tYXRjaChVUk5fUEFSU0UpO1xuICAgICAgICB2YXIgdXJuQ29tcG9uZW50cyA9IGNvbXBvbmVudHM7XG4gICAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgICAgICB2YXIgc2NoZW1lID0gb3B0aW9ucy5zY2hlbWUgfHwgdXJuQ29tcG9uZW50cy5zY2hlbWUgfHwgXCJ1cm5cIjtcbiAgICAgICAgICAgIHZhciBuaWQgPSBtYXRjaGVzWzFdLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB2YXIgbnNzID0gbWF0Y2hlc1syXTtcbiAgICAgICAgICAgIHZhciB1cm5TY2hlbWUgPSBzY2hlbWUgKyBcIjpcIiArIChvcHRpb25zLm5pZCB8fCBuaWQpO1xuICAgICAgICAgICAgdmFyIHNjaGVtZUhhbmRsZXIgPSBTQ0hFTUVTW3VyblNjaGVtZV07XG4gICAgICAgICAgICB1cm5Db21wb25lbnRzLm5pZCA9IG5pZDtcbiAgICAgICAgICAgIHVybkNvbXBvbmVudHMubnNzID0gbnNzO1xuICAgICAgICAgICAgdXJuQ29tcG9uZW50cy5wYXRoID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKHNjaGVtZUhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICB1cm5Db21wb25lbnRzID0gc2NoZW1lSGFuZGxlci5wYXJzZSh1cm5Db21wb25lbnRzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVybkNvbXBvbmVudHMuZXJyb3IgPSB1cm5Db21wb25lbnRzLmVycm9yIHx8IFwiVVJOIGNhbiBub3QgYmUgcGFyc2VkLlwiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cm5Db21wb25lbnRzO1xuICAgIH0sXG4gICAgc2VyaWFsaXplOiBmdW5jdGlvbiBzZXJpYWxpemUkJDEodXJuQ29tcG9uZW50cywgb3B0aW9ucykge1xuICAgICAgICB2YXIgc2NoZW1lID0gb3B0aW9ucy5zY2hlbWUgfHwgdXJuQ29tcG9uZW50cy5zY2hlbWUgfHwgXCJ1cm5cIjtcbiAgICAgICAgdmFyIG5pZCA9IHVybkNvbXBvbmVudHMubmlkO1xuICAgICAgICB2YXIgdXJuU2NoZW1lID0gc2NoZW1lICsgXCI6XCIgKyAob3B0aW9ucy5uaWQgfHwgbmlkKTtcbiAgICAgICAgdmFyIHNjaGVtZUhhbmRsZXIgPSBTQ0hFTUVTW3VyblNjaGVtZV07XG4gICAgICAgIGlmIChzY2hlbWVIYW5kbGVyKSB7XG4gICAgICAgICAgICB1cm5Db21wb25lbnRzID0gc2NoZW1lSGFuZGxlci5zZXJpYWxpemUodXJuQ29tcG9uZW50cywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVyaUNvbXBvbmVudHMgPSB1cm5Db21wb25lbnRzO1xuICAgICAgICB2YXIgbnNzID0gdXJuQ29tcG9uZW50cy5uc3M7XG4gICAgICAgIHVyaUNvbXBvbmVudHMucGF0aCA9IChuaWQgfHwgb3B0aW9ucy5uaWQpICsgXCI6XCIgKyBuc3M7XG4gICAgICAgIHJldHVybiB1cmlDb21wb25lbnRzO1xuICAgIH1cbn07XG5cbnZhciBVVUlEID0gL15bMC05QS1GYS1mXXs4fSg/OlxcLVswLTlBLUZhLWZdezR9KXszfVxcLVswLTlBLUZhLWZdezEyfSQvO1xuLy9SRkMgNDEyMlxudmFyIGhhbmRsZXIkNiA9IHtcbiAgICBzY2hlbWU6IFwidXJuOnV1aWRcIixcbiAgICBwYXJzZTogZnVuY3Rpb24gcGFyc2UodXJuQ29tcG9uZW50cywgb3B0aW9ucykge1xuICAgICAgICB2YXIgdXVpZENvbXBvbmVudHMgPSB1cm5Db21wb25lbnRzO1xuICAgICAgICB1dWlkQ29tcG9uZW50cy51dWlkID0gdXVpZENvbXBvbmVudHMubnNzO1xuICAgICAgICB1dWlkQ29tcG9uZW50cy5uc3MgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICghb3B0aW9ucy50b2xlcmFudCAmJiAoIXV1aWRDb21wb25lbnRzLnV1aWQgfHwgIXV1aWRDb21wb25lbnRzLnV1aWQubWF0Y2goVVVJRCkpKSB7XG4gICAgICAgICAgICB1dWlkQ29tcG9uZW50cy5lcnJvciA9IHV1aWRDb21wb25lbnRzLmVycm9yIHx8IFwiVVVJRCBpcyBub3QgdmFsaWQuXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHV1aWRDb21wb25lbnRzO1xuICAgIH0sXG4gICAgc2VyaWFsaXplOiBmdW5jdGlvbiBzZXJpYWxpemUodXVpZENvbXBvbmVudHMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHVybkNvbXBvbmVudHMgPSB1dWlkQ29tcG9uZW50cztcbiAgICAgICAgLy9ub3JtYWxpemUgVVVJRFxuICAgICAgICB1cm5Db21wb25lbnRzLm5zcyA9ICh1dWlkQ29tcG9uZW50cy51dWlkIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiB1cm5Db21wb25lbnRzO1xuICAgIH1cbn07XG5cblNDSEVNRVNbaGFuZGxlci5zY2hlbWVdID0gaGFuZGxlcjtcblNDSEVNRVNbaGFuZGxlciQxLnNjaGVtZV0gPSBoYW5kbGVyJDE7XG5TQ0hFTUVTW2hhbmRsZXIkMi5zY2hlbWVdID0gaGFuZGxlciQyO1xuU0NIRU1FU1toYW5kbGVyJDMuc2NoZW1lXSA9IGhhbmRsZXIkMztcblNDSEVNRVNbaGFuZGxlciQ0LnNjaGVtZV0gPSBoYW5kbGVyJDQ7XG5TQ0hFTUVTW2hhbmRsZXIkNS5zY2hlbWVdID0gaGFuZGxlciQ1O1xuU0NIRU1FU1toYW5kbGVyJDYuc2NoZW1lXSA9IGhhbmRsZXIkNjtcblxuZXhwb3J0cy5TQ0hFTUVTID0gU0NIRU1FUztcbmV4cG9ydHMucGN0RW5jQ2hhciA9IHBjdEVuY0NoYXI7XG5leHBvcnRzLnBjdERlY0NoYXJzID0gcGN0RGVjQ2hhcnM7XG5leHBvcnRzLnBhcnNlID0gcGFyc2U7XG5leHBvcnRzLnJlbW92ZURvdFNlZ21lbnRzID0gcmVtb3ZlRG90U2VnbWVudHM7XG5leHBvcnRzLnNlcmlhbGl6ZSA9IHNlcmlhbGl6ZTtcbmV4cG9ydHMucmVzb2x2ZUNvbXBvbmVudHMgPSByZXNvbHZlQ29tcG9uZW50cztcbmV4cG9ydHMucmVzb2x2ZSA9IHJlc29sdmU7XG5leHBvcnRzLm5vcm1hbGl6ZSA9IG5vcm1hbGl6ZTtcbmV4cG9ydHMuZXF1YWwgPSBlcXVhbDtcbmV4cG9ydHMuZXNjYXBlQ29tcG9uZW50ID0gZXNjYXBlQ29tcG9uZW50O1xuZXhwb3J0cy51bmVzY2FwZUNvbXBvbmVudCA9IHVuZXNjYXBlQ29tcG9uZW50O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG59KSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXJpLmFsbC5qcy5tYXBcbiIsIid1c2Ugc3RyaWN0JztcblxuLy8gZG8gbm90IGVkaXQgLmpzIGZpbGVzIGRpcmVjdGx5IC0gZWRpdCBzcmMvaW5kZXguanN0XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuXG4gIGlmIChhICYmIGIgJiYgdHlwZW9mIGEgPT0gJ29iamVjdCcgJiYgdHlwZW9mIGIgPT0gJ29iamVjdCcpIHtcbiAgICBpZiAoYS5jb25zdHJ1Y3RvciAhPT0gYi5jb25zdHJ1Y3RvcikgcmV0dXJuIGZhbHNlO1xuXG4gICAgdmFyIGxlbmd0aCwgaSwga2V5cztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoICE9IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspXG4gICAgICAgIGlmICghZXF1YWwoYVtpXSwgYltpXSkpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuXG5cbiAgICBpZiAoYS5jb25zdHJ1Y3RvciA9PT0gUmVnRXhwKSByZXR1cm4gYS5zb3VyY2UgPT09IGIuc291cmNlICYmIGEuZmxhZ3MgPT09IGIuZmxhZ3M7XG4gICAgaWYgKGEudmFsdWVPZiAhPT0gT2JqZWN0LnByb3RvdHlwZS52YWx1ZU9mKSByZXR1cm4gYS52YWx1ZU9mKCkgPT09IGIudmFsdWVPZigpO1xuICAgIGlmIChhLnRvU3RyaW5nICE9PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKSByZXR1cm4gYS50b1N0cmluZygpID09PSBiLnRvU3RyaW5nKCk7XG5cbiAgICBrZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gICAgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCAhPT0gT2JqZWN0LmtleXMoYikubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspXG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBrZXlzW2ldKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblxuICAgICAgaWYgKCFlcXVhbChhW2tleV0sIGJba2V5XSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIHRydWUgaWYgYm90aCBOYU4sIGZhbHNlIG90aGVyd2lzZVxuICByZXR1cm4gYSE9PWEgJiYgYiE9PWI7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZ1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Jlc3RpZWpzL3B1bnljb2RlLmpzIC0gcHVueWNvZGUudWNzMi5kZWNvZGVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdWNzMmxlbmd0aChzdHIpIHtcbiAgdmFyIGxlbmd0aCA9IDBcbiAgICAsIGxlbiA9IHN0ci5sZW5ndGhcbiAgICAsIHBvcyA9IDBcbiAgICAsIHZhbHVlO1xuICB3aGlsZSAocG9zIDwgbGVuKSB7XG4gICAgbGVuZ3RoKys7XG4gICAgdmFsdWUgPSBzdHIuY2hhckNvZGVBdChwb3MrKyk7XG4gICAgaWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgcG9zIDwgbGVuKSB7XG4gICAgICAvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXJcbiAgICAgIHZhbHVlID0gc3RyLmNoYXJDb2RlQXQocG9zKTtcbiAgICAgIGlmICgodmFsdWUgJiAweEZDMDApID09IDB4REMwMCkgcG9zKys7IC8vIGxvdyBzdXJyb2dhdGVcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxlbmd0aDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNvcHk6IGNvcHksXG4gIGNoZWNrRGF0YVR5cGU6IGNoZWNrRGF0YVR5cGUsXG4gIGNoZWNrRGF0YVR5cGVzOiBjaGVja0RhdGFUeXBlcyxcbiAgY29lcmNlVG9UeXBlczogY29lcmNlVG9UeXBlcyxcbiAgdG9IYXNoOiB0b0hhc2gsXG4gIGdldFByb3BlcnR5OiBnZXRQcm9wZXJ0eSxcbiAgZXNjYXBlUXVvdGVzOiBlc2NhcGVRdW90ZXMsXG4gIGVxdWFsOiByZXF1aXJlKCdmYXN0LWRlZXAtZXF1YWwnKSxcbiAgdWNzMmxlbmd0aDogcmVxdWlyZSgnLi91Y3MybGVuZ3RoJyksXG4gIHZhck9jY3VyZW5jZXM6IHZhck9jY3VyZW5jZXMsXG4gIHZhclJlcGxhY2U6IHZhclJlcGxhY2UsXG4gIHNjaGVtYUhhc1J1bGVzOiBzY2hlbWFIYXNSdWxlcyxcbiAgc2NoZW1hSGFzUnVsZXNFeGNlcHQ6IHNjaGVtYUhhc1J1bGVzRXhjZXB0LFxuICBzY2hlbWFVbmtub3duUnVsZXM6IHNjaGVtYVVua25vd25SdWxlcyxcbiAgdG9RdW90ZWRTdHJpbmc6IHRvUXVvdGVkU3RyaW5nLFxuICBnZXRQYXRoRXhwcjogZ2V0UGF0aEV4cHIsXG4gIGdldFBhdGg6IGdldFBhdGgsXG4gIGdldERhdGE6IGdldERhdGEsXG4gIHVuZXNjYXBlRnJhZ21lbnQ6IHVuZXNjYXBlRnJhZ21lbnQsXG4gIHVuZXNjYXBlSnNvblBvaW50ZXI6IHVuZXNjYXBlSnNvblBvaW50ZXIsXG4gIGVzY2FwZUZyYWdtZW50OiBlc2NhcGVGcmFnbWVudCxcbiAgZXNjYXBlSnNvblBvaW50ZXI6IGVzY2FwZUpzb25Qb2ludGVyXG59O1xuXG5cbmZ1bmN0aW9uIGNvcHkobywgdG8pIHtcbiAgdG8gPSB0byB8fCB7fTtcbiAgZm9yICh2YXIga2V5IGluIG8pIHRvW2tleV0gPSBvW2tleV07XG4gIHJldHVybiB0bztcbn1cblxuXG5mdW5jdGlvbiBjaGVja0RhdGFUeXBlKGRhdGFUeXBlLCBkYXRhLCBzdHJpY3ROdW1iZXJzLCBuZWdhdGUpIHtcbiAgdmFyIEVRVUFMID0gbmVnYXRlID8gJyAhPT0gJyA6ICcgPT09ICdcbiAgICAsIEFORCA9IG5lZ2F0ZSA/ICcgfHwgJyA6ICcgJiYgJ1xuICAgICwgT0sgPSBuZWdhdGUgPyAnIScgOiAnJ1xuICAgICwgTk9UID0gbmVnYXRlID8gJycgOiAnISc7XG4gIHN3aXRjaCAoZGF0YVR5cGUpIHtcbiAgICBjYXNlICdudWxsJzogcmV0dXJuIGRhdGEgKyBFUVVBTCArICdudWxsJztcbiAgICBjYXNlICdhcnJheSc6IHJldHVybiBPSyArICdBcnJheS5pc0FycmF5KCcgKyBkYXRhICsgJyknO1xuICAgIGNhc2UgJ29iamVjdCc6IHJldHVybiAnKCcgKyBPSyArIGRhdGEgKyBBTkQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAndHlwZW9mICcgKyBkYXRhICsgRVFVQUwgKyAnXCJvYmplY3RcIicgKyBBTkQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICBOT1QgKyAnQXJyYXkuaXNBcnJheSgnICsgZGF0YSArICcpKSc7XG4gICAgY2FzZSAnaW50ZWdlcic6IHJldHVybiAnKHR5cGVvZiAnICsgZGF0YSArIEVRVUFMICsgJ1wibnVtYmVyXCInICsgQU5EICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIE5PVCArICcoJyArIGRhdGEgKyAnICUgMSknICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIEFORCArIGRhdGEgKyBFUVVBTCArIGRhdGEgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgKHN0cmljdE51bWJlcnMgPyAoQU5EICsgT0sgKyAnaXNGaW5pdGUoJyArIGRhdGEgKyAnKScpIDogJycpICsgJyknO1xuICAgIGNhc2UgJ251bWJlcic6IHJldHVybiAnKHR5cGVvZiAnICsgZGF0YSArIEVRVUFMICsgJ1wiJyArIGRhdGFUeXBlICsgJ1wiJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChzdHJpY3ROdW1iZXJzID8gKEFORCArIE9LICsgJ2lzRmluaXRlKCcgKyBkYXRhICsgJyknKSA6ICcnKSArICcpJztcbiAgICBkZWZhdWx0OiByZXR1cm4gJ3R5cGVvZiAnICsgZGF0YSArIEVRVUFMICsgJ1wiJyArIGRhdGFUeXBlICsgJ1wiJztcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGNoZWNrRGF0YVR5cGVzKGRhdGFUeXBlcywgZGF0YSwgc3RyaWN0TnVtYmVycykge1xuICBzd2l0Y2ggKGRhdGFUeXBlcy5sZW5ndGgpIHtcbiAgICBjYXNlIDE6IHJldHVybiBjaGVja0RhdGFUeXBlKGRhdGFUeXBlc1swXSwgZGF0YSwgc3RyaWN0TnVtYmVycywgdHJ1ZSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHZhciBjb2RlID0gJyc7XG4gICAgICB2YXIgdHlwZXMgPSB0b0hhc2goZGF0YVR5cGVzKTtcbiAgICAgIGlmICh0eXBlcy5hcnJheSAmJiB0eXBlcy5vYmplY3QpIHtcbiAgICAgICAgY29kZSA9IHR5cGVzLm51bGwgPyAnKCc6ICcoIScgKyBkYXRhICsgJyB8fCAnO1xuICAgICAgICBjb2RlICs9ICd0eXBlb2YgJyArIGRhdGEgKyAnICE9PSBcIm9iamVjdFwiKSc7XG4gICAgICAgIGRlbGV0ZSB0eXBlcy5udWxsO1xuICAgICAgICBkZWxldGUgdHlwZXMuYXJyYXk7XG4gICAgICAgIGRlbGV0ZSB0eXBlcy5vYmplY3Q7XG4gICAgICB9XG4gICAgICBpZiAodHlwZXMubnVtYmVyKSBkZWxldGUgdHlwZXMuaW50ZWdlcjtcbiAgICAgIGZvciAodmFyIHQgaW4gdHlwZXMpXG4gICAgICAgIGNvZGUgKz0gKGNvZGUgPyAnICYmICcgOiAnJyApICsgY2hlY2tEYXRhVHlwZSh0LCBkYXRhLCBzdHJpY3ROdW1iZXJzLCB0cnVlKTtcblxuICAgICAgcmV0dXJuIGNvZGU7XG4gIH1cbn1cblxuXG52YXIgQ09FUkNFX1RPX1RZUEVTID0gdG9IYXNoKFsgJ3N0cmluZycsICdudW1iZXInLCAnaW50ZWdlcicsICdib29sZWFuJywgJ251bGwnIF0pO1xuZnVuY3Rpb24gY29lcmNlVG9UeXBlcyhvcHRpb25Db2VyY2VUeXBlcywgZGF0YVR5cGVzKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGRhdGFUeXBlcykpIHtcbiAgICB2YXIgdHlwZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpPTA7IGk8ZGF0YVR5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdCA9IGRhdGFUeXBlc1tpXTtcbiAgICAgIGlmIChDT0VSQ0VfVE9fVFlQRVNbdF0pIHR5cGVzW3R5cGVzLmxlbmd0aF0gPSB0O1xuICAgICAgZWxzZSBpZiAob3B0aW9uQ29lcmNlVHlwZXMgPT09ICdhcnJheScgJiYgdCA9PT0gJ2FycmF5JykgdHlwZXNbdHlwZXMubGVuZ3RoXSA9IHQ7XG4gICAgfVxuICAgIGlmICh0eXBlcy5sZW5ndGgpIHJldHVybiB0eXBlcztcbiAgfSBlbHNlIGlmIChDT0VSQ0VfVE9fVFlQRVNbZGF0YVR5cGVzXSkge1xuICAgIHJldHVybiBbZGF0YVR5cGVzXTtcbiAgfSBlbHNlIGlmIChvcHRpb25Db2VyY2VUeXBlcyA9PT0gJ2FycmF5JyAmJiBkYXRhVHlwZXMgPT09ICdhcnJheScpIHtcbiAgICByZXR1cm4gWydhcnJheSddO1xuICB9XG59XG5cblxuZnVuY3Rpb24gdG9IYXNoKGFycikge1xuICB2YXIgaGFzaCA9IHt9O1xuICBmb3IgKHZhciBpPTA7IGk8YXJyLmxlbmd0aDsgaSsrKSBoYXNoW2FycltpXV0gPSB0cnVlO1xuICByZXR1cm4gaGFzaDtcbn1cblxuXG52YXIgSURFTlRJRklFUiA9IC9eW2EteiRfXVthLXokXzAtOV0qJC9pO1xudmFyIFNJTkdMRV9RVU9URSA9IC8nfFxcXFwvZztcbmZ1bmN0aW9uIGdldFByb3BlcnR5KGtleSkge1xuICByZXR1cm4gdHlwZW9mIGtleSA9PSAnbnVtYmVyJ1xuICAgICAgICAgID8gJ1snICsga2V5ICsgJ10nXG4gICAgICAgICAgOiBJREVOVElGSUVSLnRlc3Qoa2V5KVxuICAgICAgICAgICAgPyAnLicgKyBrZXlcbiAgICAgICAgICAgIDogXCJbJ1wiICsgZXNjYXBlUXVvdGVzKGtleSkgKyBcIiddXCI7XG59XG5cblxuZnVuY3Rpb24gZXNjYXBlUXVvdGVzKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoU0lOR0xFX1FVT1RFLCAnXFxcXCQmJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXG4vZywgJ1xcXFxuJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHIvZywgJ1xcXFxyJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXGYvZywgJ1xcXFxmJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHQvZywgJ1xcXFx0Jyk7XG59XG5cblxuZnVuY3Rpb24gdmFyT2NjdXJlbmNlcyhzdHIsIGRhdGFWYXIpIHtcbiAgZGF0YVZhciArPSAnW14wLTldJztcbiAgdmFyIG1hdGNoZXMgPSBzdHIubWF0Y2gobmV3IFJlZ0V4cChkYXRhVmFyLCAnZycpKTtcbiAgcmV0dXJuIG1hdGNoZXMgPyBtYXRjaGVzLmxlbmd0aCA6IDA7XG59XG5cblxuZnVuY3Rpb24gdmFyUmVwbGFjZShzdHIsIGRhdGFWYXIsIGV4cHIpIHtcbiAgZGF0YVZhciArPSAnKFteMC05XSknO1xuICBleHByID0gZXhwci5yZXBsYWNlKC9cXCQvZywgJyQkJCQnKTtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKG5ldyBSZWdFeHAoZGF0YVZhciwgJ2cnKSwgZXhwciArICckMScpO1xufVxuXG5cbmZ1bmN0aW9uIHNjaGVtYUhhc1J1bGVzKHNjaGVtYSwgcnVsZXMpIHtcbiAgaWYgKHR5cGVvZiBzY2hlbWEgPT0gJ2Jvb2xlYW4nKSByZXR1cm4gIXNjaGVtYTtcbiAgZm9yICh2YXIga2V5IGluIHNjaGVtYSkgaWYgKHJ1bGVzW2tleV0pIHJldHVybiB0cnVlO1xufVxuXG5cbmZ1bmN0aW9uIHNjaGVtYUhhc1J1bGVzRXhjZXB0KHNjaGVtYSwgcnVsZXMsIGV4Y2VwdEtleXdvcmQpIHtcbiAgaWYgKHR5cGVvZiBzY2hlbWEgPT0gJ2Jvb2xlYW4nKSByZXR1cm4gIXNjaGVtYSAmJiBleGNlcHRLZXl3b3JkICE9ICdub3QnO1xuICBmb3IgKHZhciBrZXkgaW4gc2NoZW1hKSBpZiAoa2V5ICE9IGV4Y2VwdEtleXdvcmQgJiYgcnVsZXNba2V5XSkgcmV0dXJuIHRydWU7XG59XG5cblxuZnVuY3Rpb24gc2NoZW1hVW5rbm93blJ1bGVzKHNjaGVtYSwgcnVsZXMpIHtcbiAgaWYgKHR5cGVvZiBzY2hlbWEgPT0gJ2Jvb2xlYW4nKSByZXR1cm47XG4gIGZvciAodmFyIGtleSBpbiBzY2hlbWEpIGlmICghcnVsZXNba2V5XSkgcmV0dXJuIGtleTtcbn1cblxuXG5mdW5jdGlvbiB0b1F1b3RlZFN0cmluZyhzdHIpIHtcbiAgcmV0dXJuICdcXCcnICsgZXNjYXBlUXVvdGVzKHN0cikgKyAnXFwnJztcbn1cblxuXG5mdW5jdGlvbiBnZXRQYXRoRXhwcihjdXJyZW50UGF0aCwgZXhwciwganNvblBvaW50ZXJzLCBpc051bWJlcikge1xuICB2YXIgcGF0aCA9IGpzb25Qb2ludGVycyAvLyBmYWxzZSBieSBkZWZhdWx0XG4gICAgICAgICAgICAgID8gJ1xcJy9cXCcgKyAnICsgZXhwciArIChpc051bWJlciA/ICcnIDogJy5yZXBsYWNlKC9+L2csIFxcJ34wXFwnKS5yZXBsYWNlKC9cXFxcLy9nLCBcXCd+MVxcJyknKVxuICAgICAgICAgICAgICA6IChpc051bWJlciA/ICdcXCdbXFwnICsgJyArIGV4cHIgKyAnICsgXFwnXVxcJycgOiAnXFwnW1xcXFxcXCdcXCcgKyAnICsgZXhwciArICcgKyBcXCdcXFxcXFwnXVxcJycpO1xuICByZXR1cm4gam9pblBhdGhzKGN1cnJlbnRQYXRoLCBwYXRoKTtcbn1cblxuXG5mdW5jdGlvbiBnZXRQYXRoKGN1cnJlbnRQYXRoLCBwcm9wLCBqc29uUG9pbnRlcnMpIHtcbiAgdmFyIHBhdGggPSBqc29uUG9pbnRlcnMgLy8gZmFsc2UgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICA/IHRvUXVvdGVkU3RyaW5nKCcvJyArIGVzY2FwZUpzb25Qb2ludGVyKHByb3ApKVxuICAgICAgICAgICAgICA6IHRvUXVvdGVkU3RyaW5nKGdldFByb3BlcnR5KHByb3ApKTtcbiAgcmV0dXJuIGpvaW5QYXRocyhjdXJyZW50UGF0aCwgcGF0aCk7XG59XG5cblxudmFyIEpTT05fUE9JTlRFUiA9IC9eXFwvKD86W15+XXx+MHx+MSkqJC87XG52YXIgUkVMQVRJVkVfSlNPTl9QT0lOVEVSID0gL14oWzAtOV0rKSgjfFxcLyg/Oltefl18fjB8fjEpKik/JC87XG5mdW5jdGlvbiBnZXREYXRhKCRkYXRhLCBsdmwsIHBhdGhzKSB7XG4gIHZhciB1cCwganNvblBvaW50ZXIsIGRhdGEsIG1hdGNoZXM7XG4gIGlmICgkZGF0YSA9PT0gJycpIHJldHVybiAncm9vdERhdGEnO1xuICBpZiAoJGRhdGFbMF0gPT0gJy8nKSB7XG4gICAgaWYgKCFKU09OX1BPSU5URVIudGVzdCgkZGF0YSkpIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBKU09OLXBvaW50ZXI6ICcgKyAkZGF0YSk7XG4gICAganNvblBvaW50ZXIgPSAkZGF0YTtcbiAgICBkYXRhID0gJ3Jvb3REYXRhJztcbiAgfSBlbHNlIHtcbiAgICBtYXRjaGVzID0gJGRhdGEubWF0Y2goUkVMQVRJVkVfSlNPTl9QT0lOVEVSKTtcbiAgICBpZiAoIW1hdGNoZXMpIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBKU09OLXBvaW50ZXI6ICcgKyAkZGF0YSk7XG4gICAgdXAgPSArbWF0Y2hlc1sxXTtcbiAgICBqc29uUG9pbnRlciA9IG1hdGNoZXNbMl07XG4gICAgaWYgKGpzb25Qb2ludGVyID09ICcjJykge1xuICAgICAgaWYgKHVwID49IGx2bCkgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYWNjZXNzIHByb3BlcnR5L2luZGV4ICcgKyB1cCArICcgbGV2ZWxzIHVwLCBjdXJyZW50IGxldmVsIGlzICcgKyBsdmwpO1xuICAgICAgcmV0dXJuIHBhdGhzW2x2bCAtIHVwXTtcbiAgICB9XG5cbiAgICBpZiAodXAgPiBsdmwpIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFjY2VzcyBkYXRhICcgKyB1cCArICcgbGV2ZWxzIHVwLCBjdXJyZW50IGxldmVsIGlzICcgKyBsdmwpO1xuICAgIGRhdGEgPSAnZGF0YScgKyAoKGx2bCAtIHVwKSB8fCAnJyk7XG4gICAgaWYgKCFqc29uUG9pbnRlcikgcmV0dXJuIGRhdGE7XG4gIH1cblxuICB2YXIgZXhwciA9IGRhdGE7XG4gIHZhciBzZWdtZW50cyA9IGpzb25Qb2ludGVyLnNwbGl0KCcvJyk7XG4gIGZvciAodmFyIGk9MDsgaTxzZWdtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzZWdtZW50ID0gc2VnbWVudHNbaV07XG4gICAgaWYgKHNlZ21lbnQpIHtcbiAgICAgIGRhdGEgKz0gZ2V0UHJvcGVydHkodW5lc2NhcGVKc29uUG9pbnRlcihzZWdtZW50KSk7XG4gICAgICBleHByICs9ICcgJiYgJyArIGRhdGE7XG4gICAgfVxuICB9XG4gIHJldHVybiBleHByO1xufVxuXG5cbmZ1bmN0aW9uIGpvaW5QYXRocyAoYSwgYikge1xuICBpZiAoYSA9PSAnXCJcIicpIHJldHVybiBiO1xuICByZXR1cm4gKGEgKyAnICsgJyArIGIpLnJlcGxhY2UoLyhbXlxcXFxdKScgXFwrICcvZywgJyQxJyk7XG59XG5cblxuZnVuY3Rpb24gdW5lc2NhcGVGcmFnbWVudChzdHIpIHtcbiAgcmV0dXJuIHVuZXNjYXBlSnNvblBvaW50ZXIoZGVjb2RlVVJJQ29tcG9uZW50KHN0cikpO1xufVxuXG5cbmZ1bmN0aW9uIGVzY2FwZUZyYWdtZW50KHN0cikge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGVzY2FwZUpzb25Qb2ludGVyKHN0cikpO1xufVxuXG5cbmZ1bmN0aW9uIGVzY2FwZUpzb25Qb2ludGVyKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL34vZywgJ34wJykucmVwbGFjZSgvXFwvL2csICd+MScpO1xufVxuXG5cbmZ1bmN0aW9uIHVuZXNjYXBlSnNvblBvaW50ZXIoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvfjEvZywgJy8nKS5yZXBsYWNlKC9+MC9nLCAnficpO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFNjaGVtYU9iamVjdDtcblxuZnVuY3Rpb24gU2NoZW1hT2JqZWN0KG9iaikge1xuICB1dGlsLmNvcHkob2JqLCB0aGlzKTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHRyYXZlcnNlID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc2NoZW1hLCBvcHRzLCBjYikge1xuICAvLyBMZWdhY3kgc3VwcG9ydCBmb3IgdjAuMy4xIGFuZCBlYXJsaWVyLlxuICBpZiAodHlwZW9mIG9wdHMgPT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cblxuICBjYiA9IG9wdHMuY2IgfHwgY2I7XG4gIHZhciBwcmUgPSAodHlwZW9mIGNiID09ICdmdW5jdGlvbicpID8gY2IgOiBjYi5wcmUgfHwgZnVuY3Rpb24oKSB7fTtcbiAgdmFyIHBvc3QgPSBjYi5wb3N0IHx8IGZ1bmN0aW9uKCkge307XG5cbiAgX3RyYXZlcnNlKG9wdHMsIHByZSwgcG9zdCwgc2NoZW1hLCAnJywgc2NoZW1hKTtcbn07XG5cblxudHJhdmVyc2Uua2V5d29yZHMgPSB7XG4gIGFkZGl0aW9uYWxJdGVtczogdHJ1ZSxcbiAgaXRlbXM6IHRydWUsXG4gIGNvbnRhaW5zOiB0cnVlLFxuICBhZGRpdGlvbmFsUHJvcGVydGllczogdHJ1ZSxcbiAgcHJvcGVydHlOYW1lczogdHJ1ZSxcbiAgbm90OiB0cnVlXG59O1xuXG50cmF2ZXJzZS5hcnJheUtleXdvcmRzID0ge1xuICBpdGVtczogdHJ1ZSxcbiAgYWxsT2Y6IHRydWUsXG4gIGFueU9mOiB0cnVlLFxuICBvbmVPZjogdHJ1ZVxufTtcblxudHJhdmVyc2UucHJvcHNLZXl3b3JkcyA9IHtcbiAgZGVmaW5pdGlvbnM6IHRydWUsXG4gIHByb3BlcnRpZXM6IHRydWUsXG4gIHBhdHRlcm5Qcm9wZXJ0aWVzOiB0cnVlLFxuICBkZXBlbmRlbmNpZXM6IHRydWVcbn07XG5cbnRyYXZlcnNlLnNraXBLZXl3b3JkcyA9IHtcbiAgZGVmYXVsdDogdHJ1ZSxcbiAgZW51bTogdHJ1ZSxcbiAgY29uc3Q6IHRydWUsXG4gIHJlcXVpcmVkOiB0cnVlLFxuICBtYXhpbXVtOiB0cnVlLFxuICBtaW5pbXVtOiB0cnVlLFxuICBleGNsdXNpdmVNYXhpbXVtOiB0cnVlLFxuICBleGNsdXNpdmVNaW5pbXVtOiB0cnVlLFxuICBtdWx0aXBsZU9mOiB0cnVlLFxuICBtYXhMZW5ndGg6IHRydWUsXG4gIG1pbkxlbmd0aDogdHJ1ZSxcbiAgcGF0dGVybjogdHJ1ZSxcbiAgZm9ybWF0OiB0cnVlLFxuICBtYXhJdGVtczogdHJ1ZSxcbiAgbWluSXRlbXM6IHRydWUsXG4gIHVuaXF1ZUl0ZW1zOiB0cnVlLFxuICBtYXhQcm9wZXJ0aWVzOiB0cnVlLFxuICBtaW5Qcm9wZXJ0aWVzOiB0cnVlXG59O1xuXG5cbmZ1bmN0aW9uIF90cmF2ZXJzZShvcHRzLCBwcmUsIHBvc3QsIHNjaGVtYSwganNvblB0ciwgcm9vdFNjaGVtYSwgcGFyZW50SnNvblB0ciwgcGFyZW50S2V5d29yZCwgcGFyZW50U2NoZW1hLCBrZXlJbmRleCkge1xuICBpZiAoc2NoZW1hICYmIHR5cGVvZiBzY2hlbWEgPT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoc2NoZW1hKSkge1xuICAgIHByZShzY2hlbWEsIGpzb25QdHIsIHJvb3RTY2hlbWEsIHBhcmVudEpzb25QdHIsIHBhcmVudEtleXdvcmQsIHBhcmVudFNjaGVtYSwga2V5SW5kZXgpO1xuICAgIGZvciAodmFyIGtleSBpbiBzY2hlbWEpIHtcbiAgICAgIHZhciBzY2ggPSBzY2hlbWFba2V5XTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjaCkpIHtcbiAgICAgICAgaWYgKGtleSBpbiB0cmF2ZXJzZS5hcnJheUtleXdvcmRzKSB7XG4gICAgICAgICAgZm9yICh2YXIgaT0wOyBpPHNjaC5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIF90cmF2ZXJzZShvcHRzLCBwcmUsIHBvc3QsIHNjaFtpXSwganNvblB0ciArICcvJyArIGtleSArICcvJyArIGksIHJvb3RTY2hlbWEsIGpzb25QdHIsIGtleSwgc2NoZW1hLCBpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChrZXkgaW4gdHJhdmVyc2UucHJvcHNLZXl3b3Jkcykge1xuICAgICAgICBpZiAoc2NoICYmIHR5cGVvZiBzY2ggPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHNjaClcbiAgICAgICAgICAgIF90cmF2ZXJzZShvcHRzLCBwcmUsIHBvc3QsIHNjaFtwcm9wXSwganNvblB0ciArICcvJyArIGtleSArICcvJyArIGVzY2FwZUpzb25QdHIocHJvcCksIHJvb3RTY2hlbWEsIGpzb25QdHIsIGtleSwgc2NoZW1hLCBwcm9wKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChrZXkgaW4gdHJhdmVyc2Uua2V5d29yZHMgfHwgKG9wdHMuYWxsS2V5cyAmJiAhKGtleSBpbiB0cmF2ZXJzZS5za2lwS2V5d29yZHMpKSkge1xuICAgICAgICBfdHJhdmVyc2Uob3B0cywgcHJlLCBwb3N0LCBzY2gsIGpzb25QdHIgKyAnLycgKyBrZXksIHJvb3RTY2hlbWEsIGpzb25QdHIsIGtleSwgc2NoZW1hKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcG9zdChzY2hlbWEsIGpzb25QdHIsIHJvb3RTY2hlbWEsIHBhcmVudEpzb25QdHIsIHBhcmVudEtleXdvcmQsIHBhcmVudFNjaGVtYSwga2V5SW5kZXgpO1xuICB9XG59XG5cblxuZnVuY3Rpb24gZXNjYXBlSnNvblB0cihzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9+L2csICd+MCcpLnJlcGxhY2UoL1xcLy9nLCAnfjEnKTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFVSSSA9IHJlcXVpcmUoJ3VyaS1qcycpXG4gICwgZXF1YWwgPSByZXF1aXJlKCdmYXN0LWRlZXAtZXF1YWwnKVxuICAsIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKVxuICAsIFNjaGVtYU9iamVjdCA9IHJlcXVpcmUoJy4vc2NoZW1hX29iaicpXG4gICwgdHJhdmVyc2UgPSByZXF1aXJlKCdqc29uLXNjaGVtYS10cmF2ZXJzZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlc29sdmU7XG5cbnJlc29sdmUubm9ybWFsaXplSWQgPSBub3JtYWxpemVJZDtcbnJlc29sdmUuZnVsbFBhdGggPSBnZXRGdWxsUGF0aDtcbnJlc29sdmUudXJsID0gcmVzb2x2ZVVybDtcbnJlc29sdmUuaWRzID0gcmVzb2x2ZUlkcztcbnJlc29sdmUuaW5saW5lUmVmID0gaW5saW5lUmVmO1xucmVzb2x2ZS5zY2hlbWEgPSByZXNvbHZlU2NoZW1hO1xuXG4vKipcbiAqIFtyZXNvbHZlIGFuZCBjb21waWxlIHRoZSByZWZlcmVuY2VzICgkcmVmKV1cbiAqIEB0aGlzICAgQWp2XG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gY29tcGlsZSByZWZlcmVuY2UgdG8gc2NoZW1hIGNvbXBpbGF0aW9uIGZ1bmNpdG9uIChsb2NhbENvbXBpbGUpXG4gKiBAcGFyYW0gIHtPYmplY3R9IHJvb3Qgb2JqZWN0IHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIHJvb3Qgc2NoZW1hIGZvciB0aGUgY3VycmVudCBzY2hlbWFcbiAqIEBwYXJhbSAge1N0cmluZ30gcmVmIHJlZmVyZW5jZSB0byByZXNvbHZlXG4gKiBAcmV0dXJuIHtPYmplY3R8RnVuY3Rpb259IHNjaGVtYSBvYmplY3QgKGlmIHRoZSBzY2hlbWEgY2FuIGJlIGlubGluZWQpIG9yIHZhbGlkYXRpb24gZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZShjb21waWxlLCByb290LCByZWYpIHtcbiAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICB2YXIgcmVmVmFsID0gdGhpcy5fcmVmc1tyZWZdO1xuICBpZiAodHlwZW9mIHJlZlZhbCA9PSAnc3RyaW5nJykge1xuICAgIGlmICh0aGlzLl9yZWZzW3JlZlZhbF0pIHJlZlZhbCA9IHRoaXMuX3JlZnNbcmVmVmFsXTtcbiAgICBlbHNlIHJldHVybiByZXNvbHZlLmNhbGwodGhpcywgY29tcGlsZSwgcm9vdCwgcmVmVmFsKTtcbiAgfVxuXG4gIHJlZlZhbCA9IHJlZlZhbCB8fCB0aGlzLl9zY2hlbWFzW3JlZl07XG4gIGlmIChyZWZWYWwgaW5zdGFuY2VvZiBTY2hlbWFPYmplY3QpIHtcbiAgICByZXR1cm4gaW5saW5lUmVmKHJlZlZhbC5zY2hlbWEsIHRoaXMuX29wdHMuaW5saW5lUmVmcylcbiAgICAgICAgICAgID8gcmVmVmFsLnNjaGVtYVxuICAgICAgICAgICAgOiByZWZWYWwudmFsaWRhdGUgfHwgdGhpcy5fY29tcGlsZShyZWZWYWwpO1xuICB9XG5cbiAgdmFyIHJlcyA9IHJlc29sdmVTY2hlbWEuY2FsbCh0aGlzLCByb290LCByZWYpO1xuICB2YXIgc2NoZW1hLCB2LCBiYXNlSWQ7XG4gIGlmIChyZXMpIHtcbiAgICBzY2hlbWEgPSByZXMuc2NoZW1hO1xuICAgIHJvb3QgPSByZXMucm9vdDtcbiAgICBiYXNlSWQgPSByZXMuYmFzZUlkO1xuICB9XG5cbiAgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFNjaGVtYU9iamVjdCkge1xuICAgIHYgPSBzY2hlbWEudmFsaWRhdGUgfHwgY29tcGlsZS5jYWxsKHRoaXMsIHNjaGVtYS5zY2hlbWEsIHJvb3QsIHVuZGVmaW5lZCwgYmFzZUlkKTtcbiAgfSBlbHNlIGlmIChzY2hlbWEgIT09IHVuZGVmaW5lZCkge1xuICAgIHYgPSBpbmxpbmVSZWYoc2NoZW1hLCB0aGlzLl9vcHRzLmlubGluZVJlZnMpXG4gICAgICAgID8gc2NoZW1hXG4gICAgICAgIDogY29tcGlsZS5jYWxsKHRoaXMsIHNjaGVtYSwgcm9vdCwgdW5kZWZpbmVkLCBiYXNlSWQpO1xuICB9XG5cbiAgcmV0dXJuIHY7XG59XG5cblxuLyoqXG4gKiBSZXNvbHZlIHNjaGVtYSwgaXRzIHJvb3QgYW5kIGJhc2VJZFxuICogQHRoaXMgQWp2XG4gKiBAcGFyYW0gIHtPYmplY3R9IHJvb3Qgcm9vdCBvYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIHNjaGVtYSwgcmVmVmFsLCByZWZzXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHJlZiAgcmVmZXJlbmNlIHRvIHJlc29sdmVcbiAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHdpdGggcHJvcGVydGllcyBzY2hlbWEsIHJvb3QsIGJhc2VJZFxuICovXG5mdW5jdGlvbiByZXNvbHZlU2NoZW1hKHJvb3QsIHJlZikge1xuICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gIHZhciBwID0gVVJJLnBhcnNlKHJlZilcbiAgICAsIHJlZlBhdGggPSBfZ2V0RnVsbFBhdGgocClcbiAgICAsIGJhc2VJZCA9IGdldEZ1bGxQYXRoKHRoaXMuX2dldElkKHJvb3Quc2NoZW1hKSk7XG4gIGlmIChPYmplY3Qua2V5cyhyb290LnNjaGVtYSkubGVuZ3RoID09PSAwIHx8IHJlZlBhdGggIT09IGJhc2VJZCkge1xuICAgIHZhciBpZCA9IG5vcm1hbGl6ZUlkKHJlZlBhdGgpO1xuICAgIHZhciByZWZWYWwgPSB0aGlzLl9yZWZzW2lkXTtcbiAgICBpZiAodHlwZW9mIHJlZlZhbCA9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIHJlc29sdmVSZWN1cnNpdmUuY2FsbCh0aGlzLCByb290LCByZWZWYWwsIHApO1xuICAgIH0gZWxzZSBpZiAocmVmVmFsIGluc3RhbmNlb2YgU2NoZW1hT2JqZWN0KSB7XG4gICAgICBpZiAoIXJlZlZhbC52YWxpZGF0ZSkgdGhpcy5fY29tcGlsZShyZWZWYWwpO1xuICAgICAgcm9vdCA9IHJlZlZhbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVmVmFsID0gdGhpcy5fc2NoZW1hc1tpZF07XG4gICAgICBpZiAocmVmVmFsIGluc3RhbmNlb2YgU2NoZW1hT2JqZWN0KSB7XG4gICAgICAgIGlmICghcmVmVmFsLnZhbGlkYXRlKSB0aGlzLl9jb21waWxlKHJlZlZhbCk7XG4gICAgICAgIGlmIChpZCA9PSBub3JtYWxpemVJZChyZWYpKVxuICAgICAgICAgIHJldHVybiB7IHNjaGVtYTogcmVmVmFsLCByb290OiByb290LCBiYXNlSWQ6IGJhc2VJZCB9O1xuICAgICAgICByb290ID0gcmVmVmFsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXJvb3Quc2NoZW1hKSByZXR1cm47XG4gICAgYmFzZUlkID0gZ2V0RnVsbFBhdGgodGhpcy5fZ2V0SWQocm9vdC5zY2hlbWEpKTtcbiAgfVxuICByZXR1cm4gZ2V0SnNvblBvaW50ZXIuY2FsbCh0aGlzLCBwLCBiYXNlSWQsIHJvb3Quc2NoZW1hLCByb290KTtcbn1cblxuXG4vKiBAdGhpcyBBanYgKi9cbmZ1bmN0aW9uIHJlc29sdmVSZWN1cnNpdmUocm9vdCwgcmVmLCBwYXJzZWRSZWYpIHtcbiAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICB2YXIgcmVzID0gcmVzb2x2ZVNjaGVtYS5jYWxsKHRoaXMsIHJvb3QsIHJlZik7XG4gIGlmIChyZXMpIHtcbiAgICB2YXIgc2NoZW1hID0gcmVzLnNjaGVtYTtcbiAgICB2YXIgYmFzZUlkID0gcmVzLmJhc2VJZDtcbiAgICByb290ID0gcmVzLnJvb3Q7XG4gICAgdmFyIGlkID0gdGhpcy5fZ2V0SWQoc2NoZW1hKTtcbiAgICBpZiAoaWQpIGJhc2VJZCA9IHJlc29sdmVVcmwoYmFzZUlkLCBpZCk7XG4gICAgcmV0dXJuIGdldEpzb25Qb2ludGVyLmNhbGwodGhpcywgcGFyc2VkUmVmLCBiYXNlSWQsIHNjaGVtYSwgcm9vdCk7XG4gIH1cbn1cblxuXG52YXIgUFJFVkVOVF9TQ09QRV9DSEFOR0UgPSB1dGlsLnRvSGFzaChbJ3Byb3BlcnRpZXMnLCAncGF0dGVyblByb3BlcnRpZXMnLCAnZW51bScsICdkZXBlbmRlbmNpZXMnLCAnZGVmaW5pdGlvbnMnXSk7XG4vKiBAdGhpcyBBanYgKi9cbmZ1bmN0aW9uIGdldEpzb25Qb2ludGVyKHBhcnNlZFJlZiwgYmFzZUlkLCBzY2hlbWEsIHJvb3QpIHtcbiAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICBwYXJzZWRSZWYuZnJhZ21lbnQgPSBwYXJzZWRSZWYuZnJhZ21lbnQgfHwgJyc7XG4gIGlmIChwYXJzZWRSZWYuZnJhZ21lbnQuc2xpY2UoMCwxKSAhPSAnLycpIHJldHVybjtcbiAgdmFyIHBhcnRzID0gcGFyc2VkUmVmLmZyYWdtZW50LnNwbGl0KCcvJyk7XG5cbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBwYXJ0ID0gcGFydHNbaV07XG4gICAgaWYgKHBhcnQpIHtcbiAgICAgIHBhcnQgPSB1dGlsLnVuZXNjYXBlRnJhZ21lbnQocGFydCk7XG4gICAgICBzY2hlbWEgPSBzY2hlbWFbcGFydF07XG4gICAgICBpZiAoc2NoZW1hID09PSB1bmRlZmluZWQpIGJyZWFrO1xuICAgICAgdmFyIGlkO1xuICAgICAgaWYgKCFQUkVWRU5UX1NDT1BFX0NIQU5HRVtwYXJ0XSkge1xuICAgICAgICBpZCA9IHRoaXMuX2dldElkKHNjaGVtYSk7XG4gICAgICAgIGlmIChpZCkgYmFzZUlkID0gcmVzb2x2ZVVybChiYXNlSWQsIGlkKTtcbiAgICAgICAgaWYgKHNjaGVtYS4kcmVmKSB7XG4gICAgICAgICAgdmFyICRyZWYgPSByZXNvbHZlVXJsKGJhc2VJZCwgc2NoZW1hLiRyZWYpO1xuICAgICAgICAgIHZhciByZXMgPSByZXNvbHZlU2NoZW1hLmNhbGwodGhpcywgcm9vdCwgJHJlZik7XG4gICAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgc2NoZW1hID0gcmVzLnNjaGVtYTtcbiAgICAgICAgICAgIHJvb3QgPSByZXMucm9vdDtcbiAgICAgICAgICAgIGJhc2VJZCA9IHJlcy5iYXNlSWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChzY2hlbWEgIT09IHVuZGVmaW5lZCAmJiBzY2hlbWEgIT09IHJvb3Quc2NoZW1hKVxuICAgIHJldHVybiB7IHNjaGVtYTogc2NoZW1hLCByb290OiByb290LCBiYXNlSWQ6IGJhc2VJZCB9O1xufVxuXG5cbnZhciBTSU1QTEVfSU5MSU5FRCA9IHV0aWwudG9IYXNoKFtcbiAgJ3R5cGUnLCAnZm9ybWF0JywgJ3BhdHRlcm4nLFxuICAnbWF4TGVuZ3RoJywgJ21pbkxlbmd0aCcsXG4gICdtYXhQcm9wZXJ0aWVzJywgJ21pblByb3BlcnRpZXMnLFxuICAnbWF4SXRlbXMnLCAnbWluSXRlbXMnLFxuICAnbWF4aW11bScsICdtaW5pbXVtJyxcbiAgJ3VuaXF1ZUl0ZW1zJywgJ211bHRpcGxlT2YnLFxuICAncmVxdWlyZWQnLCAnZW51bSdcbl0pO1xuZnVuY3Rpb24gaW5saW5lUmVmKHNjaGVtYSwgbGltaXQpIHtcbiAgaWYgKGxpbWl0ID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuICBpZiAobGltaXQgPT09IHVuZGVmaW5lZCB8fCBsaW1pdCA9PT0gdHJ1ZSkgcmV0dXJuIGNoZWNrTm9SZWYoc2NoZW1hKTtcbiAgZWxzZSBpZiAobGltaXQpIHJldHVybiBjb3VudEtleXMoc2NoZW1hKSA8PSBsaW1pdDtcbn1cblxuXG5mdW5jdGlvbiBjaGVja05vUmVmKHNjaGVtYSkge1xuICB2YXIgaXRlbTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hKSkge1xuICAgIGZvciAodmFyIGk9MDsgaTxzY2hlbWEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGl0ZW0gPSBzY2hlbWFbaV07XG4gICAgICBpZiAodHlwZW9mIGl0ZW0gPT0gJ29iamVjdCcgJiYgIWNoZWNrTm9SZWYoaXRlbSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIga2V5IGluIHNjaGVtYSkge1xuICAgICAgaWYgKGtleSA9PSAnJHJlZicpIHJldHVybiBmYWxzZTtcbiAgICAgIGl0ZW0gPSBzY2hlbWFba2V5XTtcbiAgICAgIGlmICh0eXBlb2YgaXRlbSA9PSAnb2JqZWN0JyAmJiAhY2hlY2tOb1JlZihpdGVtKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuXG5mdW5jdGlvbiBjb3VudEtleXMoc2NoZW1hKSB7XG4gIHZhciBjb3VudCA9IDAsIGl0ZW07XG4gIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYSkpIHtcbiAgICBmb3IgKHZhciBpPTA7IGk8c2NoZW1hLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpdGVtID0gc2NoZW1hW2ldO1xuICAgICAgaWYgKHR5cGVvZiBpdGVtID09ICdvYmplY3QnKSBjb3VudCArPSBjb3VudEtleXMoaXRlbSk7XG4gICAgICBpZiAoY291bnQgPT0gSW5maW5pdHkpIHJldHVybiBJbmZpbml0eTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIga2V5IGluIHNjaGVtYSkge1xuICAgICAgaWYgKGtleSA9PSAnJHJlZicpIHJldHVybiBJbmZpbml0eTtcbiAgICAgIGlmIChTSU1QTEVfSU5MSU5FRFtrZXldKSB7XG4gICAgICAgIGNvdW50Kys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtID0gc2NoZW1hW2tleV07XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PSAnb2JqZWN0JykgY291bnQgKz0gY291bnRLZXlzKGl0ZW0pICsgMTtcbiAgICAgICAgaWYgKGNvdW50ID09IEluZmluaXR5KSByZXR1cm4gSW5maW5pdHk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBjb3VudDtcbn1cblxuXG5mdW5jdGlvbiBnZXRGdWxsUGF0aChpZCwgbm9ybWFsaXplKSB7XG4gIGlmIChub3JtYWxpemUgIT09IGZhbHNlKSBpZCA9IG5vcm1hbGl6ZUlkKGlkKTtcbiAgdmFyIHAgPSBVUkkucGFyc2UoaWQpO1xuICByZXR1cm4gX2dldEZ1bGxQYXRoKHApO1xufVxuXG5cbmZ1bmN0aW9uIF9nZXRGdWxsUGF0aChwKSB7XG4gIHJldHVybiBVUkkuc2VyaWFsaXplKHApLnNwbGl0KCcjJylbMF0gKyAnIyc7XG59XG5cblxudmFyIFRSQUlMSU5HX1NMQVNIX0hBU0ggPSAvI1xcLz8kLztcbmZ1bmN0aW9uIG5vcm1hbGl6ZUlkKGlkKSB7XG4gIHJldHVybiBpZCA/IGlkLnJlcGxhY2UoVFJBSUxJTkdfU0xBU0hfSEFTSCwgJycpIDogJyc7XG59XG5cblxuZnVuY3Rpb24gcmVzb2x2ZVVybChiYXNlSWQsIGlkKSB7XG4gIGlkID0gbm9ybWFsaXplSWQoaWQpO1xuICByZXR1cm4gVVJJLnJlc29sdmUoYmFzZUlkLCBpZCk7XG59XG5cblxuLyogQHRoaXMgQWp2ICovXG5mdW5jdGlvbiByZXNvbHZlSWRzKHNjaGVtYSkge1xuICB2YXIgc2NoZW1hSWQgPSBub3JtYWxpemVJZCh0aGlzLl9nZXRJZChzY2hlbWEpKTtcbiAgdmFyIGJhc2VJZHMgPSB7Jyc6IHNjaGVtYUlkfTtcbiAgdmFyIGZ1bGxQYXRocyA9IHsnJzogZ2V0RnVsbFBhdGgoc2NoZW1hSWQsIGZhbHNlKX07XG4gIHZhciBsb2NhbFJlZnMgPSB7fTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIHRyYXZlcnNlKHNjaGVtYSwge2FsbEtleXM6IHRydWV9LCBmdW5jdGlvbihzY2gsIGpzb25QdHIsIHJvb3RTY2hlbWEsIHBhcmVudEpzb25QdHIsIHBhcmVudEtleXdvcmQsIHBhcmVudFNjaGVtYSwga2V5SW5kZXgpIHtcbiAgICBpZiAoanNvblB0ciA9PT0gJycpIHJldHVybjtcbiAgICB2YXIgaWQgPSBzZWxmLl9nZXRJZChzY2gpO1xuICAgIHZhciBiYXNlSWQgPSBiYXNlSWRzW3BhcmVudEpzb25QdHJdO1xuICAgIHZhciBmdWxsUGF0aCA9IGZ1bGxQYXRoc1twYXJlbnRKc29uUHRyXSArICcvJyArIHBhcmVudEtleXdvcmQ7XG4gICAgaWYgKGtleUluZGV4ICE9PSB1bmRlZmluZWQpXG4gICAgICBmdWxsUGF0aCArPSAnLycgKyAodHlwZW9mIGtleUluZGV4ID09ICdudW1iZXInID8ga2V5SW5kZXggOiB1dGlsLmVzY2FwZUZyYWdtZW50KGtleUluZGV4KSk7XG5cbiAgICBpZiAodHlwZW9mIGlkID09ICdzdHJpbmcnKSB7XG4gICAgICBpZCA9IGJhc2VJZCA9IG5vcm1hbGl6ZUlkKGJhc2VJZCA/IFVSSS5yZXNvbHZlKGJhc2VJZCwgaWQpIDogaWQpO1xuXG4gICAgICB2YXIgcmVmVmFsID0gc2VsZi5fcmVmc1tpZF07XG4gICAgICBpZiAodHlwZW9mIHJlZlZhbCA9PSAnc3RyaW5nJykgcmVmVmFsID0gc2VsZi5fcmVmc1tyZWZWYWxdO1xuICAgICAgaWYgKHJlZlZhbCAmJiByZWZWYWwuc2NoZW1hKSB7XG4gICAgICAgIGlmICghZXF1YWwoc2NoLCByZWZWYWwuc2NoZW1hKSlcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2lkIFwiJyArIGlkICsgJ1wiIHJlc29sdmVzIHRvIG1vcmUgdGhhbiBvbmUgc2NoZW1hJyk7XG4gICAgICB9IGVsc2UgaWYgKGlkICE9IG5vcm1hbGl6ZUlkKGZ1bGxQYXRoKSkge1xuICAgICAgICBpZiAoaWRbMF0gPT0gJyMnKSB7XG4gICAgICAgICAgaWYgKGxvY2FsUmVmc1tpZF0gJiYgIWVxdWFsKHNjaCwgbG9jYWxSZWZzW2lkXSkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2lkIFwiJyArIGlkICsgJ1wiIHJlc29sdmVzIHRvIG1vcmUgdGhhbiBvbmUgc2NoZW1hJyk7XG4gICAgICAgICAgbG9jYWxSZWZzW2lkXSA9IHNjaDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLl9yZWZzW2lkXSA9IGZ1bGxQYXRoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGJhc2VJZHNbanNvblB0cl0gPSBiYXNlSWQ7XG4gICAgZnVsbFBhdGhzW2pzb25QdHJdID0gZnVsbFBhdGg7XG4gIH0pO1xuXG4gIHJldHVybiBsb2NhbFJlZnM7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciByZXNvbHZlID0gcmVxdWlyZSgnLi9yZXNvbHZlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBWYWxpZGF0aW9uOiBlcnJvclN1YmNsYXNzKFZhbGlkYXRpb25FcnJvciksXG4gIE1pc3NpbmdSZWY6IGVycm9yU3ViY2xhc3MoTWlzc2luZ1JlZkVycm9yKVxufTtcblxuXG5mdW5jdGlvbiBWYWxpZGF0aW9uRXJyb3IoZXJyb3JzKSB7XG4gIHRoaXMubWVzc2FnZSA9ICd2YWxpZGF0aW9uIGZhaWxlZCc7XG4gIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICB0aGlzLmFqdiA9IHRoaXMudmFsaWRhdGlvbiA9IHRydWU7XG59XG5cblxuTWlzc2luZ1JlZkVycm9yLm1lc3NhZ2UgPSBmdW5jdGlvbiAoYmFzZUlkLCByZWYpIHtcbiAgcmV0dXJuICdjYW5cXCd0IHJlc29sdmUgcmVmZXJlbmNlICcgKyByZWYgKyAnIGZyb20gaWQgJyArIGJhc2VJZDtcbn07XG5cblxuZnVuY3Rpb24gTWlzc2luZ1JlZkVycm9yKGJhc2VJZCwgcmVmLCBtZXNzYWdlKSB7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2UgfHwgTWlzc2luZ1JlZkVycm9yLm1lc3NhZ2UoYmFzZUlkLCByZWYpO1xuICB0aGlzLm1pc3NpbmdSZWYgPSByZXNvbHZlLnVybChiYXNlSWQsIHJlZik7XG4gIHRoaXMubWlzc2luZ1NjaGVtYSA9IHJlc29sdmUubm9ybWFsaXplSWQocmVzb2x2ZS5mdWxsUGF0aCh0aGlzLm1pc3NpbmdSZWYpKTtcbn1cblxuXG5mdW5jdGlvbiBlcnJvclN1YmNsYXNzKFN1YmNsYXNzKSB7XG4gIFN1YmNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbiAgU3ViY2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3ViY2xhc3M7XG4gIHJldHVybiBTdWJjbGFzcztcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZGF0YSwgb3B0cykge1xuICAgIGlmICghb3B0cykgb3B0cyA9IHt9O1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykgb3B0cyA9IHsgY21wOiBvcHRzIH07XG4gICAgdmFyIGN5Y2xlcyA9ICh0eXBlb2Ygb3B0cy5jeWNsZXMgPT09ICdib29sZWFuJykgPyBvcHRzLmN5Y2xlcyA6IGZhbHNlO1xuXG4gICAgdmFyIGNtcCA9IG9wdHMuY21wICYmIChmdW5jdGlvbiAoZikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgIHZhciBhb2JqID0geyBrZXk6IGEsIHZhbHVlOiBub2RlW2FdIH07XG4gICAgICAgICAgICAgICAgdmFyIGJvYmogPSB7IGtleTogYiwgdmFsdWU6IG5vZGVbYl0gfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZihhb2JqLCBib2JqKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfSkob3B0cy5jbXApO1xuXG4gICAgdmFyIHNlZW4gPSBbXTtcbiAgICByZXR1cm4gKGZ1bmN0aW9uIHN0cmluZ2lmeSAobm9kZSkge1xuICAgICAgICBpZiAobm9kZSAmJiBub2RlLnRvSlNPTiAmJiB0eXBlb2Ygbm9kZS50b0pTT04gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnRvSlNPTigpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5vZGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgICAgICBpZiAodHlwZW9mIG5vZGUgPT0gJ251bWJlcicpIHJldHVybiBpc0Zpbml0ZShub2RlKSA/ICcnICsgbm9kZSA6ICdudWxsJztcbiAgICAgICAgaWYgKHR5cGVvZiBub2RlICE9PSAnb2JqZWN0JykgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG5vZGUpO1xuXG4gICAgICAgIHZhciBpLCBvdXQ7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5vZGUpKSB7XG4gICAgICAgICAgICBvdXQgPSAnWyc7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChpKSBvdXQgKz0gJywnO1xuICAgICAgICAgICAgICAgIG91dCArPSBzdHJpbmdpZnkobm9kZVtpXSkgfHwgJ251bGwnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dCArICddJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChub2RlID09PSBudWxsKSByZXR1cm4gJ251bGwnO1xuXG4gICAgICAgIGlmIChzZWVuLmluZGV4T2Yobm9kZSkgIT09IC0xKSB7XG4gICAgICAgICAgICBpZiAoY3ljbGVzKSByZXR1cm4gSlNPTi5zdHJpbmdpZnkoJ19fY3ljbGVfXycpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ29udmVydGluZyBjaXJjdWxhciBzdHJ1Y3R1cmUgdG8gSlNPTicpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlZW5JbmRleCA9IHNlZW4ucHVzaChub2RlKSAtIDE7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMobm9kZSkuc29ydChjbXAgJiYgY21wKG5vZGUpKTtcbiAgICAgICAgb3V0ID0gJyc7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHN0cmluZ2lmeShub2RlW2tleV0pO1xuXG4gICAgICAgICAgICBpZiAoIXZhbHVlKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChvdXQpIG91dCArPSAnLCc7XG4gICAgICAgICAgICBvdXQgKz0gSlNPTi5zdHJpbmdpZnkoa2V5KSArICc6JyArIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHNlZW4uc3BsaWNlKHNlZW5JbmRleCwgMSk7XG4gICAgICAgIHJldHVybiAneycgKyBvdXQgKyAnfSc7XG4gICAgfSkoZGF0YSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZW5lcmF0ZV92YWxpZGF0ZShpdCwgJGtleXdvcmQsICRydWxlVHlwZSkge1xuICB2YXIgb3V0ID0gJyc7XG4gIHZhciAkYXN5bmMgPSBpdC5zY2hlbWEuJGFzeW5jID09PSB0cnVlLFxuICAgICRyZWZLZXl3b3JkcyA9IGl0LnV0aWwuc2NoZW1hSGFzUnVsZXNFeGNlcHQoaXQuc2NoZW1hLCBpdC5SVUxFUy5hbGwsICckcmVmJyksXG4gICAgJGlkID0gaXQuc2VsZi5fZ2V0SWQoaXQuc2NoZW1hKTtcbiAgaWYgKGl0Lm9wdHMuc3RyaWN0S2V5d29yZHMpIHtcbiAgICB2YXIgJHVua25vd25Ld2QgPSBpdC51dGlsLnNjaGVtYVVua25vd25SdWxlcyhpdC5zY2hlbWEsIGl0LlJVTEVTLmtleXdvcmRzKTtcbiAgICBpZiAoJHVua25vd25Ld2QpIHtcbiAgICAgIHZhciAka2V5d29yZHNNc2cgPSAndW5rbm93biBrZXl3b3JkOiAnICsgJHVua25vd25Ld2Q7XG4gICAgICBpZiAoaXQub3B0cy5zdHJpY3RLZXl3b3JkcyA9PT0gJ2xvZycpIGl0LmxvZ2dlci53YXJuKCRrZXl3b3Jkc01zZyk7XG4gICAgICBlbHNlIHRocm93IG5ldyBFcnJvcigka2V5d29yZHNNc2cpO1xuICAgIH1cbiAgfVxuICBpZiAoaXQuaXNUb3ApIHtcbiAgICBvdXQgKz0gJyB2YXIgdmFsaWRhdGUgPSAnO1xuICAgIGlmICgkYXN5bmMpIHtcbiAgICAgIGl0LmFzeW5jID0gdHJ1ZTtcbiAgICAgIG91dCArPSAnYXN5bmMgJztcbiAgICB9XG4gICAgb3V0ICs9ICdmdW5jdGlvbihkYXRhLCBkYXRhUGF0aCwgcGFyZW50RGF0YSwgcGFyZW50RGF0YVByb3BlcnR5LCByb290RGF0YSkgeyBcXCd1c2Ugc3RyaWN0XFwnOyAnO1xuICAgIGlmICgkaWQgJiYgKGl0Lm9wdHMuc291cmNlQ29kZSB8fCBpdC5vcHRzLnByb2Nlc3NDb2RlKSkge1xuICAgICAgb3V0ICs9ICcgJyArICgnL1xcKiMgc291cmNlVVJMPScgKyAkaWQgKyAnICovJykgKyAnICc7XG4gICAgfVxuICB9XG4gIGlmICh0eXBlb2YgaXQuc2NoZW1hID09ICdib29sZWFuJyB8fCAhKCRyZWZLZXl3b3JkcyB8fCBpdC5zY2hlbWEuJHJlZikpIHtcbiAgICB2YXIgJGtleXdvcmQgPSAnZmFsc2Ugc2NoZW1hJztcbiAgICB2YXIgJGx2bCA9IGl0LmxldmVsO1xuICAgIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgICB2YXIgJHNjaGVtYSA9IGl0LnNjaGVtYVska2V5d29yZF07XG4gICAgdmFyICRzY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArIGl0LnV0aWwuZ2V0UHJvcGVydHkoJGtleXdvcmQpO1xuICAgIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgICB2YXIgJGJyZWFrT25FcnJvciA9ICFpdC5vcHRzLmFsbEVycm9ycztcbiAgICB2YXIgJGVycm9yS2V5d29yZDtcbiAgICB2YXIgJGRhdGEgPSAnZGF0YScgKyAoJGRhdGFMdmwgfHwgJycpO1xuICAgIHZhciAkdmFsaWQgPSAndmFsaWQnICsgJGx2bDtcbiAgICBpZiAoaXQuc2NoZW1hID09PSBmYWxzZSkge1xuICAgICAgaWYgKGl0LmlzVG9wKSB7XG4gICAgICAgICRicmVha09uRXJyb3IgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJHZhbGlkKSArICcgPSBmYWxzZTsgJztcbiAgICAgIH1cbiAgICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAgICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICAgICAgb3V0ID0gJyc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJGVycm9yS2V5d29yZCB8fCAnZmFsc2Ugc2NoZW1hJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczoge30gJztcbiAgICAgICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdib29sZWFuIHNjaGVtYSBpcyBmYWxzZVxcJyAnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgICBvdXQgKz0gJyAsIHNjaGVtYTogZmFsc2UgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICAgIH1cbiAgICAgICAgb3V0ICs9ICcgfSAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcge30gJztcbiAgICAgIH1cbiAgICAgIHZhciBfX2VyciA9IG91dDtcbiAgICAgIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gICAgICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihbJyArIChfX2VycikgKyAnXSk7ICc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXQuaXNUb3ApIHtcbiAgICAgICAgaWYgKCRhc3luYykge1xuICAgICAgICAgIG91dCArPSAnIHJldHVybiBkYXRhOyAnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IG51bGw7IHJldHVybiB0cnVlOyAnO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJyB2YXIgJyArICgkdmFsaWQpICsgJyA9IHRydWU7ICc7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpdC5pc1RvcCkge1xuICAgICAgb3V0ICs9ICcgfTsgcmV0dXJuIHZhbGlkYXRlOyAnO1xuICAgIH1cbiAgICByZXR1cm4gb3V0O1xuICB9XG4gIGlmIChpdC5pc1RvcCkge1xuICAgIHZhciAkdG9wID0gaXQuaXNUb3AsXG4gICAgICAkbHZsID0gaXQubGV2ZWwgPSAwLFxuICAgICAgJGRhdGFMdmwgPSBpdC5kYXRhTGV2ZWwgPSAwLFxuICAgICAgJGRhdGEgPSAnZGF0YSc7XG4gICAgaXQucm9vdElkID0gaXQucmVzb2x2ZS5mdWxsUGF0aChpdC5zZWxmLl9nZXRJZChpdC5yb290LnNjaGVtYSkpO1xuICAgIGl0LmJhc2VJZCA9IGl0LmJhc2VJZCB8fCBpdC5yb290SWQ7XG4gICAgZGVsZXRlIGl0LmlzVG9wO1xuICAgIGl0LmRhdGFQYXRoQXJyID0gW1wiXCJdO1xuICAgIGlmIChpdC5zY2hlbWEuZGVmYXVsdCAhPT0gdW5kZWZpbmVkICYmIGl0Lm9wdHMudXNlRGVmYXVsdHMgJiYgaXQub3B0cy5zdHJpY3REZWZhdWx0cykge1xuICAgICAgdmFyICRkZWZhdWx0TXNnID0gJ2RlZmF1bHQgaXMgaWdub3JlZCBpbiB0aGUgc2NoZW1hIHJvb3QnO1xuICAgICAgaWYgKGl0Lm9wdHMuc3RyaWN0RGVmYXVsdHMgPT09ICdsb2cnKSBpdC5sb2dnZXIud2FybigkZGVmYXVsdE1zZyk7XG4gICAgICBlbHNlIHRocm93IG5ldyBFcnJvcigkZGVmYXVsdE1zZyk7XG4gICAgfVxuICAgIG91dCArPSAnIHZhciB2RXJyb3JzID0gbnVsbDsgJztcbiAgICBvdXQgKz0gJyB2YXIgZXJyb3JzID0gMDsgICAgICc7XG4gICAgb3V0ICs9ICcgaWYgKHJvb3REYXRhID09PSB1bmRlZmluZWQpIHJvb3REYXRhID0gZGF0YTsgJztcbiAgfSBlbHNlIHtcbiAgICB2YXIgJGx2bCA9IGl0LmxldmVsLFxuICAgICAgJGRhdGFMdmwgPSBpdC5kYXRhTGV2ZWwsXG4gICAgICAkZGF0YSA9ICdkYXRhJyArICgkZGF0YUx2bCB8fCAnJyk7XG4gICAgaWYgKCRpZCkgaXQuYmFzZUlkID0gaXQucmVzb2x2ZS51cmwoaXQuYmFzZUlkLCAkaWQpO1xuICAgIGlmICgkYXN5bmMgJiYgIWl0LmFzeW5jKSB0aHJvdyBuZXcgRXJyb3IoJ2FzeW5jIHNjaGVtYSBpbiBzeW5jIHNjaGVtYScpO1xuICAgIG91dCArPSAnIHZhciBlcnJzXycgKyAoJGx2bCkgKyAnID0gZXJyb3JzOyc7XG4gIH1cbiAgdmFyICR2YWxpZCA9ICd2YWxpZCcgKyAkbHZsLFxuICAgICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnMsXG4gICAgJGNsb3NpbmdCcmFjZXMxID0gJycsXG4gICAgJGNsb3NpbmdCcmFjZXMyID0gJyc7XG4gIHZhciAkZXJyb3JLZXl3b3JkO1xuICB2YXIgJHR5cGVTY2hlbWEgPSBpdC5zY2hlbWEudHlwZSxcbiAgICAkdHlwZUlzQXJyYXkgPSBBcnJheS5pc0FycmF5KCR0eXBlU2NoZW1hKTtcbiAgaWYgKCR0eXBlU2NoZW1hICYmIGl0Lm9wdHMubnVsbGFibGUgJiYgaXQuc2NoZW1hLm51bGxhYmxlID09PSB0cnVlKSB7XG4gICAgaWYgKCR0eXBlSXNBcnJheSkge1xuICAgICAgaWYgKCR0eXBlU2NoZW1hLmluZGV4T2YoJ251bGwnKSA9PSAtMSkgJHR5cGVTY2hlbWEgPSAkdHlwZVNjaGVtYS5jb25jYXQoJ251bGwnKTtcbiAgICB9IGVsc2UgaWYgKCR0eXBlU2NoZW1hICE9ICdudWxsJykge1xuICAgICAgJHR5cGVTY2hlbWEgPSBbJHR5cGVTY2hlbWEsICdudWxsJ107XG4gICAgICAkdHlwZUlzQXJyYXkgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBpZiAoJHR5cGVJc0FycmF5ICYmICR0eXBlU2NoZW1hLmxlbmd0aCA9PSAxKSB7XG4gICAgJHR5cGVTY2hlbWEgPSAkdHlwZVNjaGVtYVswXTtcbiAgICAkdHlwZUlzQXJyYXkgPSBmYWxzZTtcbiAgfVxuICBpZiAoaXQuc2NoZW1hLiRyZWYgJiYgJHJlZktleXdvcmRzKSB7XG4gICAgaWYgKGl0Lm9wdHMuZXh0ZW5kUmVmcyA9PSAnZmFpbCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignJHJlZjogdmFsaWRhdGlvbiBrZXl3b3JkcyB1c2VkIGluIHNjaGVtYSBhdCBwYXRoIFwiJyArIGl0LmVyclNjaGVtYVBhdGggKyAnXCIgKHNlZSBvcHRpb24gZXh0ZW5kUmVmcyknKTtcbiAgICB9IGVsc2UgaWYgKGl0Lm9wdHMuZXh0ZW5kUmVmcyAhPT0gdHJ1ZSkge1xuICAgICAgJHJlZktleXdvcmRzID0gZmFsc2U7XG4gICAgICBpdC5sb2dnZXIud2FybignJHJlZjoga2V5d29yZHMgaWdub3JlZCBpbiBzY2hlbWEgYXQgcGF0aCBcIicgKyBpdC5lcnJTY2hlbWFQYXRoICsgJ1wiJyk7XG4gICAgfVxuICB9XG4gIGlmIChpdC5zY2hlbWEuJGNvbW1lbnQgJiYgaXQub3B0cy4kY29tbWVudCkge1xuICAgIG91dCArPSAnICcgKyAoaXQuUlVMRVMuYWxsLiRjb21tZW50LmNvZGUoaXQsICckY29tbWVudCcpKTtcbiAgfVxuICBpZiAoJHR5cGVTY2hlbWEpIHtcbiAgICBpZiAoaXQub3B0cy5jb2VyY2VUeXBlcykge1xuICAgICAgdmFyICRjb2VyY2VUb1R5cGVzID0gaXQudXRpbC5jb2VyY2VUb1R5cGVzKGl0Lm9wdHMuY29lcmNlVHlwZXMsICR0eXBlU2NoZW1hKTtcbiAgICB9XG4gICAgdmFyICRydWxlc0dyb3VwID0gaXQuUlVMRVMudHlwZXNbJHR5cGVTY2hlbWFdO1xuICAgIGlmICgkY29lcmNlVG9UeXBlcyB8fCAkdHlwZUlzQXJyYXkgfHwgJHJ1bGVzR3JvdXAgPT09IHRydWUgfHwgKCRydWxlc0dyb3VwICYmICEkc2hvdWxkVXNlR3JvdXAoJHJ1bGVzR3JvdXApKSkge1xuICAgICAgdmFyICRzY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArICcudHlwZScsXG4gICAgICAgICRlcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvdHlwZSc7XG4gICAgICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgJy50eXBlJyxcbiAgICAgICAgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy90eXBlJyxcbiAgICAgICAgJG1ldGhvZCA9ICR0eXBlSXNBcnJheSA/ICdjaGVja0RhdGFUeXBlcycgOiAnY2hlY2tEYXRhVHlwZSc7XG4gICAgICBvdXQgKz0gJyBpZiAoJyArIChpdC51dGlsWyRtZXRob2RdKCR0eXBlU2NoZW1hLCAkZGF0YSwgaXQub3B0cy5zdHJpY3ROdW1iZXJzLCB0cnVlKSkgKyAnKSB7ICc7XG4gICAgICBpZiAoJGNvZXJjZVRvVHlwZXMpIHtcbiAgICAgICAgdmFyICRkYXRhVHlwZSA9ICdkYXRhVHlwZScgKyAkbHZsLFxuICAgICAgICAgICRjb2VyY2VkID0gJ2NvZXJjZWQnICsgJGx2bDtcbiAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJGRhdGFUeXBlKSArICcgPSB0eXBlb2YgJyArICgkZGF0YSkgKyAnOyB2YXIgJyArICgkY29lcmNlZCkgKyAnID0gdW5kZWZpbmVkOyAnO1xuICAgICAgICBpZiAoaXQub3B0cy5jb2VyY2VUeXBlcyA9PSAnYXJyYXknKSB7XG4gICAgICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoJGRhdGFUeXBlKSArICcgPT0gXFwnb2JqZWN0XFwnICYmIEFycmF5LmlzQXJyYXkoJyArICgkZGF0YSkgKyAnKSAmJiAnICsgKCRkYXRhKSArICcubGVuZ3RoID09IDEpIHsgJyArICgkZGF0YSkgKyAnID0gJyArICgkZGF0YSkgKyAnWzBdOyAnICsgKCRkYXRhVHlwZSkgKyAnID0gdHlwZW9mICcgKyAoJGRhdGEpICsgJzsgaWYgKCcgKyAoaXQudXRpbC5jaGVja0RhdGFUeXBlKGl0LnNjaGVtYS50eXBlLCAkZGF0YSwgaXQub3B0cy5zdHJpY3ROdW1iZXJzKSkgKyAnKSAnICsgKCRjb2VyY2VkKSArICcgPSAnICsgKCRkYXRhKSArICc7IH0gJztcbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gJyBpZiAoJyArICgkY29lcmNlZCkgKyAnICE9PSB1bmRlZmluZWQpIDsgJztcbiAgICAgICAgdmFyIGFycjEgPSAkY29lcmNlVG9UeXBlcztcbiAgICAgICAgaWYgKGFycjEpIHtcbiAgICAgICAgICB2YXIgJHR5cGUsICRpID0gLTEsXG4gICAgICAgICAgICBsMSA9IGFycjEubGVuZ3RoIC0gMTtcbiAgICAgICAgICB3aGlsZSAoJGkgPCBsMSkge1xuICAgICAgICAgICAgJHR5cGUgPSBhcnIxWyRpICs9IDFdO1xuICAgICAgICAgICAgaWYgKCR0eXBlID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIGVsc2UgaWYgKCcgKyAoJGRhdGFUeXBlKSArICcgPT0gXFwnbnVtYmVyXFwnIHx8ICcgKyAoJGRhdGFUeXBlKSArICcgPT0gXFwnYm9vbGVhblxcJykgJyArICgkY29lcmNlZCkgKyAnID0gXFwnXFwnICsgJyArICgkZGF0YSkgKyAnOyBlbHNlIGlmICgnICsgKCRkYXRhKSArICcgPT09IG51bGwpICcgKyAoJGNvZXJjZWQpICsgJyA9IFxcJ1xcJzsgJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJHR5cGUgPT0gJ251bWJlcicgfHwgJHR5cGUgPT0gJ2ludGVnZXInKSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIGVsc2UgaWYgKCcgKyAoJGRhdGFUeXBlKSArICcgPT0gXFwnYm9vbGVhblxcJyB8fCAnICsgKCRkYXRhKSArICcgPT09IG51bGwgfHwgKCcgKyAoJGRhdGFUeXBlKSArICcgPT0gXFwnc3RyaW5nXFwnICYmICcgKyAoJGRhdGEpICsgJyAmJiAnICsgKCRkYXRhKSArICcgPT0gKycgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgICAgICAgICBpZiAoJHR5cGUgPT0gJ2ludGVnZXInKSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9ICcgJiYgISgnICsgKCRkYXRhKSArICcgJSAxKSc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgb3V0ICs9ICcpKSAnICsgKCRjb2VyY2VkKSArICcgPSArJyArICgkZGF0YSkgKyAnOyAnO1xuICAgICAgICAgICAgfSBlbHNlIGlmICgkdHlwZSA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICcgZWxzZSBpZiAoJyArICgkZGF0YSkgKyAnID09PSBcXCdmYWxzZVxcJyB8fCAnICsgKCRkYXRhKSArICcgPT09IDAgfHwgJyArICgkZGF0YSkgKyAnID09PSBudWxsKSAnICsgKCRjb2VyY2VkKSArICcgPSBmYWxzZTsgZWxzZSBpZiAoJyArICgkZGF0YSkgKyAnID09PSBcXCd0cnVlXFwnIHx8ICcgKyAoJGRhdGEpICsgJyA9PT0gMSkgJyArICgkY29lcmNlZCkgKyAnID0gdHJ1ZTsgJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJHR5cGUgPT0gJ251bGwnKSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIGVsc2UgaWYgKCcgKyAoJGRhdGEpICsgJyA9PT0gXFwnXFwnIHx8ICcgKyAoJGRhdGEpICsgJyA9PT0gMCB8fCAnICsgKCRkYXRhKSArICcgPT09IGZhbHNlKSAnICsgKCRjb2VyY2VkKSArICcgPSBudWxsOyAnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpdC5vcHRzLmNvZXJjZVR5cGVzID09ICdhcnJheScgJiYgJHR5cGUgPT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICBvdXQgKz0gJyBlbHNlIGlmICgnICsgKCRkYXRhVHlwZSkgKyAnID09IFxcJ3N0cmluZ1xcJyB8fCAnICsgKCRkYXRhVHlwZSkgKyAnID09IFxcJ251bWJlclxcJyB8fCAnICsgKCRkYXRhVHlwZSkgKyAnID09IFxcJ2Jvb2xlYW5cXCcgfHwgJyArICgkZGF0YSkgKyAnID09IG51bGwpICcgKyAoJGNvZXJjZWQpICsgJyA9IFsnICsgKCRkYXRhKSArICddOyAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gJyBlbHNlIHsgICAnO1xuICAgICAgICB2YXIgJCRvdXRTdGFjayA9ICQkb3V0U3RhY2sgfHwgW107XG4gICAgICAgICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICAgICAgICBvdXQgPSAnJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJGVycm9yS2V5d29yZCB8fCAndHlwZScpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsgdHlwZTogXFwnJztcbiAgICAgICAgICBpZiAoJHR5cGVJc0FycmF5KSB7XG4gICAgICAgICAgICBvdXQgKz0gJycgKyAoJHR5cGVTY2hlbWEuam9pbihcIixcIikpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXQgKz0gJycgKyAoJHR5cGVTY2hlbWEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJ1xcJyB9ICc7XG4gICAgICAgICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBiZSAnO1xuICAgICAgICAgICAgaWYgKCR0eXBlSXNBcnJheSkge1xuICAgICAgICAgICAgICBvdXQgKz0gJycgKyAoJHR5cGVTY2hlbWEuam9pbihcIixcIikpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICcnICsgKCR0eXBlU2NoZW1hKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dCArPSAnXFwnICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgICAgIG91dCArPSAnICwgc2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICcgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIG91dCArPSAnIH0gJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvdXQgKz0gJyB7fSAnO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfX2VyciA9IG91dDtcbiAgICAgICAgb3V0ID0gJCRvdXRTdGFjay5wb3AoKTtcbiAgICAgICAgaWYgKCFpdC5jb21wb3NpdGVSdWxlICYmICRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgICAgICAgIG91dCArPSAnIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoWycgKyAoX19lcnIpICsgJ10pOyAnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSBbJyArIChfX2VycikgKyAnXTsgcmV0dXJuIGZhbHNlOyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvdXQgKz0gJyB2YXIgZXJyID0gJyArIChfX2VycikgKyAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gICAgICAgIH1cbiAgICAgICAgb3V0ICs9ICcgfSBpZiAoJyArICgkY29lcmNlZCkgKyAnICE9PSB1bmRlZmluZWQpIHsgICc7XG4gICAgICAgIHZhciAkcGFyZW50RGF0YSA9ICRkYXRhTHZsID8gJ2RhdGEnICsgKCgkZGF0YUx2bCAtIDEpIHx8ICcnKSA6ICdwYXJlbnREYXRhJyxcbiAgICAgICAgICAkcGFyZW50RGF0YVByb3BlcnR5ID0gJGRhdGFMdmwgPyBpdC5kYXRhUGF0aEFyclskZGF0YUx2bF0gOiAncGFyZW50RGF0YVByb3BlcnR5JztcbiAgICAgICAgb3V0ICs9ICcgJyArICgkZGF0YSkgKyAnID0gJyArICgkY29lcmNlZCkgKyAnOyAnO1xuICAgICAgICBpZiAoISRkYXRhTHZsKSB7XG4gICAgICAgICAgb3V0ICs9ICdpZiAoJyArICgkcGFyZW50RGF0YSkgKyAnICE9PSB1bmRlZmluZWQpJztcbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gJyAnICsgKCRwYXJlbnREYXRhKSArICdbJyArICgkcGFyZW50RGF0YVByb3BlcnR5KSArICddID0gJyArICgkY29lcmNlZCkgKyAnOyB9ICc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgJCRvdXRTdGFjayA9ICQkb3V0U3RhY2sgfHwgW107XG4gICAgICAgICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICAgICAgICBvdXQgPSAnJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJGVycm9yS2V5d29yZCB8fCAndHlwZScpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsgdHlwZTogXFwnJztcbiAgICAgICAgICBpZiAoJHR5cGVJc0FycmF5KSB7XG4gICAgICAgICAgICBvdXQgKz0gJycgKyAoJHR5cGVTY2hlbWEuam9pbihcIixcIikpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXQgKz0gJycgKyAoJHR5cGVTY2hlbWEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJ1xcJyB9ICc7XG4gICAgICAgICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBiZSAnO1xuICAgICAgICAgICAgaWYgKCR0eXBlSXNBcnJheSkge1xuICAgICAgICAgICAgICBvdXQgKz0gJycgKyAoJHR5cGVTY2hlbWEuam9pbihcIixcIikpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICcnICsgKCR0eXBlU2NoZW1hKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dCArPSAnXFwnICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgICAgIG91dCArPSAnICwgc2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICcgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIG91dCArPSAnIH0gJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvdXQgKz0gJyB7fSAnO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfX2VyciA9IG91dDtcbiAgICAgICAgb3V0ID0gJCRvdXRTdGFjay5wb3AoKTtcbiAgICAgICAgaWYgKCFpdC5jb21wb3NpdGVSdWxlICYmICRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgICAgICAgIG91dCArPSAnIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoWycgKyAoX19lcnIpICsgJ10pOyAnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSBbJyArIChfX2VycikgKyAnXTsgcmV0dXJuIGZhbHNlOyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvdXQgKz0gJyB2YXIgZXJyID0gJyArIChfX2VycikgKyAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG91dCArPSAnIH0gJztcbiAgICB9XG4gIH1cbiAgaWYgKGl0LnNjaGVtYS4kcmVmICYmICEkcmVmS2V5d29yZHMpIHtcbiAgICBvdXQgKz0gJyAnICsgKGl0LlJVTEVTLmFsbC4kcmVmLmNvZGUoaXQsICckcmVmJykpICsgJyAnO1xuICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICBvdXQgKz0gJyB9IGlmIChlcnJvcnMgPT09ICc7XG4gICAgICBpZiAoJHRvcCkge1xuICAgICAgICBvdXQgKz0gJzAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICdlcnJzXycgKyAoJGx2bCk7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJykgeyAnO1xuICAgICAgJGNsb3NpbmdCcmFjZXMyICs9ICd9JztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGFycjIgPSBpdC5SVUxFUztcbiAgICBpZiAoYXJyMikge1xuICAgICAgdmFyICRydWxlc0dyb3VwLCBpMiA9IC0xLFxuICAgICAgICBsMiA9IGFycjIubGVuZ3RoIC0gMTtcbiAgICAgIHdoaWxlIChpMiA8IGwyKSB7XG4gICAgICAgICRydWxlc0dyb3VwID0gYXJyMltpMiArPSAxXTtcbiAgICAgICAgaWYgKCRzaG91bGRVc2VHcm91cCgkcnVsZXNHcm91cCkpIHtcbiAgICAgICAgICBpZiAoJHJ1bGVzR3JvdXAudHlwZSkge1xuICAgICAgICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoaXQudXRpbC5jaGVja0RhdGFUeXBlKCRydWxlc0dyb3VwLnR5cGUsICRkYXRhLCBpdC5vcHRzLnN0cmljdE51bWJlcnMpKSArICcpIHsgJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGl0Lm9wdHMudXNlRGVmYXVsdHMpIHtcbiAgICAgICAgICAgIGlmICgkcnVsZXNHcm91cC50eXBlID09ICdvYmplY3QnICYmIGl0LnNjaGVtYS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgIHZhciAkc2NoZW1hID0gaXQuc2NoZW1hLnByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgJHNjaGVtYUtleXMgPSBPYmplY3Qua2V5cygkc2NoZW1hKTtcbiAgICAgICAgICAgICAgdmFyIGFycjMgPSAkc2NoZW1hS2V5cztcbiAgICAgICAgICAgICAgaWYgKGFycjMpIHtcbiAgICAgICAgICAgICAgICB2YXIgJHByb3BlcnR5S2V5LCBpMyA9IC0xLFxuICAgICAgICAgICAgICAgICAgbDMgPSBhcnIzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGkzIDwgbDMpIHtcbiAgICAgICAgICAgICAgICAgICRwcm9wZXJ0eUtleSA9IGFycjNbaTMgKz0gMV07XG4gICAgICAgICAgICAgICAgICB2YXIgJHNjaCA9ICRzY2hlbWFbJHByb3BlcnR5S2V5XTtcbiAgICAgICAgICAgICAgICAgIGlmICgkc2NoLmRlZmF1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgJHBhc3NEYXRhID0gJGRhdGEgKyBpdC51dGlsLmdldFByb3BlcnR5KCRwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdC5jb21wb3NpdGVSdWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGl0Lm9wdHMuc3RyaWN0RGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkZGVmYXVsdE1zZyA9ICdkZWZhdWx0IGlzIGlnbm9yZWQgZm9yOiAnICsgJHBhc3NEYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0Lm9wdHMuc3RyaWN0RGVmYXVsdHMgPT09ICdsb2cnKSBpdC5sb2dnZXIud2FybigkZGVmYXVsdE1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcigkZGVmYXVsdE1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIG91dCArPSAnIGlmICgnICsgKCRwYXNzRGF0YSkgKyAnID09PSB1bmRlZmluZWQgJztcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaXQub3B0cy51c2VEZWZhdWx0cyA9PSAnZW1wdHknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXQgKz0gJyB8fCAnICsgKCRwYXNzRGF0YSkgKyAnID09PSBudWxsIHx8ICcgKyAoJHBhc3NEYXRhKSArICcgPT09IFxcJ1xcJyAnO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBvdXQgKz0gJyApICcgKyAoJHBhc3NEYXRhKSArICcgPSAnO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChpdC5vcHRzLnVzZURlZmF1bHRzID09ICdzaGFyZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXQgKz0gJyAnICsgKGl0LnVzZURlZmF1bHQoJHNjaC5kZWZhdWx0KSkgKyAnICc7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dCArPSAnICcgKyAoSlNPTi5zdHJpbmdpZnkoJHNjaC5kZWZhdWx0KSkgKyAnICc7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIG91dCArPSAnOyAnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCRydWxlc0dyb3VwLnR5cGUgPT0gJ2FycmF5JyAmJiBBcnJheS5pc0FycmF5KGl0LnNjaGVtYS5pdGVtcykpIHtcbiAgICAgICAgICAgICAgdmFyIGFycjQgPSBpdC5zY2hlbWEuaXRlbXM7XG4gICAgICAgICAgICAgIGlmIChhcnI0KSB7XG4gICAgICAgICAgICAgICAgdmFyICRzY2gsICRpID0gLTEsXG4gICAgICAgICAgICAgICAgICBsNCA9IGFycjQubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoJGkgPCBsNCkge1xuICAgICAgICAgICAgICAgICAgJHNjaCA9IGFycjRbJGkgKz0gMV07XG4gICAgICAgICAgICAgICAgICBpZiAoJHNjaC5kZWZhdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICRwYXNzRGF0YSA9ICRkYXRhICsgJ1snICsgJGkgKyAnXSc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdC5jb21wb3NpdGVSdWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGl0Lm9wdHMuc3RyaWN0RGVmYXVsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkZGVmYXVsdE1zZyA9ICdkZWZhdWx0IGlzIGlnbm9yZWQgZm9yOiAnICsgJHBhc3NEYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0Lm9wdHMuc3RyaWN0RGVmYXVsdHMgPT09ICdsb2cnKSBpdC5sb2dnZXIud2FybigkZGVmYXVsdE1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcigkZGVmYXVsdE1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIG91dCArPSAnIGlmICgnICsgKCRwYXNzRGF0YSkgKyAnID09PSB1bmRlZmluZWQgJztcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaXQub3B0cy51c2VEZWZhdWx0cyA9PSAnZW1wdHknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXQgKz0gJyB8fCAnICsgKCRwYXNzRGF0YSkgKyAnID09PSBudWxsIHx8ICcgKyAoJHBhc3NEYXRhKSArICcgPT09IFxcJ1xcJyAnO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBvdXQgKz0gJyApICcgKyAoJHBhc3NEYXRhKSArICcgPSAnO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChpdC5vcHRzLnVzZURlZmF1bHRzID09ICdzaGFyZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXQgKz0gJyAnICsgKGl0LnVzZURlZmF1bHQoJHNjaC5kZWZhdWx0KSkgKyAnICc7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dCArPSAnICcgKyAoSlNPTi5zdHJpbmdpZnkoJHNjaC5kZWZhdWx0KSkgKyAnICc7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIG91dCArPSAnOyAnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBhcnI1ID0gJHJ1bGVzR3JvdXAucnVsZXM7XG4gICAgICAgICAgaWYgKGFycjUpIHtcbiAgICAgICAgICAgIHZhciAkcnVsZSwgaTUgPSAtMSxcbiAgICAgICAgICAgICAgbDUgPSBhcnI1Lmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB3aGlsZSAoaTUgPCBsNSkge1xuICAgICAgICAgICAgICAkcnVsZSA9IGFycjVbaTUgKz0gMV07XG4gICAgICAgICAgICAgIGlmICgkc2hvdWxkVXNlUnVsZSgkcnVsZSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgJGNvZGUgPSAkcnVsZS5jb2RlKGl0LCAkcnVsZS5rZXl3b3JkLCAkcnVsZXNHcm91cC50eXBlKTtcbiAgICAgICAgICAgICAgICBpZiAoJGNvZGUpIHtcbiAgICAgICAgICAgICAgICAgIG91dCArPSAnICcgKyAoJGNvZGUpICsgJyAnO1xuICAgICAgICAgICAgICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgJGNsb3NpbmdCcmFjZXMxICs9ICd9JztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAgIG91dCArPSAnICcgKyAoJGNsb3NpbmdCcmFjZXMxKSArICcgJztcbiAgICAgICAgICAgICRjbG9zaW5nQnJhY2VzMSA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoJHJ1bGVzR3JvdXAudHlwZSkge1xuICAgICAgICAgICAgb3V0ICs9ICcgfSAnO1xuICAgICAgICAgICAgaWYgKCR0eXBlU2NoZW1hICYmICR0eXBlU2NoZW1hID09PSAkcnVsZXNHcm91cC50eXBlICYmICEkY29lcmNlVG9UeXBlcykge1xuICAgICAgICAgICAgICBvdXQgKz0gJyBlbHNlIHsgJztcbiAgICAgICAgICAgICAgdmFyICRzY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArICcudHlwZScsXG4gICAgICAgICAgICAgICAgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy90eXBlJztcbiAgICAgICAgICAgICAgdmFyICQkb3V0U3RhY2sgPSAkJG91dFN0YWNrIHx8IFtdO1xuICAgICAgICAgICAgICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgICAgICAgICAgICAgb3V0ID0gJyc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICAgIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCRlcnJvcktleXdvcmQgfHwgJ3R5cGUnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IHR5cGU6IFxcJyc7XG4gICAgICAgICAgICAgICAgaWYgKCR0eXBlSXNBcnJheSkge1xuICAgICAgICAgICAgICAgICAgb3V0ICs9ICcnICsgKCR0eXBlU2NoZW1hLmpvaW4oXCIsXCIpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgb3V0ICs9ICcnICsgKCR0eXBlU2NoZW1hKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3V0ICs9ICdcXCcgfSAnO1xuICAgICAgICAgICAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgYmUgJztcbiAgICAgICAgICAgICAgICAgIGlmICgkdHlwZUlzQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9ICcnICsgKCR0eXBlU2NoZW1hLmpvaW4oXCIsXCIpKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG91dCArPSAnJyArICgkdHlwZVNjaGVtYSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBvdXQgKz0gJ1xcJyAnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgICAgICAgICAgICBvdXQgKz0gJyAsIHNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9ICcge30gJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2YXIgX19lcnIgPSBvdXQ7XG4gICAgICAgICAgICAgIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICAgICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICAgICAgICAgICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG91dCArPSAnIH0gJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAgIG91dCArPSAnIGlmIChlcnJvcnMgPT09ICc7XG4gICAgICAgICAgICBpZiAoJHRvcCkge1xuICAgICAgICAgICAgICBvdXQgKz0gJzAnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICdlcnJzXycgKyAoJGx2bCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQgKz0gJykgeyAnO1xuICAgICAgICAgICAgJGNsb3NpbmdCcmFjZXMyICs9ICd9JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICBvdXQgKz0gJyAnICsgKCRjbG9zaW5nQnJhY2VzMikgKyAnICc7XG4gIH1cbiAgaWYgKCR0b3ApIHtcbiAgICBpZiAoJGFzeW5jKSB7XG4gICAgICBvdXQgKz0gJyBpZiAoZXJyb3JzID09PSAwKSByZXR1cm4gZGF0YTsgICAgICAgICAgICc7XG4gICAgICBvdXQgKz0gJyBlbHNlIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IodkVycm9ycyk7ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IHZFcnJvcnM7ICc7XG4gICAgICBvdXQgKz0gJyByZXR1cm4gZXJyb3JzID09PSAwOyAgICAgICAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyB9OyByZXR1cm4gdmFsaWRhdGU7JztcbiAgfSBlbHNlIHtcbiAgICBvdXQgKz0gJyB2YXIgJyArICgkdmFsaWQpICsgJyA9IGVycm9ycyA9PT0gZXJyc18nICsgKCRsdmwpICsgJzsnO1xuICB9XG5cbiAgZnVuY3Rpb24gJHNob3VsZFVzZUdyb3VwKCRydWxlc0dyb3VwKSB7XG4gICAgdmFyIHJ1bGVzID0gJHJ1bGVzR3JvdXAucnVsZXM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7IGkrKylcbiAgICAgIGlmICgkc2hvdWxkVXNlUnVsZShydWxlc1tpXSkpIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gJHNob3VsZFVzZVJ1bGUoJHJ1bGUpIHtcbiAgICByZXR1cm4gaXQuc2NoZW1hWyRydWxlLmtleXdvcmRdICE9PSB1bmRlZmluZWQgfHwgKCRydWxlLmltcGxlbWVudHMgJiYgJHJ1bGVJbXBsZW1lbnRzU29tZUtleXdvcmQoJHJ1bGUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uICRydWxlSW1wbGVtZW50c1NvbWVLZXl3b3JkKCRydWxlKSB7XG4gICAgdmFyIGltcGwgPSAkcnVsZS5pbXBsZW1lbnRzO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1wbC5sZW5ndGg7IGkrKylcbiAgICAgIGlmIChpdC5zY2hlbWFbaW1wbFtpXV0gIT09IHVuZGVmaW5lZCkgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHJlc29sdmUgPSByZXF1aXJlKCcuL3Jlc29sdmUnKVxuICAsIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKVxuICAsIGVycm9yQ2xhc3NlcyA9IHJlcXVpcmUoJy4vZXJyb3JfY2xhc3NlcycpXG4gICwgc3RhYmxlU3RyaW5naWZ5ID0gcmVxdWlyZSgnZmFzdC1qc29uLXN0YWJsZS1zdHJpbmdpZnknKTtcblxudmFyIHZhbGlkYXRlR2VuZXJhdG9yID0gcmVxdWlyZSgnLi4vZG90anMvdmFsaWRhdGUnKTtcblxuLyoqXG4gKiBGdW5jdGlvbnMgYmVsb3cgYXJlIHVzZWQgaW5zaWRlIGNvbXBpbGVkIHZhbGlkYXRpb25zIGZ1bmN0aW9uXG4gKi9cblxudmFyIHVjczJsZW5ndGggPSB1dGlsLnVjczJsZW5ndGg7XG52YXIgZXF1YWwgPSByZXF1aXJlKCdmYXN0LWRlZXAtZXF1YWwnKTtcblxuLy8gdGhpcyBlcnJvciBpcyB0aHJvd24gYnkgYXN5bmMgc2NoZW1hcyB0byByZXR1cm4gdmFsaWRhdGlvbiBlcnJvcnMgdmlhIGV4Y2VwdGlvblxudmFyIFZhbGlkYXRpb25FcnJvciA9IGVycm9yQ2xhc3Nlcy5WYWxpZGF0aW9uO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbXBpbGU7XG5cblxuLyoqXG4gKiBDb21waWxlcyBzY2hlbWEgdG8gdmFsaWRhdGlvbiBmdW5jdGlvblxuICogQHRoaXMgICBBanZcbiAqIEBwYXJhbSAge09iamVjdH0gc2NoZW1hIHNjaGVtYSBvYmplY3RcbiAqIEBwYXJhbSAge09iamVjdH0gcm9vdCBvYmplY3Qgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcm9vdCBzY2hlbWEgZm9yIHRoaXMgc2NoZW1hXG4gKiBAcGFyYW0gIHtPYmplY3R9IGxvY2FsUmVmcyB0aGUgaGFzaCBvZiBsb2NhbCByZWZlcmVuY2VzIGluc2lkZSB0aGUgc2NoZW1hIChjcmVhdGVkIGJ5IHJlc29sdmUuaWQpLCB1c2VkIGZvciBpbmxpbmUgcmVzb2x1dGlvblxuICogQHBhcmFtICB7U3RyaW5nfSBiYXNlSWQgYmFzZSBJRCBmb3IgSURzIGluIHRoZSBzY2hlbWFcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSB2YWxpZGF0aW9uIGZ1bmN0aW9uXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGUoc2NoZW1hLCByb290LCBsb2NhbFJlZnMsIGJhc2VJZCkge1xuICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlLCBldmlsOiB0cnVlICovXG4gIC8qIGVzbGludCBuby1zaGFkb3c6IDAgKi9cbiAgdmFyIHNlbGYgPSB0aGlzXG4gICAgLCBvcHRzID0gdGhpcy5fb3B0c1xuICAgICwgcmVmVmFsID0gWyB1bmRlZmluZWQgXVxuICAgICwgcmVmcyA9IHt9XG4gICAgLCBwYXR0ZXJucyA9IFtdXG4gICAgLCBwYXR0ZXJuc0hhc2ggPSB7fVxuICAgICwgZGVmYXVsdHMgPSBbXVxuICAgICwgZGVmYXVsdHNIYXNoID0ge31cbiAgICAsIGN1c3RvbVJ1bGVzID0gW107XG5cbiAgcm9vdCA9IHJvb3QgfHwgeyBzY2hlbWE6IHNjaGVtYSwgcmVmVmFsOiByZWZWYWwsIHJlZnM6IHJlZnMgfTtcblxuICB2YXIgYyA9IGNoZWNrQ29tcGlsaW5nLmNhbGwodGhpcywgc2NoZW1hLCByb290LCBiYXNlSWQpO1xuICB2YXIgY29tcGlsYXRpb24gPSB0aGlzLl9jb21waWxhdGlvbnNbYy5pbmRleF07XG4gIGlmIChjLmNvbXBpbGluZykgcmV0dXJuIChjb21waWxhdGlvbi5jYWxsVmFsaWRhdGUgPSBjYWxsVmFsaWRhdGUpO1xuXG4gIHZhciBmb3JtYXRzID0gdGhpcy5fZm9ybWF0cztcbiAgdmFyIFJVTEVTID0gdGhpcy5SVUxFUztcblxuICB0cnkge1xuICAgIHZhciB2ID0gbG9jYWxDb21waWxlKHNjaGVtYSwgcm9vdCwgbG9jYWxSZWZzLCBiYXNlSWQpO1xuICAgIGNvbXBpbGF0aW9uLnZhbGlkYXRlID0gdjtcbiAgICB2YXIgY3YgPSBjb21waWxhdGlvbi5jYWxsVmFsaWRhdGU7XG4gICAgaWYgKGN2KSB7XG4gICAgICBjdi5zY2hlbWEgPSB2LnNjaGVtYTtcbiAgICAgIGN2LmVycm9ycyA9IG51bGw7XG4gICAgICBjdi5yZWZzID0gdi5yZWZzO1xuICAgICAgY3YucmVmVmFsID0gdi5yZWZWYWw7XG4gICAgICBjdi5yb290ID0gdi5yb290O1xuICAgICAgY3YuJGFzeW5jID0gdi4kYXN5bmM7XG4gICAgICBpZiAob3B0cy5zb3VyY2VDb2RlKSBjdi5zb3VyY2UgPSB2LnNvdXJjZTtcbiAgICB9XG4gICAgcmV0dXJuIHY7XG4gIH0gZmluYWxseSB7XG4gICAgZW5kQ29tcGlsaW5nLmNhbGwodGhpcywgc2NoZW1hLCByb290LCBiYXNlSWQpO1xuICB9XG5cbiAgLyogQHRoaXMgICB7Kn0gLSBjdXN0b20gY29udGV4dCwgc2VlIHBhc3NDb250ZXh0IG9wdGlvbiAqL1xuICBmdW5jdGlvbiBjYWxsVmFsaWRhdGUoKSB7XG4gICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICAgIHZhciB2YWxpZGF0ZSA9IGNvbXBpbGF0aW9uLnZhbGlkYXRlO1xuICAgIHZhciByZXN1bHQgPSB2YWxpZGF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGNhbGxWYWxpZGF0ZS5lcnJvcnMgPSB2YWxpZGF0ZS5lcnJvcnM7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvY2FsQ29tcGlsZShfc2NoZW1hLCBfcm9vdCwgbG9jYWxSZWZzLCBiYXNlSWQpIHtcbiAgICB2YXIgaXNSb290ID0gIV9yb290IHx8IChfcm9vdCAmJiBfcm9vdC5zY2hlbWEgPT0gX3NjaGVtYSk7XG4gICAgaWYgKF9yb290LnNjaGVtYSAhPSByb290LnNjaGVtYSlcbiAgICAgIHJldHVybiBjb21waWxlLmNhbGwoc2VsZiwgX3NjaGVtYSwgX3Jvb3QsIGxvY2FsUmVmcywgYmFzZUlkKTtcblxuICAgIHZhciAkYXN5bmMgPSBfc2NoZW1hLiRhc3luYyA9PT0gdHJ1ZTtcblxuICAgIHZhciBzb3VyY2VDb2RlID0gdmFsaWRhdGVHZW5lcmF0b3Ioe1xuICAgICAgaXNUb3A6IHRydWUsXG4gICAgICBzY2hlbWE6IF9zY2hlbWEsXG4gICAgICBpc1Jvb3Q6IGlzUm9vdCxcbiAgICAgIGJhc2VJZDogYmFzZUlkLFxuICAgICAgcm9vdDogX3Jvb3QsXG4gICAgICBzY2hlbWFQYXRoOiAnJyxcbiAgICAgIGVyclNjaGVtYVBhdGg6ICcjJyxcbiAgICAgIGVycm9yUGF0aDogJ1wiXCInLFxuICAgICAgTWlzc2luZ1JlZkVycm9yOiBlcnJvckNsYXNzZXMuTWlzc2luZ1JlZixcbiAgICAgIFJVTEVTOiBSVUxFUyxcbiAgICAgIHZhbGlkYXRlOiB2YWxpZGF0ZUdlbmVyYXRvcixcbiAgICAgIHV0aWw6IHV0aWwsXG4gICAgICByZXNvbHZlOiByZXNvbHZlLFxuICAgICAgcmVzb2x2ZVJlZjogcmVzb2x2ZVJlZixcbiAgICAgIHVzZVBhdHRlcm46IHVzZVBhdHRlcm4sXG4gICAgICB1c2VEZWZhdWx0OiB1c2VEZWZhdWx0LFxuICAgICAgdXNlQ3VzdG9tUnVsZTogdXNlQ3VzdG9tUnVsZSxcbiAgICAgIG9wdHM6IG9wdHMsXG4gICAgICBmb3JtYXRzOiBmb3JtYXRzLFxuICAgICAgbG9nZ2VyOiBzZWxmLmxvZ2dlcixcbiAgICAgIHNlbGY6IHNlbGZcbiAgICB9KTtcblxuICAgIHNvdXJjZUNvZGUgPSB2YXJzKHJlZlZhbCwgcmVmVmFsQ29kZSkgKyB2YXJzKHBhdHRlcm5zLCBwYXR0ZXJuQ29kZSlcbiAgICAgICAgICAgICAgICAgICArIHZhcnMoZGVmYXVsdHMsIGRlZmF1bHRDb2RlKSArIHZhcnMoY3VzdG9tUnVsZXMsIGN1c3RvbVJ1bGVDb2RlKVxuICAgICAgICAgICAgICAgICAgICsgc291cmNlQ29kZTtcblxuICAgIGlmIChvcHRzLnByb2Nlc3NDb2RlKSBzb3VyY2VDb2RlID0gb3B0cy5wcm9jZXNzQ29kZShzb3VyY2VDb2RlLCBfc2NoZW1hKTtcbiAgICAvLyBjb25zb2xlLmxvZygnXFxuXFxuXFxuICoqKiBcXG4nLCBKU09OLnN0cmluZ2lmeShzb3VyY2VDb2RlKSk7XG4gICAgdmFyIHZhbGlkYXRlO1xuICAgIHRyeSB7XG4gICAgICB2YXIgbWFrZVZhbGlkYXRlID0gbmV3IEZ1bmN0aW9uKFxuICAgICAgICAnc2VsZicsXG4gICAgICAgICdSVUxFUycsXG4gICAgICAgICdmb3JtYXRzJyxcbiAgICAgICAgJ3Jvb3QnLFxuICAgICAgICAncmVmVmFsJyxcbiAgICAgICAgJ2RlZmF1bHRzJyxcbiAgICAgICAgJ2N1c3RvbVJ1bGVzJyxcbiAgICAgICAgJ2VxdWFsJyxcbiAgICAgICAgJ3VjczJsZW5ndGgnLFxuICAgICAgICAnVmFsaWRhdGlvbkVycm9yJyxcbiAgICAgICAgc291cmNlQ29kZVxuICAgICAgKTtcblxuICAgICAgdmFsaWRhdGUgPSBtYWtlVmFsaWRhdGUoXG4gICAgICAgIHNlbGYsXG4gICAgICAgIFJVTEVTLFxuICAgICAgICBmb3JtYXRzLFxuICAgICAgICByb290LFxuICAgICAgICByZWZWYWwsXG4gICAgICAgIGRlZmF1bHRzLFxuICAgICAgICBjdXN0b21SdWxlcyxcbiAgICAgICAgZXF1YWwsXG4gICAgICAgIHVjczJsZW5ndGgsXG4gICAgICAgIFZhbGlkYXRpb25FcnJvclxuICAgICAgKTtcblxuICAgICAgcmVmVmFsWzBdID0gdmFsaWRhdGU7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICBzZWxmLmxvZ2dlci5lcnJvcignRXJyb3IgY29tcGlsaW5nIHNjaGVtYSwgZnVuY3Rpb24gY29kZTonLCBzb3VyY2VDb2RlKTtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuXG4gICAgdmFsaWRhdGUuc2NoZW1hID0gX3NjaGVtYTtcbiAgICB2YWxpZGF0ZS5lcnJvcnMgPSBudWxsO1xuICAgIHZhbGlkYXRlLnJlZnMgPSByZWZzO1xuICAgIHZhbGlkYXRlLnJlZlZhbCA9IHJlZlZhbDtcbiAgICB2YWxpZGF0ZS5yb290ID0gaXNSb290ID8gdmFsaWRhdGUgOiBfcm9vdDtcbiAgICBpZiAoJGFzeW5jKSB2YWxpZGF0ZS4kYXN5bmMgPSB0cnVlO1xuICAgIGlmIChvcHRzLnNvdXJjZUNvZGUgPT09IHRydWUpIHtcbiAgICAgIHZhbGlkYXRlLnNvdXJjZSA9IHtcbiAgICAgICAgY29kZTogc291cmNlQ29kZSxcbiAgICAgICAgcGF0dGVybnM6IHBhdHRlcm5zLFxuICAgICAgICBkZWZhdWx0czogZGVmYXVsdHNcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbGlkYXRlO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZVJlZihiYXNlSWQsIHJlZiwgaXNSb290KSB7XG4gICAgcmVmID0gcmVzb2x2ZS51cmwoYmFzZUlkLCByZWYpO1xuICAgIHZhciByZWZJbmRleCA9IHJlZnNbcmVmXTtcbiAgICB2YXIgX3JlZlZhbCwgcmVmQ29kZTtcbiAgICBpZiAocmVmSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgX3JlZlZhbCA9IHJlZlZhbFtyZWZJbmRleF07XG4gICAgICByZWZDb2RlID0gJ3JlZlZhbFsnICsgcmVmSW5kZXggKyAnXSc7XG4gICAgICByZXR1cm4gcmVzb2x2ZWRSZWYoX3JlZlZhbCwgcmVmQ29kZSk7XG4gICAgfVxuICAgIGlmICghaXNSb290ICYmIHJvb3QucmVmcykge1xuICAgICAgdmFyIHJvb3RSZWZJZCA9IHJvb3QucmVmc1tyZWZdO1xuICAgICAgaWYgKHJvb3RSZWZJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIF9yZWZWYWwgPSByb290LnJlZlZhbFtyb290UmVmSWRdO1xuICAgICAgICByZWZDb2RlID0gYWRkTG9jYWxSZWYocmVmLCBfcmVmVmFsKTtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVkUmVmKF9yZWZWYWwsIHJlZkNvZGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJlZkNvZGUgPSBhZGRMb2NhbFJlZihyZWYpO1xuICAgIHZhciB2ID0gcmVzb2x2ZS5jYWxsKHNlbGYsIGxvY2FsQ29tcGlsZSwgcm9vdCwgcmVmKTtcbiAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgbG9jYWxTY2hlbWEgPSBsb2NhbFJlZnMgJiYgbG9jYWxSZWZzW3JlZl07XG4gICAgICBpZiAobG9jYWxTY2hlbWEpIHtcbiAgICAgICAgdiA9IHJlc29sdmUuaW5saW5lUmVmKGxvY2FsU2NoZW1hLCBvcHRzLmlubGluZVJlZnMpXG4gICAgICAgICAgICA/IGxvY2FsU2NoZW1hXG4gICAgICAgICAgICA6IGNvbXBpbGUuY2FsbChzZWxmLCBsb2NhbFNjaGVtYSwgcm9vdCwgbG9jYWxSZWZzLCBiYXNlSWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJlbW92ZUxvY2FsUmVmKHJlZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcGxhY2VMb2NhbFJlZihyZWYsIHYpO1xuICAgICAgcmV0dXJuIHJlc29sdmVkUmVmKHYsIHJlZkNvZGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZExvY2FsUmVmKHJlZiwgdikge1xuICAgIHZhciByZWZJZCA9IHJlZlZhbC5sZW5ndGg7XG4gICAgcmVmVmFsW3JlZklkXSA9IHY7XG4gICAgcmVmc1tyZWZdID0gcmVmSWQ7XG4gICAgcmV0dXJuICdyZWZWYWwnICsgcmVmSWQ7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVMb2NhbFJlZihyZWYpIHtcbiAgICBkZWxldGUgcmVmc1tyZWZdO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVwbGFjZUxvY2FsUmVmKHJlZiwgdikge1xuICAgIHZhciByZWZJZCA9IHJlZnNbcmVmXTtcbiAgICByZWZWYWxbcmVmSWRdID0gdjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc29sdmVkUmVmKHJlZlZhbCwgY29kZSkge1xuICAgIHJldHVybiB0eXBlb2YgcmVmVmFsID09ICdvYmplY3QnIHx8IHR5cGVvZiByZWZWYWwgPT0gJ2Jvb2xlYW4nXG4gICAgICAgICAgICA/IHsgY29kZTogY29kZSwgc2NoZW1hOiByZWZWYWwsIGlubGluZTogdHJ1ZSB9XG4gICAgICAgICAgICA6IHsgY29kZTogY29kZSwgJGFzeW5jOiByZWZWYWwgJiYgISFyZWZWYWwuJGFzeW5jIH07XG4gIH1cblxuICBmdW5jdGlvbiB1c2VQYXR0ZXJuKHJlZ2V4U3RyKSB7XG4gICAgdmFyIGluZGV4ID0gcGF0dGVybnNIYXNoW3JlZ2V4U3RyXTtcbiAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgaW5kZXggPSBwYXR0ZXJuc0hhc2hbcmVnZXhTdHJdID0gcGF0dGVybnMubGVuZ3RoO1xuICAgICAgcGF0dGVybnNbaW5kZXhdID0gcmVnZXhTdHI7XG4gICAgfVxuICAgIHJldHVybiAncGF0dGVybicgKyBpbmRleDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVzZURlZmF1bHQodmFsdWUpIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICByZXR1cm4gJycgKyB2YWx1ZTtcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIHJldHVybiB1dGlsLnRvUXVvdGVkU3RyaW5nKHZhbHVlKTtcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuICdudWxsJztcbiAgICAgICAgdmFyIHZhbHVlU3RyID0gc3RhYmxlU3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgdmFyIGluZGV4ID0gZGVmYXVsdHNIYXNoW3ZhbHVlU3RyXTtcbiAgICAgICAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpbmRleCA9IGRlZmF1bHRzSGFzaFt2YWx1ZVN0cl0gPSBkZWZhdWx0cy5sZW5ndGg7XG4gICAgICAgICAgZGVmYXVsdHNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdkZWZhdWx0JyArIGluZGV4O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVzZUN1c3RvbVJ1bGUocnVsZSwgc2NoZW1hLCBwYXJlbnRTY2hlbWEsIGl0KSB7XG4gICAgaWYgKHNlbGYuX29wdHMudmFsaWRhdGVTY2hlbWEgIT09IGZhbHNlKSB7XG4gICAgICB2YXIgZGVwcyA9IHJ1bGUuZGVmaW5pdGlvbi5kZXBlbmRlbmNpZXM7XG4gICAgICBpZiAoZGVwcyAmJiAhZGVwcy5ldmVyeShmdW5jdGlvbihrZXl3b3JkKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocGFyZW50U2NoZW1hLCBrZXl3b3JkKTtcbiAgICAgIH0pKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3BhcmVudCBzY2hlbWEgbXVzdCBoYXZlIGFsbCByZXF1aXJlZCBrZXl3b3JkczogJyArIGRlcHMuam9pbignLCcpKTtcblxuICAgICAgdmFyIHZhbGlkYXRlU2NoZW1hID0gcnVsZS5kZWZpbml0aW9uLnZhbGlkYXRlU2NoZW1hO1xuICAgICAgaWYgKHZhbGlkYXRlU2NoZW1hKSB7XG4gICAgICAgIHZhciB2YWxpZCA9IHZhbGlkYXRlU2NoZW1hKHNjaGVtYSk7XG4gICAgICAgIGlmICghdmFsaWQpIHtcbiAgICAgICAgICB2YXIgbWVzc2FnZSA9ICdrZXl3b3JkIHNjaGVtYSBpcyBpbnZhbGlkOiAnICsgc2VsZi5lcnJvcnNUZXh0KHZhbGlkYXRlU2NoZW1hLmVycm9ycyk7XG4gICAgICAgICAgaWYgKHNlbGYuX29wdHMudmFsaWRhdGVTY2hlbWEgPT0gJ2xvZycpIHNlbGYubG9nZ2VyLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgIGVsc2UgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGNvbXBpbGUgPSBydWxlLmRlZmluaXRpb24uY29tcGlsZVxuICAgICAgLCBpbmxpbmUgPSBydWxlLmRlZmluaXRpb24uaW5saW5lXG4gICAgICAsIG1hY3JvID0gcnVsZS5kZWZpbml0aW9uLm1hY3JvO1xuXG4gICAgdmFyIHZhbGlkYXRlO1xuICAgIGlmIChjb21waWxlKSB7XG4gICAgICB2YWxpZGF0ZSA9IGNvbXBpbGUuY2FsbChzZWxmLCBzY2hlbWEsIHBhcmVudFNjaGVtYSwgaXQpO1xuICAgIH0gZWxzZSBpZiAobWFjcm8pIHtcbiAgICAgIHZhbGlkYXRlID0gbWFjcm8uY2FsbChzZWxmLCBzY2hlbWEsIHBhcmVudFNjaGVtYSwgaXQpO1xuICAgICAgaWYgKG9wdHMudmFsaWRhdGVTY2hlbWEgIT09IGZhbHNlKSBzZWxmLnZhbGlkYXRlU2NoZW1hKHZhbGlkYXRlLCB0cnVlKTtcbiAgICB9IGVsc2UgaWYgKGlubGluZSkge1xuICAgICAgdmFsaWRhdGUgPSBpbmxpbmUuY2FsbChzZWxmLCBpdCwgcnVsZS5rZXl3b3JkLCBzY2hlbWEsIHBhcmVudFNjaGVtYSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbGlkYXRlID0gcnVsZS5kZWZpbml0aW9uLnZhbGlkYXRlO1xuICAgICAgaWYgKCF2YWxpZGF0ZSkgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh2YWxpZGF0ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjdXN0b20ga2V5d29yZCBcIicgKyBydWxlLmtleXdvcmQgKyAnXCJmYWlsZWQgdG8gY29tcGlsZScpO1xuXG4gICAgdmFyIGluZGV4ID0gY3VzdG9tUnVsZXMubGVuZ3RoO1xuICAgIGN1c3RvbVJ1bGVzW2luZGV4XSA9IHZhbGlkYXRlO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGNvZGU6ICdjdXN0b21SdWxlJyArIGluZGV4LFxuICAgICAgdmFsaWRhdGU6IHZhbGlkYXRlXG4gICAgfTtcbiAgfVxufVxuXG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBzY2hlbWEgaXMgY3VycmVudGx5IGNvbXBpbGVkXG4gKiBAdGhpcyAgIEFqdlxuICogQHBhcmFtICB7T2JqZWN0fSBzY2hlbWEgc2NoZW1hIHRvIGNvbXBpbGVcbiAqIEBwYXJhbSAge09iamVjdH0gcm9vdCByb290IG9iamVjdFxuICogQHBhcmFtICB7U3RyaW5nfSBiYXNlSWQgYmFzZSBzY2hlbWEgSURcbiAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHdpdGggcHJvcGVydGllcyBcImluZGV4XCIgKGNvbXBpbGF0aW9uIGluZGV4KSBhbmQgXCJjb21waWxpbmdcIiAoYm9vbGVhbilcbiAqL1xuZnVuY3Rpb24gY2hlY2tDb21waWxpbmcoc2NoZW1hLCByb290LCBiYXNlSWQpIHtcbiAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICB2YXIgaW5kZXggPSBjb21wSW5kZXguY2FsbCh0aGlzLCBzY2hlbWEsIHJvb3QsIGJhc2VJZCk7XG4gIGlmIChpbmRleCA+PSAwKSByZXR1cm4geyBpbmRleDogaW5kZXgsIGNvbXBpbGluZzogdHJ1ZSB9O1xuICBpbmRleCA9IHRoaXMuX2NvbXBpbGF0aW9ucy5sZW5ndGg7XG4gIHRoaXMuX2NvbXBpbGF0aW9uc1tpbmRleF0gPSB7XG4gICAgc2NoZW1hOiBzY2hlbWEsXG4gICAgcm9vdDogcm9vdCxcbiAgICBiYXNlSWQ6IGJhc2VJZFxuICB9O1xuICByZXR1cm4geyBpbmRleDogaW5kZXgsIGNvbXBpbGluZzogZmFsc2UgfTtcbn1cblxuXG4vKipcbiAqIFJlbW92ZXMgdGhlIHNjaGVtYSBmcm9tIHRoZSBjdXJyZW50bHkgY29tcGlsZWQgbGlzdFxuICogQHRoaXMgICBBanZcbiAqIEBwYXJhbSAge09iamVjdH0gc2NoZW1hIHNjaGVtYSB0byBjb21waWxlXG4gKiBAcGFyYW0gIHtPYmplY3R9IHJvb3Qgcm9vdCBvYmplY3RcbiAqIEBwYXJhbSAge1N0cmluZ30gYmFzZUlkIGJhc2Ugc2NoZW1hIElEXG4gKi9cbmZ1bmN0aW9uIGVuZENvbXBpbGluZyhzY2hlbWEsIHJvb3QsIGJhc2VJZCkge1xuICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gIHZhciBpID0gY29tcEluZGV4LmNhbGwodGhpcywgc2NoZW1hLCByb290LCBiYXNlSWQpO1xuICBpZiAoaSA+PSAwKSB0aGlzLl9jb21waWxhdGlvbnMuc3BsaWNlKGksIDEpO1xufVxuXG5cbi8qKlxuICogSW5kZXggb2Ygc2NoZW1hIGNvbXBpbGF0aW9uIGluIHRoZSBjdXJyZW50bHkgY29tcGlsZWQgbGlzdFxuICogQHRoaXMgICBBanZcbiAqIEBwYXJhbSAge09iamVjdH0gc2NoZW1hIHNjaGVtYSB0byBjb21waWxlXG4gKiBAcGFyYW0gIHtPYmplY3R9IHJvb3Qgcm9vdCBvYmplY3RcbiAqIEBwYXJhbSAge1N0cmluZ30gYmFzZUlkIGJhc2Ugc2NoZW1hIElEXG4gKiBAcmV0dXJuIHtJbnRlZ2VyfSBjb21waWxhdGlvbiBpbmRleFxuICovXG5mdW5jdGlvbiBjb21wSW5kZXgoc2NoZW1hLCByb290LCBiYXNlSWQpIHtcbiAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICBmb3IgKHZhciBpPTA7IGk8dGhpcy5fY29tcGlsYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGMgPSB0aGlzLl9jb21waWxhdGlvbnNbaV07XG4gICAgaWYgKGMuc2NoZW1hID09IHNjaGVtYSAmJiBjLnJvb3QgPT0gcm9vdCAmJiBjLmJhc2VJZCA9PSBiYXNlSWQpIHJldHVybiBpO1xuICB9XG4gIHJldHVybiAtMTtcbn1cblxuXG5mdW5jdGlvbiBwYXR0ZXJuQ29kZShpLCBwYXR0ZXJucykge1xuICByZXR1cm4gJ3ZhciBwYXR0ZXJuJyArIGkgKyAnID0gbmV3IFJlZ0V4cCgnICsgdXRpbC50b1F1b3RlZFN0cmluZyhwYXR0ZXJuc1tpXSkgKyAnKTsnO1xufVxuXG5cbmZ1bmN0aW9uIGRlZmF1bHRDb2RlKGkpIHtcbiAgcmV0dXJuICd2YXIgZGVmYXVsdCcgKyBpICsgJyA9IGRlZmF1bHRzWycgKyBpICsgJ107Jztcbn1cblxuXG5mdW5jdGlvbiByZWZWYWxDb2RlKGksIHJlZlZhbCkge1xuICByZXR1cm4gcmVmVmFsW2ldID09PSB1bmRlZmluZWQgPyAnJyA6ICd2YXIgcmVmVmFsJyArIGkgKyAnID0gcmVmVmFsWycgKyBpICsgJ107Jztcbn1cblxuXG5mdW5jdGlvbiBjdXN0b21SdWxlQ29kZShpKSB7XG4gIHJldHVybiAndmFyIGN1c3RvbVJ1bGUnICsgaSArICcgPSBjdXN0b21SdWxlc1snICsgaSArICddOyc7XG59XG5cblxuZnVuY3Rpb24gdmFycyhhcnIsIHN0YXRlbWVudCkge1xuICBpZiAoIWFyci5sZW5ndGgpIHJldHVybiAnJztcbiAgdmFyIGNvZGUgPSAnJztcbiAgZm9yICh2YXIgaT0wOyBpPGFyci5sZW5ndGg7IGkrKylcbiAgICBjb2RlICs9IHN0YXRlbWVudChpLCBhcnIpO1xuICByZXR1cm4gY29kZTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuXG52YXIgQ2FjaGUgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIENhY2hlKCkge1xuICB0aGlzLl9jYWNoZSA9IHt9O1xufTtcblxuXG5DYWNoZS5wcm90b3R5cGUucHV0ID0gZnVuY3Rpb24gQ2FjaGVfcHV0KGtleSwgdmFsdWUpIHtcbiAgdGhpcy5fY2FjaGVba2V5XSA9IHZhbHVlO1xufTtcblxuXG5DYWNoZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gQ2FjaGVfZ2V0KGtleSkge1xuICByZXR1cm4gdGhpcy5fY2FjaGVba2V5XTtcbn07XG5cblxuQ2FjaGUucHJvdG90eXBlLmRlbCA9IGZ1bmN0aW9uIENhY2hlX2RlbChrZXkpIHtcbiAgZGVsZXRlIHRoaXMuX2NhY2hlW2tleV07XG59O1xuXG5cbkNhY2hlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIENhY2hlX2NsZWFyKCkge1xuICB0aGlzLl9jYWNoZSA9IHt9O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxudmFyIERBVEUgPSAvXihcXGRcXGRcXGRcXGQpLShcXGRcXGQpLShcXGRcXGQpJC87XG52YXIgREFZUyA9IFswLDMxLDI4LDMxLDMwLDMxLDMwLDMxLDMxLDMwLDMxLDMwLDMxXTtcbnZhciBUSU1FID0gL14oXFxkXFxkKTooXFxkXFxkKTooXFxkXFxkKShcXC5cXGQrKT8oenxbKy1dXFxkXFxkKD86Oj9cXGRcXGQpPyk/JC9pO1xudmFyIEhPU1ROQU1FID0gL14oPz0uezEsMjUzfVxcLj8kKVthLXowLTldKD86W2EtejAtOS1dezAsNjF9W2EtejAtOV0pPyg/OlxcLlthLXowLTldKD86Wy0wLTlhLXpdezAsNjF9WzAtOWEtel0pPykqXFwuPyQvaTtcbnZhciBVUkkgPSAvXig/OlthLXpdW2EtejAtOStcXC0uXSo6KSg/OlxcLz9cXC8oPzooPzpbYS16MC05XFwtLl9+ISQmJygpKissOz06XXwlWzAtOWEtZl17Mn0pKkApPyg/OlxcWyg/Oig/Oig/Oig/OlswLTlhLWZdezEsNH06KXs2fXw6Oig/OlswLTlhLWZdezEsNH06KXs1fXwoPzpbMC05YS1mXXsxLDR9KT86Oig/OlswLTlhLWZdezEsNH06KXs0fXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MCwxfVswLTlhLWZdezEsNH0pPzo6KD86WzAtOWEtZl17MSw0fTopezN9fCg/Oig/OlswLTlhLWZdezEsNH06KXswLDJ9WzAtOWEtZl17MSw0fSk/OjooPzpbMC05YS1mXXsxLDR9Oil7Mn18KD86KD86WzAtOWEtZl17MSw0fTopezAsM31bMC05YS1mXXsxLDR9KT86OlswLTlhLWZdezEsNH06fCg/Oig/OlswLTlhLWZdezEsNH06KXswLDR9WzAtOWEtZl17MSw0fSk/OjopKD86WzAtOWEtZl17MSw0fTpbMC05YS1mXXsxLDR9fCg/Oig/OjI1WzAtNV18MlswLTRdXFxkfFswMV0/XFxkXFxkPylcXC4pezN9KD86MjVbMC01XXwyWzAtNF1cXGR8WzAxXT9cXGRcXGQ/KSl8KD86KD86WzAtOWEtZl17MSw0fTopezAsNX1bMC05YS1mXXsxLDR9KT86OlswLTlhLWZdezEsNH18KD86KD86WzAtOWEtZl17MSw0fTopezAsNn1bMC05YS1mXXsxLDR9KT86Oil8W1Z2XVswLTlhLWZdK1xcLlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpdKylcXF18KD86KD86MjVbMC01XXwyWzAtNF1cXGR8WzAxXT9cXGRcXGQ/KVxcLil7M30oPzoyNVswLTVdfDJbMC00XVxcZHxbMDFdP1xcZFxcZD8pfCg/OlthLXowLTlcXC0uX34hJCYnKCkqKyw7PV18JVswLTlhLWZdezJ9KSopKD86OlxcZCopPyg/OlxcLyg/OlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpAXXwlWzAtOWEtZl17Mn0pKikqfFxcLyg/Oig/OlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpAXXwlWzAtOWEtZl17Mn0pKyg/OlxcLyg/OlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpAXXwlWzAtOWEtZl17Mn0pKikqKT98KD86W2EtejAtOVxcLS5ffiEkJicoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkrKD86XFwvKD86W2EtejAtOVxcLS5ffiEkJicoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkqKSopKD86XFw/KD86W2EtejAtOVxcLS5ffiEkJicoKSorLDs9OkAvP118JVswLTlhLWZdezJ9KSopPyg/OiMoPzpbYS16MC05XFwtLl9+ISQmJygpKissOz06QC8/XXwlWzAtOWEtZl17Mn0pKik/JC9pO1xudmFyIFVSSVJFRiA9IC9eKD86W2Etel1bYS16MC05K1xcLS5dKjopPyg/OlxcLz9cXC8oPzooPzpbYS16MC05XFwtLl9+ISQmJygpKissOz06XXwlWzAtOWEtZl17Mn0pKkApPyg/OlxcWyg/Oig/Oig/Oig/OlswLTlhLWZdezEsNH06KXs2fXw6Oig/OlswLTlhLWZdezEsNH06KXs1fXwoPzpbMC05YS1mXXsxLDR9KT86Oig/OlswLTlhLWZdezEsNH06KXs0fXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MCwxfVswLTlhLWZdezEsNH0pPzo6KD86WzAtOWEtZl17MSw0fTopezN9fCg/Oig/OlswLTlhLWZdezEsNH06KXswLDJ9WzAtOWEtZl17MSw0fSk/OjooPzpbMC05YS1mXXsxLDR9Oil7Mn18KD86KD86WzAtOWEtZl17MSw0fTopezAsM31bMC05YS1mXXsxLDR9KT86OlswLTlhLWZdezEsNH06fCg/Oig/OlswLTlhLWZdezEsNH06KXswLDR9WzAtOWEtZl17MSw0fSk/OjopKD86WzAtOWEtZl17MSw0fTpbMC05YS1mXXsxLDR9fCg/Oig/OjI1WzAtNV18MlswLTRdXFxkfFswMV0/XFxkXFxkPylcXC4pezN9KD86MjVbMC01XXwyWzAtNF1cXGR8WzAxXT9cXGRcXGQ/KSl8KD86KD86WzAtOWEtZl17MSw0fTopezAsNX1bMC05YS1mXXsxLDR9KT86OlswLTlhLWZdezEsNH18KD86KD86WzAtOWEtZl17MSw0fTopezAsNn1bMC05YS1mXXsxLDR9KT86Oil8W1Z2XVswLTlhLWZdK1xcLlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpdKylcXF18KD86KD86MjVbMC01XXwyWzAtNF1cXGR8WzAxXT9cXGRcXGQ/KVxcLil7M30oPzoyNVswLTVdfDJbMC00XVxcZHxbMDFdP1xcZFxcZD8pfCg/OlthLXowLTlcXC0uX34hJCYnXCIoKSorLDs9XXwlWzAtOWEtZl17Mn0pKikoPzo6XFxkKik/KD86XFwvKD86W2EtejAtOVxcLS5ffiEkJidcIigpKissOz06QF18JVswLTlhLWZdezJ9KSopKnxcXC8oPzooPzpbYS16MC05XFwtLl9+ISQmJ1wiKCkqKyw7PTpAXXwlWzAtOWEtZl17Mn0pKyg/OlxcLyg/OlthLXowLTlcXC0uX34hJCYnXCIoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkqKSopP3woPzpbYS16MC05XFwtLl9+ISQmJ1wiKCkqKyw7PTpAXXwlWzAtOWEtZl17Mn0pKyg/OlxcLyg/OlthLXowLTlcXC0uX34hJCYnXCIoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkqKSopPyg/OlxcPyg/OlthLXowLTlcXC0uX34hJCYnXCIoKSorLDs9OkAvP118JVswLTlhLWZdezJ9KSopPyg/OiMoPzpbYS16MC05XFwtLl9+ISQmJ1wiKCkqKyw7PTpALz9dfCVbMC05YS1mXXsyfSkqKT8kL2k7XG4vLyB1cmktdGVtcGxhdGU6IGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2NTcwXG52YXIgVVJJVEVNUExBVEUgPSAvXig/Oig/OlteXFx4MDAtXFx4MjBcIic8PiVcXFxcXmB7fH1dfCVbMC05YS1mXXsyfSl8XFx7WysjLi87PyY9LCFAfF0/KD86W2EtejAtOV9dfCVbMC05YS1mXXsyfSkrKD86OlsxLTldWzAtOV17MCwzfXxcXCopPyg/OiwoPzpbYS16MC05X118JVswLTlhLWZdezJ9KSsoPzo6WzEtOV1bMC05XXswLDN9fFxcKik/KSpcXH0pKiQvaTtcbi8vIEZvciB0aGUgc291cmNlOiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9kcGVyaW5pLzcyOTI5NFxuLy8gRm9yIHRlc3QgY2FzZXM6IGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9kZW1vL3VybC1yZWdleFxuLy8gQHRvZG8gRGVsZXRlIGN1cnJlbnQgVVJMIGluIGZhdm91ciBvZiB0aGUgY29tbWVudGVkIG91dCBVUkwgcnVsZSB3aGVuIHRoaXMgaXNzdWUgaXMgZml4ZWQgaHR0cHM6Ly9naXRodWIuY29tL2VzbGludC9lc2xpbnQvaXNzdWVzLzc5ODMuXG4vLyB2YXIgVVJMID0gL14oPzooPzpodHRwcz98ZnRwKTpcXC9cXC8pKD86XFxTKyg/OjpcXFMqKT9AKT8oPzooPyExMCg/OlxcLlxcZHsxLDN9KXszfSkoPyExMjcoPzpcXC5cXGR7MSwzfSl7M30pKD8hMTY5XFwuMjU0KD86XFwuXFxkezEsM30pezJ9KSg/ITE5MlxcLjE2OCg/OlxcLlxcZHsxLDN9KXsyfSkoPyExNzJcXC4oPzoxWzYtOV18MlxcZHwzWzAtMV0pKD86XFwuXFxkezEsM30pezJ9KSg/OlsxLTldXFxkP3wxXFxkXFxkfDJbMDFdXFxkfDIyWzAtM10pKD86XFwuKD86MT9cXGR7MSwyfXwyWzAtNF1cXGR8MjVbMC01XSkpezJ9KD86XFwuKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNF0pKXwoPzooPzpbYS16XFx1ezAwYTF9LVxcdXtmZmZmfTAtOV0rLSkqW2EtelxcdXswMGExfS1cXHV7ZmZmZn0wLTldKykoPzpcXC4oPzpbYS16XFx1ezAwYTF9LVxcdXtmZmZmfTAtOV0rLSkqW2EtelxcdXswMGExfS1cXHV7ZmZmZn0wLTldKykqKD86XFwuKD86W2EtelxcdXswMGExfS1cXHV7ZmZmZn1dezIsfSkpKSg/OjpcXGR7Miw1fSk/KD86XFwvW15cXHNdKik/JC9pdTtcbnZhciBVUkwgPSAvXig/Oig/Omh0dHBbc1xcdTAxN0ZdP3xmdHApOlxcL1xcLykoPzooPzpbXFwwLVxceDA4XFx4MEUtXFx4MUYhLVxceDlGXFx4QTEtXFx1MTY3RlxcdTE2ODEtXFx1MUZGRlxcdTIwMEItXFx1MjAyN1xcdTIwMkEtXFx1MjAyRVxcdTIwMzAtXFx1MjA1RVxcdTIwNjAtXFx1MkZGRlxcdTMwMDEtXFx1RDdGRlxcdUUwMDAtXFx1RkVGRVxcdUZGMDAtXFx1RkZGRl18W1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGXXxbXFx1RDgwMC1cXHVEQkZGXSg/IVtcXHVEQzAwLVxcdURGRkZdKXwoPzpbXlxcdUQ4MDAtXFx1REJGRl18XilbXFx1REMwMC1cXHVERkZGXSkrKD86Oig/OltcXDAtXFx4MDhcXHgwRS1cXHgxRiEtXFx4OUZcXHhBMS1cXHUxNjdGXFx1MTY4MS1cXHUxRkZGXFx1MjAwQi1cXHUyMDI3XFx1MjAyQS1cXHUyMDJFXFx1MjAzMC1cXHUyMDVFXFx1MjA2MC1cXHUyRkZGXFx1MzAwMS1cXHVEN0ZGXFx1RTAwMC1cXHVGRUZFXFx1RkYwMC1cXHVGRkZGXXxbXFx1RDgwMC1cXHVEQkZGXVtcXHVEQzAwLVxcdURGRkZdfFtcXHVEODAwLVxcdURCRkZdKD8hW1xcdURDMDAtXFx1REZGRl0pfCg/OlteXFx1RDgwMC1cXHVEQkZGXXxeKVtcXHVEQzAwLVxcdURGRkZdKSopP0ApPyg/Oig/ITEwKD86XFwuWzAtOV17MSwzfSl7M30pKD8hMTI3KD86XFwuWzAtOV17MSwzfSl7M30pKD8hMTY5XFwuMjU0KD86XFwuWzAtOV17MSwzfSl7Mn0pKD8hMTkyXFwuMTY4KD86XFwuWzAtOV17MSwzfSl7Mn0pKD8hMTcyXFwuKD86MVs2LTldfDJbMC05XXwzWzAxXSkoPzpcXC5bMC05XXsxLDN9KXsyfSkoPzpbMS05XVswLTldP3wxWzAtOV1bMC05XXwyWzAxXVswLTldfDIyWzAtM10pKD86XFwuKD86MT9bMC05XXsxLDJ9fDJbMC00XVswLTldfDI1WzAtNV0pKXsyfSg/OlxcLig/OlsxLTldWzAtOV0/fDFbMC05XVswLTldfDJbMC00XVswLTldfDI1WzAtNF0pKXwoPzooPzooPzpbMC05YS16XFx4QTEtXFx1RDdGRlxcdUUwMDAtXFx1RkZGRl18W1xcdUQ4MDAtXFx1REJGRl0oPyFbXFx1REMwMC1cXHVERkZGXSl8KD86W15cXHVEODAwLVxcdURCRkZdfF4pW1xcdURDMDAtXFx1REZGRl0pKy0pKig/OlswLTlhLXpcXHhBMS1cXHVEN0ZGXFx1RTAwMC1cXHVGRkZGXXxbXFx1RDgwMC1cXHVEQkZGXSg/IVtcXHVEQzAwLVxcdURGRkZdKXwoPzpbXlxcdUQ4MDAtXFx1REJGRl18XilbXFx1REMwMC1cXHVERkZGXSkrKSg/OlxcLig/Oig/OlswLTlhLXpcXHhBMS1cXHVEN0ZGXFx1RTAwMC1cXHVGRkZGXXxbXFx1RDgwMC1cXHVEQkZGXSg/IVtcXHVEQzAwLVxcdURGRkZdKXwoPzpbXlxcdUQ4MDAtXFx1REJGRl18XilbXFx1REMwMC1cXHVERkZGXSkrLSkqKD86WzAtOWEtelxceEExLVxcdUQ3RkZcXHVFMDAwLVxcdUZGRkZdfFtcXHVEODAwLVxcdURCRkZdKD8hW1xcdURDMDAtXFx1REZGRl0pfCg/OlteXFx1RDgwMC1cXHVEQkZGXXxeKVtcXHVEQzAwLVxcdURGRkZdKSspKig/OlxcLig/Oig/OlthLXpcXHhBMS1cXHVEN0ZGXFx1RTAwMC1cXHVGRkZGXXxbXFx1RDgwMC1cXHVEQkZGXSg/IVtcXHVEQzAwLVxcdURGRkZdKXwoPzpbXlxcdUQ4MDAtXFx1REJGRl18XilbXFx1REMwMC1cXHVERkZGXSl7Mix9KSkpKD86OlswLTldezIsNX0pPyg/OlxcLyg/OltcXDAtXFx4MDhcXHgwRS1cXHgxRiEtXFx4OUZcXHhBMS1cXHUxNjdGXFx1MTY4MS1cXHUxRkZGXFx1MjAwQi1cXHUyMDI3XFx1MjAyQS1cXHUyMDJFXFx1MjAzMC1cXHUyMDVFXFx1MjA2MC1cXHUyRkZGXFx1MzAwMS1cXHVEN0ZGXFx1RTAwMC1cXHVGRUZFXFx1RkYwMC1cXHVGRkZGXXxbXFx1RDgwMC1cXHVEQkZGXVtcXHVEQzAwLVxcdURGRkZdfFtcXHVEODAwLVxcdURCRkZdKD8hW1xcdURDMDAtXFx1REZGRl0pfCg/OlteXFx1RDgwMC1cXHVEQkZGXXxeKVtcXHVEQzAwLVxcdURGRkZdKSopPyQvaTtcbnZhciBVVUlEID0gL14oPzp1cm46dXVpZDopP1swLTlhLWZdezh9LSg/OlswLTlhLWZdezR9LSl7M31bMC05YS1mXXsxMn0kL2k7XG52YXIgSlNPTl9QT0lOVEVSID0gL14oPzpcXC8oPzpbXn4vXXx+MHx+MSkqKSokLztcbnZhciBKU09OX1BPSU5URVJfVVJJX0ZSQUdNRU5UID0gL14jKD86XFwvKD86W2EtejAtOV9cXC0uISQmJygpKissOzo9QF18JVswLTlhLWZdezJ9fH4wfH4xKSopKiQvaTtcbnZhciBSRUxBVElWRV9KU09OX1BPSU5URVIgPSAvXig/OjB8WzEtOV1bMC05XSopKD86I3woPzpcXC8oPzpbXn4vXXx+MHx+MSkqKSopJC87XG5cblxubW9kdWxlLmV4cG9ydHMgPSBmb3JtYXRzO1xuXG5mdW5jdGlvbiBmb3JtYXRzKG1vZGUpIHtcbiAgbW9kZSA9IG1vZGUgPT0gJ2Z1bGwnID8gJ2Z1bGwnIDogJ2Zhc3QnO1xuICByZXR1cm4gdXRpbC5jb3B5KGZvcm1hdHNbbW9kZV0pO1xufVxuXG5cbmZvcm1hdHMuZmFzdCA9IHtcbiAgLy8gZGF0ZTogaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzMzOSNzZWN0aW9uLTUuNlxuICBkYXRlOiAvXlxcZFxcZFxcZFxcZC1bMC0xXVxcZC1bMC0zXVxcZCQvLFxuICAvLyBkYXRlLXRpbWU6IGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMzMzkjc2VjdGlvbi01LjZcbiAgdGltZTogL14oPzpbMC0yXVxcZDpbMC01XVxcZDpbMC01XVxcZHwyMzo1OTo2MCkoPzpcXC5cXGQrKT8oPzp6fFsrLV1cXGRcXGQoPzo6P1xcZFxcZCk/KT8kL2ksXG4gICdkYXRlLXRpbWUnOiAvXlxcZFxcZFxcZFxcZC1bMC0xXVxcZC1bMC0zXVxcZFt0XFxzXSg/OlswLTJdXFxkOlswLTVdXFxkOlswLTVdXFxkfDIzOjU5OjYwKSg/OlxcLlxcZCspPyg/Onp8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8pJC9pLFxuICAvLyB1cmk6IGh0dHBzOi8vZ2l0aHViLmNvbS9tYWZpbnRvc2gvaXMtbXktanNvbi12YWxpZC9ibG9iL21hc3Rlci9mb3JtYXRzLmpzXG4gIHVyaTogL14oPzpbYS16XVthLXowLTkrXFwtLl0qOikoPzpcXC8/XFwvKT9bXlxcc10qJC9pLFxuICAndXJpLXJlZmVyZW5jZSc6IC9eKD86KD86W2Etel1bYS16MC05K1xcLS5dKjopP1xcLz9cXC8pPyg/OlteXFxcXFxccyNdW15cXHMjXSopPyg/OiNbXlxcXFxcXHNdKik/JC9pLFxuICAndXJpLXRlbXBsYXRlJzogVVJJVEVNUExBVEUsXG4gIHVybDogVVJMLFxuICAvLyBlbWFpbCAoc291cmNlcyBmcm9tIGpzZW4gdmFsaWRhdG9yKTpcbiAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMDEzMjMvdXNpbmctYS1yZWd1bGFyLWV4cHJlc3Npb24tdG8tdmFsaWRhdGUtYW4tZW1haWwtYWRkcmVzcyNhbnN3ZXItODgyOTM2M1xuICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9odG1sNS9mb3Jtcy5odG1sI3ZhbGlkLWUtbWFpbC1hZGRyZXNzIChzZWFyY2ggZm9yICd3aWxsZnVsIHZpb2xhdGlvbicpXG4gIGVtYWlsOiAvXlthLXowLTkuISMkJSYnKisvPT9eX2B7fH1+LV0rQFthLXowLTldKD86W2EtejAtOS1dezAsNjF9W2EtejAtOV0pPyg/OlxcLlthLXowLTldKD86W2EtejAtOS1dezAsNjF9W2EtejAtOV0pPykqJC9pLFxuICBob3N0bmFtZTogSE9TVE5BTUUsXG4gIC8vIG9wdGltaXplZCBodHRwczovL3d3dy5zYWZhcmlib29rc29ubGluZS5jb20vbGlicmFyeS92aWV3L3JlZ3VsYXItZXhwcmVzc2lvbnMtY29va2Jvb2svOTc4MDU5NjgwMjgzNy9jaDA3czE2Lmh0bWxcbiAgaXB2NDogL14oPzooPzoyNVswLTVdfDJbMC00XVxcZHxbMDFdP1xcZFxcZD8pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdXFxkfFswMV0/XFxkXFxkPykkLyxcbiAgLy8gb3B0aW1pemVkIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTM0OTcvcmVndWxhci1leHByZXNzaW9uLXRoYXQtbWF0Y2hlcy12YWxpZC1pcHY2LWFkZHJlc3Nlc1xuICBpcHY2OiAvXlxccyooPzooPzooPzpbMC05YS1mXXsxLDR9Oil7N30oPzpbMC05YS1mXXsxLDR9fDopKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7Nn0oPzo6WzAtOWEtZl17MSw0fXwoPzooPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoPzpcXC4oPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KD86KD86WzAtOWEtZl17MSw0fTopezV9KD86KD86KD86OlswLTlhLWZdezEsNH0pezEsMn0pfDooPzooPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoPzpcXC4oPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KD86KD86WzAtOWEtZl17MSw0fTopezR9KD86KD86KD86OlswLTlhLWZdezEsNH0pezEsM30pfCg/Oig/OjpbMC05YS1mXXsxLDR9KT86KD86KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7M30oPzooPzooPzo6WzAtOWEtZl17MSw0fSl7MSw0fSl8KD86KD86OlswLTlhLWZdezEsNH0pezAsMn06KD86KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7Mn0oPzooPzooPzo6WzAtOWEtZl17MSw0fSl7MSw1fSl8KD86KD86OlswLTlhLWZdezEsNH0pezAsM306KD86KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MX0oPzooPzooPzo6WzAtOWEtZl17MSw0fSl7MSw2fSl8KD86KD86OlswLTlhLWZdezEsNH0pezAsNH06KD86KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoPzo6KD86KD86KD86OlswLTlhLWZdezEsNH0pezEsN30pfCg/Oig/OjpbMC05YS1mXXsxLDR9KXswLDV9Oig/Oig/OjI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSg/OlxcLig/OjI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSkpKD86JS4rKT9cXHMqJC9pLFxuICByZWdleDogcmVnZXgsXG4gIC8vIHV1aWQ6IGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzQxMjJcbiAgdXVpZDogVVVJRCxcbiAgLy8gSlNPTi1wb2ludGVyOiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjkwMVxuICAvLyB1cmkgZnJhZ21lbnQ6IGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I2FwcGVuZGl4LUFcbiAgJ2pzb24tcG9pbnRlcic6IEpTT05fUE9JTlRFUixcbiAgJ2pzb24tcG9pbnRlci11cmktZnJhZ21lbnQnOiBKU09OX1BPSU5URVJfVVJJX0ZSQUdNRU5ULFxuICAvLyByZWxhdGl2ZSBKU09OLXBvaW50ZXI6IGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL2RyYWZ0LWx1ZmYtcmVsYXRpdmUtanNvbi1wb2ludGVyLTAwXG4gICdyZWxhdGl2ZS1qc29uLXBvaW50ZXInOiBSRUxBVElWRV9KU09OX1BPSU5URVJcbn07XG5cblxuZm9ybWF0cy5mdWxsID0ge1xuICBkYXRlOiBkYXRlLFxuICB0aW1lOiB0aW1lLFxuICAnZGF0ZS10aW1lJzogZGF0ZV90aW1lLFxuICB1cmk6IHVyaSxcbiAgJ3VyaS1yZWZlcmVuY2UnOiBVUklSRUYsXG4gICd1cmktdGVtcGxhdGUnOiBVUklURU1QTEFURSxcbiAgdXJsOiBVUkwsXG4gIGVtYWlsOiAvXlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSsoPzpcXC5bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKSpAKD86W2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP1xcLikrW2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pPyQvaSxcbiAgaG9zdG5hbWU6IEhPU1ROQU1FLFxuICBpcHY0OiAvXig/Oig/OjI1WzAtNV18MlswLTRdXFxkfFswMV0/XFxkXFxkPylcXC4pezN9KD86MjVbMC01XXwyWzAtNF1cXGR8WzAxXT9cXGRcXGQ/KSQvLFxuICBpcHY2OiAvXlxccyooPzooPzooPzpbMC05YS1mXXsxLDR9Oil7N30oPzpbMC05YS1mXXsxLDR9fDopKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7Nn0oPzo6WzAtOWEtZl17MSw0fXwoPzooPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoPzpcXC4oPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KD86KD86WzAtOWEtZl17MSw0fTopezV9KD86KD86KD86OlswLTlhLWZdezEsNH0pezEsMn0pfDooPzooPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoPzpcXC4oPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KD86KD86WzAtOWEtZl17MSw0fTopezR9KD86KD86KD86OlswLTlhLWZdezEsNH0pezEsM30pfCg/Oig/OjpbMC05YS1mXXsxLDR9KT86KD86KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7M30oPzooPzooPzo6WzAtOWEtZl17MSw0fSl7MSw0fSl8KD86KD86OlswLTlhLWZdezEsNH0pezAsMn06KD86KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7Mn0oPzooPzooPzo6WzAtOWEtZl17MSw0fSl7MSw1fSl8KD86KD86OlswLTlhLWZdezEsNH0pezAsM306KD86KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MX0oPzooPzooPzo6WzAtOWEtZl17MSw0fSl7MSw2fSl8KD86KD86OlswLTlhLWZdezEsNH0pezAsNH06KD86KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKD86XFwuKD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoPzo6KD86KD86KD86OlswLTlhLWZdezEsNH0pezEsN30pfCg/Oig/OjpbMC05YS1mXXsxLDR9KXswLDV9Oig/Oig/OjI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSg/OlxcLig/OjI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSkpKD86JS4rKT9cXHMqJC9pLFxuICByZWdleDogcmVnZXgsXG4gIHV1aWQ6IFVVSUQsXG4gICdqc29uLXBvaW50ZXInOiBKU09OX1BPSU5URVIsXG4gICdqc29uLXBvaW50ZXItdXJpLWZyYWdtZW50JzogSlNPTl9QT0lOVEVSX1VSSV9GUkFHTUVOVCxcbiAgJ3JlbGF0aXZlLWpzb24tcG9pbnRlcic6IFJFTEFUSVZFX0pTT05fUE9JTlRFUlxufTtcblxuXG5mdW5jdGlvbiBpc0xlYXBZZWFyKHllYXIpIHtcbiAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMzMzkjYXBwZW5kaXgtQ1xuICByZXR1cm4geWVhciAlIDQgPT09IDAgJiYgKHllYXIgJSAxMDAgIT09IDAgfHwgeWVhciAlIDQwMCA9PT0gMCk7XG59XG5cblxuZnVuY3Rpb24gZGF0ZShzdHIpIHtcbiAgLy8gZnVsbC1kYXRlIGZyb20gaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzMzOSNzZWN0aW9uLTUuNlxuICB2YXIgbWF0Y2hlcyA9IHN0ci5tYXRjaChEQVRFKTtcbiAgaWYgKCFtYXRjaGVzKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIHllYXIgPSArbWF0Y2hlc1sxXTtcbiAgdmFyIG1vbnRoID0gK21hdGNoZXNbMl07XG4gIHZhciBkYXkgPSArbWF0Y2hlc1szXTtcblxuICByZXR1cm4gbW9udGggPj0gMSAmJiBtb250aCA8PSAxMiAmJiBkYXkgPj0gMSAmJlxuICAgICAgICAgIGRheSA8PSAobW9udGggPT0gMiAmJiBpc0xlYXBZZWFyKHllYXIpID8gMjkgOiBEQVlTW21vbnRoXSk7XG59XG5cblxuZnVuY3Rpb24gdGltZShzdHIsIGZ1bGwpIHtcbiAgdmFyIG1hdGNoZXMgPSBzdHIubWF0Y2goVElNRSk7XG4gIGlmICghbWF0Y2hlcykgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBob3VyID0gbWF0Y2hlc1sxXTtcbiAgdmFyIG1pbnV0ZSA9IG1hdGNoZXNbMl07XG4gIHZhciBzZWNvbmQgPSBtYXRjaGVzWzNdO1xuICB2YXIgdGltZVpvbmUgPSBtYXRjaGVzWzVdO1xuICByZXR1cm4gKChob3VyIDw9IDIzICYmIG1pbnV0ZSA8PSA1OSAmJiBzZWNvbmQgPD0gNTkpIHx8XG4gICAgICAgICAgKGhvdXIgPT0gMjMgJiYgbWludXRlID09IDU5ICYmIHNlY29uZCA9PSA2MCkpICYmXG4gICAgICAgICAoIWZ1bGwgfHwgdGltZVpvbmUpO1xufVxuXG5cbnZhciBEQVRFX1RJTUVfU0VQQVJBVE9SID0gL3R8XFxzL2k7XG5mdW5jdGlvbiBkYXRlX3RpbWUoc3RyKSB7XG4gIC8vIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMzMzkjc2VjdGlvbi01LjZcbiAgdmFyIGRhdGVUaW1lID0gc3RyLnNwbGl0KERBVEVfVElNRV9TRVBBUkFUT1IpO1xuICByZXR1cm4gZGF0ZVRpbWUubGVuZ3RoID09IDIgJiYgZGF0ZShkYXRlVGltZVswXSkgJiYgdGltZShkYXRlVGltZVsxXSwgdHJ1ZSk7XG59XG5cblxudmFyIE5PVF9VUklfRlJBR01FTlQgPSAvXFwvfDovO1xuZnVuY3Rpb24gdXJpKHN0cikge1xuICAvLyBodHRwOi8vam1yd2FyZS5jb20vYXJ0aWNsZXMvMjAwOS91cmlfcmVnZXhwL1VSSV9yZWdleC5odG1sICsgb3B0aW9uYWwgcHJvdG9jb2wgKyByZXF1aXJlZCBcIi5cIlxuICByZXR1cm4gTk9UX1VSSV9GUkFHTUVOVC50ZXN0KHN0cikgJiYgVVJJLnRlc3Qoc3RyKTtcbn1cblxuXG52YXIgWl9BTkNIT1IgPSAvW15cXFxcXVxcXFxaLztcbmZ1bmN0aW9uIHJlZ2V4KHN0cikge1xuICBpZiAoWl9BTkNIT1IudGVzdChzdHIpKSByZXR1cm4gZmFsc2U7XG4gIHRyeSB7XG4gICAgbmV3IFJlZ0V4cChzdHIpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2VuZXJhdGVfcmVmKGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGtleXdvcmQ7XG4gIHZhciAkYnJlYWtPbkVycm9yID0gIWl0Lm9wdHMuYWxsRXJyb3JzO1xuICB2YXIgJGRhdGEgPSAnZGF0YScgKyAoJGRhdGFMdmwgfHwgJycpO1xuICB2YXIgJHZhbGlkID0gJ3ZhbGlkJyArICRsdmw7XG4gIHZhciAkYXN5bmMsICRyZWZDb2RlO1xuICBpZiAoJHNjaGVtYSA9PSAnIycgfHwgJHNjaGVtYSA9PSAnIy8nKSB7XG4gICAgaWYgKGl0LmlzUm9vdCkge1xuICAgICAgJGFzeW5jID0gaXQuYXN5bmM7XG4gICAgICAkcmVmQ29kZSA9ICd2YWxpZGF0ZSc7XG4gICAgfSBlbHNlIHtcbiAgICAgICRhc3luYyA9IGl0LnJvb3Quc2NoZW1hLiRhc3luYyA9PT0gdHJ1ZTtcbiAgICAgICRyZWZDb2RlID0gJ3Jvb3QucmVmVmFsWzBdJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyICRyZWZWYWwgPSBpdC5yZXNvbHZlUmVmKGl0LmJhc2VJZCwgJHNjaGVtYSwgaXQuaXNSb290KTtcbiAgICBpZiAoJHJlZlZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgJG1lc3NhZ2UgPSBpdC5NaXNzaW5nUmVmRXJyb3IubWVzc2FnZShpdC5iYXNlSWQsICRzY2hlbWEpO1xuICAgICAgaWYgKGl0Lm9wdHMubWlzc2luZ1JlZnMgPT0gJ2ZhaWwnKSB7XG4gICAgICAgIGl0LmxvZ2dlci5lcnJvcigkbWVzc2FnZSk7XG4gICAgICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAgICAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gICAgICAgIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgICAgICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgnJHJlZicpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsgcmVmOiBcXCcnICsgKGl0LnV0aWwuZXNjYXBlUXVvdGVzKCRzY2hlbWEpKSArICdcXCcgfSAnO1xuICAgICAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdjYW5cXFxcXFwndCByZXNvbHZlIHJlZmVyZW5jZSAnICsgKGl0LnV0aWwuZXNjYXBlUXVvdGVzKCRzY2hlbWEpKSArICdcXCcgJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkc2NoZW1hKSkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcge30gJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgX19lcnIgPSBvdXQ7XG4gICAgICAgIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gICAgICAgIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgb3V0ICs9ICcgaWYgKGZhbHNlKSB7ICc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaXQub3B0cy5taXNzaW5nUmVmcyA9PSAnaWdub3JlJykge1xuICAgICAgICBpdC5sb2dnZXIud2FybigkbWVzc2FnZSk7XG4gICAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgb3V0ICs9ICcgaWYgKHRydWUpIHsgJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IGl0Lk1pc3NpbmdSZWZFcnJvcihpdC5iYXNlSWQsICRzY2hlbWEsICRtZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCRyZWZWYWwuaW5saW5lKSB7XG4gICAgICB2YXIgJGl0ID0gaXQudXRpbC5jb3B5KGl0KTtcbiAgICAgICRpdC5sZXZlbCsrO1xuICAgICAgdmFyICRuZXh0VmFsaWQgPSAndmFsaWQnICsgJGl0LmxldmVsO1xuICAgICAgJGl0LnNjaGVtYSA9ICRyZWZWYWwuc2NoZW1hO1xuICAgICAgJGl0LnNjaGVtYVBhdGggPSAnJztcbiAgICAgICRpdC5lcnJTY2hlbWFQYXRoID0gJHNjaGVtYTtcbiAgICAgIHZhciAkY29kZSA9IGl0LnZhbGlkYXRlKCRpdCkucmVwbGFjZSgvdmFsaWRhdGVcXC5zY2hlbWEvZywgJHJlZlZhbC5jb2RlKTtcbiAgICAgIG91dCArPSAnICcgKyAoJGNvZGUpICsgJyAnO1xuICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoJG5leHRWYWxpZCkgKyAnKSB7ICc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICRhc3luYyA9ICRyZWZWYWwuJGFzeW5jID09PSB0cnVlIHx8IChpdC5hc3luYyAmJiAkcmVmVmFsLiRhc3luYyAhPT0gZmFsc2UpO1xuICAgICAgJHJlZkNvZGUgPSAkcmVmVmFsLmNvZGU7XG4gICAgfVxuICB9XG4gIGlmICgkcmVmQ29kZSkge1xuICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgICBvdXQgPSAnJztcbiAgICBpZiAoaXQub3B0cy5wYXNzQ29udGV4dCkge1xuICAgICAgb3V0ICs9ICcgJyArICgkcmVmQ29kZSkgKyAnLmNhbGwodGhpcywgJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgJyArICgkcmVmQ29kZSkgKyAnKCAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyAnICsgKCRkYXRhKSArICcsIChkYXRhUGF0aCB8fCBcXCdcXCcpJztcbiAgICBpZiAoaXQuZXJyb3JQYXRoICE9ICdcIlwiJykge1xuICAgICAgb3V0ICs9ICcgKyAnICsgKGl0LmVycm9yUGF0aCk7XG4gICAgfVxuICAgIHZhciAkcGFyZW50RGF0YSA9ICRkYXRhTHZsID8gJ2RhdGEnICsgKCgkZGF0YUx2bCAtIDEpIHx8ICcnKSA6ICdwYXJlbnREYXRhJyxcbiAgICAgICRwYXJlbnREYXRhUHJvcGVydHkgPSAkZGF0YUx2bCA/IGl0LmRhdGFQYXRoQXJyWyRkYXRhTHZsXSA6ICdwYXJlbnREYXRhUHJvcGVydHknO1xuICAgIG91dCArPSAnICwgJyArICgkcGFyZW50RGF0YSkgKyAnICwgJyArICgkcGFyZW50RGF0YVByb3BlcnR5KSArICcsIHJvb3REYXRhKSAgJztcbiAgICB2YXIgX19jYWxsVmFsaWRhdGUgPSBvdXQ7XG4gICAgb3V0ID0gJCRvdXRTdGFjay5wb3AoKTtcbiAgICBpZiAoJGFzeW5jKSB7XG4gICAgICBpZiAoIWl0LmFzeW5jKSB0aHJvdyBuZXcgRXJyb3IoJ2FzeW5jIHNjaGVtYSByZWZlcmVuY2VkIGJ5IHN5bmMgc2NoZW1hJyk7XG4gICAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgICBvdXQgKz0gJyB2YXIgJyArICgkdmFsaWQpICsgJzsgJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnIHRyeSB7IGF3YWl0ICcgKyAoX19jYWxsVmFsaWRhdGUpICsgJzsgJztcbiAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgIG91dCArPSAnICcgKyAoJHZhbGlkKSArICcgPSB0cnVlOyAnO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgfSBjYXRjaCAoZSkgeyBpZiAoIShlIGluc3RhbmNlb2YgVmFsaWRhdGlvbkVycm9yKSkgdGhyb3cgZTsgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBlLmVycm9yczsgZWxzZSB2RXJyb3JzID0gdkVycm9ycy5jb25jYXQoZS5lcnJvcnMpOyBlcnJvcnMgPSB2RXJyb3JzLmxlbmd0aDsgJztcbiAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgIG91dCArPSAnICcgKyAoJHZhbGlkKSArICcgPSBmYWxzZTsgJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnIH0gJztcbiAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgIG91dCArPSAnIGlmICgnICsgKCR2YWxpZCkgKyAnKSB7ICc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIGlmICghJyArIChfX2NhbGxWYWxpZGF0ZSkgKyAnKSB7IGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gJyArICgkcmVmQ29kZSkgKyAnLmVycm9yczsgZWxzZSB2RXJyb3JzID0gdkVycm9ycy5jb25jYXQoJyArICgkcmVmQ29kZSkgKyAnLmVycm9ycyk7IGVycm9ycyA9IHZFcnJvcnMubGVuZ3RoOyB9ICc7XG4gICAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgICBvdXQgKz0gJyBlbHNlIHsgJztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2VuZXJhdGVfYWxsT2YoaXQsICRrZXl3b3JkLCAkcnVsZVR5cGUpIHtcbiAgdmFyIG91dCA9ICcgJztcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkaXQgPSBpdC51dGlsLmNvcHkoaXQpO1xuICB2YXIgJGNsb3NpbmdCcmFjZXMgPSAnJztcbiAgJGl0LmxldmVsKys7XG4gIHZhciAkbmV4dFZhbGlkID0gJ3ZhbGlkJyArICRpdC5sZXZlbDtcbiAgdmFyICRjdXJyZW50QmFzZUlkID0gJGl0LmJhc2VJZCxcbiAgICAkYWxsU2NoZW1hc0VtcHR5ID0gdHJ1ZTtcbiAgdmFyIGFycjEgPSAkc2NoZW1hO1xuICBpZiAoYXJyMSkge1xuICAgIHZhciAkc2NoLCAkaSA9IC0xLFxuICAgICAgbDEgPSBhcnIxLmxlbmd0aCAtIDE7XG4gICAgd2hpbGUgKCRpIDwgbDEpIHtcbiAgICAgICRzY2ggPSBhcnIxWyRpICs9IDFdO1xuICAgICAgaWYgKChpdC5vcHRzLnN0cmljdEtleXdvcmRzID8gKHR5cGVvZiAkc2NoID09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKCRzY2gpLmxlbmd0aCA+IDApIHx8ICRzY2ggPT09IGZhbHNlIDogaXQudXRpbC5zY2hlbWFIYXNSdWxlcygkc2NoLCBpdC5SVUxFUy5hbGwpKSkge1xuICAgICAgICAkYWxsU2NoZW1hc0VtcHR5ID0gZmFsc2U7XG4gICAgICAgICRpdC5zY2hlbWEgPSAkc2NoO1xuICAgICAgICAkaXQuc2NoZW1hUGF0aCA9ICRzY2hlbWFQYXRoICsgJ1snICsgJGkgKyAnXSc7XG4gICAgICAgICRpdC5lcnJTY2hlbWFQYXRoID0gJGVyclNjaGVtYVBhdGggKyAnLycgKyAkaTtcbiAgICAgICAgb3V0ICs9ICcgICcgKyAoaXQudmFsaWRhdGUoJGl0KSkgKyAnICc7XG4gICAgICAgICRpdC5iYXNlSWQgPSAkY3VycmVudEJhc2VJZDtcbiAgICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICBvdXQgKz0gJyBpZiAoJyArICgkbmV4dFZhbGlkKSArICcpIHsgJztcbiAgICAgICAgICAkY2xvc2luZ0JyYWNlcyArPSAnfSc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICBpZiAoJGFsbFNjaGVtYXNFbXB0eSkge1xuICAgICAgb3V0ICs9ICcgaWYgKHRydWUpIHsgJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgJyArICgkY2xvc2luZ0JyYWNlcy5zbGljZSgwLCAtMSkpICsgJyAnO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZW5lcmF0ZV9hbnlPZihpdCwgJGtleXdvcmQsICRydWxlVHlwZSkge1xuICB2YXIgb3V0ID0gJyAnO1xuICB2YXIgJGx2bCA9IGl0LmxldmVsO1xuICB2YXIgJGRhdGFMdmwgPSBpdC5kYXRhTGV2ZWw7XG4gIHZhciAkc2NoZW1hID0gaXQuc2NoZW1hWyRrZXl3b3JkXTtcbiAgdmFyICRzY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArIGl0LnV0aWwuZ2V0UHJvcGVydHkoJGtleXdvcmQpO1xuICB2YXIgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGtleXdvcmQ7XG4gIHZhciAkYnJlYWtPbkVycm9yID0gIWl0Lm9wdHMuYWxsRXJyb3JzO1xuICB2YXIgJGRhdGEgPSAnZGF0YScgKyAoJGRhdGFMdmwgfHwgJycpO1xuICB2YXIgJHZhbGlkID0gJ3ZhbGlkJyArICRsdmw7XG4gIHZhciAkZXJycyA9ICdlcnJzX18nICsgJGx2bDtcbiAgdmFyICRpdCA9IGl0LnV0aWwuY29weShpdCk7XG4gIHZhciAkY2xvc2luZ0JyYWNlcyA9ICcnO1xuICAkaXQubGV2ZWwrKztcbiAgdmFyICRuZXh0VmFsaWQgPSAndmFsaWQnICsgJGl0LmxldmVsO1xuICB2YXIgJG5vRW1wdHlTY2hlbWEgPSAkc2NoZW1hLmV2ZXJ5KGZ1bmN0aW9uKCRzY2gpIHtcbiAgICByZXR1cm4gKGl0Lm9wdHMuc3RyaWN0S2V5d29yZHMgPyAodHlwZW9mICRzY2ggPT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMoJHNjaCkubGVuZ3RoID4gMCkgfHwgJHNjaCA9PT0gZmFsc2UgOiBpdC51dGlsLnNjaGVtYUhhc1J1bGVzKCRzY2gsIGl0LlJVTEVTLmFsbCkpO1xuICB9KTtcbiAgaWYgKCRub0VtcHR5U2NoZW1hKSB7XG4gICAgdmFyICRjdXJyZW50QmFzZUlkID0gJGl0LmJhc2VJZDtcbiAgICBvdXQgKz0gJyB2YXIgJyArICgkZXJycykgKyAnID0gZXJyb3JzOyB2YXIgJyArICgkdmFsaWQpICsgJyA9IGZhbHNlOyAgJztcbiAgICB2YXIgJHdhc0NvbXBvc2l0ZSA9IGl0LmNvbXBvc2l0ZVJ1bGU7XG4gICAgaXQuY29tcG9zaXRlUnVsZSA9ICRpdC5jb21wb3NpdGVSdWxlID0gdHJ1ZTtcbiAgICB2YXIgYXJyMSA9ICRzY2hlbWE7XG4gICAgaWYgKGFycjEpIHtcbiAgICAgIHZhciAkc2NoLCAkaSA9IC0xLFxuICAgICAgICBsMSA9IGFycjEubGVuZ3RoIC0gMTtcbiAgICAgIHdoaWxlICgkaSA8IGwxKSB7XG4gICAgICAgICRzY2ggPSBhcnIxWyRpICs9IDFdO1xuICAgICAgICAkaXQuc2NoZW1hID0gJHNjaDtcbiAgICAgICAgJGl0LnNjaGVtYVBhdGggPSAkc2NoZW1hUGF0aCArICdbJyArICRpICsgJ10nO1xuICAgICAgICAkaXQuZXJyU2NoZW1hUGF0aCA9ICRlcnJTY2hlbWFQYXRoICsgJy8nICsgJGk7XG4gICAgICAgIG91dCArPSAnICAnICsgKGl0LnZhbGlkYXRlKCRpdCkpICsgJyAnO1xuICAgICAgICAkaXQuYmFzZUlkID0gJGN1cnJlbnRCYXNlSWQ7XG4gICAgICAgIG91dCArPSAnICcgKyAoJHZhbGlkKSArICcgPSAnICsgKCR2YWxpZCkgKyAnIHx8ICcgKyAoJG5leHRWYWxpZCkgKyAnOyBpZiAoIScgKyAoJHZhbGlkKSArICcpIHsgJztcbiAgICAgICAgJGNsb3NpbmdCcmFjZXMgKz0gJ30nO1xuICAgICAgfVxuICAgIH1cbiAgICBpdC5jb21wb3NpdGVSdWxlID0gJGl0LmNvbXBvc2l0ZVJ1bGUgPSAkd2FzQ29tcG9zaXRlO1xuICAgIG91dCArPSAnICcgKyAoJGNsb3NpbmdCcmFjZXMpICsgJyBpZiAoIScgKyAoJHZhbGlkKSArICcpIHsgICB2YXIgZXJyID0gICAnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ2FueU9mJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczoge30gJztcbiAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBtYXRjaCBzb21lIHNjaGVtYSBpbiBhbnlPZlxcJyAnO1xuICAgICAgfVxuICAgICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgICBvdXQgKz0gJyAsIHNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgfSAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyB7fSAnO1xuICAgIH1cbiAgICBvdXQgKz0gJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICAgIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChpdC5hc3luYykge1xuICAgICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKHZFcnJvcnMpOyAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gdkVycm9yczsgcmV0dXJuIGZhbHNlOyAnO1xuICAgICAgfVxuICAgIH1cbiAgICBvdXQgKz0gJyB9IGVsc2UgeyAgZXJyb3JzID0gJyArICgkZXJycykgKyAnOyBpZiAodkVycm9ycyAhPT0gbnVsbCkgeyBpZiAoJyArICgkZXJycykgKyAnKSB2RXJyb3JzLmxlbmd0aCA9ICcgKyAoJGVycnMpICsgJzsgZWxzZSB2RXJyb3JzID0gbnVsbDsgfSAnO1xuICAgIGlmIChpdC5vcHRzLmFsbEVycm9ycykge1xuICAgICAgb3V0ICs9ICcgfSAnO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgb3V0ICs9ICcgaWYgKHRydWUpIHsgJztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2VuZXJhdGVfY29tbWVudChpdCwgJGtleXdvcmQsICRydWxlVHlwZSkge1xuICB2YXIgb3V0ID0gJyAnO1xuICB2YXIgJHNjaGVtYSA9IGl0LnNjaGVtYVska2V5d29yZF07XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkY29tbWVudCA9IGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJHNjaGVtYSk7XG4gIGlmIChpdC5vcHRzLiRjb21tZW50ID09PSB0cnVlKSB7XG4gICAgb3V0ICs9ICcgY29uc29sZS5sb2coJyArICgkY29tbWVudCkgKyAnKTsnO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBpdC5vcHRzLiRjb21tZW50ID09ICdmdW5jdGlvbicpIHtcbiAgICBvdXQgKz0gJyBzZWxmLl9vcHRzLiRjb21tZW50KCcgKyAoJGNvbW1lbnQpICsgJywgJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnLCB2YWxpZGF0ZS5yb290LnNjaGVtYSk7JztcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZW5lcmF0ZV9jb25zdChpdCwgJGtleXdvcmQsICRydWxlVHlwZSkge1xuICB2YXIgb3V0ID0gJyAnO1xuICB2YXIgJGx2bCA9IGl0LmxldmVsO1xuICB2YXIgJGRhdGFMdmwgPSBpdC5kYXRhTGV2ZWw7XG4gIHZhciAkc2NoZW1hID0gaXQuc2NoZW1hWyRrZXl3b3JkXTtcbiAgdmFyICRzY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArIGl0LnV0aWwuZ2V0UHJvcGVydHkoJGtleXdvcmQpO1xuICB2YXIgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGtleXdvcmQ7XG4gIHZhciAkYnJlYWtPbkVycm9yID0gIWl0Lm9wdHMuYWxsRXJyb3JzO1xuICB2YXIgJGRhdGEgPSAnZGF0YScgKyAoJGRhdGFMdmwgfHwgJycpO1xuICB2YXIgJHZhbGlkID0gJ3ZhbGlkJyArICRsdmw7XG4gIHZhciAkaXNEYXRhID0gaXQub3B0cy4kZGF0YSAmJiAkc2NoZW1hICYmICRzY2hlbWEuJGRhdGEsXG4gICAgJHNjaGVtYVZhbHVlO1xuICBpZiAoJGlzRGF0YSkge1xuICAgIG91dCArPSAnIHZhciBzY2hlbWEnICsgKCRsdmwpICsgJyA9ICcgKyAoaXQudXRpbC5nZXREYXRhKCRzY2hlbWEuJGRhdGEsICRkYXRhTHZsLCBpdC5kYXRhUGF0aEFycikpICsgJzsgJztcbiAgICAkc2NoZW1hVmFsdWUgPSAnc2NoZW1hJyArICRsdmw7XG4gIH0gZWxzZSB7XG4gICAgJHNjaGVtYVZhbHVlID0gJHNjaGVtYTtcbiAgfVxuICBpZiAoISRpc0RhdGEpIHtcbiAgICBvdXQgKz0gJyB2YXIgc2NoZW1hJyArICgkbHZsKSArICcgPSB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICc7JztcbiAgfVxuICBvdXQgKz0gJ3ZhciAnICsgKCR2YWxpZCkgKyAnID0gZXF1YWwoJyArICgkZGF0YSkgKyAnLCBzY2hlbWEnICsgKCRsdmwpICsgJyk7IGlmICghJyArICgkdmFsaWQpICsgJykgeyAgICc7XG4gIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgnY29uc3QnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IGFsbG93ZWRWYWx1ZTogc2NoZW1hJyArICgkbHZsKSArICcgfSAnO1xuICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgYmUgZXF1YWwgdG8gY29uc3RhbnRcXCcgJztcbiAgICB9XG4gICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJyAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSAnO1xuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHt9ICc7XG4gIH1cbiAgdmFyIF9fZXJyID0gb3V0O1xuICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChpdC5hc3luYykge1xuICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihbJyArIChfX2VycikgKyAnXSk7ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgfVxuICBvdXQgKz0gJyB9JztcbiAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICBvdXQgKz0gJyBlbHNlIHsgJztcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZW5lcmF0ZV9jb250YWlucyhpdCwgJGtleXdvcmQsICRydWxlVHlwZSkge1xuICB2YXIgb3V0ID0gJyAnO1xuICB2YXIgJGx2bCA9IGl0LmxldmVsO1xuICB2YXIgJGRhdGFMdmwgPSBpdC5kYXRhTGV2ZWw7XG4gIHZhciAkc2NoZW1hID0gaXQuc2NoZW1hWyRrZXl3b3JkXTtcbiAgdmFyICRzY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArIGl0LnV0aWwuZ2V0UHJvcGVydHkoJGtleXdvcmQpO1xuICB2YXIgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGtleXdvcmQ7XG4gIHZhciAkYnJlYWtPbkVycm9yID0gIWl0Lm9wdHMuYWxsRXJyb3JzO1xuICB2YXIgJGRhdGEgPSAnZGF0YScgKyAoJGRhdGFMdmwgfHwgJycpO1xuICB2YXIgJHZhbGlkID0gJ3ZhbGlkJyArICRsdmw7XG4gIHZhciAkZXJycyA9ICdlcnJzX18nICsgJGx2bDtcbiAgdmFyICRpdCA9IGl0LnV0aWwuY29weShpdCk7XG4gIHZhciAkY2xvc2luZ0JyYWNlcyA9ICcnO1xuICAkaXQubGV2ZWwrKztcbiAgdmFyICRuZXh0VmFsaWQgPSAndmFsaWQnICsgJGl0LmxldmVsO1xuICB2YXIgJGlkeCA9ICdpJyArICRsdmwsXG4gICAgJGRhdGFOeHQgPSAkaXQuZGF0YUxldmVsID0gaXQuZGF0YUxldmVsICsgMSxcbiAgICAkbmV4dERhdGEgPSAnZGF0YScgKyAkZGF0YU54dCxcbiAgICAkY3VycmVudEJhc2VJZCA9IGl0LmJhc2VJZCxcbiAgICAkbm9uRW1wdHlTY2hlbWEgPSAoaXQub3B0cy5zdHJpY3RLZXl3b3JkcyA/ICh0eXBlb2YgJHNjaGVtYSA9PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cygkc2NoZW1hKS5sZW5ndGggPiAwKSB8fCAkc2NoZW1hID09PSBmYWxzZSA6IGl0LnV0aWwuc2NoZW1hSGFzUnVsZXMoJHNjaGVtYSwgaXQuUlVMRVMuYWxsKSk7XG4gIG91dCArPSAndmFyICcgKyAoJGVycnMpICsgJyA9IGVycm9yczt2YXIgJyArICgkdmFsaWQpICsgJzsnO1xuICBpZiAoJG5vbkVtcHR5U2NoZW1hKSB7XG4gICAgdmFyICR3YXNDb21wb3NpdGUgPSBpdC5jb21wb3NpdGVSdWxlO1xuICAgIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9IHRydWU7XG4gICAgJGl0LnNjaGVtYSA9ICRzY2hlbWE7XG4gICAgJGl0LnNjaGVtYVBhdGggPSAkc2NoZW1hUGF0aDtcbiAgICAkaXQuZXJyU2NoZW1hUGF0aCA9ICRlcnJTY2hlbWFQYXRoO1xuICAgIG91dCArPSAnIHZhciAnICsgKCRuZXh0VmFsaWQpICsgJyA9IGZhbHNlOyBmb3IgKHZhciAnICsgKCRpZHgpICsgJyA9IDA7ICcgKyAoJGlkeCkgKyAnIDwgJyArICgkZGF0YSkgKyAnLmxlbmd0aDsgJyArICgkaWR4KSArICcrKykgeyAnO1xuICAgICRpdC5lcnJvclBhdGggPSBpdC51dGlsLmdldFBhdGhFeHByKGl0LmVycm9yUGF0aCwgJGlkeCwgaXQub3B0cy5qc29uUG9pbnRlcnMsIHRydWUpO1xuICAgIHZhciAkcGFzc0RhdGEgPSAkZGF0YSArICdbJyArICRpZHggKyAnXSc7XG4gICAgJGl0LmRhdGFQYXRoQXJyWyRkYXRhTnh0XSA9ICRpZHg7XG4gICAgdmFyICRjb2RlID0gaXQudmFsaWRhdGUoJGl0KTtcbiAgICAkaXQuYmFzZUlkID0gJGN1cnJlbnRCYXNlSWQ7XG4gICAgaWYgKGl0LnV0aWwudmFyT2NjdXJlbmNlcygkY29kZSwgJG5leHREYXRhKSA8IDIpIHtcbiAgICAgIG91dCArPSAnICcgKyAoaXQudXRpbC52YXJSZXBsYWNlKCRjb2RlLCAkbmV4dERhdGEsICRwYXNzRGF0YSkpICsgJyAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyB2YXIgJyArICgkbmV4dERhdGEpICsgJyA9ICcgKyAoJHBhc3NEYXRhKSArICc7ICcgKyAoJGNvZGUpICsgJyAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyBpZiAoJyArICgkbmV4dFZhbGlkKSArICcpIGJyZWFrOyB9ICAnO1xuICAgIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9ICR3YXNDb21wb3NpdGU7XG4gICAgb3V0ICs9ICcgJyArICgkY2xvc2luZ0JyYWNlcykgKyAnIGlmICghJyArICgkbmV4dFZhbGlkKSArICcpIHsnO1xuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIGlmICgnICsgKCRkYXRhKSArICcubGVuZ3RoID09IDApIHsnO1xuICB9XG4gIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgnY29udGFpbnMnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7fSAnO1xuICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgY29udGFpbiBhIHZhbGlkIGl0ZW1cXCcgJztcbiAgICB9XG4gICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJyAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSAnO1xuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHt9ICc7XG4gIH1cbiAgdmFyIF9fZXJyID0gb3V0O1xuICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChpdC5hc3luYykge1xuICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihbJyArIChfX2VycikgKyAnXSk7ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgfVxuICBvdXQgKz0gJyB9IGVsc2UgeyAnO1xuICBpZiAoJG5vbkVtcHR5U2NoZW1hKSB7XG4gICAgb3V0ICs9ICcgIGVycm9ycyA9ICcgKyAoJGVycnMpICsgJzsgaWYgKHZFcnJvcnMgIT09IG51bGwpIHsgaWYgKCcgKyAoJGVycnMpICsgJykgdkVycm9ycy5sZW5ndGggPSAnICsgKCRlcnJzKSArICc7IGVsc2UgdkVycm9ycyA9IG51bGw7IH0gJztcbiAgfVxuICBpZiAoaXQub3B0cy5hbGxFcnJvcnMpIHtcbiAgICBvdXQgKz0gJyB9ICc7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2VuZXJhdGVfZGVwZW5kZW5jaWVzKGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZGF0YSA9ICdkYXRhJyArICgkZGF0YUx2bCB8fCAnJyk7XG4gIHZhciAkZXJycyA9ICdlcnJzX18nICsgJGx2bDtcbiAgdmFyICRpdCA9IGl0LnV0aWwuY29weShpdCk7XG4gIHZhciAkY2xvc2luZ0JyYWNlcyA9ICcnO1xuICAkaXQubGV2ZWwrKztcbiAgdmFyICRuZXh0VmFsaWQgPSAndmFsaWQnICsgJGl0LmxldmVsO1xuICB2YXIgJHNjaGVtYURlcHMgPSB7fSxcbiAgICAkcHJvcGVydHlEZXBzID0ge30sXG4gICAgJG93blByb3BlcnRpZXMgPSBpdC5vcHRzLm93blByb3BlcnRpZXM7XG4gIGZvciAoJHByb3BlcnR5IGluICRzY2hlbWEpIHtcbiAgICBpZiAoJHByb3BlcnR5ID09ICdfX3Byb3RvX18nKSBjb250aW51ZTtcbiAgICB2YXIgJHNjaCA9ICRzY2hlbWFbJHByb3BlcnR5XTtcbiAgICB2YXIgJGRlcHMgPSBBcnJheS5pc0FycmF5KCRzY2gpID8gJHByb3BlcnR5RGVwcyA6ICRzY2hlbWFEZXBzO1xuICAgICRkZXBzWyRwcm9wZXJ0eV0gPSAkc2NoO1xuICB9XG4gIG91dCArPSAndmFyICcgKyAoJGVycnMpICsgJyA9IGVycm9yczsnO1xuICB2YXIgJGN1cnJlbnRFcnJvclBhdGggPSBpdC5lcnJvclBhdGg7XG4gIG91dCArPSAndmFyIG1pc3NpbmcnICsgKCRsdmwpICsgJzsnO1xuICBmb3IgKHZhciAkcHJvcGVydHkgaW4gJHByb3BlcnR5RGVwcykge1xuICAgICRkZXBzID0gJHByb3BlcnR5RGVwc1skcHJvcGVydHldO1xuICAgIGlmICgkZGVwcy5sZW5ndGgpIHtcbiAgICAgIG91dCArPSAnIGlmICggJyArICgkZGF0YSkgKyAoaXQudXRpbC5nZXRQcm9wZXJ0eSgkcHJvcGVydHkpKSArICcgIT09IHVuZGVmaW5lZCAnO1xuICAgICAgaWYgKCRvd25Qcm9wZXJ0aWVzKSB7XG4gICAgICAgIG91dCArPSAnICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgnICsgKCRkYXRhKSArICcsIFxcJycgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5KSkgKyAnXFwnKSAnO1xuICAgICAgfVxuICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgb3V0ICs9ICcgJiYgKCAnO1xuICAgICAgICB2YXIgYXJyMSA9ICRkZXBzO1xuICAgICAgICBpZiAoYXJyMSkge1xuICAgICAgICAgIHZhciAkcHJvcGVydHlLZXksICRpID0gLTEsXG4gICAgICAgICAgICBsMSA9IGFycjEubGVuZ3RoIC0gMTtcbiAgICAgICAgICB3aGlsZSAoJGkgPCBsMSkge1xuICAgICAgICAgICAgJHByb3BlcnR5S2V5ID0gYXJyMVskaSArPSAxXTtcbiAgICAgICAgICAgIGlmICgkaSkge1xuICAgICAgICAgICAgICBvdXQgKz0gJyB8fCAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyICRwcm9wID0gaXQudXRpbC5nZXRQcm9wZXJ0eSgkcHJvcGVydHlLZXkpLFxuICAgICAgICAgICAgICAkdXNlRGF0YSA9ICRkYXRhICsgJHByb3A7XG4gICAgICAgICAgICBvdXQgKz0gJyAoICggJyArICgkdXNlRGF0YSkgKyAnID09PSB1bmRlZmluZWQgJztcbiAgICAgICAgICAgIGlmICgkb3duUHJvcGVydGllcykge1xuICAgICAgICAgICAgICBvdXQgKz0gJyB8fCAhIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgnICsgKCRkYXRhKSArICcsIFxcJycgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5S2V5KSkgKyAnXFwnKSAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0ICs9ICcpICYmIChtaXNzaW5nJyArICgkbHZsKSArICcgPSAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoaXQub3B0cy5qc29uUG9pbnRlcnMgPyAkcHJvcGVydHlLZXkgOiAkcHJvcCkpICsgJykgKSAnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gJykpIHsgICc7XG4gICAgICAgIHZhciAkcHJvcGVydHlQYXRoID0gJ21pc3NpbmcnICsgJGx2bCxcbiAgICAgICAgICAkbWlzc2luZ1Byb3BlcnR5ID0gJ1xcJyArICcgKyAkcHJvcGVydHlQYXRoICsgJyArIFxcJyc7XG4gICAgICAgIGlmIChpdC5vcHRzLl9lcnJvckRhdGFQYXRoUHJvcGVydHkpIHtcbiAgICAgICAgICBpdC5lcnJvclBhdGggPSBpdC5vcHRzLmpzb25Qb2ludGVycyA/IGl0LnV0aWwuZ2V0UGF0aEV4cHIoJGN1cnJlbnRFcnJvclBhdGgsICRwcm9wZXJ0eVBhdGgsIHRydWUpIDogJGN1cnJlbnRFcnJvclBhdGggKyAnICsgJyArICRwcm9wZXJ0eVBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgdmFyICQkb3V0U3RhY2sgPSAkJG91dFN0YWNrIHx8IFtdO1xuICAgICAgICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgICAgICAgb3V0ID0gJyc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCdkZXBlbmRlbmNpZXMnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IHByb3BlcnR5OiBcXCcnICsgKGl0LnV0aWwuZXNjYXBlUXVvdGVzKCRwcm9wZXJ0eSkpICsgJ1xcJywgbWlzc2luZ1Byb3BlcnR5OiBcXCcnICsgKCRtaXNzaW5nUHJvcGVydHkpICsgJ1xcJywgZGVwc0NvdW50OiAnICsgKCRkZXBzLmxlbmd0aCkgKyAnLCBkZXBzOiBcXCcnICsgKGl0LnV0aWwuZXNjYXBlUXVvdGVzKCRkZXBzLmxlbmd0aCA9PSAxID8gJGRlcHNbMF0gOiAkZGVwcy5qb2luKFwiLCBcIikpKSArICdcXCcgfSAnO1xuICAgICAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgaGF2ZSAnO1xuICAgICAgICAgICAgaWYgKCRkZXBzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgIG91dCArPSAncHJvcGVydHkgJyArIChpdC51dGlsLmVzY2FwZVF1b3RlcygkZGVwc1swXSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICdwcm9wZXJ0aWVzICcgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJGRlcHMuam9pbihcIiwgXCIpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQgKz0gJyB3aGVuIHByb3BlcnR5ICcgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5KSkgKyAnIGlzIHByZXNlbnRcXCcgJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJyAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICAgICAgICB9XG4gICAgICAgICAgb3V0ICs9ICcgfSAnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dCArPSAnIHt9ICc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9fZXJyID0gb3V0O1xuICAgICAgICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICAgICAgICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgIGlmIChpdC5hc3luYykge1xuICAgICAgICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihbJyArIChfX2VycikgKyAnXSk7ICc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcgKSB7ICc7XG4gICAgICAgIHZhciBhcnIyID0gJGRlcHM7XG4gICAgICAgIGlmIChhcnIyKSB7XG4gICAgICAgICAgdmFyICRwcm9wZXJ0eUtleSwgaTIgPSAtMSxcbiAgICAgICAgICAgIGwyID0gYXJyMi5sZW5ndGggLSAxO1xuICAgICAgICAgIHdoaWxlIChpMiA8IGwyKSB7XG4gICAgICAgICAgICAkcHJvcGVydHlLZXkgPSBhcnIyW2kyICs9IDFdO1xuICAgICAgICAgICAgdmFyICRwcm9wID0gaXQudXRpbC5nZXRQcm9wZXJ0eSgkcHJvcGVydHlLZXkpLFxuICAgICAgICAgICAgICAkbWlzc2luZ1Byb3BlcnR5ID0gaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5S2V5KSxcbiAgICAgICAgICAgICAgJHVzZURhdGEgPSAkZGF0YSArICRwcm9wO1xuICAgICAgICAgICAgaWYgKGl0Lm9wdHMuX2Vycm9yRGF0YVBhdGhQcm9wZXJ0eSkge1xuICAgICAgICAgICAgICBpdC5lcnJvclBhdGggPSBpdC51dGlsLmdldFBhdGgoJGN1cnJlbnRFcnJvclBhdGgsICRwcm9wZXJ0eUtleSwgaXQub3B0cy5qc29uUG9pbnRlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0ICs9ICcgaWYgKCAnICsgKCR1c2VEYXRhKSArICcgPT09IHVuZGVmaW5lZCAnO1xuICAgICAgICAgICAgaWYgKCRvd25Qcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIHx8ICEgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCcgKyAoJGRhdGEpICsgJywgXFwnJyArIChpdC51dGlsLmVzY2FwZVF1b3RlcygkcHJvcGVydHlLZXkpKSArICdcXCcpICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQgKz0gJykgeyAgdmFyIGVyciA9ICAgJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgnZGVwZW5kZW5jaWVzJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBwcm9wZXJ0eTogXFwnJyArIChpdC51dGlsLmVzY2FwZVF1b3RlcygkcHJvcGVydHkpKSArICdcXCcsIG1pc3NpbmdQcm9wZXJ0eTogXFwnJyArICgkbWlzc2luZ1Byb3BlcnR5KSArICdcXCcsIGRlcHNDb3VudDogJyArICgkZGVwcy5sZW5ndGgpICsgJywgZGVwczogXFwnJyArIChpdC51dGlsLmVzY2FwZVF1b3RlcygkZGVwcy5sZW5ndGggPT0gMSA/ICRkZXBzWzBdIDogJGRlcHMuam9pbihcIiwgXCIpKSkgKyAnXFwnIH0gJztcbiAgICAgICAgICAgICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgaGF2ZSAnO1xuICAgICAgICAgICAgICAgIGlmICgkZGVwcy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgICAgb3V0ICs9ICdwcm9wZXJ0eSAnICsgKGl0LnV0aWwuZXNjYXBlUXVvdGVzKCRkZXBzWzBdKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIG91dCArPSAncHJvcGVydGllcyAnICsgKGl0LnV0aWwuZXNjYXBlUXVvdGVzKCRkZXBzLmpvaW4oXCIsIFwiKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvdXQgKz0gJyB3aGVuIHByb3BlcnR5ICcgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5KSkgKyAnIGlzIHByZXNlbnRcXCcgJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJyAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBvdXQgKz0gJyB7fSAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0ICs9ICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgfSAnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgb3V0ICs9ICcgfSAgICc7XG4gICAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgICAkY2xvc2luZ0JyYWNlcyArPSAnfSc7XG4gICAgICAgIG91dCArPSAnIGVsc2UgeyAnO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpdC5lcnJvclBhdGggPSAkY3VycmVudEVycm9yUGF0aDtcbiAgdmFyICRjdXJyZW50QmFzZUlkID0gJGl0LmJhc2VJZDtcbiAgZm9yICh2YXIgJHByb3BlcnR5IGluICRzY2hlbWFEZXBzKSB7XG4gICAgdmFyICRzY2ggPSAkc2NoZW1hRGVwc1skcHJvcGVydHldO1xuICAgIGlmICgoaXQub3B0cy5zdHJpY3RLZXl3b3JkcyA/ICh0eXBlb2YgJHNjaCA9PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cygkc2NoKS5sZW5ndGggPiAwKSB8fCAkc2NoID09PSBmYWxzZSA6IGl0LnV0aWwuc2NoZW1hSGFzUnVsZXMoJHNjaCwgaXQuUlVMRVMuYWxsKSkpIHtcbiAgICAgIG91dCArPSAnICcgKyAoJG5leHRWYWxpZCkgKyAnID0gdHJ1ZTsgaWYgKCAnICsgKCRkYXRhKSArIChpdC51dGlsLmdldFByb3BlcnR5KCRwcm9wZXJ0eSkpICsgJyAhPT0gdW5kZWZpbmVkICc7XG4gICAgICBpZiAoJG93blByb3BlcnRpZXMpIHtcbiAgICAgICAgb3V0ICs9ICcgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCcgKyAoJGRhdGEpICsgJywgXFwnJyArIChpdC51dGlsLmVzY2FwZVF1b3RlcygkcHJvcGVydHkpKSArICdcXCcpICc7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJykgeyAnO1xuICAgICAgJGl0LnNjaGVtYSA9ICRzY2g7XG4gICAgICAkaXQuc2NoZW1hUGF0aCA9ICRzY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgkcHJvcGVydHkpO1xuICAgICAgJGl0LmVyclNjaGVtYVBhdGggPSAkZXJyU2NoZW1hUGF0aCArICcvJyArIGl0LnV0aWwuZXNjYXBlRnJhZ21lbnQoJHByb3BlcnR5KTtcbiAgICAgIG91dCArPSAnICAnICsgKGl0LnZhbGlkYXRlKCRpdCkpICsgJyAnO1xuICAgICAgJGl0LmJhc2VJZCA9ICRjdXJyZW50QmFzZUlkO1xuICAgICAgb3V0ICs9ICcgfSAgJztcbiAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgIG91dCArPSAnIGlmICgnICsgKCRuZXh0VmFsaWQpICsgJykgeyAnO1xuICAgICAgICAkY2xvc2luZ0JyYWNlcyArPSAnfSc7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgb3V0ICs9ICcgICAnICsgKCRjbG9zaW5nQnJhY2VzKSArICcgaWYgKCcgKyAoJGVycnMpICsgJyA9PSBlcnJvcnMpIHsnO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX2VudW0oaXQsICRrZXl3b3JkLCAkcnVsZVR5cGUpIHtcbiAgdmFyIG91dCA9ICcgJztcbiAgdmFyICRsdmwgPSBpdC5sZXZlbDtcbiAgdmFyICRkYXRhTHZsID0gaXQuZGF0YUxldmVsO1xuICB2YXIgJHNjaGVtYSA9IGl0LnNjaGVtYVska2V5d29yZF07XG4gIHZhciAkc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyBpdC51dGlsLmdldFByb3BlcnR5KCRrZXl3b3JkKTtcbiAgdmFyICRlcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvJyArICRrZXl3b3JkO1xuICB2YXIgJGJyZWFrT25FcnJvciA9ICFpdC5vcHRzLmFsbEVycm9ycztcbiAgdmFyICRkYXRhID0gJ2RhdGEnICsgKCRkYXRhTHZsIHx8ICcnKTtcbiAgdmFyICR2YWxpZCA9ICd2YWxpZCcgKyAkbHZsO1xuICB2YXIgJGlzRGF0YSA9IGl0Lm9wdHMuJGRhdGEgJiYgJHNjaGVtYSAmJiAkc2NoZW1hLiRkYXRhLFxuICAgICRzY2hlbWFWYWx1ZTtcbiAgaWYgKCRpc0RhdGEpIHtcbiAgICBvdXQgKz0gJyB2YXIgc2NoZW1hJyArICgkbHZsKSArICcgPSAnICsgKGl0LnV0aWwuZ2V0RGF0YSgkc2NoZW1hLiRkYXRhLCAkZGF0YUx2bCwgaXQuZGF0YVBhdGhBcnIpKSArICc7ICc7XG4gICAgJHNjaGVtYVZhbHVlID0gJ3NjaGVtYScgKyAkbHZsO1xuICB9IGVsc2Uge1xuICAgICRzY2hlbWFWYWx1ZSA9ICRzY2hlbWE7XG4gIH1cbiAgdmFyICRpID0gJ2knICsgJGx2bCxcbiAgICAkdlNjaGVtYSA9ICdzY2hlbWEnICsgJGx2bDtcbiAgaWYgKCEkaXNEYXRhKSB7XG4gICAgb3V0ICs9ICcgdmFyICcgKyAoJHZTY2hlbWEpICsgJyA9IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJzsnO1xuICB9XG4gIG91dCArPSAndmFyICcgKyAoJHZhbGlkKSArICc7JztcbiAgaWYgKCRpc0RhdGEpIHtcbiAgICBvdXQgKz0gJyBpZiAoc2NoZW1hJyArICgkbHZsKSArICcgPT09IHVuZGVmaW5lZCkgJyArICgkdmFsaWQpICsgJyA9IHRydWU7IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KHNjaGVtYScgKyAoJGx2bCkgKyAnKSkgJyArICgkdmFsaWQpICsgJyA9IGZhbHNlOyBlbHNlIHsnO1xuICB9XG4gIG91dCArPSAnJyArICgkdmFsaWQpICsgJyA9IGZhbHNlO2ZvciAodmFyICcgKyAoJGkpICsgJz0wOyAnICsgKCRpKSArICc8JyArICgkdlNjaGVtYSkgKyAnLmxlbmd0aDsgJyArICgkaSkgKyAnKyspIGlmIChlcXVhbCgnICsgKCRkYXRhKSArICcsICcgKyAoJHZTY2hlbWEpICsgJ1snICsgKCRpKSArICddKSkgeyAnICsgKCR2YWxpZCkgKyAnID0gdHJ1ZTsgYnJlYWs7IH0nO1xuICBpZiAoJGlzRGF0YSkge1xuICAgIG91dCArPSAnICB9ICAnO1xuICB9XG4gIG91dCArPSAnIGlmICghJyArICgkdmFsaWQpICsgJykgeyAgICc7XG4gIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgnZW51bScpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsgYWxsb3dlZFZhbHVlczogc2NoZW1hJyArICgkbHZsKSArICcgfSAnO1xuICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgYmUgZXF1YWwgdG8gb25lIG9mIHRoZSBhbGxvd2VkIHZhbHVlc1xcJyAnO1xuICAgIH1cbiAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICBvdXQgKz0gJyAsIHNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyB9ICc7XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcge30gJztcbiAgfVxuICB2YXIgX19lcnIgPSBvdXQ7XG4gIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICB9XG4gIG91dCArPSAnIH0nO1xuICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgIG91dCArPSAnIGVsc2UgeyAnO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX2Zvcm1hdChpdCwgJGtleXdvcmQsICRydWxlVHlwZSkge1xuICB2YXIgb3V0ID0gJyAnO1xuICB2YXIgJGx2bCA9IGl0LmxldmVsO1xuICB2YXIgJGRhdGFMdmwgPSBpdC5kYXRhTGV2ZWw7XG4gIHZhciAkc2NoZW1hID0gaXQuc2NoZW1hWyRrZXl3b3JkXTtcbiAgdmFyICRzY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArIGl0LnV0aWwuZ2V0UHJvcGVydHkoJGtleXdvcmQpO1xuICB2YXIgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGtleXdvcmQ7XG4gIHZhciAkYnJlYWtPbkVycm9yID0gIWl0Lm9wdHMuYWxsRXJyb3JzO1xuICB2YXIgJGRhdGEgPSAnZGF0YScgKyAoJGRhdGFMdmwgfHwgJycpO1xuICBpZiAoaXQub3B0cy5mb3JtYXQgPT09IGZhbHNlKSB7XG4gICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgIG91dCArPSAnIGlmICh0cnVlKSB7ICc7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG4gIH1cbiAgdmFyICRpc0RhdGEgPSBpdC5vcHRzLiRkYXRhICYmICRzY2hlbWEgJiYgJHNjaGVtYS4kZGF0YSxcbiAgICAkc2NoZW1hVmFsdWU7XG4gIGlmICgkaXNEYXRhKSB7XG4gICAgb3V0ICs9ICcgdmFyIHNjaGVtYScgKyAoJGx2bCkgKyAnID0gJyArIChpdC51dGlsLmdldERhdGEoJHNjaGVtYS4kZGF0YSwgJGRhdGFMdmwsIGl0LmRhdGFQYXRoQXJyKSkgKyAnOyAnO1xuICAgICRzY2hlbWFWYWx1ZSA9ICdzY2hlbWEnICsgJGx2bDtcbiAgfSBlbHNlIHtcbiAgICAkc2NoZW1hVmFsdWUgPSAkc2NoZW1hO1xuICB9XG4gIHZhciAkdW5rbm93bkZvcm1hdHMgPSBpdC5vcHRzLnVua25vd25Gb3JtYXRzLFxuICAgICRhbGxvd1Vua25vd24gPSBBcnJheS5pc0FycmF5KCR1bmtub3duRm9ybWF0cyk7XG4gIGlmICgkaXNEYXRhKSB7XG4gICAgdmFyICRmb3JtYXQgPSAnZm9ybWF0JyArICRsdmwsXG4gICAgICAkaXNPYmplY3QgPSAnaXNPYmplY3QnICsgJGx2bCxcbiAgICAgICRmb3JtYXRUeXBlID0gJ2Zvcm1hdFR5cGUnICsgJGx2bDtcbiAgICBvdXQgKz0gJyB2YXIgJyArICgkZm9ybWF0KSArICcgPSBmb3JtYXRzWycgKyAoJHNjaGVtYVZhbHVlKSArICddOyB2YXIgJyArICgkaXNPYmplY3QpICsgJyA9IHR5cGVvZiAnICsgKCRmb3JtYXQpICsgJyA9PSBcXCdvYmplY3RcXCcgJiYgISgnICsgKCRmb3JtYXQpICsgJyBpbnN0YW5jZW9mIFJlZ0V4cCkgJiYgJyArICgkZm9ybWF0KSArICcudmFsaWRhdGU7IHZhciAnICsgKCRmb3JtYXRUeXBlKSArICcgPSAnICsgKCRpc09iamVjdCkgKyAnICYmICcgKyAoJGZvcm1hdCkgKyAnLnR5cGUgfHwgXFwnc3RyaW5nXFwnOyBpZiAoJyArICgkaXNPYmplY3QpICsgJykgeyAnO1xuICAgIGlmIChpdC5hc3luYykge1xuICAgICAgb3V0ICs9ICcgdmFyIGFzeW5jJyArICgkbHZsKSArICcgPSAnICsgKCRmb3JtYXQpICsgJy5hc3luYzsgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgJyArICgkZm9ybWF0KSArICcgPSAnICsgKCRmb3JtYXQpICsgJy52YWxpZGF0ZTsgfSBpZiAoICAnO1xuICAgIGlmICgkaXNEYXRhKSB7XG4gICAgICBvdXQgKz0gJyAoJyArICgkc2NoZW1hVmFsdWUpICsgJyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICE9IFxcJ3N0cmluZ1xcJykgfHwgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgKCc7XG4gICAgaWYgKCR1bmtub3duRm9ybWF0cyAhPSAnaWdub3JlJykge1xuICAgICAgb3V0ICs9ICcgKCcgKyAoJHNjaGVtYVZhbHVlKSArICcgJiYgIScgKyAoJGZvcm1hdCkgKyAnICc7XG4gICAgICBpZiAoJGFsbG93VW5rbm93bikge1xuICAgICAgICBvdXQgKz0gJyAmJiBzZWxmLl9vcHRzLnVua25vd25Gb3JtYXRzLmluZGV4T2YoJyArICgkc2NoZW1hVmFsdWUpICsgJykgPT0gLTEgJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnKSB8fCAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyAoJyArICgkZm9ybWF0KSArICcgJiYgJyArICgkZm9ybWF0VHlwZSkgKyAnID09IFxcJycgKyAoJHJ1bGVUeXBlKSArICdcXCcgJiYgISh0eXBlb2YgJyArICgkZm9ybWF0KSArICcgPT0gXFwnZnVuY3Rpb25cXCcgPyAnO1xuICAgIGlmIChpdC5hc3luYykge1xuICAgICAgb3V0ICs9ICcgKGFzeW5jJyArICgkbHZsKSArICcgPyBhd2FpdCAnICsgKCRmb3JtYXQpICsgJygnICsgKCRkYXRhKSArICcpIDogJyArICgkZm9ybWF0KSArICcoJyArICgkZGF0YSkgKyAnKSkgJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgJyArICgkZm9ybWF0KSArICcoJyArICgkZGF0YSkgKyAnKSAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyA6ICcgKyAoJGZvcm1hdCkgKyAnLnRlc3QoJyArICgkZGF0YSkgKyAnKSkpKSkgeyc7XG4gIH0gZWxzZSB7XG4gICAgdmFyICRmb3JtYXQgPSBpdC5mb3JtYXRzWyRzY2hlbWFdO1xuICAgIGlmICghJGZvcm1hdCkge1xuICAgICAgaWYgKCR1bmtub3duRm9ybWF0cyA9PSAnaWdub3JlJykge1xuICAgICAgICBpdC5sb2dnZXIud2FybigndW5rbm93biBmb3JtYXQgXCInICsgJHNjaGVtYSArICdcIiBpZ25vcmVkIGluIHNjaGVtYSBhdCBwYXRoIFwiJyArIGl0LmVyclNjaGVtYVBhdGggKyAnXCInKTtcbiAgICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICBvdXQgKz0gJyBpZiAodHJ1ZSkgeyAnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgICB9IGVsc2UgaWYgKCRhbGxvd1Vua25vd24gJiYgJHVua25vd25Gb3JtYXRzLmluZGV4T2YoJHNjaGVtYSkgPj0gMCkge1xuICAgICAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgICAgIG91dCArPSAnIGlmICh0cnVlKSB7ICc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndW5rbm93biBmb3JtYXQgXCInICsgJHNjaGVtYSArICdcIiBpcyB1c2VkIGluIHNjaGVtYSBhdCBwYXRoIFwiJyArIGl0LmVyclNjaGVtYVBhdGggKyAnXCInKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyICRpc09iamVjdCA9IHR5cGVvZiAkZm9ybWF0ID09ICdvYmplY3QnICYmICEoJGZvcm1hdCBpbnN0YW5jZW9mIFJlZ0V4cCkgJiYgJGZvcm1hdC52YWxpZGF0ZTtcbiAgICB2YXIgJGZvcm1hdFR5cGUgPSAkaXNPYmplY3QgJiYgJGZvcm1hdC50eXBlIHx8ICdzdHJpbmcnO1xuICAgIGlmICgkaXNPYmplY3QpIHtcbiAgICAgIHZhciAkYXN5bmMgPSAkZm9ybWF0LmFzeW5jID09PSB0cnVlO1xuICAgICAgJGZvcm1hdCA9ICRmb3JtYXQudmFsaWRhdGU7XG4gICAgfVxuICAgIGlmICgkZm9ybWF0VHlwZSAhPSAkcnVsZVR5cGUpIHtcbiAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgIG91dCArPSAnIGlmICh0cnVlKSB7ICc7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICBpZiAoJGFzeW5jKSB7XG4gICAgICBpZiAoIWl0LmFzeW5jKSB0aHJvdyBuZXcgRXJyb3IoJ2FzeW5jIGZvcm1hdCBpbiBzeW5jIHNjaGVtYScpO1xuICAgICAgdmFyICRmb3JtYXRSZWYgPSAnZm9ybWF0cycgKyBpdC51dGlsLmdldFByb3BlcnR5KCRzY2hlbWEpICsgJy52YWxpZGF0ZSc7XG4gICAgICBvdXQgKz0gJyBpZiAoIShhd2FpdCAnICsgKCRmb3JtYXRSZWYpICsgJygnICsgKCRkYXRhKSArICcpKSkgeyAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyBpZiAoISAnO1xuICAgICAgdmFyICRmb3JtYXRSZWYgPSAnZm9ybWF0cycgKyBpdC51dGlsLmdldFByb3BlcnR5KCRzY2hlbWEpO1xuICAgICAgaWYgKCRpc09iamVjdCkgJGZvcm1hdFJlZiArPSAnLnZhbGlkYXRlJztcbiAgICAgIGlmICh0eXBlb2YgJGZvcm1hdCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG91dCArPSAnICcgKyAoJGZvcm1hdFJlZikgKyAnKCcgKyAoJGRhdGEpICsgJykgJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnICcgKyAoJGZvcm1hdFJlZikgKyAnLnRlc3QoJyArICgkZGF0YSkgKyAnKSAnO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcpIHsgJztcbiAgICB9XG4gIH1cbiAgdmFyICQkb3V0U3RhY2sgPSAkJG91dFN0YWNrIHx8IFtdO1xuICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgb3V0ID0gJyc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCdmb3JtYXQnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IGZvcm1hdDogICc7XG4gICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgIG91dCArPSAnJyArICgkc2NoZW1hVmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJycgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkc2NoZW1hKSk7XG4gICAgfVxuICAgIG91dCArPSAnICB9ICc7XG4gICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBtYXRjaCBmb3JtYXQgXCInO1xuICAgICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgICAgb3V0ICs9ICdcXCcgKyAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICsgXFwnJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnJyArIChpdC51dGlsLmVzY2FwZVF1b3Rlcygkc2NoZW1hKSk7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJ1wiXFwnICc7XG4gICAgfVxuICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgIG91dCArPSAnICwgc2NoZW1hOiAgJztcbiAgICAgIGlmICgkaXNEYXRhKSB7XG4gICAgICAgIG91dCArPSAndmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJycgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkc2NoZW1hKSk7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyAgICAgICAgICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyB9ICc7XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcge30gJztcbiAgfVxuICB2YXIgX19lcnIgPSBvdXQ7XG4gIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICB9XG4gIG91dCArPSAnIH0gJztcbiAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICBvdXQgKz0gJyBlbHNlIHsgJztcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZW5lcmF0ZV9pZihpdCwgJGtleXdvcmQsICRydWxlVHlwZSkge1xuICB2YXIgb3V0ID0gJyAnO1xuICB2YXIgJGx2bCA9IGl0LmxldmVsO1xuICB2YXIgJGRhdGFMdmwgPSBpdC5kYXRhTGV2ZWw7XG4gIHZhciAkc2NoZW1hID0gaXQuc2NoZW1hWyRrZXl3b3JkXTtcbiAgdmFyICRzY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArIGl0LnV0aWwuZ2V0UHJvcGVydHkoJGtleXdvcmQpO1xuICB2YXIgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGtleXdvcmQ7XG4gIHZhciAkYnJlYWtPbkVycm9yID0gIWl0Lm9wdHMuYWxsRXJyb3JzO1xuICB2YXIgJGRhdGEgPSAnZGF0YScgKyAoJGRhdGFMdmwgfHwgJycpO1xuICB2YXIgJHZhbGlkID0gJ3ZhbGlkJyArICRsdmw7XG4gIHZhciAkZXJycyA9ICdlcnJzX18nICsgJGx2bDtcbiAgdmFyICRpdCA9IGl0LnV0aWwuY29weShpdCk7XG4gICRpdC5sZXZlbCsrO1xuICB2YXIgJG5leHRWYWxpZCA9ICd2YWxpZCcgKyAkaXQubGV2ZWw7XG4gIHZhciAkdGhlblNjaCA9IGl0LnNjaGVtYVsndGhlbiddLFxuICAgICRlbHNlU2NoID0gaXQuc2NoZW1hWydlbHNlJ10sXG4gICAgJHRoZW5QcmVzZW50ID0gJHRoZW5TY2ggIT09IHVuZGVmaW5lZCAmJiAoaXQub3B0cy5zdHJpY3RLZXl3b3JkcyA/ICh0eXBlb2YgJHRoZW5TY2ggPT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMoJHRoZW5TY2gpLmxlbmd0aCA+IDApIHx8ICR0aGVuU2NoID09PSBmYWxzZSA6IGl0LnV0aWwuc2NoZW1hSGFzUnVsZXMoJHRoZW5TY2gsIGl0LlJVTEVTLmFsbCkpLFxuICAgICRlbHNlUHJlc2VudCA9ICRlbHNlU2NoICE9PSB1bmRlZmluZWQgJiYgKGl0Lm9wdHMuc3RyaWN0S2V5d29yZHMgPyAodHlwZW9mICRlbHNlU2NoID09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKCRlbHNlU2NoKS5sZW5ndGggPiAwKSB8fCAkZWxzZVNjaCA9PT0gZmFsc2UgOiBpdC51dGlsLnNjaGVtYUhhc1J1bGVzKCRlbHNlU2NoLCBpdC5SVUxFUy5hbGwpKSxcbiAgICAkY3VycmVudEJhc2VJZCA9ICRpdC5iYXNlSWQ7XG4gIGlmICgkdGhlblByZXNlbnQgfHwgJGVsc2VQcmVzZW50KSB7XG4gICAgdmFyICRpZkNsYXVzZTtcbiAgICAkaXQuY3JlYXRlRXJyb3JzID0gZmFsc2U7XG4gICAgJGl0LnNjaGVtYSA9ICRzY2hlbWE7XG4gICAgJGl0LnNjaGVtYVBhdGggPSAkc2NoZW1hUGF0aDtcbiAgICAkaXQuZXJyU2NoZW1hUGF0aCA9ICRlcnJTY2hlbWFQYXRoO1xuICAgIG91dCArPSAnIHZhciAnICsgKCRlcnJzKSArICcgPSBlcnJvcnM7IHZhciAnICsgKCR2YWxpZCkgKyAnID0gdHJ1ZTsgICc7XG4gICAgdmFyICR3YXNDb21wb3NpdGUgPSBpdC5jb21wb3NpdGVSdWxlO1xuICAgIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9IHRydWU7XG4gICAgb3V0ICs9ICcgICcgKyAoaXQudmFsaWRhdGUoJGl0KSkgKyAnICc7XG4gICAgJGl0LmJhc2VJZCA9ICRjdXJyZW50QmFzZUlkO1xuICAgICRpdC5jcmVhdGVFcnJvcnMgPSB0cnVlO1xuICAgIG91dCArPSAnICBlcnJvcnMgPSAnICsgKCRlcnJzKSArICc7IGlmICh2RXJyb3JzICE9PSBudWxsKSB7IGlmICgnICsgKCRlcnJzKSArICcpIHZFcnJvcnMubGVuZ3RoID0gJyArICgkZXJycykgKyAnOyBlbHNlIHZFcnJvcnMgPSBudWxsOyB9ICAnO1xuICAgIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9ICR3YXNDb21wb3NpdGU7XG4gICAgaWYgKCR0aGVuUHJlc2VudCkge1xuICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoJG5leHRWYWxpZCkgKyAnKSB7ICAnO1xuICAgICAgJGl0LnNjaGVtYSA9IGl0LnNjaGVtYVsndGhlbiddO1xuICAgICAgJGl0LnNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgJy50aGVuJztcbiAgICAgICRpdC5lcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvdGhlbic7XG4gICAgICBvdXQgKz0gJyAgJyArIChpdC52YWxpZGF0ZSgkaXQpKSArICcgJztcbiAgICAgICRpdC5iYXNlSWQgPSAkY3VycmVudEJhc2VJZDtcbiAgICAgIG91dCArPSAnICcgKyAoJHZhbGlkKSArICcgPSAnICsgKCRuZXh0VmFsaWQpICsgJzsgJztcbiAgICAgIGlmICgkdGhlblByZXNlbnQgJiYgJGVsc2VQcmVzZW50KSB7XG4gICAgICAgICRpZkNsYXVzZSA9ICdpZkNsYXVzZScgKyAkbHZsO1xuICAgICAgICBvdXQgKz0gJyB2YXIgJyArICgkaWZDbGF1c2UpICsgJyA9IFxcJ3RoZW5cXCc7ICc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkaWZDbGF1c2UgPSAnXFwndGhlblxcJyc7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICBpZiAoJGVsc2VQcmVzZW50KSB7XG4gICAgICAgIG91dCArPSAnIGVsc2UgeyAnO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyBpZiAoIScgKyAoJG5leHRWYWxpZCkgKyAnKSB7ICc7XG4gICAgfVxuICAgIGlmICgkZWxzZVByZXNlbnQpIHtcbiAgICAgICRpdC5zY2hlbWEgPSBpdC5zY2hlbWFbJ2Vsc2UnXTtcbiAgICAgICRpdC5zY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArICcuZWxzZSc7XG4gICAgICAkaXQuZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnL2Vsc2UnO1xuICAgICAgb3V0ICs9ICcgICcgKyAoaXQudmFsaWRhdGUoJGl0KSkgKyAnICc7XG4gICAgICAkaXQuYmFzZUlkID0gJGN1cnJlbnRCYXNlSWQ7XG4gICAgICBvdXQgKz0gJyAnICsgKCR2YWxpZCkgKyAnID0gJyArICgkbmV4dFZhbGlkKSArICc7ICc7XG4gICAgICBpZiAoJHRoZW5QcmVzZW50ICYmICRlbHNlUHJlc2VudCkge1xuICAgICAgICAkaWZDbGF1c2UgPSAnaWZDbGF1c2UnICsgJGx2bDtcbiAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJGlmQ2xhdXNlKSArICcgPSBcXCdlbHNlXFwnOyAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJGlmQ2xhdXNlID0gJ1xcJ2Vsc2VcXCcnO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgfSAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyBpZiAoIScgKyAoJHZhbGlkKSArICcpIHsgICB2YXIgZXJyID0gICAnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ2lmJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBmYWlsaW5nS2V5d29yZDogJyArICgkaWZDbGF1c2UpICsgJyB9ICc7XG4gICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgbWF0Y2ggXCJcXCcgKyAnICsgKCRpZkNsYXVzZSkgKyAnICsgXFwnXCIgc2NoZW1hXFwnICc7XG4gICAgICB9XG4gICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgIG91dCArPSAnICwgc2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICcgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyB9ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHt9ICc7XG4gICAgfVxuICAgIG91dCArPSAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gICAgaWYgKCFpdC5jb21wb3NpdGVSdWxlICYmICRicmVha09uRXJyb3IpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICAgIG91dCArPSAnIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IodkVycm9ycyk7ICc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSB2RXJyb3JzOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgICB9XG4gICAgfVxuICAgIG91dCArPSAnIH0gICAnO1xuICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICBvdXQgKz0gJyBlbHNlIHsgJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgIG91dCArPSAnIGlmICh0cnVlKSB7ICc7XG4gICAgfVxuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX2l0ZW1zKGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZGF0YSA9ICdkYXRhJyArICgkZGF0YUx2bCB8fCAnJyk7XG4gIHZhciAkdmFsaWQgPSAndmFsaWQnICsgJGx2bDtcbiAgdmFyICRlcnJzID0gJ2VycnNfXycgKyAkbHZsO1xuICB2YXIgJGl0ID0gaXQudXRpbC5jb3B5KGl0KTtcbiAgdmFyICRjbG9zaW5nQnJhY2VzID0gJyc7XG4gICRpdC5sZXZlbCsrO1xuICB2YXIgJG5leHRWYWxpZCA9ICd2YWxpZCcgKyAkaXQubGV2ZWw7XG4gIHZhciAkaWR4ID0gJ2knICsgJGx2bCxcbiAgICAkZGF0YU54dCA9ICRpdC5kYXRhTGV2ZWwgPSBpdC5kYXRhTGV2ZWwgKyAxLFxuICAgICRuZXh0RGF0YSA9ICdkYXRhJyArICRkYXRhTnh0LFxuICAgICRjdXJyZW50QmFzZUlkID0gaXQuYmFzZUlkO1xuICBvdXQgKz0gJ3ZhciAnICsgKCRlcnJzKSArICcgPSBlcnJvcnM7dmFyICcgKyAoJHZhbGlkKSArICc7JztcbiAgaWYgKEFycmF5LmlzQXJyYXkoJHNjaGVtYSkpIHtcbiAgICB2YXIgJGFkZGl0aW9uYWxJdGVtcyA9IGl0LnNjaGVtYS5hZGRpdGlvbmFsSXRlbXM7XG4gICAgaWYgKCRhZGRpdGlvbmFsSXRlbXMgPT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyAnICsgKCR2YWxpZCkgKyAnID0gJyArICgkZGF0YSkgKyAnLmxlbmd0aCA8PSAnICsgKCRzY2hlbWEubGVuZ3RoKSArICc7ICc7XG4gICAgICB2YXIgJGN1cnJFcnJTY2hlbWFQYXRoID0gJGVyclNjaGVtYVBhdGg7XG4gICAgICAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnL2FkZGl0aW9uYWxJdGVtcyc7XG4gICAgICBvdXQgKz0gJyAgaWYgKCEnICsgKCR2YWxpZCkgKyAnKSB7ICAgJztcbiAgICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAgICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICAgICAgb3V0ID0gJyc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ2FkZGl0aW9uYWxJdGVtcycpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsgbGltaXQ6ICcgKyAoJHNjaGVtYS5sZW5ndGgpICsgJyB9ICc7XG4gICAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICAgIG91dCArPSAnICwgbWVzc2FnZTogXFwnc2hvdWxkIE5PVCBoYXZlIG1vcmUgdGhhbiAnICsgKCRzY2hlbWEubGVuZ3RoKSArICcgaXRlbXNcXCcgJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IGZhbHNlICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnIH0gJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnIHt9ICc7XG4gICAgICB9XG4gICAgICB2YXIgX19lcnIgPSBvdXQ7XG4gICAgICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICAgICAgaWYgKCFpdC5jb21wb3NpdGVSdWxlICYmICRicmVha09uRXJyb3IpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChpdC5hc3luYykge1xuICAgICAgICAgIG91dCArPSAnIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoWycgKyAoX19lcnIpICsgJ10pOyAnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnIH0gJztcbiAgICAgICRlcnJTY2hlbWFQYXRoID0gJGN1cnJFcnJTY2hlbWFQYXRoO1xuICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgJGNsb3NpbmdCcmFjZXMgKz0gJ30nO1xuICAgICAgICBvdXQgKz0gJyBlbHNlIHsgJztcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGFycjEgPSAkc2NoZW1hO1xuICAgIGlmIChhcnIxKSB7XG4gICAgICB2YXIgJHNjaCwgJGkgPSAtMSxcbiAgICAgICAgbDEgPSBhcnIxLmxlbmd0aCAtIDE7XG4gICAgICB3aGlsZSAoJGkgPCBsMSkge1xuICAgICAgICAkc2NoID0gYXJyMVskaSArPSAxXTtcbiAgICAgICAgaWYgKChpdC5vcHRzLnN0cmljdEtleXdvcmRzID8gKHR5cGVvZiAkc2NoID09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKCRzY2gpLmxlbmd0aCA+IDApIHx8ICRzY2ggPT09IGZhbHNlIDogaXQudXRpbC5zY2hlbWFIYXNSdWxlcygkc2NoLCBpdC5SVUxFUy5hbGwpKSkge1xuICAgICAgICAgIG91dCArPSAnICcgKyAoJG5leHRWYWxpZCkgKyAnID0gdHJ1ZTsgaWYgKCcgKyAoJGRhdGEpICsgJy5sZW5ndGggPiAnICsgKCRpKSArICcpIHsgJztcbiAgICAgICAgICB2YXIgJHBhc3NEYXRhID0gJGRhdGEgKyAnWycgKyAkaSArICddJztcbiAgICAgICAgICAkaXQuc2NoZW1hID0gJHNjaDtcbiAgICAgICAgICAkaXQuc2NoZW1hUGF0aCA9ICRzY2hlbWFQYXRoICsgJ1snICsgJGkgKyAnXSc7XG4gICAgICAgICAgJGl0LmVyclNjaGVtYVBhdGggPSAkZXJyU2NoZW1hUGF0aCArICcvJyArICRpO1xuICAgICAgICAgICRpdC5lcnJvclBhdGggPSBpdC51dGlsLmdldFBhdGhFeHByKGl0LmVycm9yUGF0aCwgJGksIGl0Lm9wdHMuanNvblBvaW50ZXJzLCB0cnVlKTtcbiAgICAgICAgICAkaXQuZGF0YVBhdGhBcnJbJGRhdGFOeHRdID0gJGk7XG4gICAgICAgICAgdmFyICRjb2RlID0gaXQudmFsaWRhdGUoJGl0KTtcbiAgICAgICAgICAkaXQuYmFzZUlkID0gJGN1cnJlbnRCYXNlSWQ7XG4gICAgICAgICAgaWYgKGl0LnV0aWwudmFyT2NjdXJlbmNlcygkY29kZSwgJG5leHREYXRhKSA8IDIpIHtcbiAgICAgICAgICAgIG91dCArPSAnICcgKyAoaXQudXRpbC52YXJSZXBsYWNlKCRjb2RlLCAkbmV4dERhdGEsICRwYXNzRGF0YSkpICsgJyAnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB2YXIgJyArICgkbmV4dERhdGEpICsgJyA9ICcgKyAoJHBhc3NEYXRhKSArICc7ICcgKyAoJGNvZGUpICsgJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJyB9ICAnO1xuICAgICAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyBpZiAoJyArICgkbmV4dFZhbGlkKSArICcpIHsgJztcbiAgICAgICAgICAgICRjbG9zaW5nQnJhY2VzICs9ICd9JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiAkYWRkaXRpb25hbEl0ZW1zID09ICdvYmplY3QnICYmIChpdC5vcHRzLnN0cmljdEtleXdvcmRzID8gKHR5cGVvZiAkYWRkaXRpb25hbEl0ZW1zID09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKCRhZGRpdGlvbmFsSXRlbXMpLmxlbmd0aCA+IDApIHx8ICRhZGRpdGlvbmFsSXRlbXMgPT09IGZhbHNlIDogaXQudXRpbC5zY2hlbWFIYXNSdWxlcygkYWRkaXRpb25hbEl0ZW1zLCBpdC5SVUxFUy5hbGwpKSkge1xuICAgICAgJGl0LnNjaGVtYSA9ICRhZGRpdGlvbmFsSXRlbXM7XG4gICAgICAkaXQuc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyAnLmFkZGl0aW9uYWxJdGVtcyc7XG4gICAgICAkaXQuZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnL2FkZGl0aW9uYWxJdGVtcyc7XG4gICAgICBvdXQgKz0gJyAnICsgKCRuZXh0VmFsaWQpICsgJyA9IHRydWU7IGlmICgnICsgKCRkYXRhKSArICcubGVuZ3RoID4gJyArICgkc2NoZW1hLmxlbmd0aCkgKyAnKSB7ICBmb3IgKHZhciAnICsgKCRpZHgpICsgJyA9ICcgKyAoJHNjaGVtYS5sZW5ndGgpICsgJzsgJyArICgkaWR4KSArICcgPCAnICsgKCRkYXRhKSArICcubGVuZ3RoOyAnICsgKCRpZHgpICsgJysrKSB7ICc7XG4gICAgICAkaXQuZXJyb3JQYXRoID0gaXQudXRpbC5nZXRQYXRoRXhwcihpdC5lcnJvclBhdGgsICRpZHgsIGl0Lm9wdHMuanNvblBvaW50ZXJzLCB0cnVlKTtcbiAgICAgIHZhciAkcGFzc0RhdGEgPSAkZGF0YSArICdbJyArICRpZHggKyAnXSc7XG4gICAgICAkaXQuZGF0YVBhdGhBcnJbJGRhdGFOeHRdID0gJGlkeDtcbiAgICAgIHZhciAkY29kZSA9IGl0LnZhbGlkYXRlKCRpdCk7XG4gICAgICAkaXQuYmFzZUlkID0gJGN1cnJlbnRCYXNlSWQ7XG4gICAgICBpZiAoaXQudXRpbC52YXJPY2N1cmVuY2VzKCRjb2RlLCAkbmV4dERhdGEpIDwgMikge1xuICAgICAgICBvdXQgKz0gJyAnICsgKGl0LnV0aWwudmFyUmVwbGFjZSgkY29kZSwgJG5leHREYXRhLCAkcGFzc0RhdGEpKSArICcgJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnIHZhciAnICsgKCRuZXh0RGF0YSkgKyAnID0gJyArICgkcGFzc0RhdGEpICsgJzsgJyArICgkY29kZSkgKyAnICc7XG4gICAgICB9XG4gICAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgICBvdXQgKz0gJyBpZiAoIScgKyAoJG5leHRWYWxpZCkgKyAnKSBicmVhazsgJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnIH0gfSAgJztcbiAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgIG91dCArPSAnIGlmICgnICsgKCRuZXh0VmFsaWQpICsgJykgeyAnO1xuICAgICAgICAkY2xvc2luZ0JyYWNlcyArPSAnfSc7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKChpdC5vcHRzLnN0cmljdEtleXdvcmRzID8gKHR5cGVvZiAkc2NoZW1hID09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKCRzY2hlbWEpLmxlbmd0aCA+IDApIHx8ICRzY2hlbWEgPT09IGZhbHNlIDogaXQudXRpbC5zY2hlbWFIYXNSdWxlcygkc2NoZW1hLCBpdC5SVUxFUy5hbGwpKSkge1xuICAgICRpdC5zY2hlbWEgPSAkc2NoZW1hO1xuICAgICRpdC5zY2hlbWFQYXRoID0gJHNjaGVtYVBhdGg7XG4gICAgJGl0LmVyclNjaGVtYVBhdGggPSAkZXJyU2NoZW1hUGF0aDtcbiAgICBvdXQgKz0gJyAgZm9yICh2YXIgJyArICgkaWR4KSArICcgPSAnICsgKDApICsgJzsgJyArICgkaWR4KSArICcgPCAnICsgKCRkYXRhKSArICcubGVuZ3RoOyAnICsgKCRpZHgpICsgJysrKSB7ICc7XG4gICAgJGl0LmVycm9yUGF0aCA9IGl0LnV0aWwuZ2V0UGF0aEV4cHIoaXQuZXJyb3JQYXRoLCAkaWR4LCBpdC5vcHRzLmpzb25Qb2ludGVycywgdHJ1ZSk7XG4gICAgdmFyICRwYXNzRGF0YSA9ICRkYXRhICsgJ1snICsgJGlkeCArICddJztcbiAgICAkaXQuZGF0YVBhdGhBcnJbJGRhdGFOeHRdID0gJGlkeDtcbiAgICB2YXIgJGNvZGUgPSBpdC52YWxpZGF0ZSgkaXQpO1xuICAgICRpdC5iYXNlSWQgPSAkY3VycmVudEJhc2VJZDtcbiAgICBpZiAoaXQudXRpbC52YXJPY2N1cmVuY2VzKCRjb2RlLCAkbmV4dERhdGEpIDwgMikge1xuICAgICAgb3V0ICs9ICcgJyArIChpdC51dGlsLnZhclJlcGxhY2UoJGNvZGUsICRuZXh0RGF0YSwgJHBhc3NEYXRhKSkgKyAnICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhciAnICsgKCRuZXh0RGF0YSkgKyAnID0gJyArICgkcGFzc0RhdGEpICsgJzsgJyArICgkY29kZSkgKyAnICc7XG4gICAgfVxuICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICBvdXQgKz0gJyBpZiAoIScgKyAoJG5leHRWYWxpZCkgKyAnKSBicmVhazsgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSc7XG4gIH1cbiAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICBvdXQgKz0gJyAnICsgKCRjbG9zaW5nQnJhY2VzKSArICcgaWYgKCcgKyAoJGVycnMpICsgJyA9PSBlcnJvcnMpIHsnO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX19saW1pdChpdCwgJGtleXdvcmQsICRydWxlVHlwZSkge1xuICB2YXIgb3V0ID0gJyAnO1xuICB2YXIgJGx2bCA9IGl0LmxldmVsO1xuICB2YXIgJGRhdGFMdmwgPSBpdC5kYXRhTGV2ZWw7XG4gIHZhciAkc2NoZW1hID0gaXQuc2NoZW1hWyRrZXl3b3JkXTtcbiAgdmFyICRzY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArIGl0LnV0aWwuZ2V0UHJvcGVydHkoJGtleXdvcmQpO1xuICB2YXIgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGtleXdvcmQ7XG4gIHZhciAkYnJlYWtPbkVycm9yID0gIWl0Lm9wdHMuYWxsRXJyb3JzO1xuICB2YXIgJGVycm9yS2V5d29yZDtcbiAgdmFyICRkYXRhID0gJ2RhdGEnICsgKCRkYXRhTHZsIHx8ICcnKTtcbiAgdmFyICRpc0RhdGEgPSBpdC5vcHRzLiRkYXRhICYmICRzY2hlbWEgJiYgJHNjaGVtYS4kZGF0YSxcbiAgICAkc2NoZW1hVmFsdWU7XG4gIGlmICgkaXNEYXRhKSB7XG4gICAgb3V0ICs9ICcgdmFyIHNjaGVtYScgKyAoJGx2bCkgKyAnID0gJyArIChpdC51dGlsLmdldERhdGEoJHNjaGVtYS4kZGF0YSwgJGRhdGFMdmwsIGl0LmRhdGFQYXRoQXJyKSkgKyAnOyAnO1xuICAgICRzY2hlbWFWYWx1ZSA9ICdzY2hlbWEnICsgJGx2bDtcbiAgfSBlbHNlIHtcbiAgICAkc2NoZW1hVmFsdWUgPSAkc2NoZW1hO1xuICB9XG4gIHZhciAkaXNNYXggPSAka2V5d29yZCA9PSAnbWF4aW11bScsXG4gICAgJGV4Y2x1c2l2ZUtleXdvcmQgPSAkaXNNYXggPyAnZXhjbHVzaXZlTWF4aW11bScgOiAnZXhjbHVzaXZlTWluaW11bScsXG4gICAgJHNjaGVtYUV4Y2wgPSBpdC5zY2hlbWFbJGV4Y2x1c2l2ZUtleXdvcmRdLFxuICAgICRpc0RhdGFFeGNsID0gaXQub3B0cy4kZGF0YSAmJiAkc2NoZW1hRXhjbCAmJiAkc2NoZW1hRXhjbC4kZGF0YSxcbiAgICAkb3AgPSAkaXNNYXggPyAnPCcgOiAnPicsXG4gICAgJG5vdE9wID0gJGlzTWF4ID8gJz4nIDogJzwnLFxuICAgICRlcnJvcktleXdvcmQgPSB1bmRlZmluZWQ7XG4gIGlmICghKCRpc0RhdGEgfHwgdHlwZW9mICRzY2hlbWEgPT0gJ251bWJlcicgfHwgJHNjaGVtYSA9PT0gdW5kZWZpbmVkKSkge1xuICAgIHRocm93IG5ldyBFcnJvcigka2V5d29yZCArICcgbXVzdCBiZSBudW1iZXInKTtcbiAgfVxuICBpZiAoISgkaXNEYXRhRXhjbCB8fCAkc2NoZW1hRXhjbCA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiAkc2NoZW1hRXhjbCA9PSAnbnVtYmVyJyB8fCB0eXBlb2YgJHNjaGVtYUV4Y2wgPT0gJ2Jvb2xlYW4nKSkge1xuICAgIHRocm93IG5ldyBFcnJvcigkZXhjbHVzaXZlS2V5d29yZCArICcgbXVzdCBiZSBudW1iZXIgb3IgYm9vbGVhbicpO1xuICB9XG4gIGlmICgkaXNEYXRhRXhjbCkge1xuICAgIHZhciAkc2NoZW1hVmFsdWVFeGNsID0gaXQudXRpbC5nZXREYXRhKCRzY2hlbWFFeGNsLiRkYXRhLCAkZGF0YUx2bCwgaXQuZGF0YVBhdGhBcnIpLFxuICAgICAgJGV4Y2x1c2l2ZSA9ICdleGNsdXNpdmUnICsgJGx2bCxcbiAgICAgICRleGNsVHlwZSA9ICdleGNsVHlwZScgKyAkbHZsLFxuICAgICAgJGV4Y2xJc051bWJlciA9ICdleGNsSXNOdW1iZXInICsgJGx2bCxcbiAgICAgICRvcEV4cHIgPSAnb3AnICsgJGx2bCxcbiAgICAgICRvcFN0ciA9ICdcXCcgKyAnICsgJG9wRXhwciArICcgKyBcXCcnO1xuICAgIG91dCArPSAnIHZhciBzY2hlbWFFeGNsJyArICgkbHZsKSArICcgPSAnICsgKCRzY2hlbWFWYWx1ZUV4Y2wpICsgJzsgJztcbiAgICAkc2NoZW1hVmFsdWVFeGNsID0gJ3NjaGVtYUV4Y2wnICsgJGx2bDtcbiAgICBvdXQgKz0gJyB2YXIgJyArICgkZXhjbHVzaXZlKSArICc7IHZhciAnICsgKCRleGNsVHlwZSkgKyAnID0gdHlwZW9mICcgKyAoJHNjaGVtYVZhbHVlRXhjbCkgKyAnOyBpZiAoJyArICgkZXhjbFR5cGUpICsgJyAhPSBcXCdib29sZWFuXFwnICYmICcgKyAoJGV4Y2xUeXBlKSArICcgIT0gXFwndW5kZWZpbmVkXFwnICYmICcgKyAoJGV4Y2xUeXBlKSArICcgIT0gXFwnbnVtYmVyXFwnKSB7ICc7XG4gICAgdmFyICRlcnJvcktleXdvcmQgPSAkZXhjbHVzaXZlS2V5d29yZDtcbiAgICB2YXIgJCRvdXRTdGFjayA9ICQkb3V0U3RhY2sgfHwgW107XG4gICAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gICAgb3V0ID0gJyc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgkZXJyb3JLZXl3b3JkIHx8ICdfZXhjbHVzaXZlTGltaXQnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7fSAnO1xuICAgICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICAgIG91dCArPSAnICwgbWVzc2FnZTogXFwnJyArICgkZXhjbHVzaXZlS2V5d29yZCkgKyAnIHNob3VsZCBiZSBib29sZWFuXFwnICc7XG4gICAgICB9XG4gICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgIG91dCArPSAnICwgc2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICcgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyB9ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHt9ICc7XG4gICAgfVxuICAgIHZhciBfX2VyciA9IG91dDtcbiAgICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICAgIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChpdC5hc3luYykge1xuICAgICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSBlbHNlIGlmICggJztcbiAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgb3V0ICs9ICcgKCcgKyAoJHNjaGVtYVZhbHVlKSArICcgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgJyArICgkc2NoZW1hVmFsdWUpICsgJyAhPSBcXCdudW1iZXJcXCcpIHx8ICc7XG4gICAgfVxuICAgIG91dCArPSAnICcgKyAoJGV4Y2xUeXBlKSArICcgPT0gXFwnbnVtYmVyXFwnID8gKCAoJyArICgkZXhjbHVzaXZlKSArICcgPSAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnID09PSB1bmRlZmluZWQgfHwgJyArICgkc2NoZW1hVmFsdWVFeGNsKSArICcgJyArICgkb3ApICsgJz0gJyArICgkc2NoZW1hVmFsdWUpICsgJykgPyAnICsgKCRkYXRhKSArICcgJyArICgkbm90T3ApICsgJz0gJyArICgkc2NoZW1hVmFsdWVFeGNsKSArICcgOiAnICsgKCRkYXRhKSArICcgJyArICgkbm90T3ApICsgJyAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICkgOiAoICgnICsgKCRleGNsdXNpdmUpICsgJyA9ICcgKyAoJHNjaGVtYVZhbHVlRXhjbCkgKyAnID09PSB0cnVlKSA/ICcgKyAoJGRhdGEpICsgJyAnICsgKCRub3RPcCkgKyAnPSAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnIDogJyArICgkZGF0YSkgKyAnICcgKyAoJG5vdE9wKSArICcgJyArICgkc2NoZW1hVmFsdWUpICsgJyApIHx8ICcgKyAoJGRhdGEpICsgJyAhPT0gJyArICgkZGF0YSkgKyAnKSB7IHZhciBvcCcgKyAoJGx2bCkgKyAnID0gJyArICgkZXhjbHVzaXZlKSArICcgPyBcXCcnICsgKCRvcCkgKyAnXFwnIDogXFwnJyArICgkb3ApICsgJz1cXCc7ICc7XG4gICAgaWYgKCRzY2hlbWEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgJGVycm9yS2V5d29yZCA9ICRleGNsdXNpdmVLZXl3b3JkO1xuICAgICAgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGV4Y2x1c2l2ZUtleXdvcmQ7XG4gICAgICAkc2NoZW1hVmFsdWUgPSAkc2NoZW1hVmFsdWVFeGNsO1xuICAgICAgJGlzRGF0YSA9ICRpc0RhdGFFeGNsO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgJGV4Y2xJc051bWJlciA9IHR5cGVvZiAkc2NoZW1hRXhjbCA9PSAnbnVtYmVyJyxcbiAgICAgICRvcFN0ciA9ICRvcDtcbiAgICBpZiAoJGV4Y2xJc051bWJlciAmJiAkaXNEYXRhKSB7XG4gICAgICB2YXIgJG9wRXhwciA9ICdcXCcnICsgJG9wU3RyICsgJ1xcJyc7XG4gICAgICBvdXQgKz0gJyBpZiAoICc7XG4gICAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgICBvdXQgKz0gJyAoJyArICgkc2NoZW1hVmFsdWUpICsgJyAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICE9IFxcJ251bWJlclxcJykgfHwgJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnICggJyArICgkc2NoZW1hVmFsdWUpICsgJyA9PT0gdW5kZWZpbmVkIHx8ICcgKyAoJHNjaGVtYUV4Y2wpICsgJyAnICsgKCRvcCkgKyAnPSAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnID8gJyArICgkZGF0YSkgKyAnICcgKyAoJG5vdE9wKSArICc9ICcgKyAoJHNjaGVtYUV4Y2wpICsgJyA6ICcgKyAoJGRhdGEpICsgJyAnICsgKCRub3RPcCkgKyAnICcgKyAoJHNjaGVtYVZhbHVlKSArICcgKSB8fCAnICsgKCRkYXRhKSArICcgIT09ICcgKyAoJGRhdGEpICsgJykgeyAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoJGV4Y2xJc051bWJlciAmJiAkc2NoZW1hID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgJGV4Y2x1c2l2ZSA9IHRydWU7XG4gICAgICAgICRlcnJvcktleXdvcmQgPSAkZXhjbHVzaXZlS2V5d29yZDtcbiAgICAgICAgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGV4Y2x1c2l2ZUtleXdvcmQ7XG4gICAgICAgICRzY2hlbWFWYWx1ZSA9ICRzY2hlbWFFeGNsO1xuICAgICAgICAkbm90T3AgKz0gJz0nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCRleGNsSXNOdW1iZXIpICRzY2hlbWFWYWx1ZSA9IE1hdGhbJGlzTWF4ID8gJ21pbicgOiAnbWF4J10oJHNjaGVtYUV4Y2wsICRzY2hlbWEpO1xuICAgICAgICBpZiAoJHNjaGVtYUV4Y2wgPT09ICgkZXhjbElzTnVtYmVyID8gJHNjaGVtYVZhbHVlIDogdHJ1ZSkpIHtcbiAgICAgICAgICAkZXhjbHVzaXZlID0gdHJ1ZTtcbiAgICAgICAgICAkZXJyb3JLZXl3b3JkID0gJGV4Y2x1c2l2ZUtleXdvcmQ7XG4gICAgICAgICAgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGV4Y2x1c2l2ZUtleXdvcmQ7XG4gICAgICAgICAgJG5vdE9wICs9ICc9JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkZXhjbHVzaXZlID0gZmFsc2U7XG4gICAgICAgICAgJG9wU3RyICs9ICc9JztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyICRvcEV4cHIgPSAnXFwnJyArICRvcFN0ciArICdcXCcnO1xuICAgICAgb3V0ICs9ICcgaWYgKCAnO1xuICAgICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgICAgb3V0ICs9ICcgKCcgKyAoJHNjaGVtYVZhbHVlKSArICcgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgJyArICgkc2NoZW1hVmFsdWUpICsgJyAhPSBcXCdudW1iZXJcXCcpIHx8ICc7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyAnICsgKCRkYXRhKSArICcgJyArICgkbm90T3ApICsgJyAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnIHx8ICcgKyAoJGRhdGEpICsgJyAhPT0gJyArICgkZGF0YSkgKyAnKSB7ICc7XG4gICAgfVxuICB9XG4gICRlcnJvcktleXdvcmQgPSAkZXJyb3JLZXl3b3JkIHx8ICRrZXl3b3JkO1xuICB2YXIgJCRvdXRTdGFjayA9ICQkb3V0U3RhY2sgfHwgW107XG4gICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICBvdXQgPSAnJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJGVycm9yS2V5d29yZCB8fCAnX2xpbWl0JykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBjb21wYXJpc29uOiAnICsgKCRvcEV4cHIpICsgJywgbGltaXQ6ICcgKyAoJHNjaGVtYVZhbHVlKSArICcsIGV4Y2x1c2l2ZTogJyArICgkZXhjbHVzaXZlKSArICcgfSAnO1xuICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgYmUgJyArICgkb3BTdHIpICsgJyAnO1xuICAgICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgICAgb3V0ICs9ICdcXCcgKyAnICsgKCRzY2hlbWFWYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJycgKyAoJHNjaGVtYVZhbHVlKSArICdcXCcnO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICBvdXQgKz0gJyAsIHNjaGVtYTogICc7XG4gICAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgICBvdXQgKz0gJ3ZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcnICsgKCRzY2hlbWEpO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgICAgICAgICAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSAnO1xuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHt9ICc7XG4gIH1cbiAgdmFyIF9fZXJyID0gb3V0O1xuICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChpdC5hc3luYykge1xuICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihbJyArIChfX2VycikgKyAnXSk7ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgfVxuICBvdXQgKz0gJyB9ICc7XG4gIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgb3V0ICs9ICcgZWxzZSB7ICc7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2VuZXJhdGVfX2xpbWl0SXRlbXMoaXQsICRrZXl3b3JkLCAkcnVsZVR5cGUpIHtcbiAgdmFyIG91dCA9ICcgJztcbiAgdmFyICRsdmwgPSBpdC5sZXZlbDtcbiAgdmFyICRkYXRhTHZsID0gaXQuZGF0YUxldmVsO1xuICB2YXIgJHNjaGVtYSA9IGl0LnNjaGVtYVska2V5d29yZF07XG4gIHZhciAkc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyBpdC51dGlsLmdldFByb3BlcnR5KCRrZXl3b3JkKTtcbiAgdmFyICRlcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvJyArICRrZXl3b3JkO1xuICB2YXIgJGJyZWFrT25FcnJvciA9ICFpdC5vcHRzLmFsbEVycm9ycztcbiAgdmFyICRlcnJvcktleXdvcmQ7XG4gIHZhciAkZGF0YSA9ICdkYXRhJyArICgkZGF0YUx2bCB8fCAnJyk7XG4gIHZhciAkaXNEYXRhID0gaXQub3B0cy4kZGF0YSAmJiAkc2NoZW1hICYmICRzY2hlbWEuJGRhdGEsXG4gICAgJHNjaGVtYVZhbHVlO1xuICBpZiAoJGlzRGF0YSkge1xuICAgIG91dCArPSAnIHZhciBzY2hlbWEnICsgKCRsdmwpICsgJyA9ICcgKyAoaXQudXRpbC5nZXREYXRhKCRzY2hlbWEuJGRhdGEsICRkYXRhTHZsLCBpdC5kYXRhUGF0aEFycikpICsgJzsgJztcbiAgICAkc2NoZW1hVmFsdWUgPSAnc2NoZW1hJyArICRsdmw7XG4gIH0gZWxzZSB7XG4gICAgJHNjaGVtYVZhbHVlID0gJHNjaGVtYTtcbiAgfVxuICBpZiAoISgkaXNEYXRhIHx8IHR5cGVvZiAkc2NoZW1hID09ICdudW1iZXInKSkge1xuICAgIHRocm93IG5ldyBFcnJvcigka2V5d29yZCArICcgbXVzdCBiZSBudW1iZXInKTtcbiAgfVxuICB2YXIgJG9wID0gJGtleXdvcmQgPT0gJ21heEl0ZW1zJyA/ICc+JyA6ICc8JztcbiAgb3V0ICs9ICdpZiAoICc7XG4gIGlmICgkaXNEYXRhKSB7XG4gICAgb3V0ICs9ICcgKCcgKyAoJHNjaGVtYVZhbHVlKSArICcgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgJyArICgkc2NoZW1hVmFsdWUpICsgJyAhPSBcXCdudW1iZXJcXCcpIHx8ICc7XG4gIH1cbiAgb3V0ICs9ICcgJyArICgkZGF0YSkgKyAnLmxlbmd0aCAnICsgKCRvcCkgKyAnICcgKyAoJHNjaGVtYVZhbHVlKSArICcpIHsgJztcbiAgdmFyICRlcnJvcktleXdvcmQgPSAka2V5d29yZDtcbiAgdmFyICQkb3V0U3RhY2sgPSAkJG91dFN0YWNrIHx8IFtdO1xuICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgb3V0ID0gJyc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCRlcnJvcktleXdvcmQgfHwgJ19saW1pdEl0ZW1zJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBsaW1pdDogJyArICgkc2NoZW1hVmFsdWUpICsgJyB9ICc7XG4gICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBOT1QgaGF2ZSAnO1xuICAgICAgaWYgKCRrZXl3b3JkID09ICdtYXhJdGVtcycpIHtcbiAgICAgICAgb3V0ICs9ICdtb3JlJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnZmV3ZXInO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgdGhhbiAnO1xuICAgICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgICAgb3V0ICs9ICdcXCcgKyAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICsgXFwnJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnJyArICgkc2NoZW1hKTtcbiAgICAgIH1cbiAgICAgIG91dCArPSAnIGl0ZW1zXFwnICc7XG4gICAgfVxuICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgIG91dCArPSAnICwgc2NoZW1hOiAgJztcbiAgICAgIGlmICgkaXNEYXRhKSB7XG4gICAgICAgIG91dCArPSAndmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJycgKyAoJHNjaGVtYSk7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyAgICAgICAgICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyB9ICc7XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcge30gJztcbiAgfVxuICB2YXIgX19lcnIgPSBvdXQ7XG4gIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICB9XG4gIG91dCArPSAnfSAnO1xuICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgIG91dCArPSAnIGVsc2UgeyAnO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX19saW1pdExlbmd0aChpdCwgJGtleXdvcmQsICRydWxlVHlwZSkge1xuICB2YXIgb3V0ID0gJyAnO1xuICB2YXIgJGx2bCA9IGl0LmxldmVsO1xuICB2YXIgJGRhdGFMdmwgPSBpdC5kYXRhTGV2ZWw7XG4gIHZhciAkc2NoZW1hID0gaXQuc2NoZW1hWyRrZXl3b3JkXTtcbiAgdmFyICRzY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArIGl0LnV0aWwuZ2V0UHJvcGVydHkoJGtleXdvcmQpO1xuICB2YXIgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy8nICsgJGtleXdvcmQ7XG4gIHZhciAkYnJlYWtPbkVycm9yID0gIWl0Lm9wdHMuYWxsRXJyb3JzO1xuICB2YXIgJGVycm9yS2V5d29yZDtcbiAgdmFyICRkYXRhID0gJ2RhdGEnICsgKCRkYXRhTHZsIHx8ICcnKTtcbiAgdmFyICRpc0RhdGEgPSBpdC5vcHRzLiRkYXRhICYmICRzY2hlbWEgJiYgJHNjaGVtYS4kZGF0YSxcbiAgICAkc2NoZW1hVmFsdWU7XG4gIGlmICgkaXNEYXRhKSB7XG4gICAgb3V0ICs9ICcgdmFyIHNjaGVtYScgKyAoJGx2bCkgKyAnID0gJyArIChpdC51dGlsLmdldERhdGEoJHNjaGVtYS4kZGF0YSwgJGRhdGFMdmwsIGl0LmRhdGFQYXRoQXJyKSkgKyAnOyAnO1xuICAgICRzY2hlbWFWYWx1ZSA9ICdzY2hlbWEnICsgJGx2bDtcbiAgfSBlbHNlIHtcbiAgICAkc2NoZW1hVmFsdWUgPSAkc2NoZW1hO1xuICB9XG4gIGlmICghKCRpc0RhdGEgfHwgdHlwZW9mICRzY2hlbWEgPT0gJ251bWJlcicpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCRrZXl3b3JkICsgJyBtdXN0IGJlIG51bWJlcicpO1xuICB9XG4gIHZhciAkb3AgPSAka2V5d29yZCA9PSAnbWF4TGVuZ3RoJyA/ICc+JyA6ICc8JztcbiAgb3V0ICs9ICdpZiAoICc7XG4gIGlmICgkaXNEYXRhKSB7XG4gICAgb3V0ICs9ICcgKCcgKyAoJHNjaGVtYVZhbHVlKSArICcgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgJyArICgkc2NoZW1hVmFsdWUpICsgJyAhPSBcXCdudW1iZXJcXCcpIHx8ICc7XG4gIH1cbiAgaWYgKGl0Lm9wdHMudW5pY29kZSA9PT0gZmFsc2UpIHtcbiAgICBvdXQgKz0gJyAnICsgKCRkYXRhKSArICcubGVuZ3RoICc7XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcgdWNzMmxlbmd0aCgnICsgKCRkYXRhKSArICcpICc7XG4gIH1cbiAgb3V0ICs9ICcgJyArICgkb3ApICsgJyAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnKSB7ICc7XG4gIHZhciAkZXJyb3JLZXl3b3JkID0gJGtleXdvcmQ7XG4gIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgkZXJyb3JLZXl3b3JkIHx8ICdfbGltaXRMZW5ndGgnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IGxpbWl0OiAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnIH0gJztcbiAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgIG91dCArPSAnICwgbWVzc2FnZTogXFwnc2hvdWxkIE5PVCBiZSAnO1xuICAgICAgaWYgKCRrZXl3b3JkID09ICdtYXhMZW5ndGgnKSB7XG4gICAgICAgIG91dCArPSAnbG9uZ2VyJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnc2hvcnRlcic7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyB0aGFuICc7XG4gICAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgICBvdXQgKz0gJ1xcJyArICcgKyAoJHNjaGVtYVZhbHVlKSArICcgKyBcXCcnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcnICsgKCRzY2hlbWEpO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgY2hhcmFjdGVyc1xcJyAnO1xuICAgIH1cbiAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICBvdXQgKz0gJyAsIHNjaGVtYTogICc7XG4gICAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgICBvdXQgKz0gJ3ZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcnICsgKCRzY2hlbWEpO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgICAgICAgICAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSAnO1xuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHt9ICc7XG4gIH1cbiAgdmFyIF9fZXJyID0gb3V0O1xuICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChpdC5hc3luYykge1xuICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihbJyArIChfX2VycikgKyAnXSk7ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgfVxuICBvdXQgKz0gJ30gJztcbiAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICBvdXQgKz0gJyBlbHNlIHsgJztcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZW5lcmF0ZV9fbGltaXRQcm9wZXJ0aWVzKGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZXJyb3JLZXl3b3JkO1xuICB2YXIgJGRhdGEgPSAnZGF0YScgKyAoJGRhdGFMdmwgfHwgJycpO1xuICB2YXIgJGlzRGF0YSA9IGl0Lm9wdHMuJGRhdGEgJiYgJHNjaGVtYSAmJiAkc2NoZW1hLiRkYXRhLFxuICAgICRzY2hlbWFWYWx1ZTtcbiAgaWYgKCRpc0RhdGEpIHtcbiAgICBvdXQgKz0gJyB2YXIgc2NoZW1hJyArICgkbHZsKSArICcgPSAnICsgKGl0LnV0aWwuZ2V0RGF0YSgkc2NoZW1hLiRkYXRhLCAkZGF0YUx2bCwgaXQuZGF0YVBhdGhBcnIpKSArICc7ICc7XG4gICAgJHNjaGVtYVZhbHVlID0gJ3NjaGVtYScgKyAkbHZsO1xuICB9IGVsc2Uge1xuICAgICRzY2hlbWFWYWx1ZSA9ICRzY2hlbWE7XG4gIH1cbiAgaWYgKCEoJGlzRGF0YSB8fCB0eXBlb2YgJHNjaGVtYSA9PSAnbnVtYmVyJykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJGtleXdvcmQgKyAnIG11c3QgYmUgbnVtYmVyJyk7XG4gIH1cbiAgdmFyICRvcCA9ICRrZXl3b3JkID09ICdtYXhQcm9wZXJ0aWVzJyA/ICc+JyA6ICc8JztcbiAgb3V0ICs9ICdpZiAoICc7XG4gIGlmICgkaXNEYXRhKSB7XG4gICAgb3V0ICs9ICcgKCcgKyAoJHNjaGVtYVZhbHVlKSArICcgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgJyArICgkc2NoZW1hVmFsdWUpICsgJyAhPSBcXCdudW1iZXJcXCcpIHx8ICc7XG4gIH1cbiAgb3V0ICs9ICcgT2JqZWN0LmtleXMoJyArICgkZGF0YSkgKyAnKS5sZW5ndGggJyArICgkb3ApICsgJyAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnKSB7ICc7XG4gIHZhciAkZXJyb3JLZXl3b3JkID0gJGtleXdvcmQ7XG4gIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgkZXJyb3JLZXl3b3JkIHx8ICdfbGltaXRQcm9wZXJ0aWVzJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBsaW1pdDogJyArICgkc2NoZW1hVmFsdWUpICsgJyB9ICc7XG4gICAgaWYgKGl0Lm9wdHMubWVzc2FnZXMgIT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBOT1QgaGF2ZSAnO1xuICAgICAgaWYgKCRrZXl3b3JkID09ICdtYXhQcm9wZXJ0aWVzJykge1xuICAgICAgICBvdXQgKz0gJ21vcmUnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICdmZXdlcic7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyB0aGFuICc7XG4gICAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgICBvdXQgKz0gJ1xcJyArICcgKyAoJHNjaGVtYVZhbHVlKSArICcgKyBcXCcnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcnICsgKCRzY2hlbWEpO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgcHJvcGVydGllc1xcJyAnO1xuICAgIH1cbiAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICBvdXQgKz0gJyAsIHNjaGVtYTogICc7XG4gICAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgICBvdXQgKz0gJ3ZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcnICsgKCRzY2hlbWEpO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgICAgICAgICAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSAnO1xuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHt9ICc7XG4gIH1cbiAgdmFyIF9fZXJyID0gb3V0O1xuICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChpdC5hc3luYykge1xuICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihbJyArIChfX2VycikgKyAnXSk7ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgfVxuICBvdXQgKz0gJ30gJztcbiAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICBvdXQgKz0gJyBlbHNlIHsgJztcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZW5lcmF0ZV9tdWx0aXBsZU9mKGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZGF0YSA9ICdkYXRhJyArICgkZGF0YUx2bCB8fCAnJyk7XG4gIHZhciAkaXNEYXRhID0gaXQub3B0cy4kZGF0YSAmJiAkc2NoZW1hICYmICRzY2hlbWEuJGRhdGEsXG4gICAgJHNjaGVtYVZhbHVlO1xuICBpZiAoJGlzRGF0YSkge1xuICAgIG91dCArPSAnIHZhciBzY2hlbWEnICsgKCRsdmwpICsgJyA9ICcgKyAoaXQudXRpbC5nZXREYXRhKCRzY2hlbWEuJGRhdGEsICRkYXRhTHZsLCBpdC5kYXRhUGF0aEFycikpICsgJzsgJztcbiAgICAkc2NoZW1hVmFsdWUgPSAnc2NoZW1hJyArICRsdmw7XG4gIH0gZWxzZSB7XG4gICAgJHNjaGVtYVZhbHVlID0gJHNjaGVtYTtcbiAgfVxuICBpZiAoISgkaXNEYXRhIHx8IHR5cGVvZiAkc2NoZW1hID09ICdudW1iZXInKSkge1xuICAgIHRocm93IG5ldyBFcnJvcigka2V5d29yZCArICcgbXVzdCBiZSBudW1iZXInKTtcbiAgfVxuICBvdXQgKz0gJ3ZhciBkaXZpc2lvbicgKyAoJGx2bCkgKyAnO2lmICgnO1xuICBpZiAoJGlzRGF0YSkge1xuICAgIG91dCArPSAnICcgKyAoJHNjaGVtYVZhbHVlKSArICcgIT09IHVuZGVmaW5lZCAmJiAoIHR5cGVvZiAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICE9IFxcJ251bWJlclxcJyB8fCAnO1xuICB9XG4gIG91dCArPSAnIChkaXZpc2lvbicgKyAoJGx2bCkgKyAnID0gJyArICgkZGF0YSkgKyAnIC8gJyArICgkc2NoZW1hVmFsdWUpICsgJywgJztcbiAgaWYgKGl0Lm9wdHMubXVsdGlwbGVPZlByZWNpc2lvbikge1xuICAgIG91dCArPSAnIE1hdGguYWJzKE1hdGgucm91bmQoZGl2aXNpb24nICsgKCRsdmwpICsgJykgLSBkaXZpc2lvbicgKyAoJGx2bCkgKyAnKSA+IDFlLScgKyAoaXQub3B0cy5tdWx0aXBsZU9mUHJlY2lzaW9uKSArICcgJztcbiAgfSBlbHNlIHtcbiAgICBvdXQgKz0gJyBkaXZpc2lvbicgKyAoJGx2bCkgKyAnICE9PSBwYXJzZUludChkaXZpc2lvbicgKyAoJGx2bCkgKyAnKSAnO1xuICB9XG4gIG91dCArPSAnICkgJztcbiAgaWYgKCRpc0RhdGEpIHtcbiAgICBvdXQgKz0gJyAgKSAgJztcbiAgfVxuICBvdXQgKz0gJyApIHsgICAnO1xuICB2YXIgJCRvdXRTdGFjayA9ICQkb3V0U3RhY2sgfHwgW107XG4gICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICBvdXQgPSAnJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ211bHRpcGxlT2YnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IG11bHRpcGxlT2Y6ICcgKyAoJHNjaGVtYVZhbHVlKSArICcgfSAnO1xuICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgYmUgbXVsdGlwbGUgb2YgJztcbiAgICAgIGlmICgkaXNEYXRhKSB7XG4gICAgICAgIG91dCArPSAnXFwnICsgJyArICgkc2NoZW1hVmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcnICsgKCRzY2hlbWFWYWx1ZSkgKyAnXFwnJztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6ICAnO1xuICAgICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgICAgb3V0ICs9ICd2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnJyArICgkc2NoZW1hKTtcbiAgICAgIH1cbiAgICAgIG91dCArPSAnICAgICAgICAgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgfVxuICAgIG91dCArPSAnIH0gJztcbiAgfSBlbHNlIHtcbiAgICBvdXQgKz0gJyB7fSAnO1xuICB9XG4gIHZhciBfX2VyciA9IG91dDtcbiAgb3V0ID0gJCRvdXRTdGFjay5wb3AoKTtcbiAgaWYgKCFpdC5jb21wb3NpdGVSdWxlICYmICRicmVha09uRXJyb3IpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgIG91dCArPSAnIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoWycgKyAoX19lcnIpICsgJ10pOyAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSBbJyArIChfX2VycikgKyAnXTsgcmV0dXJuIGZhbHNlOyAnO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBvdXQgKz0gJyB2YXIgZXJyID0gJyArIChfX2VycikgKyAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gIH1cbiAgb3V0ICs9ICd9ICc7XG4gIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgb3V0ICs9ICcgZWxzZSB7ICc7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2VuZXJhdGVfbm90KGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZGF0YSA9ICdkYXRhJyArICgkZGF0YUx2bCB8fCAnJyk7XG4gIHZhciAkZXJycyA9ICdlcnJzX18nICsgJGx2bDtcbiAgdmFyICRpdCA9IGl0LnV0aWwuY29weShpdCk7XG4gICRpdC5sZXZlbCsrO1xuICB2YXIgJG5leHRWYWxpZCA9ICd2YWxpZCcgKyAkaXQubGV2ZWw7XG4gIGlmICgoaXQub3B0cy5zdHJpY3RLZXl3b3JkcyA/ICh0eXBlb2YgJHNjaGVtYSA9PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cygkc2NoZW1hKS5sZW5ndGggPiAwKSB8fCAkc2NoZW1hID09PSBmYWxzZSA6IGl0LnV0aWwuc2NoZW1hSGFzUnVsZXMoJHNjaGVtYSwgaXQuUlVMRVMuYWxsKSkpIHtcbiAgICAkaXQuc2NoZW1hID0gJHNjaGVtYTtcbiAgICAkaXQuc2NoZW1hUGF0aCA9ICRzY2hlbWFQYXRoO1xuICAgICRpdC5lcnJTY2hlbWFQYXRoID0gJGVyclNjaGVtYVBhdGg7XG4gICAgb3V0ICs9ICcgdmFyICcgKyAoJGVycnMpICsgJyA9IGVycm9yczsgICc7XG4gICAgdmFyICR3YXNDb21wb3NpdGUgPSBpdC5jb21wb3NpdGVSdWxlO1xuICAgIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9IHRydWU7XG4gICAgJGl0LmNyZWF0ZUVycm9ycyA9IGZhbHNlO1xuICAgIHZhciAkYWxsRXJyb3JzT3B0aW9uO1xuICAgIGlmICgkaXQub3B0cy5hbGxFcnJvcnMpIHtcbiAgICAgICRhbGxFcnJvcnNPcHRpb24gPSAkaXQub3B0cy5hbGxFcnJvcnM7XG4gICAgICAkaXQub3B0cy5hbGxFcnJvcnMgPSBmYWxzZTtcbiAgICB9XG4gICAgb3V0ICs9ICcgJyArIChpdC52YWxpZGF0ZSgkaXQpKSArICcgJztcbiAgICAkaXQuY3JlYXRlRXJyb3JzID0gdHJ1ZTtcbiAgICBpZiAoJGFsbEVycm9yc09wdGlvbikgJGl0Lm9wdHMuYWxsRXJyb3JzID0gJGFsbEVycm9yc09wdGlvbjtcbiAgICBpdC5jb21wb3NpdGVSdWxlID0gJGl0LmNvbXBvc2l0ZVJ1bGUgPSAkd2FzQ29tcG9zaXRlO1xuICAgIG91dCArPSAnIGlmICgnICsgKCRuZXh0VmFsaWQpICsgJykgeyAgICc7XG4gICAgdmFyICQkb3V0U3RhY2sgPSAkJG91dFN0YWNrIHx8IFtdO1xuICAgICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICAgIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ25vdCcpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHt9ICc7XG4gICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgTk9UIGJlIHZhbGlkXFwnICc7XG4gICAgICB9XG4gICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgIG91dCArPSAnICwgc2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICcgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyB9ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHt9ICc7XG4gICAgfVxuICAgIHZhciBfX2VyciA9IG91dDtcbiAgICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICAgIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChpdC5hc3luYykge1xuICAgICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSBlbHNlIHsgIGVycm9ycyA9ICcgKyAoJGVycnMpICsgJzsgaWYgKHZFcnJvcnMgIT09IG51bGwpIHsgaWYgKCcgKyAoJGVycnMpICsgJykgdkVycm9ycy5sZW5ndGggPSAnICsgKCRlcnJzKSArICc7IGVsc2UgdkVycm9ycyA9IG51bGw7IH0gJztcbiAgICBpZiAoaXQub3B0cy5hbGxFcnJvcnMpIHtcbiAgICAgIG91dCArPSAnIH0gJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcgIHZhciBlcnIgPSAgICc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgnbm90JykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczoge30gJztcbiAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBOT1QgYmUgdmFsaWRcXCcgJztcbiAgICAgIH1cbiAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJyAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnIH0gJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcge30gJztcbiAgICB9XG4gICAgb3V0ICs9ICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgb3V0ICs9ICcgaWYgKGZhbHNlKSB7ICc7XG4gICAgfVxuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX29uZU9mKGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZGF0YSA9ICdkYXRhJyArICgkZGF0YUx2bCB8fCAnJyk7XG4gIHZhciAkdmFsaWQgPSAndmFsaWQnICsgJGx2bDtcbiAgdmFyICRlcnJzID0gJ2VycnNfXycgKyAkbHZsO1xuICB2YXIgJGl0ID0gaXQudXRpbC5jb3B5KGl0KTtcbiAgdmFyICRjbG9zaW5nQnJhY2VzID0gJyc7XG4gICRpdC5sZXZlbCsrO1xuICB2YXIgJG5leHRWYWxpZCA9ICd2YWxpZCcgKyAkaXQubGV2ZWw7XG4gIHZhciAkY3VycmVudEJhc2VJZCA9ICRpdC5iYXNlSWQsXG4gICAgJHByZXZWYWxpZCA9ICdwcmV2VmFsaWQnICsgJGx2bCxcbiAgICAkcGFzc2luZ1NjaGVtYXMgPSAncGFzc2luZ1NjaGVtYXMnICsgJGx2bDtcbiAgb3V0ICs9ICd2YXIgJyArICgkZXJycykgKyAnID0gZXJyb3JzICwgJyArICgkcHJldlZhbGlkKSArICcgPSBmYWxzZSAsICcgKyAoJHZhbGlkKSArICcgPSBmYWxzZSAsICcgKyAoJHBhc3NpbmdTY2hlbWFzKSArICcgPSBudWxsOyAnO1xuICB2YXIgJHdhc0NvbXBvc2l0ZSA9IGl0LmNvbXBvc2l0ZVJ1bGU7XG4gIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9IHRydWU7XG4gIHZhciBhcnIxID0gJHNjaGVtYTtcbiAgaWYgKGFycjEpIHtcbiAgICB2YXIgJHNjaCwgJGkgPSAtMSxcbiAgICAgIGwxID0gYXJyMS5sZW5ndGggLSAxO1xuICAgIHdoaWxlICgkaSA8IGwxKSB7XG4gICAgICAkc2NoID0gYXJyMVskaSArPSAxXTtcbiAgICAgIGlmICgoaXQub3B0cy5zdHJpY3RLZXl3b3JkcyA/ICh0eXBlb2YgJHNjaCA9PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cygkc2NoKS5sZW5ndGggPiAwKSB8fCAkc2NoID09PSBmYWxzZSA6IGl0LnV0aWwuc2NoZW1hSGFzUnVsZXMoJHNjaCwgaXQuUlVMRVMuYWxsKSkpIHtcbiAgICAgICAgJGl0LnNjaGVtYSA9ICRzY2g7XG4gICAgICAgICRpdC5zY2hlbWFQYXRoID0gJHNjaGVtYVBhdGggKyAnWycgKyAkaSArICddJztcbiAgICAgICAgJGl0LmVyclNjaGVtYVBhdGggPSAkZXJyU2NoZW1hUGF0aCArICcvJyArICRpO1xuICAgICAgICBvdXQgKz0gJyAgJyArIChpdC52YWxpZGF0ZSgkaXQpKSArICcgJztcbiAgICAgICAgJGl0LmJhc2VJZCA9ICRjdXJyZW50QmFzZUlkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJG5leHRWYWxpZCkgKyAnID0gdHJ1ZTsgJztcbiAgICAgIH1cbiAgICAgIGlmICgkaSkge1xuICAgICAgICBvdXQgKz0gJyBpZiAoJyArICgkbmV4dFZhbGlkKSArICcgJiYgJyArICgkcHJldlZhbGlkKSArICcpIHsgJyArICgkdmFsaWQpICsgJyA9IGZhbHNlOyAnICsgKCRwYXNzaW5nU2NoZW1hcykgKyAnID0gWycgKyAoJHBhc3NpbmdTY2hlbWFzKSArICcsICcgKyAoJGkpICsgJ107IH0gZWxzZSB7ICc7XG4gICAgICAgICRjbG9zaW5nQnJhY2VzICs9ICd9JztcbiAgICAgIH1cbiAgICAgIG91dCArPSAnIGlmICgnICsgKCRuZXh0VmFsaWQpICsgJykgeyAnICsgKCR2YWxpZCkgKyAnID0gJyArICgkcHJldlZhbGlkKSArICcgPSB0cnVlOyAnICsgKCRwYXNzaW5nU2NoZW1hcykgKyAnID0gJyArICgkaSkgKyAnOyB9JztcbiAgICB9XG4gIH1cbiAgaXQuY29tcG9zaXRlUnVsZSA9ICRpdC5jb21wb3NpdGVSdWxlID0gJHdhc0NvbXBvc2l0ZTtcbiAgb3V0ICs9ICcnICsgKCRjbG9zaW5nQnJhY2VzKSArICdpZiAoIScgKyAoJHZhbGlkKSArICcpIHsgICB2YXIgZXJyID0gICAnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgnb25lT2YnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IHBhc3NpbmdTY2hlbWFzOiAnICsgKCRwYXNzaW5nU2NoZW1hcykgKyAnIH0gJztcbiAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgIG91dCArPSAnICwgbWVzc2FnZTogXFwnc2hvdWxkIG1hdGNoIGV4YWN0bHkgb25lIHNjaGVtYSBpbiBvbmVPZlxcJyAnO1xuICAgIH1cbiAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICBvdXQgKz0gJyAsIHNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyB9ICc7XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcge30gJztcbiAgfVxuICBvdXQgKz0gJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChpdC5hc3luYykge1xuICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcih2RXJyb3JzKTsgJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gdkVycm9yczsgcmV0dXJuIGZhbHNlOyAnO1xuICAgIH1cbiAgfVxuICBvdXQgKz0gJ30gZWxzZSB7ICBlcnJvcnMgPSAnICsgKCRlcnJzKSArICc7IGlmICh2RXJyb3JzICE9PSBudWxsKSB7IGlmICgnICsgKCRlcnJzKSArICcpIHZFcnJvcnMubGVuZ3RoID0gJyArICgkZXJycykgKyAnOyBlbHNlIHZFcnJvcnMgPSBudWxsOyB9JztcbiAgaWYgKGl0Lm9wdHMuYWxsRXJyb3JzKSB7XG4gICAgb3V0ICs9ICcgfSAnO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX3BhdHRlcm4oaXQsICRrZXl3b3JkLCAkcnVsZVR5cGUpIHtcbiAgdmFyIG91dCA9ICcgJztcbiAgdmFyICRsdmwgPSBpdC5sZXZlbDtcbiAgdmFyICRkYXRhTHZsID0gaXQuZGF0YUxldmVsO1xuICB2YXIgJHNjaGVtYSA9IGl0LnNjaGVtYVska2V5d29yZF07XG4gIHZhciAkc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyBpdC51dGlsLmdldFByb3BlcnR5KCRrZXl3b3JkKTtcbiAgdmFyICRlcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvJyArICRrZXl3b3JkO1xuICB2YXIgJGJyZWFrT25FcnJvciA9ICFpdC5vcHRzLmFsbEVycm9ycztcbiAgdmFyICRkYXRhID0gJ2RhdGEnICsgKCRkYXRhTHZsIHx8ICcnKTtcbiAgdmFyICRpc0RhdGEgPSBpdC5vcHRzLiRkYXRhICYmICRzY2hlbWEgJiYgJHNjaGVtYS4kZGF0YSxcbiAgICAkc2NoZW1hVmFsdWU7XG4gIGlmICgkaXNEYXRhKSB7XG4gICAgb3V0ICs9ICcgdmFyIHNjaGVtYScgKyAoJGx2bCkgKyAnID0gJyArIChpdC51dGlsLmdldERhdGEoJHNjaGVtYS4kZGF0YSwgJGRhdGFMdmwsIGl0LmRhdGFQYXRoQXJyKSkgKyAnOyAnO1xuICAgICRzY2hlbWFWYWx1ZSA9ICdzY2hlbWEnICsgJGx2bDtcbiAgfSBlbHNlIHtcbiAgICAkc2NoZW1hVmFsdWUgPSAkc2NoZW1hO1xuICB9XG4gIHZhciAkcmVnZXhwID0gJGlzRGF0YSA/ICcobmV3IFJlZ0V4cCgnICsgJHNjaGVtYVZhbHVlICsgJykpJyA6IGl0LnVzZVBhdHRlcm4oJHNjaGVtYSk7XG4gIG91dCArPSAnaWYgKCAnO1xuICBpZiAoJGlzRGF0YSkge1xuICAgIG91dCArPSAnICgnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mICcgKyAoJHNjaGVtYVZhbHVlKSArICcgIT0gXFwnc3RyaW5nXFwnKSB8fCAnO1xuICB9XG4gIG91dCArPSAnICEnICsgKCRyZWdleHApICsgJy50ZXN0KCcgKyAoJGRhdGEpICsgJykgKSB7ICAgJztcbiAgdmFyICQkb3V0U3RhY2sgPSAkJG91dFN0YWNrIHx8IFtdO1xuICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgb3V0ID0gJyc7IC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCdwYXR0ZXJuJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBwYXR0ZXJuOiAgJztcbiAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgb3V0ICs9ICcnICsgKCRzY2hlbWFWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRzY2hlbWEpKTtcbiAgICB9XG4gICAgb3V0ICs9ICcgIH0gJztcbiAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgIG91dCArPSAnICwgbWVzc2FnZTogXFwnc2hvdWxkIG1hdGNoIHBhdHRlcm4gXCInO1xuICAgICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgICAgb3V0ICs9ICdcXCcgKyAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICsgXFwnJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnJyArIChpdC51dGlsLmVzY2FwZVF1b3Rlcygkc2NoZW1hKSk7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJ1wiXFwnICc7XG4gICAgfVxuICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgIG91dCArPSAnICwgc2NoZW1hOiAgJztcbiAgICAgIGlmICgkaXNEYXRhKSB7XG4gICAgICAgIG91dCArPSAndmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJycgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkc2NoZW1hKSk7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyAgICAgICAgICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyB9ICc7XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcge30gJztcbiAgfVxuICB2YXIgX19lcnIgPSBvdXQ7XG4gIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICB9XG4gIG91dCArPSAnfSAnO1xuICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgIG91dCArPSAnIGVsc2UgeyAnO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX3Byb3BlcnRpZXMoaXQsICRrZXl3b3JkLCAkcnVsZVR5cGUpIHtcbiAgdmFyIG91dCA9ICcgJztcbiAgdmFyICRsdmwgPSBpdC5sZXZlbDtcbiAgdmFyICRkYXRhTHZsID0gaXQuZGF0YUxldmVsO1xuICB2YXIgJHNjaGVtYSA9IGl0LnNjaGVtYVska2V5d29yZF07XG4gIHZhciAkc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyBpdC51dGlsLmdldFByb3BlcnR5KCRrZXl3b3JkKTtcbiAgdmFyICRlcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvJyArICRrZXl3b3JkO1xuICB2YXIgJGJyZWFrT25FcnJvciA9ICFpdC5vcHRzLmFsbEVycm9ycztcbiAgdmFyICRkYXRhID0gJ2RhdGEnICsgKCRkYXRhTHZsIHx8ICcnKTtcbiAgdmFyICRlcnJzID0gJ2VycnNfXycgKyAkbHZsO1xuICB2YXIgJGl0ID0gaXQudXRpbC5jb3B5KGl0KTtcbiAgdmFyICRjbG9zaW5nQnJhY2VzID0gJyc7XG4gICRpdC5sZXZlbCsrO1xuICB2YXIgJG5leHRWYWxpZCA9ICd2YWxpZCcgKyAkaXQubGV2ZWw7XG4gIHZhciAka2V5ID0gJ2tleScgKyAkbHZsLFxuICAgICRpZHggPSAnaWR4JyArICRsdmwsXG4gICAgJGRhdGFOeHQgPSAkaXQuZGF0YUxldmVsID0gaXQuZGF0YUxldmVsICsgMSxcbiAgICAkbmV4dERhdGEgPSAnZGF0YScgKyAkZGF0YU54dCxcbiAgICAkZGF0YVByb3BlcnRpZXMgPSAnZGF0YVByb3BlcnRpZXMnICsgJGx2bDtcbiAgdmFyICRzY2hlbWFLZXlzID0gT2JqZWN0LmtleXMoJHNjaGVtYSB8fCB7fSkuZmlsdGVyKG5vdFByb3RvKSxcbiAgICAkcFByb3BlcnRpZXMgPSBpdC5zY2hlbWEucGF0dGVyblByb3BlcnRpZXMgfHwge30sXG4gICAgJHBQcm9wZXJ0eUtleXMgPSBPYmplY3Qua2V5cygkcFByb3BlcnRpZXMpLmZpbHRlcihub3RQcm90byksXG4gICAgJGFQcm9wZXJ0aWVzID0gaXQuc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzLFxuICAgICRzb21lUHJvcGVydGllcyA9ICRzY2hlbWFLZXlzLmxlbmd0aCB8fCAkcFByb3BlcnR5S2V5cy5sZW5ndGgsXG4gICAgJG5vQWRkaXRpb25hbCA9ICRhUHJvcGVydGllcyA9PT0gZmFsc2UsXG4gICAgJGFkZGl0aW9uYWxJc1NjaGVtYSA9IHR5cGVvZiAkYVByb3BlcnRpZXMgPT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMoJGFQcm9wZXJ0aWVzKS5sZW5ndGgsXG4gICAgJHJlbW92ZUFkZGl0aW9uYWwgPSBpdC5vcHRzLnJlbW92ZUFkZGl0aW9uYWwsXG4gICAgJGNoZWNrQWRkaXRpb25hbCA9ICRub0FkZGl0aW9uYWwgfHwgJGFkZGl0aW9uYWxJc1NjaGVtYSB8fCAkcmVtb3ZlQWRkaXRpb25hbCxcbiAgICAkb3duUHJvcGVydGllcyA9IGl0Lm9wdHMub3duUHJvcGVydGllcyxcbiAgICAkY3VycmVudEJhc2VJZCA9IGl0LmJhc2VJZDtcbiAgdmFyICRyZXF1aXJlZCA9IGl0LnNjaGVtYS5yZXF1aXJlZDtcbiAgaWYgKCRyZXF1aXJlZCAmJiAhKGl0Lm9wdHMuJGRhdGEgJiYgJHJlcXVpcmVkLiRkYXRhKSAmJiAkcmVxdWlyZWQubGVuZ3RoIDwgaXQub3B0cy5sb29wUmVxdWlyZWQpIHtcbiAgICB2YXIgJHJlcXVpcmVkSGFzaCA9IGl0LnV0aWwudG9IYXNoKCRyZXF1aXJlZCk7XG4gIH1cblxuICBmdW5jdGlvbiBub3RQcm90byhwKSB7XG4gICAgcmV0dXJuIHAgIT09ICdfX3Byb3RvX18nO1xuICB9XG4gIG91dCArPSAndmFyICcgKyAoJGVycnMpICsgJyA9IGVycm9yczt2YXIgJyArICgkbmV4dFZhbGlkKSArICcgPSB0cnVlOyc7XG4gIGlmICgkb3duUHJvcGVydGllcykge1xuICAgIG91dCArPSAnIHZhciAnICsgKCRkYXRhUHJvcGVydGllcykgKyAnID0gdW5kZWZpbmVkOyc7XG4gIH1cbiAgaWYgKCRjaGVja0FkZGl0aW9uYWwpIHtcbiAgICBpZiAoJG93blByb3BlcnRpZXMpIHtcbiAgICAgIG91dCArPSAnICcgKyAoJGRhdGFQcm9wZXJ0aWVzKSArICcgPSAnICsgKCRkYXRhUHJvcGVydGllcykgKyAnIHx8IE9iamVjdC5rZXlzKCcgKyAoJGRhdGEpICsgJyk7IGZvciAodmFyICcgKyAoJGlkeCkgKyAnPTA7ICcgKyAoJGlkeCkgKyAnPCcgKyAoJGRhdGFQcm9wZXJ0aWVzKSArICcubGVuZ3RoOyAnICsgKCRpZHgpICsgJysrKSB7IHZhciAnICsgKCRrZXkpICsgJyA9ICcgKyAoJGRhdGFQcm9wZXJ0aWVzKSArICdbJyArICgkaWR4KSArICddOyAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyBmb3IgKHZhciAnICsgKCRrZXkpICsgJyBpbiAnICsgKCRkYXRhKSArICcpIHsgJztcbiAgICB9XG4gICAgaWYgKCRzb21lUHJvcGVydGllcykge1xuICAgICAgb3V0ICs9ICcgdmFyIGlzQWRkaXRpb25hbCcgKyAoJGx2bCkgKyAnID0gIShmYWxzZSAnO1xuICAgICAgaWYgKCRzY2hlbWFLZXlzLmxlbmd0aCkge1xuICAgICAgICBpZiAoJHNjaGVtYUtleXMubGVuZ3RoID4gOCkge1xuICAgICAgICAgIG91dCArPSAnIHx8IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJy5oYXNPd25Qcm9wZXJ0eSgnICsgKCRrZXkpICsgJykgJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgYXJyMSA9ICRzY2hlbWFLZXlzO1xuICAgICAgICAgIGlmIChhcnIxKSB7XG4gICAgICAgICAgICB2YXIgJHByb3BlcnR5S2V5LCBpMSA9IC0xLFxuICAgICAgICAgICAgICBsMSA9IGFycjEubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHdoaWxlIChpMSA8IGwxKSB7XG4gICAgICAgICAgICAgICRwcm9wZXJ0eUtleSA9IGFycjFbaTEgKz0gMV07XG4gICAgICAgICAgICAgIG91dCArPSAnIHx8ICcgKyAoJGtleSkgKyAnID09ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkcHJvcGVydHlLZXkpKSArICcgJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICgkcFByb3BlcnR5S2V5cy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGFycjIgPSAkcFByb3BlcnR5S2V5cztcbiAgICAgICAgaWYgKGFycjIpIHtcbiAgICAgICAgICB2YXIgJHBQcm9wZXJ0eSwgJGkgPSAtMSxcbiAgICAgICAgICAgIGwyID0gYXJyMi5sZW5ndGggLSAxO1xuICAgICAgICAgIHdoaWxlICgkaSA8IGwyKSB7XG4gICAgICAgICAgICAkcFByb3BlcnR5ID0gYXJyMlskaSArPSAxXTtcbiAgICAgICAgICAgIG91dCArPSAnIHx8ICcgKyAoaXQudXNlUGF0dGVybigkcFByb3BlcnR5KSkgKyAnLnRlc3QoJyArICgka2V5KSArICcpICc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyApOyBpZiAoaXNBZGRpdGlvbmFsJyArICgkbHZsKSArICcpIHsgJztcbiAgICB9XG4gICAgaWYgKCRyZW1vdmVBZGRpdGlvbmFsID09ICdhbGwnKSB7XG4gICAgICBvdXQgKz0gJyBkZWxldGUgJyArICgkZGF0YSkgKyAnWycgKyAoJGtleSkgKyAnXTsgJztcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyICRjdXJyZW50RXJyb3JQYXRoID0gaXQuZXJyb3JQYXRoO1xuICAgICAgdmFyICRhZGRpdGlvbmFsUHJvcGVydHkgPSAnXFwnICsgJyArICRrZXkgKyAnICsgXFwnJztcbiAgICAgIGlmIChpdC5vcHRzLl9lcnJvckRhdGFQYXRoUHJvcGVydHkpIHtcbiAgICAgICAgaXQuZXJyb3JQYXRoID0gaXQudXRpbC5nZXRQYXRoRXhwcihpdC5lcnJvclBhdGgsICRrZXksIGl0Lm9wdHMuanNvblBvaW50ZXJzKTtcbiAgICAgIH1cbiAgICAgIGlmICgkbm9BZGRpdGlvbmFsKSB7XG4gICAgICAgIGlmICgkcmVtb3ZlQWRkaXRpb25hbCkge1xuICAgICAgICAgIG91dCArPSAnIGRlbGV0ZSAnICsgKCRkYXRhKSArICdbJyArICgka2V5KSArICddOyAnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dCArPSAnICcgKyAoJG5leHRWYWxpZCkgKyAnID0gZmFsc2U7ICc7XG4gICAgICAgICAgdmFyICRjdXJyRXJyU2NoZW1hUGF0aCA9ICRlcnJTY2hlbWFQYXRoO1xuICAgICAgICAgICRlcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvYWRkaXRpb25hbFByb3BlcnRpZXMnO1xuICAgICAgICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAgICAgICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgICAgICAgICBvdXQgPSAnJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCdhZGRpdGlvbmFsUHJvcGVydGllcycpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsgYWRkaXRpb25hbFByb3BlcnR5OiBcXCcnICsgKCRhZGRpdGlvbmFsUHJvcGVydHkpICsgJ1xcJyB9ICc7XG4gICAgICAgICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCcnO1xuICAgICAgICAgICAgICBpZiAoaXQub3B0cy5fZXJyb3JEYXRhUGF0aFByb3BlcnR5KSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9ICdpcyBhbiBpbnZhbGlkIGFkZGl0aW9uYWwgcHJvcGVydHknO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG91dCArPSAnc2hvdWxkIE5PVCBoYXZlIGFkZGl0aW9uYWwgcHJvcGVydGllcyc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgb3V0ICs9ICdcXCcgJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IGZhbHNlICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0ICs9ICcgfSAnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB7fSAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgX19lcnIgPSBvdXQ7XG4gICAgICAgICAgb3V0ID0gJCRvdXRTdGFjay5wb3AoKTtcbiAgICAgICAgICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihbJyArIChfX2VycikgKyAnXSk7ICc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSBbJyArIChfX2VycikgKyAnXTsgcmV0dXJuIGZhbHNlOyAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB2YXIgZXJyID0gJyArIChfX2VycikgKyAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gICAgICAgICAgfVxuICAgICAgICAgICRlcnJTY2hlbWFQYXRoID0gJGN1cnJFcnJTY2hlbWFQYXRoO1xuICAgICAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyBicmVhazsgJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoJGFkZGl0aW9uYWxJc1NjaGVtYSkge1xuICAgICAgICBpZiAoJHJlbW92ZUFkZGl0aW9uYWwgPT0gJ2ZhaWxpbmcnKSB7XG4gICAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJGVycnMpICsgJyA9IGVycm9yczsgICc7XG4gICAgICAgICAgdmFyICR3YXNDb21wb3NpdGUgPSBpdC5jb21wb3NpdGVSdWxlO1xuICAgICAgICAgIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9IHRydWU7XG4gICAgICAgICAgJGl0LnNjaGVtYSA9ICRhUHJvcGVydGllcztcbiAgICAgICAgICAkaXQuc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyAnLmFkZGl0aW9uYWxQcm9wZXJ0aWVzJztcbiAgICAgICAgICAkaXQuZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnL2FkZGl0aW9uYWxQcm9wZXJ0aWVzJztcbiAgICAgICAgICAkaXQuZXJyb3JQYXRoID0gaXQub3B0cy5fZXJyb3JEYXRhUGF0aFByb3BlcnR5ID8gaXQuZXJyb3JQYXRoIDogaXQudXRpbC5nZXRQYXRoRXhwcihpdC5lcnJvclBhdGgsICRrZXksIGl0Lm9wdHMuanNvblBvaW50ZXJzKTtcbiAgICAgICAgICB2YXIgJHBhc3NEYXRhID0gJGRhdGEgKyAnWycgKyAka2V5ICsgJ10nO1xuICAgICAgICAgICRpdC5kYXRhUGF0aEFyclskZGF0YU54dF0gPSAka2V5O1xuICAgICAgICAgIHZhciAkY29kZSA9IGl0LnZhbGlkYXRlKCRpdCk7XG4gICAgICAgICAgJGl0LmJhc2VJZCA9ICRjdXJyZW50QmFzZUlkO1xuICAgICAgICAgIGlmIChpdC51dGlsLnZhck9jY3VyZW5jZXMoJGNvZGUsICRuZXh0RGF0YSkgPCAyKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyAnICsgKGl0LnV0aWwudmFyUmVwbGFjZSgkY29kZSwgJG5leHREYXRhLCAkcGFzc0RhdGEpKSArICcgJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJG5leHREYXRhKSArICcgPSAnICsgKCRwYXNzRGF0YSkgKyAnOyAnICsgKCRjb2RlKSArICcgJztcbiAgICAgICAgICB9XG4gICAgICAgICAgb3V0ICs9ICcgaWYgKCEnICsgKCRuZXh0VmFsaWQpICsgJykgeyBlcnJvcnMgPSAnICsgKCRlcnJzKSArICc7IGlmICh2YWxpZGF0ZS5lcnJvcnMgIT09IG51bGwpIHsgaWYgKGVycm9ycykgdmFsaWRhdGUuZXJyb3JzLmxlbmd0aCA9IGVycm9yczsgZWxzZSB2YWxpZGF0ZS5lcnJvcnMgPSBudWxsOyB9IGRlbGV0ZSAnICsgKCRkYXRhKSArICdbJyArICgka2V5KSArICddOyB9ICAnO1xuICAgICAgICAgIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9ICR3YXNDb21wb3NpdGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGl0LnNjaGVtYSA9ICRhUHJvcGVydGllcztcbiAgICAgICAgICAkaXQuc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyAnLmFkZGl0aW9uYWxQcm9wZXJ0aWVzJztcbiAgICAgICAgICAkaXQuZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnL2FkZGl0aW9uYWxQcm9wZXJ0aWVzJztcbiAgICAgICAgICAkaXQuZXJyb3JQYXRoID0gaXQub3B0cy5fZXJyb3JEYXRhUGF0aFByb3BlcnR5ID8gaXQuZXJyb3JQYXRoIDogaXQudXRpbC5nZXRQYXRoRXhwcihpdC5lcnJvclBhdGgsICRrZXksIGl0Lm9wdHMuanNvblBvaW50ZXJzKTtcbiAgICAgICAgICB2YXIgJHBhc3NEYXRhID0gJGRhdGEgKyAnWycgKyAka2V5ICsgJ10nO1xuICAgICAgICAgICRpdC5kYXRhUGF0aEFyclskZGF0YU54dF0gPSAka2V5O1xuICAgICAgICAgIHZhciAkY29kZSA9IGl0LnZhbGlkYXRlKCRpdCk7XG4gICAgICAgICAgJGl0LmJhc2VJZCA9ICRjdXJyZW50QmFzZUlkO1xuICAgICAgICAgIGlmIChpdC51dGlsLnZhck9jY3VyZW5jZXMoJGNvZGUsICRuZXh0RGF0YSkgPCAyKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyAnICsgKGl0LnV0aWwudmFyUmVwbGFjZSgkY29kZSwgJG5leHREYXRhLCAkcGFzc0RhdGEpKSArICcgJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJG5leHREYXRhKSArICcgPSAnICsgKCRwYXNzRGF0YSkgKyAnOyAnICsgKCRjb2RlKSArICcgJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAgIG91dCArPSAnIGlmICghJyArICgkbmV4dFZhbGlkKSArICcpIGJyZWFrOyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaXQuZXJyb3JQYXRoID0gJGN1cnJlbnRFcnJvclBhdGg7XG4gICAgfVxuICAgIGlmICgkc29tZVByb3BlcnRpZXMpIHtcbiAgICAgIG91dCArPSAnIH0gJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSAgJztcbiAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoJG5leHRWYWxpZCkgKyAnKSB7ICc7XG4gICAgICAkY2xvc2luZ0JyYWNlcyArPSAnfSc7XG4gICAgfVxuICB9XG4gIHZhciAkdXNlRGVmYXVsdHMgPSBpdC5vcHRzLnVzZURlZmF1bHRzICYmICFpdC5jb21wb3NpdGVSdWxlO1xuICBpZiAoJHNjaGVtYUtleXMubGVuZ3RoKSB7XG4gICAgdmFyIGFycjMgPSAkc2NoZW1hS2V5cztcbiAgICBpZiAoYXJyMykge1xuICAgICAgdmFyICRwcm9wZXJ0eUtleSwgaTMgPSAtMSxcbiAgICAgICAgbDMgPSBhcnIzLmxlbmd0aCAtIDE7XG4gICAgICB3aGlsZSAoaTMgPCBsMykge1xuICAgICAgICAkcHJvcGVydHlLZXkgPSBhcnIzW2kzICs9IDFdO1xuICAgICAgICB2YXIgJHNjaCA9ICRzY2hlbWFbJHByb3BlcnR5S2V5XTtcbiAgICAgICAgaWYgKChpdC5vcHRzLnN0cmljdEtleXdvcmRzID8gKHR5cGVvZiAkc2NoID09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKCRzY2gpLmxlbmd0aCA+IDApIHx8ICRzY2ggPT09IGZhbHNlIDogaXQudXRpbC5zY2hlbWFIYXNSdWxlcygkc2NoLCBpdC5SVUxFUy5hbGwpKSkge1xuICAgICAgICAgIHZhciAkcHJvcCA9IGl0LnV0aWwuZ2V0UHJvcGVydHkoJHByb3BlcnR5S2V5KSxcbiAgICAgICAgICAgICRwYXNzRGF0YSA9ICRkYXRhICsgJHByb3AsXG4gICAgICAgICAgICAkaGFzRGVmYXVsdCA9ICR1c2VEZWZhdWx0cyAmJiAkc2NoLmRlZmF1bHQgIT09IHVuZGVmaW5lZDtcbiAgICAgICAgICAkaXQuc2NoZW1hID0gJHNjaDtcbiAgICAgICAgICAkaXQuc2NoZW1hUGF0aCA9ICRzY2hlbWFQYXRoICsgJHByb3A7XG4gICAgICAgICAgJGl0LmVyclNjaGVtYVBhdGggPSAkZXJyU2NoZW1hUGF0aCArICcvJyArIGl0LnV0aWwuZXNjYXBlRnJhZ21lbnQoJHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAkaXQuZXJyb3JQYXRoID0gaXQudXRpbC5nZXRQYXRoKGl0LmVycm9yUGF0aCwgJHByb3BlcnR5S2V5LCBpdC5vcHRzLmpzb25Qb2ludGVycyk7XG4gICAgICAgICAgJGl0LmRhdGFQYXRoQXJyWyRkYXRhTnh0XSA9IGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJHByb3BlcnR5S2V5KTtcbiAgICAgICAgICB2YXIgJGNvZGUgPSBpdC52YWxpZGF0ZSgkaXQpO1xuICAgICAgICAgICRpdC5iYXNlSWQgPSAkY3VycmVudEJhc2VJZDtcbiAgICAgICAgICBpZiAoaXQudXRpbC52YXJPY2N1cmVuY2VzKCRjb2RlLCAkbmV4dERhdGEpIDwgMikge1xuICAgICAgICAgICAgJGNvZGUgPSBpdC51dGlsLnZhclJlcGxhY2UoJGNvZGUsICRuZXh0RGF0YSwgJHBhc3NEYXRhKTtcbiAgICAgICAgICAgIHZhciAkdXNlRGF0YSA9ICRwYXNzRGF0YTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyICR1c2VEYXRhID0gJG5leHREYXRhO1xuICAgICAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJG5leHREYXRhKSArICcgPSAnICsgKCRwYXNzRGF0YSkgKyAnOyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoJGhhc0RlZmF1bHQpIHtcbiAgICAgICAgICAgIG91dCArPSAnICcgKyAoJGNvZGUpICsgJyAnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoJHJlcXVpcmVkSGFzaCAmJiAkcmVxdWlyZWRIYXNoWyRwcm9wZXJ0eUtleV0pIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICcgaWYgKCAnICsgKCR1c2VEYXRhKSArICcgPT09IHVuZGVmaW5lZCAnO1xuICAgICAgICAgICAgICBpZiAoJG93blByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gJyB8fCAhIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgnICsgKCRkYXRhKSArICcsIFxcJycgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5S2V5KSkgKyAnXFwnKSAnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG91dCArPSAnKSB7ICcgKyAoJG5leHRWYWxpZCkgKyAnID0gZmFsc2U7ICc7XG4gICAgICAgICAgICAgIHZhciAkY3VycmVudEVycm9yUGF0aCA9IGl0LmVycm9yUGF0aCxcbiAgICAgICAgICAgICAgICAkY3VyckVyclNjaGVtYVBhdGggPSAkZXJyU2NoZW1hUGF0aCxcbiAgICAgICAgICAgICAgICAkbWlzc2luZ1Byb3BlcnR5ID0gaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgICAgaWYgKGl0Lm9wdHMuX2Vycm9yRGF0YVBhdGhQcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAgIGl0LmVycm9yUGF0aCA9IGl0LnV0aWwuZ2V0UGF0aCgkY3VycmVudEVycm9yUGF0aCwgJHByb3BlcnR5S2V5LCBpdC5vcHRzLmpzb25Qb2ludGVycyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgJGVyclNjaGVtYVBhdGggPSBpdC5lcnJTY2hlbWFQYXRoICsgJy9yZXF1aXJlZCc7XG4gICAgICAgICAgICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAgICAgICAgICAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gICAgICAgICAgICAgIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgncmVxdWlyZWQnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IG1pc3NpbmdQcm9wZXJ0eTogXFwnJyArICgkbWlzc2luZ1Byb3BlcnR5KSArICdcXCcgfSAnO1xuICAgICAgICAgICAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCcnO1xuICAgICAgICAgICAgICAgICAgaWYgKGl0Lm9wdHMuX2Vycm9yRGF0YVBhdGhQcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gJ2lzIGEgcmVxdWlyZWQgcHJvcGVydHknO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9ICdzaG91bGQgaGF2ZSByZXF1aXJlZCBwcm9wZXJ0eSBcXFxcXFwnJyArICgkbWlzc2luZ1Byb3BlcnR5KSArICdcXFxcXFwnJztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIG91dCArPSAnXFwnICc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgICAgICAgICAgIG91dCArPSAnICwgc2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICcgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dCArPSAnIH0gJztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gJyB7fSAnO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhciBfX2VyciA9IG91dDtcbiAgICAgICAgICAgICAgb3V0ID0gJCRvdXRTdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgaWYgKCFpdC5jb21wb3NpdGVSdWxlICYmICRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgICAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgICAgICAgICAgICAgIG91dCArPSAnIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IoWycgKyAoX19lcnIpICsgJ10pOyAnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSBbJyArIChfX2VycikgKyAnXTsgcmV0dXJuIGZhbHNlOyAnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gJyB2YXIgZXJyID0gJyArIChfX2VycikgKyAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgJGVyclNjaGVtYVBhdGggPSAkY3VyckVyclNjaGVtYVBhdGg7XG4gICAgICAgICAgICAgIGl0LmVycm9yUGF0aCA9ICRjdXJyZW50RXJyb3JQYXRoO1xuICAgICAgICAgICAgICBvdXQgKz0gJyB9IGVsc2UgeyAnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gJyBpZiAoICcgKyAoJHVzZURhdGEpICsgJyA9PT0gdW5kZWZpbmVkICc7XG4gICAgICAgICAgICAgICAgaWYgKCRvd25Qcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICBvdXQgKz0gJyB8fCAhIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgnICsgKCRkYXRhKSArICcsIFxcJycgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5S2V5KSkgKyAnXFwnKSAnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvdXQgKz0gJykgeyAnICsgKCRuZXh0VmFsaWQpICsgJyA9IHRydWU7IH0gZWxzZSB7ICc7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoJHVzZURhdGEpICsgJyAhPT0gdW5kZWZpbmVkICc7XG4gICAgICAgICAgICAgICAgaWYgKCRvd25Qcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICBvdXQgKz0gJyAmJiAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgnICsgKCRkYXRhKSArICcsIFxcJycgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5S2V5KSkgKyAnXFwnKSAnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvdXQgKz0gJyApIHsgJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0ICs9ICcgJyArICgkY29kZSkgKyAnIH0gJztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICBvdXQgKz0gJyBpZiAoJyArICgkbmV4dFZhbGlkKSArICcpIHsgJztcbiAgICAgICAgICAkY2xvc2luZ0JyYWNlcyArPSAnfSc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKCRwUHJvcGVydHlLZXlzLmxlbmd0aCkge1xuICAgIHZhciBhcnI0ID0gJHBQcm9wZXJ0eUtleXM7XG4gICAgaWYgKGFycjQpIHtcbiAgICAgIHZhciAkcFByb3BlcnR5LCBpNCA9IC0xLFxuICAgICAgICBsNCA9IGFycjQubGVuZ3RoIC0gMTtcbiAgICAgIHdoaWxlIChpNCA8IGw0KSB7XG4gICAgICAgICRwUHJvcGVydHkgPSBhcnI0W2k0ICs9IDFdO1xuICAgICAgICB2YXIgJHNjaCA9ICRwUHJvcGVydGllc1skcFByb3BlcnR5XTtcbiAgICAgICAgaWYgKChpdC5vcHRzLnN0cmljdEtleXdvcmRzID8gKHR5cGVvZiAkc2NoID09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKCRzY2gpLmxlbmd0aCA+IDApIHx8ICRzY2ggPT09IGZhbHNlIDogaXQudXRpbC5zY2hlbWFIYXNSdWxlcygkc2NoLCBpdC5SVUxFUy5hbGwpKSkge1xuICAgICAgICAgICRpdC5zY2hlbWEgPSAkc2NoO1xuICAgICAgICAgICRpdC5zY2hlbWFQYXRoID0gaXQuc2NoZW1hUGF0aCArICcucGF0dGVyblByb3BlcnRpZXMnICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgkcFByb3BlcnR5KTtcbiAgICAgICAgICAkaXQuZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnL3BhdHRlcm5Qcm9wZXJ0aWVzLycgKyBpdC51dGlsLmVzY2FwZUZyYWdtZW50KCRwUHJvcGVydHkpO1xuICAgICAgICAgIGlmICgkb3duUHJvcGVydGllcykge1xuICAgICAgICAgICAgb3V0ICs9ICcgJyArICgkZGF0YVByb3BlcnRpZXMpICsgJyA9ICcgKyAoJGRhdGFQcm9wZXJ0aWVzKSArICcgfHwgT2JqZWN0LmtleXMoJyArICgkZGF0YSkgKyAnKTsgZm9yICh2YXIgJyArICgkaWR4KSArICc9MDsgJyArICgkaWR4KSArICc8JyArICgkZGF0YVByb3BlcnRpZXMpICsgJy5sZW5ndGg7ICcgKyAoJGlkeCkgKyAnKyspIHsgdmFyICcgKyAoJGtleSkgKyAnID0gJyArICgkZGF0YVByb3BlcnRpZXMpICsgJ1snICsgKCRpZHgpICsgJ107ICc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG91dCArPSAnIGZvciAodmFyICcgKyAoJGtleSkgKyAnIGluICcgKyAoJGRhdGEpICsgJykgeyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJyBpZiAoJyArIChpdC51c2VQYXR0ZXJuKCRwUHJvcGVydHkpKSArICcudGVzdCgnICsgKCRrZXkpICsgJykpIHsgJztcbiAgICAgICAgICAkaXQuZXJyb3JQYXRoID0gaXQudXRpbC5nZXRQYXRoRXhwcihpdC5lcnJvclBhdGgsICRrZXksIGl0Lm9wdHMuanNvblBvaW50ZXJzKTtcbiAgICAgICAgICB2YXIgJHBhc3NEYXRhID0gJGRhdGEgKyAnWycgKyAka2V5ICsgJ10nO1xuICAgICAgICAgICRpdC5kYXRhUGF0aEFyclskZGF0YU54dF0gPSAka2V5O1xuICAgICAgICAgIHZhciAkY29kZSA9IGl0LnZhbGlkYXRlKCRpdCk7XG4gICAgICAgICAgJGl0LmJhc2VJZCA9ICRjdXJyZW50QmFzZUlkO1xuICAgICAgICAgIGlmIChpdC51dGlsLnZhck9jY3VyZW5jZXMoJGNvZGUsICRuZXh0RGF0YSkgPCAyKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyAnICsgKGl0LnV0aWwudmFyUmVwbGFjZSgkY29kZSwgJG5leHREYXRhLCAkcGFzc0RhdGEpKSArICcgJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJG5leHREYXRhKSArICcgPSAnICsgKCRwYXNzRGF0YSkgKyAnOyAnICsgKCRjb2RlKSArICcgJztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAgIG91dCArPSAnIGlmICghJyArICgkbmV4dFZhbGlkKSArICcpIGJyZWFrOyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICAgICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgICAgICAgIG91dCArPSAnIGVsc2UgJyArICgkbmV4dFZhbGlkKSArICcgPSB0cnVlOyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJyB9ICAnO1xuICAgICAgICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyBpZiAoJyArICgkbmV4dFZhbGlkKSArICcpIHsgJztcbiAgICAgICAgICAgICRjbG9zaW5nQnJhY2VzICs9ICd9JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICBvdXQgKz0gJyAnICsgKCRjbG9zaW5nQnJhY2VzKSArICcgaWYgKCcgKyAoJGVycnMpICsgJyA9PSBlcnJvcnMpIHsnO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX3Byb3BlcnR5TmFtZXMoaXQsICRrZXl3b3JkLCAkcnVsZVR5cGUpIHtcbiAgdmFyIG91dCA9ICcgJztcbiAgdmFyICRsdmwgPSBpdC5sZXZlbDtcbiAgdmFyICRkYXRhTHZsID0gaXQuZGF0YUxldmVsO1xuICB2YXIgJHNjaGVtYSA9IGl0LnNjaGVtYVska2V5d29yZF07XG4gIHZhciAkc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyBpdC51dGlsLmdldFByb3BlcnR5KCRrZXl3b3JkKTtcbiAgdmFyICRlcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvJyArICRrZXl3b3JkO1xuICB2YXIgJGJyZWFrT25FcnJvciA9ICFpdC5vcHRzLmFsbEVycm9ycztcbiAgdmFyICRkYXRhID0gJ2RhdGEnICsgKCRkYXRhTHZsIHx8ICcnKTtcbiAgdmFyICRlcnJzID0gJ2VycnNfXycgKyAkbHZsO1xuICB2YXIgJGl0ID0gaXQudXRpbC5jb3B5KGl0KTtcbiAgdmFyICRjbG9zaW5nQnJhY2VzID0gJyc7XG4gICRpdC5sZXZlbCsrO1xuICB2YXIgJG5leHRWYWxpZCA9ICd2YWxpZCcgKyAkaXQubGV2ZWw7XG4gIG91dCArPSAndmFyICcgKyAoJGVycnMpICsgJyA9IGVycm9yczsnO1xuICBpZiAoKGl0Lm9wdHMuc3RyaWN0S2V5d29yZHMgPyAodHlwZW9mICRzY2hlbWEgPT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMoJHNjaGVtYSkubGVuZ3RoID4gMCkgfHwgJHNjaGVtYSA9PT0gZmFsc2UgOiBpdC51dGlsLnNjaGVtYUhhc1J1bGVzKCRzY2hlbWEsIGl0LlJVTEVTLmFsbCkpKSB7XG4gICAgJGl0LnNjaGVtYSA9ICRzY2hlbWE7XG4gICAgJGl0LnNjaGVtYVBhdGggPSAkc2NoZW1hUGF0aDtcbiAgICAkaXQuZXJyU2NoZW1hUGF0aCA9ICRlcnJTY2hlbWFQYXRoO1xuICAgIHZhciAka2V5ID0gJ2tleScgKyAkbHZsLFxuICAgICAgJGlkeCA9ICdpZHgnICsgJGx2bCxcbiAgICAgICRpID0gJ2knICsgJGx2bCxcbiAgICAgICRpbnZhbGlkTmFtZSA9ICdcXCcgKyAnICsgJGtleSArICcgKyBcXCcnLFxuICAgICAgJGRhdGFOeHQgPSAkaXQuZGF0YUxldmVsID0gaXQuZGF0YUxldmVsICsgMSxcbiAgICAgICRuZXh0RGF0YSA9ICdkYXRhJyArICRkYXRhTnh0LFxuICAgICAgJGRhdGFQcm9wZXJ0aWVzID0gJ2RhdGFQcm9wZXJ0aWVzJyArICRsdmwsXG4gICAgICAkb3duUHJvcGVydGllcyA9IGl0Lm9wdHMub3duUHJvcGVydGllcyxcbiAgICAgICRjdXJyZW50QmFzZUlkID0gaXQuYmFzZUlkO1xuICAgIGlmICgkb3duUHJvcGVydGllcykge1xuICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJGRhdGFQcm9wZXJ0aWVzKSArICcgPSB1bmRlZmluZWQ7ICc7XG4gICAgfVxuICAgIGlmICgkb3duUHJvcGVydGllcykge1xuICAgICAgb3V0ICs9ICcgJyArICgkZGF0YVByb3BlcnRpZXMpICsgJyA9ICcgKyAoJGRhdGFQcm9wZXJ0aWVzKSArICcgfHwgT2JqZWN0LmtleXMoJyArICgkZGF0YSkgKyAnKTsgZm9yICh2YXIgJyArICgkaWR4KSArICc9MDsgJyArICgkaWR4KSArICc8JyArICgkZGF0YVByb3BlcnRpZXMpICsgJy5sZW5ndGg7ICcgKyAoJGlkeCkgKyAnKyspIHsgdmFyICcgKyAoJGtleSkgKyAnID0gJyArICgkZGF0YVByb3BlcnRpZXMpICsgJ1snICsgKCRpZHgpICsgJ107ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIGZvciAodmFyICcgKyAoJGtleSkgKyAnIGluICcgKyAoJGRhdGEpICsgJykgeyAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyB2YXIgc3RhcnRFcnJzJyArICgkbHZsKSArICcgPSBlcnJvcnM7ICc7XG4gICAgdmFyICRwYXNzRGF0YSA9ICRrZXk7XG4gICAgdmFyICR3YXNDb21wb3NpdGUgPSBpdC5jb21wb3NpdGVSdWxlO1xuICAgIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9IHRydWU7XG4gICAgdmFyICRjb2RlID0gaXQudmFsaWRhdGUoJGl0KTtcbiAgICAkaXQuYmFzZUlkID0gJGN1cnJlbnRCYXNlSWQ7XG4gICAgaWYgKGl0LnV0aWwudmFyT2NjdXJlbmNlcygkY29kZSwgJG5leHREYXRhKSA8IDIpIHtcbiAgICAgIG91dCArPSAnICcgKyAoaXQudXRpbC52YXJSZXBsYWNlKCRjb2RlLCAkbmV4dERhdGEsICRwYXNzRGF0YSkpICsgJyAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyB2YXIgJyArICgkbmV4dERhdGEpICsgJyA9ICcgKyAoJHBhc3NEYXRhKSArICc7ICcgKyAoJGNvZGUpICsgJyAnO1xuICAgIH1cbiAgICBpdC5jb21wb3NpdGVSdWxlID0gJGl0LmNvbXBvc2l0ZVJ1bGUgPSAkd2FzQ29tcG9zaXRlO1xuICAgIG91dCArPSAnIGlmICghJyArICgkbmV4dFZhbGlkKSArICcpIHsgZm9yICh2YXIgJyArICgkaSkgKyAnPXN0YXJ0RXJycycgKyAoJGx2bCkgKyAnOyAnICsgKCRpKSArICc8ZXJyb3JzOyAnICsgKCRpKSArICcrKykgeyB2RXJyb3JzWycgKyAoJGkpICsgJ10ucHJvcGVydHlOYW1lID0gJyArICgka2V5KSArICc7IH0gICB2YXIgZXJyID0gICAnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ3Byb3BlcnR5TmFtZXMnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IHByb3BlcnR5TmFtZTogXFwnJyArICgkaW52YWxpZE5hbWUpICsgJ1xcJyB9ICc7XG4gICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdwcm9wZXJ0eSBuYW1lIFxcXFxcXCcnICsgKCRpbnZhbGlkTmFtZSkgKyAnXFxcXFxcJyBpcyBpbnZhbGlkXFwnICc7XG4gICAgICB9XG4gICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgIG91dCArPSAnICwgc2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICcgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyB9ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHt9ICc7XG4gICAgfVxuICAgIG91dCArPSAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gICAgaWYgKCFpdC5jb21wb3NpdGVSdWxlICYmICRicmVha09uRXJyb3IpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICAgIG91dCArPSAnIHRocm93IG5ldyBWYWxpZGF0aW9uRXJyb3IodkVycm9ycyk7ICc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSB2RXJyb3JzOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICBvdXQgKz0gJyBicmVhazsgJztcbiAgICB9XG4gICAgb3V0ICs9ICcgfSB9JztcbiAgfVxuICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgIG91dCArPSAnICcgKyAoJGNsb3NpbmdCcmFjZXMpICsgJyBpZiAoJyArICgkZXJycykgKyAnID09IGVycm9ycykgeyc7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2VuZXJhdGVfcmVxdWlyZWQoaXQsICRrZXl3b3JkLCAkcnVsZVR5cGUpIHtcbiAgdmFyIG91dCA9ICcgJztcbiAgdmFyICRsdmwgPSBpdC5sZXZlbDtcbiAgdmFyICRkYXRhTHZsID0gaXQuZGF0YUxldmVsO1xuICB2YXIgJHNjaGVtYSA9IGl0LnNjaGVtYVska2V5d29yZF07XG4gIHZhciAkc2NoZW1hUGF0aCA9IGl0LnNjaGVtYVBhdGggKyBpdC51dGlsLmdldFByb3BlcnR5KCRrZXl3b3JkKTtcbiAgdmFyICRlcnJTY2hlbWFQYXRoID0gaXQuZXJyU2NoZW1hUGF0aCArICcvJyArICRrZXl3b3JkO1xuICB2YXIgJGJyZWFrT25FcnJvciA9ICFpdC5vcHRzLmFsbEVycm9ycztcbiAgdmFyICRkYXRhID0gJ2RhdGEnICsgKCRkYXRhTHZsIHx8ICcnKTtcbiAgdmFyICR2YWxpZCA9ICd2YWxpZCcgKyAkbHZsO1xuICB2YXIgJGlzRGF0YSA9IGl0Lm9wdHMuJGRhdGEgJiYgJHNjaGVtYSAmJiAkc2NoZW1hLiRkYXRhLFxuICAgICRzY2hlbWFWYWx1ZTtcbiAgaWYgKCRpc0RhdGEpIHtcbiAgICBvdXQgKz0gJyB2YXIgc2NoZW1hJyArICgkbHZsKSArICcgPSAnICsgKGl0LnV0aWwuZ2V0RGF0YSgkc2NoZW1hLiRkYXRhLCAkZGF0YUx2bCwgaXQuZGF0YVBhdGhBcnIpKSArICc7ICc7XG4gICAgJHNjaGVtYVZhbHVlID0gJ3NjaGVtYScgKyAkbHZsO1xuICB9IGVsc2Uge1xuICAgICRzY2hlbWFWYWx1ZSA9ICRzY2hlbWE7XG4gIH1cbiAgdmFyICR2U2NoZW1hID0gJ3NjaGVtYScgKyAkbHZsO1xuICBpZiAoISRpc0RhdGEpIHtcbiAgICBpZiAoJHNjaGVtYS5sZW5ndGggPCBpdC5vcHRzLmxvb3BSZXF1aXJlZCAmJiBpdC5zY2hlbWEucHJvcGVydGllcyAmJiBPYmplY3Qua2V5cyhpdC5zY2hlbWEucHJvcGVydGllcykubGVuZ3RoKSB7XG4gICAgICB2YXIgJHJlcXVpcmVkID0gW107XG4gICAgICB2YXIgYXJyMSA9ICRzY2hlbWE7XG4gICAgICBpZiAoYXJyMSkge1xuICAgICAgICB2YXIgJHByb3BlcnR5LCBpMSA9IC0xLFxuICAgICAgICAgIGwxID0gYXJyMS5sZW5ndGggLSAxO1xuICAgICAgICB3aGlsZSAoaTEgPCBsMSkge1xuICAgICAgICAgICRwcm9wZXJ0eSA9IGFycjFbaTEgKz0gMV07XG4gICAgICAgICAgdmFyICRwcm9wZXJ0eVNjaCA9IGl0LnNjaGVtYS5wcm9wZXJ0aWVzWyRwcm9wZXJ0eV07XG4gICAgICAgICAgaWYgKCEoJHByb3BlcnR5U2NoICYmIChpdC5vcHRzLnN0cmljdEtleXdvcmRzID8gKHR5cGVvZiAkcHJvcGVydHlTY2ggPT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMoJHByb3BlcnR5U2NoKS5sZW5ndGggPiAwKSB8fCAkcHJvcGVydHlTY2ggPT09IGZhbHNlIDogaXQudXRpbC5zY2hlbWFIYXNSdWxlcygkcHJvcGVydHlTY2gsIGl0LlJVTEVTLmFsbCkpKSkge1xuICAgICAgICAgICAgJHJlcXVpcmVkWyRyZXF1aXJlZC5sZW5ndGhdID0gJHByb3BlcnR5O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgJHJlcXVpcmVkID0gJHNjaGVtYTtcbiAgICB9XG4gIH1cbiAgaWYgKCRpc0RhdGEgfHwgJHJlcXVpcmVkLmxlbmd0aCkge1xuICAgIHZhciAkY3VycmVudEVycm9yUGF0aCA9IGl0LmVycm9yUGF0aCxcbiAgICAgICRsb29wUmVxdWlyZWQgPSAkaXNEYXRhIHx8ICRyZXF1aXJlZC5sZW5ndGggPj0gaXQub3B0cy5sb29wUmVxdWlyZWQsXG4gICAgICAkb3duUHJvcGVydGllcyA9IGl0Lm9wdHMub3duUHJvcGVydGllcztcbiAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgb3V0ICs9ICcgdmFyIG1pc3NpbmcnICsgKCRsdmwpICsgJzsgJztcbiAgICAgIGlmICgkbG9vcFJlcXVpcmVkKSB7XG4gICAgICAgIGlmICghJGlzRGF0YSkge1xuICAgICAgICAgIG91dCArPSAnIHZhciAnICsgKCR2U2NoZW1hKSArICcgPSB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICc7ICc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyICRpID0gJ2knICsgJGx2bCxcbiAgICAgICAgICAkcHJvcGVydHlQYXRoID0gJ3NjaGVtYScgKyAkbHZsICsgJ1snICsgJGkgKyAnXScsXG4gICAgICAgICAgJG1pc3NpbmdQcm9wZXJ0eSA9ICdcXCcgKyAnICsgJHByb3BlcnR5UGF0aCArICcgKyBcXCcnO1xuICAgICAgICBpZiAoaXQub3B0cy5fZXJyb3JEYXRhUGF0aFByb3BlcnR5KSB7XG4gICAgICAgICAgaXQuZXJyb3JQYXRoID0gaXQudXRpbC5nZXRQYXRoRXhwcigkY3VycmVudEVycm9yUGF0aCwgJHByb3BlcnR5UGF0aCwgaXQub3B0cy5qc29uUG9pbnRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnIHZhciAnICsgKCR2YWxpZCkgKyAnID0gdHJ1ZTsgJztcbiAgICAgICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgICAgICBvdXQgKz0gJyBpZiAoc2NoZW1hJyArICgkbHZsKSArICcgPT09IHVuZGVmaW5lZCkgJyArICgkdmFsaWQpICsgJyA9IHRydWU7IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KHNjaGVtYScgKyAoJGx2bCkgKyAnKSkgJyArICgkdmFsaWQpICsgJyA9IGZhbHNlOyBlbHNlIHsnO1xuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnIGZvciAodmFyICcgKyAoJGkpICsgJyA9IDA7ICcgKyAoJGkpICsgJyA8ICcgKyAoJHZTY2hlbWEpICsgJy5sZW5ndGg7ICcgKyAoJGkpICsgJysrKSB7ICcgKyAoJHZhbGlkKSArICcgPSAnICsgKCRkYXRhKSArICdbJyArICgkdlNjaGVtYSkgKyAnWycgKyAoJGkpICsgJ11dICE9PSB1bmRlZmluZWQgJztcbiAgICAgICAgaWYgKCRvd25Qcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgb3V0ICs9ICcgJiYgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoJyArICgkZGF0YSkgKyAnLCAnICsgKCR2U2NoZW1hKSArICdbJyArICgkaSkgKyAnXSkgJztcbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gJzsgaWYgKCEnICsgKCR2YWxpZCkgKyAnKSBicmVhazsgfSAnO1xuICAgICAgICBpZiAoJGlzRGF0YSkge1xuICAgICAgICAgIG91dCArPSAnICB9ICAnO1xuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnICBpZiAoIScgKyAoJHZhbGlkKSArICcpIHsgICAnO1xuICAgICAgICB2YXIgJCRvdXRTdGFjayA9ICQkb3V0U3RhY2sgfHwgW107XG4gICAgICAgICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICAgICAgICBvdXQgPSAnJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ3JlcXVpcmVkJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBtaXNzaW5nUHJvcGVydHk6IFxcJycgKyAoJG1pc3NpbmdQcm9wZXJ0eSkgKyAnXFwnIH0gJztcbiAgICAgICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG91dCArPSAnICwgbWVzc2FnZTogXFwnJztcbiAgICAgICAgICAgIGlmIChpdC5vcHRzLl9lcnJvckRhdGFQYXRoUHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICdpcyBhIHJlcXVpcmVkIHByb3BlcnR5JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG91dCArPSAnc2hvdWxkIGhhdmUgcmVxdWlyZWQgcHJvcGVydHkgXFxcXFxcJycgKyAoJG1pc3NpbmdQcm9wZXJ0eSkgKyAnXFxcXFxcJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQgKz0gJ1xcJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyAsIHNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcge30gJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgX19lcnIgPSBvdXQ7XG4gICAgICAgIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gICAgICAgIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnIH0gZWxzZSB7ICc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJyBpZiAoICc7XG4gICAgICAgIHZhciBhcnIyID0gJHJlcXVpcmVkO1xuICAgICAgICBpZiAoYXJyMikge1xuICAgICAgICAgIHZhciAkcHJvcGVydHlLZXksICRpID0gLTEsXG4gICAgICAgICAgICBsMiA9IGFycjIubGVuZ3RoIC0gMTtcbiAgICAgICAgICB3aGlsZSAoJGkgPCBsMikge1xuICAgICAgICAgICAgJHByb3BlcnR5S2V5ID0gYXJyMlskaSArPSAxXTtcbiAgICAgICAgICAgIGlmICgkaSkge1xuICAgICAgICAgICAgICBvdXQgKz0gJyB8fCAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyICRwcm9wID0gaXQudXRpbC5nZXRQcm9wZXJ0eSgkcHJvcGVydHlLZXkpLFxuICAgICAgICAgICAgICAkdXNlRGF0YSA9ICRkYXRhICsgJHByb3A7XG4gICAgICAgICAgICBvdXQgKz0gJyAoICggJyArICgkdXNlRGF0YSkgKyAnID09PSB1bmRlZmluZWQgJztcbiAgICAgICAgICAgIGlmICgkb3duUHJvcGVydGllcykge1xuICAgICAgICAgICAgICBvdXQgKz0gJyB8fCAhIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgnICsgKCRkYXRhKSArICcsIFxcJycgKyAoaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5S2V5KSkgKyAnXFwnKSAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0ICs9ICcpICYmIChtaXNzaW5nJyArICgkbHZsKSArICcgPSAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoaXQub3B0cy5qc29uUG9pbnRlcnMgPyAkcHJvcGVydHlLZXkgOiAkcHJvcCkpICsgJykgKSAnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gJykgeyAgJztcbiAgICAgICAgdmFyICRwcm9wZXJ0eVBhdGggPSAnbWlzc2luZycgKyAkbHZsLFxuICAgICAgICAgICRtaXNzaW5nUHJvcGVydHkgPSAnXFwnICsgJyArICRwcm9wZXJ0eVBhdGggKyAnICsgXFwnJztcbiAgICAgICAgaWYgKGl0Lm9wdHMuX2Vycm9yRGF0YVBhdGhQcm9wZXJ0eSkge1xuICAgICAgICAgIGl0LmVycm9yUGF0aCA9IGl0Lm9wdHMuanNvblBvaW50ZXJzID8gaXQudXRpbC5nZXRQYXRoRXhwcigkY3VycmVudEVycm9yUGF0aCwgJHByb3BlcnR5UGF0aCwgdHJ1ZSkgOiAkY3VycmVudEVycm9yUGF0aCArICcgKyAnICsgJHByb3BlcnR5UGF0aDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgJCRvdXRTdGFjayA9ICQkb3V0U3RhY2sgfHwgW107XG4gICAgICAgICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICAgICAgICBvdXQgPSAnJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ3JlcXVpcmVkJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBtaXNzaW5nUHJvcGVydHk6IFxcJycgKyAoJG1pc3NpbmdQcm9wZXJ0eSkgKyAnXFwnIH0gJztcbiAgICAgICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG91dCArPSAnICwgbWVzc2FnZTogXFwnJztcbiAgICAgICAgICAgIGlmIChpdC5vcHRzLl9lcnJvckRhdGFQYXRoUHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICdpcyBhIHJlcXVpcmVkIHByb3BlcnR5JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG91dCArPSAnc2hvdWxkIGhhdmUgcmVxdWlyZWQgcHJvcGVydHkgXFxcXFxcJycgKyAoJG1pc3NpbmdQcm9wZXJ0eSkgKyAnXFxcXFxcJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQgKz0gJ1xcJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyAsIHNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcge30gJztcbiAgICAgICAgfVxuICAgICAgICB2YXIgX19lcnIgPSBvdXQ7XG4gICAgICAgIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gICAgICAgIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgaWYgKGl0LmFzeW5jKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0ICs9ICcgdmFsaWRhdGUuZXJyb3JzID0gWycgKyAoX19lcnIpICsgJ107IHJldHVybiBmYWxzZTsgJztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcgdmFyIGVyciA9ICcgKyAoX19lcnIpICsgJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyAnO1xuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnIH0gZWxzZSB7ICc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgkbG9vcFJlcXVpcmVkKSB7XG4gICAgICAgIGlmICghJGlzRGF0YSkge1xuICAgICAgICAgIG91dCArPSAnIHZhciAnICsgKCR2U2NoZW1hKSArICcgPSB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICc7ICc7XG4gICAgICAgIH1cbiAgICAgICAgdmFyICRpID0gJ2knICsgJGx2bCxcbiAgICAgICAgICAkcHJvcGVydHlQYXRoID0gJ3NjaGVtYScgKyAkbHZsICsgJ1snICsgJGkgKyAnXScsXG4gICAgICAgICAgJG1pc3NpbmdQcm9wZXJ0eSA9ICdcXCcgKyAnICsgJHByb3BlcnR5UGF0aCArICcgKyBcXCcnO1xuICAgICAgICBpZiAoaXQub3B0cy5fZXJyb3JEYXRhUGF0aFByb3BlcnR5KSB7XG4gICAgICAgICAgaXQuZXJyb3JQYXRoID0gaXQudXRpbC5nZXRQYXRoRXhwcigkY3VycmVudEVycm9yUGF0aCwgJHByb3BlcnR5UGF0aCwgaXQub3B0cy5qc29uUG9pbnRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkaXNEYXRhKSB7XG4gICAgICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoJHZTY2hlbWEpICsgJyAmJiAhQXJyYXkuaXNBcnJheSgnICsgKCR2U2NoZW1hKSArICcpKSB7ICB2YXIgZXJyID0gICAnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ3JlcXVpcmVkJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBtaXNzaW5nUHJvcGVydHk6IFxcJycgKyAoJG1pc3NpbmdQcm9wZXJ0eSkgKyAnXFwnIH0gJztcbiAgICAgICAgICAgIGlmIChpdC5vcHRzLm1lc3NhZ2VzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJyc7XG4gICAgICAgICAgICAgIGlmIChpdC5vcHRzLl9lcnJvckRhdGFQYXRoUHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gJ2lzIGEgcmVxdWlyZWQgcHJvcGVydHknO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG91dCArPSAnc2hvdWxkIGhhdmUgcmVxdWlyZWQgcHJvcGVydHkgXFxcXFxcJycgKyAoJG1pc3NpbmdQcm9wZXJ0eSkgKyAnXFxcXFxcJyc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgb3V0ICs9ICdcXCcgJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJyAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dCArPSAnIH0gJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0ICs9ICcge30gJztcbiAgICAgICAgICB9XG4gICAgICAgICAgb3V0ICs9ICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgfSBlbHNlIGlmICgnICsgKCR2U2NoZW1hKSArICcgIT09IHVuZGVmaW5lZCkgeyAnO1xuICAgICAgICB9XG4gICAgICAgIG91dCArPSAnIGZvciAodmFyICcgKyAoJGkpICsgJyA9IDA7ICcgKyAoJGkpICsgJyA8ICcgKyAoJHZTY2hlbWEpICsgJy5sZW5ndGg7ICcgKyAoJGkpICsgJysrKSB7IGlmICgnICsgKCRkYXRhKSArICdbJyArICgkdlNjaGVtYSkgKyAnWycgKyAoJGkpICsgJ11dID09PSB1bmRlZmluZWQgJztcbiAgICAgICAgaWYgKCRvd25Qcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgb3V0ICs9ICcgfHwgISBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoJyArICgkZGF0YSkgKyAnLCAnICsgKCR2U2NoZW1hKSArICdbJyArICgkaSkgKyAnXSkgJztcbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gJykgeyAgdmFyIGVyciA9ICAgJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJ3JlcXVpcmVkJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBtaXNzaW5nUHJvcGVydHk6IFxcJycgKyAoJG1pc3NpbmdQcm9wZXJ0eSkgKyAnXFwnIH0gJztcbiAgICAgICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG91dCArPSAnICwgbWVzc2FnZTogXFwnJztcbiAgICAgICAgICAgIGlmIChpdC5vcHRzLl9lcnJvckRhdGFQYXRoUHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgb3V0ICs9ICdpcyBhIHJlcXVpcmVkIHByb3BlcnR5JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG91dCArPSAnc2hvdWxkIGhhdmUgcmVxdWlyZWQgcHJvcGVydHkgXFxcXFxcJycgKyAoJG1pc3NpbmdQcm9wZXJ0eSkgKyAnXFxcXFxcJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQgKz0gJ1xcJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyAsIHNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArICgkc2NoZW1hUGF0aCkgKyAnICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcge30gJztcbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gJzsgIGlmICh2RXJyb3JzID09PSBudWxsKSB2RXJyb3JzID0gW2Vycl07IGVsc2UgdkVycm9ycy5wdXNoKGVycik7IGVycm9ycysrOyB9IH0gJztcbiAgICAgICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgICAgICBvdXQgKz0gJyAgfSAgJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGFycjMgPSAkcmVxdWlyZWQ7XG4gICAgICAgIGlmIChhcnIzKSB7XG4gICAgICAgICAgdmFyICRwcm9wZXJ0eUtleSwgaTMgPSAtMSxcbiAgICAgICAgICAgIGwzID0gYXJyMy5sZW5ndGggLSAxO1xuICAgICAgICAgIHdoaWxlIChpMyA8IGwzKSB7XG4gICAgICAgICAgICAkcHJvcGVydHlLZXkgPSBhcnIzW2kzICs9IDFdO1xuICAgICAgICAgICAgdmFyICRwcm9wID0gaXQudXRpbC5nZXRQcm9wZXJ0eSgkcHJvcGVydHlLZXkpLFxuICAgICAgICAgICAgICAkbWlzc2luZ1Byb3BlcnR5ID0gaXQudXRpbC5lc2NhcGVRdW90ZXMoJHByb3BlcnR5S2V5KSxcbiAgICAgICAgICAgICAgJHVzZURhdGEgPSAkZGF0YSArICRwcm9wO1xuICAgICAgICAgICAgaWYgKGl0Lm9wdHMuX2Vycm9yRGF0YVBhdGhQcm9wZXJ0eSkge1xuICAgICAgICAgICAgICBpdC5lcnJvclBhdGggPSBpdC51dGlsLmdldFBhdGgoJGN1cnJlbnRFcnJvclBhdGgsICRwcm9wZXJ0eUtleSwgaXQub3B0cy5qc29uUG9pbnRlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0ICs9ICcgaWYgKCAnICsgKCR1c2VEYXRhKSArICcgPT09IHVuZGVmaW5lZCAnO1xuICAgICAgICAgICAgaWYgKCRvd25Qcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIHx8ICEgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCcgKyAoJGRhdGEpICsgJywgXFwnJyArIChpdC51dGlsLmVzY2FwZVF1b3RlcygkcHJvcGVydHlLZXkpKSArICdcXCcpICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXQgKz0gJykgeyAgdmFyIGVyciA9ICAgJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIG91dCArPSAnIHsga2V5d29yZDogXFwnJyArICgncmVxdWlyZWQnKSArICdcXCcgLCBkYXRhUGF0aDogKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnICwgc2NoZW1hUGF0aDogJyArIChpdC51dGlsLnRvUXVvdGVkU3RyaW5nKCRlcnJTY2hlbWFQYXRoKSkgKyAnICwgcGFyYW1zOiB7IG1pc3NpbmdQcm9wZXJ0eTogXFwnJyArICgkbWlzc2luZ1Byb3BlcnR5KSArICdcXCcgfSAnO1xuICAgICAgICAgICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJyc7XG4gICAgICAgICAgICAgICAgaWYgKGl0Lm9wdHMuX2Vycm9yRGF0YVBhdGhQcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAgICAgb3V0ICs9ICdpcyBhIHJlcXVpcmVkIHByb3BlcnR5JztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgb3V0ICs9ICdzaG91bGQgaGF2ZSByZXF1aXJlZCBwcm9wZXJ0eSBcXFxcXFwnJyArICgkbWlzc2luZ1Byb3BlcnR5KSArICdcXFxcXFwnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3V0ICs9ICdcXCcgJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJyAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBvdXQgKz0gJyB7fSAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0ICs9ICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgfSAnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpdC5lcnJvclBhdGggPSAkY3VycmVudEVycm9yUGF0aDtcbiAgfSBlbHNlIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgb3V0ICs9ICcgaWYgKHRydWUpIHsnO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdlbmVyYXRlX3VuaXF1ZUl0ZW1zKGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZGF0YSA9ICdkYXRhJyArICgkZGF0YUx2bCB8fCAnJyk7XG4gIHZhciAkdmFsaWQgPSAndmFsaWQnICsgJGx2bDtcbiAgdmFyICRpc0RhdGEgPSBpdC5vcHRzLiRkYXRhICYmICRzY2hlbWEgJiYgJHNjaGVtYS4kZGF0YSxcbiAgICAkc2NoZW1hVmFsdWU7XG4gIGlmICgkaXNEYXRhKSB7XG4gICAgb3V0ICs9ICcgdmFyIHNjaGVtYScgKyAoJGx2bCkgKyAnID0gJyArIChpdC51dGlsLmdldERhdGEoJHNjaGVtYS4kZGF0YSwgJGRhdGFMdmwsIGl0LmRhdGFQYXRoQXJyKSkgKyAnOyAnO1xuICAgICRzY2hlbWFWYWx1ZSA9ICdzY2hlbWEnICsgJGx2bDtcbiAgfSBlbHNlIHtcbiAgICAkc2NoZW1hVmFsdWUgPSAkc2NoZW1hO1xuICB9XG4gIGlmICgoJHNjaGVtYSB8fCAkaXNEYXRhKSAmJiBpdC5vcHRzLnVuaXF1ZUl0ZW1zICE9PSBmYWxzZSkge1xuICAgIGlmICgkaXNEYXRhKSB7XG4gICAgICBvdXQgKz0gJyB2YXIgJyArICgkdmFsaWQpICsgJzsgaWYgKCcgKyAoJHNjaGVtYVZhbHVlKSArICcgPT09IGZhbHNlIHx8ICcgKyAoJHNjaGVtYVZhbHVlKSArICcgPT09IHVuZGVmaW5lZCkgJyArICgkdmFsaWQpICsgJyA9IHRydWU7IGVsc2UgaWYgKHR5cGVvZiAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnICE9IFxcJ2Jvb2xlYW5cXCcpICcgKyAoJHZhbGlkKSArICcgPSBmYWxzZTsgZWxzZSB7ICc7XG4gICAgfVxuICAgIG91dCArPSAnIHZhciBpID0gJyArICgkZGF0YSkgKyAnLmxlbmd0aCAsICcgKyAoJHZhbGlkKSArICcgPSB0cnVlICwgajsgaWYgKGkgPiAxKSB7ICc7XG4gICAgdmFyICRpdGVtVHlwZSA9IGl0LnNjaGVtYS5pdGVtcyAmJiBpdC5zY2hlbWEuaXRlbXMudHlwZSxcbiAgICAgICR0eXBlSXNBcnJheSA9IEFycmF5LmlzQXJyYXkoJGl0ZW1UeXBlKTtcbiAgICBpZiAoISRpdGVtVHlwZSB8fCAkaXRlbVR5cGUgPT0gJ29iamVjdCcgfHwgJGl0ZW1UeXBlID09ICdhcnJheScgfHwgKCR0eXBlSXNBcnJheSAmJiAoJGl0ZW1UeXBlLmluZGV4T2YoJ29iamVjdCcpID49IDAgfHwgJGl0ZW1UeXBlLmluZGV4T2YoJ2FycmF5JykgPj0gMCkpKSB7XG4gICAgICBvdXQgKz0gJyBvdXRlcjogZm9yICg7aS0tOykgeyBmb3IgKGogPSBpOyBqLS07KSB7IGlmIChlcXVhbCgnICsgKCRkYXRhKSArICdbaV0sICcgKyAoJGRhdGEpICsgJ1tqXSkpIHsgJyArICgkdmFsaWQpICsgJyA9IGZhbHNlOyBicmVhayBvdXRlcjsgfSB9IH0gJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICcgdmFyIGl0ZW1JbmRpY2VzID0ge30sIGl0ZW07IGZvciAoO2ktLTspIHsgdmFyIGl0ZW0gPSAnICsgKCRkYXRhKSArICdbaV07ICc7XG4gICAgICB2YXIgJG1ldGhvZCA9ICdjaGVja0RhdGFUeXBlJyArICgkdHlwZUlzQXJyYXkgPyAncycgOiAnJyk7XG4gICAgICBvdXQgKz0gJyBpZiAoJyArIChpdC51dGlsWyRtZXRob2RdKCRpdGVtVHlwZSwgJ2l0ZW0nLCBpdC5vcHRzLnN0cmljdE51bWJlcnMsIHRydWUpKSArICcpIGNvbnRpbnVlOyAnO1xuICAgICAgaWYgKCR0eXBlSXNBcnJheSkge1xuICAgICAgICBvdXQgKz0gJyBpZiAodHlwZW9mIGl0ZW0gPT0gXFwnc3RyaW5nXFwnKSBpdGVtID0gXFwnXCJcXCcgKyBpdGVtOyAnO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgaWYgKHR5cGVvZiBpdGVtSW5kaWNlc1tpdGVtXSA9PSBcXCdudW1iZXJcXCcpIHsgJyArICgkdmFsaWQpICsgJyA9IGZhbHNlOyBqID0gaXRlbUluZGljZXNbaXRlbV07IGJyZWFrOyB9IGl0ZW1JbmRpY2VzW2l0ZW1dID0gaTsgfSAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyB9ICc7XG4gICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgIG91dCArPSAnICB9ICAnO1xuICAgIH1cbiAgICBvdXQgKz0gJyBpZiAoIScgKyAoJHZhbGlkKSArICcpIHsgICAnO1xuICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgICBvdXQgPSAnJzsgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoaXQuY3JlYXRlRXJyb3JzICE9PSBmYWxzZSkge1xuICAgICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCd1bmlxdWVJdGVtcycpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsgaTogaSwgajogaiB9ICc7XG4gICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgTk9UIGhhdmUgZHVwbGljYXRlIGl0ZW1zIChpdGVtcyAjIyBcXCcgKyBqICsgXFwnIGFuZCBcXCcgKyBpICsgXFwnIGFyZSBpZGVudGljYWwpXFwnICc7XG4gICAgICB9XG4gICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgIG91dCArPSAnICwgc2NoZW1hOiAgJztcbiAgICAgICAgaWYgKCRpc0RhdGEpIHtcbiAgICAgICAgICBvdXQgKz0gJ3ZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dCArPSAnJyArICgkc2NoZW1hKTtcbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gJyAgICAgICAgICwgcGFyZW50U2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKGl0LnNjaGVtYVBhdGgpICsgJyAsIGRhdGE6ICcgKyAoJGRhdGEpICsgJyAnO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcgfSAnO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyB7fSAnO1xuICAgIH1cbiAgICB2YXIgX19lcnIgPSBvdXQ7XG4gICAgb3V0ID0gJCRvdXRTdGFjay5wb3AoKTtcbiAgICBpZiAoIWl0LmNvbXBvc2l0ZVJ1bGUgJiYgJGJyZWFrT25FcnJvcikge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgICAgb3V0ICs9ICcgdGhyb3cgbmV3IFZhbGlkYXRpb25FcnJvcihbJyArIChfX2VycikgKyAnXSk7ICc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJyB2YWxpZGF0ZS5lcnJvcnMgPSBbJyArIChfX2VycikgKyAnXTsgcmV0dXJuIGZhbHNlOyAnO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgKz0gJyB2YXIgZXJyID0gJyArIChfX2VycikgKyAnOyAgaWYgKHZFcnJvcnMgPT09IG51bGwpIHZFcnJvcnMgPSBbZXJyXTsgZWxzZSB2RXJyb3JzLnB1c2goZXJyKTsgZXJyb3JzKys7ICc7XG4gICAgfVxuICAgIG91dCArPSAnIH0gJztcbiAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgb3V0ICs9ICcgZWxzZSB7ICc7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICgkYnJlYWtPbkVycm9yKSB7XG4gICAgICBvdXQgKz0gJyBpZiAodHJ1ZSkgeyAnO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vL2FsbCByZXF1aXJlcyBtdXN0IGJlIGV4cGxpY2l0IGJlY2F1c2UgYnJvd3NlcmlmeSB3b24ndCB3b3JrIHdpdGggZHluYW1pYyByZXF1aXJlc1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gICckcmVmJzogcmVxdWlyZSgnLi9yZWYnKSxcbiAgYWxsT2Y6IHJlcXVpcmUoJy4vYWxsT2YnKSxcbiAgYW55T2Y6IHJlcXVpcmUoJy4vYW55T2YnKSxcbiAgJyRjb21tZW50JzogcmVxdWlyZSgnLi9jb21tZW50JyksXG4gIGNvbnN0OiByZXF1aXJlKCcuL2NvbnN0JyksXG4gIGNvbnRhaW5zOiByZXF1aXJlKCcuL2NvbnRhaW5zJyksXG4gIGRlcGVuZGVuY2llczogcmVxdWlyZSgnLi9kZXBlbmRlbmNpZXMnKSxcbiAgJ2VudW0nOiByZXF1aXJlKCcuL2VudW0nKSxcbiAgZm9ybWF0OiByZXF1aXJlKCcuL2Zvcm1hdCcpLFxuICAnaWYnOiByZXF1aXJlKCcuL2lmJyksXG4gIGl0ZW1zOiByZXF1aXJlKCcuL2l0ZW1zJyksXG4gIG1heGltdW06IHJlcXVpcmUoJy4vX2xpbWl0JyksXG4gIG1pbmltdW06IHJlcXVpcmUoJy4vX2xpbWl0JyksXG4gIG1heEl0ZW1zOiByZXF1aXJlKCcuL19saW1pdEl0ZW1zJyksXG4gIG1pbkl0ZW1zOiByZXF1aXJlKCcuL19saW1pdEl0ZW1zJyksXG4gIG1heExlbmd0aDogcmVxdWlyZSgnLi9fbGltaXRMZW5ndGgnKSxcbiAgbWluTGVuZ3RoOiByZXF1aXJlKCcuL19saW1pdExlbmd0aCcpLFxuICBtYXhQcm9wZXJ0aWVzOiByZXF1aXJlKCcuL19saW1pdFByb3BlcnRpZXMnKSxcbiAgbWluUHJvcGVydGllczogcmVxdWlyZSgnLi9fbGltaXRQcm9wZXJ0aWVzJyksXG4gIG11bHRpcGxlT2Y6IHJlcXVpcmUoJy4vbXVsdGlwbGVPZicpLFxuICBub3Q6IHJlcXVpcmUoJy4vbm90JyksXG4gIG9uZU9mOiByZXF1aXJlKCcuL29uZU9mJyksXG4gIHBhdHRlcm46IHJlcXVpcmUoJy4vcGF0dGVybicpLFxuICBwcm9wZXJ0aWVzOiByZXF1aXJlKCcuL3Byb3BlcnRpZXMnKSxcbiAgcHJvcGVydHlOYW1lczogcmVxdWlyZSgnLi9wcm9wZXJ0eU5hbWVzJyksXG4gIHJlcXVpcmVkOiByZXF1aXJlKCcuL3JlcXVpcmVkJyksXG4gIHVuaXF1ZUl0ZW1zOiByZXF1aXJlKCcuL3VuaXF1ZUl0ZW1zJyksXG4gIHZhbGlkYXRlOiByZXF1aXJlKCcuL3ZhbGlkYXRlJylcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBydWxlTW9kdWxlcyA9IHJlcXVpcmUoJy4uL2RvdGpzJylcbiAgLCB0b0hhc2ggPSByZXF1aXJlKCcuL3V0aWwnKS50b0hhc2g7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcnVsZXMoKSB7XG4gIHZhciBSVUxFUyA9IFtcbiAgICB7IHR5cGU6ICdudW1iZXInLFxuICAgICAgcnVsZXM6IFsgeyAnbWF4aW11bSc6IFsnZXhjbHVzaXZlTWF4aW11bSddIH0sXG4gICAgICAgICAgICAgICB7ICdtaW5pbXVtJzogWydleGNsdXNpdmVNaW5pbXVtJ10gfSwgJ211bHRpcGxlT2YnLCAnZm9ybWF0J10gfSxcbiAgICB7IHR5cGU6ICdzdHJpbmcnLFxuICAgICAgcnVsZXM6IFsgJ21heExlbmd0aCcsICdtaW5MZW5ndGgnLCAncGF0dGVybicsICdmb3JtYXQnIF0gfSxcbiAgICB7IHR5cGU6ICdhcnJheScsXG4gICAgICBydWxlczogWyAnbWF4SXRlbXMnLCAnbWluSXRlbXMnLCAnaXRlbXMnLCAnY29udGFpbnMnLCAndW5pcXVlSXRlbXMnIF0gfSxcbiAgICB7IHR5cGU6ICdvYmplY3QnLFxuICAgICAgcnVsZXM6IFsgJ21heFByb3BlcnRpZXMnLCAnbWluUHJvcGVydGllcycsICdyZXF1aXJlZCcsICdkZXBlbmRlbmNpZXMnLCAncHJvcGVydHlOYW1lcycsXG4gICAgICAgICAgICAgICB7ICdwcm9wZXJ0aWVzJzogWydhZGRpdGlvbmFsUHJvcGVydGllcycsICdwYXR0ZXJuUHJvcGVydGllcyddIH0gXSB9LFxuICAgIHsgcnVsZXM6IFsgJyRyZWYnLCAnY29uc3QnLCAnZW51bScsICdub3QnLCAnYW55T2YnLCAnb25lT2YnLCAnYWxsT2YnLCAnaWYnIF0gfVxuICBdO1xuXG4gIHZhciBBTEwgPSBbICd0eXBlJywgJyRjb21tZW50JyBdO1xuICB2YXIgS0VZV09SRFMgPSBbXG4gICAgJyRzY2hlbWEnLCAnJGlkJywgJ2lkJywgJyRkYXRhJywgJyRhc3luYycsICd0aXRsZScsXG4gICAgJ2Rlc2NyaXB0aW9uJywgJ2RlZmF1bHQnLCAnZGVmaW5pdGlvbnMnLFxuICAgICdleGFtcGxlcycsICdyZWFkT25seScsICd3cml0ZU9ubHknLFxuICAgICdjb250ZW50TWVkaWFUeXBlJywgJ2NvbnRlbnRFbmNvZGluZycsXG4gICAgJ2FkZGl0aW9uYWxJdGVtcycsICd0aGVuJywgJ2Vsc2UnXG4gIF07XG4gIHZhciBUWVBFUyA9IFsgJ251bWJlcicsICdpbnRlZ2VyJywgJ3N0cmluZycsICdhcnJheScsICdvYmplY3QnLCAnYm9vbGVhbicsICdudWxsJyBdO1xuICBSVUxFUy5hbGwgPSB0b0hhc2goQUxMKTtcbiAgUlVMRVMudHlwZXMgPSB0b0hhc2goVFlQRVMpO1xuXG4gIFJVTEVTLmZvckVhY2goZnVuY3Rpb24gKGdyb3VwKSB7XG4gICAgZ3JvdXAucnVsZXMgPSBncm91cC5ydWxlcy5tYXAoZnVuY3Rpb24gKGtleXdvcmQpIHtcbiAgICAgIHZhciBpbXBsS2V5d29yZHM7XG4gICAgICBpZiAodHlwZW9mIGtleXdvcmQgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgdmFyIGtleSA9IE9iamVjdC5rZXlzKGtleXdvcmQpWzBdO1xuICAgICAgICBpbXBsS2V5d29yZHMgPSBrZXl3b3JkW2tleV07XG4gICAgICAgIGtleXdvcmQgPSBrZXk7XG4gICAgICAgIGltcGxLZXl3b3Jkcy5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgQUxMLnB1c2goayk7XG4gICAgICAgICAgUlVMRVMuYWxsW2tdID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBBTEwucHVzaChrZXl3b3JkKTtcbiAgICAgIHZhciBydWxlID0gUlVMRVMuYWxsW2tleXdvcmRdID0ge1xuICAgICAgICBrZXl3b3JkOiBrZXl3b3JkLFxuICAgICAgICBjb2RlOiBydWxlTW9kdWxlc1trZXl3b3JkXSxcbiAgICAgICAgaW1wbGVtZW50czogaW1wbEtleXdvcmRzXG4gICAgICB9O1xuICAgICAgcmV0dXJuIHJ1bGU7XG4gICAgfSk7XG5cbiAgICBSVUxFUy5hbGwuJGNvbW1lbnQgPSB7XG4gICAgICBrZXl3b3JkOiAnJGNvbW1lbnQnLFxuICAgICAgY29kZTogcnVsZU1vZHVsZXMuJGNvbW1lbnRcbiAgICB9O1xuXG4gICAgaWYgKGdyb3VwLnR5cGUpIFJVTEVTLnR5cGVzW2dyb3VwLnR5cGVdID0gZ3JvdXA7XG4gIH0pO1xuXG4gIFJVTEVTLmtleXdvcmRzID0gdG9IYXNoKEFMTC5jb25jYXQoS0VZV09SRFMpKTtcbiAgUlVMRVMuY3VzdG9tID0ge307XG5cbiAgcmV0dXJuIFJVTEVTO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIEtFWVdPUkRTID0gW1xuICAnbXVsdGlwbGVPZicsXG4gICdtYXhpbXVtJyxcbiAgJ2V4Y2x1c2l2ZU1heGltdW0nLFxuICAnbWluaW11bScsXG4gICdleGNsdXNpdmVNaW5pbXVtJyxcbiAgJ21heExlbmd0aCcsXG4gICdtaW5MZW5ndGgnLFxuICAncGF0dGVybicsXG4gICdhZGRpdGlvbmFsSXRlbXMnLFxuICAnbWF4SXRlbXMnLFxuICAnbWluSXRlbXMnLFxuICAndW5pcXVlSXRlbXMnLFxuICAnbWF4UHJvcGVydGllcycsXG4gICdtaW5Qcm9wZXJ0aWVzJyxcbiAgJ3JlcXVpcmVkJyxcbiAgJ2FkZGl0aW9uYWxQcm9wZXJ0aWVzJyxcbiAgJ2VudW0nLFxuICAnZm9ybWF0JyxcbiAgJ2NvbnN0J1xuXTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobWV0YVNjaGVtYSwga2V5d29yZHNKc29uUG9pbnRlcnMpIHtcbiAgZm9yICh2YXIgaT0wOyBpPGtleXdvcmRzSnNvblBvaW50ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgbWV0YVNjaGVtYSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobWV0YVNjaGVtYSkpO1xuICAgIHZhciBzZWdtZW50cyA9IGtleXdvcmRzSnNvblBvaW50ZXJzW2ldLnNwbGl0KCcvJyk7XG4gICAgdmFyIGtleXdvcmRzID0gbWV0YVNjaGVtYTtcbiAgICB2YXIgajtcbiAgICBmb3IgKGo9MTsgajxzZWdtZW50cy5sZW5ndGg7IGorKylcbiAgICAgIGtleXdvcmRzID0ga2V5d29yZHNbc2VnbWVudHNbal1dO1xuXG4gICAgZm9yIChqPTA7IGo8S0VZV09SRFMubGVuZ3RoOyBqKyspIHtcbiAgICAgIHZhciBrZXkgPSBLRVlXT1JEU1tqXTtcbiAgICAgIHZhciBzY2hlbWEgPSBrZXl3b3Jkc1trZXldO1xuICAgICAgaWYgKHNjaGVtYSkge1xuICAgICAgICBrZXl3b3Jkc1trZXldID0ge1xuICAgICAgICAgIGFueU9mOiBbXG4gICAgICAgICAgICBzY2hlbWEsXG4gICAgICAgICAgICB7ICRyZWY6ICdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vYWp2LXZhbGlkYXRvci9hanYvbWFzdGVyL2xpYi9yZWZzL2RhdGEuanNvbiMnIH1cbiAgICAgICAgICBdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1ldGFTY2hlbWE7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgTWlzc2luZ1JlZkVycm9yID0gcmVxdWlyZSgnLi9lcnJvcl9jbGFzc2VzJykuTWlzc2luZ1JlZjtcblxubW9kdWxlLmV4cG9ydHMgPSBjb21waWxlQXN5bmM7XG5cblxuLyoqXG4gKiBDcmVhdGVzIHZhbGlkYXRpbmcgZnVuY3Rpb24gZm9yIHBhc3NlZCBzY2hlbWEgd2l0aCBhc3luY2hyb25vdXMgbG9hZGluZyBvZiBtaXNzaW5nIHNjaGVtYXMuXG4gKiBgbG9hZFNjaGVtYWAgb3B0aW9uIHNob3VsZCBiZSBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyBzY2hlbWEgdXJpIGFuZCByZXR1cm5zIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBzY2hlbWEuXG4gKiBAdGhpcyAgQWp2XG4gKiBAcGFyYW0ge09iamVjdH0gICBzY2hlbWEgc2NoZW1hIG9iamVjdFxuICogQHBhcmFtIHtCb29sZWFufSAgbWV0YSBvcHRpb25hbCB0cnVlIHRvIGNvbXBpbGUgbWV0YS1zY2hlbWE7IHRoaXMgcGFyYW1ldGVyIGNhbiBiZSBza2lwcGVkXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBhbiBvcHRpb25hbCBub2RlLXN0eWxlIGNhbGxiYWNrLCBpdCBpcyBjYWxsZWQgd2l0aCAyIHBhcmFtZXRlcnM6IGVycm9yIChvciBudWxsKSBhbmQgdmFsaWRhdGluZyBmdW5jdGlvbi5cbiAqIEByZXR1cm4ge1Byb21pc2V9IHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIGEgdmFsaWRhdGluZyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gY29tcGlsZUFzeW5jKHNjaGVtYSwgbWV0YSwgY2FsbGJhY2spIHtcbiAgLyogZXNsaW50IG5vLXNoYWRvdzogMCAqL1xuICAvKiBnbG9iYWwgUHJvbWlzZSAqL1xuICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKHR5cGVvZiB0aGlzLl9vcHRzLmxvYWRTY2hlbWEgIT0gJ2Z1bmN0aW9uJylcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ29wdGlvbnMubG9hZFNjaGVtYSBzaG91bGQgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICh0eXBlb2YgbWV0YSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBtZXRhO1xuICAgIG1ldGEgPSB1bmRlZmluZWQ7XG4gIH1cblxuICB2YXIgcCA9IGxvYWRNZXRhU2NoZW1hT2Yoc2NoZW1hKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2NoZW1hT2JqID0gc2VsZi5fYWRkU2NoZW1hKHNjaGVtYSwgdW5kZWZpbmVkLCBtZXRhKTtcbiAgICByZXR1cm4gc2NoZW1hT2JqLnZhbGlkYXRlIHx8IF9jb21waWxlQXN5bmMoc2NoZW1hT2JqKTtcbiAgfSk7XG5cbiAgaWYgKGNhbGxiYWNrKSB7XG4gICAgcC50aGVuKFxuICAgICAgZnVuY3Rpb24odikgeyBjYWxsYmFjayhudWxsLCB2KTsgfSxcbiAgICAgIGNhbGxiYWNrXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBwO1xuXG5cbiAgZnVuY3Rpb24gbG9hZE1ldGFTY2hlbWFPZihzY2gpIHtcbiAgICB2YXIgJHNjaGVtYSA9IHNjaC4kc2NoZW1hO1xuICAgIHJldHVybiAkc2NoZW1hICYmICFzZWxmLmdldFNjaGVtYSgkc2NoZW1hKVxuICAgICAgICAgICAgPyBjb21waWxlQXN5bmMuY2FsbChzZWxmLCB7ICRyZWY6ICRzY2hlbWEgfSwgdHJ1ZSlcbiAgICAgICAgICAgIDogUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIF9jb21waWxlQXN5bmMoc2NoZW1hT2JqKSB7XG4gICAgdHJ5IHsgcmV0dXJuIHNlbGYuX2NvbXBpbGUoc2NoZW1hT2JqKTsgfVxuICAgIGNhdGNoKGUpIHtcbiAgICAgIGlmIChlIGluc3RhbmNlb2YgTWlzc2luZ1JlZkVycm9yKSByZXR1cm4gbG9hZE1pc3NpbmdTY2hlbWEoZSk7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gbG9hZE1pc3NpbmdTY2hlbWEoZSkge1xuICAgICAgdmFyIHJlZiA9IGUubWlzc2luZ1NjaGVtYTtcbiAgICAgIGlmIChhZGRlZChyZWYpKSB0aHJvdyBuZXcgRXJyb3IoJ1NjaGVtYSAnICsgcmVmICsgJyBpcyBsb2FkZWQgYnV0ICcgKyBlLm1pc3NpbmdSZWYgKyAnIGNhbm5vdCBiZSByZXNvbHZlZCcpO1xuXG4gICAgICB2YXIgc2NoZW1hUHJvbWlzZSA9IHNlbGYuX2xvYWRpbmdTY2hlbWFzW3JlZl07XG4gICAgICBpZiAoIXNjaGVtYVByb21pc2UpIHtcbiAgICAgICAgc2NoZW1hUHJvbWlzZSA9IHNlbGYuX2xvYWRpbmdTY2hlbWFzW3JlZl0gPSBzZWxmLl9vcHRzLmxvYWRTY2hlbWEocmVmKTtcbiAgICAgICAgc2NoZW1hUHJvbWlzZS50aGVuKHJlbW92ZVByb21pc2UsIHJlbW92ZVByb21pc2UpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2NoZW1hUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzY2gpIHtcbiAgICAgICAgaWYgKCFhZGRlZChyZWYpKSB7XG4gICAgICAgICAgcmV0dXJuIGxvYWRNZXRhU2NoZW1hT2Yoc2NoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghYWRkZWQocmVmKSkgc2VsZi5hZGRTY2hlbWEoc2NoLCByZWYsIHVuZGVmaW5lZCwgbWV0YSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBfY29tcGlsZUFzeW5jKHNjaGVtYU9iaik7XG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gcmVtb3ZlUHJvbWlzZSgpIHtcbiAgICAgICAgZGVsZXRlIHNlbGYuX2xvYWRpbmdTY2hlbWFzW3JlZl07XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGFkZGVkKHJlZikge1xuICAgICAgICByZXR1cm4gc2VsZi5fcmVmc1tyZWZdIHx8IHNlbGYuX3NjaGVtYXNbcmVmXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2VuZXJhdGVfY3VzdG9tKGl0LCAka2V5d29yZCwgJHJ1bGVUeXBlKSB7XG4gIHZhciBvdXQgPSAnICc7XG4gIHZhciAkbHZsID0gaXQubGV2ZWw7XG4gIHZhciAkZGF0YUx2bCA9IGl0LmRhdGFMZXZlbDtcbiAgdmFyICRzY2hlbWEgPSBpdC5zY2hlbWFbJGtleXdvcmRdO1xuICB2YXIgJHNjaGVtYVBhdGggPSBpdC5zY2hlbWFQYXRoICsgaXQudXRpbC5nZXRQcm9wZXJ0eSgka2V5d29yZCk7XG4gIHZhciAkZXJyU2NoZW1hUGF0aCA9IGl0LmVyclNjaGVtYVBhdGggKyAnLycgKyAka2V5d29yZDtcbiAgdmFyICRicmVha09uRXJyb3IgPSAhaXQub3B0cy5hbGxFcnJvcnM7XG4gIHZhciAkZXJyb3JLZXl3b3JkO1xuICB2YXIgJGRhdGEgPSAnZGF0YScgKyAoJGRhdGFMdmwgfHwgJycpO1xuICB2YXIgJHZhbGlkID0gJ3ZhbGlkJyArICRsdmw7XG4gIHZhciAkZXJycyA9ICdlcnJzX18nICsgJGx2bDtcbiAgdmFyICRpc0RhdGEgPSBpdC5vcHRzLiRkYXRhICYmICRzY2hlbWEgJiYgJHNjaGVtYS4kZGF0YSxcbiAgICAkc2NoZW1hVmFsdWU7XG4gIGlmICgkaXNEYXRhKSB7XG4gICAgb3V0ICs9ICcgdmFyIHNjaGVtYScgKyAoJGx2bCkgKyAnID0gJyArIChpdC51dGlsLmdldERhdGEoJHNjaGVtYS4kZGF0YSwgJGRhdGFMdmwsIGl0LmRhdGFQYXRoQXJyKSkgKyAnOyAnO1xuICAgICRzY2hlbWFWYWx1ZSA9ICdzY2hlbWEnICsgJGx2bDtcbiAgfSBlbHNlIHtcbiAgICAkc2NoZW1hVmFsdWUgPSAkc2NoZW1hO1xuICB9XG4gIHZhciAkcnVsZSA9IHRoaXMsXG4gICAgJGRlZmluaXRpb24gPSAnZGVmaW5pdGlvbicgKyAkbHZsLFxuICAgICRyRGVmID0gJHJ1bGUuZGVmaW5pdGlvbixcbiAgICAkY2xvc2luZ0JyYWNlcyA9ICcnO1xuICB2YXIgJGNvbXBpbGUsICRpbmxpbmUsICRtYWNybywgJHJ1bGVWYWxpZGF0ZSwgJHZhbGlkYXRlQ29kZTtcbiAgaWYgKCRpc0RhdGEgJiYgJHJEZWYuJGRhdGEpIHtcbiAgICAkdmFsaWRhdGVDb2RlID0gJ2tleXdvcmRWYWxpZGF0ZScgKyAkbHZsO1xuICAgIHZhciAkdmFsaWRhdGVTY2hlbWEgPSAkckRlZi52YWxpZGF0ZVNjaGVtYTtcbiAgICBvdXQgKz0gJyB2YXIgJyArICgkZGVmaW5pdGlvbikgKyAnID0gUlVMRVMuY3VzdG9tW1xcJycgKyAoJGtleXdvcmQpICsgJ1xcJ10uZGVmaW5pdGlvbjsgdmFyICcgKyAoJHZhbGlkYXRlQ29kZSkgKyAnID0gJyArICgkZGVmaW5pdGlvbikgKyAnLnZhbGlkYXRlOyc7XG4gIH0gZWxzZSB7XG4gICAgJHJ1bGVWYWxpZGF0ZSA9IGl0LnVzZUN1c3RvbVJ1bGUoJHJ1bGUsICRzY2hlbWEsIGl0LnNjaGVtYSwgaXQpO1xuICAgIGlmICghJHJ1bGVWYWxpZGF0ZSkgcmV0dXJuO1xuICAgICRzY2hlbWFWYWx1ZSA9ICd2YWxpZGF0ZS5zY2hlbWEnICsgJHNjaGVtYVBhdGg7XG4gICAgJHZhbGlkYXRlQ29kZSA9ICRydWxlVmFsaWRhdGUuY29kZTtcbiAgICAkY29tcGlsZSA9ICRyRGVmLmNvbXBpbGU7XG4gICAgJGlubGluZSA9ICRyRGVmLmlubGluZTtcbiAgICAkbWFjcm8gPSAkckRlZi5tYWNybztcbiAgfVxuICB2YXIgJHJ1bGVFcnJzID0gJHZhbGlkYXRlQ29kZSArICcuZXJyb3JzJyxcbiAgICAkaSA9ICdpJyArICRsdmwsXG4gICAgJHJ1bGVFcnIgPSAncnVsZUVycicgKyAkbHZsLFxuICAgICRhc3luY0tleXdvcmQgPSAkckRlZi5hc3luYztcbiAgaWYgKCRhc3luY0tleXdvcmQgJiYgIWl0LmFzeW5jKSB0aHJvdyBuZXcgRXJyb3IoJ2FzeW5jIGtleXdvcmQgaW4gc3luYyBzY2hlbWEnKTtcbiAgaWYgKCEoJGlubGluZSB8fCAkbWFjcm8pKSB7XG4gICAgb3V0ICs9ICcnICsgKCRydWxlRXJycykgKyAnID0gbnVsbDsnO1xuICB9XG4gIG91dCArPSAndmFyICcgKyAoJGVycnMpICsgJyA9IGVycm9yczt2YXIgJyArICgkdmFsaWQpICsgJzsnO1xuICBpZiAoJGlzRGF0YSAmJiAkckRlZi4kZGF0YSkge1xuICAgICRjbG9zaW5nQnJhY2VzICs9ICd9JztcbiAgICBvdXQgKz0gJyBpZiAoJyArICgkc2NoZW1hVmFsdWUpICsgJyA9PT0gdW5kZWZpbmVkKSB7ICcgKyAoJHZhbGlkKSArICcgPSB0cnVlOyB9IGVsc2UgeyAnO1xuICAgIGlmICgkdmFsaWRhdGVTY2hlbWEpIHtcbiAgICAgICRjbG9zaW5nQnJhY2VzICs9ICd9JztcbiAgICAgIG91dCArPSAnICcgKyAoJHZhbGlkKSArICcgPSAnICsgKCRkZWZpbml0aW9uKSArICcudmFsaWRhdGVTY2hlbWEoJyArICgkc2NoZW1hVmFsdWUpICsgJyk7IGlmICgnICsgKCR2YWxpZCkgKyAnKSB7ICc7XG4gICAgfVxuICB9XG4gIGlmICgkaW5saW5lKSB7XG4gICAgaWYgKCRyRGVmLnN0YXRlbWVudHMpIHtcbiAgICAgIG91dCArPSAnICcgKyAoJHJ1bGVWYWxpZGF0ZS52YWxpZGF0ZSkgKyAnICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnICcgKyAoJHZhbGlkKSArICcgPSAnICsgKCRydWxlVmFsaWRhdGUudmFsaWRhdGUpICsgJzsgJztcbiAgICB9XG4gIH0gZWxzZSBpZiAoJG1hY3JvKSB7XG4gICAgdmFyICRpdCA9IGl0LnV0aWwuY29weShpdCk7XG4gICAgdmFyICRjbG9zaW5nQnJhY2VzID0gJyc7XG4gICAgJGl0LmxldmVsKys7XG4gICAgdmFyICRuZXh0VmFsaWQgPSAndmFsaWQnICsgJGl0LmxldmVsO1xuICAgICRpdC5zY2hlbWEgPSAkcnVsZVZhbGlkYXRlLnZhbGlkYXRlO1xuICAgICRpdC5zY2hlbWFQYXRoID0gJyc7XG4gICAgdmFyICR3YXNDb21wb3NpdGUgPSBpdC5jb21wb3NpdGVSdWxlO1xuICAgIGl0LmNvbXBvc2l0ZVJ1bGUgPSAkaXQuY29tcG9zaXRlUnVsZSA9IHRydWU7XG4gICAgdmFyICRjb2RlID0gaXQudmFsaWRhdGUoJGl0KS5yZXBsYWNlKC92YWxpZGF0ZVxcLnNjaGVtYS9nLCAkdmFsaWRhdGVDb2RlKTtcbiAgICBpdC5jb21wb3NpdGVSdWxlID0gJGl0LmNvbXBvc2l0ZVJ1bGUgPSAkd2FzQ29tcG9zaXRlO1xuICAgIG91dCArPSAnICcgKyAoJGNvZGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciAkJG91dFN0YWNrID0gJCRvdXRTdGFjayB8fCBbXTtcbiAgICAkJG91dFN0YWNrLnB1c2gob3V0KTtcbiAgICBvdXQgPSAnJztcbiAgICBvdXQgKz0gJyAgJyArICgkdmFsaWRhdGVDb2RlKSArICcuY2FsbCggJztcbiAgICBpZiAoaXQub3B0cy5wYXNzQ29udGV4dCkge1xuICAgICAgb3V0ICs9ICd0aGlzJztcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ICs9ICdzZWxmJztcbiAgICB9XG4gICAgaWYgKCRjb21waWxlIHx8ICRyRGVmLnNjaGVtYSA9PT0gZmFsc2UpIHtcbiAgICAgIG91dCArPSAnICwgJyArICgkZGF0YSkgKyAnICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnICwgJyArICgkc2NoZW1hVmFsdWUpICsgJyAsICcgKyAoJGRhdGEpICsgJyAsIHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICc7XG4gICAgfVxuICAgIG91dCArPSAnICwgKGRhdGFQYXRoIHx8IFxcJ1xcJyknO1xuICAgIGlmIChpdC5lcnJvclBhdGggIT0gJ1wiXCInKSB7XG4gICAgICBvdXQgKz0gJyArICcgKyAoaXQuZXJyb3JQYXRoKTtcbiAgICB9XG4gICAgdmFyICRwYXJlbnREYXRhID0gJGRhdGFMdmwgPyAnZGF0YScgKyAoKCRkYXRhTHZsIC0gMSkgfHwgJycpIDogJ3BhcmVudERhdGEnLFxuICAgICAgJHBhcmVudERhdGFQcm9wZXJ0eSA9ICRkYXRhTHZsID8gaXQuZGF0YVBhdGhBcnJbJGRhdGFMdmxdIDogJ3BhcmVudERhdGFQcm9wZXJ0eSc7XG4gICAgb3V0ICs9ICcgLCAnICsgKCRwYXJlbnREYXRhKSArICcgLCAnICsgKCRwYXJlbnREYXRhUHJvcGVydHkpICsgJyAsIHJvb3REYXRhICkgICc7XG4gICAgdmFyIGRlZl9jYWxsUnVsZVZhbGlkYXRlID0gb3V0O1xuICAgIG91dCA9ICQkb3V0U3RhY2sucG9wKCk7XG4gICAgaWYgKCRyRGVmLmVycm9ycyA9PT0gZmFsc2UpIHtcbiAgICAgIG91dCArPSAnICcgKyAoJHZhbGlkKSArICcgPSAnO1xuICAgICAgaWYgKCRhc3luY0tleXdvcmQpIHtcbiAgICAgICAgb3V0ICs9ICdhd2FpdCAnO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICcnICsgKGRlZl9jYWxsUnVsZVZhbGlkYXRlKSArICc7ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgkYXN5bmNLZXl3b3JkKSB7XG4gICAgICAgICRydWxlRXJycyA9ICdjdXN0b21FcnJvcnMnICsgJGx2bDtcbiAgICAgICAgb3V0ICs9ICcgdmFyICcgKyAoJHJ1bGVFcnJzKSArICcgPSBudWxsOyB0cnkgeyAnICsgKCR2YWxpZCkgKyAnID0gYXdhaXQgJyArIChkZWZfY2FsbFJ1bGVWYWxpZGF0ZSkgKyAnOyB9IGNhdGNoIChlKSB7ICcgKyAoJHZhbGlkKSArICcgPSBmYWxzZTsgaWYgKGUgaW5zdGFuY2VvZiBWYWxpZGF0aW9uRXJyb3IpICcgKyAoJHJ1bGVFcnJzKSArICcgPSBlLmVycm9yczsgZWxzZSB0aHJvdyBlOyB9ICc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJyAnICsgKCRydWxlRXJycykgKyAnID0gbnVsbDsgJyArICgkdmFsaWQpICsgJyA9ICcgKyAoZGVmX2NhbGxSdWxlVmFsaWRhdGUpICsgJzsgJztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKCRyRGVmLm1vZGlmeWluZykge1xuICAgIG91dCArPSAnIGlmICgnICsgKCRwYXJlbnREYXRhKSArICcpICcgKyAoJGRhdGEpICsgJyA9ICcgKyAoJHBhcmVudERhdGEpICsgJ1snICsgKCRwYXJlbnREYXRhUHJvcGVydHkpICsgJ107JztcbiAgfVxuICBvdXQgKz0gJycgKyAoJGNsb3NpbmdCcmFjZXMpO1xuICBpZiAoJHJEZWYudmFsaWQpIHtcbiAgICBpZiAoJGJyZWFrT25FcnJvcikge1xuICAgICAgb3V0ICs9ICcgaWYgKHRydWUpIHsgJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb3V0ICs9ICcgaWYgKCAnO1xuICAgIGlmICgkckRlZi52YWxpZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBvdXQgKz0gJyAhJztcbiAgICAgIGlmICgkbWFjcm8pIHtcbiAgICAgICAgb3V0ICs9ICcnICsgKCRuZXh0VmFsaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0ICs9ICcnICsgKCR2YWxpZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnICcgKyAoISRyRGVmLnZhbGlkKSArICcgJztcbiAgICB9XG4gICAgb3V0ICs9ICcpIHsgJztcbiAgICAkZXJyb3JLZXl3b3JkID0gJHJ1bGUua2V5d29yZDtcbiAgICB2YXIgJCRvdXRTdGFjayA9ICQkb3V0U3RhY2sgfHwgW107XG4gICAgJCRvdXRTdGFjay5wdXNoKG91dCk7XG4gICAgb3V0ID0gJyc7XG4gICAgdmFyICQkb3V0U3RhY2sgPSAkJG91dFN0YWNrIHx8IFtdO1xuICAgICQkb3V0U3RhY2sucHVzaChvdXQpO1xuICAgIG91dCA9ICcnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChpdC5jcmVhdGVFcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICBvdXQgKz0gJyB7IGtleXdvcmQ6IFxcJycgKyAoJGVycm9yS2V5d29yZCB8fCAnY3VzdG9tJykgKyAnXFwnICwgZGF0YVBhdGg6IChkYXRhUGF0aCB8fCBcXCdcXCcpICsgJyArIChpdC5lcnJvclBhdGgpICsgJyAsIHNjaGVtYVBhdGg6ICcgKyAoaXQudXRpbC50b1F1b3RlZFN0cmluZygkZXJyU2NoZW1hUGF0aCkpICsgJyAsIHBhcmFtczogeyBrZXl3b3JkOiBcXCcnICsgKCRydWxlLmtleXdvcmQpICsgJ1xcJyB9ICc7XG4gICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgb3V0ICs9ICcgLCBtZXNzYWdlOiBcXCdzaG91bGQgcGFzcyBcIicgKyAoJHJ1bGUua2V5d29yZCkgKyAnXCIga2V5d29yZCB2YWxpZGF0aW9uXFwnICc7XG4gICAgICB9XG4gICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgIG91dCArPSAnICwgc2NoZW1hOiB2YWxpZGF0ZS5zY2hlbWEnICsgKCRzY2hlbWFQYXRoKSArICcgLCBwYXJlbnRTY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoaXQuc2NoZW1hUGF0aCkgKyAnICwgZGF0YTogJyArICgkZGF0YSkgKyAnICc7XG4gICAgICB9XG4gICAgICBvdXQgKz0gJyB9ICc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHt9ICc7XG4gICAgfVxuICAgIHZhciBfX2VyciA9IG91dDtcbiAgICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICAgIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChpdC5hc3luYykge1xuICAgICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKFsnICsgKF9fZXJyKSArICddKTsgJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IFsnICsgKF9fZXJyKSArICddOyByZXR1cm4gZmFsc2U7ICc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCArPSAnIHZhciBlcnIgPSAnICsgKF9fZXJyKSArICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgICB9XG4gICAgdmFyIGRlZl9jdXN0b21FcnJvciA9IG91dDtcbiAgICBvdXQgPSAkJG91dFN0YWNrLnBvcCgpO1xuICAgIGlmICgkaW5saW5lKSB7XG4gICAgICBpZiAoJHJEZWYuZXJyb3JzKSB7XG4gICAgICAgIGlmICgkckRlZi5lcnJvcnMgIT0gJ2Z1bGwnKSB7XG4gICAgICAgICAgb3V0ICs9ICcgIGZvciAodmFyICcgKyAoJGkpICsgJz0nICsgKCRlcnJzKSArICc7ICcgKyAoJGkpICsgJzxlcnJvcnM7ICcgKyAoJGkpICsgJysrKSB7IHZhciAnICsgKCRydWxlRXJyKSArICcgPSB2RXJyb3JzWycgKyAoJGkpICsgJ107IGlmICgnICsgKCRydWxlRXJyKSArICcuZGF0YVBhdGggPT09IHVuZGVmaW5lZCkgJyArICgkcnVsZUVycikgKyAnLmRhdGFQYXRoID0gKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnOyBpZiAoJyArICgkcnVsZUVycikgKyAnLnNjaGVtYVBhdGggPT09IHVuZGVmaW5lZCkgeyAnICsgKCRydWxlRXJyKSArICcuc2NoZW1hUGF0aCA9IFwiJyArICgkZXJyU2NoZW1hUGF0aCkgKyAnXCI7IH0gJztcbiAgICAgICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgICAgICBvdXQgKz0gJyAnICsgKCRydWxlRXJyKSArICcuc2NoZW1hID0gJyArICgkc2NoZW1hVmFsdWUpICsgJzsgJyArICgkcnVsZUVycikgKyAnLmRhdGEgPSAnICsgKCRkYXRhKSArICc7ICc7XG4gICAgICAgICAgfVxuICAgICAgICAgIG91dCArPSAnIH0gJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCRyRGVmLmVycm9ycyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBvdXQgKz0gJyAnICsgKGRlZl9jdXN0b21FcnJvcikgKyAnICc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3V0ICs9ICcgaWYgKCcgKyAoJGVycnMpICsgJyA9PSBlcnJvcnMpIHsgJyArIChkZWZfY3VzdG9tRXJyb3IpICsgJyB9IGVsc2UgeyAgZm9yICh2YXIgJyArICgkaSkgKyAnPScgKyAoJGVycnMpICsgJzsgJyArICgkaSkgKyAnPGVycm9yczsgJyArICgkaSkgKyAnKyspIHsgdmFyICcgKyAoJHJ1bGVFcnIpICsgJyA9IHZFcnJvcnNbJyArICgkaSkgKyAnXTsgaWYgKCcgKyAoJHJ1bGVFcnIpICsgJy5kYXRhUGF0aCA9PT0gdW5kZWZpbmVkKSAnICsgKCRydWxlRXJyKSArICcuZGF0YVBhdGggPSAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICc7IGlmICgnICsgKCRydWxlRXJyKSArICcuc2NoZW1hUGF0aCA9PT0gdW5kZWZpbmVkKSB7ICcgKyAoJHJ1bGVFcnIpICsgJy5zY2hlbWFQYXRoID0gXCInICsgKCRlcnJTY2hlbWFQYXRoKSArICdcIjsgfSAnO1xuICAgICAgICAgIGlmIChpdC5vcHRzLnZlcmJvc2UpIHtcbiAgICAgICAgICAgIG91dCArPSAnICcgKyAoJHJ1bGVFcnIpICsgJy5zY2hlbWEgPSAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnOyAnICsgKCRydWxlRXJyKSArICcuZGF0YSA9ICcgKyAoJGRhdGEpICsgJzsgJztcbiAgICAgICAgICB9XG4gICAgICAgICAgb3V0ICs9ICcgfSB9ICc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCRtYWNybykge1xuICAgICAgb3V0ICs9ICcgICB2YXIgZXJyID0gICAnOyAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgaWYgKGl0LmNyZWF0ZUVycm9ycyAhPT0gZmFsc2UpIHtcbiAgICAgICAgb3V0ICs9ICcgeyBrZXl3b3JkOiBcXCcnICsgKCRlcnJvcktleXdvcmQgfHwgJ2N1c3RvbScpICsgJ1xcJyAsIGRhdGFQYXRoOiAoZGF0YVBhdGggfHwgXFwnXFwnKSArICcgKyAoaXQuZXJyb3JQYXRoKSArICcgLCBzY2hlbWFQYXRoOiAnICsgKGl0LnV0aWwudG9RdW90ZWRTdHJpbmcoJGVyclNjaGVtYVBhdGgpKSArICcgLCBwYXJhbXM6IHsga2V5d29yZDogXFwnJyArICgkcnVsZS5rZXl3b3JkKSArICdcXCcgfSAnO1xuICAgICAgICBpZiAoaXQub3B0cy5tZXNzYWdlcyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBvdXQgKz0gJyAsIG1lc3NhZ2U6IFxcJ3Nob3VsZCBwYXNzIFwiJyArICgkcnVsZS5rZXl3b3JkKSArICdcIiBrZXl3b3JkIHZhbGlkYXRpb25cXCcgJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXQub3B0cy52ZXJib3NlKSB7XG4gICAgICAgICAgb3V0ICs9ICcgLCBzY2hlbWE6IHZhbGlkYXRlLnNjaGVtYScgKyAoJHNjaGVtYVBhdGgpICsgJyAsIHBhcmVudFNjaGVtYTogdmFsaWRhdGUuc2NoZW1hJyArIChpdC5zY2hlbWFQYXRoKSArICcgLCBkYXRhOiAnICsgKCRkYXRhKSArICcgJztcbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gJyB9ICc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJyB7fSAnO1xuICAgICAgfVxuICAgICAgb3V0ICs9ICc7ICBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9IFtlcnJdOyBlbHNlIHZFcnJvcnMucHVzaChlcnIpOyBlcnJvcnMrKzsgJztcbiAgICAgIGlmICghaXQuY29tcG9zaXRlUnVsZSAmJiAkYnJlYWtPbkVycm9yKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoaXQuYXN5bmMpIHtcbiAgICAgICAgICBvdXQgKz0gJyB0aHJvdyBuZXcgVmFsaWRhdGlvbkVycm9yKHZFcnJvcnMpOyAnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dCArPSAnIHZhbGlkYXRlLmVycm9ycyA9IHZFcnJvcnM7IHJldHVybiBmYWxzZTsgJztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoJHJEZWYuZXJyb3JzID09PSBmYWxzZSkge1xuICAgICAgICBvdXQgKz0gJyAnICsgKGRlZl9jdXN0b21FcnJvcikgKyAnICc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXQgKz0gJyBpZiAoQXJyYXkuaXNBcnJheSgnICsgKCRydWxlRXJycykgKyAnKSkgeyBpZiAodkVycm9ycyA9PT0gbnVsbCkgdkVycm9ycyA9ICcgKyAoJHJ1bGVFcnJzKSArICc7IGVsc2UgdkVycm9ycyA9IHZFcnJvcnMuY29uY2F0KCcgKyAoJHJ1bGVFcnJzKSArICcpOyBlcnJvcnMgPSB2RXJyb3JzLmxlbmd0aDsgIGZvciAodmFyICcgKyAoJGkpICsgJz0nICsgKCRlcnJzKSArICc7ICcgKyAoJGkpICsgJzxlcnJvcnM7ICcgKyAoJGkpICsgJysrKSB7IHZhciAnICsgKCRydWxlRXJyKSArICcgPSB2RXJyb3JzWycgKyAoJGkpICsgJ107IGlmICgnICsgKCRydWxlRXJyKSArICcuZGF0YVBhdGggPT09IHVuZGVmaW5lZCkgJyArICgkcnVsZUVycikgKyAnLmRhdGFQYXRoID0gKGRhdGFQYXRoIHx8IFxcJ1xcJykgKyAnICsgKGl0LmVycm9yUGF0aCkgKyAnOyAgJyArICgkcnVsZUVycikgKyAnLnNjaGVtYVBhdGggPSBcIicgKyAoJGVyclNjaGVtYVBhdGgpICsgJ1wiOyAgJztcbiAgICAgICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgICAgIG91dCArPSAnICcgKyAoJHJ1bGVFcnIpICsgJy5zY2hlbWEgPSAnICsgKCRzY2hlbWFWYWx1ZSkgKyAnOyAnICsgKCRydWxlRXJyKSArICcuZGF0YSA9ICcgKyAoJGRhdGEpICsgJzsgJztcbiAgICAgICAgfVxuICAgICAgICBvdXQgKz0gJyB9IH0gZWxzZSB7ICcgKyAoZGVmX2N1c3RvbUVycm9yKSArICcgfSAnO1xuICAgICAgfVxuICAgIH1cbiAgICBvdXQgKz0gJyB9ICc7XG4gICAgaWYgKCRicmVha09uRXJyb3IpIHtcbiAgICAgIG91dCArPSAnIGVsc2UgeyAnO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgbWV0YVNjaGVtYSA9IHJlcXVpcmUoJy4vcmVmcy9qc29uLXNjaGVtYS1kcmFmdC0wNy5qc29uJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAkaWQ6ICdodHRwczovL2dpdGh1Yi5jb20vYWp2LXZhbGlkYXRvci9hanYvYmxvYi9tYXN0ZXIvbGliL2RlZmluaXRpb25fc2NoZW1hLmpzJyxcbiAgZGVmaW5pdGlvbnM6IHtcbiAgICBzaW1wbGVUeXBlczogbWV0YVNjaGVtYS5kZWZpbml0aW9ucy5zaW1wbGVUeXBlc1xuICB9LFxuICB0eXBlOiAnb2JqZWN0JyxcbiAgZGVwZW5kZW5jaWVzOiB7XG4gICAgc2NoZW1hOiBbJ3ZhbGlkYXRlJ10sXG4gICAgJGRhdGE6IFsndmFsaWRhdGUnXSxcbiAgICBzdGF0ZW1lbnRzOiBbJ2lubGluZSddLFxuICAgIHZhbGlkOiB7bm90OiB7cmVxdWlyZWQ6IFsnbWFjcm8nXX19XG4gIH0sXG4gIHByb3BlcnRpZXM6IHtcbiAgICB0eXBlOiBtZXRhU2NoZW1hLnByb3BlcnRpZXMudHlwZSxcbiAgICBzY2hlbWE6IHt0eXBlOiAnYm9vbGVhbid9LFxuICAgIHN0YXRlbWVudHM6IHt0eXBlOiAnYm9vbGVhbid9LFxuICAgIGRlcGVuZGVuY2llczoge1xuICAgICAgdHlwZTogJ2FycmF5JyxcbiAgICAgIGl0ZW1zOiB7dHlwZTogJ3N0cmluZyd9XG4gICAgfSxcbiAgICBtZXRhU2NoZW1hOiB7dHlwZTogJ29iamVjdCd9LFxuICAgIG1vZGlmeWluZzoge3R5cGU6ICdib29sZWFuJ30sXG4gICAgdmFsaWQ6IHt0eXBlOiAnYm9vbGVhbid9LFxuICAgICRkYXRhOiB7dHlwZTogJ2Jvb2xlYW4nfSxcbiAgICBhc3luYzoge3R5cGU6ICdib29sZWFuJ30sXG4gICAgZXJyb3JzOiB7XG4gICAgICBhbnlPZjogW1xuICAgICAgICB7dHlwZTogJ2Jvb2xlYW4nfSxcbiAgICAgICAge2NvbnN0OiAnZnVsbCd9XG4gICAgICBdXG4gICAgfVxuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgSURFTlRJRklFUiA9IC9eW2Etel8kXVthLXowLTlfJC1dKiQvaTtcbnZhciBjdXN0b21SdWxlQ29kZSA9IHJlcXVpcmUoJy4vZG90anMvY3VzdG9tJyk7XG52YXIgZGVmaW5pdGlvblNjaGVtYSA9IHJlcXVpcmUoJy4vZGVmaW5pdGlvbl9zY2hlbWEnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGFkZDogYWRkS2V5d29yZCxcbiAgZ2V0OiBnZXRLZXl3b3JkLFxuICByZW1vdmU6IHJlbW92ZUtleXdvcmQsXG4gIHZhbGlkYXRlOiB2YWxpZGF0ZUtleXdvcmRcbn07XG5cblxuLyoqXG4gKiBEZWZpbmUgY3VzdG9tIGtleXdvcmRcbiAqIEB0aGlzICBBanZcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXl3b3JkIGN1c3RvbSBrZXl3b3JkLCBzaG91bGQgYmUgdW5pcXVlIChpbmNsdWRpbmcgZGlmZmVyZW50IGZyb20gYWxsIHN0YW5kYXJkLCBjdXN0b20gYW5kIG1hY3JvIGtleXdvcmRzKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZpbml0aW9uIGtleXdvcmQgZGVmaW5pdGlvbiBvYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIGB0eXBlYCAodHlwZShzKSB3aGljaCB0aGUga2V5d29yZCBhcHBsaWVzIHRvKSwgYHZhbGlkYXRlYCBvciBgY29tcGlsZWAuXG4gKiBAcmV0dXJuIHtBanZ9IHRoaXMgZm9yIG1ldGhvZCBjaGFpbmluZ1xuICovXG5mdW5jdGlvbiBhZGRLZXl3b3JkKGtleXdvcmQsIGRlZmluaXRpb24pIHtcbiAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICAvKiBlc2xpbnQgbm8tc2hhZG93OiAwICovXG4gIHZhciBSVUxFUyA9IHRoaXMuUlVMRVM7XG4gIGlmIChSVUxFUy5rZXl3b3Jkc1trZXl3b3JkXSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0tleXdvcmQgJyArIGtleXdvcmQgKyAnIGlzIGFscmVhZHkgZGVmaW5lZCcpO1xuXG4gIGlmICghSURFTlRJRklFUi50ZXN0KGtleXdvcmQpKVxuICAgIHRocm93IG5ldyBFcnJvcignS2V5d29yZCAnICsga2V5d29yZCArICcgaXMgbm90IGEgdmFsaWQgaWRlbnRpZmllcicpO1xuXG4gIGlmIChkZWZpbml0aW9uKSB7XG4gICAgdGhpcy52YWxpZGF0ZUtleXdvcmQoZGVmaW5pdGlvbiwgdHJ1ZSk7XG5cbiAgICB2YXIgZGF0YVR5cGUgPSBkZWZpbml0aW9uLnR5cGU7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YVR5cGUpKSB7XG4gICAgICBmb3IgKHZhciBpPTA7IGk8ZGF0YVR5cGUubGVuZ3RoOyBpKyspXG4gICAgICAgIF9hZGRSdWxlKGtleXdvcmQsIGRhdGFUeXBlW2ldLCBkZWZpbml0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX2FkZFJ1bGUoa2V5d29yZCwgZGF0YVR5cGUsIGRlZmluaXRpb24pO1xuICAgIH1cblxuICAgIHZhciBtZXRhU2NoZW1hID0gZGVmaW5pdGlvbi5tZXRhU2NoZW1hO1xuICAgIGlmIChtZXRhU2NoZW1hKSB7XG4gICAgICBpZiAoZGVmaW5pdGlvbi4kZGF0YSAmJiB0aGlzLl9vcHRzLiRkYXRhKSB7XG4gICAgICAgIG1ldGFTY2hlbWEgPSB7XG4gICAgICAgICAgYW55T2Y6IFtcbiAgICAgICAgICAgIG1ldGFTY2hlbWEsXG4gICAgICAgICAgICB7ICckcmVmJzogJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9hanYtdmFsaWRhdG9yL2Fqdi9tYXN0ZXIvbGliL3JlZnMvZGF0YS5qc29uIycgfVxuICAgICAgICAgIF1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGRlZmluaXRpb24udmFsaWRhdGVTY2hlbWEgPSB0aGlzLmNvbXBpbGUobWV0YVNjaGVtYSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgUlVMRVMua2V5d29yZHNba2V5d29yZF0gPSBSVUxFUy5hbGxba2V5d29yZF0gPSB0cnVlO1xuXG5cbiAgZnVuY3Rpb24gX2FkZFJ1bGUoa2V5d29yZCwgZGF0YVR5cGUsIGRlZmluaXRpb24pIHtcbiAgICB2YXIgcnVsZUdyb3VwO1xuICAgIGZvciAodmFyIGk9MDsgaTxSVUxFUy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHJnID0gUlVMRVNbaV07XG4gICAgICBpZiAocmcudHlwZSA9PSBkYXRhVHlwZSkge1xuICAgICAgICBydWxlR3JvdXAgPSByZztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFydWxlR3JvdXApIHtcbiAgICAgIHJ1bGVHcm91cCA9IHsgdHlwZTogZGF0YVR5cGUsIHJ1bGVzOiBbXSB9O1xuICAgICAgUlVMRVMucHVzaChydWxlR3JvdXApO1xuICAgIH1cblxuICAgIHZhciBydWxlID0ge1xuICAgICAga2V5d29yZDoga2V5d29yZCxcbiAgICAgIGRlZmluaXRpb246IGRlZmluaXRpb24sXG4gICAgICBjdXN0b206IHRydWUsXG4gICAgICBjb2RlOiBjdXN0b21SdWxlQ29kZSxcbiAgICAgIGltcGxlbWVudHM6IGRlZmluaXRpb24uaW1wbGVtZW50c1xuICAgIH07XG4gICAgcnVsZUdyb3VwLnJ1bGVzLnB1c2gocnVsZSk7XG4gICAgUlVMRVMuY3VzdG9tW2tleXdvcmRdID0gcnVsZTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5cbi8qKlxuICogR2V0IGtleXdvcmRcbiAqIEB0aGlzICBBanZcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXl3b3JkIHByZS1kZWZpbmVkIG9yIGN1c3RvbSBrZXl3b3JkLlxuICogQHJldHVybiB7T2JqZWN0fEJvb2xlYW59IGN1c3RvbSBrZXl3b3JkIGRlZmluaXRpb24sIGB0cnVlYCBpZiBpdCBpcyBhIHByZWRlZmluZWQga2V5d29yZCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKi9cbmZ1bmN0aW9uIGdldEtleXdvcmQoa2V5d29yZCkge1xuICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gIHZhciBydWxlID0gdGhpcy5SVUxFUy5jdXN0b21ba2V5d29yZF07XG4gIHJldHVybiBydWxlID8gcnVsZS5kZWZpbml0aW9uIDogdGhpcy5SVUxFUy5rZXl3b3Jkc1trZXl3b3JkXSB8fCBmYWxzZTtcbn1cblxuXG4vKipcbiAqIFJlbW92ZSBrZXl3b3JkXG4gKiBAdGhpcyAgQWp2XG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5d29yZCBwcmUtZGVmaW5lZCBvciBjdXN0b20ga2V5d29yZC5cbiAqIEByZXR1cm4ge0Fqdn0gdGhpcyBmb3IgbWV0aG9kIGNoYWluaW5nXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUtleXdvcmQoa2V5d29yZCkge1xuICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gIHZhciBSVUxFUyA9IHRoaXMuUlVMRVM7XG4gIGRlbGV0ZSBSVUxFUy5rZXl3b3Jkc1trZXl3b3JkXTtcbiAgZGVsZXRlIFJVTEVTLmFsbFtrZXl3b3JkXTtcbiAgZGVsZXRlIFJVTEVTLmN1c3RvbVtrZXl3b3JkXTtcbiAgZm9yICh2YXIgaT0wOyBpPFJVTEVTLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHJ1bGVzID0gUlVMRVNbaV0ucnVsZXM7XG4gICAgZm9yICh2YXIgaj0wOyBqPHJ1bGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICBpZiAocnVsZXNbal0ua2V5d29yZCA9PSBrZXl3b3JkKSB7XG4gICAgICAgIHJ1bGVzLnNwbGljZShqLCAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG5cbi8qKlxuICogVmFsaWRhdGUga2V5d29yZCBkZWZpbml0aW9uXG4gKiBAdGhpcyAgQWp2XG4gKiBAcGFyYW0ge09iamVjdH0gZGVmaW5pdGlvbiBrZXl3b3JkIGRlZmluaXRpb24gb2JqZWN0LlxuICogQHBhcmFtIHtCb29sZWFufSB0aHJvd0Vycm9yIHRydWUgdG8gdGhyb3cgZXhjZXB0aW9uIGlmIGRlZmluaXRpb24gaXMgaW52YWxpZFxuICogQHJldHVybiB7Ym9vbGVhbn0gdmFsaWRhdGlvbiByZXN1bHRcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVLZXl3b3JkKGRlZmluaXRpb24sIHRocm93RXJyb3IpIHtcbiAgdmFsaWRhdGVLZXl3b3JkLmVycm9ycyA9IG51bGw7XG4gIHZhciB2ID0gdGhpcy5fdmFsaWRhdGVLZXl3b3JkID0gdGhpcy5fdmFsaWRhdGVLZXl3b3JkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgdGhpcy5jb21waWxlKGRlZmluaXRpb25TY2hlbWEsIHRydWUpO1xuXG4gIGlmICh2KGRlZmluaXRpb24pKSByZXR1cm4gdHJ1ZTtcbiAgdmFsaWRhdGVLZXl3b3JkLmVycm9ycyA9IHYuZXJyb3JzO1xuICBpZiAodGhyb3dFcnJvcilcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2N1c3RvbSBrZXl3b3JkIGRlZmluaXRpb24gaXMgaW52YWxpZDogJyAgKyB0aGlzLmVycm9yc1RleHQodi5lcnJvcnMpKTtcbiAgZWxzZVxuICAgIHJldHVybiBmYWxzZTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGNvbXBpbGVTY2hlbWEgPSByZXF1aXJlKCcuL2NvbXBpbGUnKVxuICAsIHJlc29sdmUgPSByZXF1aXJlKCcuL2NvbXBpbGUvcmVzb2x2ZScpXG4gICwgQ2FjaGUgPSByZXF1aXJlKCcuL2NhY2hlJylcbiAgLCBTY2hlbWFPYmplY3QgPSByZXF1aXJlKCcuL2NvbXBpbGUvc2NoZW1hX29iaicpXG4gICwgc3RhYmxlU3RyaW5naWZ5ID0gcmVxdWlyZSgnZmFzdC1qc29uLXN0YWJsZS1zdHJpbmdpZnknKVxuICAsIGZvcm1hdHMgPSByZXF1aXJlKCcuL2NvbXBpbGUvZm9ybWF0cycpXG4gICwgcnVsZXMgPSByZXF1aXJlKCcuL2NvbXBpbGUvcnVsZXMnKVxuICAsICRkYXRhTWV0YVNjaGVtYSA9IHJlcXVpcmUoJy4vZGF0YScpXG4gICwgdXRpbCA9IHJlcXVpcmUoJy4vY29tcGlsZS91dGlsJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gQWp2O1xuXG5BanYucHJvdG90eXBlLnZhbGlkYXRlID0gdmFsaWRhdGU7XG5BanYucHJvdG90eXBlLmNvbXBpbGUgPSBjb21waWxlO1xuQWp2LnByb3RvdHlwZS5hZGRTY2hlbWEgPSBhZGRTY2hlbWE7XG5BanYucHJvdG90eXBlLmFkZE1ldGFTY2hlbWEgPSBhZGRNZXRhU2NoZW1hO1xuQWp2LnByb3RvdHlwZS52YWxpZGF0ZVNjaGVtYSA9IHZhbGlkYXRlU2NoZW1hO1xuQWp2LnByb3RvdHlwZS5nZXRTY2hlbWEgPSBnZXRTY2hlbWE7XG5BanYucHJvdG90eXBlLnJlbW92ZVNjaGVtYSA9IHJlbW92ZVNjaGVtYTtcbkFqdi5wcm90b3R5cGUuYWRkRm9ybWF0ID0gYWRkRm9ybWF0O1xuQWp2LnByb3RvdHlwZS5lcnJvcnNUZXh0ID0gZXJyb3JzVGV4dDtcblxuQWp2LnByb3RvdHlwZS5fYWRkU2NoZW1hID0gX2FkZFNjaGVtYTtcbkFqdi5wcm90b3R5cGUuX2NvbXBpbGUgPSBfY29tcGlsZTtcblxuQWp2LnByb3RvdHlwZS5jb21waWxlQXN5bmMgPSByZXF1aXJlKCcuL2NvbXBpbGUvYXN5bmMnKTtcbnZhciBjdXN0b21LZXl3b3JkID0gcmVxdWlyZSgnLi9rZXl3b3JkJyk7XG5BanYucHJvdG90eXBlLmFkZEtleXdvcmQgPSBjdXN0b21LZXl3b3JkLmFkZDtcbkFqdi5wcm90b3R5cGUuZ2V0S2V5d29yZCA9IGN1c3RvbUtleXdvcmQuZ2V0O1xuQWp2LnByb3RvdHlwZS5yZW1vdmVLZXl3b3JkID0gY3VzdG9tS2V5d29yZC5yZW1vdmU7XG5BanYucHJvdG90eXBlLnZhbGlkYXRlS2V5d29yZCA9IGN1c3RvbUtleXdvcmQudmFsaWRhdGU7XG5cbnZhciBlcnJvckNsYXNzZXMgPSByZXF1aXJlKCcuL2NvbXBpbGUvZXJyb3JfY2xhc3NlcycpO1xuQWp2LlZhbGlkYXRpb25FcnJvciA9IGVycm9yQ2xhc3Nlcy5WYWxpZGF0aW9uO1xuQWp2Lk1pc3NpbmdSZWZFcnJvciA9IGVycm9yQ2xhc3Nlcy5NaXNzaW5nUmVmO1xuQWp2LiRkYXRhTWV0YVNjaGVtYSA9ICRkYXRhTWV0YVNjaGVtYTtcblxudmFyIE1FVEFfU0NIRU1BX0lEID0gJ2h0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hJztcblxudmFyIE1FVEFfSUdOT1JFX09QVElPTlMgPSBbICdyZW1vdmVBZGRpdGlvbmFsJywgJ3VzZURlZmF1bHRzJywgJ2NvZXJjZVR5cGVzJywgJ3N0cmljdERlZmF1bHRzJyBdO1xudmFyIE1FVEFfU1VQUE9SVF9EQVRBID0gWycvcHJvcGVydGllcyddO1xuXG4vKipcbiAqIENyZWF0ZXMgdmFsaWRhdG9yIGluc3RhbmNlLlxuICogVXNhZ2U6IGBBanYob3B0cylgXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0cyBvcHRpb25hbCBvcHRpb25zXG4gKiBAcmV0dXJuIHtPYmplY3R9IGFqdiBpbnN0YW5jZVxuICovXG5mdW5jdGlvbiBBanYob3B0cykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQWp2KSkgcmV0dXJuIG5ldyBBanYob3B0cyk7XG4gIG9wdHMgPSB0aGlzLl9vcHRzID0gdXRpbC5jb3B5KG9wdHMpIHx8IHt9O1xuICBzZXRMb2dnZXIodGhpcyk7XG4gIHRoaXMuX3NjaGVtYXMgPSB7fTtcbiAgdGhpcy5fcmVmcyA9IHt9O1xuICB0aGlzLl9mcmFnbWVudHMgPSB7fTtcbiAgdGhpcy5fZm9ybWF0cyA9IGZvcm1hdHMob3B0cy5mb3JtYXQpO1xuXG4gIHRoaXMuX2NhY2hlID0gb3B0cy5jYWNoZSB8fCBuZXcgQ2FjaGU7XG4gIHRoaXMuX2xvYWRpbmdTY2hlbWFzID0ge307XG4gIHRoaXMuX2NvbXBpbGF0aW9ucyA9IFtdO1xuICB0aGlzLlJVTEVTID0gcnVsZXMoKTtcbiAgdGhpcy5fZ2V0SWQgPSBjaG9vc2VHZXRJZChvcHRzKTtcblxuICBvcHRzLmxvb3BSZXF1aXJlZCA9IG9wdHMubG9vcFJlcXVpcmVkIHx8IEluZmluaXR5O1xuICBpZiAob3B0cy5lcnJvckRhdGFQYXRoID09ICdwcm9wZXJ0eScpIG9wdHMuX2Vycm9yRGF0YVBhdGhQcm9wZXJ0eSA9IHRydWU7XG4gIGlmIChvcHRzLnNlcmlhbGl6ZSA9PT0gdW5kZWZpbmVkKSBvcHRzLnNlcmlhbGl6ZSA9IHN0YWJsZVN0cmluZ2lmeTtcbiAgdGhpcy5fbWV0YU9wdHMgPSBnZXRNZXRhU2NoZW1hT3B0aW9ucyh0aGlzKTtcblxuICBpZiAob3B0cy5mb3JtYXRzKSBhZGRJbml0aWFsRm9ybWF0cyh0aGlzKTtcbiAgaWYgKG9wdHMua2V5d29yZHMpIGFkZEluaXRpYWxLZXl3b3Jkcyh0aGlzKTtcbiAgYWRkRGVmYXVsdE1ldGFTY2hlbWEodGhpcyk7XG4gIGlmICh0eXBlb2Ygb3B0cy5tZXRhID09ICdvYmplY3QnKSB0aGlzLmFkZE1ldGFTY2hlbWEob3B0cy5tZXRhKTtcbiAgaWYgKG9wdHMubnVsbGFibGUpIHRoaXMuYWRkS2V5d29yZCgnbnVsbGFibGUnLCB7bWV0YVNjaGVtYToge3R5cGU6ICdib29sZWFuJ319KTtcbiAgYWRkSW5pdGlhbFNjaGVtYXModGhpcyk7XG59XG5cblxuXG4vKipcbiAqIFZhbGlkYXRlIGRhdGEgdXNpbmcgc2NoZW1hXG4gKiBTY2hlbWEgd2lsbCBiZSBjb21waWxlZCBhbmQgY2FjaGVkICh1c2luZyBzZXJpYWxpemVkIEpTT04gYXMga2V5LiBbZmFzdC1qc29uLXN0YWJsZS1zdHJpbmdpZnldKGh0dHBzOi8vZ2l0aHViLmNvbS9lcG9iZXJlemtpbi9mYXN0LWpzb24tc3RhYmxlLXN0cmluZ2lmeSkgaXMgdXNlZCB0byBzZXJpYWxpemUuXG4gKiBAdGhpcyAgIEFqdlxuICogQHBhcmFtICB7U3RyaW5nfE9iamVjdH0gc2NoZW1hS2V5UmVmIGtleSwgcmVmIG9yIHNjaGVtYSBvYmplY3RcbiAqIEBwYXJhbSAge0FueX0gZGF0YSB0byBiZSB2YWxpZGF0ZWRcbiAqIEByZXR1cm4ge0Jvb2xlYW59IHZhbGlkYXRpb24gcmVzdWx0LiBFcnJvcnMgZnJvbSB0aGUgbGFzdCB2YWxpZGF0aW9uIHdpbGwgYmUgYXZhaWxhYmxlIGluIGBhanYuZXJyb3JzYCAoYW5kIGFsc28gaW4gY29tcGlsZWQgc2NoZW1hOiBgc2NoZW1hLmVycm9yc2ApLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZShzY2hlbWFLZXlSZWYsIGRhdGEpIHtcbiAgdmFyIHY7XG4gIGlmICh0eXBlb2Ygc2NoZW1hS2V5UmVmID09ICdzdHJpbmcnKSB7XG4gICAgdiA9IHRoaXMuZ2V0U2NoZW1hKHNjaGVtYUtleVJlZik7XG4gICAgaWYgKCF2KSB0aHJvdyBuZXcgRXJyb3IoJ25vIHNjaGVtYSB3aXRoIGtleSBvciByZWYgXCInICsgc2NoZW1hS2V5UmVmICsgJ1wiJyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHNjaGVtYU9iaiA9IHRoaXMuX2FkZFNjaGVtYShzY2hlbWFLZXlSZWYpO1xuICAgIHYgPSBzY2hlbWFPYmoudmFsaWRhdGUgfHwgdGhpcy5fY29tcGlsZShzY2hlbWFPYmopO1xuICB9XG5cbiAgdmFyIHZhbGlkID0gdihkYXRhKTtcbiAgaWYgKHYuJGFzeW5jICE9PSB0cnVlKSB0aGlzLmVycm9ycyA9IHYuZXJyb3JzO1xuICByZXR1cm4gdmFsaWQ7XG59XG5cblxuLyoqXG4gKiBDcmVhdGUgdmFsaWRhdGluZyBmdW5jdGlvbiBmb3IgcGFzc2VkIHNjaGVtYS5cbiAqIEB0aGlzICAgQWp2XG4gKiBAcGFyYW0gIHtPYmplY3R9IHNjaGVtYSBzY2hlbWEgb2JqZWN0XG4gKiBAcGFyYW0gIHtCb29sZWFufSBfbWV0YSB0cnVlIGlmIHNjaGVtYSBpcyBhIG1ldGEtc2NoZW1hLiBVc2VkIGludGVybmFsbHkgdG8gY29tcGlsZSBtZXRhIHNjaGVtYXMgb2YgY3VzdG9tIGtleXdvcmRzLlxuICogQHJldHVybiB7RnVuY3Rpb259IHZhbGlkYXRpbmcgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gY29tcGlsZShzY2hlbWEsIF9tZXRhKSB7XG4gIHZhciBzY2hlbWFPYmogPSB0aGlzLl9hZGRTY2hlbWEoc2NoZW1hLCB1bmRlZmluZWQsIF9tZXRhKTtcbiAgcmV0dXJuIHNjaGVtYU9iai52YWxpZGF0ZSB8fCB0aGlzLl9jb21waWxlKHNjaGVtYU9iaik7XG59XG5cblxuLyoqXG4gKiBBZGRzIHNjaGVtYSB0byB0aGUgaW5zdGFuY2UuXG4gKiBAdGhpcyAgIEFqdlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IHNjaGVtYSBzY2hlbWEgb3IgYXJyYXkgb2Ygc2NoZW1hcy4gSWYgYXJyYXkgaXMgcGFzc2VkLCBga2V5YCBhbmQgb3RoZXIgcGFyYW1ldGVycyB3aWxsIGJlIGlnbm9yZWQuXG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5IE9wdGlvbmFsIHNjaGVtYSBrZXkuIENhbiBiZSBwYXNzZWQgdG8gYHZhbGlkYXRlYCBtZXRob2QgaW5zdGVhZCBvZiBzY2hlbWEgb2JqZWN0IG9yIGlkL3JlZi4gT25lIHNjaGVtYSBwZXIgaW5zdGFuY2UgY2FuIGhhdmUgZW1wdHkgYGlkYCBhbmQgYGtleWAuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IF9za2lwVmFsaWRhdGlvbiB0cnVlIHRvIHNraXAgc2NoZW1hIHZhbGlkYXRpb24uIFVzZWQgaW50ZXJuYWxseSwgb3B0aW9uIHZhbGlkYXRlU2NoZW1hIHNob3VsZCBiZSB1c2VkIGluc3RlYWQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IF9tZXRhIHRydWUgaWYgc2NoZW1hIGlzIGEgbWV0YS1zY2hlbWEuIFVzZWQgaW50ZXJuYWxseSwgYWRkTWV0YVNjaGVtYSBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkLlxuICogQHJldHVybiB7QWp2fSB0aGlzIGZvciBtZXRob2QgY2hhaW5pbmdcbiAqL1xuZnVuY3Rpb24gYWRkU2NoZW1hKHNjaGVtYSwga2V5LCBfc2tpcFZhbGlkYXRpb24sIF9tZXRhKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYSkpe1xuICAgIGZvciAodmFyIGk9MDsgaTxzY2hlbWEubGVuZ3RoOyBpKyspIHRoaXMuYWRkU2NoZW1hKHNjaGVtYVtpXSwgdW5kZWZpbmVkLCBfc2tpcFZhbGlkYXRpb24sIF9tZXRhKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICB2YXIgaWQgPSB0aGlzLl9nZXRJZChzY2hlbWEpO1xuICBpZiAoaWQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgaWQgIT0gJ3N0cmluZycpXG4gICAgdGhyb3cgbmV3IEVycm9yKCdzY2hlbWEgaWQgbXVzdCBiZSBzdHJpbmcnKTtcbiAga2V5ID0gcmVzb2x2ZS5ub3JtYWxpemVJZChrZXkgfHwgaWQpO1xuICBjaGVja1VuaXF1ZSh0aGlzLCBrZXkpO1xuICB0aGlzLl9zY2hlbWFzW2tleV0gPSB0aGlzLl9hZGRTY2hlbWEoc2NoZW1hLCBfc2tpcFZhbGlkYXRpb24sIF9tZXRhLCB0cnVlKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cblxuLyoqXG4gKiBBZGQgc2NoZW1hIHRoYXQgd2lsbCBiZSB1c2VkIHRvIHZhbGlkYXRlIG90aGVyIHNjaGVtYXNcbiAqIG9wdGlvbnMgaW4gTUVUQV9JR05PUkVfT1BUSU9OUyBhcmUgYWx3YXkgc2V0IHRvIGZhbHNlXG4gKiBAdGhpcyAgIEFqdlxuICogQHBhcmFtIHtPYmplY3R9IHNjaGVtYSBzY2hlbWEgb2JqZWN0XG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5IG9wdGlvbmFsIHNjaGVtYSBrZXlcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gc2tpcFZhbGlkYXRpb24gdHJ1ZSB0byBza2lwIHNjaGVtYSB2YWxpZGF0aW9uLCBjYW4gYmUgdXNlZCB0byBvdmVycmlkZSB2YWxpZGF0ZVNjaGVtYSBvcHRpb24gZm9yIG1ldGEtc2NoZW1hXG4gKiBAcmV0dXJuIHtBanZ9IHRoaXMgZm9yIG1ldGhvZCBjaGFpbmluZ1xuICovXG5mdW5jdGlvbiBhZGRNZXRhU2NoZW1hKHNjaGVtYSwga2V5LCBza2lwVmFsaWRhdGlvbikge1xuICB0aGlzLmFkZFNjaGVtYShzY2hlbWEsIGtleSwgc2tpcFZhbGlkYXRpb24sIHRydWUpO1xuICByZXR1cm4gdGhpcztcbn1cblxuXG4vKipcbiAqIFZhbGlkYXRlIHNjaGVtYVxuICogQHRoaXMgICBBanZcbiAqIEBwYXJhbSB7T2JqZWN0fSBzY2hlbWEgc2NoZW1hIHRvIHZhbGlkYXRlXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHRocm93T3JMb2dFcnJvciBwYXNzIHRydWUgdG8gdGhyb3cgKG9yIGxvZykgYW4gZXJyb3IgaWYgaW52YWxpZFxuICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBzY2hlbWEgaXMgdmFsaWRcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVTY2hlbWEoc2NoZW1hLCB0aHJvd09yTG9nRXJyb3IpIHtcbiAgdmFyICRzY2hlbWEgPSBzY2hlbWEuJHNjaGVtYTtcbiAgaWYgKCRzY2hlbWEgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgJHNjaGVtYSAhPSAnc3RyaW5nJylcbiAgICB0aHJvdyBuZXcgRXJyb3IoJyRzY2hlbWEgbXVzdCBiZSBhIHN0cmluZycpO1xuICAkc2NoZW1hID0gJHNjaGVtYSB8fCB0aGlzLl9vcHRzLmRlZmF1bHRNZXRhIHx8IGRlZmF1bHRNZXRhKHRoaXMpO1xuICBpZiAoISRzY2hlbWEpIHtcbiAgICB0aGlzLmxvZ2dlci53YXJuKCdtZXRhLXNjaGVtYSBub3QgYXZhaWxhYmxlJyk7XG4gICAgdGhpcy5lcnJvcnMgPSBudWxsO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciB2YWxpZCA9IHRoaXMudmFsaWRhdGUoJHNjaGVtYSwgc2NoZW1hKTtcbiAgaWYgKCF2YWxpZCAmJiB0aHJvd09yTG9nRXJyb3IpIHtcbiAgICB2YXIgbWVzc2FnZSA9ICdzY2hlbWEgaXMgaW52YWxpZDogJyArIHRoaXMuZXJyb3JzVGV4dCgpO1xuICAgIGlmICh0aGlzLl9vcHRzLnZhbGlkYXRlU2NoZW1hID09ICdsb2cnKSB0aGlzLmxvZ2dlci5lcnJvcihtZXNzYWdlKTtcbiAgICBlbHNlIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgfVxuICByZXR1cm4gdmFsaWQ7XG59XG5cblxuZnVuY3Rpb24gZGVmYXVsdE1ldGEoc2VsZikge1xuICB2YXIgbWV0YSA9IHNlbGYuX29wdHMubWV0YTtcbiAgc2VsZi5fb3B0cy5kZWZhdWx0TWV0YSA9IHR5cGVvZiBtZXRhID09ICdvYmplY3QnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZWxmLl9nZXRJZChtZXRhKSB8fCBtZXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzZWxmLmdldFNjaGVtYShNRVRBX1NDSEVNQV9JRClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gTUVUQV9TQ0hFTUFfSURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICByZXR1cm4gc2VsZi5fb3B0cy5kZWZhdWx0TWV0YTtcbn1cblxuXG4vKipcbiAqIEdldCBjb21waWxlZCBzY2hlbWEgZnJvbSB0aGUgaW5zdGFuY2UgYnkgYGtleWAgb3IgYHJlZmAuXG4gKiBAdGhpcyAgIEFqdlxuICogQHBhcmFtICB7U3RyaW5nfSBrZXlSZWYgYGtleWAgdGhhdCB3YXMgcGFzc2VkIHRvIGBhZGRTY2hlbWFgIG9yIGZ1bGwgc2NoZW1hIHJlZmVyZW5jZSAoYHNjaGVtYS5pZGAgb3IgcmVzb2x2ZWQgaWQpLlxuICogQHJldHVybiB7RnVuY3Rpb259IHNjaGVtYSB2YWxpZGF0aW5nIGZ1bmN0aW9uICh3aXRoIHByb3BlcnR5IGBzY2hlbWFgKS5cbiAqL1xuZnVuY3Rpb24gZ2V0U2NoZW1hKGtleVJlZikge1xuICB2YXIgc2NoZW1hT2JqID0gX2dldFNjaGVtYU9iaih0aGlzLCBrZXlSZWYpO1xuICBzd2l0Y2ggKHR5cGVvZiBzY2hlbWFPYmopIHtcbiAgICBjYXNlICdvYmplY3QnOiByZXR1cm4gc2NoZW1hT2JqLnZhbGlkYXRlIHx8IHRoaXMuX2NvbXBpbGUoc2NoZW1hT2JqKTtcbiAgICBjYXNlICdzdHJpbmcnOiByZXR1cm4gdGhpcy5nZXRTY2hlbWEoc2NoZW1hT2JqKTtcbiAgICBjYXNlICd1bmRlZmluZWQnOiByZXR1cm4gX2dldFNjaGVtYUZyYWdtZW50KHRoaXMsIGtleVJlZik7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBfZ2V0U2NoZW1hRnJhZ21lbnQoc2VsZiwgcmVmKSB7XG4gIHZhciByZXMgPSByZXNvbHZlLnNjaGVtYS5jYWxsKHNlbGYsIHsgc2NoZW1hOiB7fSB9LCByZWYpO1xuICBpZiAocmVzKSB7XG4gICAgdmFyIHNjaGVtYSA9IHJlcy5zY2hlbWFcbiAgICAgICwgcm9vdCA9IHJlcy5yb290XG4gICAgICAsIGJhc2VJZCA9IHJlcy5iYXNlSWQ7XG4gICAgdmFyIHYgPSBjb21waWxlU2NoZW1hLmNhbGwoc2VsZiwgc2NoZW1hLCByb290LCB1bmRlZmluZWQsIGJhc2VJZCk7XG4gICAgc2VsZi5fZnJhZ21lbnRzW3JlZl0gPSBuZXcgU2NoZW1hT2JqZWN0KHtcbiAgICAgIHJlZjogcmVmLFxuICAgICAgZnJhZ21lbnQ6IHRydWUsXG4gICAgICBzY2hlbWE6IHNjaGVtYSxcbiAgICAgIHJvb3Q6IHJvb3QsXG4gICAgICBiYXNlSWQ6IGJhc2VJZCxcbiAgICAgIHZhbGlkYXRlOiB2XG4gICAgfSk7XG4gICAgcmV0dXJuIHY7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBfZ2V0U2NoZW1hT2JqKHNlbGYsIGtleVJlZikge1xuICBrZXlSZWYgPSByZXNvbHZlLm5vcm1hbGl6ZUlkKGtleVJlZik7XG4gIHJldHVybiBzZWxmLl9zY2hlbWFzW2tleVJlZl0gfHwgc2VsZi5fcmVmc1trZXlSZWZdIHx8IHNlbGYuX2ZyYWdtZW50c1trZXlSZWZdO1xufVxuXG5cbi8qKlxuICogUmVtb3ZlIGNhY2hlZCBzY2hlbWEocykuXG4gKiBJZiBubyBwYXJhbWV0ZXIgaXMgcGFzc2VkIGFsbCBzY2hlbWFzIGJ1dCBtZXRhLXNjaGVtYXMgYXJlIHJlbW92ZWQuXG4gKiBJZiBSZWdFeHAgaXMgcGFzc2VkIGFsbCBzY2hlbWFzIHdpdGgga2V5L2lkIG1hdGNoaW5nIHBhdHRlcm4gYnV0IG1ldGEtc2NoZW1hcyBhcmUgcmVtb3ZlZC5cbiAqIEV2ZW4gaWYgc2NoZW1hIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgc2NoZW1hcyBpdCBzdGlsbCBjYW4gYmUgcmVtb3ZlZCBhcyBvdGhlciBzY2hlbWFzIGhhdmUgbG9jYWwgcmVmZXJlbmNlcy5cbiAqIEB0aGlzICAgQWp2XG4gKiBAcGFyYW0gIHtTdHJpbmd8T2JqZWN0fFJlZ0V4cH0gc2NoZW1hS2V5UmVmIGtleSwgcmVmLCBwYXR0ZXJuIHRvIG1hdGNoIGtleS9yZWYgb3Igc2NoZW1hIG9iamVjdFxuICogQHJldHVybiB7QWp2fSB0aGlzIGZvciBtZXRob2QgY2hhaW5pbmdcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlU2NoZW1hKHNjaGVtYUtleVJlZikge1xuICBpZiAoc2NoZW1hS2V5UmVmIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgX3JlbW92ZUFsbFNjaGVtYXModGhpcywgdGhpcy5fc2NoZW1hcywgc2NoZW1hS2V5UmVmKTtcbiAgICBfcmVtb3ZlQWxsU2NoZW1hcyh0aGlzLCB0aGlzLl9yZWZzLCBzY2hlbWFLZXlSZWYpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHN3aXRjaCAodHlwZW9mIHNjaGVtYUtleVJlZikge1xuICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICBfcmVtb3ZlQWxsU2NoZW1hcyh0aGlzLCB0aGlzLl9zY2hlbWFzKTtcbiAgICAgIF9yZW1vdmVBbGxTY2hlbWFzKHRoaXMsIHRoaXMuX3JlZnMpO1xuICAgICAgdGhpcy5fY2FjaGUuY2xlYXIoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICB2YXIgc2NoZW1hT2JqID0gX2dldFNjaGVtYU9iaih0aGlzLCBzY2hlbWFLZXlSZWYpO1xuICAgICAgaWYgKHNjaGVtYU9iaikgdGhpcy5fY2FjaGUuZGVsKHNjaGVtYU9iai5jYWNoZUtleSk7XG4gICAgICBkZWxldGUgdGhpcy5fc2NoZW1hc1tzY2hlbWFLZXlSZWZdO1xuICAgICAgZGVsZXRlIHRoaXMuX3JlZnNbc2NoZW1hS2V5UmVmXTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICB2YXIgc2VyaWFsaXplID0gdGhpcy5fb3B0cy5zZXJpYWxpemU7XG4gICAgICB2YXIgY2FjaGVLZXkgPSBzZXJpYWxpemUgPyBzZXJpYWxpemUoc2NoZW1hS2V5UmVmKSA6IHNjaGVtYUtleVJlZjtcbiAgICAgIHRoaXMuX2NhY2hlLmRlbChjYWNoZUtleSk7XG4gICAgICB2YXIgaWQgPSB0aGlzLl9nZXRJZChzY2hlbWFLZXlSZWYpO1xuICAgICAgaWYgKGlkKSB7XG4gICAgICAgIGlkID0gcmVzb2x2ZS5ub3JtYWxpemVJZChpZCk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9zY2hlbWFzW2lkXTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3JlZnNbaWRdO1xuICAgICAgfVxuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG5cbmZ1bmN0aW9uIF9yZW1vdmVBbGxTY2hlbWFzKHNlbGYsIHNjaGVtYXMsIHJlZ2V4KSB7XG4gIGZvciAodmFyIGtleVJlZiBpbiBzY2hlbWFzKSB7XG4gICAgdmFyIHNjaGVtYU9iaiA9IHNjaGVtYXNba2V5UmVmXTtcbiAgICBpZiAoIXNjaGVtYU9iai5tZXRhICYmICghcmVnZXggfHwgcmVnZXgudGVzdChrZXlSZWYpKSkge1xuICAgICAgc2VsZi5fY2FjaGUuZGVsKHNjaGVtYU9iai5jYWNoZUtleSk7XG4gICAgICBkZWxldGUgc2NoZW1hc1trZXlSZWZdO1xuICAgIH1cbiAgfVxufVxuXG5cbi8qIEB0aGlzICAgQWp2ICovXG5mdW5jdGlvbiBfYWRkU2NoZW1hKHNjaGVtYSwgc2tpcFZhbGlkYXRpb24sIG1ldGEsIHNob3VsZEFkZFNjaGVtYSkge1xuICBpZiAodHlwZW9mIHNjaGVtYSAhPSAnb2JqZWN0JyAmJiB0eXBlb2Ygc2NoZW1hICE9ICdib29sZWFuJylcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NjaGVtYSBzaG91bGQgYmUgb2JqZWN0IG9yIGJvb2xlYW4nKTtcbiAgdmFyIHNlcmlhbGl6ZSA9IHRoaXMuX29wdHMuc2VyaWFsaXplO1xuICB2YXIgY2FjaGVLZXkgPSBzZXJpYWxpemUgPyBzZXJpYWxpemUoc2NoZW1hKSA6IHNjaGVtYTtcbiAgdmFyIGNhY2hlZCA9IHRoaXMuX2NhY2hlLmdldChjYWNoZUtleSk7XG4gIGlmIChjYWNoZWQpIHJldHVybiBjYWNoZWQ7XG5cbiAgc2hvdWxkQWRkU2NoZW1hID0gc2hvdWxkQWRkU2NoZW1hIHx8IHRoaXMuX29wdHMuYWRkVXNlZFNjaGVtYSAhPT0gZmFsc2U7XG5cbiAgdmFyIGlkID0gcmVzb2x2ZS5ub3JtYWxpemVJZCh0aGlzLl9nZXRJZChzY2hlbWEpKTtcbiAgaWYgKGlkICYmIHNob3VsZEFkZFNjaGVtYSkgY2hlY2tVbmlxdWUodGhpcywgaWQpO1xuXG4gIHZhciB3aWxsVmFsaWRhdGUgPSB0aGlzLl9vcHRzLnZhbGlkYXRlU2NoZW1hICE9PSBmYWxzZSAmJiAhc2tpcFZhbGlkYXRpb247XG4gIHZhciByZWN1cnNpdmVNZXRhO1xuICBpZiAod2lsbFZhbGlkYXRlICYmICEocmVjdXJzaXZlTWV0YSA9IGlkICYmIGlkID09IHJlc29sdmUubm9ybWFsaXplSWQoc2NoZW1hLiRzY2hlbWEpKSlcbiAgICB0aGlzLnZhbGlkYXRlU2NoZW1hKHNjaGVtYSwgdHJ1ZSk7XG5cbiAgdmFyIGxvY2FsUmVmcyA9IHJlc29sdmUuaWRzLmNhbGwodGhpcywgc2NoZW1hKTtcblxuICB2YXIgc2NoZW1hT2JqID0gbmV3IFNjaGVtYU9iamVjdCh7XG4gICAgaWQ6IGlkLFxuICAgIHNjaGVtYTogc2NoZW1hLFxuICAgIGxvY2FsUmVmczogbG9jYWxSZWZzLFxuICAgIGNhY2hlS2V5OiBjYWNoZUtleSxcbiAgICBtZXRhOiBtZXRhXG4gIH0pO1xuXG4gIGlmIChpZFswXSAhPSAnIycgJiYgc2hvdWxkQWRkU2NoZW1hKSB0aGlzLl9yZWZzW2lkXSA9IHNjaGVtYU9iajtcbiAgdGhpcy5fY2FjaGUucHV0KGNhY2hlS2V5LCBzY2hlbWFPYmopO1xuXG4gIGlmICh3aWxsVmFsaWRhdGUgJiYgcmVjdXJzaXZlTWV0YSkgdGhpcy52YWxpZGF0ZVNjaGVtYShzY2hlbWEsIHRydWUpO1xuXG4gIHJldHVybiBzY2hlbWFPYmo7XG59XG5cblxuLyogQHRoaXMgICBBanYgKi9cbmZ1bmN0aW9uIF9jb21waWxlKHNjaGVtYU9iaiwgcm9vdCkge1xuICBpZiAoc2NoZW1hT2JqLmNvbXBpbGluZykge1xuICAgIHNjaGVtYU9iai52YWxpZGF0ZSA9IGNhbGxWYWxpZGF0ZTtcbiAgICBjYWxsVmFsaWRhdGUuc2NoZW1hID0gc2NoZW1hT2JqLnNjaGVtYTtcbiAgICBjYWxsVmFsaWRhdGUuZXJyb3JzID0gbnVsbDtcbiAgICBjYWxsVmFsaWRhdGUucm9vdCA9IHJvb3QgPyByb290IDogY2FsbFZhbGlkYXRlO1xuICAgIGlmIChzY2hlbWFPYmouc2NoZW1hLiRhc3luYyA9PT0gdHJ1ZSlcbiAgICAgIGNhbGxWYWxpZGF0ZS4kYXN5bmMgPSB0cnVlO1xuICAgIHJldHVybiBjYWxsVmFsaWRhdGU7XG4gIH1cbiAgc2NoZW1hT2JqLmNvbXBpbGluZyA9IHRydWU7XG5cbiAgdmFyIGN1cnJlbnRPcHRzO1xuICBpZiAoc2NoZW1hT2JqLm1ldGEpIHtcbiAgICBjdXJyZW50T3B0cyA9IHRoaXMuX29wdHM7XG4gICAgdGhpcy5fb3B0cyA9IHRoaXMuX21ldGFPcHRzO1xuICB9XG5cbiAgdmFyIHY7XG4gIHRyeSB7IHYgPSBjb21waWxlU2NoZW1hLmNhbGwodGhpcywgc2NoZW1hT2JqLnNjaGVtYSwgcm9vdCwgc2NoZW1hT2JqLmxvY2FsUmVmcyk7IH1cbiAgY2F0Y2goZSkge1xuICAgIGRlbGV0ZSBzY2hlbWFPYmoudmFsaWRhdGU7XG4gICAgdGhyb3cgZTtcbiAgfVxuICBmaW5hbGx5IHtcbiAgICBzY2hlbWFPYmouY29tcGlsaW5nID0gZmFsc2U7XG4gICAgaWYgKHNjaGVtYU9iai5tZXRhKSB0aGlzLl9vcHRzID0gY3VycmVudE9wdHM7XG4gIH1cblxuICBzY2hlbWFPYmoudmFsaWRhdGUgPSB2O1xuICBzY2hlbWFPYmoucmVmcyA9IHYucmVmcztcbiAgc2NoZW1hT2JqLnJlZlZhbCA9IHYucmVmVmFsO1xuICBzY2hlbWFPYmoucm9vdCA9IHYucm9vdDtcbiAgcmV0dXJuIHY7XG5cblxuICAvKiBAdGhpcyAgIHsqfSAtIGN1c3RvbSBjb250ZXh0LCBzZWUgcGFzc0NvbnRleHQgb3B0aW9uICovXG4gIGZ1bmN0aW9uIGNhbGxWYWxpZGF0ZSgpIHtcbiAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gICAgdmFyIF92YWxpZGF0ZSA9IHNjaGVtYU9iai52YWxpZGF0ZTtcbiAgICB2YXIgcmVzdWx0ID0gX3ZhbGlkYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgY2FsbFZhbGlkYXRlLmVycm9ycyA9IF92YWxpZGF0ZS5lcnJvcnM7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGNob29zZUdldElkKG9wdHMpIHtcbiAgc3dpdGNoIChvcHRzLnNjaGVtYUlkKSB7XG4gICAgY2FzZSAnYXV0byc6IHJldHVybiBfZ2V0JElkT3JJZDtcbiAgICBjYXNlICdpZCc6IHJldHVybiBfZ2V0SWQ7XG4gICAgZGVmYXVsdDogcmV0dXJuIF9nZXQkSWQ7XG4gIH1cbn1cblxuLyogQHRoaXMgICBBanYgKi9cbmZ1bmN0aW9uIF9nZXRJZChzY2hlbWEpIHtcbiAgaWYgKHNjaGVtYS4kaWQpIHRoaXMubG9nZ2VyLndhcm4oJ3NjaGVtYSAkaWQgaWdub3JlZCcsIHNjaGVtYS4kaWQpO1xuICByZXR1cm4gc2NoZW1hLmlkO1xufVxuXG4vKiBAdGhpcyAgIEFqdiAqL1xuZnVuY3Rpb24gX2dldCRJZChzY2hlbWEpIHtcbiAgaWYgKHNjaGVtYS5pZCkgdGhpcy5sb2dnZXIud2Fybignc2NoZW1hIGlkIGlnbm9yZWQnLCBzY2hlbWEuaWQpO1xuICByZXR1cm4gc2NoZW1hLiRpZDtcbn1cblxuXG5mdW5jdGlvbiBfZ2V0JElkT3JJZChzY2hlbWEpIHtcbiAgaWYgKHNjaGVtYS4kaWQgJiYgc2NoZW1hLmlkICYmIHNjaGVtYS4kaWQgIT0gc2NoZW1hLmlkKVxuICAgIHRocm93IG5ldyBFcnJvcignc2NoZW1hICRpZCBpcyBkaWZmZXJlbnQgZnJvbSBpZCcpO1xuICByZXR1cm4gc2NoZW1hLiRpZCB8fCBzY2hlbWEuaWQ7XG59XG5cblxuLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIGVycm9yIG1lc3NhZ2Ugb2JqZWN0cyB0byBzdHJpbmdcbiAqIEB0aGlzICAgQWp2XG4gKiBAcGFyYW0gIHtBcnJheTxPYmplY3Q+fSBlcnJvcnMgb3B0aW9uYWwgYXJyYXkgb2YgdmFsaWRhdGlvbiBlcnJvcnMsIGlmIG5vdCBwYXNzZWQgZXJyb3JzIGZyb20gdGhlIGluc3RhbmNlIGFyZSB1c2VkLlxuICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zIG9wdGlvbmFsIG9wdGlvbnMgd2l0aCBwcm9wZXJ0aWVzIGBzZXBhcmF0b3JgIGFuZCBgZGF0YVZhcmAuXG4gKiBAcmV0dXJuIHtTdHJpbmd9IGh1bWFuIHJlYWRhYmxlIHN0cmluZyB3aXRoIGFsbCBlcnJvcnMgZGVzY3JpcHRpb25zXG4gKi9cbmZ1bmN0aW9uIGVycm9yc1RleHQoZXJyb3JzLCBvcHRpb25zKSB7XG4gIGVycm9ycyA9IGVycm9ycyB8fCB0aGlzLmVycm9ycztcbiAgaWYgKCFlcnJvcnMpIHJldHVybiAnTm8gZXJyb3JzJztcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBzZXBhcmF0b3IgPSBvcHRpb25zLnNlcGFyYXRvciA9PT0gdW5kZWZpbmVkID8gJywgJyA6IG9wdGlvbnMuc2VwYXJhdG9yO1xuICB2YXIgZGF0YVZhciA9IG9wdGlvbnMuZGF0YVZhciA9PT0gdW5kZWZpbmVkID8gJ2RhdGEnIDogb3B0aW9ucy5kYXRhVmFyO1xuXG4gIHZhciB0ZXh0ID0gJyc7XG4gIGZvciAodmFyIGk9MDsgaTxlcnJvcnMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZSA9IGVycm9yc1tpXTtcbiAgICBpZiAoZSkgdGV4dCArPSBkYXRhVmFyICsgZS5kYXRhUGF0aCArICcgJyArIGUubWVzc2FnZSArIHNlcGFyYXRvcjtcbiAgfVxuICByZXR1cm4gdGV4dC5zbGljZSgwLCAtc2VwYXJhdG9yLmxlbmd0aCk7XG59XG5cblxuLyoqXG4gKiBBZGQgY3VzdG9tIGZvcm1hdFxuICogQHRoaXMgICBBanZcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIGZvcm1hdCBuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB8RnVuY3Rpb259IGZvcm1hdCBzdHJpbmcgaXMgY29udmVydGVkIHRvIFJlZ0V4cDsgZnVuY3Rpb24gc2hvdWxkIHJldHVybiBib29sZWFuICh0cnVlIHdoZW4gdmFsaWQpXG4gKiBAcmV0dXJuIHtBanZ9IHRoaXMgZm9yIG1ldGhvZCBjaGFpbmluZ1xuICovXG5mdW5jdGlvbiBhZGRGb3JtYXQobmFtZSwgZm9ybWF0KSB7XG4gIGlmICh0eXBlb2YgZm9ybWF0ID09ICdzdHJpbmcnKSBmb3JtYXQgPSBuZXcgUmVnRXhwKGZvcm1hdCk7XG4gIHRoaXMuX2Zvcm1hdHNbbmFtZV0gPSBmb3JtYXQ7XG4gIHJldHVybiB0aGlzO1xufVxuXG5cbmZ1bmN0aW9uIGFkZERlZmF1bHRNZXRhU2NoZW1hKHNlbGYpIHtcbiAgdmFyICRkYXRhU2NoZW1hO1xuICBpZiAoc2VsZi5fb3B0cy4kZGF0YSkge1xuICAgICRkYXRhU2NoZW1hID0gcmVxdWlyZSgnLi9yZWZzL2RhdGEuanNvbicpO1xuICAgIHNlbGYuYWRkTWV0YVNjaGVtYSgkZGF0YVNjaGVtYSwgJGRhdGFTY2hlbWEuJGlkLCB0cnVlKTtcbiAgfVxuICBpZiAoc2VsZi5fb3B0cy5tZXRhID09PSBmYWxzZSkgcmV0dXJuO1xuICB2YXIgbWV0YVNjaGVtYSA9IHJlcXVpcmUoJy4vcmVmcy9qc29uLXNjaGVtYS1kcmFmdC0wNy5qc29uJyk7XG4gIGlmIChzZWxmLl9vcHRzLiRkYXRhKSBtZXRhU2NoZW1hID0gJGRhdGFNZXRhU2NoZW1hKG1ldGFTY2hlbWEsIE1FVEFfU1VQUE9SVF9EQVRBKTtcbiAgc2VsZi5hZGRNZXRhU2NoZW1hKG1ldGFTY2hlbWEsIE1FVEFfU0NIRU1BX0lELCB0cnVlKTtcbiAgc2VsZi5fcmVmc1snaHR0cDovL2pzb24tc2NoZW1hLm9yZy9zY2hlbWEnXSA9IE1FVEFfU0NIRU1BX0lEO1xufVxuXG5cbmZ1bmN0aW9uIGFkZEluaXRpYWxTY2hlbWFzKHNlbGYpIHtcbiAgdmFyIG9wdHNTY2hlbWFzID0gc2VsZi5fb3B0cy5zY2hlbWFzO1xuICBpZiAoIW9wdHNTY2hlbWFzKSByZXR1cm47XG4gIGlmIChBcnJheS5pc0FycmF5KG9wdHNTY2hlbWFzKSkgc2VsZi5hZGRTY2hlbWEob3B0c1NjaGVtYXMpO1xuICBlbHNlIGZvciAodmFyIGtleSBpbiBvcHRzU2NoZW1hcykgc2VsZi5hZGRTY2hlbWEob3B0c1NjaGVtYXNba2V5XSwga2V5KTtcbn1cblxuXG5mdW5jdGlvbiBhZGRJbml0aWFsRm9ybWF0cyhzZWxmKSB7XG4gIGZvciAodmFyIG5hbWUgaW4gc2VsZi5fb3B0cy5mb3JtYXRzKSB7XG4gICAgdmFyIGZvcm1hdCA9IHNlbGYuX29wdHMuZm9ybWF0c1tuYW1lXTtcbiAgICBzZWxmLmFkZEZvcm1hdChuYW1lLCBmb3JtYXQpO1xuICB9XG59XG5cblxuZnVuY3Rpb24gYWRkSW5pdGlhbEtleXdvcmRzKHNlbGYpIHtcbiAgZm9yICh2YXIgbmFtZSBpbiBzZWxmLl9vcHRzLmtleXdvcmRzKSB7XG4gICAgdmFyIGtleXdvcmQgPSBzZWxmLl9vcHRzLmtleXdvcmRzW25hbWVdO1xuICAgIHNlbGYuYWRkS2V5d29yZChuYW1lLCBrZXl3b3JkKTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGNoZWNrVW5pcXVlKHNlbGYsIGlkKSB7XG4gIGlmIChzZWxmLl9zY2hlbWFzW2lkXSB8fCBzZWxmLl9yZWZzW2lkXSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NjaGVtYSB3aXRoIGtleSBvciBpZCBcIicgKyBpZCArICdcIiBhbHJlYWR5IGV4aXN0cycpO1xufVxuXG5cbmZ1bmN0aW9uIGdldE1ldGFTY2hlbWFPcHRpb25zKHNlbGYpIHtcbiAgdmFyIG1ldGFPcHRzID0gdXRpbC5jb3B5KHNlbGYuX29wdHMpO1xuICBmb3IgKHZhciBpPTA7IGk8TUVUQV9JR05PUkVfT1BUSU9OUy5sZW5ndGg7IGkrKylcbiAgICBkZWxldGUgbWV0YU9wdHNbTUVUQV9JR05PUkVfT1BUSU9OU1tpXV07XG4gIHJldHVybiBtZXRhT3B0cztcbn1cblxuXG5mdW5jdGlvbiBzZXRMb2dnZXIoc2VsZikge1xuICB2YXIgbG9nZ2VyID0gc2VsZi5fb3B0cy5sb2dnZXI7XG4gIGlmIChsb2dnZXIgPT09IGZhbHNlKSB7XG4gICAgc2VsZi5sb2dnZXIgPSB7bG9nOiBub29wLCB3YXJuOiBub29wLCBlcnJvcjogbm9vcH07XG4gIH0gZWxzZSB7XG4gICAgaWYgKGxvZ2dlciA9PT0gdW5kZWZpbmVkKSBsb2dnZXIgPSBjb25zb2xlO1xuICAgIGlmICghKHR5cGVvZiBsb2dnZXIgPT0gJ29iamVjdCcgJiYgbG9nZ2VyLmxvZyAmJiBsb2dnZXIud2FybiAmJiBsb2dnZXIuZXJyb3IpKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdsb2dnZXIgbXVzdCBpbXBsZW1lbnQgbG9nLCB3YXJuIGFuZCBlcnJvciBtZXRob2RzJyk7XG4gICAgc2VsZi5sb2dnZXIgPSBsb2dnZXI7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBub29wKCkge31cbiIsImltcG9ydCB7IG1lcmdlQ2FwYWJpbGl0aWVzLCBQcm90b2NvbCwgfSBmcm9tIFwiLi4vc2hhcmVkL3Byb3RvY29sLmpzXCI7XG5pbXBvcnQgeyBDcmVhdGVNZXNzYWdlUmVzdWx0U2NoZW1hLCBFbGljaXRSZXN1bHRTY2hlbWEsIEVtcHR5UmVzdWx0U2NoZW1hLCBJbml0aWFsaXplZE5vdGlmaWNhdGlvblNjaGVtYSwgSW5pdGlhbGl6ZVJlcXVlc3RTY2hlbWEsIExBVEVTVF9QUk9UT0NPTF9WRVJTSU9OLCBMaXN0Um9vdHNSZXN1bHRTY2hlbWEsIE1jcEVycm9yLCBFcnJvckNvZGUsIFNVUFBPUlRFRF9QUk9UT0NPTF9WRVJTSU9OUywgfSBmcm9tIFwiLi4vdHlwZXMuanNcIjtcbmltcG9ydCBBanYgZnJvbSBcImFqdlwiO1xuLyoqXG4gKiBBbiBNQ1Agc2VydmVyIG9uIHRvcCBvZiBhIHBsdWdnYWJsZSB0cmFuc3BvcnQuXG4gKlxuICogVGhpcyBzZXJ2ZXIgd2lsbCBhdXRvbWF0aWNhbGx5IHJlc3BvbmQgdG8gdGhlIGluaXRpYWxpemF0aW9uIGZsb3cgYXMgaW5pdGlhdGVkIGZyb20gdGhlIGNsaWVudC5cbiAqXG4gKiBUbyB1c2Ugd2l0aCBjdXN0b20gdHlwZXMsIGV4dGVuZCB0aGUgYmFzZSBSZXF1ZXN0L05vdGlmaWNhdGlvbi9SZXN1bHQgdHlwZXMgYW5kIHBhc3MgdGhlbSBhcyB0eXBlIHBhcmFtZXRlcnM6XG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogLy8gQ3VzdG9tIHNjaGVtYXNcbiAqIGNvbnN0IEN1c3RvbVJlcXVlc3RTY2hlbWEgPSBSZXF1ZXN0U2NoZW1hLmV4dGVuZCh7Li4ufSlcbiAqIGNvbnN0IEN1c3RvbU5vdGlmaWNhdGlvblNjaGVtYSA9IE5vdGlmaWNhdGlvblNjaGVtYS5leHRlbmQoey4uLn0pXG4gKiBjb25zdCBDdXN0b21SZXN1bHRTY2hlbWEgPSBSZXN1bHRTY2hlbWEuZXh0ZW5kKHsuLi59KVxuICpcbiAqIC8vIFR5cGUgYWxpYXNlc1xuICogdHlwZSBDdXN0b21SZXF1ZXN0ID0gei5pbmZlcjx0eXBlb2YgQ3VzdG9tUmVxdWVzdFNjaGVtYT5cbiAqIHR5cGUgQ3VzdG9tTm90aWZpY2F0aW9uID0gei5pbmZlcjx0eXBlb2YgQ3VzdG9tTm90aWZpY2F0aW9uU2NoZW1hPlxuICogdHlwZSBDdXN0b21SZXN1bHQgPSB6LmluZmVyPHR5cGVvZiBDdXN0b21SZXN1bHRTY2hlbWE+XG4gKlxuICogLy8gQ3JlYXRlIHR5cGVkIHNlcnZlclxuICogY29uc3Qgc2VydmVyID0gbmV3IFNlcnZlcjxDdXN0b21SZXF1ZXN0LCBDdXN0b21Ob3RpZmljYXRpb24sIEN1c3RvbVJlc3VsdD4oe1xuICogICBuYW1lOiBcIkN1c3RvbVNlcnZlclwiLFxuICogICB2ZXJzaW9uOiBcIjEuMC4wXCJcbiAqIH0pXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIFNlcnZlciBleHRlbmRzIFByb3RvY29sIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGlzIHNlcnZlciB3aXRoIHRoZSBnaXZlbiBuYW1lIGFuZCB2ZXJzaW9uIGluZm9ybWF0aW9uLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKF9zZXJ2ZXJJbmZvLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3NlcnZlckluZm8gPSBfc2VydmVySW5mbztcbiAgICAgICAgdGhpcy5fY2FwYWJpbGl0aWVzID0gKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmNhcGFiaWxpdGllcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge307XG4gICAgICAgIHRoaXMuX2luc3RydWN0aW9ucyA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5pbnN0cnVjdGlvbnM7XG4gICAgICAgIHRoaXMuc2V0UmVxdWVzdEhhbmRsZXIoSW5pdGlhbGl6ZVJlcXVlc3RTY2hlbWEsIChyZXF1ZXN0KSA9PiB0aGlzLl9vbmluaXRpYWxpemUocmVxdWVzdCkpO1xuICAgICAgICB0aGlzLnNldE5vdGlmaWNhdGlvbkhhbmRsZXIoSW5pdGlhbGl6ZWROb3RpZmljYXRpb25TY2hlbWEsICgpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gdGhpcy5vbmluaXRpYWxpemVkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh0aGlzKTsgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBuZXcgY2FwYWJpbGl0aWVzLiBUaGlzIGNhbiBvbmx5IGJlIGNhbGxlZCBiZWZvcmUgY29ubmVjdGluZyB0byBhIHRyYW5zcG9ydC5cbiAgICAgKlxuICAgICAqIFRoZSBuZXcgY2FwYWJpbGl0aWVzIHdpbGwgYmUgbWVyZ2VkIHdpdGggYW55IGV4aXN0aW5nIGNhcGFiaWxpdGllcyBwcmV2aW91c2x5IGdpdmVuIChlLmcuLCBhdCBpbml0aWFsaXphdGlvbikuXG4gICAgICovXG4gICAgcmVnaXN0ZXJDYXBhYmlsaXRpZXMoY2FwYWJpbGl0aWVzKSB7XG4gICAgICAgIGlmICh0aGlzLnRyYW5zcG9ydCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlZ2lzdGVyIGNhcGFiaWxpdGllcyBhZnRlciBjb25uZWN0aW5nIHRvIHRyYW5zcG9ydFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jYXBhYmlsaXRpZXMgPSBtZXJnZUNhcGFiaWxpdGllcyh0aGlzLl9jYXBhYmlsaXRpZXMsIGNhcGFiaWxpdGllcyk7XG4gICAgfVxuICAgIGFzc2VydENhcGFiaWxpdHlGb3JNZXRob2QobWV0aG9kKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBzd2l0Y2ggKG1ldGhvZCkge1xuICAgICAgICAgICAgY2FzZSBcInNhbXBsaW5nL2NyZWF0ZU1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICBpZiAoISgoX2EgPSB0aGlzLl9jbGllbnRDYXBhYmlsaXRpZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zYW1wbGluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDbGllbnQgZG9lcyBub3Qgc3VwcG9ydCBzYW1wbGluZyAocmVxdWlyZWQgZm9yICR7bWV0aG9kfSlgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZWxpY2l0YXRpb24vY3JlYXRlXCI6XG4gICAgICAgICAgICAgICAgaWYgKCEoKF9iID0gdGhpcy5fY2xpZW50Q2FwYWJpbGl0aWVzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZWxpY2l0YXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2xpZW50IGRvZXMgbm90IHN1cHBvcnQgZWxpY2l0YXRpb24gKHJlcXVpcmVkIGZvciAke21ldGhvZH0pYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInJvb3RzL2xpc3RcIjpcbiAgICAgICAgICAgICAgICBpZiAoISgoX2MgPSB0aGlzLl9jbGllbnRDYXBhYmlsaXRpZXMpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5yb290cykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDbGllbnQgZG9lcyBub3Qgc3VwcG9ydCBsaXN0aW5nIHJvb3RzIChyZXF1aXJlZCBmb3IgJHttZXRob2R9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJwaW5nXCI6XG4gICAgICAgICAgICAgICAgLy8gTm8gc3BlY2lmaWMgY2FwYWJpbGl0eSByZXF1aXJlZCBmb3IgcGluZ1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzc2VydE5vdGlmaWNhdGlvbkNhcGFiaWxpdHkobWV0aG9kKSB7XG4gICAgICAgIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgICAgICAgICBjYXNlIFwibm90aWZpY2F0aW9ucy9tZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jYXBhYmlsaXRpZXMubG9nZ2luZykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlcnZlciBkb2VzIG5vdCBzdXBwb3J0IGxvZ2dpbmcgKHJlcXVpcmVkIGZvciAke21ldGhvZH0pYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm5vdGlmaWNhdGlvbnMvcmVzb3VyY2VzL3VwZGF0ZWRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJub3RpZmljYXRpb25zL3Jlc291cmNlcy9saXN0X2NoYW5nZWRcIjpcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2NhcGFiaWxpdGllcy5yZXNvdXJjZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCBub3RpZnlpbmcgYWJvdXQgcmVzb3VyY2VzIChyZXF1aXJlZCBmb3IgJHttZXRob2R9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJub3RpZmljYXRpb25zL3Rvb2xzL2xpc3RfY2hhbmdlZFwiOlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY2FwYWJpbGl0aWVzLnRvb2xzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU2VydmVyIGRvZXMgbm90IHN1cHBvcnQgbm90aWZ5aW5nIG9mIHRvb2wgbGlzdCBjaGFuZ2VzIChyZXF1aXJlZCBmb3IgJHttZXRob2R9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJub3RpZmljYXRpb25zL3Byb21wdHMvbGlzdF9jaGFuZ2VkXCI6XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jYXBhYmlsaXRpZXMucHJvbXB0cykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlcnZlciBkb2VzIG5vdCBzdXBwb3J0IG5vdGlmeWluZyBvZiBwcm9tcHQgbGlzdCBjaGFuZ2VzIChyZXF1aXJlZCBmb3IgJHttZXRob2R9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJub3RpZmljYXRpb25zL2NhbmNlbGxlZFwiOlxuICAgICAgICAgICAgICAgIC8vIENhbmNlbGxhdGlvbiBub3RpZmljYXRpb25zIGFyZSBhbHdheXMgYWxsb3dlZFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm5vdGlmaWNhdGlvbnMvcHJvZ3Jlc3NcIjpcbiAgICAgICAgICAgICAgICAvLyBQcm9ncmVzcyBub3RpZmljYXRpb25zIGFyZSBhbHdheXMgYWxsb3dlZFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzc2VydFJlcXVlc3RIYW5kbGVyQ2FwYWJpbGl0eShtZXRob2QpIHtcbiAgICAgICAgc3dpdGNoIChtZXRob2QpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzYW1wbGluZy9jcmVhdGVNZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jYXBhYmlsaXRpZXMuc2FtcGxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCBzYW1wbGluZyAocmVxdWlyZWQgZm9yICR7bWV0aG9kfSlgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibG9nZ2luZy9zZXRMZXZlbFwiOlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY2FwYWJpbGl0aWVzLmxvZ2dpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCBsb2dnaW5nIChyZXF1aXJlZCBmb3IgJHttZXRob2R9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJwcm9tcHRzL2dldFwiOlxuICAgICAgICAgICAgY2FzZSBcInByb21wdHMvbGlzdFwiOlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY2FwYWJpbGl0aWVzLnByb21wdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCBwcm9tcHRzIChyZXF1aXJlZCBmb3IgJHttZXRob2R9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJyZXNvdXJjZXMvbGlzdFwiOlxuICAgICAgICAgICAgY2FzZSBcInJlc291cmNlcy90ZW1wbGF0ZXMvbGlzdFwiOlxuICAgICAgICAgICAgY2FzZSBcInJlc291cmNlcy9yZWFkXCI6XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jYXBhYmlsaXRpZXMucmVzb3VyY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU2VydmVyIGRvZXMgbm90IHN1cHBvcnQgcmVzb3VyY2VzIChyZXF1aXJlZCBmb3IgJHttZXRob2R9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ0b29scy9jYWxsXCI6XG4gICAgICAgICAgICBjYXNlIFwidG9vbHMvbGlzdFwiOlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY2FwYWJpbGl0aWVzLnRvb2xzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU2VydmVyIGRvZXMgbm90IHN1cHBvcnQgdG9vbHMgKHJlcXVpcmVkIGZvciAke21ldGhvZH0pYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInBpbmdcIjpcbiAgICAgICAgICAgIGNhc2UgXCJpbml0aWFsaXplXCI6XG4gICAgICAgICAgICAgICAgLy8gTm8gc3BlY2lmaWMgY2FwYWJpbGl0eSByZXF1aXJlZCBmb3IgdGhlc2UgbWV0aG9kc1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIF9vbmluaXRpYWxpemUocmVxdWVzdCkge1xuICAgICAgICBjb25zdCByZXF1ZXN0ZWRWZXJzaW9uID0gcmVxdWVzdC5wYXJhbXMucHJvdG9jb2xWZXJzaW9uO1xuICAgICAgICB0aGlzLl9jbGllbnRDYXBhYmlsaXRpZXMgPSByZXF1ZXN0LnBhcmFtcy5jYXBhYmlsaXRpZXM7XG4gICAgICAgIHRoaXMuX2NsaWVudFZlcnNpb24gPSByZXF1ZXN0LnBhcmFtcy5jbGllbnRJbmZvO1xuICAgICAgICBjb25zdCBwcm90b2NvbFZlcnNpb24gPSBTVVBQT1JURURfUFJPVE9DT0xfVkVSU0lPTlMuaW5jbHVkZXMocmVxdWVzdGVkVmVyc2lvbilcbiAgICAgICAgICAgID8gcmVxdWVzdGVkVmVyc2lvblxuICAgICAgICAgICAgOiBMQVRFU1RfUFJPVE9DT0xfVkVSU0lPTjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHByb3RvY29sVmVyc2lvbixcbiAgICAgICAgICAgIGNhcGFiaWxpdGllczogdGhpcy5nZXRDYXBhYmlsaXRpZXMoKSxcbiAgICAgICAgICAgIHNlcnZlckluZm86IHRoaXMuX3NlcnZlckluZm8sXG4gICAgICAgICAgICAuLi4odGhpcy5faW5zdHJ1Y3Rpb25zICYmIHsgaW5zdHJ1Y3Rpb25zOiB0aGlzLl9pbnN0cnVjdGlvbnMgfSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFmdGVyIGluaXRpYWxpemF0aW9uIGhhcyBjb21wbGV0ZWQsIHRoaXMgd2lsbCBiZSBwb3B1bGF0ZWQgd2l0aCB0aGUgY2xpZW50J3MgcmVwb3J0ZWQgY2FwYWJpbGl0aWVzLlxuICAgICAqL1xuICAgIGdldENsaWVudENhcGFiaWxpdGllcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudENhcGFiaWxpdGllcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWZ0ZXIgaW5pdGlhbGl6YXRpb24gaGFzIGNvbXBsZXRlZCwgdGhpcyB3aWxsIGJlIHBvcHVsYXRlZCB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjbGllbnQncyBuYW1lIGFuZCB2ZXJzaW9uLlxuICAgICAqL1xuICAgIGdldENsaWVudFZlcnNpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnRWZXJzaW9uO1xuICAgIH1cbiAgICBnZXRDYXBhYmlsaXRpZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYXBhYmlsaXRpZXM7XG4gICAgfVxuICAgIGFzeW5jIHBpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoeyBtZXRob2Q6IFwicGluZ1wiIH0sIEVtcHR5UmVzdWx0U2NoZW1hKTtcbiAgICB9XG4gICAgYXN5bmMgY3JlYXRlTWVzc2FnZShwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCh7IG1ldGhvZDogXCJzYW1wbGluZy9jcmVhdGVNZXNzYWdlXCIsIHBhcmFtcyB9LCBDcmVhdGVNZXNzYWdlUmVzdWx0U2NoZW1hLCBvcHRpb25zKTtcbiAgICB9XG4gICAgYXN5bmMgZWxpY2l0SW5wdXQocGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucmVxdWVzdCh7IG1ldGhvZDogXCJlbGljaXRhdGlvbi9jcmVhdGVcIiwgcGFyYW1zIH0sIEVsaWNpdFJlc3VsdFNjaGVtYSwgb3B0aW9ucyk7XG4gICAgICAgIC8vIFZhbGlkYXRlIHRoZSByZXNwb25zZSBjb250ZW50IGFnYWluc3QgdGhlIHJlcXVlc3RlZCBzY2hlbWEgaWYgYWN0aW9uIGlzIFwiYWNjZXB0XCJcbiAgICAgICAgaWYgKHJlc3VsdC5hY3Rpb24gPT09IFwiYWNjZXB0XCIgJiYgcmVzdWx0LmNvbnRlbnQpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWp2ID0gbmV3IEFqdigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRlID0gYWp2LmNvbXBpbGUocGFyYW1zLnJlcXVlc3RlZFNjaGVtYSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNWYWxpZCA9IHZhbGlkYXRlKHJlc3VsdC5jb250ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1jcEVycm9yKEVycm9yQ29kZS5JbnZhbGlkUGFyYW1zLCBgRWxpY2l0YXRpb24gcmVzcG9uc2UgY29udGVudCBkb2VzIG5vdCBtYXRjaCByZXF1ZXN0ZWQgc2NoZW1hOiAke2Fqdi5lcnJvcnNUZXh0KHZhbGlkYXRlLmVycm9ycyl9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgTWNwRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNY3BFcnJvcihFcnJvckNvZGUuSW50ZXJuYWxFcnJvciwgYEVycm9yIHZhbGlkYXRpbmcgZWxpY2l0YXRpb24gcmVzcG9uc2U6ICR7ZXJyb3J9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgYXN5bmMgbGlzdFJvb3RzKHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHsgbWV0aG9kOiBcInJvb3RzL2xpc3RcIiwgcGFyYW1zIH0sIExpc3RSb290c1Jlc3VsdFNjaGVtYSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGFzeW5jIHNlbmRMb2dnaW5nTWVzc2FnZShwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm90aWZpY2F0aW9uKHsgbWV0aG9kOiBcIm5vdGlmaWNhdGlvbnMvbWVzc2FnZVwiLCBwYXJhbXMgfSk7XG4gICAgfVxuICAgIGFzeW5jIHNlbmRSZXNvdXJjZVVwZGF0ZWQocGFyYW1zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vdGlmaWNhdGlvbih7XG4gICAgICAgICAgICBtZXRob2Q6IFwibm90aWZpY2F0aW9ucy9yZXNvdXJjZXMvdXBkYXRlZFwiLFxuICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgc2VuZFJlc291cmNlTGlzdENoYW5nZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vdGlmaWNhdGlvbih7XG4gICAgICAgICAgICBtZXRob2Q6IFwibm90aWZpY2F0aW9ucy9yZXNvdXJjZXMvbGlzdF9jaGFuZ2VkXCIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBzZW5kVG9vbExpc3RDaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ub3RpZmljYXRpb24oeyBtZXRob2Q6IFwibm90aWZpY2F0aW9ucy90b29scy9saXN0X2NoYW5nZWRcIiB9KTtcbiAgICB9XG4gICAgYXN5bmMgc2VuZFByb21wdExpc3RDaGFuZ2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ub3RpZmljYXRpb24oeyBtZXRob2Q6IFwibm90aWZpY2F0aW9ucy9wcm9tcHRzL2xpc3RfY2hhbmdlZFwiIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIi8qKlxuICogTm90aWZpY2F0aW9uUXVldWUgLSDpgJrnn6XpmJ/liJflkozkuovku7bliIblj5HlmahcbiAqIFxuICog57yT5a2Y6YCa55+l5raI5oGv5bm25YiG5Y+R57uZ55uR5ZCs5Zmo77yM5pSv5oyB5oyJIHJlcXVlc3RJZCDov4fmu6TjgIJcbiAqIFxuICogQGV4YW1wbGVcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNvbnN0IHF1ZXVlID0gbmV3IE5vdGlmaWNhdGlvblF1ZXVlKCk7XG4gKiBcbiAqIC8vIOa3u+WKoOebkeWQrOWZqFxuICogY29uc3QgbGlzdGVuZXIgPSAobm90aWZpY2F0aW9uKSA9PiBjb25zb2xlLmxvZygnUmVjZWl2ZWQ6Jywgbm90aWZpY2F0aW9uKTtcbiAqIHF1ZXVlLmFkZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAqIFxuICogLy8g5o6o6YCB6YCa55+l77yI5Lya56uL5Y2z5YiG5Y+R57uZ55uR5ZCs5Zmo77yJXG4gKiBxdWV1ZS5wdXNoKHtcbiAqICAgbWV0aG9kOiAnc2RwcHAvc3RyZWFtUmVzcG9uc2UnLFxuICogICBwYXJhbXM6IHsgcmVxdWVzdElkOiAncmVxXzEyMycsIGRhdGE6ICd0ZXN0JywgZXJyb3I6IG51bGwsIGZpbmlzaGVkOiBmYWxzZSB9XG4gKiB9KTtcbiAqIFxuICogLy8g6I635Y+W54m55a6a6K+35rGC55qE6YCa55+lXG4gKiBjb25zdCBub3RpZmljYXRpb25zID0gcXVldWUuZmlsdGVyQnlSZXF1ZXN0SWQoJ3JlcV8xMjMnKTtcbiAqIFxuICogLy8g5riF55CGXG4gKiBxdWV1ZS5yZW1vdmVCeVJlcXVlc3RJZCgncmVxXzEyMycpO1xuICogcXVldWUucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpO1xuICogYGBgXG4gKi9cblxuLy8g5paw5aKeIE5vdGlmaWNhdGlvblF1ZXVlIOexu1xuZXhwb3J0IGNsYXNzIE5vdGlmaWNhdGlvblF1ZXVlIHtcbiAgICBwcml2YXRlIHF1ZXVlOiBhbnlbXSA9IFtdO1xuICAgIHByaXZhdGUgbGlzdGVuZXJzOiAoKG1zZzogYW55KSA9PiB2b2lkKVtdID0gW107XG4gIFxuICAgIHB1c2gobm90aWZpY2F0aW9uOiBhbnkpIHtcbiAgICAgIHRoaXMucXVldWUucHVzaChub3RpZmljYXRpb24pO1xuICAgICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChmbiA9PiBmbihub3RpZmljYXRpb24pKTtcbiAgICB9XG4gIFxuICAgIGZpbHRlckJ5UmVxdWVzdElkKHJlcXVlc3RJZDogc3RyaW5nKSB7XG4gICAgICByZXR1cm4gdGhpcy5xdWV1ZS5maWx0ZXIobiA9PiBuLnBhcmFtcy5yZXF1ZXN0SWQgPT09IHJlcXVlc3RJZCk7XG4gICAgfVxuICBcbiAgICByZW1vdmVCeVJlcXVlc3RJZChyZXF1ZXN0SWQ6IHN0cmluZykge1xuICAgICAgdGhpcy5xdWV1ZSA9IHRoaXMucXVldWUuZmlsdGVyKG4gPT4gbi5wYXJhbXMucmVxdWVzdElkICE9PSByZXF1ZXN0SWQpO1xuICAgIH1cbiAgXG4gICAgYWRkTGlzdGVuZXIoZm46IChtc2c6IGFueSkgPT4gdm9pZCkge1xuICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChmbik7XG4gICAgfVxuICBcbiAgICByZW1vdmVMaXN0ZW5lcihmbjogKG1zZzogYW55KSA9PiB2b2lkKSB7XG4gICAgICBjb25zdCBpZHggPSB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGZuKTtcbiAgICAgIGlmIChpZHggIT09IC0xKSB0aGlzLmxpc3RlbmVycy5zcGxpY2UoaWR4LCAxKTtcbiAgICB9XG4gIH0iLCIvKipcbiAqIFN0cmVhbU1hbmFnZXIgLSDmtYHlk43lupTlj5HpgIHlmahcbiAqIFxuICog5bCB6KOF5ZCE56eN57G75Z6L55qE5rWB5ZON5bqU6YCa55+l5Y+R6YCB5Yqf6IO944CCXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjb25zdCBtYW5hZ2VyID0gbmV3IFN0cmVhbU1hbmFnZXIocHJvdG9jb2wpO1xuICogXG4gKiAvLyDlj5HpgIHmlbDmja5cbiAqIG1hbmFnZXIuc2VuZFN0cmVhbURhdGEoJ3JlcV8xMjMnLCB7IHByb2dyZXNzOiA1MCB9KTtcbiAqIFxuICogLy8g5Y+R6YCB5a6M5oiQXG4gKiBtYW5hZ2VyLnNlbmRGaW5pc2hlZFJlc3BvbnNlKCdyZXFfMTIzJyk7XG4gKiBcbiAqIC8vIOWPkemAgemUmeivr1xuICogbWFuYWdlci5zZW5kRXJyb3JSZXNwb25zZSgncmVxXzEyMycsICdQcm9jZXNzaW5nIGZhaWxlZCcpO1xuICogXG4gKiAvLyDlj5HpgIHkuK3mraJcbiAqIG1hbmFnZXIuc2VuZEFib3J0ZWRSZXNwb25zZSgncmVxXzEyMycpO1xuICogYGBgXG4gKi9cbmltcG9ydCB0eXBlIHsgUHJvdG9jb2wgfSBmcm9tIFwiQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay9zaGFyZWQvcHJvdG9jb2wudHNcIjtcblxuZXhwb3J0IGNsYXNzIFN0cmVhbU1hbmFnZXIge1xuICBwcml2YXRlIHByb3RvY29sOiBQcm90b2NvbDxhbnksIGFueSwgYW55PjtcblxuICBjb25zdHJ1Y3Rvcihwcm90b2NvbDogUHJvdG9jb2w8YW55LCBhbnksIGFueT4pIHtcbiAgICB0aGlzLnByb3RvY29sID0gcHJvdG9jb2w7XG4gIH1cblxuICAvKipcbiAgICog5Y+R6YCB5rWB5pWw5o2uXG4gICAqL1xuICBzZW5kU3RyZWFtRGF0YShyZXF1ZXN0SWQ6IHN0cmluZywgZGF0YTogYW55KSB7XG4gICAgdGhpcy5wcm90b2NvbC5ub3RpZmljYXRpb24oe1xuICAgICAgbWV0aG9kOiAnc2RwcHAvc3RyZWFtUmVzcG9uc2UnLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIHJlcXVlc3RJZCxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIGZpbmlzaGVkOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICog5Y+R6YCB5a6M5oiQ5ZON5bqUXG4gICAqL1xuICBzZW5kRmluaXNoZWRSZXNwb25zZShyZXF1ZXN0SWQ6IHN0cmluZykge1xuICAgIHRoaXMucHJvdG9jb2wubm90aWZpY2F0aW9uKHtcbiAgICAgIG1ldGhvZDogJ3NkcHBwL3N0cmVhbVJlc3BvbnNlJyxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICByZXF1ZXN0SWQsXG4gICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICBmaW5pc2hlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICog5Y+R6YCB5Lit5q2i5ZON5bqUXG4gICAqL1xuICBzZW5kQWJvcnRlZFJlc3BvbnNlKHJlcXVlc3RJZDogc3RyaW5nKSB7XG4gICAgdGhpcy5wcm90b2NvbC5ub3RpZmljYXRpb24oe1xuICAgICAgbWV0aG9kOiAnc2RwcHAvc3RyZWFtUmVzcG9uc2UnLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIHJlcXVlc3RJZCxcbiAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgZXJyb3I6ICdPcGVyYXRpb24gd2FzIGFib3J0ZWQnLFxuICAgICAgICBmaW5pc2hlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICog5Y+R6YCB6ZSZ6K+v5ZON5bqUXG4gICAqL1xuICBzZW5kRXJyb3JSZXNwb25zZShyZXF1ZXN0SWQ6IHN0cmluZywgZXJyb3I6IHN0cmluZykge1xuICAgIHRoaXMucHJvdG9jb2wubm90aWZpY2F0aW9uKHtcbiAgICAgIG1ldGhvZDogJ3NkcHBwL3N0cmVhbVJlc3BvbnNlJyxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICByZXF1ZXN0SWQsXG4gICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgIGVycm9yLFxuICAgICAgICBmaW5pc2hlZDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cbn0gIiwiLyoqXG4gKiBBY3Rpb25FeGVjdXRvciAtIOaJp+ihjOazqOWGjOeahCBhY3Rpb24g5aSE55CG5ZmoXG4gKiBcbiAqIOi0n+i0o+W8guatpeaJp+ihjCBhY3Rpb24g5aSE55CG5Zmo77yM5aSE55CG5rWB5pWw5o2u5bm25Y+R6YCB5ZON5bqU44CCXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBjb25zdCBleGVjdXRvciA9IG5ldyBBY3Rpb25FeGVjdXRvcihzdHJlYW1NYW5hZ2VyLCBydW5uaW5nUmVxdWVzdHMpO1xuICogXG4gKiAvLyDmiafooYzkuIDkuKogYWN0aW9uIOWkhOeQhuWZqFxuICogYXdhaXQgZXhlY3V0b3IuZXhlY3V0ZUhhbmRsZXJBc3luYyhcbiAqICAgJ3JlcV8xMjMnLFxuICogICBhc3luYyBmdW5jdGlvbiogaGFuZGxlcihwYXJhbXMsIGV4dHJhLCBzaWduYWwpIHtcbiAqICAgICB5aWVsZCB7IHByb2dyZXNzOiA1MCB9O1xuICogICAgIHlpZWxkIHsgcHJvZ3Jlc3M6IDEwMCB9O1xuICogICB9LFxuICogICB7IGFjdGlvbjogJ3Byb2Nlc3MnLCBkYXRhOiB7fSB9LFxuICogICB7fSxcbiAqICAgYWJvcnRDb250cm9sbGVyXG4gKiApO1xuICogYGBgXG4gKi9cbmltcG9ydCB7IFN0cmVhbU1hbmFnZXIgfSBmcm9tIFwiLi9TdHJlYW1NYW5hZ2VyLnRzXCI7XG5cbmV4cG9ydCBjbGFzcyBBY3Rpb25FeGVjdXRvciB7XG4gIHByaXZhdGUgc3RyZWFtTWFuYWdlcjogU3RyZWFtTWFuYWdlcjtcbiAgcHJpdmF0ZSBydW5uaW5nUmVxdWVzdHM6IE1hcDxzdHJpbmcsIEFib3J0Q29udHJvbGxlcj47XG5cbiAgY29uc3RydWN0b3Ioc3RyZWFtTWFuYWdlcjogU3RyZWFtTWFuYWdlciwgcnVubmluZ1JlcXVlc3RzOiBNYXA8c3RyaW5nLCBBYm9ydENvbnRyb2xsZXI+KSB7XG4gICAgdGhpcy5zdHJlYW1NYW5hZ2VyID0gc3RyZWFtTWFuYWdlcjtcbiAgICB0aGlzLnJ1bm5pbmdSZXF1ZXN0cyA9IHJ1bm5pbmdSZXF1ZXN0cztcbiAgfVxuXG4gIC8qKlxuICAgKiDlvILmraXmiafooYxhY3Rpb27lpITnkIblmahcbiAgICovXG4gIGFzeW5jIGV4ZWN1dGVIYW5kbGVyQXN5bmMoXG4gICAgcmVxdWVzdElkOiBzdHJpbmcsXG4gICAgaGFuZGxlcjogKHBhcmFtczogYW55LCBleHRyYTogYW55LCBzaWduYWw/OiBBYm9ydFNpZ25hbCkgPT4gQXN5bmNJdGVyYWJsZTxhbnk+LFxuICAgIHBhcmFtczogYW55LFxuICAgIGV4dHJhOiBhbnksXG4gICAgYWJvcnRDb250cm9sbGVyOiBBYm9ydENvbnRyb2xsZXJcbiAgKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMucHJvY2Vzc0hhbmRsZXJTdHJlYW0ocmVxdWVzdElkLCBoYW5kbGVyLCBwYXJhbXMsIGV4dHJhLCBhYm9ydENvbnRyb2xsZXIpO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICB0aGlzLnN0cmVhbU1hbmFnZXIuc2VuZEVycm9yUmVzcG9uc2UocmVxdWVzdElkLCBlcnI/Lm1lc3NhZ2UgfHwgU3RyaW5nKGVycikpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLnJ1bm5pbmdSZXF1ZXN0cy5kZWxldGUocmVxdWVzdElkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICog5aSE55CGaGFuZGxlcueahOa1gei+k+WHulxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBwcm9jZXNzSGFuZGxlclN0cmVhbShcbiAgICByZXF1ZXN0SWQ6IHN0cmluZyxcbiAgICBoYW5kbGVyOiAocGFyYW1zOiBhbnksIGV4dHJhOiBhbnksIHNpZ25hbD86IEFib3J0U2lnbmFsKSA9PiBBc3luY0l0ZXJhYmxlPGFueT4sXG4gICAgcGFyYW1zOiBhbnksXG4gICAgZXh0cmE6IGFueSxcbiAgICBhYm9ydENvbnRyb2xsZXI6IEFib3J0Q29udHJvbGxlclxuICApIHtcbiAgICBmb3IgYXdhaXQgKGNvbnN0IGl0ZW0gb2YgaGFuZGxlcihwYXJhbXMsIGV4dHJhLCBhYm9ydENvbnRyb2xsZXIuc2lnbmFsKSkge1xuICAgICAgaWYgKGFib3J0Q29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICB0aGlzLnN0cmVhbU1hbmFnZXIuc2VuZEFib3J0ZWRSZXNwb25zZShyZXF1ZXN0SWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnN0cmVhbU1hbmFnZXIuc2VuZFN0cmVhbURhdGEocmVxdWVzdElkLCBpdGVtKTtcbiAgICB9XG5cbiAgICBpZiAoIWFib3J0Q29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgdGhpcy5zdHJlYW1NYW5hZ2VyLnNlbmRGaW5pc2hlZFJlc3BvbnNlKHJlcXVlc3RJZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RyZWFtTWFuYWdlci5zZW5kQWJvcnRlZFJlc3BvbnNlKHJlcXVlc3RJZCk7XG4gICAgfVxuICB9XG59ICIsIi8qKlxuICogU3RyZWFtSXRlcmF0b3IgLSDlrqLmiLfnq6/mtYHlvI8gYWN0aW9uIOiwg+eUqOeuoeeQhuWZqFxuICogXG4gKiDliJvlu7rlvILmraXov63ku6PlmajvvIzlpITnkIblrqLmiLfnq6/liLDmnI3liqHnq6/nmoTmtYHlvI/or7fmsYLjgIJcbiAqIFxuICogQGV4YW1wbGVcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNvbnN0IGl0ZXJhdG9yID0gbmV3IFN0cmVhbUl0ZXJhdG9yKHByb3RvY29sLCBub3RpZmljYXRpb25RdWV1ZSk7XG4gKiBcbiAqIC8vIOWIm+W7uua1geW8j+ivt+axglxuICogY29uc3QgcGFyYW1zID0geyBhY3Rpb246ICdwcm9jZXNzRGF0YScsIGRhdGE6IHsgaW5wdXQ6ICd0ZXN0JyB9IH07XG4gKiBjb25zdCByZXF1ZXN0SWQgPSBhd2FpdCBpdGVyYXRvci5zZW5kQWN0aW9uUmVxdWVzdChwYXJhbXMpO1xuICogY29uc3QgcXVldWUgPSBpdGVyYXRvci5pbml0aWFsaXplUmVzcG9uc2VRdWV1ZShyZXF1ZXN0SWQpO1xuICogY29uc3Qgc3RyZWFtU3RhdGUgPSBpdGVyYXRvci5jcmVhdGVTdHJlYW1TdGF0ZSgpO1xuICogXG4gKiAvLyDkvb/nlKjlvILmraXov63ku6PlmahcbiAqIGNvbnN0IGFzeW5jSXRlcmF0b3IgPSBpdGVyYXRvci5jcmVhdGVBc3luY0l0ZXJhdG9yKHF1ZXVlLCBzdHJlYW1TdGF0ZSwgcmVxdWVzdElkKTtcbiAqIGZvciBhd2FpdCAoY29uc3QgZGF0YSBvZiBhc3luY0l0ZXJhdG9yKSB7XG4gKiAgIGNvbnNvbGUubG9nKCdSZWNlaXZlZDonLCBkYXRhKTtcbiAqIH1cbiAqIGBgYFxuICovXG5pbXBvcnQgdHlwZSB7IFByb3RvY29sIH0gZnJvbSBcIkBtb2RlbGNvbnRleHRwcm90b2NvbC9zZGsvc2hhcmVkL3Byb3RvY29sLnRzXCI7XG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uUXVldWUgfSBmcm9tIFwiLi9Ob3RpZmljYXRpb25RdWV1ZS50c1wiO1xuXG5pbnRlcmZhY2UgU3RyZWFtUmVzcG9uc2Uge1xuICBkYXRhOiBhbnk7XG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xuICBmaW5pc2hlZDogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIFN0cmVhbVN0YXRlIHtcbiAgcmVzb2x2ZTogKCgpID0+IHZvaWQpIHwgbnVsbDtcbiAgZmluaXNoZWQ6IGJvb2xlYW47XG4gIGFib3J0ZWQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjbGFzcyBTdHJlYW1JdGVyYXRvciB7XG4gIHByaXZhdGUgcHJvdG9jb2w6IFByb3RvY29sPGFueSwgYW55LCBhbnk+O1xuICBwcml2YXRlIG5vdGlmaWNhdGlvblF1ZXVlOiBOb3RpZmljYXRpb25RdWV1ZTtcblxuICBjb25zdHJ1Y3Rvcihwcm90b2NvbDogUHJvdG9jb2w8YW55LCBhbnksIGFueT4sIG5vdGlmaWNhdGlvblF1ZXVlOiBOb3RpZmljYXRpb25RdWV1ZSkge1xuICAgIHRoaXMucHJvdG9jb2wgPSBwcm90b2NvbDtcbiAgICB0aGlzLm5vdGlmaWNhdGlvblF1ZXVlID0gbm90aWZpY2F0aW9uUXVldWU7XG4gIH1cblxuICAvKipcbiAgICog6aqM6K+BYWN0aW9u6K+35rGCXG4gICAqL1xuICB2YWxpZGF0ZUFjdGlvblJlcXVlc3Qoc2lnbmFsPzogQWJvcnRTaWduYWwpIHtcbiAgICBpZiAoc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ09wZXJhdGlvbiB3YXMgYWJvcnRlZCcpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDlj5HpgIFhY3Rpb27or7fmsYJcbiAgICovXG4gIGFzeW5jIHNlbmRBY3Rpb25SZXF1ZXN0KHBhcmFtczogeyBhY3Rpb246IHN0cmluZywgZGF0YTogYW55IH0pOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5wcm90b2NvbC5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogJ3NkcHBwL3N0cmVhbVJlcXVlc3QnLFxuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIGFjdGlvbjogcGFyYW1zLmFjdGlvbixcbiAgICAgICAgZGF0YTogcGFyYW1zLmRhdGEsXG4gICAgICB9LFxuICAgIH0sIHoub2JqZWN0KHtcbiAgICAgIHJlcXVlc3RJZDogei5zdHJpbmcoKSxcbiAgICB9KSk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2UucmVxdWVzdElkO1xuICB9XG5cbiAgLyoqXG4gICAqIOWIneWni+WMluWTjeW6lOmYn+WIl1xuICAgKi9cbiAgaW5pdGlhbGl6ZVJlc3BvbnNlUXVldWUocmVxdWVzdElkOiBzdHJpbmcpOiBTdHJlYW1SZXNwb25zZVtdIHtcbiAgICBjb25zdCBxdWV1ZSA9IHRoaXMubm90aWZpY2F0aW9uUXVldWUuZmlsdGVyQnlSZXF1ZXN0SWQocmVxdWVzdElkKVxuICAgICAgLm1hcChuID0+ICh7IFxuICAgICAgICBkYXRhOiBuLnBhcmFtcy5kYXRhLCBcbiAgICAgICAgZXJyb3I6IG4ucGFyYW1zLmVycm9yLCBcbiAgICAgICAgZmluaXNoZWQ6IG4ucGFyYW1zLmZpbmlzaGVkIFxuICAgICAgfSkpO1xuICAgIFxuICAgIHRoaXMubm90aWZpY2F0aW9uUXVldWUucmVtb3ZlQnlSZXF1ZXN0SWQocmVxdWVzdElkKTtcbiAgICByZXR1cm4gcXVldWU7XG4gIH1cblxuICAvKipcbiAgICog5Yib5bu65rWB54q25oCB5a+56LGhXG4gICAqL1xuICBjcmVhdGVTdHJlYW1TdGF0ZSgpOiBTdHJlYW1TdGF0ZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc29sdmU6IG51bGwsXG4gICAgICBmaW5pc2hlZDogZmFsc2UsXG4gICAgICBhYm9ydGVkOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICog6K6+572u5rWB5aSE55CG5ZmoXG4gICAqL1xuICBzZXR1cFN0cmVhbUhhbmRsZXJzKFxuICAgIHJlcXVlc3RJZDogc3RyaW5nLCBcbiAgICBxdWV1ZTogU3RyZWFtUmVzcG9uc2VbXSwgXG4gICAgc3RyZWFtU3RhdGU6IFN0cmVhbVN0YXRlLCBcbiAgICBzaWduYWw/OiBBYm9ydFNpZ25hbFxuICApIHtcbiAgICBjb25zdCBvbk5vdGlmaWNhdGlvbiA9IHRoaXMuY3JlYXRlTm90aWZpY2F0aW9uSGFuZGxlcihyZXF1ZXN0SWQsIHF1ZXVlLCBzdHJlYW1TdGF0ZSk7XG4gICAgY29uc3Qgb25BYm9ydCA9IHRoaXMuY3JlYXRlQWJvcnRIYW5kbGVyKHJlcXVlc3RJZCwgc3RyZWFtU3RhdGUpO1xuXG4gICAgdGhpcy5ub3RpZmljYXRpb25RdWV1ZS5hZGRMaXN0ZW5lcihvbk5vdGlmaWNhdGlvbik7XG4gICAgc2lnbmFsPy5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uQWJvcnQpO1xuXG4gICAgcmV0dXJuIHsgb25Ob3RpZmljYXRpb24sIG9uQWJvcnQgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiDliJvlu7rpgJrnn6XlpITnkIblmahcbiAgICovXG4gIHByaXZhdGUgY3JlYXRlTm90aWZpY2F0aW9uSGFuZGxlcihyZXF1ZXN0SWQ6IHN0cmluZywgcXVldWU6IFN0cmVhbVJlc3BvbnNlW10sIHN0cmVhbVN0YXRlOiBTdHJlYW1TdGF0ZSkge1xuICAgIGNvbnN0IHN0cmVhbVJlc3BvbnNlU2NoZW1hID0gei5vYmplY3Qoe1xuICAgICAgbWV0aG9kOiB6LmxpdGVyYWwoJ3NkcHBwL3N0cmVhbVJlc3BvbnNlJyksXG4gICAgICBwYXJhbXM6IHoub2JqZWN0KHtcbiAgICAgICAgcmVxdWVzdElkOiB6LnN0cmluZygpLFxuICAgICAgICBkYXRhOiB6LmFueSgpLFxuICAgICAgICBlcnJvcjogei5zdHJpbmcoKS5udWxsYWJsZSgpLFxuICAgICAgICBmaW5pc2hlZDogei5ib29sZWFuKCksXG4gICAgICB9KVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIChub3RpZmljYXRpb246IGFueSkgPT4ge1xuICAgICAgY29uc3QgcGFyc2VkID0gc3RyZWFtUmVzcG9uc2VTY2hlbWEuc2FmZVBhcnNlKG5vdGlmaWNhdGlvbik7XG4gICAgICBpZiAoIXBhcnNlZC5zdWNjZXNzIHx8IHBhcnNlZC5kYXRhLnBhcmFtcy5yZXF1ZXN0SWQgIT09IHJlcXVlc3RJZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IsIGZpbmlzaGVkIH0gPSBwYXJzZWQuZGF0YS5wYXJhbXM7XG4gICAgICBxdWV1ZS5wdXNoKHsgZGF0YSwgZXJyb3IsIGZpbmlzaGVkIH0pO1xuICAgICAgXG4gICAgICBpZiAoc3RyZWFtU3RhdGUucmVzb2x2ZSkge1xuICAgICAgICBzdHJlYW1TdGF0ZS5yZXNvbHZlKCk7XG4gICAgICAgIHN0cmVhbVN0YXRlLnJlc29sdmUgPSBudWxsO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICog5Yib5bu65Lit5q2i5aSE55CG5ZmoXG4gICAqL1xuICBwcml2YXRlIGNyZWF0ZUFib3J0SGFuZGxlcihyZXF1ZXN0SWQ6IHN0cmluZywgc3RyZWFtU3RhdGU6IFN0cmVhbVN0YXRlKSB7XG4gICAgcmV0dXJuIGFzeW5jICgpID0+IHtcbiAgICAgIGlmIChzdHJlYW1TdGF0ZS5hYm9ydGVkKSByZXR1cm47XG4gICAgICBzdHJlYW1TdGF0ZS5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5wcm90b2NvbC5yZXF1ZXN0KHtcbiAgICAgICAgICBtZXRob2Q6ICdzZHBwcC9hYm9ydCcsXG4gICAgICAgICAgcGFyYW1zOiB7IHJlcXVlc3RJZCB9LFxuICAgICAgICB9LCB6Lm9iamVjdCh7XG4gICAgICAgICAgc3VjY2Vzczogei5ib29sZWFuKCksXG4gICAgICAgIH0pKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBpZ25vcmUgYWJvcnQgcmVxdWVzdCBlcnJvcnNcbiAgICAgIH1cbiAgICAgIFxuICAgICAgc3RyZWFtU3RhdGUuZmluaXNoZWQgPSB0cnVlO1xuICAgICAgaWYgKHN0cmVhbVN0YXRlLnJlc29sdmUpIHtcbiAgICAgICAgc3RyZWFtU3RhdGUucmVzb2x2ZSgpO1xuICAgICAgICBzdHJlYW1TdGF0ZS5yZXNvbHZlID0gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIOWIm+W7uuW8guatpei/reS7o+WZqFxuICAgKi9cbiAgY3JlYXRlQXN5bmNJdGVyYXRvcihcbiAgICBxdWV1ZTogU3RyZWFtUmVzcG9uc2VbXSwgXG4gICAgc3RyZWFtU3RhdGU6IFN0cmVhbVN0YXRlLCBcbiAgICByZXF1ZXN0SWQ6IHN0cmluZywgXG4gICAgc2lnbmFsPzogQWJvcnRTaWduYWxcbiAgKTogeyBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk6IEFzeW5jSXRlcmFibGVJdGVyYXRvcjxhbnk+IH0ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBhc3luYyAqW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpOiBBc3luY0l0ZXJhYmxlSXRlcmF0b3I8YW55PiB7XG4gICAgICAgIGNvbnN0IGhhbmRsZXJzID0gc2VsZi5zZXR1cFN0cmVhbUhhbmRsZXJzKHJlcXVlc3RJZCwgcXVldWUsIHN0cmVhbVN0YXRlLCBzaWduYWwpO1xuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB5aWVsZCogc2VsZi5wcm9jZXNzU3RyZWFtUXVldWUocXVldWUsIHN0cmVhbVN0YXRlLCBzaWduYWwpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNlbGYuY2xlYW51cFN0cmVhbUhhbmRsZXJzKHJlcXVlc3RJZCwgaGFuZGxlcnMsIHNpZ25hbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIOWkhOeQhua1gemYn+WIl1xuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyAqcHJvY2Vzc1N0cmVhbVF1ZXVlKFxuICAgIHF1ZXVlOiBTdHJlYW1SZXNwb25zZVtdLCBcbiAgICBzdHJlYW1TdGF0ZTogU3RyZWFtU3RhdGUsIFxuICAgIHNpZ25hbD86IEFib3J0U2lnbmFsXG4gICk6IEFzeW5jSXRlcmFibGVJdGVyYXRvcjxhbnk+IHtcbiAgICB3aGlsZSAoIXN0cmVhbVN0YXRlLmZpbmlzaGVkICYmICFzdHJlYW1TdGF0ZS5hYm9ydGVkKSB7XG4gICAgICBpZiAoc2lnbmFsPy5hYm9ydGVkICYmICFzdHJlYW1TdGF0ZS5hYm9ydGVkKSB7XG4gICAgICAgIHN0cmVhbVN0YXRlLmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZTx2b2lkPihyID0+IHsgc3RyZWFtU3RhdGUucmVzb2x2ZSA9IHI7IH0pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgeWllbGQqIHRoaXMucHJvY2Vzc1F1ZXVlSXRlbXMocXVldWUsIHN0cmVhbVN0YXRlKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKHN0cmVhbVN0YXRlLmFib3J0ZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignT3BlcmF0aW9uIHdhcyBhYm9ydGVkJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIOWkhOeQhumYn+WIl+mhueebrlxuICAgKi9cbiAgcHJpdmF0ZSAqcHJvY2Vzc1F1ZXVlSXRlbXMocXVldWU6IFN0cmVhbVJlc3BvbnNlW10sIHN0cmVhbVN0YXRlOiBTdHJlYW1TdGF0ZSk6IEdlbmVyYXRvcjxhbnk+IHtcbiAgICB3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgaXRlbSA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICBpZiAoIWl0ZW0pIGNvbnRpbnVlO1xuXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yLCBmaW5pc2hlZCB9ID0gaXRlbTtcbiAgICAgIFxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChmaW5pc2hlZCkge1xuICAgICAgICBzdHJlYW1TdGF0ZS5maW5pc2hlZCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgXG4gICAgICB5aWVsZCBkYXRhO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDmuIXnkIbmtYHlpITnkIblmahcbiAgICovXG4gIHByaXZhdGUgY2xlYW51cFN0cmVhbUhhbmRsZXJzKHJlcXVlc3RJZDogc3RyaW5nLCBoYW5kbGVyczogYW55LCBzaWduYWw/OiBBYm9ydFNpZ25hbCkge1xuICAgIHRoaXMubm90aWZpY2F0aW9uUXVldWUucmVtb3ZlTGlzdGVuZXIoaGFuZGxlcnMub25Ob3RpZmljYXRpb24pO1xuICAgIHNpZ25hbD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBoYW5kbGVycy5vbkFib3J0KTtcbiAgICB0aGlzLm5vdGlmaWNhdGlvblF1ZXVlLnJlbW92ZUJ5UmVxdWVzdElkKHJlcXVlc3RJZCk7XG4gIH1cbn0gIiwiaW1wb3J0IHR5cGUgeyBQcm90b2NvbCB9IGZyb20gXCJAbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL3NoYXJlZC9wcm90b2NvbC5qc1wiO1xuaW1wb3J0IHsgeiwgWm9kT2JqZWN0LCBab2RMaXRlcmFsLCBab2RUeXBlIH0gZnJvbSBcInpvZFwiO1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uUXVldWUgfSBmcm9tIFwiLi9saWIvTm90aWZpY2F0aW9uUXVldWUudHNcIjtcbmltcG9ydCB7IFN0cmVhbU1hbmFnZXIgfSBmcm9tIFwiLi9saWIvU3RyZWFtTWFuYWdlci50c1wiO1xuaW1wb3J0IHsgQWN0aW9uRXhlY3V0b3IgfSBmcm9tIFwiLi9saWIvQWN0aW9uRXhlY3V0b3IudHNcIjtcbmltcG9ydCB7IFN0cmVhbUl0ZXJhdG9yIH0gZnJvbSBcIi4vbGliL1N0cmVhbUl0ZXJhdG9yLnRzXCI7XG5pbXBvcnQgeyBSZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCJAbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL3NoYXJlZC9wcm90b2NvbC5qc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmVhbUFjdGlvbkl0ZXJhdG9yPFQ+IHtcbiAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpOiBBc3luY0l0ZXJhYmxlSXRlcmF0b3I8VD47XG59XG5cbmV4cG9ydCBjbGFzcyBTRFBQUFByb3RvY29sIHtcbiAgLy8gYWN0aW9uIGhhbmRsZXIg5rOo5YaM6KGoXG4gIHByaXZhdGUgYWN0aW9uSGFuZGxlcnM6IE1hcDxzdHJpbmcsIChwYXJhbXM6IGFueSwgZXh0cmE6IGFueSwgc2lnbmFsPzogQWJvcnRTaWduYWwpID0+IEFzeW5jSXRlcmFibGU8YW55Pj4gPSBuZXcgTWFwKCk7XG4gIC8vIGJyb2FkY2FzdCBoYW5kbGVyIOazqOWGjOihqFxuICBwcml2YXRlIGJyb2FkY2FzdEhhbmRsZXJzOiBNYXA8c3RyaW5nLCAobWVzc2FnZTogYW55KSA9PiB2b2lkPiA9IG5ldyBNYXAoKTtcbiAgLy8gcmVxdWVzdElkIOeUn+aIkOWZqFxuICBwcml2YXRlIHJlcXVlc3RJZFNlcSA9IDE7XG4gIC8vIOato+WcqOaJp+ihjOeahOivt+axgueahCBBYm9ydENvbnRyb2xsZXJcbiAgcHJpdmF0ZSBydW5uaW5nUmVxdWVzdHM6IE1hcDxzdHJpbmcsIEFib3J0Q29udHJvbGxlcj4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgcHJvdG9jb2w6IFByb3RvY29sPGFueSwgYW55LCBhbnk+O1xuICBwcml2YXRlIG5vdGlmaWNhdGlvblF1ZXVlID0gbmV3IE5vdGlmaWNhdGlvblF1ZXVlKCk7XG5cbiAgLy8g5paw55qE5L6d6LWW57G7XG4gIHByaXZhdGUgc3RyZWFtTWFuYWdlcjogU3RyZWFtTWFuYWdlcjtcbiAgcHJpdmF0ZSBhY3Rpb25FeGVjdXRvcjogQWN0aW9uRXhlY3V0b3I7XG4gIHByaXZhdGUgc3RyZWFtSXRlcmF0b3I6IFN0cmVhbUl0ZXJhdG9yO1xuXG4gIGNvbnN0cnVjdG9yKHByb3RvY29sOiBQcm90b2NvbDxhbnksIGFueSwgYW55Pikge1xuICAgIHRoaXMucHJvdG9jb2wgPSBwcm90b2NvbDtcbiAgICB0aGlzLnN0cmVhbU1hbmFnZXIgPSBuZXcgU3RyZWFtTWFuYWdlcihwcm90b2NvbCk7XG4gICAgdGhpcy5hY3Rpb25FeGVjdXRvciA9IG5ldyBBY3Rpb25FeGVjdXRvcih0aGlzLnN0cmVhbU1hbmFnZXIsIHRoaXMucnVubmluZ1JlcXVlc3RzKTtcbiAgICB0aGlzLnN0cmVhbUl0ZXJhdG9yID0gbmV3IFN0cmVhbUl0ZXJhdG9yKHByb3RvY29sLCB0aGlzLm5vdGlmaWNhdGlvblF1ZXVlKTtcblxuICAgIHRoaXMuc2V0dXBOb3RpZmljYXRpb25IYW5kbGVyKCk7XG4gICAgdGhpcy5zZXR1cEFib3J0SGFuZGxlcigpO1xuICAgIHRoaXMuc2V0dXBTdHJlYW1SZXF1ZXN0SGFuZGxlcigpO1xuICAgIHRoaXMuc2V0dXBCcm9hZGNhc3RIYW5kbGVyKCk7XG4gIH1cblxuICAvKipcbiAgICog6K6+572u5rWB5ZON5bqU6YCa55+l5aSE55CG5ZmoXG4gICAqL1xuICBwcml2YXRlIHNldHVwTm90aWZpY2F0aW9uSGFuZGxlcigpIHtcbiAgICBjb25zdCBzY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgICBtZXRob2Q6IHoubGl0ZXJhbCgnc2RwcHAvc3RyZWFtUmVzcG9uc2UnKSxcbiAgICAgIHBhcmFtczogei5vYmplY3Qoe1xuICAgICAgICByZXF1ZXN0SWQ6IHouc3RyaW5nKCksXG4gICAgICAgIGRhdGE6IHouYW55KCksXG4gICAgICAgIGVycm9yOiB6LnN0cmluZygpLm51bGxhYmxlKCksXG4gICAgICAgIGZpbmlzaGVkOiB6LmJvb2xlYW4oKSxcbiAgICAgIH0pXG4gICAgfSk7XG5cbiAgICB0aGlzLnByb3RvY29sLnNldE5vdGlmaWNhdGlvbkhhbmRsZXIoXG4gICAgICBzY2hlbWEsXG4gICAgICBub3RpZmljYXRpb24gPT4gdGhpcy5ub3RpZmljYXRpb25RdWV1ZS5wdXNoKG5vdGlmaWNhdGlvbilcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIOiuvue9ruS4reatouivt+axguWkhOeQhuWZqFxuICAgKi9cbiAgcHJpdmF0ZSBzZXR1cEFib3J0SGFuZGxlcigpIHtcbiAgICBjb25zdCBzY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgICBtZXRob2Q6IHoubGl0ZXJhbCgnc2RwcHAvYWJvcnQnKSxcbiAgICAgIHBhcmFtczogei5vYmplY3Qoe1xuICAgICAgICByZXF1ZXN0SWQ6IHouc3RyaW5nKCksXG4gICAgICB9KVxuICAgIH0pO1xuXG4gICAgdGhpcy5wcm90b2NvbC5zZXRSZXF1ZXN0SGFuZGxlcihzY2hlbWEsIGFzeW5jIChyZXF1ZXN0LCBleHRyYSkgPT4ge1xuICAgICAgY29uc3QgeyByZXF1ZXN0SWQgfSA9IHJlcXVlc3QucGFyYW1zO1xuICAgICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gdGhpcy5ydW5uaW5nUmVxdWVzdHMuZ2V0KHJlcXVlc3RJZCk7XG5cbiAgICAgIGlmIChhYm9ydENvbnRyb2xsZXIpIHtcbiAgICAgICAgYWJvcnRDb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgIHRoaXMucnVubmluZ1JlcXVlc3RzLmRlbGV0ZShyZXF1ZXN0SWQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICog6K6+572u5rWB6K+35rGC5aSE55CG5ZmoXG4gICAqL1xuICBwcml2YXRlIHNldHVwU3RyZWFtUmVxdWVzdEhhbmRsZXIoKSB7XG4gICAgY29uc3Qgc2NoZW1hID0gei5vYmplY3Qoe1xuICAgICAgbWV0aG9kOiB6LmxpdGVyYWwoJ3NkcHBwL3N0cmVhbVJlcXVlc3QnKSxcbiAgICAgIHBhcmFtczogei5vYmplY3Qoe1xuICAgICAgICBhY3Rpb246IHouc3RyaW5nKCksXG4gICAgICAgIGRhdGE6IHouYW55KCksXG4gICAgICB9KVxuICAgIH0pO1xuXG4gICAgdGhpcy5wcm90b2NvbC5zZXRSZXF1ZXN0SGFuZGxlcihzY2hlbWEsIGFzeW5jIChyZXF1ZXN0LCBleHRyYSkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdElkID0gYHJlcV8ke3RoaXMucmVxdWVzdElkU2VxKyt9YDtcbiAgICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLmFjdGlvbkhhbmRsZXJzLmdldChyZXF1ZXN0LnBhcmFtcy5hY3Rpb24pO1xuXG4gICAgICBpZiAoIWhhbmRsZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBoYW5kbGVyIGZvciBhY3Rpb246ICcgKyByZXF1ZXN0LnBhcmFtcy5hY3Rpb24pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICB0aGlzLnJ1bm5pbmdSZXF1ZXN0cy5zZXQocmVxdWVzdElkLCBhYm9ydENvbnRyb2xsZXIpO1xuXG4gICAgICAvLyDlvILmraXmiafooYzlpITnkIblmahcbiAgICAgIHRoaXMuYWN0aW9uRXhlY3V0b3IuZXhlY3V0ZUhhbmRsZXJBc3luYyhyZXF1ZXN0SWQsIGhhbmRsZXIsIHJlcXVlc3QucGFyYW1zLCBleHRyYSwgYWJvcnRDb250cm9sbGVyKTtcblxuICAgICAgcmV0dXJuIHsgcmVxdWVzdElkIH07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICog5rOo5YaMIGFjdGlvbiBoYW5kbGVyXG4gICAqL1xuICBwdWJsaWMgcmVnaXN0ZXJBY3Rpb25IYW5kbGVyPFQgZXh0ZW5kcyBab2RPYmplY3Q8e1xuICAgIGFjdGlvbjogWm9kTGl0ZXJhbDxzdHJpbmc+O1xuICB9Pj4ocGFyYW1zU2NoZW1hOiBULCBoYW5kbGVyOiAocGFyYW1zOiB6LmluZmVyPFQ+LCBleHRyYTogYW55LCBzaWduYWw/OiBBYm9ydFNpZ25hbCkgPT4gQXN5bmNJdGVyYWJsZTxhbnk+KSB7XG4gICAgdGhpcy5hY3Rpb25IYW5kbGVycy5zZXQocGFyYW1zU2NoZW1hLnNoYXBlLmFjdGlvbi52YWx1ZSwgaGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICog5Y+R6LW3IGFjdGlvbiDor7fmsYLvvIzov5Tlm57lvILmraXov63ku6PlmahcbiAgICovXG4gIHB1YmxpYyBhc3luYyBhY3Rpb248VCBleHRlbmRzIFpvZE9iamVjdDx7XG4gIH0+PihwYXJhbXM6IHsgYWN0aW9uOiBzdHJpbmcsIGRhdGE6IGFueSB9ICYgUmVjb3JkPHN0cmluZywgYW55PiwgcmVzcG9uc2VTY2hlbWE6IFQsIHNpZ25hbD86IEFib3J0U2lnbmFsKTogUHJvbWlzZTxTdHJlYW1BY3Rpb25JdGVyYXRvcjx6LmluZmVyPFQ+Pj4ge1xuICAgIHRoaXMuc3RyZWFtSXRlcmF0b3IudmFsaWRhdGVBY3Rpb25SZXF1ZXN0KHNpZ25hbCk7XG5cbiAgICBjb25zdCByZXF1ZXN0SWQgPSBhd2FpdCB0aGlzLnN0cmVhbUl0ZXJhdG9yLnNlbmRBY3Rpb25SZXF1ZXN0KHBhcmFtcyk7XG4gICAgY29uc3QgcXVldWUgPSB0aGlzLnN0cmVhbUl0ZXJhdG9yLmluaXRpYWxpemVSZXNwb25zZVF1ZXVlKHJlcXVlc3RJZCk7XG4gICAgY29uc3Qgc3RyZWFtU3RhdGUgPSB0aGlzLnN0cmVhbUl0ZXJhdG9yLmNyZWF0ZVN0cmVhbVN0YXRlKCk7XG5cbiAgICByZXR1cm4gdGhpcy5zdHJlYW1JdGVyYXRvci5jcmVhdGVBc3luY0l0ZXJhdG9yKHF1ZXVlLCBzdHJlYW1TdGF0ZSwgcmVxdWVzdElkLCBzaWduYWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIOiuvue9ruW5v+aSremAmuefpeWkhOeQhuWZqFxuICAgKi9cbiAgcHJpdmF0ZSBzZXR1cEJyb2FkY2FzdEhhbmRsZXIoKSB7XG4gICAgY29uc3Qgc2NoZW1hID0gei5vYmplY3Qoe1xuICAgICAgbWV0aG9kOiB6LmxpdGVyYWwoJ3NkcHBwL2Jyb2FkY2FzdCcpLFxuICAgICAgcGFyYW1zOiB6Lm9iamVjdCh7XG4gICAgICAgIG1lc3NhZ2VUeXBlOiB6LnN0cmluZygpLFxuICAgICAgICBtZXNzYWdlOiB6LmFueSgpLFxuICAgICAgfSlcbiAgICB9KTtcblxuICAgIHRoaXMucHJvdG9jb2wuc2V0Tm90aWZpY2F0aW9uSGFuZGxlcihcbiAgICAgIHNjaGVtYSxcbiAgICAgIG5vdGlmaWNhdGlvbiA9PiB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZVR5cGUsIG1lc3NhZ2UgfSA9IG5vdGlmaWNhdGlvbi5wYXJhbXM7XG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLmJyb2FkY2FzdEhhbmRsZXJzLmdldChtZXNzYWdlVHlwZSk7XG4gICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgaGFuZGxlcihtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICog5rOo5YaM5bm/5pKt5raI5oGv5aSE55CG5ZmoXG4gICAqL1xuICBwdWJsaWMgcmVnaXN0ZXJCcm9hZGNhc3RIYW5kbGVyKG1lc3NhZ2VUeXBlOiBzdHJpbmcsIGhhbmRsZXI6IChtZXNzYWdlOiBhbnkpID0+IHZvaWQpIHtcbiAgICB0aGlzLmJyb2FkY2FzdEhhbmRsZXJzLnNldChtZXNzYWdlVHlwZSwgaGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICog5Y+R6YCB5bm/5pKt5raI5oGvXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgYnJvYWRjYXN0KG1lc3NhZ2VUeXBlOiBzdHJpbmcsIG1lc3NhZ2U6IGFueSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IHRoaXMucHJvdG9jb2wubm90aWZpY2F0aW9uKHtcbiAgICAgIG1ldGhvZDogJ3NkcHBwL2Jyb2FkY2FzdCcsXG4gICAgICBwYXJhbXM6IHtcbiAgICAgICAgbWVzc2FnZVR5cGUsXG4gICAgICAgIG1lc3NhZ2VcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiDlj5Hotbfnm7TmjqXor7fmsYLvvIjpnZ7mtYHlvI/vvIlcbiAgICovXG4gIHB1YmxpYyBhc3luYyByZXF1ZXN0PFQgZXh0ZW5kcyBab2RUeXBlPihtZXRob2Q6IHN0cmluZywgcGFyYW1zOiBhbnksIHJlc3BvbnNlU2NoZW1hOiBULCBvcHRpb25zPzogUmVxdWVzdE9wdGlvbnMpOiBQcm9taXNlPHouaW5mZXI8VD4+IHtcbiAgICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fSBhcyBSZXF1ZXN0T3B0aW9ucztcbiAgICBvcHRpb25zLnRpbWVvdXQgPSAgb3B0aW9ucy50aW1lb3V0IHx8IDcgKiAyNCAqIDYwICogNjAgKiAxMDAwIC8vIDcgZGF5cyBcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5wcm90b2NvbC5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZCxcbiAgICAgIHBhcmFtc1xuICAgIH0sIHJlc3BvbnNlU2NoZW1hLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDms6jlhozor7fmsYLlpITnkIblmajvvIjpnZ7mtYHlvI/vvIlcbiAgICovXG4gIHB1YmxpYyByZWdpc3RlclJlcXVlc3RIYW5kbGVyPFQgZXh0ZW5kcyBab2RPYmplY3Q8eyBtZXRob2Q6IFpvZExpdGVyYWw8c3RyaW5nPiB9Pj4oXG4gICAgcmVxdWVzdFNjaGVtYTogVCxcbiAgICBoYW5kbGVyOiAocmVxdWVzdDogei5pbmZlcjxUPiwgZXh0cmE6IGFueSkgPT4gUHJvbWlzZTxhbnk+XG4gICkge1xuICAgIHRoaXMucHJvdG9jb2wuc2V0UmVxdWVzdEhhbmRsZXIocmVxdWVzdFNjaGVtYSwgaGFuZGxlcik7XG4gIH1cbn0iLCJpbXBvcnQgeyBTZXJ2ZXIsIHR5cGUgU2VydmVyT3B0aW9ucyB9IGZyb20gXCJAbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL3NlcnZlci9pbmRleC5qc1wiO1xuaW1wb3J0IHR5cGUgeyBJbXBsZW1lbnRhdGlvbiB9IGZyb20gXCJAbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL3R5cGVzLmpzXCI7XG5pbXBvcnQgdHlwZSB7IFRyYW5zcG9ydCB9IGZyb20gXCJAbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL3NoYXJlZC90cmFuc3BvcnQuanNcIjtcbmltcG9ydCB7IFNEUFBQUHJvdG9jb2wgfSBmcm9tIFwiLi9zZHBwcC1wcm90b2NvbC50c1wiO1xuXG4vKipcbiAqIOmrmOWxgiBNQ1Ag5pyN5Yqh5Zmo77yM5LuF5Luj55CGIFNlcnZlciDlrp7kvovnmoTpg6jliIYgQVBJ44CCXG4gKi9cbmV4cG9ydCBjbGFzcyBTRFBQUFNlcnZlciBleHRlbmRzIFNEUFBQUHJvdG9jb2wge1xuICAvKipcbiAgICog5bqV5bGCIFNlcnZlciDlrp7kvovjgIJcbiAgICovXG4gIHB1YmxpYyByZWFkb25seSBzZXJ2ZXI6IFNlcnZlcjtcblxuICBjb25zdHJ1Y3RvcihzZXJ2ZXJJbmZvOiBJbXBsZW1lbnRhdGlvbiwgb3B0aW9ucz86IFNlcnZlck9wdGlvbnMpIHtcbiAgICBjb25zdCBzZXJ2ZXIgPSBuZXcgU2VydmVyKHNlcnZlckluZm8sIG9wdGlvbnMpO1xuICAgIHNlcnZlci5vbmVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKCdNQ1AgU2VydmVyIEVycm9yOicsIGVycm9yKTtcbiAgICB9XG4gICAgc3VwZXIoc2VydmVyKTtcbiAgICB0aGlzLnNlcnZlciA9IHNlcnZlcjtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIOi/nuaOpeWIsOe7meWumueahCB0cmFuc3BvcnTjgIJcbiAgICovXG4gIGFzeW5jIGNvbm5lY3QodHJhbnNwb3J0OiBUcmFuc3BvcnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5zZXJ2ZXIuY29ubmVjdCh0cmFuc3BvcnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIOWFs+mXrei/nuaOpeOAglxuICAgKi9cbiAgYXN5bmMgY2xvc2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgdGhpcy5zZXJ2ZXIuY2xvc2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmo4Dmn6XmmK/lkKblt7Lov57mjqXjgIJcbiAgICovXG4gIGlzQ29ubmVjdGVkKCkge1xuICAgIHJldHVybiB0aGlzLnNlcnZlci50cmFuc3BvcnQgIT09IHVuZGVmaW5lZDtcbiAgfVxufSIsImltcG9ydCB0eXBlIHsgR3JhcGhEZWZpbml0aW9uLCBHcmFwaEluc3RhbmNlIH0gZnJvbSAnLi90eXBlcy50cyc7XG5pbXBvcnQgeyBHcmFwaERlZmluaXRpb25DbGFzcyB9IGZyb20gJy4vR3JhcGhEZWZpbml0aW9uLnRzJztcbmltcG9ydCB7IEdyYXBoSW5zdGFuY2VJbXBsIH0gZnJvbSAnLi9HcmFwaEluc3RhbmNlLnRzJztcbmltcG9ydCB0eXBlIHsgQ29ubmVjdGlvbk1vbml0b3JPcHRpb25zIH0gZnJvbSAnLi9Db25uZWN0aW9uTW9uaXRvci50cyc7XG5cbi8qKlxuICogRGVmaW5lIGEgZ3JhcGggd2l0aCBub2RlcyBhbmQgZWRnZXNcbiAqIEBwYXJhbSBkZWZpbml0aW9uIEdyYXBoIGRlZmluaXRpb24gd2l0aCBub2RlcyBhbmQgZWRnZXNcbiAqIEByZXR1cm5zIEdyYXBoRGVmaW5pdGlvbldpdGhKb2luIG9iamVjdCB3aXRoIGpvaW5BcyBtZXRob2RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZUdyYXBoPFRHcmFwaERlZiBleHRlbmRzIEdyYXBoRGVmaW5pdGlvbj4oZGVmaW5pdGlvbjogVEdyYXBoRGVmKSB7XG4gIGNvbnN0IGdyYXBoRGVmID0gbmV3IEdyYXBoRGVmaW5pdGlvbkNsYXNzKGRlZmluaXRpb24pO1xuICBcbiAgcmV0dXJuIHtcbiAgICAvKipcbiAgICAgKiBKb2luIGFzIGEgc3BlY2lmaWMgbm9kZSBpbiB0aGUgZ3JhcGhcbiAgICAgKiBAcGFyYW0gbm9kZUlkIFRoZSBub2RlIElEIHRvIGpvaW4gYXNcbiAgICAgKiBAcGFyYW0gbW9uaXRvck9wdGlvbnMgT3B0aW9uYWwgY29ubmVjdGlvbiBtb25pdG9yaW5nIG9wdGlvbnNcbiAgICAgKiBAcmV0dXJucyBHcmFwaEluc3RhbmNlIGZvciB0aGlzIG5vZGVcbiAgICAgKi9cbiAgICBqb2luQXM8VE5vZGVJZCBleHRlbmRzIGtleW9mIFRHcmFwaERlZlsnbm9kZXMnXT4obm9kZUlkOiBUTm9kZUlkLCBtb25pdG9yT3B0aW9ucz86IENvbm5lY3Rpb25Nb25pdG9yT3B0aW9ucyk6IEdyYXBoSW5zdGFuY2U8VEdyYXBoRGVmLCBUTm9kZUlkPiB7XG4gICAgICAvLyBWYWxpZGF0ZSBub2RlIGV4aXN0c1xuICAgICAgaWYgKCFncmFwaERlZi5nZXROb2RlKG5vZGVJZCBhcyBzdHJpbmcpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm9kZSAke1N0cmluZyhub2RlSWQpfSBub3QgZm91bmQgaW4gZ3JhcGggZGVmaW5pdGlvbmApO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gbmV3IEdyYXBoSW5zdGFuY2VJbXBsPFRHcmFwaERlZiwgVE5vZGVJZD4oZ3JhcGhEZWYsIG5vZGVJZCBhcyBzdHJpbmcsIG1vbml0b3JPcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBncmFwaCBkZWZpbml0aW9uXG4gICAgICovXG4gICAgZ2V0RGVmaW5pdGlvbigpOiBUR3JhcGhEZWYge1xuICAgICAgcmV0dXJuIGRlZmluaXRpb247XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgbm9kZSBJRHNcbiAgICAgKi9cbiAgICBnZXROb2RlSWRzKCk6IHN0cmluZ1tdIHtcbiAgICAgIHJldHVybiBncmFwaERlZi5nZXROb2RlSWRzKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldCBuZWlnaGJvcnMgb2YgYSBub2RlXG4gICAgICovXG4gICAgZ2V0TmVpZ2hib3JzKG5vZGVJZDogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgICAgcmV0dXJuIGdyYXBoRGVmLmdldE5laWdoYm9ycyhub2RlSWQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhbiBlZGdlIGV4aXN0c1xuICAgICAqL1xuICAgIGhhc0VkZ2UoZnJvbTogc3RyaW5nLCB0bzogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gZ3JhcGhEZWYuaGFzRWRnZShmcm9tLCB0byk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoZXJlJ3MgYSBwYXRoIGJldHdlZW4gdHdvIG5vZGVzIChkaXJlY3Qgb3IgaW5kaXJlY3QpXG4gICAgICovXG4gICAgaGFzUGF0aChmcm9tOiBzdHJpbmcsIHRvOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiBncmFwaERlZi5oYXNQYXRoKGZyb20sIHRvKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRmluZCBwYXRoIGJldHdlZW4gdHdvIG5vZGVzIHVzaW5nIEJGU1xuICAgICAqL1xuICAgIGZpbmRQYXRoKGZyb206IHN0cmluZywgdG86IHN0cmluZyk6IHN0cmluZ1tdIHwgbnVsbCB7XG4gICAgICByZXR1cm4gZ3JhcGhEZWYuZmluZFBhdGgoZnJvbSwgdG8pO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gUmUtZXhwb3J0IHR5cGVzIGZvciBjb252ZW5pZW5jZVxuZXhwb3J0IHR5cGUge1xuICBHcmFwaERlZmluaXRpb24sXG4gIE5vZGVEZWZpbml0aW9uLFxuICBBY3Rpb25EZWZpbml0aW9uLFxuICBHcmFwaEluc3RhbmNlLFxuICBOb2RlUHJveHksXG4gIFN0cmVhbUFjdGlvbkl0ZXJhdG9yLFxuICBDb25uZWN0aW9uRmFjdG9yeSxcbiAgTm9kZVN0b3JlLFxuICBWYWxpZGF0aW9uUmVzdWx0XG59IGZyb20gJy4vdHlwZXMudHMnO1xuXG5leHBvcnQgdHlwZSB7IENvbm5lY3Rpb25Nb25pdG9yT3B0aW9ucyB9IGZyb20gJy4vQ29ubmVjdGlvbk1vbml0b3IudHMnO1xuXG4vLyBSZS1leHBvcnQgY2xhc3NlcyBmb3IgYWR2YW5jZWQgdXNhZ2VcbmV4cG9ydCB7IEdyYXBoRGVmaW5pdGlvbkNsYXNzIH0gZnJvbSAnLi9HcmFwaERlZmluaXRpb24udHMnO1xuZXhwb3J0IHsgR3JhcGhJbnN0YW5jZUltcGwgfSBmcm9tICcuL0dyYXBoSW5zdGFuY2UudHMnO1xuZXhwb3J0IHsgTm9kZVByb3h5SW1wbCB9IGZyb20gJy4vTm9kZVByb3h5LnRzJztcblxuLy8gUmUtZXhwb3J0IHN0b3JlIG1hbmFnZW1lbnQgdXRpbGl0aWVzXG5leHBvcnQgeyBiaW5kU3RvcmVDb25zdW1lclNpZGUsIGJpbmRTdG9yZVByb2R1Y2VyU2lkZSB9IGZyb20gJy4vU3RvcmVCaW5kZXIvU3RvcmVCaW5kZXIudHMnO1xuZXhwb3J0IHsgU3RvcmVNYW5hZ2VyIH0gZnJvbSAnLi9TdG9yZUJpbmRlci9TdG9yZU1hbmFnZXIudHMnO1xuZXhwb3J0IHR5cGUgeyBTdG9yZUJpbmRpbmcgfSBmcm9tICcuL1N0b3JlQmluZGVyL1N0b3JlTWFuYWdlci50cyc7XG5cbi8vIFJlLWV4cG9ydCBNQ1AgdXRpbGl0aWVzXG5leHBvcnQgeyBTRFBQUFNlcnZlciB9IGZyb20gJy4vTUNQL3NkcHBwLXNlcnZlci50cyc7XG5leHBvcnQgeyBTRFBQUENsaWVudCB9IGZyb20gJy4vTUNQL3NkcHBwLWNsaWVudC50cyc7XG5leHBvcnQgeyBTRFBQUFByb3RvY29sIH0gZnJvbSAnLi9NQ1Avc2RwcHAtcHJvdG9jb2wudHMnOyIsImltcG9ydCB7IHogfSBmcm9tICd6b2QnXG5cbi8vIFNESy9XZWJ2aWV3IFN0b3JlIFNjaGVtYSAoYmFzZWQgb24gcHMtdXhwL2NvbW1vbi9zdG9yZXMvd2Vidmlldy50cylcbmV4cG9ydCBjb25zdCBTREtTdG9yZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICAvLyBNb3N0IGZpZWxkcyBhcmUgY29tbWVudGVkIG91dCBpbiB0aGUgb3JpZ2luYWwsIGtlZXBpbmcgbWluaW1hbFxuICAgIC8vIENhbiBiZSBleHBhbmRlZCBhcyBuZWVkZWQgZm9yIFNESy1zcGVjaWZpYyBzdGF0ZVxufSlcblxuZXhwb3J0IHR5cGUgU0RLU3RvcmVEYXRhID0gei5pbmZlcjx0eXBlb2YgU0RLU3RvcmVTY2hlbWE+IiwiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCdcblxuLy8gVVhQIFN0b3JlIFNjaGVtYSAtIENvbWJpbmVkIFBob3Rvc2hvcCBhbmQgU0RQUFAgc3RhdGUgKGJhc2VkIG9uIHBzLXV4cC9jb21tb24vc3RvcmVzLylcbmV4cG9ydCBjb25zdCBVWFBTdG9yZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICAvLyBQaG90b3Nob3Agc3RhdGVcbiAgICB1bmFtZTogei5zdHJpbmcoKS5kZWZhdWx0KCcnKSxcbiAgICBhY3RpdmVEb2N1bWVudElEOiB6Lm51bWJlcigpLmRlZmF1bHQoMCksXG4gICAgbGF5ZXJzOiB6LmFycmF5KHoub2JqZWN0KHtcbiAgICAgICAgaWQ6IHoubnVtYmVyKCksXG4gICAgICAgIG5hbWU6IHouc3RyaW5nKCksXG4gICAgICAgIGlkZW50aWZ5OiB6LnN0cmluZygpLFxuICAgIH0pKS5kZWZhdWx0KFtdKSxcbiAgICBhY3Rpb25zOiB6LmFycmF5KHouc3RyaW5nKCkpLmRlZmF1bHQoW10pLFxuICAgIHRoZW1lOiB6LnN0cmluZygpLmRlZmF1bHQoJ2tQYW5lbEJyaWdodG5lc3NNZWRpdW1HcmF5JyksXG4gICAgc2RwcHBYOiB6LnJlY29yZCh6LnN0cmluZygpLCB6LmFueSgpKS5kZWZhdWx0KHt9KSxcbiAgICBsb2NhbGU6IHouZW51bShbJ3poLUNOJywgJ2VuLVVTJ10pLmRlZmF1bHQoJ2VuLVVTJyksXG4gICAgXG4gICAgLy8gQ29tZnlVSSB3ZWJ2aWV3IGNvbm5lY3Rpb24gc3RhdGVcbiAgICBjb21meVdlYnZpZXdDb25uZWN0U3RhdHVzOiB6LmVudW0oWydjb25uZWN0aW5nJywgJ2Nvbm5lY3RlZCcsICdkaXNjb25uZWN0ZWQnXSkuZGVmYXVsdCgnZGlzY29ubmVjdGVkJyksXG4gICAgY29tZnlXZWJ2aWV3TG9hZEVycm9yOiB6LnN0cmluZygpLmRlZmF1bHQoJycpLFxuICAgIGNvbWZ5V2Vidmlld0xvYWRpbmc6IHouYm9vbGVhbigpLmRlZmF1bHQoZmFsc2UpLFxuICAgIGNvbWZ5V2Vidmlld1ZlcnNpb246IHouc3RyaW5nKCkuZGVmYXVsdCgnJyksXG4gICAgY29tZnlBdXRvUnVubmluZzogei5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSksXG4gICAgY29tZnlIVFRQQ29kZTogei5udW1iZXIoKS5kZWZhdWx0KDIwMCksXG4gICAgY29tZnlVUkw6IHouc3RyaW5nKCkuZGVmYXVsdCgnJyksXG4gICAgXG4gICAgLy8gU0RLIHdlYnZpZXcgc3RhdGVcbiAgICBzZGtXZWJ2aWV3Rm9jdXNpbmc6IHouYm9vbGVhbigpLmRlZmF1bHQoZmFsc2UpLFxuICAgIHNka1dlYnZpZXdDb25uZWN0U3RhdHVzOiB6LmVudW0oWydjb25uZWN0aW5nJywgJ2Nvbm5lY3RlZCcsICdkaXNjb25uZWN0ZWQnXSkuZGVmYXVsdCgnZGlzY29ubmVjdGVkJyksXG5cbiAgICAvLyBTRFBQUCBhdXRoZW50aWNhdGlvbiBzdGF0ZVxuICAgIGlzTG9naW46IHouYm9vbGVhbigpLmRlZmF1bHQoZmFsc2UpLFxuICAgIGlzR3Vlc3Q6IHouYm9vbGVhbigpLmRlZmF1bHQoZmFsc2UpLFxuICAgIHJlcXVlc3RpbmdMb2dpbjogei5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSksXG4gICAgbG9naW5NZXNzYWdlOiB6LnN0cmluZygpLmRlZmF1bHQoJycpLFxuICAgIHRva2VuOiB6LnN0cmluZygpLmRlZmF1bHQoJycpLFxuICAgIHVzZXJJbmZvOiB6LnJlY29yZCh6LnN0cmluZygpLCB6LmFueSgpKS5kZWZhdWx0KHt9KSxcbn0pXG5cbmV4cG9ydCB0eXBlIFVYUFN0b3JlRGF0YSA9IHouaW5mZXI8dHlwZW9mIFVYUFN0b3JlU2NoZW1hPiIsImltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5cbmV4cG9ydCBjb25zdCBXaWRnZXRhYmxlQmFzZVdpZGdldFNjaGVtYVBhcnQgPSB7XG4gICAgbmFtZTogei5zdHJpbmcoKSxcbiAgICB1aVdlaWdodDogei5udW1iZXIoKSxcbn1cbmV4cG9ydCBjb25zdCBXaWRnZXRhYmxlSW1hZ2VzV2lkZ2V0U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIC4uLldpZGdldGFibGVCYXNlV2lkZ2V0U2NoZW1hUGFydCxcbiAgICBvdXRwdXRUeXBlOiB6LmxpdGVyYWwoJ2ltYWdlcycpLFxuICAgIG9wdGlvbnM6IHoub2JqZWN0KHtcbiAgICAgICAgcmVxdWlyZWQ6IHouYm9vbGVhbigpLFxuICAgICAgICBtYXhDb3VudDogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgICAgICBtYXNrTW9kZTogei5ib29sZWFuKCkub3B0aW9uYWwoKVxuICAgIH0pXG59KVxuZXhwb3J0IGNvbnN0IFdpZGdldGFibGVNYXNrc1dpZGdldFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICAuLi5XaWRnZXRhYmxlQmFzZVdpZGdldFNjaGVtYVBhcnQsXG4gICAgb3V0cHV0VHlwZTogei5saXRlcmFsKCdtYXNrcycpLFxuICAgIG9wdGlvbnM6IHoub2JqZWN0KHtcbiAgICAgICAgcmVxdWlyZWQ6IHouYm9vbGVhbigpXG4gICAgfSlcbn0pXG5leHBvcnQgY29uc3QgV2lkZ2V0YWJsZVN0cmluZ1dpZGdldFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICAuLi5XaWRnZXRhYmxlQmFzZVdpZGdldFNjaGVtYVBhcnQsXG4gICAgICAgIG91dHB1dFR5cGU6IHoubGl0ZXJhbCgnc3RyaW5nJyksXG4gICAgICAgIG9wdGlvbnM6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiB6LmJvb2xlYW4oKVxuICAgICAgICB9KVxufSlcbmV4cG9ydCBjb25zdCBXaWRnZXRhYmxlVG9nZ2xlV2lkZ2V0U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIC4uLldpZGdldGFibGVCYXNlV2lkZ2V0U2NoZW1hUGFydCxcbiAgICAgICAgb3V0cHV0VHlwZTogei5saXRlcmFsKCdib29sZWFuJyksXG4gICAgICAgIG9wdGlvbnM6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiB6LmJvb2xlYW4oKVxuICAgICAgICB9KVxufSlcbmV4cG9ydCBjb25zdCBXaWRnZXRhYmxlTnVtYmVyV2lkZ2V0U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIC4uLldpZGdldGFibGVCYXNlV2lkZ2V0U2NoZW1hUGFydCxcbiAgICAgICAgb3V0cHV0VHlwZTogei5saXRlcmFsKCdudW1iZXInKSxcbiAgICAgICAgb3B0aW9uczogei5vYmplY3Qoe1xuICAgICAgICAgICAgcmVxdWlyZWQ6IHouYm9vbGVhbigpLFxuICAgICAgICAgICAgbWluOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICBtYXg6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIHN0ZXA6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIHJhbmRvbTogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIHNsaWRlcjogei5ib29sZWFuKCkub3B0aW9uYWwoKVxuICAgICAgICB9KVxufSlcbmV4cG9ydCBjb25zdCBXaWRnZXRhYmxlQ29tYm9XaWRnZXRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgLi4uV2lkZ2V0YWJsZUJhc2VXaWRnZXRTY2hlbWFQYXJ0LFxuICAgICAgICBvdXRwdXRUeXBlOiB6LmxpdGVyYWwoJ2NvbWJvJyksXG4gICAgICAgIG9wdGlvbnM6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiB6LmJvb2xlYW4oKSxcbiAgICAgICAgICAgIHZhbHVlczogei5hcnJheSh6LnN0cmluZygpKSxcbiAgICAgICAgICAgIGxhYmVsczogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpXG4gICAgICAgIH0pXG59KVxuZXhwb3J0IGNvbnN0IFdpZGdldGFibGVTZWdtZW50V2lkZ2V0U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIC4uLldpZGdldGFibGVCYXNlV2lkZ2V0U2NoZW1hUGFydCxcbiAgICAgICAgb3V0cHV0VHlwZTogei5saXRlcmFsKCdzZWdtZW50JyksXG4gICAgICAgIG9wdGlvbnM6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIHJlcXVpcmVkOiB6LmJvb2xlYW4oKSxcbiAgICAgICAgICAgIHZhbHVlczogei5hcnJheSh6LnN0cmluZygpKVxuICAgICAgICB9KVxufSlcbmV4cG9ydCBjb25zdCBXaWRnZXRhYmxlV2lkZ2V0U2NoZW1hID0gei5kaXNjcmltaW5hdGVkVW5pb24oXCJvdXRwdXRUeXBlXCIsIFtcbiAgICBXaWRnZXRhYmxlSW1hZ2VzV2lkZ2V0U2NoZW1hLFxuICAgIFdpZGdldGFibGVNYXNrc1dpZGdldFNjaGVtYSxcbiAgICBXaWRnZXRhYmxlU3RyaW5nV2lkZ2V0U2NoZW1hLFxuICAgIFdpZGdldGFibGVUb2dnbGVXaWRnZXRTY2hlbWEsXG4gICAgV2lkZ2V0YWJsZU51bWJlcldpZGdldFNjaGVtYSxcbiAgICBXaWRnZXRhYmxlQ29tYm9XaWRnZXRTY2hlbWEsXG4gICAgV2lkZ2V0YWJsZVNlZ21lbnRXaWRnZXRTY2hlbWFcbl0pXG5leHBvcnQgY29uc3QgV2lkZ2V0YWJsZU5vZGVTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgaWQ6IHouc3RyaW5nKCksXG4gICAgdGl0bGU6IHouc3RyaW5nKCksXG4gICAgd2lkZ2V0czogei5hcnJheShXaWRnZXRhYmxlV2lkZ2V0U2NoZW1hKSxcbiAgICB1aVdlaWdodFN1bTogei5udW1iZXIoKVxufSlcbmV4cG9ydCBjb25zdCBXaWRnZXRhYmxlU3RydWN0dXJlU2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHdpZGdldGFibGVJRDogei5zdHJpbmcoKSxcbiAgICB3aWRnZXRhYmxlUGF0aDogei5zdHJpbmcoKSxcbiAgICBub2Rlczogei5yZWNvcmQoei5zdHJpbmcoKSwgV2lkZ2V0YWJsZU5vZGVTY2hlbWEpLFxuICAgIG5vdGU6IHouc3RyaW5nKCksXG4gICAgbm9kZUluZGV4ZXM6IHouYXJyYXkoei5zdHJpbmcoKSksXG4gICAgb3B0aW9uczogei5yZWNvcmQoei5zdHJpbmcoKSwgei5hbnkoKSlcbn0pXG5cbmV4cG9ydCB0eXBlIFdpZGdldGFibGVJbWFnZXNXaWRnZXQgPSB6LmluZmVyPHR5cGVvZiBXaWRnZXRhYmxlSW1hZ2VzV2lkZ2V0U2NoZW1hPjtcbmV4cG9ydCB0eXBlIFdpZGdldGFibGVNYXNrc1dpZGdldCA9IHouaW5mZXI8dHlwZW9mIFdpZGdldGFibGVNYXNrc1dpZGdldFNjaGVtYT47XG5leHBvcnQgdHlwZSBXaWRnZXRhYmxlU3RyaW5nV2lkZ2V0ID0gei5pbmZlcjx0eXBlb2YgV2lkZ2V0YWJsZVN0cmluZ1dpZGdldFNjaGVtYT47XG5leHBvcnQgdHlwZSBXaWRnZXRhYmxlVG9nZ2xlV2lkZ2V0ID0gei5pbmZlcjx0eXBlb2YgV2lkZ2V0YWJsZVRvZ2dsZVdpZGdldFNjaGVtYT47XG5leHBvcnQgdHlwZSBXaWRnZXRhYmxlTnVtYmVyV2lkZ2V0ID0gei5pbmZlcjx0eXBlb2YgV2lkZ2V0YWJsZU51bWJlcldpZGdldFNjaGVtYT47XG5leHBvcnQgdHlwZSBXaWRnZXRhYmxlQ29tYm9XaWRnZXQgPSB6LmluZmVyPHR5cGVvZiBXaWRnZXRhYmxlQ29tYm9XaWRnZXRTY2hlbWE+O1xuZXhwb3J0IHR5cGUgV2lkZ2V0YWJsZVNlZ21lbnRXaWRnZXQgPSB6LmluZmVyPHR5cGVvZiBXaWRnZXRhYmxlU2VnbWVudFdpZGdldFNjaGVtYT47XG5leHBvcnQgdHlwZSBXaWRnZXRhYmxlV2lkZ2V0ID0gei5pbmZlcjx0eXBlb2YgV2lkZ2V0YWJsZVdpZGdldFNjaGVtYT47XG5leHBvcnQgdHlwZSBXaWRnZXRhYmxlTm9kZSA9IHouaW5mZXI8dHlwZW9mIFdpZGdldGFibGVOb2RlU2NoZW1hPjtcbmV4cG9ydCB0eXBlIFdpZGdldGFibGVTdHJ1Y3R1cmUgPSB6LmluZmVyPHR5cGVvZiBXaWRnZXRhYmxlU3RydWN0dXJlU2NoZW1hPjtcbmV4cG9ydCB0eXBlIFdpZGdldGFibGVWYWx1ZXMgPSBSZWNvcmQ8c3RyaW5nLCBhbnlbXT5cblxuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRWYWx1ZXMob3R1cHV0VHlwZTogc3RyaW5nLCBvcHRpb25zOiBhbnkpIHtcbiAgICBzd2l0Y2ggKG90dXB1dFR5cGUpIHtcbiAgICAgICAgY2FzZSAnaW1hZ2VzJzpcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgY2FzZSAnbWFza3MnOlxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBjYXNlICdjb21ibyc6XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy52YWx1ZXNbMF07XG4gICAgfVxufSIsImltcG9ydCB7IHogfSBmcm9tICd6b2QnXG5pbXBvcnQgeyBXaWRnZXRhYmxlU3RydWN0dXJlU2NoZW1hIH0gZnJvbSAnQHNkcHBwL2NvbW1vbi9zY2hlbWFzL3NjaGVtYXMnXG5cbi8vIENvbWZ5IFN0b3JlIFNjaGVtYSAoYmFzZWQgb24gcHMtdXhwL2NvbW1vbi9zdG9yZXMvY29tZnkudHMpXG5leHBvcnQgY29uc3QgQ29tZnlTdG9yZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB3aWRnZXRhYmxlU3RydWN0dXJlOiBXaWRnZXRhYmxlU3RydWN0dXJlU2NoZW1hLmRlZmF1bHQoe1xuICAgICAgICB3aWRnZXRhYmxlSUQ6IFwiXCIsXG4gICAgICAgIHdpZGdldGFibGVQYXRoOiBcIlwiLFxuICAgICAgICBub2Rlczoge30sXG4gICAgICAgIG5vdGU6IFwiXCIsXG4gICAgICAgIG9wdGlvbnM6IHt9LFxuICAgICAgICBub2RlSW5kZXhlczogW10sXG4gICAgfSksXG4gICAgd2lkZ2V0YWJsZVZhbHVlczogei5yZWNvcmQoei5zdHJpbmcoKSwgei5hcnJheSh6LmFueSgpKSkuZGVmYXVsdCh7fSksXG4gICAgd2lkZ2V0YWJsZUVycm9yczogei5yZWNvcmQoei5zdHJpbmcoKSwgei5zdHJpbmcoKSkuZGVmYXVsdCh7fSksXG4gICAgcXVldWVTaXplOiB6Lm51bWJlcigpLmRlZmF1bHQoMCksXG4gICAgbGFzdEVycm9yOiB6LnN0cmluZygpLmRlZmF1bHQoXCJcIiksXG4gICAgcHJvZ3Jlc3M6IHoubnVtYmVyKCkuZGVmYXVsdCgwKSxcbiAgICBleGVjdXRpbmdOb2RlVGl0bGU6IHouc3RyaW5nKCkuZGVmYXVsdChcIlwiKSxcbiAgICBncmFwaFByb2dyZXNzOiB6Lm51bWJlcigpLmRlZmF1bHQoMCksXG4gICAgY29tZnlVc2VyVG9rZW46IHouc3RyaW5nKCkuZGVmYXVsdChcIlwiKSxcbiAgICBjb21meU9yZ0xvZ2dlZEluOiB6LmJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKSxcbiAgICBjb21meU9yZ0FQSUtleTogei5zdHJpbmcoKS5kZWZhdWx0KFwiXCIpLFxuICAgIGNvbWZ5V1NTdGF0ZTogei5lbnVtKFtcImNvbm5lY3RlZFwiLCBcInJlY29ubmVjdGluZ1wiXSkuZGVmYXVsdChcImNvbm5lY3RlZFwiKSxcbiAgICBsYXN0UnVuVGltZTogei5udW1iZXIoKS5kZWZhdWx0KDApLFxufSlcblxuZXhwb3J0IHR5cGUgQ29tZnlTdG9yZURhdGEgPSB6LmluZmVyPHR5cGVvZiBDb21meVN0b3JlU2NoZW1hPiIsImltcG9ydCB7IHogfSBmcm9tICd6b2QnXG5cbi8vIFVYUCB1dGlsaXR5IGFjdGlvbnMgKHN0b3JhZ2UsIGV4dGVybmFsIGxpbmtzLCBldGMuKVxuZXhwb3J0IGNvbnN0IHV4cFV0aWxBY3Rpb25zID0ge1xuICAgIC8vIFVYUC1yZWxhdGVkIGFjdGlvbnNcbiAgICBsb2c6IHtcbiAgICAgICAgcmVxdWVzdFNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgbGV2ZWw6IHouZW51bShbJ2xvZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InXSksXG4gICAgICAgICAgICBtZXNzYWdlczogei5hcnJheSh6LnN0cmluZygpKSxcbiAgICAgICAgfSksXG4gICAgICAgIHJlc3BvbnNlU2NoZW1hOiB6Lm9iamVjdCh7fSlcbiAgICB9LFxuXG4gICAgLy8gVVhQLXJlbGF0ZWQgYWN0aW9uc1xuICAgIG9wZW5FeHRlcm5hbExpbms6IHtcbiAgICAgICAgcmVxdWVzdFNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgdXJsOiB6LnN0cmluZygpLFxuICAgICAgICB9KSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIGVycm9yOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIH0pXG4gICAgfSxcbiAgICBnZXRTdG9yYWdlOiB7XG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIGtleTogei5zdHJpbmcoKSxcbiAgICAgICAgfSksXG4gICAgICAgIHJlc3BvbnNlU2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICB2YWx1ZTogei5zdHJpbmcoKSxcbiAgICAgICAgICAgIGVycm9yOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIH0pXG4gICAgfSxcbiAgICBzZXRTdG9yYWdlOiB7XG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIGtleTogei5zdHJpbmcoKSxcbiAgICAgICAgICAgIHZhbHVlOiB6LnN0cmluZygpLFxuICAgICAgICB9KSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIGVycm9yOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIH0pXG4gICAgfSxcbiAgICByZW1vdmVTdG9yYWdlOiB7XG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIGtleTogei5zdHJpbmcoKSxcbiAgICAgICAgfSksXG4gICAgICAgIHJlc3BvbnNlU2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBlcnJvcjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgICAgICB9KVxuICAgIH0sXG4gICAgLy8gS2V5Ym9hcmQgYWN0aW9uIGZvcndhcmRpbmdcbiAgICBrZXlib2FyZEFjdGlvbjoge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBrZXljb2RlOiB6LnN0cmluZygpLFxuICAgICAgICB9KSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgfSlcbiAgICB9LFxuXG4gICAgLy8gUGhvdG9zaG9wIHV0aWxpdHkgYWN0aW9uc1xuICAgIHNldENvbWZ5V2Vidmlld1VSTDoge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICB1cmw6IHouc3RyaW5nKCksXG4gICAgICAgIH0pLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICB9KVxuICAgIH0sXG4gICAgXG4gICAgdXBsb2FkQ29tZnlJbWFnZToge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICB1cGxvYWRJbnB1dDogei5vYmplY3Qoe1xuICAgICAgICAgICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnYnVmZmVyJykub3Ioei5saXRlcmFsKCd0b2tlbicpKSxcbiAgICAgICAgICAgICAgICB0b2tlbk9yQnVmZmVyOiB6LmFueSgpLFxuICAgICAgICAgICAgICAgIGZpbGVOYW1lOiB6LnN0cmluZygpXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG92ZXJ3cml0ZTogei5ib29sZWFuKCkub3B0aW9uYWwoKS5kZWZhdWx0KHRydWUpXG4gICAgICAgIH0pLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgbmFtZTogei5zdHJpbmcoKSxcbiAgICAgICAgfSlcbiAgICB9LFxuXG4gICAgLy8gUHJveGllZCBmZXRjaCBhY3Rpb25cbiAgICBwcm94aWVkRmV0Y2g6IHtcbiAgICAgICAgcmVxdWVzdFNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgdXJsOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgbWV0aG9kOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICBoZWFkZXJzOiB6LnJlY29yZCh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgYm9keTogei5hbnkoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgYm9keVR5cGU6IHouZW51bShbJ2pzb24nLCAnZm9ybURhdGEnLCAndGV4dCddKS5vcHRpb25hbCgpLFxuICAgICAgICB9KSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHouYm9vbGVhbigpLFxuICAgICAgICAgICAgc3RhdHVzOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICBzdGF0dXNUZXh0OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgICAgICBoZWFkZXJzOiB6LnJlY29yZCh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgZGF0YTogei5hbnkoKS5vcHRpb25hbCgpLFxuICAgICAgICAgICAgZXJyb3I6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgfSlcbiAgICB9XG59IiwiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCdcblxuLy8gQ29tbW9uIGltYWdlIHJlc3VsdCBzY2hlbWFcbmNvbnN0IEltYWdlUmVzdWx0U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHRodW1ibmFpbF91cmw6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBmaWxlX3Rva2VuOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgc291cmNlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgZXJyb3I6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pXG5cbi8vIFVYUCBpbWFnZSBwcm9jZXNzaW5nIGFjdGlvbnNcbmV4cG9ydCBjb25zdCB1eHBJbWFnaW5nQWN0aW9ucyA9IHtcbiAgICAvLyBDb250ZW50IHdlYnZpZXcgaW1hZ2Ugb3BlcmF0aW9uc1xuICAgIGRvR2V0SW1hZ2U6IHtcbiAgICAgICAgcmVxdWVzdFNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgYm91bmRhcnk6IHouZW51bShbJ2NhbnZhcycsICdjdXJsYXllcicsICdzZWxlY3Rpb24nXSksXG4gICAgICAgICAgICBjb250ZW50OiB6LmVudW0oWydjYW52YXMnLCAnY3VybGF5ZXInLCAnc2VsZWN0aW9uJ10pLm9yKHouc3RyaW5nKCkpLFxuICAgICAgICAgICAgaW1hZ2VTaXplOiB6Lm51bWJlcigpLFxuICAgICAgICAgICAgaW1hZ2VRdWFsaXR5OiB6Lm51bWJlcigpLFxuICAgICAgICAgICAgY3JvcEJ5U2VsZWN0aW9uOiB6LmVudW0oWydubycsICdwb3NpdGl2ZScsICduZWdhdGl2ZSddKSxcbiAgICAgICAgfSksXG4gICAgICAgIHJlc3BvbnNlU2NoZW1hOiBJbWFnZVJlc3VsdFNjaGVtYVxuICAgIH0sXG5cbiAgICBkb0dldE1hc2s6IHtcbiAgICAgICAgcmVxdWVzdFNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgY29udGVudDogei5lbnVtKFsnY2FudmFzJywgJ2N1cmxheWVyJywgJ3NlbGVjdGlvbiddKSxcbiAgICAgICAgICAgIHJldmVyc2U6IHouYm9vbGVhbigpLFxuICAgICAgICAgICAgaW1hZ2VTaXplOiB6Lm51bWJlcigpLFxuICAgICAgICB9KSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IEltYWdlUmVzdWx0U2NoZW1hXG4gICAgfSxcbiAgICBcbiAgICBkb1NlbmRJbWFnZToge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBzZWxlY3Rpb246IHouZW51bShbJ25ld2RvY19jYW52YXMnLCAnbmV3bGF5ZXJfY2FudmFzJywgJ25ld2xheWVyX2N1cmxheWVyJywgJ25ld2xheWVyX3NlbGVjdGlvbicsICdjdXJsYXllcl9jYW52YXMnLCAnY3VybGF5ZXJfY3VybGF5ZXInLCAnY3VybGF5ZXJfc2VsZWN0aW9uJywgJ25ld2RvY19jYW52YXMnXSksXG4gICAgICAgICAgICB1cmw6IHouc3RyaW5nKCksXG4gICAgICAgICAgICBzb3VyY2U6IHouc3RyaW5nKCksXG4gICAgICAgICAgICBjcm9wQnlTZWxlY3Rpb246IHouZW51bShbJ25vJywgJ3Bvc2l0aXZlJywgJ25lZ2F0aXZlJ10pLmRlZmF1bHQoJ25vJyksXG4gICAgICAgIH0pLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgZXJyb3I6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgfSlcbiAgICB9LFxuICAgIFxuICAgIHJlcXVlc3RJbWFnZUdldDoge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiB6Lm9iamVjdCh7fSksXG4gICAgICAgIHJlc3BvbnNlU2NoZW1hOiBJbWFnZVJlc3VsdFNjaGVtYVxuICAgIH0sXG4gICAgXG4gICAgcmVxdWVzdEltYWdlU2VuZDoge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICB1cmw6IHouc3RyaW5nKCksXG4gICAgICAgICAgICBzb3VyY2U6IHouc3RyaW5nKCksXG4gICAgICAgIH0pLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgZXJyb3I6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgfSlcbiAgICB9LFxuICAgIFxuICAgIHJlcXVlc3RNYXNrR2V0OiB7XG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIGlzTWFzazogei5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSksXG4gICAgICAgIH0pLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogSW1hZ2VSZXN1bHRTY2hlbWFcbiAgICB9XG59IiwiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCdcblxuZXhwb3J0IGNvbnN0IFVYUEF1dGhSZWdpc3RlclJlcXVlc3RTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgcGFzc3dvcmRQYXlsb2FkOiB6Lm9iamVjdCh7XG4gICAgICAgIHVzZXJuYW1lOiB6LnN0cmluZygpLFxuICAgICAgICBwYXNzd29yZDogei5zdHJpbmcoKVxuICAgIH0pLm9yKHoub2JqZWN0KHtcbiAgICAgICAgZW1haWw6IHouc3RyaW5nKCksXG4gICAgICAgIHBhc3N3b3JkOiB6LnN0cmluZygpXG4gICAgfSkpLm9yKHoub2JqZWN0KHtcbiAgICAgICAgcGhvbmU6IHouc3RyaW5nKCksXG4gICAgICAgIHBhc3N3b3JkOiB6LnN0cmluZygpXG4gICAgfSkpLm9yKHoub2JqZWN0KHtcbiAgICAgICAgaWRlbnRpZmllcjogei5zdHJpbmcoKSxcbiAgICAgICAgcGFzc3dvcmQ6IHouc3RyaW5nKClcbiAgICB9KSksXG59KS5vcih6Lm9iamVjdCh7XG4gICAgcGFzc2NvZGVQYXlsb2FkOiB6Lm9iamVjdCh7XG4gICAgICAgIHBob25lOiB6LnN0cmluZygpLFxuICAgICAgICBjb2RlOiB6LnN0cmluZygpXG4gICAgfSkub3Ioei5vYmplY3Qoe1xuICAgICAgICBlbWFpbDogei5zdHJpbmcoKSxcbiAgICAgICAgY29kZTogei5zdHJpbmcoKVxuICAgIH0pKSxcbn0pKVxuXG5leHBvcnQgY29uc3QgVVhQQXV0aExvZ2luUmVxdWVzdFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICBwYXNzd29yZFBheWxvYWQ6IHoub2JqZWN0KHtcbiAgICAgICAgdXNlcm5hbWU6IHouc3RyaW5nKCksXG4gICAgICAgIHBhc3N3b3JkOiB6LnN0cmluZygpXG4gICAgfSkub3Ioei5vYmplY3Qoe1xuICAgICAgICBlbWFpbDogei5zdHJpbmcoKSxcbiAgICAgICAgcGFzc3dvcmQ6IHouc3RyaW5nKClcbiAgICB9KSkub3Ioei5vYmplY3Qoe1xuICAgICAgICBwaG9uZTogei5zdHJpbmcoKSxcbiAgICAgICAgcGFzc3dvcmQ6IHouc3RyaW5nKClcbiAgICB9KSkub3Ioei5vYmplY3Qoe1xuICAgICAgICBpZGVudGlmaWVyOiB6LnN0cmluZygpLFxuICAgICAgICBwYXNzd29yZDogei5zdHJpbmcoKVxuICAgIH0pKSxcbn0pLm9yKHoub2JqZWN0KHtcbiAgICBwYXNzY29kZVBheWxvYWQ6IHoub2JqZWN0KHtcbiAgICAgICAgcGhvbmU6IHouc3RyaW5nKCksXG4gICAgICAgIGNvZGU6IHouc3RyaW5nKClcbiAgICB9KS5vcih6Lm9iamVjdCh7XG4gICAgICAgIGVtYWlsOiB6LnN0cmluZygpLFxuICAgICAgICBjb2RlOiB6LnN0cmluZygpXG4gICAgfSkpLFxufSkpXG5cbi8vIFVYUCBhdXRoZW50aWNhdGlvbiBhY3Rpb25zIChTRFBQUC1yZWxhdGVkKVxuZXhwb3J0IGNvbnN0IHV4cEF1dGhBY3Rpb25zID0ge1xuICAgIC8vIFNEUFBQIGF1dGhlbnRpY2F0aW9uIGFjdGlvbnNcbiAgICByZWdpc3Rlcjoge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiBVWFBBdXRoUmVnaXN0ZXJSZXF1ZXN0U2NoZW1hLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICB9KVxuICAgIH0sXG5cbiAgICBsb2dpbjoge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiBVWFBBdXRoTG9naW5SZXF1ZXN0U2NoZW1hLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICB9KVxuICAgIH0sXG5cbiAgICBzZW5kUGFzc0NvZGU6IHtcbiAgICAgICAgcmVxdWVzdFNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgcGhvbmU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIGVtYWlsOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIH0pLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICB9KVxuICAgIH0sXG5cbiAgICBsb2dvdXQ6IHtcbiAgICAgICAgcmVxdWVzdFNjaGVtYTogei5vYmplY3Qoe30pLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICB9KVxuICAgIH0sXG5cbiAgICBndWVzdExvZ2luOiB7XG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHoub2JqZWN0KHt9KSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgfSlcbiAgICB9XG59IiwiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCdcblxuLy8gQ29tbW9uIHdvcmtmbG93IHNjaGVtYXNcbmNvbnN0IFdvcmtmbG93TGlzdFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB3b3JrZmxvd3M6IHouYXJyYXkoei5zdHJpbmcoKSksXG4gICAgZXJyb3I6IHouc3RyaW5nKCkub3B0aW9uYWwoKVxufSlcblxuY29uc3QgUnVuUmVzdWx0U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHN1Y2Nlc3M6IHouYm9vbGVhbigpLFxuICAgIG5vZGVFcnJvcnM6IHoucmVjb3JkKHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gICAgcHJvbXB0X2lkczogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgIGltYWdlczogei5hcnJheSh6Lm9iamVjdCh7XG4gICAgICAgIHVybDogei5zdHJpbmcoKSxcbiAgICAgICAgdGh1bWJuYWlsOiB6LnN0cmluZygpLFxuICAgIH0pKS5vcHRpb25hbCgpLFxufSlcblxuLy8gQ29tZnlVSSB3b3JrZmxvdyBtYW5hZ2VtZW50IGFjdGlvbnNcbmV4cG9ydCBjb25zdCBjb21meVdvcmtmbG93QWN0aW9ucyA9IHtcbiAgICAvLyBOb2RlIG1hbmlwdWxhdGlvblxuICAgIHNldFdpZGdldFZhbHVlOiB7XG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIHZhbHVlczogei5hcnJheSh6Lm9iamVjdCh7XG4gICAgICAgICAgICAgICAgbm9kZUlEOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgICAgIHdpZGdldEluZGV4OiB6Lm51bWJlcigpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB6LnJlY29yZCh6LnN0cmluZygpLCB6LmFueSgpKVxuICAgICAgICAgICAgICAgICAgICAub3Ioei5zdHJpbmcoKSlcbiAgICAgICAgICAgICAgICAgICAgLm9yKHoubnVtYmVyKCkpXG4gICAgICAgICAgICAgICAgICAgIC5vcih6LmJvb2xlYW4oKSlcbiAgICAgICAgICAgICAgICAgICAgLm9yKHouYXJyYXkoei5hbnkoKSkpLFxuICAgICAgICAgICAgfSkpLFxuICAgICAgICB9KSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHouYm9vbGVhbigpLFxuICAgICAgICB9KVxuICAgIH0sXG5cbiAgICAvLyBXb3JrZmxvdyBtYW5hZ2VtZW50XG4gICAgb3BlbldvcmtmbG93OiB7XG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIHdvcmtmbG93X3BhdGg6IHouc3RyaW5nKCksXG4gICAgICAgICAgICByZXNldDogei5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSksXG4gICAgICAgIH0pLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgc3VjY2Vzczogei5ib29sZWFuKCksXG4gICAgICAgIH0pXG4gICAgfSxcbiAgICBcbiAgICBvcGVuV29ya2Zsb3dKU09OOiB7XG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIHdvcmtmbG93X2NvbnRlbnQ6IHoucmVjb3JkKHouYW55KCkpLFxuICAgICAgICAgICAgd29ya2Zsb3dfcGF0aDogei5zdHJpbmcoKSxcbiAgICAgICAgfSksXG4gICAgICAgIHJlc3BvbnNlU2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBzdWNjZXNzOiB6LmJvb2xlYW4oKSxcbiAgICAgICAgfSlcbiAgICB9LFxuICAgIFxuICAgIGxpc3RXb3JrZmxvd3M6IHtcbiAgICAgICAgcmVxdWVzdFNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgbGlzdE1vZGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIHNkcHBwSUQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgICAgIHNkcHBwVG9rZW46IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgfSksXG4gICAgICAgIHJlc3BvbnNlU2NoZW1hOiBXb3JrZmxvd0xpc3RTY2hlbWFcbiAgICB9LFxuICAgIFxuICAgIHNhdmVXb3JrZmxvdzoge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICB3b3JrZmxvd19wYXRoOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgZnJvbV9zaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgfSksXG4gICAgICAgIHJlc3BvbnNlU2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBzdWNjZXNzOiB6LmJvb2xlYW4oKSxcbiAgICAgICAgfSlcbiAgICB9LFxuICAgIFxuICAgIC8vIFdvcmtmbG93IGV4ZWN1dGlvblxuICAgIHJ1bjoge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBzaXplOiB6Lm51bWJlcigpLFxuICAgICAgICB9KSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IFJ1blJlc3VsdFNjaGVtYSxcbiAgICAgICAgc3RyZWFtOiB0cnVlIGFzIGNvbnN0LFxuICAgIH0sXG5cbiAgICBzdG9wQWxsOiB7XG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHoub2JqZWN0KHt9KSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHouYm9vbGVhbigpLFxuICAgICAgICB9KVxuICAgIH0sXG4gICAgXG4gICAgLy8gaW50ZXJydXB0OiB7XG4gICAgLy8gICAgIHJlcXVlc3RTY2hlbWE6IHoub2JqZWN0KHt9KSxcbiAgICAvLyAgICAgcmVzcG9uc2VTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAvLyAgICAgICAgIHN1Y2Nlc3M6IHouYm9vbGVhbigpLFxuICAgIC8vICAgICB9KVxuICAgIC8vIH0sXG4gICAgXG4gICAgLy8gY2xlYXJRdWV1ZToge1xuICAgIC8vICAgICByZXF1ZXN0U2NoZW1hOiB6Lm9iamVjdCh7fSksXG4gICAgLy8gICAgIHJlc3BvbnNlU2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgLy8gICAgICAgICBzdWNjZXNzOiB6LmJvb2xlYW4oKSxcbiAgICAvLyAgICAgfSlcbiAgICAvLyB9XG59IiwiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCdcblxuLy8gQ29tZnlVSSB1dGlsaXR5IGFuZCBzeXN0ZW0gbWFuYWdlbWVudCBhY3Rpb25zXG5leHBvcnQgY29uc3QgY29tZnlVdGlsQWN0aW9ucyA9IHtcbiAgICBzZXROb2RlVGl0bGU6IHtcbiAgICAgICAgcmVxdWVzdFNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgbm9kZV9pZDogei5zdHJpbmcoKSxcbiAgICAgICAgICAgIHRpdGxlOiB6LnN0cmluZygpLFxuICAgICAgICB9KSxcbiAgICAgICAgcmVzcG9uc2VTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHouYm9vbGVhbigpLFxuICAgICAgICB9KVxuICAgIH0sXG5cbiAgICAvLyBTeXN0ZW0gbWFuYWdlbWVudFxuICAgIHJlYm9vdDoge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiB6Lm9iamVjdCh7fSksXG4gICAgICAgIHJlc3BvbnNlU2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBzdWNjZXNzOiB6LmJvb2xlYW4oKSxcbiAgICAgICAgICAgIGVycm9yOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgICAgIH0pXG4gICAgfSxcblxuICAgIHNldENvbWZ5T3JnQVBJS2V5OiB7XG4gICAgICAgIHJlcXVlc3RTY2hlbWE6IHoub2JqZWN0KHtcbiAgICAgICAgICAgIGFwaV9rZXk6IHouc3RyaW5nKCksXG4gICAgICAgIH0pLFxuICAgICAgICByZXNwb25zZVNjaGVtYTogei5vYmplY3Qoe1xuICAgICAgICAgICAgc3VjY2Vzczogei5ib29sZWFuKCksXG4gICAgICAgIH0pXG4gICAgfSxcblxuICAgIGxvZ291dDoge1xuICAgICAgICByZXF1ZXN0U2NoZW1hOiB6Lm9iamVjdCh7fSksXG4gICAgICAgIHJlc3BvbnNlU2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgICAgICBzdWNjZXNzOiB6LmJvb2xlYW4oKSxcbiAgICAgICAgfSlcbiAgICB9XG59IiwiaW1wb3J0IHsgZGVmaW5lR3JhcGggfSBmcm9tICdAc2RwcHAvbWNwLW1lc2gnXG5cbi8vIEltcG9ydCBzdG9yZSBzY2hlbWFzXG5pbXBvcnQgeyBTREtTdG9yZVNjaGVtYSB9IGZyb20gJy4vc3RvcmVzL3NkaydcbmltcG9ydCB7IFVYUFN0b3JlU2NoZW1hIH0gZnJvbSAnLi9zdG9yZXMvdXhwJ1xuaW1wb3J0IHsgQ29tZnlTdG9yZVNjaGVtYSB9IGZyb20gJy4vc3RvcmVzL2NvbWZ5J1xuXG4vLyBJbXBvcnQgYWN0aW9uIHNjaGVtYXNcbmltcG9ydCB7IHV4cFV0aWxBY3Rpb25zIH0gZnJvbSAnLi9hY3Rpb25zL3V4cC11dGlsJ1xuaW1wb3J0IHsgdXhwSW1hZ2luZ0FjdGlvbnMgfSBmcm9tICcuL2FjdGlvbnMvdXhwLWltYWdpbmcnXG5pbXBvcnQgeyB1eHBBdXRoQWN0aW9ucyB9IGZyb20gJy4vYWN0aW9ucy91eHAtYXV0aCdcbmltcG9ydCB7IGNvbWZ5V29ya2Zsb3dBY3Rpb25zIH0gZnJvbSAnLi9hY3Rpb25zL2NvbWZ5LXdvcmtmbG93J1xuaW1wb3J0IHsgY29tZnlVdGlsQWN0aW9ucyB9IGZyb20gJy4vYWN0aW9ucy9jb21meS11dGlsJ1xuXG5leHBvcnQgZGVmYXVsdCBkZWZpbmVHcmFwaCh7XG4gICAgbm9kZXM6IHtcbiAgICAgICAgLy8gU0RLIG5vZGUgLSByZXByZXNlbnRzIHRoZSBjb250ZW50IHdlYnZpZXcvU0RLIGxheWVyXG4gICAgICAgIHNkazoge1xuICAgICAgICAgICAgc3RvcmU6IFNES1N0b3JlU2NoZW1hLFxuICAgICAgICAgICAgYWN0aW9uczoge1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgLy8gVVhQIG5vZGUgLSByZXByZXNlbnRzIHRoZSBQaG90b3Nob3AgVVhQIHBsdWdpblxuICAgICAgICB1eHA6IHtcbiAgICAgICAgICAgIHN0b3JlOiBVWFBTdG9yZVNjaGVtYSxcbiAgICAgICAgICAgIGFjdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAuLi51eHBJbWFnaW5nQWN0aW9ucyxcbiAgICAgICAgICAgICAgICAuLi51eHBVdGlsQWN0aW9ucyxcbiAgICAgICAgICAgICAgICAuLi51eHBBdXRoQWN0aW9uc1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgLy8gQ29tZnkgbm9kZSAtIHJlcHJlc2VudHMgQ29tZnlVSSBpbnN0YW5jZXNcbiAgICAgICAgY29tZnk6IHtcbiAgICAgICAgICAgIHN0b3JlOiBDb21meVN0b3JlU2NoZW1hLFxuICAgICAgICAgICAgYWN0aW9uczoge1xuICAgICAgICAgICAgICAgIC4uLmNvbWZ5V29ya2Zsb3dBY3Rpb25zLFxuICAgICAgICAgICAgICAgIC4uLmNvbWZ5VXRpbEFjdGlvbnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgZWRnZXM6IFtcbiAgICAgICAgWydzZGsnLCAndXhwJ10sICAgLy8gU0RLIGNvbm5lY3RzIHRvIFVYUFxuICAgICAgICBbJ2NvbWZ5JywgJ3V4cCddLCAvLyBDb21meSBjb25uZWN0cyB0byBVWFBcbiAgICBdXG59KSIsImltcG9ydCBtZXNoRGVmIGZyb20gJ0BzZHBwcC9tY3AtbWVzaC1waG90b3Nob3AnO1xuXG5jb25zdCBtY3BNZXNoID0gbWVzaERlZi5qb2luQXMoJ3NkaycpXG5cbmdsb2JhbFRoaXMubWNwTWVzaCA9IG1jcE1lc2g7XG5cblxuZXhwb3J0IHsgbWNwTWVzaCB9OyIsImltcG9ydCB7IG1jcE1lc2ggfSBmcm9tIFwiLi4vbWVzaFwiO1xuXG5kb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgIGlmIChcbiAgICAgICAgZS50YXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50IHx8XG4gICAgICAgIGUudGFyZ2V0IGluc3RhbmNlb2YgSFRNTFRleHRBcmVhRWxlbWVudCB8fFxuICAgICAgICBlLnRhcmdldCBpbnN0YW5jZW9mIEhUTUxTZWxlY3RFbGVtZW50XG4gICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbWNwTWVzaC5nZXROb2RlKCd1eHAnKS5hY3Rpb25zLmtleWJvYXJkQWN0aW9uKHtcbiAgICAgICAga2V5Y29kZTogZS5jb2RlLFxuICAgIH0pXG59KSIsIi8qKlxuICogSGVscGVycy5cbiAqL1xuXG52YXIgcyA9IDEwMDA7XG52YXIgbSA9IHMgKiA2MDtcbnZhciBoID0gbSAqIDYwO1xudmFyIGQgPSBoICogMjQ7XG52YXIgdyA9IGQgKiA3O1xudmFyIHkgPSBkICogMzY1LjI1O1xuXG4vKipcbiAqIFBhcnNlIG9yIGZvcm1hdCB0aGUgZ2l2ZW4gYHZhbGAuXG4gKlxuICogT3B0aW9uczpcbiAqXG4gKiAgLSBgbG9uZ2AgdmVyYm9zZSBmb3JtYXR0aW5nIFtmYWxzZV1cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHZhbFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHRocm93cyB7RXJyb3J9IHRocm93IGFuIGVycm9yIGlmIHZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgbnVtYmVyXG4gKiBAcmV0dXJuIHtTdHJpbmd8TnVtYmVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWwsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbDtcbiAgaWYgKHR5cGUgPT09ICdzdHJpbmcnICYmIHZhbC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHBhcnNlKHZhbCk7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodmFsKSkge1xuICAgIHJldHVybiBvcHRpb25zLmxvbmcgPyBmbXRMb25nKHZhbCkgOiBmbXRTaG9ydCh2YWwpO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICAndmFsIGlzIG5vdCBhIG5vbi1lbXB0eSBzdHJpbmcgb3IgYSB2YWxpZCBudW1iZXIuIHZhbD0nICtcbiAgICAgIEpTT04uc3RyaW5naWZ5KHZhbClcbiAgKTtcbn07XG5cbi8qKlxuICogUGFyc2UgdGhlIGdpdmVuIGBzdHJgIGFuZCByZXR1cm4gbWlsbGlzZWNvbmRzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHBhcnNlKHN0cikge1xuICBzdHIgPSBTdHJpbmcoc3RyKTtcbiAgaWYgKHN0ci5sZW5ndGggPiAxMDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG1hdGNoID0gL14oLT8oPzpcXGQrKT9cXC4/XFxkKykgKihtaWxsaXNlY29uZHM/fG1zZWNzP3xtc3xzZWNvbmRzP3xzZWNzP3xzfG1pbnV0ZXM/fG1pbnM/fG18aG91cnM/fGhycz98aHxkYXlzP3xkfHdlZWtzP3x3fHllYXJzP3x5cnM/fHkpPyQvaS5leGVjKFxuICAgIHN0clxuICApO1xuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBuID0gcGFyc2VGbG9hdChtYXRjaFsxXSk7XG4gIHZhciB0eXBlID0gKG1hdGNoWzJdIHx8ICdtcycpLnRvTG93ZXJDYXNlKCk7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ3llYXJzJzpcbiAgICBjYXNlICd5ZWFyJzpcbiAgICBjYXNlICd5cnMnOlxuICAgIGNhc2UgJ3lyJzpcbiAgICBjYXNlICd5JzpcbiAgICAgIHJldHVybiBuICogeTtcbiAgICBjYXNlICd3ZWVrcyc6XG4gICAgY2FzZSAnd2Vlayc6XG4gICAgY2FzZSAndyc6XG4gICAgICByZXR1cm4gbiAqIHc7XG4gICAgY2FzZSAnZGF5cyc6XG4gICAgY2FzZSAnZGF5JzpcbiAgICBjYXNlICdkJzpcbiAgICAgIHJldHVybiBuICogZDtcbiAgICBjYXNlICdob3Vycyc6XG4gICAgY2FzZSAnaG91cic6XG4gICAgY2FzZSAnaHJzJzpcbiAgICBjYXNlICdocic6XG4gICAgY2FzZSAnaCc6XG4gICAgICByZXR1cm4gbiAqIGg7XG4gICAgY2FzZSAnbWludXRlcyc6XG4gICAgY2FzZSAnbWludXRlJzpcbiAgICBjYXNlICdtaW5zJzpcbiAgICBjYXNlICdtaW4nOlxuICAgIGNhc2UgJ20nOlxuICAgICAgcmV0dXJuIG4gKiBtO1xuICAgIGNhc2UgJ3NlY29uZHMnOlxuICAgIGNhc2UgJ3NlY29uZCc6XG4gICAgY2FzZSAnc2Vjcyc6XG4gICAgY2FzZSAnc2VjJzpcbiAgICBjYXNlICdzJzpcbiAgICAgIHJldHVybiBuICogcztcbiAgICBjYXNlICdtaWxsaXNlY29uZHMnOlxuICAgIGNhc2UgJ21pbGxpc2Vjb25kJzpcbiAgICBjYXNlICdtc2Vjcyc6XG4gICAgY2FzZSAnbXNlYyc6XG4gICAgY2FzZSAnbXMnOlxuICAgICAgcmV0dXJuIG47XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBTaG9ydCBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRTaG9ydChtcykge1xuICB2YXIgbXNBYnMgPSBNYXRoLmFicyhtcyk7XG4gIGlmIChtc0FicyA+PSBkKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBkKSArICdkJztcbiAgfVxuICBpZiAobXNBYnMgPj0gaCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gaCkgKyAnaCc7XG4gIH1cbiAgaWYgKG1zQWJzID49IG0pIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIG0pICsgJ20nO1xuICB9XG4gIGlmIChtc0FicyA+PSBzKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBzKSArICdzJztcbiAgfVxuICByZXR1cm4gbXMgKyAnbXMnO1xufVxuXG4vKipcbiAqIExvbmcgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10TG9uZyhtcykge1xuICB2YXIgbXNBYnMgPSBNYXRoLmFicyhtcyk7XG4gIGlmIChtc0FicyA+PSBkKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIGQsICdkYXknKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gaCkge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBoLCAnaG91cicpO1xuICB9XG4gIGlmIChtc0FicyA+PSBtKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIG0sICdtaW51dGUnKTtcbiAgfVxuICBpZiAobXNBYnMgPj0gcykge1xuICAgIHJldHVybiBwbHVyYWwobXMsIG1zQWJzLCBzLCAnc2Vjb25kJyk7XG4gIH1cbiAgcmV0dXJuIG1zICsgJyBtcyc7XG59XG5cbi8qKlxuICogUGx1cmFsaXphdGlvbiBoZWxwZXIuXG4gKi9cblxuZnVuY3Rpb24gcGx1cmFsKG1zLCBtc0FicywgbiwgbmFtZSkge1xuICB2YXIgaXNQbHVyYWwgPSBtc0FicyA+PSBuICogMS41O1xuICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIG4pICsgJyAnICsgbmFtZSArIChpc1BsdXJhbCA/ICdzJyA6ICcnKTtcbn1cbiIsIlxuLyoqXG4gKiBUaGlzIGlzIHRoZSBjb21tb24gbG9naWMgZm9yIGJvdGggdGhlIE5vZGUuanMgYW5kIHdlYiBicm93c2VyXG4gKiBpbXBsZW1lbnRhdGlvbnMgb2YgYGRlYnVnKClgLlxuICovXG5cbmZ1bmN0aW9uIHNldHVwKGVudikge1xuXHRjcmVhdGVEZWJ1Zy5kZWJ1ZyA9IGNyZWF0ZURlYnVnO1xuXHRjcmVhdGVEZWJ1Zy5kZWZhdWx0ID0gY3JlYXRlRGVidWc7XG5cdGNyZWF0ZURlYnVnLmNvZXJjZSA9IGNvZXJjZTtcblx0Y3JlYXRlRGVidWcuZGlzYWJsZSA9IGRpc2FibGU7XG5cdGNyZWF0ZURlYnVnLmVuYWJsZSA9IGVuYWJsZTtcblx0Y3JlYXRlRGVidWcuZW5hYmxlZCA9IGVuYWJsZWQ7XG5cdGNyZWF0ZURlYnVnLmh1bWFuaXplID0gcmVxdWlyZSgnbXMnKTtcblx0Y3JlYXRlRGVidWcuZGVzdHJveSA9IGRlc3Ryb3k7XG5cblx0T2JqZWN0LmtleXMoZW52KS5mb3JFYWNoKGtleSA9PiB7XG5cdFx0Y3JlYXRlRGVidWdba2V5XSA9IGVudltrZXldO1xuXHR9KTtcblxuXHQvKipcblx0KiBUaGUgY3VycmVudGx5IGFjdGl2ZSBkZWJ1ZyBtb2RlIG5hbWVzLCBhbmQgbmFtZXMgdG8gc2tpcC5cblx0Ki9cblxuXHRjcmVhdGVEZWJ1Zy5uYW1lcyA9IFtdO1xuXHRjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdO1xuXG5cdC8qKlxuXHQqIE1hcCBvZiBzcGVjaWFsIFwiJW5cIiBoYW5kbGluZyBmdW5jdGlvbnMsIGZvciB0aGUgZGVidWcgXCJmb3JtYXRcIiBhcmd1bWVudC5cblx0KlxuXHQqIFZhbGlkIGtleSBuYW1lcyBhcmUgYSBzaW5nbGUsIGxvd2VyIG9yIHVwcGVyLWNhc2UgbGV0dGVyLCBpLmUuIFwiblwiIGFuZCBcIk5cIi5cblx0Ki9cblx0Y3JlYXRlRGVidWcuZm9ybWF0dGVycyA9IHt9O1xuXG5cdC8qKlxuXHQqIFNlbGVjdHMgYSBjb2xvciBmb3IgYSBkZWJ1ZyBuYW1lc3BhY2Vcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlIFRoZSBuYW1lc3BhY2Ugc3RyaW5nIGZvciB0aGUgZGVidWcgaW5zdGFuY2UgdG8gYmUgY29sb3JlZFxuXHQqIEByZXR1cm4ge051bWJlcnxTdHJpbmd9IEFuIEFOU0kgY29sb3IgY29kZSBmb3IgdGhlIGdpdmVuIG5hbWVzcGFjZVxuXHQqIEBhcGkgcHJpdmF0ZVxuXHQqL1xuXHRmdW5jdGlvbiBzZWxlY3RDb2xvcihuYW1lc3BhY2UpIHtcblx0XHRsZXQgaGFzaCA9IDA7XG5cblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzcGFjZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0aGFzaCA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpICsgbmFtZXNwYWNlLmNoYXJDb2RlQXQoaSk7XG5cdFx0XHRoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlclxuXHRcdH1cblxuXHRcdHJldHVybiBjcmVhdGVEZWJ1Zy5jb2xvcnNbTWF0aC5hYnMoaGFzaCkgJSBjcmVhdGVEZWJ1Zy5jb2xvcnMubGVuZ3RoXTtcblx0fVxuXHRjcmVhdGVEZWJ1Zy5zZWxlY3RDb2xvciA9IHNlbGVjdENvbG9yO1xuXG5cdC8qKlxuXHQqIENyZWF0ZSBhIGRlYnVnZ2VyIHdpdGggdGhlIGdpdmVuIGBuYW1lc3BhY2VgLlxuXHQqXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuXHQqIEByZXR1cm4ge0Z1bmN0aW9ufVxuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGNyZWF0ZURlYnVnKG5hbWVzcGFjZSkge1xuXHRcdGxldCBwcmV2VGltZTtcblx0XHRsZXQgZW5hYmxlT3ZlcnJpZGUgPSBudWxsO1xuXHRcdGxldCBuYW1lc3BhY2VzQ2FjaGU7XG5cdFx0bGV0IGVuYWJsZWRDYWNoZTtcblxuXHRcdGZ1bmN0aW9uIGRlYnVnKC4uLmFyZ3MpIHtcblx0XHRcdC8vIERpc2FibGVkP1xuXHRcdFx0aWYgKCFkZWJ1Zy5lbmFibGVkKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3Qgc2VsZiA9IGRlYnVnO1xuXG5cdFx0XHQvLyBTZXQgYGRpZmZgIHRpbWVzdGFtcFxuXHRcdFx0Y29uc3QgY3VyciA9IE51bWJlcihuZXcgRGF0ZSgpKTtcblx0XHRcdGNvbnN0IG1zID0gY3VyciAtIChwcmV2VGltZSB8fCBjdXJyKTtcblx0XHRcdHNlbGYuZGlmZiA9IG1zO1xuXHRcdFx0c2VsZi5wcmV2ID0gcHJldlRpbWU7XG5cdFx0XHRzZWxmLmN1cnIgPSBjdXJyO1xuXHRcdFx0cHJldlRpbWUgPSBjdXJyO1xuXG5cdFx0XHRhcmdzWzBdID0gY3JlYXRlRGVidWcuY29lcmNlKGFyZ3NbMF0pO1xuXG5cdFx0XHRpZiAodHlwZW9mIGFyZ3NbMF0gIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdC8vIEFueXRoaW5nIGVsc2UgbGV0J3MgaW5zcGVjdCB3aXRoICVPXG5cdFx0XHRcdGFyZ3MudW5zaGlmdCgnJU8nKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQXBwbHkgYW55IGBmb3JtYXR0ZXJzYCB0cmFuc2Zvcm1hdGlvbnNcblx0XHRcdGxldCBpbmRleCA9IDA7XG5cdFx0XHRhcmdzWzBdID0gYXJnc1swXS5yZXBsYWNlKC8lKFthLXpBLVolXSkvZywgKG1hdGNoLCBmb3JtYXQpID0+IHtcblx0XHRcdFx0Ly8gSWYgd2UgZW5jb3VudGVyIGFuIGVzY2FwZWQgJSB0aGVuIGRvbid0IGluY3JlYXNlIHRoZSBhcnJheSBpbmRleFxuXHRcdFx0XHRpZiAobWF0Y2ggPT09ICclJScpIHtcblx0XHRcdFx0XHRyZXR1cm4gJyUnO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdGNvbnN0IGZvcm1hdHRlciA9IGNyZWF0ZURlYnVnLmZvcm1hdHRlcnNbZm9ybWF0XTtcblx0XHRcdFx0aWYgKHR5cGVvZiBmb3JtYXR0ZXIgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRjb25zdCB2YWwgPSBhcmdzW2luZGV4XTtcblx0XHRcdFx0XHRtYXRjaCA9IGZvcm1hdHRlci5jYWxsKHNlbGYsIHZhbCk7XG5cblx0XHRcdFx0XHQvLyBOb3cgd2UgbmVlZCB0byByZW1vdmUgYGFyZ3NbaW5kZXhdYCBzaW5jZSBpdCdzIGlubGluZWQgaW4gdGhlIGBmb3JtYXRgXG5cdFx0XHRcdFx0YXJncy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdFx0XHRcdGluZGV4LS07XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG1hdGNoO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIEFwcGx5IGVudi1zcGVjaWZpYyBmb3JtYXR0aW5nIChjb2xvcnMsIGV0Yy4pXG5cdFx0XHRjcmVhdGVEZWJ1Zy5mb3JtYXRBcmdzLmNhbGwoc2VsZiwgYXJncyk7XG5cblx0XHRcdGNvbnN0IGxvZ0ZuID0gc2VsZi5sb2cgfHwgY3JlYXRlRGVidWcubG9nO1xuXHRcdFx0bG9nRm4uYXBwbHkoc2VsZiwgYXJncyk7XG5cdFx0fVxuXG5cdFx0ZGVidWcubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuXHRcdGRlYnVnLnVzZUNvbG9ycyA9IGNyZWF0ZURlYnVnLnVzZUNvbG9ycygpO1xuXHRcdGRlYnVnLmNvbG9yID0gY3JlYXRlRGVidWcuc2VsZWN0Q29sb3IobmFtZXNwYWNlKTtcblx0XHRkZWJ1Zy5leHRlbmQgPSBleHRlbmQ7XG5cdFx0ZGVidWcuZGVzdHJveSA9IGNyZWF0ZURlYnVnLmRlc3Ryb3k7IC8vIFhYWCBUZW1wb3JhcnkuIFdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLlxuXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGRlYnVnLCAnZW5hYmxlZCcsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuXHRcdFx0Z2V0OiAoKSA9PiB7XG5cdFx0XHRcdGlmIChlbmFibGVPdmVycmlkZSAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdHJldHVybiBlbmFibGVPdmVycmlkZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAobmFtZXNwYWNlc0NhY2hlICE9PSBjcmVhdGVEZWJ1Zy5uYW1lc3BhY2VzKSB7XG5cdFx0XHRcdFx0bmFtZXNwYWNlc0NhY2hlID0gY3JlYXRlRGVidWcubmFtZXNwYWNlcztcblx0XHRcdFx0XHRlbmFibGVkQ2FjaGUgPSBjcmVhdGVEZWJ1Zy5lbmFibGVkKG5hbWVzcGFjZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZW5hYmxlZENhY2hlO1xuXHRcdFx0fSxcblx0XHRcdHNldDogdiA9PiB7XG5cdFx0XHRcdGVuYWJsZU92ZXJyaWRlID0gdjtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIEVudi1zcGVjaWZpYyBpbml0aWFsaXphdGlvbiBsb2dpYyBmb3IgZGVidWcgaW5zdGFuY2VzXG5cdFx0aWYgKHR5cGVvZiBjcmVhdGVEZWJ1Zy5pbml0ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRjcmVhdGVEZWJ1Zy5pbml0KGRlYnVnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGVidWc7XG5cdH1cblxuXHRmdW5jdGlvbiBleHRlbmQobmFtZXNwYWNlLCBkZWxpbWl0ZXIpIHtcblx0XHRjb25zdCBuZXdEZWJ1ZyA9IGNyZWF0ZURlYnVnKHRoaXMubmFtZXNwYWNlICsgKHR5cGVvZiBkZWxpbWl0ZXIgPT09ICd1bmRlZmluZWQnID8gJzonIDogZGVsaW1pdGVyKSArIG5hbWVzcGFjZSk7XG5cdFx0bmV3RGVidWcubG9nID0gdGhpcy5sb2c7XG5cdFx0cmV0dXJuIG5ld0RlYnVnO1xuXHR9XG5cblx0LyoqXG5cdCogRW5hYmxlcyBhIGRlYnVnIG1vZGUgYnkgbmFtZXNwYWNlcy4gVGhpcyBjYW4gaW5jbHVkZSBtb2Rlc1xuXHQqIHNlcGFyYXRlZCBieSBhIGNvbG9uIGFuZCB3aWxkY2FyZHMuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGVuYWJsZShuYW1lc3BhY2VzKSB7XG5cdFx0Y3JlYXRlRGVidWcuc2F2ZShuYW1lc3BhY2VzKTtcblx0XHRjcmVhdGVEZWJ1Zy5uYW1lc3BhY2VzID0gbmFtZXNwYWNlcztcblxuXHRcdGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG5cdFx0Y3JlYXRlRGVidWcuc2tpcHMgPSBbXTtcblxuXHRcdGNvbnN0IHNwbGl0ID0gKHR5cGVvZiBuYW1lc3BhY2VzID09PSAnc3RyaW5nJyA/IG5hbWVzcGFjZXMgOiAnJylcblx0XHRcdC50cmltKClcblx0XHRcdC5yZXBsYWNlKC9cXHMrL2csICcsJylcblx0XHRcdC5zcGxpdCgnLCcpXG5cdFx0XHQuZmlsdGVyKEJvb2xlYW4pO1xuXG5cdFx0Zm9yIChjb25zdCBucyBvZiBzcGxpdCkge1xuXHRcdFx0aWYgKG5zWzBdID09PSAnLScpIHtcblx0XHRcdFx0Y3JlYXRlRGVidWcuc2tpcHMucHVzaChucy5zbGljZSgxKSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjcmVhdGVEZWJ1Zy5uYW1lcy5wdXNoKG5zKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBzdHJpbmcgbWF0Y2hlcyBhIG5hbWVzcGFjZSB0ZW1wbGF0ZSwgaG9ub3Jpbmdcblx0ICogYXN0ZXJpc2tzIGFzIHdpbGRjYXJkcy5cblx0ICpcblx0ICogQHBhcmFtIHtTdHJpbmd9IHNlYXJjaFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdGVtcGxhdGVcblx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0ICovXG5cdGZ1bmN0aW9uIG1hdGNoZXNUZW1wbGF0ZShzZWFyY2gsIHRlbXBsYXRlKSB7XG5cdFx0bGV0IHNlYXJjaEluZGV4ID0gMDtcblx0XHRsZXQgdGVtcGxhdGVJbmRleCA9IDA7XG5cdFx0bGV0IHN0YXJJbmRleCA9IC0xO1xuXHRcdGxldCBtYXRjaEluZGV4ID0gMDtcblxuXHRcdHdoaWxlIChzZWFyY2hJbmRleCA8IHNlYXJjaC5sZW5ndGgpIHtcblx0XHRcdGlmICh0ZW1wbGF0ZUluZGV4IDwgdGVtcGxhdGUubGVuZ3RoICYmICh0ZW1wbGF0ZVt0ZW1wbGF0ZUluZGV4XSA9PT0gc2VhcmNoW3NlYXJjaEluZGV4XSB8fCB0ZW1wbGF0ZVt0ZW1wbGF0ZUluZGV4XSA9PT0gJyonKSkge1xuXHRcdFx0XHQvLyBNYXRjaCBjaGFyYWN0ZXIgb3IgcHJvY2VlZCB3aXRoIHdpbGRjYXJkXG5cdFx0XHRcdGlmICh0ZW1wbGF0ZVt0ZW1wbGF0ZUluZGV4XSA9PT0gJyonKSB7XG5cdFx0XHRcdFx0c3RhckluZGV4ID0gdGVtcGxhdGVJbmRleDtcblx0XHRcdFx0XHRtYXRjaEluZGV4ID0gc2VhcmNoSW5kZXg7XG5cdFx0XHRcdFx0dGVtcGxhdGVJbmRleCsrOyAvLyBTa2lwIHRoZSAnKidcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzZWFyY2hJbmRleCsrO1xuXHRcdFx0XHRcdHRlbXBsYXRlSW5kZXgrKztcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChzdGFySW5kZXggIT09IC0xKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmVnYXRlZC1jb25kaXRpb25cblx0XHRcdFx0Ly8gQmFja3RyYWNrIHRvIHRoZSBsYXN0ICcqJyBhbmQgdHJ5IHRvIG1hdGNoIG1vcmUgY2hhcmFjdGVyc1xuXHRcdFx0XHR0ZW1wbGF0ZUluZGV4ID0gc3RhckluZGV4ICsgMTtcblx0XHRcdFx0bWF0Y2hJbmRleCsrO1xuXHRcdFx0XHRzZWFyY2hJbmRleCA9IG1hdGNoSW5kZXg7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7IC8vIE5vIG1hdGNoXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gSGFuZGxlIHRyYWlsaW5nICcqJyBpbiB0ZW1wbGF0ZVxuXHRcdHdoaWxlICh0ZW1wbGF0ZUluZGV4IDwgdGVtcGxhdGUubGVuZ3RoICYmIHRlbXBsYXRlW3RlbXBsYXRlSW5kZXhdID09PSAnKicpIHtcblx0XHRcdHRlbXBsYXRlSW5kZXgrKztcblx0XHR9XG5cblx0XHRyZXR1cm4gdGVtcGxhdGVJbmRleCA9PT0gdGVtcGxhdGUubGVuZ3RoO1xuXHR9XG5cblx0LyoqXG5cdCogRGlzYWJsZSBkZWJ1ZyBvdXRwdXQuXG5cdCpcblx0KiBAcmV0dXJuIHtTdHJpbmd9IG5hbWVzcGFjZXNcblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBkaXNhYmxlKCkge1xuXHRcdGNvbnN0IG5hbWVzcGFjZXMgPSBbXG5cdFx0XHQuLi5jcmVhdGVEZWJ1Zy5uYW1lcyxcblx0XHRcdC4uLmNyZWF0ZURlYnVnLnNraXBzLm1hcChuYW1lc3BhY2UgPT4gJy0nICsgbmFtZXNwYWNlKVxuXHRcdF0uam9pbignLCcpO1xuXHRcdGNyZWF0ZURlYnVnLmVuYWJsZSgnJyk7XG5cdFx0cmV0dXJuIG5hbWVzcGFjZXM7XG5cdH1cblxuXHQvKipcblx0KiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vZGUgbmFtZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuXHQqIEByZXR1cm4ge0Jvb2xlYW59XG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZW5hYmxlZChuYW1lKSB7XG5cdFx0Zm9yIChjb25zdCBza2lwIG9mIGNyZWF0ZURlYnVnLnNraXBzKSB7XG5cdFx0XHRpZiAobWF0Y2hlc1RlbXBsYXRlKG5hbWUsIHNraXApKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmb3IgKGNvbnN0IG5zIG9mIGNyZWF0ZURlYnVnLm5hbWVzKSB7XG5cdFx0XHRpZiAobWF0Y2hlc1RlbXBsYXRlKG5hbWUsIG5zKSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvKipcblx0KiBDb2VyY2UgYHZhbGAuXG5cdCpcblx0KiBAcGFyYW0ge01peGVkfSB2YWxcblx0KiBAcmV0dXJuIHtNaXhlZH1cblx0KiBAYXBpIHByaXZhdGVcblx0Ki9cblx0ZnVuY3Rpb24gY29lcmNlKHZhbCkge1xuXHRcdGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikge1xuXHRcdFx0cmV0dXJuIHZhbC5zdGFjayB8fCB2YWwubWVzc2FnZTtcblx0XHR9XG5cdFx0cmV0dXJuIHZhbDtcblx0fVxuXG5cdC8qKlxuXHQqIFhYWCBETyBOT1QgVVNFLiBUaGlzIGlzIGEgdGVtcG9yYXJ5IHN0dWIgZnVuY3Rpb24uXG5cdCogWFhYIEl0IFdJTEwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlLlxuXHQqL1xuXHRmdW5jdGlvbiBkZXN0cm95KCkge1xuXHRcdGNvbnNvbGUud2FybignSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLicpO1xuXHR9XG5cblx0Y3JlYXRlRGVidWcuZW5hYmxlKGNyZWF0ZURlYnVnLmxvYWQoKSk7XG5cblx0cmV0dXJuIGNyZWF0ZURlYnVnO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldHVwO1xuIiwiLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbi8qKlxuICogVGhpcyBpcyB0aGUgd2ViIGJyb3dzZXIgaW1wbGVtZW50YXRpb24gb2YgYGRlYnVnKClgLlxuICovXG5cbmV4cG9ydHMuZm9ybWF0QXJncyA9IGZvcm1hdEFyZ3M7XG5leHBvcnRzLnNhdmUgPSBzYXZlO1xuZXhwb3J0cy5sb2FkID0gbG9hZDtcbmV4cG9ydHMudXNlQ29sb3JzID0gdXNlQ29sb3JzO1xuZXhwb3J0cy5zdG9yYWdlID0gbG9jYWxzdG9yYWdlKCk7XG5leHBvcnRzLmRlc3Ryb3kgPSAoKCkgPT4ge1xuXHRsZXQgd2FybmVkID0gZmFsc2U7XG5cblx0cmV0dXJuICgpID0+IHtcblx0XHRpZiAoIXdhcm5lZCkge1xuXHRcdFx0d2FybmVkID0gdHJ1ZTtcblx0XHRcdGNvbnNvbGUud2FybignSW5zdGFuY2UgbWV0aG9kIGBkZWJ1Zy5kZXN0cm95KClgIGlzIGRlcHJlY2F0ZWQgYW5kIG5vIGxvbmdlciBkb2VzIGFueXRoaW5nLiBJdCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiBvZiBgZGVidWdgLicpO1xuXHRcdH1cblx0fTtcbn0pKCk7XG5cbi8qKlxuICogQ29sb3JzLlxuICovXG5cbmV4cG9ydHMuY29sb3JzID0gW1xuXHQnIzAwMDBDQycsXG5cdCcjMDAwMEZGJyxcblx0JyMwMDMzQ0MnLFxuXHQnIzAwMzNGRicsXG5cdCcjMDA2NkNDJyxcblx0JyMwMDY2RkYnLFxuXHQnIzAwOTlDQycsXG5cdCcjMDA5OUZGJyxcblx0JyMwMENDMDAnLFxuXHQnIzAwQ0MzMycsXG5cdCcjMDBDQzY2Jyxcblx0JyMwMENDOTknLFxuXHQnIzAwQ0NDQycsXG5cdCcjMDBDQ0ZGJyxcblx0JyMzMzAwQ0MnLFxuXHQnIzMzMDBGRicsXG5cdCcjMzMzM0NDJyxcblx0JyMzMzMzRkYnLFxuXHQnIzMzNjZDQycsXG5cdCcjMzM2NkZGJyxcblx0JyMzMzk5Q0MnLFxuXHQnIzMzOTlGRicsXG5cdCcjMzNDQzAwJyxcblx0JyMzM0NDMzMnLFxuXHQnIzMzQ0M2NicsXG5cdCcjMzNDQzk5Jyxcblx0JyMzM0NDQ0MnLFxuXHQnIzMzQ0NGRicsXG5cdCcjNjYwMENDJyxcblx0JyM2NjAwRkYnLFxuXHQnIzY2MzNDQycsXG5cdCcjNjYzM0ZGJyxcblx0JyM2NkNDMDAnLFxuXHQnIzY2Q0MzMycsXG5cdCcjOTkwMENDJyxcblx0JyM5OTAwRkYnLFxuXHQnIzk5MzNDQycsXG5cdCcjOTkzM0ZGJyxcblx0JyM5OUNDMDAnLFxuXHQnIzk5Q0MzMycsXG5cdCcjQ0MwMDAwJyxcblx0JyNDQzAwMzMnLFxuXHQnI0NDMDA2NicsXG5cdCcjQ0MwMDk5Jyxcblx0JyNDQzAwQ0MnLFxuXHQnI0NDMDBGRicsXG5cdCcjQ0MzMzAwJyxcblx0JyNDQzMzMzMnLFxuXHQnI0NDMzM2NicsXG5cdCcjQ0MzMzk5Jyxcblx0JyNDQzMzQ0MnLFxuXHQnI0NDMzNGRicsXG5cdCcjQ0M2NjAwJyxcblx0JyNDQzY2MzMnLFxuXHQnI0NDOTkwMCcsXG5cdCcjQ0M5OTMzJyxcblx0JyNDQ0NDMDAnLFxuXHQnI0NDQ0MzMycsXG5cdCcjRkYwMDAwJyxcblx0JyNGRjAwMzMnLFxuXHQnI0ZGMDA2NicsXG5cdCcjRkYwMDk5Jyxcblx0JyNGRjAwQ0MnLFxuXHQnI0ZGMDBGRicsXG5cdCcjRkYzMzAwJyxcblx0JyNGRjMzMzMnLFxuXHQnI0ZGMzM2NicsXG5cdCcjRkYzMzk5Jyxcblx0JyNGRjMzQ0MnLFxuXHQnI0ZGMzNGRicsXG5cdCcjRkY2NjAwJyxcblx0JyNGRjY2MzMnLFxuXHQnI0ZGOTkwMCcsXG5cdCcjRkY5OTMzJyxcblx0JyNGRkNDMDAnLFxuXHQnI0ZGQ0MzMydcbl07XG5cbi8qKlxuICogQ3VycmVudGx5IG9ubHkgV2ViS2l0LWJhc2VkIFdlYiBJbnNwZWN0b3JzLCBGaXJlZm94ID49IHYzMSxcbiAqIGFuZCB0aGUgRmlyZWJ1ZyBleHRlbnNpb24gKGFueSBGaXJlZm94IHZlcnNpb24pIGFyZSBrbm93blxuICogdG8gc3VwcG9ydCBcIiVjXCIgQ1NTIGN1c3RvbWl6YXRpb25zLlxuICpcbiAqIFRPRE86IGFkZCBhIGBsb2NhbFN0b3JhZ2VgIHZhcmlhYmxlIHRvIGV4cGxpY2l0bHkgZW5hYmxlL2Rpc2FibGUgY29sb3JzXG4gKi9cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcblx0Ly8gTkI6IEluIGFuIEVsZWN0cm9uIHByZWxvYWQgc2NyaXB0LCBkb2N1bWVudCB3aWxsIGJlIGRlZmluZWQgYnV0IG5vdCBmdWxseVxuXHQvLyBpbml0aWFsaXplZC4gU2luY2Ugd2Uga25vdyB3ZSdyZSBpbiBDaHJvbWUsIHdlJ2xsIGp1c3QgZGV0ZWN0IHRoaXMgY2FzZVxuXHQvLyBleHBsaWNpdGx5XG5cdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucHJvY2VzcyAmJiAod2luZG93LnByb2Nlc3MudHlwZSA9PT0gJ3JlbmRlcmVyJyB8fCB3aW5kb3cucHJvY2Vzcy5fX253anMpKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBJbnRlcm5ldCBFeHBsb3JlciBhbmQgRWRnZSBkbyBub3Qgc3VwcG9ydCBjb2xvcnMuXG5cdGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvKGVkZ2V8dHJpZGVudClcXC8oXFxkKykvKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGxldCBtO1xuXG5cdC8vIElzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG5cdC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXR1cm4tYXNzaWduXG5cdHJldHVybiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlKSB8fFxuXHRcdC8vIElzIGZpcmVidWc/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5ODEyMC8zNzY3NzNcblx0XHQodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmNvbnNvbGUgJiYgKHdpbmRvdy5jb25zb2xlLmZpcmVidWcgfHwgKHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiAmJiB3aW5kb3cuY29uc29sZS50YWJsZSkpKSB8fFxuXHRcdC8vIElzIGZpcmVmb3ggPj0gdjMxP1xuXHRcdC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvVG9vbHMvV2ViX0NvbnNvbGUjU3R5bGluZ19tZXNzYWdlc1xuXHRcdCh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIChtID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykpICYmIHBhcnNlSW50KG1bMV0sIDEwKSA+PSAzMSkgfHxcblx0XHQvLyBEb3VibGUgY2hlY2sgd2Via2l0IGluIHVzZXJBZ2VudCBqdXN0IGluIGNhc2Ugd2UgYXJlIGluIGEgd29ya2VyXG5cdFx0KHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hcHBsZXdlYmtpdFxcLyhcXGQrKS8pKTtcbn1cblxuLyoqXG4gKiBDb2xvcml6ZSBsb2cgYXJndW1lbnRzIGlmIGVuYWJsZWQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBmb3JtYXRBcmdzKGFyZ3MpIHtcblx0YXJnc1swXSA9ICh0aGlzLnVzZUNvbG9ycyA/ICclYycgOiAnJykgK1xuXHRcdHRoaXMubmFtZXNwYWNlICtcblx0XHQodGhpcy51c2VDb2xvcnMgPyAnICVjJyA6ICcgJykgK1xuXHRcdGFyZ3NbMF0gK1xuXHRcdCh0aGlzLnVzZUNvbG9ycyA/ICclYyAnIDogJyAnKSArXG5cdFx0JysnICsgbW9kdWxlLmV4cG9ydHMuaHVtYW5pemUodGhpcy5kaWZmKTtcblxuXHRpZiAoIXRoaXMudXNlQ29sb3JzKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Y29uc3QgYyA9ICdjb2xvcjogJyArIHRoaXMuY29sb3I7XG5cdGFyZ3Muc3BsaWNlKDEsIDAsIGMsICdjb2xvcjogaW5oZXJpdCcpO1xuXG5cdC8vIFRoZSBmaW5hbCBcIiVjXCIgaXMgc29tZXdoYXQgdHJpY2t5LCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG90aGVyXG5cdC8vIGFyZ3VtZW50cyBwYXNzZWQgZWl0aGVyIGJlZm9yZSBvciBhZnRlciB0aGUgJWMsIHNvIHdlIG5lZWQgdG9cblx0Ly8gZmlndXJlIG91dCB0aGUgY29ycmVjdCBpbmRleCB0byBpbnNlcnQgdGhlIENTUyBpbnRvXG5cdGxldCBpbmRleCA9IDA7XG5cdGxldCBsYXN0QyA9IDA7XG5cdGFyZ3NbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLCBtYXRjaCA9PiB7XG5cdFx0aWYgKG1hdGNoID09PSAnJSUnKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGluZGV4Kys7XG5cdFx0aWYgKG1hdGNoID09PSAnJWMnKSB7XG5cdFx0XHQvLyBXZSBvbmx5IGFyZSBpbnRlcmVzdGVkIGluIHRoZSAqbGFzdCogJWNcblx0XHRcdC8vICh0aGUgdXNlciBtYXkgaGF2ZSBwcm92aWRlZCB0aGVpciBvd24pXG5cdFx0XHRsYXN0QyA9IGluZGV4O1xuXHRcdH1cblx0fSk7XG5cblx0YXJncy5zcGxpY2UobGFzdEMsIDAsIGMpO1xufVxuXG4vKipcbiAqIEludm9rZXMgYGNvbnNvbGUuZGVidWcoKWAgd2hlbiBhdmFpbGFibGUuXG4gKiBOby1vcCB3aGVuIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgYSBcImZ1bmN0aW9uXCIuXG4gKiBJZiBgY29uc29sZS5kZWJ1Z2AgaXMgbm90IGF2YWlsYWJsZSwgZmFsbHMgYmFja1xuICogdG8gYGNvbnNvbGUubG9nYC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5leHBvcnRzLmxvZyA9IGNvbnNvbGUuZGVidWcgfHwgY29uc29sZS5sb2cgfHwgKCgpID0+IHt9KTtcblxuLyoqXG4gKiBTYXZlIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNhdmUobmFtZXNwYWNlcykge1xuXHR0cnkge1xuXHRcdGlmIChuYW1lc3BhY2VzKSB7XG5cdFx0XHRleHBvcnRzLnN0b3JhZ2Uuc2V0SXRlbSgnZGVidWcnLCBuYW1lc3BhY2VzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZXhwb3J0cy5zdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlYnVnJyk7XG5cdFx0fVxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxufVxuXG4vKipcbiAqIExvYWQgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJucyB0aGUgcHJldmlvdXNseSBwZXJzaXN0ZWQgZGVidWcgbW9kZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBsb2FkKCkge1xuXHRsZXQgcjtcblx0dHJ5IHtcblx0XHRyID0gZXhwb3J0cy5zdG9yYWdlLmdldEl0ZW0oJ2RlYnVnJykgfHwgZXhwb3J0cy5zdG9yYWdlLmdldEl0ZW0oJ0RFQlVHJykgO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxuXG5cdC8vIElmIGRlYnVnIGlzbid0IHNldCBpbiBMUywgYW5kIHdlJ3JlIGluIEVsZWN0cm9uLCB0cnkgdG8gbG9hZCAkREVCVUdcblx0aWYgKCFyICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAnZW52JyBpbiBwcm9jZXNzKSB7XG5cdFx0ciA9IHByb2Nlc3MuZW52LkRFQlVHO1xuXHR9XG5cblx0cmV0dXJuIHI7XG59XG5cbi8qKlxuICogTG9jYWxzdG9yYWdlIGF0dGVtcHRzIHRvIHJldHVybiB0aGUgbG9jYWxzdG9yYWdlLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugc2FmYXJpIHRocm93c1xuICogd2hlbiBhIHVzZXIgZGlzYWJsZXMgY29va2llcy9sb2NhbHN0b3JhZ2VcbiAqIGFuZCB5b3UgYXR0ZW1wdCB0byBhY2Nlc3MgaXQuXG4gKlxuICogQHJldHVybiB7TG9jYWxTdG9yYWdlfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9jYWxzdG9yYWdlKCkge1xuXHR0cnkge1xuXHRcdC8vIFRWTUxLaXQgKEFwcGxlIFRWIEpTIFJ1bnRpbWUpIGRvZXMgbm90IGhhdmUgYSB3aW5kb3cgb2JqZWN0LCBqdXN0IGxvY2FsU3RvcmFnZSBpbiB0aGUgZ2xvYmFsIGNvbnRleHRcblx0XHQvLyBUaGUgQnJvd3NlciBhbHNvIGhhcyBsb2NhbFN0b3JhZ2UgaW4gdGhlIGdsb2JhbCBjb250ZXh0LlxuXHRcdHJldHVybiBsb2NhbFN0b3JhZ2U7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9jb21tb24nKShleHBvcnRzKTtcblxuY29uc3Qge2Zvcm1hdHRlcnN9ID0gbW9kdWxlLmV4cG9ydHM7XG5cbi8qKlxuICogTWFwICVqIHRvIGBKU09OLnN0cmluZ2lmeSgpYCwgc2luY2Ugbm8gV2ViIEluc3BlY3RvcnMgZG8gdGhhdCBieSBkZWZhdWx0LlxuICovXG5cbmZvcm1hdHRlcnMuaiA9IGZ1bmN0aW9uICh2KSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHYpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiAnW1VuZXhwZWN0ZWRKU09OUGFyc2VFcnJvcl06ICcgKyBlcnJvci5tZXNzYWdlO1xuXHR9XG59O1xuIiwiaW1wb3J0IGRlYnVnIGZyb20gJ2RlYnVnJztcblxuZGVidWcuZW5hYmxlKCcqJylcblxudHlwZSBNZXNoTG9nID0gKHBhcmFtOiB7XG4gICAgbGV2ZWw6ICdlcnJvcicgfCAnd2FybicgfCAnaW5mbycgfCAnbG9nJyxcbiAgICBtZXNzYWdlczogYW55W11cbn0pID0+IFByb21pc2U8dm9pZD5cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VMb2dnZXIobmFtZTogc3RyaW5nLCBtZXNoTG9nOiBNZXNoTG9nKSB7XG4gICAgY29uc3QgbG9nZ2VyID0gZGVidWcobmFtZSk7XG4gICAgXG4gICAgY29uc3QgY3JlYXRlTG9nTWV0aG9kID0gKGxldmVsOiAnZXJyb3InIHwgJ3dhcm4nIHwgJ2luZm8nIHwgJ2xvZycsIG9yaWdpbkZuPzogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkKSA9PiB7XG4gICAgICAgIHJldHVybiBhc3luYyBmdW5jdGlvbiAoLi4uYXJnczogYW55W10pIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIC8vIGlmIChpbXBvcnQubWV0YS5lbnYuREVWKSB7XG4gICAgICAgICAgICAvLyAgICAgaWYgKG9yaWdpbkZuKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgIG9yaWdpbkZuKC4uLmFyZ3MpO1xuICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBtZXNoTG9nKHtcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBhcmdzLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIC8vIFNpbGVudGx5IGhhbmRsZSBlcnJvcnMgdG8gYXZvaWQgYnJlYWtpbmcgbG9nZ2luZ1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvLyBPdmVycmlkZSBsb2cgZnVuY3Rpb25cbiAgICBsb2dnZXIubG9nID0gY3JlYXRlTG9nTWV0aG9kKCdsb2cnLCBjb25zb2xlLmxvZyk7XG4gICAgXG4gICAgLy8gLy8gQWRkIG90aGVyIGxvZyBsZXZlbCBtZXRob2RzXG4gICAgLy8gKGxvZ2dlciBhcyBhbnkpLmluZm8gPSBjcmVhdGVMb2dNZXRob2QoJ2luZm8nLCBjb25zb2xlLmluZm8pO1xuICAgIC8vIChsb2dnZXIgYXMgYW55KS53YXJuID0gY3JlYXRlTG9nTWV0aG9kKCd3YXJuJywgY29uc29sZS53YXJuKTtcbiAgICAvLyAobG9nZ2VyIGFzIGFueSkuZXJyb3IgPSBjcmVhdGVMb2dNZXRob2QoJ2Vycm9yJywgY29uc29sZS5lcnJvcik7XG5cbiAgICByZXR1cm4gbG9nZ2VyO1xufSIsImltcG9ydCB7IG1ha2VMb2dnZXIgfSBmcm9tICdAc2RwcHAvaW50ZXJuYWwtY29tbW9uJztcblxuY29uc3QgbG9nZ2VyID0gbWFrZUxvZ2dlcignbWVzaDpzZGsnLCBhc3luYyAoe1xuICAgIGxldmVsLFxuICAgIG1lc3NhZ2VzXG59KSA9PiB7XG4gICAgY29uc3QgeyBtY3BNZXNoIH0gPSBhd2FpdCBpbXBvcnQoJy4vbWVzaCcpXG4gICAgYXdhaXQgbWNwTWVzaC5nZXROb2RlKCd1eHAnKS5hY3Rpb25zLmxvZyh7XG4gICAgICAgICAgICBsZXZlbCxcbiAgICAgICAgICAgIG1lc3NhZ2VzXG4gICAgICAgIH0pXG59KVxuXG5leHBvcnQgeyBsb2dnZXIgfSIsImltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgeyBtY3BNZXNoIH0gZnJvbSBcIi4uL21lc2hcIjtcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gXCIuLi8uLi9sb2dnZXJcIjtcblxuY29uc3QgbG9nID0gbG9nZ2VyLmV4dGVuZCgnc2RrLWZldGNoLXByb3h5JylcblxuLy8gRm9ybURhdGHluo/liJfljJbnm7jlhbPnmoTnsbvlnovlrprkuYlcbmludGVyZmFjZSBTZXJpYWxpemVkRmlsZSB7XG4gICAgdHlwZTogJ2ZpbGUnO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBkYXRhOiBzdHJpbmc7IC8vIGJhc2U2NOe8lueggeeahOaWh+S7tuaVsOaNrlxuICAgIG1pbWVUeXBlOiBzdHJpbmc7XG59XG5cbnR5cGUgU2VyaWFsaXplZEZvcm1EYXRhRW50cnkgPSBbc3RyaW5nLCBzdHJpbmcgfCBTZXJpYWxpemVkRmlsZV07XG50eXBlIFNlcmlhbGl6ZWRGb3JtRGF0YSA9IFNlcmlhbGl6ZWRGb3JtRGF0YUVudHJ5W107XG5cbi8vIOW6j+WIl+WMlkZvcm1EYXRh5Li65Y+v5Lyg6YCS55qE5qC85byPXG5hc3luYyBmdW5jdGlvbiBzZXJpYWxpemVGb3JtRGF0YShmb3JtRGF0YTogRm9ybURhdGEpOiBQcm9taXNlPFNlcmlhbGl6ZWRGb3JtRGF0YT4ge1xuICAgIGNvbnN0IGVudHJpZXM6IFNlcmlhbGl6ZWRGb3JtRGF0YSA9IFtdO1xuXG4gICAgLy8g5L2/55So57G75Z6L5pat6KiA5p2l6Kej5YazRm9ybURhdGHmlrnms5Xnsbvlnovpl67pophcbiAgICBjb25zdCBmb3JtRGF0YUFueSA9IGZvcm1EYXRhIGFzIGFueTtcblxuICAgIC8vIOmBjeWOhkZvcm1EYXRh55qE5omA5pyJ6ZSuXG4gICAgaWYgKGZvcm1EYXRhQW55LmVudHJpZXMpIHtcbiAgICAgICAgLy8g5aaC5p6c5pSv5oyBZW50cmllc+aWueazlVxuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBmb3JtRGF0YUFueS5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEZpbGUpIHtcbiAgICAgICAgICAgICAgICAvLyDlpITnkIbmlofku7ZcbiAgICAgICAgICAgICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IHZhbHVlLmFycmF5QnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZTY0RGF0YSA9IEJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyKS50b1N0cmluZygnYmFzZTY0Jyk7XG5cbiAgICAgICAgICAgICAgICBlbnRyaWVzLnB1c2goW2tleSwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZmlsZScsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHZhbHVlLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGJhc2U2NERhdGEsXG4gICAgICAgICAgICAgICAgICAgIG1pbWVUeXBlOiB2YWx1ZS50eXBlIHx8ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nXG4gICAgICAgICAgICAgICAgfV0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyDlpITnkIbmma7pgJrlrZfnrKbkuLLlgLxcbiAgICAgICAgICAgICAgICBlbnRyaWVzLnB1c2goW2tleSwgU3RyaW5nKHZhbHVlKV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8g6ZmN57qn5pa55qGI77ya5bCd6K+V55u05o6l6K6/6Zeu5YaF6YOo5pWw5o2uXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRm9ybURhdGEgc2VyaWFsaXphdGlvbiBub3Qgc3VwcG9ydGVkIGluIHRoaXMgZW52aXJvbm1lbnQnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZW50cmllcztcbn1cblxuYXN5bmMgZnVuY3Rpb24gcHJveGllZEZldGNoKGRhdGE6IHtcbiAgICB1cmw6IHN0cmluZztcbiAgICBtZXRob2Q/OiBzdHJpbmc7XG4gICAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gICAgYm9keT86IGFueTtcbiAgICBib2R5VHlwZT86ICdqc29uJyB8ICdmb3JtRGF0YScgfCAndGV4dCc7XG59KSB7XG4gICAgLy8g56Gu5a6aYm9keVR5cGVcbiAgICBsZXQgYm9keVR5cGU6ICdqc29uJyB8ICdmb3JtRGF0YScgfCAndGV4dCcgPSAnanNvbic7XG4gICAgaWYgKGRhdGEuYm9keVR5cGUpIHtcbiAgICAgICAgYm9keVR5cGUgPSBkYXRhLmJvZHlUeXBlO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGEuYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgYm9keVR5cGUgPSAndGV4dCc7XG4gICAgfVxuXG4gICAgLy8g5bqP5YiX5YyWRm9ybURhdGFcbiAgICBsZXQgc2VyaWFsaXplZEJvZHkgPSBkYXRhLmJvZHk7XG4gICAgaWYgKGRhdGEuYm9keSBpbnN0YW5jZW9mIEZvcm1EYXRhKSB7XG4gICAgICAgIHNlcmlhbGl6ZWRCb2R5ID0gYXdhaXQgc2VyaWFsaXplRm9ybURhdGEoZGF0YS5ib2R5KTtcbiAgICAgICAgYm9keVR5cGUgPSAnZm9ybURhdGEnO1xuICAgIH1cblxuICAgIC8vIGxvZygncHJveGllZEZldGNoJywgZGF0YS51cmwsIGRhdGEubWV0aG9kLCBkYXRhLmhlYWRlcnMsIHNlcmlhbGl6ZWRCb2R5LCBib2R5VHlwZSk7XG5cbiAgICAvLyDkvb/nlKhtZXNoIGFjdGlvbuiwg+eUqHByb3hpZWRGZXRjaFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbWNwTWVzaC5nZXROb2RlKCd1eHAnKS5hY3Rpb25zLnByb3hpZWRGZXRjaCh7XG4gICAgICAgIHVybDogZGF0YS51cmwsXG4gICAgICAgIG1ldGhvZDogZGF0YS5tZXRob2QgfHwgJ0dFVCcsXG4gICAgICAgIGhlYWRlcnM6IGRhdGEuaGVhZGVycyB8fCB7fSxcbiAgICAgICAgYm9keTogc2VyaWFsaXplZEJvZHksXG4gICAgICAgIGJvZHlUeXBlOiBib2R5VHlwZSxcbiAgICB9KTtcblxuICAgIC8vIGxvZygncHJveGllZEZldGNoIHJlc3BvbnNlJywgcmVzcG9uc2UpO1xuXG4gICAgaWYgKCFyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXNwb25zZS5lcnJvciB8fCAnRmV0Y2ggcmVxdWVzdCBmYWlsZWQnKTtcbiAgICB9XG5cbiAgICAvLyDov5Tlm57nsbvkvLxmZXRjaOeahFJlc3BvbnNl5a+56LGhXG4gICAgcmV0dXJuIHtcbiAgICAgICAgb2s6IHJlc3BvbnNlLnN0YXR1cyEgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyEgPCAzMDAsXG4gICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzISxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVzcG9uc2Uuc3RhdHVzVGV4dCEsXG4gICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlLmhlYWRlcnMhLFxuICAgICAgICBkYXRhOiByZXNwb25zZS5kYXRhLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlc3BvbnNlLmRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgfSxcbiAgICAgICAgdGV4dDogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByZXNwb25zZS5kYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuY29uc3QgcHJveGllZERvbWFpbnM6IHN0cmluZ1tdID0gW1xuXVxuXG4vLyDovazmjaJIZWFkZXJzSW5pdOS4ulJlY29yZDxzdHJpbmcsIHN0cmluZz5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUhlYWRlcnMoaGVhZGVyczogSGVhZGVyc0luaXQgfCB1bmRlZmluZWQpOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcbiAgICBpZiAoIWhlYWRlcnMpIHJldHVybiB7fTtcblxuICAgIGlmICh0eXBlb2YgaGVhZGVycyA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoaGVhZGVycykpIHtcbiAgICAgICAgLy8gSGVhZGVyc+WvueixoeaIluaZrumAmuWvueixoVxuICAgICAgICBjb25zdCByZXN1bHQ6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICAgICAgaWYgKGhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG4gICAgICAgICAgICBoZWFkZXJzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyDmma7pgJrlr7nosaFcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGhlYWRlcnMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGlmIChBcnJheS5pc0FycmF5KGhlYWRlcnMpKSB7XG4gICAgICAgIC8vIOaVsOe7hOW9ouW8jyBba2V5LCB2YWx1ZV1bXVxuICAgICAgICBjb25zdCByZXN1bHQ6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICAgICAgaGVhZGVycy5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHJldHVybiB7fTtcbn1cblxuLy8g5qOA5p+lVVJM5piv5ZCm5Yy56YWN5Luj55CG5Z+f5ZCNXG5mdW5jdGlvbiBzaG91bGRQcm94eSh1cmw6IHN0cmluZyB8IFVSTCB8IFJlcXVlc3QpOiBib29sZWFuIHtcbiAgICBsZXQgdXJsU3RyaW5nOiBzdHJpbmc7XG5cbiAgICBpZiAodHlwZW9mIHVybCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdXJsU3RyaW5nID0gdXJsO1xuICAgIH0gZWxzZSBpZiAodXJsIGluc3RhbmNlb2YgVVJMKSB7XG4gICAgICAgIHVybFN0cmluZyA9IHVybC50b1N0cmluZygpO1xuICAgIH0gZWxzZSBpZiAodXJsIGluc3RhbmNlb2YgUmVxdWVzdCkge1xuICAgICAgICB1cmxTdHJpbmcgPSB1cmwudXJsO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCB1cmxPYmogPSBuZXcgVVJMKHVybFN0cmluZyk7XG4gICAgICAgIHJldHVybiBwcm94aWVkRG9tYWlucy5zb21lKGRvbWFpbiA9PiB7XG4gICAgICAgICAgICAvLyDnsr7noa7ljLnphY3ln5/lkI3miJblrZDln5/lkI1cbiAgICAgICAgICAgIHJldHVybiB1cmxPYmouaG9zdG5hbWUuaW5jbHVkZXMoZG9tYWluKTtcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICAgIC8vIOWmguaenFVSTOino+aekOWksei0pe+8jOS9v+eUqOeugOWNleeahOWtl+espuS4suWMuemFjVxuICAgICAgICByZXR1cm4gcHJveGllZERvbWFpbnMuc29tZShkb21haW4gPT4gdXJsU3RyaW5nLmluY2x1ZGVzKGRvbWFpbikpO1xuICAgIH1cbn1cblxuLy8g5Yib5bu65YW85a6555qEUmVzcG9uc2Xlr7nosaFcbmZ1bmN0aW9uIGNyZWF0ZUNvbXBhdGlibGVSZXNwb25zZShyZXNwb25zZTogYW55KTogYW55IHtcbiAgICAvLyDliJvlu7rkuIDkuKrnsbvkvLxSZXNwb25zZeeahOWvueixoe+8jOWMheWQq+aJgOacieW/heimgeeahOaWueazleWSjOWxnuaAp1xuICAgIGNvbnN0IHJlc3BvbnNlT2JqID0ge1xuICAgICAgICBvazogcmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDAsXG4gICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyhyZXNwb25zZS5oZWFkZXJzIHx8IHt9KSxcbiAgICAgICAgZGF0YTogcmVzcG9uc2UuZGF0YSxcblxuICAgICAgICAvLyDlrp7njrDmiYDmnIlSZXNwb25zZeaWueazlVxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlc3BvbnNlLmRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgfSxcblxuICAgICAgICB0ZXh0OiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlc3BvbnNlLmRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYmxvYjogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyDlpoLmnpxkYXRh5piv5a2X56ym5Liy77yM6L2s5o2i5Li6YmxvYlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBCbG9iKFt0eXBlb2YgcmVzcG9uc2UuZGF0YSA9PT0gJ3N0cmluZycgPyByZXNwb25zZS5kYXRhIDogSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSldKTtcbiAgICAgICAgfSxcblxuICAgICAgICBhcnJheUJ1ZmZlcjogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdGV4dCA9IHR5cGVvZiByZXNwb25zZS5kYXRhID09PSAnc3RyaW5nJyA/IHJlc3BvbnNlLmRhdGEgOiBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodGV4dCkuYnVmZmVyO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZvcm1EYXRhOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Zvcm1EYXRhIHBhcnNpbmcgbm90IGltcGxlbWVudGVkIGluIHByb3h5IHJlc3BvbnNlJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xvbmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDb21wYXRpYmxlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIOa3u+WKoOWFtuS7llJlc3BvbnNl5bGe5oCnXG4gICAgICAgIHR5cGU6ICdkZWZhdWx0JyxcbiAgICAgICAgdXJsOiAnJywgLy8g6L+Z6YeM5Y+v5Lul6K6+572u5a6e6ZmF55qEVVJMXG4gICAgICAgIHJlZGlyZWN0ZWQ6IGZhbHNlLFxuICAgICAgICBib2R5OiBudWxsLFxuICAgICAgICBib2R5VXNlZDogZmFsc2UsXG4gICAgfTtcblxuICAgIHJldHVybiByZXNwb25zZU9iajtcbn1cblxuLy8g5L+d5a2Y5Y6f5aeL55qEZmV0Y2jlh73mlbBcbmNvbnN0IG9yaWdpbmFsRmV0Y2ggPSBnbG9iYWxUaGlzLmZldGNoO1xuXG4vLyDph43lhplmZXRjaOWHveaVsO+8jOaUr+aMgeaJgOaciWZldGNo55So5rOVXG47IChnbG9iYWxUaGlzIGFzIGFueSkuZmV0Y2ggPSBmdW5jdGlvbiAoXG4gICAgaW5wdXQ6IFJlcXVlc3RJbmZvIHwgVVJMLFxuICAgIGluaXQ/OiBSZXF1ZXN0SW5pdFxuKTogUHJvbWlzZTxSZXNwb25zZT4ge1xuICAgIC8vIOWkhOeQhuS4jeWQjOeahOi+k+WFpeexu+Wei1xuICAgIGxldCB1cmw6IHN0cmluZztcbiAgICBsZXQgb3B0aW9uczogUmVxdWVzdEluaXQgPSB7fTtcblxuICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHVybCA9IGlucHV0O1xuICAgICAgICBvcHRpb25zID0gaW5pdCB8fCB7fTtcbiAgICB9IGVsc2UgaWYgKGlucHV0IGluc3RhbmNlb2YgVVJMKSB7XG4gICAgICAgIHVybCA9IGlucHV0LnRvU3RyaW5nKCk7XG4gICAgICAgIG9wdGlvbnMgPSBpbml0IHx8IHt9O1xuICAgIH0gZWxzZSBpZiAoaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG4gICAgICAgIHVybCA9IGlucHV0LnVybDtcbiAgICAgICAgLy8g5ZCI5bm2UmVxdWVzdOWSjGluaXTpgInpoblcbiAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIG1ldGhvZDogaW5wdXQubWV0aG9kLFxuICAgICAgICAgICAgaGVhZGVyczogaW5wdXQuaGVhZGVycyxcbiAgICAgICAgICAgIGJvZHk6IGlucHV0LmJvZHksXG4gICAgICAgICAgICBtb2RlOiBpbnB1dC5tb2RlLFxuICAgICAgICAgICAgY3JlZGVudGlhbHM6IGlucHV0LmNyZWRlbnRpYWxzLFxuICAgICAgICAgICAgY2FjaGU6IGlucHV0LmNhY2hlLFxuICAgICAgICAgICAgcmVkaXJlY3Q6IGlucHV0LnJlZGlyZWN0LFxuICAgICAgICAgICAgcmVmZXJyZXI6IGlucHV0LnJlZmVycmVyLFxuICAgICAgICAgICAgcmVmZXJyZXJQb2xpY3k6IGlucHV0LnJlZmVycmVyUG9saWN5LFxuICAgICAgICAgICAgaW50ZWdyaXR5OiBpbnB1dC5pbnRlZ3JpdHksXG4gICAgICAgICAgICBrZWVwYWxpdmU6IGlucHV0LmtlZXBhbGl2ZSxcbiAgICAgICAgICAgIHNpZ25hbDogaW5wdXQuc2lnbmFsLFxuICAgICAgICAgICAgLi4uaW5pdFxuICAgICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIOWmguaenOi+k+WFpeexu+Wei+S4jeaUr+aMge+8jOS9v+eUqOWOn+Wni2ZldGNoXG4gICAgICAgIHJldHVybiBvcmlnaW5hbEZldGNoKGlucHV0LCBpbml0KTtcbiAgICB9XG5cbiAgICBpZiAoc2hvdWxkUHJveHkodXJsKSkge1xuICAgICAgICAvLyDnoa7lrppib2R5VHlwZVxuICAgICAgICBsZXQgYm9keVR5cGU6ICdqc29uJyB8ICdmb3JtRGF0YScgfCAndGV4dCcgPSAnanNvbic7XG4gICAgICAgIGlmIChvcHRpb25zLmJvZHkgaW5zdGFuY2VvZiBGb3JtRGF0YSkge1xuICAgICAgICAgICAgYm9keVR5cGUgPSAnZm9ybURhdGEnO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBib2R5VHlwZSA9ICd0ZXh0JztcbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmJvZHkgaW5zdGFuY2VvZiBCbG9iIHx8IG9wdGlvbnMuYm9keSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgICBib2R5VHlwZSA9ICd0ZXh0JzsgLy8g5a+55LqO5LqM6L+b5Yi25pWw5o2u77yM5L2/55SodGV4dOexu+Wei1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHByb3hpZWRGZXRjaCh7XG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICBtZXRob2Q6IG9wdGlvbnMubWV0aG9kIHx8ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczogbm9ybWFsaXplSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpLFxuICAgICAgICAgICAgYm9keTogb3B0aW9ucy5ib2R5LFxuICAgICAgICAgICAgYm9keVR5cGU6IGJvZHlUeXBlLFxuICAgICAgICB9KS50aGVuKGNyZWF0ZUNvbXBhdGlibGVSZXNwb25zZSk7XG4gICAgfVxuXG4gICAgLy8g5a+55LqO5LiN6ZyA6KaB5Luj55CG55qE6K+35rGC77yM5L2/55So5Y6f5aeLZmV0Y2hcbiAgICByZXR1cm4gb3JpZ2luYWxGZXRjaChpbnB1dCwgaW5pdCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlclByb3h5RG9tYWlucyhkb21haW5zOiBzdHJpbmcpIHtcbiAgICBwcm94aWVkRG9tYWlucy5wdXNoKGRvbWFpbnMpO1xufVxuIiwiaW1wb3J0IHR5cGUgeyBKU09OUlBDTWVzc2FnZSB9IGZyb20gXCJAbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL3R5cGVzLmpzXCI7XG5cbmV4cG9ydCB0eXBlIFBvc3RNZXNzYWdlVHJhbnNwb3J0TWVzc2FnZVR5cGUgPSB7XG4gICAgY2hhbm5lbDogJ3NkcHBwJztcbiAgICBwb3N0ZXJJZGVudGlmaWVyOiBzdHJpbmc7XG4gICAgcGF5bG9hZDogSlNPTlJQQ01lc3NhZ2U7XG59IHwge1xuICAgIGNoYW5uZWw6ICdzZHBwcC1oZWFydGJlYXQnO1xuICAgIHBvc3RlcklkZW50aWZpZXI6IHN0cmluZztcbiAgICB0eXBlOiAncGluZycgfCAncG9uZyc7XG4gICAgdGltZXN0YW1wOiBudW1iZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBIZWFydGJlYXRUaW1lb3V0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IocG9zdGVySWRlbnRpZmllcjogc3RyaW5nLCB0aW1lb3V0OiBudW1iZXIpIHtcbiAgICAgICAgc3VwZXIoYEhlYXJ0YmVhdCB0aW1lb3V0IGZvciBwb3N0ZXIgJHtwb3N0ZXJJZGVudGlmaWVyfSBhZnRlciAke3RpbWVvdXR9bXNgKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0hlYXJ0YmVhdFRpbWVvdXRFcnJvcic7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBvc3RNZXNzYWdlVHJhbnNwb3J0T3B0aW9uczxMSVNURU5FUj4ge1xuICAgIHBvc3RlcklkZW50aWZpZXI6IHN0cmluZztcbiAgICBtZXNzYWdlUG9zdGVyOiAobWVzc2FnZToge1xuICAgICAgICBjaGFubmVsOiBzdHJpbmc7XG4gICAgICAgIHBvc3RlcklkZW50aWZpZXI6IHN0cmluZztcbiAgICAgICAgcGF5bG9hZD86IEpTT05SUENNZXNzYWdlO1xuICAgICAgICB0eXBlPzogJ3BpbmcnIHwgJ3BvbmcnO1xuICAgICAgICB0aW1lc3RhbXA/OiBudW1iZXI7XG4gICAgfSkgPT4gdm9pZDtcbiAgICBhZGRNZXNzYWdlRXZlbnRMaXN0ZW5lcjogKG9yaWdpbkxpc3RlbmVyOiAocGF5bG9hZDogUG9zdE1lc3NhZ2VUcmFuc3BvcnRNZXNzYWdlVHlwZSkgPT4gdm9pZCkgPT4gTElTVEVORVI7XG4gICAgcmVtb3ZlTWVzc2FnZUV2ZW50TGlzdGVuZXI6IChsaXN0ZW5lcjogTElTVEVORVIpID0+IHZvaWQ7XG4gICAgaGVhcnRiZWF0SW50ZXJ2YWw/OiBudW1iZXI7IC8vIG1pbGxpc2Vjb25kcywgZGVmYXVsdCAxNTAwMFxuICAgIGhlYXJ0YmVhdFRpbWVvdXQ/OiBudW1iZXI7IC8vIG1pbGxpc2Vjb25kcywgZGVmYXVsdCA1MDAwXG4gICAgZGVidWdEaXNhYmxlSGVhcnRiZWF0UmVzcG9uc2U/OiBib29sZWFuOyAvLyBkaXNhYmxlIHBvbmcgcmVzcG9uc2VzIGZvciB0ZXN0aW5nXG59IiwiaW1wb3J0IHR5cGUgeyBBdXRoSW5mbyB9IGZyb20gXCJAbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL3NlcnZlci9hdXRoL3R5cGVzLmpzXCI7XG5pbXBvcnQgdHlwZSB7IFRyYW5zcG9ydCB9IGZyb20gXCJAbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL3NoYXJlZC90cmFuc3BvcnQuanNcIjtcbmltcG9ydCB0eXBlIHsgVHJhbnNwb3J0U2VuZE9wdGlvbnMgfSBmcm9tIFwiQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay9zaGFyZWQvdHJhbnNwb3J0LmpzXCI7XG5pbXBvcnQgdHlwZSB7IEpTT05SUENNZXNzYWdlIH0gZnJvbSBcIkBtb2RlbGNvbnRleHRwcm90b2NvbC9zZGsvdHlwZXMuanNcIjtcbmltcG9ydCB7IFBvc3RNZXNzYWdlVHJhbnNwb3J0TWVzc2FnZVR5cGUsIFBvc3RNZXNzYWdlVHJhbnNwb3J0T3B0aW9ucywgSGVhcnRiZWF0VGltZW91dEVycm9yIH0gZnJvbSBcIi4vc2NoZW1hXCI7XG5cbmNvbnN0IHNlcnZlclRyYW5zcG9ydE1hcCA9IG5ldyBNYXA8c3RyaW5nLCBQb3N0TWVzc2FnZVNlcnZlclRyYW5zcG9ydDxhbnk+PigpO1xuXG5jbGFzcyBQb3N0TWVzc2FnZVNlcnZlclRyYW5zcG9ydDxMSVNURU5FUj4gaW1wbGVtZW50cyBUcmFuc3BvcnQge1xuICAgIG9ubWVzc2FnZT86IChtZXNzYWdlOiBKU09OUlBDTWVzc2FnZSwgZXh0cmE/OiB7XG4gICAgICAgIGF1dGhJbmZvPzogQXV0aEluZm87XG4gICAgfSkgPT4gdm9pZDtcbiAgICBvbmVycm9yPzogKGVycm9yOiBFcnJvcikgPT4gdm9pZDtcblxuICAgIHByaXZhdGUgcG9zdGVySWRlbnRpZmllcjogc3RyaW5nO1xuICAgIHByaXZhdGUgbWVzc2FnZVBvc3RlcjogUG9zdE1lc3NhZ2VUcmFuc3BvcnRPcHRpb25zPExJU1RFTkVSPlsnbWVzc2FnZVBvc3RlciddO1xuICAgIHByaXZhdGUgYWRkTWVzc2FnZUV2ZW50TGlzdGVuZXI6IFBvc3RNZXNzYWdlVHJhbnNwb3J0T3B0aW9uczxMSVNURU5FUj5bJ2FkZE1lc3NhZ2VFdmVudExpc3RlbmVyJ107XG4gICAgcHJpdmF0ZSByZW1vdmVNZXNzYWdlRXZlbnRMaXN0ZW5lcjogUG9zdE1lc3NhZ2VUcmFuc3BvcnRPcHRpb25zPExJU1RFTkVSPlsncmVtb3ZlTWVzc2FnZUV2ZW50TGlzdGVuZXInXTtcbiAgICBwcml2YXRlIG1lc3NhZ2VRdWV1ZTogSlNPTlJQQ01lc3NhZ2VbXSA9IFtdO1xuICAgIFxuICAgIHByaXZhdGUgaGVhcnRiZWF0SW50ZXJ2YWw6IG51bWJlcjtcbiAgICBwcml2YXRlIGhlYXJ0YmVhdFRpbWVvdXQ6IG51bWJlcjtcbiAgICBwcml2YXRlIGhlYXJ0YmVhdFRpbWVyPzogTm9kZUpTLlRpbWVvdXQ7XG4gICAgcHJpdmF0ZSBoZWFydGJlYXRUaW1lb3V0VGltZXI/OiBOb2RlSlMuVGltZW91dDtcbiAgICBwcml2YXRlIGxhc3RQb25nUmVjZWl2ZWQ6IG51bWJlciA9IERhdGUubm93KCk7XG4gICAgcHJpdmF0ZSBkZWJ1Z0Rpc2FibGVIZWFydGJlYXRSZXNwb25zZTogYm9vbGVhbjtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBQb3N0TWVzc2FnZVRyYW5zcG9ydE9wdGlvbnM8TElTVEVORVI+KSB7XG4gICAgICAgIGlmIChzZXJ2ZXJUcmFuc3BvcnRNYXAuaGFzKG9wdGlvbnMucG9zdGVySWRlbnRpZmllcikpIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZUcmFuc3BvcnQgPSBzZXJ2ZXJUcmFuc3BvcnRNYXAuZ2V0KG9wdGlvbnMucG9zdGVySWRlbnRpZmllcik7XG4gICAgICAgICAgICBpZiAocHJldlRyYW5zcG9ydCkge1xuICAgICAgICAgICAgICAgIHByZXZUcmFuc3BvcnQuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvc3RlcklkZW50aWZpZXIgPSBvcHRpb25zLnBvc3RlcklkZW50aWZpZXI7XG4gICAgICAgIHRoaXMubWVzc2FnZVBvc3RlciA9IG9wdGlvbnMubWVzc2FnZVBvc3RlcjtcbiAgICAgICAgdGhpcy5hZGRNZXNzYWdlRXZlbnRMaXN0ZW5lciA9IG9wdGlvbnMuYWRkTWVzc2FnZUV2ZW50TGlzdGVuZXI7XG4gICAgICAgIHRoaXMucmVtb3ZlTWVzc2FnZUV2ZW50TGlzdGVuZXIgPSBvcHRpb25zLnJlbW92ZU1lc3NhZ2VFdmVudExpc3RlbmVyO1xuICAgICAgICB0aGlzLmhlYXJ0YmVhdEludGVydmFsID0gb3B0aW9ucy5oZWFydGJlYXRJbnRlcnZhbCA/PyAxMjAwMDA7XG4gICAgICAgIHRoaXMuaGVhcnRiZWF0VGltZW91dCA9IG9wdGlvbnMuaGVhcnRiZWF0VGltZW91dCA/PyAzMDAwMDtcbiAgICAgICAgdGhpcy5kZWJ1Z0Rpc2FibGVIZWFydGJlYXRSZXNwb25zZSA9IG9wdGlvbnMuZGVidWdEaXNhYmxlSGVhcnRiZWF0UmVzcG9uc2UgPz8gZmFsc2U7XG4gICAgICAgIHNlcnZlclRyYW5zcG9ydE1hcC5zZXQodGhpcy5wb3N0ZXJJZGVudGlmaWVyLCB0aGlzKTtcblxuICAgICAgICB0aGlzLmxpc3Rlbk1lc3NhZ2VDYWxsYmFjayA9IHRoaXMubGlzdGVuTWVzc2FnZUNhbGxiYWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZXh0ZXJuYWxMaXN0ZW5NZXNzYWdlQ2FsbGJhY2sgPSB0aGlzLmFkZE1lc3NhZ2VFdmVudExpc3RlbmVyKHRoaXMubGlzdGVuTWVzc2FnZUNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGV4dGVybmFsTGlzdGVuTWVzc2FnZUNhbGxiYWNrOiBMSVNURU5FUjtcbiAgICBwcml2YXRlIGxpc3Rlbk1lc3NhZ2VDYWxsYmFjayhtZXNzYWdlOiBQb3N0TWVzc2FnZVRyYW5zcG9ydE1lc3NhZ2VUeXBlKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnBvc3RlcklkZW50aWZpZXIgIT09IHRoaXMucG9zdGVySWRlbnRpZmllcikgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgaWYgKG1lc3NhZ2UuY2hhbm5lbCA9PT0gJ3NkcHBwLWhlYXJ0YmVhdCcpIHtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT09ICdwaW5nJyAmJiAhdGhpcy5kZWJ1Z0Rpc2FibGVIZWFydGJlYXRSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZVBvc3Rlcih7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWw6ICdzZHBwcC1oZWFydGJlYXQnLFxuICAgICAgICAgICAgICAgICAgICBwb3N0ZXJJZGVudGlmaWVyOiB0aGlzLnBvc3RlcklkZW50aWZpZXIsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdwb25nJyxcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBtZXNzYWdlLnRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSAncG9uZycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RQb25nUmVjZWl2ZWQgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhlYXJ0YmVhdFRpbWVvdXRUaW1lcikge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5oZWFydGJlYXRUaW1lb3V0VGltZXIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlYXJ0YmVhdFRpbWVvdXRUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChtZXNzYWdlLmNoYW5uZWwgIT09ICdzZHBwcCcpIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMub25tZXNzYWdlICYmICdwYXlsb2FkJyBpbiBtZXNzYWdlKSB7XG4gICAgICAgICAgICB0aGlzLm9ubWVzc2FnZShtZXNzYWdlLnBheWxvYWQpO1xuICAgICAgICB9IGVsc2UgaWYgKCdwYXlsb2FkJyBpbiBtZXNzYWdlKSB7XG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VRdWV1ZS5wdXNoKG1lc3NhZ2UucGF5bG9hZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgc3RhcnQoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHdoaWxlICh0aGlzLm1lc3NhZ2VRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBxdWV1ZWRNZXNzYWdlID0gdGhpcy5tZXNzYWdlUXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIGlmIChxdWV1ZWRNZXNzYWdlICYmIHRoaXMub25tZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbm1lc3NhZ2UocXVldWVkTWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGFydEhlYXJ0YmVhdCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhcnRIZWFydGJlYXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaGVhcnRiZWF0VGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlUG9zdGVyKHtcbiAgICAgICAgICAgICAgICBjaGFubmVsOiAnc2RwcHAtaGVhcnRiZWF0JyxcbiAgICAgICAgICAgICAgICBwb3N0ZXJJZGVudGlmaWVyOiB0aGlzLnBvc3RlcklkZW50aWZpZXIsXG4gICAgICAgICAgICAgICAgdHlwZTogJ3BpbmcnLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbm93LFxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuaGVhcnRiZWF0VGltZW91dFRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgSGVhcnRiZWF0VGltZW91dEVycm9yKHRoaXMucG9zdGVySWRlbnRpZmllciwgdGhpcy5oZWFydGJlYXRUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vbmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25lcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgdGhpcy5oZWFydGJlYXRUaW1lb3V0KTtcbiAgICAgICAgfSwgdGhpcy5oZWFydGJlYXRJbnRlcnZhbCk7XG4gICAgfVxuICAgIGFzeW5jIHNlbmQobWVzc2FnZTogSlNPTlJQQ01lc3NhZ2UsIG9wdGlvbnM/OiBUcmFuc3BvcnRTZW5kT3B0aW9ucyk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLm1lc3NhZ2VQb3N0ZXIoe1xuICAgICAgICAgICAgY2hhbm5lbDogJ3NkcHBwJyxcbiAgICAgICAgICAgIHBvc3RlcklkZW50aWZpZXI6IHRoaXMucG9zdGVySWRlbnRpZmllcixcbiAgICAgICAgICAgIHBheWxvYWQ6IG1lc3NhZ2UsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBjbG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgaWYgKHRoaXMuaGVhcnRiZWF0VGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5oZWFydGJlYXRUaW1lcik7XG4gICAgICAgICAgICB0aGlzLmhlYXJ0YmVhdFRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhlYXJ0YmVhdFRpbWVvdXRUaW1lcikge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaGVhcnRiZWF0VGltZW91dFRpbWVyKTtcbiAgICAgICAgICAgIHRoaXMuaGVhcnRiZWF0VGltZW91dFRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHNlcnZlclRyYW5zcG9ydE1hcC5kZWxldGUodGhpcy5wb3N0ZXJJZGVudGlmaWVyKTtcbiAgICAgICAgdGhpcy5yZW1vdmVNZXNzYWdlRXZlbnRMaXN0ZW5lcih0aGlzLmV4dGVybmFsTGlzdGVuTWVzc2FnZUNhbGxiYWNrKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IFBvc3RNZXNzYWdlU2VydmVyVHJhbnNwb3J0IH07IiwiaW1wb3J0IHsgbWNwTWVzaCB9IGZyb20gJy4vbWVzaCc7XG5pbXBvcnQgJy4vbGliL2tleSc7XG5pbXBvcnQgeyByZWdpc3RlclByb3h5RG9tYWlucyB9IGZyb20gJy4vbGliL2ZldGNoLXByb3h5JztcbmltcG9ydCB7IFNEUFBQU2VydmVyIH0gZnJvbSBcIkBzZHBwcC9tY3AtbWVzaFwiO1xuaW1wb3J0IHsgUG9zdE1lc3NhZ2VTZXJ2ZXJUcmFuc3BvcnQgfSBmcm9tIFwiQHNkcHBwL21jcC1wb3N0bWVzc2FnZS10cmFuc3BvcnRcIjtcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5cbmNvbnN0IGxvZyA9IGxvZ2dlci5leHRlbmQoJ21lc2gnKTtcblxuYXN5bmMgZnVuY3Rpb24gY29ubmVjdFNESygpIHtcbiAgICByZXR1cm4gYXdhaXQgbWNwTWVzaC5jb25uZWN0KCd1eHAnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zcG9ydCA9IG5ldyBQb3N0TWVzc2FnZVNlcnZlclRyYW5zcG9ydCh7XG4gICAgICAgICAgICBwb3N0ZXJJZGVudGlmaWVyOiAnc2RrLXV4cCcsXG4gICAgICAgICAgICBtZXNzYWdlUG9zdGVyOiAobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgICh3aW5kb3cgYXMgYW55KS51eHBIb3N0LnBvc3RNZXNzYWdlKG1lc3NhZ2UsICcqJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWRkTWVzc2FnZUV2ZW50TGlzdGVuZXI6IChvcmlnaW5MaXN0ZW5lcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVyID0gKHBheWxvYWQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW5MaXN0ZW5lcihwYXlsb2FkLmRhdGEpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpc3RlbmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZU1lc3NhZ2VFdmVudExpc3RlbmVyOiAobGlzdGVuZXIpID0+IHtcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGxpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdHJhbnNwb3J0Lm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGxvZygnc2RrIHNpZGUgdHJhbnNwb3J0Lm9uZXJyb3InLCBlcnJvcik7XG4gICAgICAgICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ0hlYXJ0YmVhdFRpbWVvdXRFcnJvcicpIHtcbiAgICAgICAgICAgICAgICB0cmFuc3BvcnQuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzZXJ2ZXIgPSBuZXcgU0RQUFBTZXJ2ZXIoe1xuICAgICAgICAgICAgbmFtZTogJ3Nkay1tYWluJyxcbiAgICAgICAgICAgIHZlcnNpb246ICcxLjAuMCdcbiAgICAgICAgfSk7XG4gXG4gICAgICAgIGNvbnNvbGUubG9nKCdTREtDb25uZWN0IHN0YXJ0JylcbiAgICAgICAgc2VydmVyLmNvbm5lY3QodHJhbnNwb3J0KTtcbiAgICAgICAgbWNwTWVzaC5tb3VudFRvKHNlcnZlcik7XG4gICAgICAgICh3aW5kb3cgYXMgYW55KS51eHBIb3N0LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIGNoYW5uZWw6ICdtY3AtbWVzaC1yb3V0ZXInLFxuICAgICAgICAgICAgbWVzaE5hbWU6ICdzZGsnLFxuICAgICAgICAgICAgYWN0aW9uOiAnY29ubmVjdCdcbiAgICAgICAgfSwgJyonKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1NES0Nvbm5lY3QgZW5kJylcblxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIHNlcnZlci5zZXJ2ZXIub25pbml0aWFsaXplZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXJ2ZXIuc2VydmVyLm9uaW5pdGlhbGl6ZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHNlcnZlcjtcbiAgICB9KTtcbn1cblxuZXhwb3J0IHsgbWNwTWVzaCwgY29ubmVjdFNESywgcmVnaXN0ZXJQcm94eURvbWFpbnMgfTsiLCJcbmltcG9ydCB7ICBtY3BNZXNoIH0gZnJvbSBcIi4vbWVzaFwiO1xuaW1wb3J0IHsgY29ubmVjdFNESywgcmVnaXN0ZXJQcm94eURvbWFpbnMgfSBmcm9tIFwiLi9tZXNoXCI7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tIFwiLi9sb2dnZXJcIjtcblxuZXhwb3J0IGNvbnN0IHNkcHBwU0RLID0ge1xuICAgIGFzeW5jIGluaXQoKSB7ICBcbiAgICAgICAgYXdhaXQgY29ubmVjdFNESygpO1xuICAgICAgICBsb2dnZXIoJ2NsaWVudCBjb25uZWN0ZWQnKVxuICAgIH0sXG4gICAgbG9nZ2VyLFxuICAgIHN0b3Jlczoge1xuICAgICAgICBQaG90b3Nob3BTdG9yZTogbWNwTWVzaC5nZXROb2RlKCd1eHAnKS5zdG9yZSxcbiAgICAgICAgV2Vidmlld1N0b3JlOiBtY3BNZXNoLnN0b3JlLCBcbiAgICAgICAgQ29tZnlTdG9yZTogbWNwTWVzaC5nZXROb2RlKCdjb21meScpLnN0b3JlXG4gICAgfSxcbiAgICBwbHVnaW5zOiB7XG4gICAgICAgIENvbWZ5Q2FsbGVyOiBtY3BNZXNoLmdldE5vZGUoJ2NvbWZ5JykuYWN0aW9ucyxcbiAgICAgICAgcGhvdG9zaG9wOiBtY3BNZXNoLmdldE5vZGUoJ3V4cCcpLmFjdGlvbnMsXG4gICAgICAgIGZldGNoUHJveHk6IHtcbiAgICAgICAgICAgIHJlZ2lzdGVyUHJveHlEb21haW5zOiByZWdpc3RlclByb3h5RG9tYWlucyxcbiAgICAgICAgfSxcblxuICAgICAgICBzZHBwcFg6IE9iamVjdC5jcmVhdGUoe30sIHtcbiAgICAgICAgICAgIGJyb2FkY2FzdDoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiAobmFtZSwgcGF5bG9hZCk9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgbWNwTWVzaC5icm9hZGNhc3QobmFtZSwgcGF5bG9hZClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgICAgICAgICB9IFxuICAgICAgICB9KSBhcyBhbnlcbiAgICB9XG59XG5nbG9iYWxUaGlzLnNkcHBwU0RLID0gc2RwcHBTREs7XG5cbiJdLCJuYW1lcyI6WyJ1dGlsIiwiaXRlbXMiLCJvYmplY3RVdGlsIiwiZGF0YSIsImRlZmF1bHRFcnJvck1hcCIsImVycm9yVXRpbCIsImVycm9yTWFwIiwiZGVzY3JpcHRpb24iLCJjdHgiLCJyZXN1bHQiLCJpbmRleCIsImlzc3VlcyIsInR5cGUiLCJlbGVtZW50cyIsInByb2Nlc3NlZCIsIlpvZEZpcnN0UGFydHlUeXBlS2luZCIsInouYW55Iiwiei5vYmplY3QiLCJ6LmxpdGVyYWwiLCJ6LnN0cmluZyIsIm5vZGVJZCIsInoudW5pb24iLCJ6Lm51bWJlciIsInpcbiAgICAub2JqZWN0Iiwiei5vcHRpb25hbCIsIkVycm9yQ29kZSIsInoudW5rbm93biIsInpcbiAgICAgICAgLm9iamVjdCIsInouYm9vbGVhbiIsInouYXJyYXkiLCJ6LnJlY29yZCIsInouZW51bSIsInouZGlzY3JpbWluYXRlZFVuaW9uIiwielxuICAgICAgICAgICAgLm9iamVjdCIsIl9hIiwiX2IiLCJqc29ucnBjTm90aWZpY2F0aW9uIiwidGhpcyIsImV4cG9ydHMiLCJIRVhESUckJCIsIlBDVF9FTkNPREVEJCIsIlVOUkVTRVJWRUQkJCIsInVjczJlbmNvZGUiLCJiYXNpY1RvRGlnaXQiLCJkaWdpdFRvQmFzaWMiLCJhZGFwdCIsImRlY29kZSIsImVuY29kZSIsInRvVW5pY29kZSIsInRvQVNDSUkiLCJkZWNvZGVVbnJlc2VydmVkIiwiYmFzZSIsInBhcnNlIiwic2VyaWFsaXplIiwidWNzMmxlbmd0aCIsInJlcXVpcmUkJDAiLCJyZXF1aXJlJCQxIiwiT0siLCJydWxlcyIsImpzb25TY2hlbWFUcmF2ZXJzZU1vZHVsZSIsInJlcXVpcmUkJDIiLCJyZXF1aXJlJCQzIiwicmVxdWlyZSQkNCIsInJlZiIsInNlZW4iLCIkaWQiLCIkc2NoZW1hIiwiJHJ1bGVzR3JvdXAiLCIkcnVsZSIsInJlcXVpcmUkJDUiLCJ2YWxpZGF0ZSIsImxvY2FsUmVmcyIsImJhc2VJZCIsInYiLCJyZWZWYWwiLCJzY2hlbWEiLCJrZXl3b3JkIiwiY29tcGlsZSIsImNhY2hlTW9kdWxlIiwiQ2FjaGUiLCJVUkwiLCIkc2NoIiwicHJvcGVydGllcyIsInJlcXVpcmVkIiwicmVxdWlyZSQkNiIsInJlcXVpcmUkJDciLCJyZXF1aXJlJCQ4IiwicmVxdWlyZSQkOSIsInJlcXVpcmUkJDEwIiwicmVxdWlyZSQkMTEiLCJyZXF1aXJlJCQxMiIsInJlcXVpcmUkJDEzIiwicmVxdWlyZSQkMTQiLCJyZXF1aXJlJCQxNSIsInJlcXVpcmUkJDE2IiwicmVxdWlyZSQkMTciLCJyZXF1aXJlJCQxOCIsInJlcXVpcmUkJDE5IiwicmVxdWlyZSQkMjAiLCJyZXF1aXJlJCQyMSIsInJlcXVpcmUkJDIyIiwicmVxdWlyZSQkMjMiLCJkYXRhVHlwZSIsImRlZmluaXRpb24iLCJpIiwiQWp2IiwiZm9ybWF0IiwibG9nZ2VyIiwiYWp2IiwiaXNWYWxpZCIsIm1zIiwiZGVidWciLCJtY3BNZXNoIl0sIm1hcHBpbmdzIjoiOzs7OztFQUVPLE1BQU0scUJBQXFCO0FBQUEsSUFHaEMsWUFBWSxZQUE2QjtBQUZqQztBQUdOLFdBQUssYUFBYTtBQUNaLFlBQUEsYUFBYSxLQUFLLFNBQVM7QUFDN0IsVUFBQSxDQUFDLFdBQVcsT0FBTztBQUNmLGNBQUEsSUFBSSxNQUFNLDZCQUE2QixXQUFXLE9BQU8sS0FBSyxJQUFJLENBQUMsRUFBRTtBQUFBLE1BQUE7QUFBQSxJQUM3RTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBTU0sV0FBNkI7QUFDbkMsWUFBTSxTQUFtQixDQUFDO0FBR3RCLFVBQUEsQ0FBQyxLQUFLLFdBQVcsU0FBUyxPQUFP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S0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFPLEdBQUcsU0FBUyxPQUFPO0FBQUEsSUFDbEU7QUFBQSxJQUNJLElBQUksUUFBUTtBQUNSLGFBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFPLEdBQUcsU0FBUyxLQUFLO0FBQUEsSUFDaEU7QUFBQSxJQUNJLElBQUksVUFBVTtBQUNWLGFBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFPLEdBQUcsU0FBUyxPQUFPO0FBQUEsSUFDbEU7QUFBQSxJQUNJLElBQUksU0FBUztBQUNULGFBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFPLEdBQUcsU0FBUyxNQUFNO0FBQUEsSUFDakU7QUFBQSxJQUNJLElBQUksV0FBVztBQUNYLGFBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFPLEdBQUcsU0FBUyxRQUFRO0FBQUEsSUFDbkU7QUFBQSxJQUNJLElBQUksU0FBUztBQUNULGFBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFPLEdBQUcsU0FBUyxNQUFNO0FBQUEsSUFDakU7QUFBQSxJQUNJLElBQUksVUFBVTtBQUNWLGFBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFPLEdBQUcsU0FBUyxPQUFPO0FBQUEsSUFDbEU7QUFBQSxJQUNJLElBQUksU0FBUztBQUNULGFBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFPLEdBQUcsU0FBUyxNQUFNO0FBQUEsSUFDakU7QUFBQSxJQUNJLElBQUksT0FBTztBQUNQLGFBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFPLEdBQUcsU0FBUyxJQUFJO0FBQUEsSUFDL0Q7QUFBQSxJQUNJLElBQUksU0FBUztBQUNULGFBQU8sQ0FBQyxDQUFDLEtBQUssS0FBSyxPQUFPLEtBQUssQ0FBQyxPQUFPLEdBQUcsU0FBUyxN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VCxvQkFBUSxLQUFLLHVJQUF1STtBQUFBLFVBQUE7QUFBQSxRQUV0SjtBQUFBLE1BQ0QsR0FBRztBQU1ILGNBQWlCLFNBQUE7QUFBQSxRQUNoQjtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLE1BQ0Q7QUFXQSxlQUFTLFlBQVk7QUFJaEIsWUFBQSxPQUFPLFdBQVcsZUFBZSxPQUFPLFlBQVksT0FBTyxR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TSxXQUFXO0FBQ2pCLGFBQU8sa0JBQWtCO0FBQUEsSUFDN0I7QUFBQSxJQUNBO0FBQUEsSUFDQSxRQUFRO0FBQUEsTUFDSixnQkFBZ0IsUUFBUSxRQUFRLEtBQUssRUFBRTtBQUFBLE1BQ3ZDLGNBQWMsUUFBUTtBQUFBLE1BQ3RCLFlBQVksUUFBUSxRQUFRLE9BQU8sRUFBRTtBQUFBLElBQ3pDO0FBQUEsSUFDQSxTQUFTO0FBQUEsTUFDTCxhQUFhLFFBQVEsUUFBUSxPQUFPLEVBQUU7QUFBQSxNQUN0QyxXQUFXLFFBQVEsUUFBUSxLQUFLLEVBQUU7QUFBQSxNQUNsQyxZQUFZO0FBQUEsUUFDUjtBQUFBLE1BQ0o7QUFBQSxNQUVBLFFBQVEsT0FBTyxPQUFPLElBQUk7QUFBQSxRQUN0QixXQUFXO0FBQUEsVUFDUCxPQUFPLENBQUMsTUFBTSxZQUFXO0FBRWIsb0JBQUEsVUFBVSxNQUFNLE9BQU87QUFBQSxVQUNuQztBQUFBLFVBQ0EsWUFBWTtBQUFBLFFBQUE7QUFBQSxNQUVuQixDQUFBO0FBQUEsSUFBQTtBQUFBLEVBRVQ7QUFDQSxhQUFXLFdBQVc7OyIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlsxLDIsMyw0LDUsNiw3LDgsMTksMjAsMjEsMjIsMjMsMjQsMjUsMjYsMjcsMjgsMjksMzAsMzEsMzIsMzMsMzQsMzUsMzYsMzcsMzgsMzksNDAsNDEsNDIsNDMsNDQsNDUsNDYsNDcsNDgsNDksNTAsNTEsNTIsNTMsNTQsNTUsNTYsNTcsNTgsNTksNjAsNjEsNjIsNjMsNjQsNjUsODUsODYsODddfQ==

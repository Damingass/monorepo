# 多张图片预览功能

## 功能概述

现在插件支持两种预览模式：
1. **单张预览模式** - 传统的单张图片预览，支持左右切换
2. **多张预览模式** - 网格布局显示所有图片，支持批量选择和操作

## 新增功能

### 1. 预览模式切换
- 在预览界面右上角添加了模式切换按钮
- 单张模式：显示网格图标，点击切换到多张模式
- 多张模式：显示列表图标，点击切换到单张模式

### 2. 多张图片网格布局
- 响应式网格布局，自动适应不同屏幕尺寸
- 每张图片显示为正方形缩略图
- 支持图片和视频预览
- 显示图片序号和加载状态

### 3. 图片选择功能
- 每张图片左上角显示复选框
- 支持单选和多选
- 选中的图片会有蓝色边框高亮
- 支持全选和清除选择

### 4. 批量操作
- **批量发送到PS**：选中图片后可以批量导入到Photoshop
- **批量删除**：选中图片后可以批量删除
- **批量保存**：保存所有图片到本地

### 5. 交互优化
- 在多张模式下点击图片可以切换到单张模式查看该图片
- 保持原有的键盘快捷键支持
- 保持原有的自动同步功能

## 使用方法

### 切换到多张预览模式
1. 打开图片预览界面
2. 点击右上角的网格图标（AppstoreOutlined）
3. 界面将切换到网格布局显示所有图片

### 选择图片
1. 在多张预览模式下，鼠标悬停在图片上
2. 点击左上角的复选框选择图片
3. 可以多选多张图片

### 批量操作
1. 选择需要操作的图片
2. 底部会显示批量操作按钮：
   - 删除按钮（红色）
   - 发送到PS按钮（蓝色）
3. 点击相应按钮执行批量操作

### 切换回单张模式
1. 点击右上角的列表图标（UnorderedListOutlined）
2. 或者直接点击任意图片缩略图

## 技术实现

### 状态管理
- 在 `MainStore` 中添加了 `previewMode` 状态
- 添加了 `selectedImages` 来跟踪选中的图片索引
- 支持状态持久化

### 组件结构
- `ImagePreviewWrapper` - 主容器组件，处理模式切换和批量操作
- `MultiImagePreview` - 多张图片网格组件
- `ImagePreview` - 原有的单张图片预览组件

### 样式设计
- 使用 CSS Grid 实现响应式布局
- 支持不同屏幕尺寸的自适应
- 保持与原有设计风格一致

## 兼容性

- 完全向后兼容，不影响现有功能
- 保持所有原有的快捷键和操作方式
- 支持图片和视频文件
- 支持加载状态和错误处理

## 未来扩展

可以考虑添加的功能：
- 拖拽排序
- 图片分组
- 缩略图大小调整
- 更多批量操作选项
